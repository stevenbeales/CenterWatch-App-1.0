function PRECOMPUTEDUX_ca3fc5e77df74fdab7ea57dc3f913f9f_FindByCondition(go) { 
var jsout = [
'A5.u.element.setContent(\'{UXPRERENDEROUTPUTDIV}\',\'<style type="text/css">\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRow { position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRow:before { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid orange;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_newRow {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_newRow:before { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid blue;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_hasError {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_hasError:after { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\tbottom: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid red;\\n\\tborder-bottom-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-top-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRow {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRow:before { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid purple;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited { position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid orange;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRowInherited { position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRowInherited:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid purple;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_newRowInherited {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_newRowInherited:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid blue;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorInherited {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorInherited:after { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\tbottom: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid red;\\n\\tborder-bottom-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-top-color: transparent;\\nopacity: .3;\\n}\\n.parentDeleted { \\n\\tposition:relative;\\n}\\n.parentIsDeleted .parentDeleted:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid purple;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n</style>\\n<style>\\n</style><iframe style="display:none;" id="{UXPRERENDEREDALIAS}.__IFRAME1"></iframe>\\n<input type="hidden" value="" id="{UXPRERENDEREDALIAS}.PARAMETERBUCKET"/>\\n<input type="file" style="position:absolute; top:-1000px;visibility:hidden;" accept="image/*" id="{UXPRERENDEREDALIAS}._GETPHOTO"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" multiple = "" id="{UXPRERENDEREDALIAS}._GETFILEMULTI"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" id="{UXPRERENDEREDALIAS}._GETFILE"/><input type="hidden" id="{UXPRERENDEREDALIAS}.V.R1.LIST_CONDITIONS" name="V.R1.LIST_CONDITIONS" />\\n<input type="hidden" id="{UXPRERENDEREDALIAS}.V.R1.LIST_TRIALS" name="V.R1.LIST_TRIALS" />\\n<input id="{UXPRERENDEREDALIAS}.V.R1.SLIDER_AGE_RANGE" name="V.R1.SLIDER_AGE_RANGE" type="hidden"/>\\n<input id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_GENDER" name="V.R1.BUTTON_LIST_GENDER" type="hidden"/>\\n<input id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_STUDY_STATUS" name="V.R1.BUTTON_LIST_STUDY_STATUS" type="hidden"/>\\n<input id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_STUDY_TYPE" name="V.R1.BUTTON_LIST_STUDY_TYPE" type="hidden"/>\\n<input id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_PHASE" name="V.R1.BUTTON_LIST_PHASE" type="hidden"/>\\n<div \\tid="{UXPRERENDEREDALIAS}.V.R1.WINDOW_REFINE"   \\n\\t\\t\\tclass=""  style="; display: none;"  >\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.SITE" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.SITE"    value=""    />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.TREATMENT" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.TREATMENT"    value=""    />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.SLIDER_AGE_RANGE" for="{UXPRERENDEREDALIAS}.V.R1.SLIDER_AGE_RANGE" title="" class="iOS7DialogLabel" style="display:block;">Age</label>\\n\\n\\t<input id="{UXPRERENDEREDALIAS}.V.R1.SLIDER_AGE_RANGE" name="V.R1.SLIDER_AGE_RANGE" type="hidden"/>\\n\\n<div id="{UXPRERENDEREDALIAS}.V.R1.SLIDER_AGE_RANGE.CONTROL"  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; "></div>\\n\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: " >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.STATICTEXT_0" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >0</div>\\n</div>\\n<div class="A5CWLayout" style="width: " >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.STATICTEXT_85" title=""  class="" style="border-width: 0px; padding: 0px; margin: 0px; position: absolute; right: 2px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >85+</div>\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: " >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.BUTTON_LIST_GENDER" for="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_GENDER" title="" class="iOS7DialogLabel" style="display:block;">Gender</label>\\n\\n\\t<input id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_GENDER" name="V.R1.BUTTON_LIST_GENDER" type="hidden"/>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_GENDER.CONTROL"  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ; white-space:nowrap;"></div>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: " >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.BUTTON_LIST_STUDY_STATUS" for="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_STUDY_STATUS" title="" class="iOS7DialogLabel" style="display:block;">Status</label>\\n\\n\\t<input id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_STUDY_STATUS" name="V.R1.BUTTON_LIST_STUDY_STATUS" type="hidden"/>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_STUDY_STATUS.CONTROL"  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ; white-space:nowrap;"></div>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.BUTTON_LIST_STUDY_TYPE" for="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_STUDY_TYPE" title="" class="iOS7DialogLabel" style="display:block;">Study Type</label>\\n\\n\\t<input id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_STUDY_TYPE" name="V.R1.BUTTON_LIST_STUDY_TYPE" type="hidden"/>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_STUDY_TYPE.CONTROL"  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ; white-space:nowrap;"></div>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.BUTTON_LIST_PHASE" for="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_PHASE" title="" class="iOS7DialogLabel" style="display:block;">Trial Phase</label>\\n\\n\\t<input id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_PHASE" name="V.R1.BUTTON_LIST_PHASE" type="hidden"/>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_PHASE.CONTROL"  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ; white-space:nowrap;"></div>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.INVESTIGATOR" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.INVESTIGATOR"    value=""    />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 2in" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.SPONSOR" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.SPONSOR"    value=""    />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_APPLY"    ></button>\\n</div>\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_CANCEL"    ></button>\\n</div>\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n\\n\\n<div \\tid="{UXPRERENDEREDALIAS}.V.R1.WINDOW_MAP"   \\n\\t\\t\\tclass=""  style="; display: none;"  >\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.MAP_TRIALS.CONTROL"  style="width: 100%; height: 6in; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; "></div>\\n\\n</div>\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n\\n\\n\');',
'',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {',
'\t{UXPRERENDEREDALIAS}_DlgObj._destroy();',
'\ttry {',
'\t\tdelete {UXPRERENDEREDALIAS}_DlgObj;',
'\t} catch(e) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj = undefined;',
'\t}',
'};',
';if(typeof {UXPRERENDEREDALIAS}_PanelObj != \'undefined\') {',
'\tvar ele = $({UXPRERENDEREDALIAS}_PanelObj.getPanelId());',
'\tif(ele) {',
'\t\tif(ele.parentNode) ele.parentNode.removeChild(ele);',
'\t}',
'\tdelete {UXPRERENDEREDALIAS}_PanelObj;',
'}',
';window[\'{UXPRERENDEREDALIAS}_PanelObj\'] = new A5.PanelNavigator([',
'{',
'\tname: \'PANELCARD_CONDITION\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n\\n<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CONDITIONSEARCH"   \\n\\t\\t\\tclass="A5CWLayout "  style="margin-bottom: 0px; width: 100%; "  >\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.LIST_CONDITIONS_KEYWORDSEARCH" title=""  autocapitalize="off"  autocorrect="off"     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"  onkeyup="{UXPRERENDEREDALIAS}_DlgObj.getControl(\\\'LIST_CONDITIONS\\\').searchList({searchMode : \\\'auto\\\'});"   name="V.R1.LIST_CONDITIONS_KEYWORDSEARCH"    value=""    />\\n\\n</div>\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CONDITIONSEARCH.BREAK"  style="clear:both; " /><div  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CONDITIONSEARCH.BREAK"  style="height:0px; font: 0pt;"></div>\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t\\n<div  class="iOS7List"   style="padding:0px; border: 0px; "  >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.LIST_CONDITIONS.CONTROL"  class="{UXPRERENDEREDALIAS}_LIST_CONDITIONS" style="overflow: auto; width: 100%; "></div>\\n</div>\\n\\n</div>\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'both\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: false,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: false,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS_CONDITION"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK1"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CENTER_CONDITION"    \\t\\t\\tclass="A5CWLayout "  style=""  > <div style="display: table; margin: auto;"> <div class="A5CWLayout" style="width: " > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.STATICTEXT_CONDITIONS" title=""  class="iOS7Heading" style="text-shadow: 2px 2px #ccc; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >Conditions</div> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.RIGHT_BUTTONS_CONDITION"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; right: 2px; "  > <div style="float: right;"> <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_REFINE"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> </div><div style="display:none;"></div>\',',
'\t\tshow: true,',
'\t\tstyle: \'height: 40px; min-height: 40px; \'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tonSize: function() {;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {var mObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_CONDITIONS\'); if(mObj) mObj.refresh();}}',
'})',
'},',
'{',
'\tname: \'PANELCARD_TRIALLIST\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div class="A5CWLayout" style="width: 100%" >\\n\\t\\n<div  class="iOS7List"   style="padding:0px; margin:0 px; border: 0px; padding: 0px; "  >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.LIST_TRIALS.CONTROL"  class="{UXPRERENDEREDALIAS}_LIST_TRIALS" style="overflow: auto; width: 100%; "></div>\\n</div>\\n\\n</div>\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'y\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS_TRIALS"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACKTRIALS"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CENTER_TRIALS"    \\t\\t\\tclass="A5CWLayout "  style=""  > <div style="display: table; margin: auto;"> <div class="A5CWLayout" style="width: " > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.TEXT_CONDITION" title=""  class="iOS7Heading" style="text-shadow: 2px 2px #ccc; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >Trials</div> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.RIGHT_BUTTONS_TRIALS"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; right: 2px; "  > <div style="float: right;"> <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_MAP"    ></button> </div><br  style="clear:both; " /> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.WINDOW_MAP"    \\t\\t\\tclass=""  style="; display: none;"  > <div class="A5CWLayout" style="width: 100%" > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.MAP_TRIALS.CONTROL"  style="width: 100%; height: 6in; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; "></div>  </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> </div><div style="display:none;"></div>\',',
'\t\tshow: true,',
'\t\tstyle: \'height: 40px; min-height: 40px; \'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tonSize: function() {;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {var mObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\'); if(mObj) mObj.refresh();}}',
'})',
'},',
'{',
'\tname: \'PANELCARD_TRIALDETAILS\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_QUALIFY_DETAILS"   \\n\\t\\t\\tclass="A5CWLayout "  style="width: 100%; "  >\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_QUALIFY"    ></button>\\n</div>\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS"    ></button>\\n</div><br  style="clear:both; " />\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_QUALIFY_DETAILS.BREAK"  style="clear:both; " /><div  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_QUALIFY_DETAILS.BREAK"  style="height:10px; font: 0pt;"></div>\\n<div style="width:100%;" class="A5CWLayout iOS7TabT" id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES">\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.TABBAND" class="iOS7TabTBand">\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.0.TAB" class="" href="#">Overview</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.1.TAB" class="" href="#">Eligibility</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.2.TAB" class="" href="#">More Info</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.3.TAB" class="" href="#">Contact</a>\\n\\t<br style="clear: both;" />\\n\\t</div>\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.PANES" class="iOS7TabTPanes">\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.0.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_OVERVIEW" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.1.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_ELIGIBILITY" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.2.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_MOREINFO" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.3.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_CONTACT" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n</div>\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: "  id="{UXPRERENDEREDALIAS}.V.R1.LISTCLINICALTRIALS_GLOBALERRORS" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><br  style="clear:both; " />\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: false',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS_TRIALDETAILS"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CENTER_TRIALS1"    \\t\\t\\tclass="A5CWLayout "  style=""  > <div style="display: table; margin: auto;"> <div class="A5CWLayout" style="width: " > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.TEXT_DETAILS" title=""  class="iOS7Heading" style="text-shadow: 2px 2px #ccc; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >Details</div> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> </div><div style="display:none;"></div>\',',
'\t\tshow: true,',
'\t\tstyle: \'height: 40px; min-height: 40px; \'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t}',
'})',
'},',
'{',
'\tname: \'PANEL_SCREENER\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div class="A5CWLayout">\\n\\t<td valign="top"><div><a class="iOS7NavigatorLink" id="f4d801e3-5494-4197-9494-8304891db18e_CLOSEBUTTON" href="#" onclick="$(\\\'{UXPRERENDEREDALIAS}_DIVCONTAINER_f4d801e3_5494_4197_9494_8304891db18e\\\').innerHTML = \\\'\\\'; $(\\\'f4d801e3-5494-4197-9494-8304891db18e_CLOSEBUTTON\\\').style.display = \\\'none\\\';" style="display:none;">Close</a></div><div id="{UXPRERENDEREDALIAS}_DIVCONTAINER_f4d801e3_5494_4197_9494_8304891db18e"></div></td>\\n</div><br  style="clear:both; " />\\n\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: false',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:none;"></div>\'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t}',
'})',
'}',
'],{',
'\ttype: \'programmatic\',',
'\tflow: \'ltr\',',
'\tloopNavigate: false,',
'\tonPanelActivate: function() {if(this.state.activePanel == \'PANELCARD_TRIALLIST\') {  setTimeout(function() { {UXPRERENDEREDALIAS}_DlgObj._initialListRender(\'LIST_TRIALS\');},5);    }',
'var panelName = this.state.activePanel;',
'if(panelName == \'PANEL_SCREENER\') {',
'\t{UXPRERENDEREDALIAS}_DlgObj._functions.runAction_f4d801e3_5494_4197_9494_8304891db18e();;',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.refreshClientSideComputations();},',
'\tonPanelActivateComplete: function() {if(this.state.activePanel == \'PANEL_SCREENER\') { ',
'\tvar pChild = {UXPRERENDEREDALIAS}_DlgObj.getChildObject(\'<DEFAULTALIAS>\',\'UX\');',
'\tif(pChild) pChild._executeEvent(\'onPanelActivate\');',
'};},',
'\tonSize: function() {;if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule != \'undefined\') { ',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
'\t}',
'}},',
'\tonCreate: function() {if(this.state.activePanel == \'PANELCARD_TRIALLIST\') {  setTimeout(function() { {UXPRERENDEREDALIAS}_DlgObj._initialListRender(\'LIST_TRIALS\');},5);    }},',
'\ttheme: \'iOS7\',',
'\theader: {',
'\t\tshow: false',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tcontrols: {',
'\t\tprev: {',
'\t\t\thas: false',
'\t\t},',
'\t\tnext: {',
'\t\t\thas: false',
'\t\t},',
'\t\tback: {',
'\t\t\thas: false',
'\t\t},',
'\t\tforward: {',
'\t\t\thas: false',
'\t\t}',
'\t},',
'\tbody: {',
'\t},',
'\tanimation: {',
'\t\ttype: \'fade\',',
'\t\tduration: 400',
'\t}',
'})',
'var ele = window[\'{UXPRERENDEREDALIAS}_PanelObj\'].create(\'{UXPRERENDEREDALIAS}.R1\');',
'\t\tvar panelRootId = \'{UXPRERENDEROUTPUTDIV}\';',
'\t\tvar flagSizeToParent = true;',
'\t\tvar wf_alias = \'{UXPRERENDEREDALIAS}\';',
'\t\tif(panelRootId != \'\') { ',
'\t\t\tif (!$(panelRootId)) panelRootId = \'\';',
'\t\t}',
'\t\tif(panelRootId != \'\') { ',
'\t\t\t$(panelRootId).appendChild(ele);',
'\t\t\tif(flagSizeToParent) { ',
'\t\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'parent\');',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tdocument.body.insertBefore(ele,document.body.firstChild);',
'\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'window\');',
'\t\t}',
'{UXPRERENDEREDALIAS}_PanelObj._panelPath = {',
'\tPANELCARD_CONDITION: \'PANELCARD_CONDITION\',',
'\tPANELCARD_TRIALLIST: \'PANELCARD_TRIALLIST\',',
'\tPANELCARD_TRIALDETAILS: \'PANELCARD_TRIALDETAILS\',',
'\tPANEL_SCREENER: \'PANEL_SCREENER\'',
'}',
'{UXPRERENDEREDALIAS}_PanelObj._displayNames = {',
'PANELCARD_CONDITION : \'PANELCARD_CONDITION\',PANELCARD_TRIALLIST : \'PANELCARD_TRIALLIST\',PANELCARD_TRIALDETAILS : \'PANELCARD_TRIALDETAILS\',PANEL_SCREENER : \'PANEL_SCREENER\',PANELNAVIGATOR : \'PANELNAVIGATOR\'',
'};',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {UXPRERENDEREDALIAS}_DlgObj._destroy();',
'window[\'{UXPRERENDEREDALIAS}_DlgObj\'] = new A5.DialogComponentHelper(\'{UXPRERENDEREDALIAS}\',{',
'\tajaxURL: \'{UXPRERENDERAJAXURL}\',',
'\t_embeddedMode: false,',
'\t_livePreviewInBuilder: false,',
'\tcomponentGUID: \'45792ffe-6841-40c0-b32d-7f4a8f9e75c7\',',
'\tcolumnInfo: {\'SITE\': {info: {controlType: \'Textbox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'TREATMENT\': {info: {controlType: \'Textbox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'SLIDER_AGE_RANGE\': {info: {controlType: \'Slider\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'N\'  },\'BUTTON_LIST_GENDER\': {info: {controlType: \'ButtonList\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'BUTTON_LIST_STUDY_STATUS\': {info: {controlType: \'ButtonList\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'BUTTON_LIST_STUDY_TYPE\': {info: {controlType: \'ButtonList\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'BUTTON_LIST_PHASE\': {info: {controlType: \'ButtonList\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'INVESTIGATOR\': {info: {controlType: \'Textbox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'SPONSOR\': {info: {controlType: \'Textbox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'LIST_CONDITIONS_KEYWORDSEARCH\': {info: {controlType: \'textbox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'LIST_CONDITIONS\': {info: {controlType: \'List\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'\'  },\'MAP_TRIALS\': {info: {controlType: \'Map\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'LIST_TRIALS\': {info: {controlType: \'List\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  }},',
'\toriginalValues: [{',
'\t\'SLIDER_AGE_RANGE\': \'18\',',
'\t\'SITE\': \'\',',
'\t\'TREATMENT\': \'\',',
'\t\'BUTTON_LIST_GENDER\': \'\',',
'\t\'BUTTON_LIST_STUDY_STATUS\': \'\',',
'\t\'BUTTON_LIST_STUDY_TYPE\': \'\',',
'\t\'BUTTON_LIST_PHASE\': \'\',',
'\t\'INVESTIGATOR\': \'\',',
'\t\'SPONSOR\': \'\',',
'\t\'LIST_CONDITIONS_KEYWORDSEARCH\': \'\',',
'\t\'LIST_CONDITIONS\': \'\',',
'\t\'MAP_TRIALS\': \'\',',
'\t\'LIST_TRIALS\': \'\'',
'}],',
'\tdefaultValues: {',
'\tSLIDER_AGE_RANGE: \'18\',',
'\tSITE: \'\',',
'\tTREATMENT: \'\',',
'\tBUTTON_LIST_GENDER: \'\',',
'\tBUTTON_LIST_STUDY_STATUS: \'\',',
'\tBUTTON_LIST_STUDY_TYPE: \'\',',
'\tBUTTON_LIST_PHASE: \'\',',
'\tINVESTIGATOR: \'\',',
'\tSPONSOR: \'\',',
'\tLIST_CONDITIONS_KEYWORDSEARCH: \'\',',
'\tLIST_CONDITIONS: \'\',',
'\tMAP_TRIALS: \'\',',
'\tLIST_TRIALS: \'\'',
'},',
'\tdatePickerMonthNames: [\'January\',\'February\',\'March\',\'April\',\'May\',\'June\',\'July\',\'August\',\'September\',\'October\',\'November\',\'December\'],',
'\tdatePickerDayNames: [\'Sun\',\'Mon\',\'Tue\',\'Wed\',\'Thu\',\'Fri\',\'Sat\'],',
'\tdatePickerTodayButton: \'Today\',',
'\tdatePickerCloseButton: \'\',',
'\tdatePickerFirstDayOfWeek: 1,',
'\tresetFormMessage: \'Are you sure you want to reset the form?\',',
'\tresetFormTitle: \'Warning\',',
'\tresetFormIcon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\tdirtyFormMessage: \'You must first save your changes or cancel changes by clicking the Reset button.\',',
'\tdirtyFormTitle: \'Notice\',',
'\tdirtyFormIcon: \'cssIcon=iOS7Icon iOS7IconInfo\',',
'\tdeleteRecordDialogTitle: \'Delete Record\',',
'\tdeleteRecordDialogMessage: \'Are you sure you want to delete this record?\',\t',
'\tssDateFormat: \'MM/dd/yyyy\',',
'\tstyleName: \'iOS7\',',
'\t_fieldHelpers_DIALOG2: [],',
'\tparentComponentAlias: \'\'+go._thisGridAlias+\'\',',
'\tsubmitIfHasClientSideErrors: true, ',
'\trowErrors: {',
'\t\t\t\tshowMessageBox: false,',
'\t\t\t\tmessageBoxTitle: \'Error\',',
'\t\t\t\tstyle: \'color: red; width: 6in; height: 2in;\'',
'\t\t},',
'\tfieldErrors: {',
'\t\ttype: \'block\', ',
'\t\tclassName: \'errorText\',',
'\t\tinputClassName: \'iOS7EditError\',',
'\t\tedit: { ',
'\t\t\tcontainer: { className: \'iOS7EditBGError\'}',
'\t\t},',
'\t\ticon: \'cssIcon=iOS7Icon iOS7IconError\',',
'\t\tglobal: {',
'\t\t\tcontId: \'{UXPRERENDEREDALIAS}.GLOBALERRORS\',',
'\t\t\thoverClassName: \'errorTextHighlight\',',
'\t\t\thoverInputClassName: \'errorInputHighlight\'',
'\t\t}',
'\t},',
'\t\tafterPopulateFromTable: function(e) {',
'if ({UXPRERENDEREDALIAS}_DlgObj.showTrialDetails) {',
'\t{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_TRIALDETAILS\', true);',
'\t{UXPRERENDEREDALIAS}_DlgObj.showTrialDetails = false;',
'}',
'\t\t}',
'\t});',
'{UXPRERENDEREDALIAS}_DlgObj._onOrientationChange =  function(e) { ;',
'{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
';  };',
'A5.__componentObj = {UXPRERENDEREDALIAS}_DlgObj;',
'A5.map._fn=\'http://maps.googleapis.com/maps/api/js?key=AIzaSyD8GWVtKDpUf7gW-a3qAojbBGxL3F8o2ng&libraries=geometry&callback=A5.map.init\';',
'{UXPRERENDEREDALIAS}_DlgObj._tabObjects = [\'TAB_PANES\'];',
'{UXPRERENDEREDALIAS}_DlgObj._functions.runAction_f4d801e3_5494_4197_9494_8304891db18e = function() {',
'\t\tvar go = new Object();',
'\t\tgo.dialog2Name = \'Screener\';',
'\tgo.type = \'dialog2\';',
'\tgo.alias = \'{UXPRERENDEREDALIAS}_SCREENER_16635BBUF\';',
'\tgo.workingMessage = \'<img src="loading.gif" />\';',
'\tgo.flagTimer = \'F\';',
'\tgo.flagQueryEcho = \'F\';',
'\tgo.flagDebugMode = \'F\';',
'\tgo.userFilter = \'\';',
'\tgo.baseFilter = \'\';',
'\tgo.userOrder = \'\';',
'\tgo.overrideSettings = \'style_name=`iOS7`\'+\'||\';',
'\tgo.arguments = \'\';',
'\tgo.localArguments = \'whatCondition|Character|RUNTIMEBINDING|Null|Null|\'+{UXPRERENDEREDALIAS}_DlgObj.getValue(\'LIST_CONDITIONS\')+\'\';',
'\tgo.linkDefinition = \'\';',
'\tgo.placeHolderValues = \'\';',
'\tgo.parameterBucket = $gvs(\'{UXPRERENDEREDALIAS}.PARAMETERBUCKET\');',
'\tgo.argumentValueBucket = $gvs(\'{UXPRERENDEREDALIAS}.ARGUMENTVALUES\');',
'\tgo.a5_default_path = \'C_colon_|A5Webroot|livepreview\';',
'\tgo.onLoadCompleteJavascript = \'\';',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.gridId != \'undefined\') go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.gridId;',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.dialogId != \'undefined\') go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.dialogId;',
'\tvar panelCardId = {UXPRERENDEREDALIAS}_DlgObj.panelGetId(\'PANEL_SCREENER\',\'body\');',
'if($(panelCardId + \'.SCROLLWRAPPER\')) panelCardId = panelCardId + \'.SCROLLWRAPPER\';',
'go.dialog2Div = panelCardId;',
'\tA5.component.runGenericComponent(go);',
'}',
'window[\'{UXPRERENDEREDALIAS}.V.R1.TAB_PANESObj\'] = new A5.Tab(\'{UXPRERENDEREDALIAS}.V.R1.TAB_PANES\',[',
'{ \thtml: \'Overview\', \tvalue: \'1\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'Eligibility\', \tvalue: \'2\', \tpaneClassName: \'+tab-pane\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'More Info\', \tvalue: \'3\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'Contact\', \tvalue: \'4\', \tonDynamicLoadDelay: 0, \tshow: true, \tdisabled: false }',
'],',
'\t{',
'\ttheme: \'iOS7\',',
'\tonChange: function() {',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_PANES\');},',
'\tpaneHeight: \'100%\'',
'}',
');',
'\twindow[\'{UXPRERENDEREDALIAS}.V.R1.TAB_PANESObj\'].select(\'1\');',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'SITE\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Site e.g. Johns Hopkins\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'TREATMENT\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Treatment e.g. Chemotherapy\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'INVESTIGATOR\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Investigator\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'SPONSOR\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Sponsor\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'LIST_CONDITIONS_KEYWORDSEARCH\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Search for a condition e.g. Lung Cancer\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.lookups = {',
'};',
'window[\'{UXPRERENDEREDALIAS}_O_B10C9F8A4D6E4F38BC2F82FB8A3A17CA\'] = function(rowNum,rowId,objEle) {',
'var windowName = \'WINDOW_bfe46e12_0bc0_4bfb_b0e7_770e6d49d275\';',
'var currWindow = {UXPRERENDEREDALIAS}_DlgObj.getWindow(windowName);',
'var go = new Object();',
'go.ajaxFailedMessage = \'\';',
'go.ajaxCallbackTimeout = {UXPRERENDEREDALIAS}_DlgObj.ajaxCallbackTimeout;',
'go.objectId = objEle.id;',
'go.dialog2Name = \'SiteMap\';',
'go.type = \'dialog2\';',
'go.alias = \'SITEMAP\';',
'go.submitCurrentFieldValues = true;',
'go.sourceGridPart = \'O\';',
'go.sourceGridRowNumber = \'1\';',
'go.workingMessage = \'<img src=\\\'loading.gif\\\' />\';',
'go.placeholderValues = \'\';',
'go.argumentBinding = \'\';',
'go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.gridId;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj.gridId != \'undefined\') go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.gridId;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj.dialogId != \'undefined\') {',
'\tgo._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.dialogId;',
'}',
'go._thisGridGUID = {UXPRERENDEREDALIAS}_DlgObj.componentGUID;',
'go._gridCurrentFilter = {UXPRERENDEREDALIAS}_DlgObj._gridFilter;',
'go._gridCurrentOrder = {UXPRERENDEREDALIAS}_DlgObj._gridOrder;',
'go._gridCurrentArguments = {UXPRERENDEREDALIAS}_DlgObj._gridArguments;',
'go._gridCurrentDBType = {UXPRERENDEREDALIAS}_DlgObj._gridDBType;',
'go.overrideSettings = \'Style_name = `iOS7`||Style_name = `iOS7`\'+\'||a5SetSessionVar(`var X`, `function() {return {UXPRERENDEREDALIAS}_DlgObj.getValue();}  ()`)\';',
'go.a5_default_path = \'C_colon_|A5Webroot|livepreview\';',
'go.windowName = windowName;',
'go.showWindowParameters = \'\';',
'var runMethod = \'ajax\';',
'if(runMethod == \'ajax\') {',
'go.ajaxFailedMessage = \'\';',
'go.ajaxCallbackTimeout = {UXPRERENDEREDALIAS}_DlgObj.ajaxCallbackTimeout;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj._onlineStatus != \'undefined\') { ',
'\tif({UXPRERENDEREDALIAS}_DlgObj._onlineStatus == \'offline\') { ',
'\t\t( function() {  }() );',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onAjaxCallbackNotAvailable\', {xbasicFunctionName: \'\', ajaxEvent: \'OpenComponent\'})',
'\t\treturn false;',
'\t}',
'}\t\t',
'};',
'if(!currWindow) {',
'\tcurrWindow = {UXPRERENDEREDALIAS}_DlgObj.createWindow(windowName,\'modeless-resizable\',',
'\t{',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'blank\',',
'\t\t\telementId: \'~\'',
'\t\t}',
'\t},',
'\theight: \'5in\',',
'\twidth: \'8in\',',
'\ttitle: {',
'\t\thtml: \'&nbsp;\',',
'\t\tlocation: \'top\',',
'\t\tdirection: \'ltr\',',
'\t\tshow: true',
'\t},',
'\tdisableMove: false,',
'\ttheme: \'iOS7\',',
'\tpointer: {',
'\t\tshow: true,',
'\t\tlocation: \'auto\'',
'\t},',
'\tonBeforeShow: function() {var cs = AUI.u.getVPSize();',
'cs.width = cs.width - 10;',
'cs.height = cs.height - 10;',
'this.setSize(cs.width+\'px\',cs.height+\'px\');',
'this.setPosition(\'center\');},',
'\tanimation: {',
'\t\tshow: {',
'\t\t\ttype: \'fade\',',
'\t\t\tduration: \'slow\'',
'\t\t},',
'\t\thide: {',
'\t\t\ttype: \'none\',',
'\t\t\tduration: \'fast\'',
'\t\t}',
'\t}',
'}',
'\t);\t\t',
'\tgo.dialog2Div  = currWindow.getWindowId(\'body\')+\'_INNERCONTENT\';',
'\tgo.dialog2Div = currWindow.getWindowId(\'body\')+\'_INNERCONTENT\';',
'\tvar arrHTML = [];',
'\tarrHTML.push(\'\');',
'\tarrHTML.push(\'<table style="width:100%;height:100%;">\');',
'\tarrHTML.push(\'<tr><td  align="center"  valign="middle"  >\');',
'\tarrHTML.push(\'<div id="\'+go.dialog2Div+\'"></div>\');',
'\tarrHTML.push(\'</td>\');',
'\tarrHTML.push(\'</tr>\');',
'\tarrHTML.push(\'</table>\');',
'\t$(currWindow.getWindowId(\'body\')).innerHTML = arrHTML.join(\'\\n\');',
'A5.component.runGenericComponent(go)',
'\tcurrWindow.show();',
'} else {',
'\t\tvar ele = \'SITEMAP.GRID_PART.FORM_CONTAINER_DIV\';',
'\tvar pele = $(ele);',
'\tif(pele) pele.innerHTML = \'<img src=\\\'loading.gif\\\' /> \';',
'\tgo.dialog2Div  = currWindow.getWindowId(\'body\')+\'_INNERCONTENT\';',
'\tgo.parentGridId = \'{UXPRERENDEREDALIAS}\';',
'\tA5.component.runGenericComponent(go)',
'\tcurrWindow.show();',
'};',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({',
'\t__dialogGuid: \'abe154fa-6c7a-45bc-93a3-8bb266e54f69\',',
'\targumentsBoundToCotrols: \'whatCondition|Character={LIST_CONDITIONS}\\n\',',
'\t__sgr: \'\',',
'\t__dtfmt: \'MM/dd/yyyy\',',
'\t__tfmt: \'\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControlsChildren = [];',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ \t__args_C_whatCondition: \'\' });',
'A5.msgBox.theme = \'iOS7\';',
'A5.msgBox.buttonWidth = \'1in\';',
'{UXPRERENDEREDALIAS}_DlgObj._defaultWindowTitleDirection = \'ltr\';',
'{UXPRERENDEREDALIAS}_DlgObj._controlContainers = {}',
'{UXPRERENDEREDALIAS}_DlgObj._panelCardControls = {',
'SITE:\'PANELCARD_CONDITION\',',
'TREATMENT:\'PANELCARD_CONDITION\',',
'SLIDER_AGE_RANGE:\'PANELCARD_CONDITION\',',
'BUTTON_LIST_GENDER:\'PANELCARD_CONDITION\',',
'BUTTON_LIST_STUDY_STATUS:\'PANELCARD_CONDITION\',',
'BUTTON_LIST_STUDY_TYPE:\'PANELCARD_CONDITION\',',
'BUTTON_LIST_PHASE:\'PANELCARD_CONDITION\',',
'INVESTIGATOR:\'PANELCARD_CONDITION\',',
'SPONSOR:\'PANELCARD_CONDITION\',',
'LIST_CONDITIONS_KEYWORDSEARCH:\'PANELCARD_CONDITION\',',
'LIST_CONDITIONS:\'PANELCARD_CONDITION\',',
'MAP_TRIALS:\'PANELCARD_TRIALLIST\',',
'LIST_TRIALS:\'PANELCARD_TRIALLIST\'',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._buttons = {};',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK1\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_REFINE\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Refine\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_APPLY\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Apply\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_CANCEL\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Cancel\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACKTRIALS\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_MAP\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Map\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_TRIALDETAILS\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_QUALIFY\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'See if I qualify\',',
'\tonClick: function() { /* actionJavascript:ad58af78-0a4f-48bc-95da-7fe98f7066b3 */',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANEL_SCREENER\',true);',
'},',
'\ttheme: \'iOS7\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_DIRECTIONS\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Directions to Site\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:base\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK1\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK1\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_REFINE\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_REFINE\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_APPLY\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_APPLY\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_CANCEL\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_CANCEL\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACKTRIALS\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACKTRIALS\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_MAP\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_MAP\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_TRIALDETAILS\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_QUALIFY\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_QUALIFY\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_DIRECTIONS\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS\');',
'{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_CONDITIONS\'] = {',
'\t_dataSourceType: \'Static\',',
'\t_listFields: [',
'\t{',
'\t\tname: \'Condition\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Condition\\\');\'',
'\t}',
'],',
'\t_searchPartHas: true,',
'\t_searchPart: {',
'\t\tfieldMap: [',
']',
'\t},',
'\t_searchPartStyle: \'singlekeywordcontrol\',',
'\t_keywordSearchFields: [\'Condition\'],',
'\t_keywordSearchControl: \'LIST_CONDITIONS_KEYWORDSEARCH\',',
'\t_searchFieldOptions: {',
'"CONDITION" : {option: 2,qbf: false,type: \'c\'}',
'},',
'\t_showSearchDebugInfo: false,',
'\t_mediaFields: [],',
'\t_mediaTypes: {',
'},',
'\t_phoneGap: {',
'\t\tmediaFiles: {',
'\t\t\tprotectedRead: false,',
'\t\t\ttarget: \'server\',',
'\t\t\ttargetFilenameFunction: \'return \\\'<DeviceId>_\\\' +e.object.listFieldName + \\\'_\\\' + A5.ts() + \\\'_\\\' +e.name\',',
'\t\t\tshowProgress: false,',
'\t\t\tdownload: {',
'\t\t\t\tautodownloadFilesOnPullSynch: false,',
'\t\t\t\tdeleteOrphansAfterSync: false,',
'\t\t\t\ttargetFolder: \'_AAFiles\',',
'\t\t\t\tshowProgress: false',
'\t\t\t},',
'\t\t\tonErrorFunction: function(array,fileNumber,error) { }',
'\t\t}',
'\t},',
'\t_dvmode: \'enter\',',
'\t_hasDetailView: false,',
'\ttheme: \'iOS7\',',
'\tscroll: {',
'\t\taxis: \'y\',',
'\t\tindicator: {',
'\t\t\tshow: true,',
'\t\t\th: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\tleft: \'0px\',',
'\t\t\t\tright: \'0px\'',
'\t\t\t},',
'\t\t\tv: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\ttop: \'0px\',',
'\t\t\t\tbottom: \'0px\'',
'\t\t\t}',
'\t\t},',
'\t\tmomentum: {',
'\t\t\tallow: true',
'\t\t},',
'\t\tpull: {',
'\t\t\ty: \'auto\',',
'\t\t\tx: \'auto\'',
'\t\t}',
'\t},',
'\tlayout: \'Default\',',
'\tcalculateValue: function(data) {  {var _val = \'\' +A5RemoveHTMLWrapper(data.Condition); if((_val == \'\' ||  _val == \'undefined\'  )&& typeof data[\'*rowGUID\'] != \'undefined\') _val = \'_temporaryValue_\' + data[\'*rowGUID\']; return _val;}},',
'\tlistVariableName: \'LIST_CONDITIONS\',',
'\tlistVariableNameTrueCase: \'LIST_CONDITIONS\',',
'\t_hostComponentId: \'{UXPRERENDEREDALIAS}\',',
'\t_includeCRC: false,',
'\tallParentLists: [],',
'\t__flagPersist: false,',
'\tonBeforeUpdateRow: function(index,data){;},',
'\tonUpdateRow: function(index,data){;},',
'\tonBeforeAddRows: function(data,info){;},',
'\tonAddRows: function(data,info){;},',
'\tonBeforeRemoveRows: function(rows){;},',
'\tonRemoveRows: function(rows){;},',
'\tonListDraw: function(data,startIndex) {var id = this.contId +\'.NORECORDSINLIST\';',
'var e = $(this.contId + \'.CONTENT\');',
'if(data.length == 0) {',
'\tvar e = $(this.contId + \'.CONTENT\');',
'\tvar eleHeight = ($(this.contId + \'.CONTENTWRAPPER\').offsetHeight /2 ) -12;',
'\te.innerHTML = \'<div id="\'+id +\'" style="text-align: center;padding-top: \' + eleHeight + \'px;">Search for a condition</div>\';',
'} else {\t',
'\tvar ele = $(id);',
'\tif(ele) {',
'\t\te.removeChild(ele);',
'\t}',
'}',
'if(A5.flags.isMobile) $e.add(this.contId+\'.CONTENT\',\'abstractdown\',function(e) {$e.preventDefault(e);});},',
'\tchildLists: [],',
'\tchildListEndpoints: [\'LIST_CONDITIONS\'],',
'\t_populateAllChildLists: function() { },',
'\tonSelect: function() {{UXPRERENDEREDALIAS}_DlgObj._listRowSelect(\'LIST_CONDITIONS\',this);',
';',
'this._selectedRow = this.selection[0];},',
'\tonClick: function() {',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'G\',\'1:all\',\'populateList\',\'\',\'\',{deviceOfflineFunction: function() {   }});',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_TRIALLIST\', true);',
'{UXPRERENDEREDALIAS}_DlgObj.setValue(\'CONTAINER_CENTER_TRIALS:TEXT_CONDITION\',',
'  CWApp.abbreviate(this.selectionData[0].Condition, 23, \'...\'));',
'{UXPRERENDEREDALIAS}_DlgObj._listSystemOnClick(\'LIST_CONDITIONS\',this.selection[0]);},',
'\tlayouts: {',
'\t\tDefault: {',
'\t\t\ttype: \'template\',',
'\t\t\titem: {',
'\t\t\t},',
'\t\t\ttemplate: [',
'\t\t\t\t\'<b>{Condition}</b>\'\t\t\t',
']',
'\t\t}',
'\t},',
'\tcontent: {',
'\t\theader: {',
'\t\t\tshow: false',
'\t\t},',
'\t\tfooter: {',
'\t\t\tshow: false',
'\t\t}',
'\t},',
'\tsystemEvents: {',
'\t\tonTap: function(e) {},',
'\t\tafterAjaxCallback: function(e) {},',
'\t\tafterClientSideFilter: function(e) {},',
'\t\tbeforeServerSideSort: function(e) {},',
'\t\tafterServerSideSort: function(e) {},',
'\t\tonSwipe: function(e) {},',
'\t\tonScroll: function(e) {},',
'\t\tonPullRelease: function(e) {},',
'\t\tonPull: function(e) {},',
'\t\tonPullEnd: function(e) {},',
'\t\tafterSearchComplete: function(e) {},',
'\t\tbeforeSearch: function(e) {},',
'\t\tonSearchResultTooLarge: function(e) {},',
'\t\tonSearchResultTooLargeForLocalStorage: function(e) {},',
'\t\tonBeforePersistToLocalStorage: function(e) {},',
'\t\tonPersistToLocalStorage: function(e) {},',
'\t\tonRestoreFromLocalStorage: function(e) {},',
'\t\tafterRenderComplete: function(e) {},',
'\t\tbeforeFetchMore: function(e) {},',
'\t\tafterFetchMore: function(e) {},',
'\t\tbeforePageNavigate: function(e) {},',
'\t\tafterPageNavigate: function(e) {},',
'\t\tbeforeRefreshRow: function(e) {},',
'\t\tafterRefreshRow: function(e) {},',
'\t\tafterServerSideSummaryCompute: function(summary) {},',
'\t\t_afterAjaxCallback: function() {this._refreshStateMessages();}',
'\t},',
'\t_clientsideSummary: [],',
'\tcomputeClientSideSummaryValues: function(e) {},',
'\t_executeEvent: function(event,obj) { ',
'\treturn {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_CONDITIONS\',event,obj);',
'}',
',',
'\t_selectAll: function() {',
'\tvar v = this._values;',
'\tvar v2 = [].concat(v);',
'\tthis.setValue(v2,false);',
'}',
',',
'\tsearchList: function() { ',
'\tif(this._searchPartStyle == \'querybyform\') { ',
'\t\tif(this._dvmode != \'search\') return false;',
'\t}',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse {',
'\t\t\tif(this._dataSourceType.toLowerCase() == \'sql\' || this._dataSourceType.toLowerCase() == \'dbf\') {',
'\t\t\t\tmode = \'serverside\';',
'\t\t\t} else { ',
'\t\t\t\tmode = \'clientside\';',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'search\', searchWhere: mode, listIsDirty: flagDirty});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._searchListServerSide(obj);',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilter();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'search\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_searchListServerSide: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar _d={};',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tif(flagDirty) { ',
'\t\talert(\'Can\\\'t execute server-side search because List has edits that have not yet been synchronized.\');',
'\t\treturn false;',
'\t}',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t_data = _data + \'&\' + A5.ajax.buildURLParam(\'__searchOptions\',JSON.stringify(obj));',
'\tthis.filter = false;',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPart\',\'\',_data);',
'}',
',',
'\tclearSearchList: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse mode = \'serverside\';',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'clear\', searchWhere: mode});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._clearSearchListServerSide();',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilterClear();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'clear\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_clearSearchListServerSide: function() { ',
'\tvar _d={};',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPartClear\',\'\',_data);',
'}',
',',
'\t_str: function(txt) {',
'\ttxt = txt.replace("\'","\\\\\'");',
'\ttxt = \'\\\'\' + txt + \'\\\'\';',
'\treturn txt;',
'}',
',',
'\t_QBF: function(txt) { ',
'\tvar o = {};',
'\to.v2 = \'\';',
'\to.v1 = txt;',
'\to.flag = false;',
'\tif(txt.indexOf(\'>=\') >= 0) {',
'\t\to.op = \'>=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<=\') >= 0 ) { ',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'>\') >= 0 ) {',
'\t\to.op = \'>\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<\') >= 0)  { ',
'\t\to.op = \'<\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') == 0)  {',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if ( txt.indexOf(\'..\', txt.length - \'..\'.length) !== -1 ) { ',
'\t\t//ends with ..',
'\t\to.op = \'>=\';',
'\t\ttxt = txt.split(\'..\')',
'\t\to.v1 = txt[0];',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') > 0 ) {',
'\t\to.op = \'between\'',
'\t\ttxt = txt.split(\'..\');',
'\t\to.v1 = txt[0];',
'\t\to.v2 = txt[1];',
'\t\to.flag = true;',
'\t}',
'\treturn o;',
'}',
',',
'\t_match: function(data,field,val,obj) { ',
'\tvar flagKeyword = false;',
'\tif(typeof obj.flagKeyword != \'undefined\') flagKeyword = obj.flagKeyword;',
'\tif(flagKeyword) { ',
'\t\tvar obj_i = this._searchFieldOptions[field.toUpperCase()];',
'\t\tthis._setSearchOps(obj,obj_i);',
'\t}',
'\tvar _d = \'\';',
'\tvar _v = val;',
'\tvar flagC = false;',
'\tif(obj.type == \'c\') {',
'\t\tflagC = true;',
'\t\tif(!obj.caseSensitive) _v = _v.toLowerCase();',
'\t} else { ',
'\t\t//non mumeric searches are only mode 1 or -1',
'\t\tif(obj.mode > 1) obj.mode = 1;',
'\t\tif(obj.mode < -1) obj.mode = -1;',
'\t}',
'\tvar flag = false;',
'\tobj.usesQBFOperator = false;',
'\tif(obj.qbf) { ',
'\t\t_v = _v.split(\',\');',
'\t} else {',
'\t\t_v = [_v];',
'\t}',
'\tvar o = {}',
'\tvar r = \'\';',
'\tvar _vals = [];',
'\tfor(var i = 0; i < _v.length; i++) { ',
'\t\tif(obj.qbf) {',
'\t\t\to = this._QBF(_v[i]);',
'\t\t} else {',
'\t\t\to.flag = false;',
'\t\t\to.v1 = _v[i];',
'\t\t\to.v2 = \'\';',
'\t\t}',
'\t\tif(typeof data[field] != \'undefined\') {',
'\t\t\tif(data[field] != null) { ',
'\t\t\t\t_d = data[field];',
'\t\t\t\tif(obj.type == \'n\') { ',
'\t\t\t\t\to.v1 = Number(o.v1);',
'\t\t\t\t\to.v2 = Number(o.v2);',
'\t\t\t\t\t_d = Number(_d);',
'\t\t\t\t} else if (obj.type == \'l\') { ',
'\t\t\t\t\to.v1 = $u.s.toBool(o.v1);',
'\t\t\t\t\to.v2 = $u.s.toBool(o.v2);',
'\t\t\t\t\t_d = $u.s.toBool(_d);',
'\t\t\t\t} else if (obj.type == \'d\') { ',
'\t\t\t\t\to.v1 = A5.stringToDate(o.v1,obj.dateFormat);',
'\t\t\t\t\to.v2 = A5.stringToDate(o.v2,obj.dateFormat);',
'\t\t\t\t\tif(typeof _d == \'string\') _d = A5.stringToDate(_d,obj.dateFormat);',
'\t\t\t\t\tif(o.v1 != \'\' && o.v1 != null ) o.v1 = o.v1.getTime();',
'\t\t\t\t\tif(o.v2 != \'\' && o.v2 != null ) o.v2 = o.v2.getTime();',
'\t\t\t\t\tif(_d != \'\' && _d != null ) _d = _d.getTime();',
'\t\t\t\t}',
'\t\t\t\tif(flagC) {if(!obj.caseSensitive && typeof _d == \'string\') _d = _d.toLowerCase();}',
'\t\t\t\tif(o.flag) { ',
'\t\t\t\t\t//has qbf operators',
'\t\t\t\t\tif(o.op == \'between\') {',
'\t\t\t\t\t\tif(flagC) {',
'\t\t\t\t\t\t\tif(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tif(flagC) _d = _d.substr(0,o.v1.length)',
'\t\t\t\t\t\tif(o.op == \'>=\') if( _d >= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<=\') if( _d <= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'>\') if(_d > o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<\') if(_d < o.v1) flag = true;',
'\t\t\t\t\t}',
'\t\t\t\t} else { ',
'\t\t\t\t\tif(obj.mode == 1 || obj.mode == -1 ) {',
'\t\t\t\t\t\tif(obj.mode == 1) if(_d == o.v1) flag = true;; //match',
'\t\t\t\t\t\tif(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match',
'\t\t\t\t\t} else if (obj.mode == 2 || obj.mode == -2) { ',
'\t\t\t\t\t\tif(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains',
'\t\t\t\t\t\tif(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;',
'\t\t\t\t\t} else if (obj.mode == 3 || obj.mode == -3) { ',
'\t\t\t\t\t\tif(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with',
'\t\t\t\t\t\tif(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v1 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v1) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v1);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v2 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v2) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v2);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(flag) { ',
'\t\tif(typeof this._state.highlight == \'undefined\') this._state.highlight = {};',
'\t\tthis._state.highlight[field.toUpperCase()] = _vals;',
'\t} else { ',
'\t\t//this._state.highlight[field.toUpperCase()] = [];',
'\t}',
'\treturn flag;',
'}',
',',
'\t_setSearchOps: function(obj,obj_i) { ',
'\tobj.mode = obj_i.option;',
'\tobj.qbf = obj_i.qbf;',
'\tobj.type = obj_i.type;',
'\t//obj.treatAs = obj_i.treatAs;',
'}',
',',
'\t_searchPartOperator: \'&&\',',
'\t_searchPartSubmit_clientSideFilter: function() { ',
'\tif(!this._searchPartHas) return true;',
'\t//_searchPartStyle: \'individualcontrols\'',
'\tthis._state.highlight = {};',
'\tif(this._searchPartStyle == \'singlekeywordcontrol\') { ',
'\t\tvar searchFor = {UXPRERENDEREDALIAS}_DlgObj.getValue(this._keywordSearchControl);',
'\t\tvar arr = this._keywordSearchFields;',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\t//obj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 1;',
'\t\tobj.flagKeyword = true;',
'\t\tvar objStr = JSON.stringify(obj)',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\texpn_i = \'this._match(data,\' +this._str(arr[i]) + \',\' + this._str(searchFor) + \',\'+objStr+\')\';',
'\t\t\texpn.push(expn_i);',
'\t\t}',
'\t\texpn = expn.join(\'||\');',
'\t\t//alert(expn);',
'\t} else if ( this._searchPartStyle == \'individualcontrols\' || this._searchPartStyle == \'querybyform\'  ) { ',
'\t\tvar map = this._searchPart.fieldMap;',
'\t\tvar val = \'\';',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\tobj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 2;',
'\t\t//var objStr = JSON.stringify(obj)',
'\t\tvar ac = [];',
'\t\tvar aco = {};',
'\t\tvar _highlight = {};',
'\t\tif(this._searchPartStyle == \'individualcontrols\') {',
'\t\t\tfor(var i = 0; i < map.length; i++) { ',
'\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(map[i].control);',
'\t\t\t\tif(val != \'\') {',
'\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(map[i].field) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t} else if (this._searchPartStyle == \'querybyform\' ) { ',
'\t\t\tvar controlName = \'\';',
'\t\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\t\tif(controlName != \'\') {',
'\t\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(controlName);',
'\t\t\t\t\tif(val != \'\') {',
'\t\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(this._listFields[i].name) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t\t\taco.control = controlName;',
'\t\t\t\t\t\taco.value = val;',
'\t\t\t\t\t\tac.push(aco);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis.__queryByFormValues = ac;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\t\t}\t',
'\t\tvar operator = \'&&\';',
'\t\tif(typeof this._searchPartOperator != \'undefined\') operator = this._searchPartOperator;',
'\t\texpn = expn.join(\' \'+operator+\' \');',
'\t} ',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = expn;',
'\t}',
'\t//user did not fill in any search fields',
'\tif(expn == \'\') return true;',
'\tvar fnTxt = \'if(\' + expn + \') {return true;} else { return false;}\'',
'\tvar searchFunction = new Function(\'data\',fnTxt);',
'\tthis.setFilter(searchFunction);',
'\tif(this._rData.length > 0) this.setValue(0);',
'}',
',',
'\t_searchPartSubmit_clientSideFilterClear: function() { ',
'if(!this._searchPartHas) return true;',
'\tthis._state.highlight = {};',
'\tthis.setFilter(false);',
'\tvar map = this._searchPart.fieldMap;',
'\tvar val = \'\';',
'\tvar od = {UXPRERENDEREDALIAS}_DlgObj.originalValues[0];',
'\tfor(var i = 0; i < map.length; i++) {',
'\t\tvar val = od[map[i].control.toUpperCase()];',
'\t\tif(typeof val != \'undefined\') {UXPRERENDEREDALIAS}_DlgObj.setValue(map[i].control,val,false);',
'\t}',
'\tthis.setFilter(false);',
'\tdelete this.__queryByFormValues;',
'\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\tif(this._data.length > 0) this.setValue(0);',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = \'\';',
'\t}',
'}',
',',
'\tdetailViewIsDirty: function() { return false; },',
'\tpopulateUXControls: function() { return true; },',
'\tlistIsDirty: function() { return false; },',
'\tlookupValue: function(key,name,keyValue) {\tvar _d = this._data;',
'\tvar indx = A5FindPropInArray(_d,key,keyValue);',
'\tvar rv = \'\';',
'\tif(indx >=0) {',
'\t\tif(name == \'__rowData__\') return _d[indx];',
'\t\trv =  _d[indx][name];',
'\t} else {',
'\t\t//null out all properties in row',
'\t\tvar _d2 = {};',
'\t\tif(typeof _d[0] == \'undefined\') { return {}} ;',
'\t\tfor(var n in _d[0]) {',
'\t\t\t_d2[n] = \'&nbsp;\';',
'\t\t}',
'\t\trv = _d2;',
'\t}',
'\treturn rv;',
'}',
',',
'\tallowNullSelection: false,',
'\tallowNullDeselection: false,',
'\tloopNavigate: false,',
'\tloopNavigateNullSelection: false,',
'\trefreshChildLists: function() {{UXPRERENDEREDALIAS}_DlgObj._listRefreshCascadingLists(\'LIST_CONDITIONS\'); },',
'\trowExpander: function(rowNumber) { ',
'\tvar mode = typeof arguments[2] != \'undefined\' ? arguments[2] : \'toggle\';',
'\tif(typeof rowNumber == \'undefined\' || rowNumber == \'\' ) {',
'\t\trowNumber = this.selection[0];',
'\t\tif(typeof rowNumber == \'undefined\') return false;',
'\t}',
'\tvar animObj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\tvar ele = $(this._hostComponentId + \'.\' + this.listVariableName + \'.ROWEXPANDER.\' + rowNumber);',
'\tif(ele) {',
'\t\tif(mode == \'toggle\') A5.u.element.toggle(ele,animObj);',
'\t\tif(mode == \'show\') A5.u.element.show(ele,animObj);',
'\t\tif(mode == \'hide\') A5.u.element.hide(ele,animObj);',
'\t}',
'}',
',',
'\tafterClientSideSummaryCompute: function(csSummary) { },',
'\tselectCurrentLayout: function(name) { ',
'var pl = this.layouts[name];',
'if(typeof pl == \'undefined\') return false;',
'this.setLayout(name);',
'if(pl.type == \'column\') {',
'\tthis.columnLayout.header.show = this.layouts[name].showColumnTitles; ',
'\tthis.refresh();',
'}',
'},',
'\tonFilter: function() { \tvar e = {}; ',
'\te.rowCount = this._values.length;  ',
'\tvar ele = $(\'{UXPRERENDEREDALIAS}.__listId__.RECORDCOUNT\'); ',
'\tif(ele) {ele.innerHTML = e.rowCount;}; ',
'\tif(this.persistToStorage) { this.persistToStorage({});} ',
'\t(function(e) {   })(e);',
'}',
',',
'\tserverSideSort: function(column) {',
'var e = {};',
'e.column = column;',
'var result = this.systemEvents.beforeServerSideSort(e);',
'if(result == false) return false;',
'var obj = {};',
'obj.cmd = \'sort\';',
'obj.column = column;',
'obj.layoutName = this.layout;',
'obj.listState = this._state;',
'var data = \'_listId=LIST_CONDITIONS&\' + A5.ajax.buildURLParam(\'_cmdObj\',$u.o.toJSON(obj));',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:listServerSideSort\',\'\',data);',
'},',
'\tfilterListClientSide: function(searchFor) {',
'//var result = this.systemEvents.beforeClientSideFilter();',
'//if(result == false) return false;',
'if(searchFor != \'\') {',
'\t//fixes bug in Chrome when searching on dates strings that use forward slashes',
'\tsearchFor = searchFor.replace(/\\//g,\'\\\\/\');',
'\tthis.setFilter({\'Condition\': RegExp(\'\' + searchFor,\'i\')});',
'} else this.setFilter(false);',
'var rowCount = this._values.length;',
'//var e = {};',
'//e.rowCount = rowCount;',
'//this.systemEvents.afterClientSideFilter(e);',
'var ele = $(\'{UXPRERENDEREDALIAS}.LIST_CONDITIONS.RECORDCOUNT\');',
'if(ele) ele.innerHTML = rowCount;',
'}',
',',
'\tscrollToClosestValue: function(val) { \t',
'\tif(typeof val != \'string\') val = val.join(\'\');',
'\tvar flagCI = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\tvar pos = typeof arguments[2] != \'undefined\' ? arguments[2] : \'top\';',
'\tvar anim = typeof arguments[3] != \'undefined\' ? arguments[3] : {}',
'\tvar _d = this._rData;',
'\tvar len = val.length;',
'\tvar _d2;',
'\tvar i2 = -1;',
'\tif(flagCI) val = val.toLowerCase();',
'\tfor(var i = 0 ; i < _d.length; i++) {',
'\t\ti2 = i;',
'\t\t_d2 = String(_d[i][\'*value\']);',
'\t\t_d2 = _d2.substr(0,len);',
'\t\t_d2 = $u.s.pad(_d2,len,\' \',\'l\');',
'\t\tif(flagCI) _d2 = _d2.toLowerCase();',
'\t\tif(val <= _d2){',
'\t\t\t break;',
'\t\t}',
'\t}',
'\tif(i2 > -1) { ',
'\t\tthis.scrollToItem(i2,{mode: pos, animation: anim});',
'\t}',
'}',
',',
'\t_refreshStateMessages: function() {',
'\tvar ele = \'\';',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_CONDITIONS.PAGENUMBER\');',
'\tif(ele) ele.innerHTML = this._state.page;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_CONDITIONS.PAGECOUNT\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_CONDITIONS.PAGECOUNT.PAGESELECTOR\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;\t',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_CONDITIONS.LISTSTATE\');',
'\tif(ele) {',
'\t\tvar listState = $u.o.toJSON(this._state);',
'\t\tele.innerHTML = listState;',
'\t}',
'\t//navigation buttons\t',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_NEXT.LIST_CONDITIONS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_LAST.LIST_CONDITIONS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_FIRST.LIST_CONDITIONS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_PREV.LIST_CONDITIONS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = $(\'{UXPRERENDEREDALIAS}.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LIST_CONDITIONS\');',
'\tif(ele) {',
'\t\tvar data = this._recordNavigatorLinks;',
'\t\tif(data) A5.form.populateSelect(ele,this._state.page,data,true);',
'\t}',
'}',
',',
'\tview: {',
'\t\ttype: \'dynamic\',',
'\t\tsize: 15,',
'\t\tmaxSize: 0,',
'\t\toffset: 5,',
'\t\tnavigation: {',
'\t\t\tpull: {',
'\t\t\t\tallow: true,',
'\t\t\t\tsize: 15',
'\t\t\t},',
'\t\t\tprev: {',
'\t\t\t\thtml: \'Previous\'',
'\t\t\t},',
'\t\t\tnext: {',
'\t\t\t\thtml: \'Next\'',
'\t\t\t}',
'\t\t}',
'\t},',
'\tscroller: {',
'\t\thas: true,',
'\t\tflow: \'ttb\',',
'\t\tlocation: \'after\',',
'\t\toffset: {',
'\t\t\ttop: \'0px\',',
'\t\t\tbottom: \'0px\',',
'\t\t\tleft: \'0px\',',
'\t\t\tright: \'0px\'',
'\t\t},',
'\t\tslider: {',
'\t\t\thandle: {',
'\t\t\t},',
'\t\t\tshadow: {',
'\t\t\t\tshow: true',
'\t\t\t},',
'\t\t\tmessage: {',
'\t\t\t\tshow: \'auto\',',
'\t\t\t\tlowSwitch: 75,',
'\t\t\t\thighSwitch: 75',
'\t\t\t}',
'\t\t},',
'\t\tdial: {',
'\t\t\tshow: \'drag\',',
'\t\t\tinvertDrag: false,',
'\t\t\tmessage: {',
'\t\t\t},',
'\t\t\tpixelStep: 4,',
'\t\t\tsize: 2',
'\t\t},',
'\t\tshow: true',
'\t},',
'\t_getRoute: function() { ',
'\tvar obj  = typeof arguments[1] != \'undefined\' ? arguments[1] : [];',
'\tvar mode = typeof arguments[0] != \'undefined\' ? arguments[0] : \'rowNumber\'; //',
'\tif(typeof this.selection[0] == \'undefined\') return false;',
'\tif(typeof this.getData(this.selection[0]) == \'undefined\') return false;',
'\tif(mode == \'rowNumber\') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])[\'*key\']});',
'\telse obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tif(lObj) lObj._getRoute(mode,obj);',
'\t}',
'\treturn obj;',
'}',
',',
'\t_setRoute: function(route) { ',
'\tif(typeof route == \'undefined\') { ',
'\t\troute = this.__currentRoute;',
'\t\tif(typeof route == \'undefined\') return false;',
'\t}',
'\tvar lObj = \'\';',
'\tvar row = \'\';',
'\tfor(var i = 0; i < route.length; i++) {',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(route[i].list);',
'\t\trow = route[i].row;',
'\t\tvar flag = typeof this._restoringList != \'undefined\' ? !this._restoringList : true;',
'\t\tif(typeof row != \'undefined\') {',
'\t\t\tvar rowFixed = \'\';',
'\t\t\tif(typeof lObj._dataMap == \'undefined\') return false;',
'\t\t\t//var msg = JSON.stringify(lObj._dataMap);',
'\t\t\t//alert(\'route[i].row:\' + route[i].row + \' ------ \' + msg);',
'\t\t\trowFixed = lObj._dataMap.indexOf(route[i].row);',
'\t\t\tlObj.setValue(rowFixed,flag);',
'\t\t\tif(this._clearServerSideErrors) this._clearServerSideErrors();',
'\t\t\tif(this._showServerSideErrors) this._showServerSideErrors();',
'\t\t\tif(this._showWriteConflictErrors) this._showWriteConflictErrors();',
'\t\t}',
'\t}',
'}',
',',
'\t_useServerSideSyncLog: false,',
'\t_searchHighlighting: true,',
'\t_searchHighlightStyle: \'color: red;\'',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_TRIALS\'] = {',
'\t_dataSourceType: \'SQL\',',
'\t_listFields: [',
'\t{',
'\t\tname: \'location\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'location\\\');\'',
'\t},',
'\t{',
'\t\tname: \'summary\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'summary\\\');\'',
'\t},',
'\t{',
'\t\tname: \'purpose\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'purpose\\\');\'',
'\t},',
'\t{',
'\t\tname: \'overview\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'overview\\\');\'',
'\t},',
'\t{',
'\t\tname: \'eligibility\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'eligibility\\\');\'',
'\t},',
'\t{',
'\t\tname: \'moreinfo\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'moreinfo\\\');\'',
'\t},',
'\t{',
'\t\tname: \'contact\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'contact\\\');\'',
'\t},',
'\t{',
'\t\tname: \'latitude\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'latitude\\\');\'',
'\t},',
'\t{',
'\t\tname: \'longitude\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'longitude\\\');\'',
'\t},',
'\t{',
'\t\tname: \'Miles\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Miles\\\');\'',
'\t},',
'\t{',
'\t\tname: \'CWID\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'CWID\\\');\'',
'\t}',
'],',
'\t_searchPartHas: false,',
'\t_mediaFields: [],',
'\t_mediaTypes: {',
'},',
'\t_phoneGap: {',
'\t\tmediaFiles: {',
'\t\t\tprotectedRead: false,',
'\t\t\ttarget: \'server\',',
'\t\t\ttargetFilenameFunction: \'return \\\'<DeviceId>_\\\' +e.object.listFieldName + \\\'_\\\' + A5.ts() + \\\'_\\\' +e.name\',',
'\t\t\tshowProgress: false,',
'\t\t\tdownload: {',
'\t\t\t\tautodownloadFilesOnPullSynch: false,',
'\t\t\t\tdeleteOrphansAfterSync: false,',
'\t\t\t\ttargetFolder: \'_AAFiles\',',
'\t\t\t\tshowProgress: false',
'\t\t\t},',
'\t\t\tonErrorFunction: function(array,fileNumber,error) { }',
'\t\t}',
'\t},',
'\t_dvmode: \'enter\',',
'\t_hasDetailView: true,',
'\t_noRecordInListIsSelectedSettingForDetailView: \'none\',',
'\t_captureLocation: false,',
'\t_detailViewHas: true,',
'\t_submitLocationInfo: false,',
'\t_detailView: {',
'\t\tmethod: \'fieldMap\',',
'\t\tfieldMap: [',
']',
'\t},',
'\t_detailViewGlobalErrorStyle: \'font-family: Arial; font-size: 10pt; color: red; border: solid 1px red; width: 100%;\',',
'\t_autoCommitDetailView: false,',
'\t_synchBatchSize: 0,',
'\t_resetMediaFileUploadErrorsFlag: function(data) {',
'var r = A5.u.object.each(data,function(name,value,path,result){',
'\tif(name == \'_flagMediaFileUploadError\') {',
'\t\tresult.push({value: false, path: path})',
'\t}',
'});',
'for(var i = 0; i < r.length; i++) {',
'\tA5.u.object.set(data,r[i].path,r[i].value);',
'}',
'},',
'\ttheme: \'iOS7\',',
'\tscroll: {',
'\t\taxis: \'y\',',
'\t\tindicator: {',
'\t\t\tshow: true,',
'\t\t\th: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\tleft: \'0px\',',
'\t\t\t\tright: \'0px\'',
'\t\t\t},',
'\t\t\tv: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\ttop: \'0px\',',
'\t\t\t\tbottom: \'0px\'',
'\t\t\t}',
'\t\t},',
'\t\tmomentum: {',
'\t\t\tallow: true',
'\t\t},',
'\t\tpull: {',
'\t\t\ty: \'auto\',',
'\t\t\tx: \'auto\'',
'\t\t}',
'\t},',
'\tlayout: \'Default\',',
'\tcalculateValue: function(data) {  {var _val = \'\' +data.__primaryKey; if((_val == \'\' ||  _val == \'undefined\'  )&& typeof data[\'*rowGUID\'] != \'undefined\') _val = \'_temporaryValue_\' + data[\'*rowGUID\']; return _val;}},',
'\tlistVariableName: \'LIST_TRIALS\',',
'\tlistVariableNameTrueCase: \'LIST_TRIALS\',',
'\t_hostComponentId: \'{UXPRERENDEREDALIAS}\',',
'\t_includeCRC: true,',
'\tallParentLists: [],',
'\t__flagPersist: false,',
'\tonBeforeUpdateRow: function(index,data){;},',
'\tonUpdateRow: function(index,data){;},',
'\tonBeforeAddRows: function(data,info){;},',
'\tonAddRows: function(data,info){;},',
'\tonBeforeRemoveRows: function(rows){;},',
'\tonRemoveRows: function(rows){;},',
'\tonListDraw: function(data,startIndex) {',
'if(A5.flags.isMobile) $e.add(this.contId+\'.CONTENT\',\'abstractdown\',function(e) {$e.preventDefault(e);});},',
'\tsynchronizeImmediately: false,',
'\tpushServerEditsToClient: false,',
'\tcustomization: {',
'\t\tdv: {',
'\t\t\tclientSideErrorWarning: \'Cannot save because there are validation errors.\',',
'\t\t\tdirtyDetailViewRecord: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'You must first save or undo the changes you have made to the List\\\'s Detail View.\'',
'\t\t\t},',
'\t\t\tconfirmFormResetWarning: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'Are you sure you want to undo changes made to the List\\\'s Detail View?\'',
'\t\t\t},',
'\t\t\tconfirmRowResetWarning: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'Are you sure you want to undo changes made to this record?\'',
'\t\t\t},',
'\t\t\tconfirmDeleteWarning: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'Are you sure you want to delete this record?\'',
'\t\t\t},',
'\t\t\twriteConflict: {',
'\t\t\t\tuseMineMessage: \'Use mine (\\\'{myvalue}\\\')\',',
'\t\t\t\tuseTheirsMessage: \'Use theirs (\\\'{theirvalue}\\\')\',',
'\t\t\t\tuseMineAll: \'Use mine for all fields\',',
'\t\t\t\tuseTheirsAll: \'Use theirs for all fields\'',
'\t\t\t},',
'\t\t\tdatabaseError: {',
'\t\t\t\tupdate: \'Record was not updated.|More...|Less\',',
'\t\t\t\tinsert: \'Record was not inserted.|More...|Less\',',
'\t\t\t\tdelete: \'Record was not deleted.|More...|Less\'',
'\t\t\t},',
'\t\t\tuseCustomClasses: false,',
'\t\t\tsetClassonEditedRows: true,',
'\t\t\tcss: {',
'\t\t\t}',
'\t\t}',
'\t},',
'\tonItemDraw: function(ele,data,index) {',
'\tvar _dirtyRowClassName = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRow\';',
'\tvar _dirtyRowClassNameInherited = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited\';',
'\tvar _dirtyRowStyle = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowStyle\';',
'\tvar _errorRowClassName = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_hasError\';',
'\tvar _errorRowClassNameInherited = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorInherited _{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited\';',
'\tvar _errorRowClassNameInherited_1 = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorInherited\';',
'\tvar _errorRowClassNameInherited_2 = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited\';',
'\tvar _errorRowStyle = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorStyle\';',
'\tvar _newRowClassName = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_newRow\';',
'\tvar _newRowStyle = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_newRowStyle\';',
'\tvar _deletedRowClassName = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRow\';',
'\tvar _deletedRowStyle = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRowStyle\';',
'\tvar _deletedRowClassNameInherited = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRowInherited\';',
'\tvar __d = this._rData[index];',
'\t$rcn(ele,_dirtyRowClassName);',
'\t$rcn(ele,_dirtyRowClassNameInherited);',
'\t$rcn(ele,_dirtyRowStyle);',
'\t$rcn(ele,_errorRowClassName);',
'\t$rcn(ele,_errorRowClassNameInherited);',
'\t$rcn(ele,_errorRowClassNameInherited_1);',
'\t$rcn(ele,_errorRowClassNameInherited_2);',
'\t$rcn(ele,_errorRowStyle);',
'\t$rcn(ele,_newRowClassName);',
'\t$rcn(ele,_newRowStyle);',
'\t$rcn(ele,_deletedRowClassName);',
'\t$rcn(ele,_deletedRowStyle);',
'\tif(data._isDirty && typeof data._isDeleted != \'undefined\' && data._isDeleted) { ',
'\t\t$acn(ele,_deletedRowClassName);',
'\t\t$acn(ele,_deletedRowStyle);',
'\t\t__d.__displayStyle = \'deletedRow\';',
'\t} else if (data._isDirty && typeof data._oldData != \'undefined\' && !data._isNewRow ) { ',
'\t\t$acn(ele,_dirtyRowClassName);',
'\t\t$acn(ele,_dirtyRowStyle);',
'\t\t__d.__displayStyle = \'dirtyRow\';',
'\t} ',
'\tif(data._isDirty && typeof data._oldData == \'undefined\' && ! (data._isNewRow || data._isDeleted) ) { ',
'\t\t$acn(ele,_dirtyRowClassNameInherited);',
'\t\t$acn(ele,_dirtyRowStyle);',
'\t\t__d.__displayStyle = \'dirtyRowInherited\';',
'\t} ',
'\tif(data._isDeleted) { ',
'\t\t$acn(ele,_deletedRowClassName);',
'\t\t$acn(ele,_deletedRowStyle);',
'\t\t__d.__displayStyle = \'deletedRow\';',
'\t} ',
'\tif(data._isNewRow) { ',
'\t\t$acn(ele,_newRowClassName);',
'\t\t$acn(ele,_newRowStyle);',
'\t\t__d.__displayStyle = \'newRow\';',
'\t} ',
'\tvar flagHasGlobalErrors = false;',
'\tif(typeof data._globalErrors != \'undefined\') {',
'\t\tif( data._globalErrors != \'\')  flagHasGlobalErrors = true;',
'\t}',
'\tvar flagHasWriteConflictErrors = false;',
'\tif(typeof data._hasWriteConflictErrors) flagHasWriteConflictErrors = data._hasWriteConflictErrors',
'\tif(data._hasServerSideError || flagHasGlobalErrors || flagHasWriteConflictErrors) {',
'\t\t$acn(ele,_errorRowClassName);',
'\t\t$acn(ele,_errorRowStyle);',
'\t\t__d.__displayStyle = \'errorRow\';',
'\t} else { ',
'\t\tif(data._flagServerSideErrorInChild || data._flagWriteConflictErrorInChild || data._flagGlobalErrorInChild ){',
'\t\t\t if(!data._isNewRow) {',
'\t\t\t \t$acn(ele,_errorRowClassNameInherited);',
'\t\t\t\t __d.__displayStyle = \'errorRowInherited\';',
'\t\t\t} else {',
'\t\t\t\t__d.__displayStyle = \'newRow errorRowInherited\'; ',
'\t\t\t\t$acn(ele, _errorRowClassNameInherited_1);',
'\t\t\t}',
'\t\t}',
'\t}},',
'\tchildLists: [],',
'\tchildListEndpoints: [\'LIST_TRIALS\'],',
'\t_populateAllChildLists: function() { },',
'\tonSelect: function() { this.populateUXControls();',
'this._selectedRow = this.selection[0];',
'{UXPRERENDEREDALIAS}_DlgObj._listRowSelect(\'LIST_TRIALS\',this);',
'},',
'\tonBeforeSelect: function() {',
'\tvar c = this.childLists;',
'\tvar lObj = \'\';',
'\tif(typeof c != \'undefined\') { ',
'\t\tfor(var i = 0; i < c.length; i++) {',
'\t\t\tlObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(c[i]);',
'\t\t\tif(lObj) {',
'\t\t\t\tvar flag = lObj.onBeforeSelect();',
'\t\t\t\tif(typeof flag != \'undefined\') { ',
'\t\t\t\t\tif(!flag) return false;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dvmode == \'search\') return true;',
'\tif(!this._autoCommitDetailView) { ',
'\t\treturn this._showDirtyDetailViewWarning(); ',
'\t} else { ',
'\t\tif(this.detailViewIsDirty(true)) { ',
'\t\t\tvar result =  this.updateListFromUXControls();  ',
'\t\t\treturn result;',
'\t\t}',
'\t}},',
'\tonClick: function() {',
'CWApp.populateDetailTabs({UXPRERENDEREDALIAS}_DlgObj);',
'{UXPRERENDEREDALIAS}_DlgObj.showTrialDetails = true;',
'{UXPRERENDEREDALIAS}_DlgObj._listSystemOnClick(\'LIST_TRIALS\',this.selection[0]);},',
'\tlayouts: {',
'\t\tDefault: {',
'\t\t\ttype: \'template\',',
'\t\t\titem: {',
'\t\t\t\tstyle: \'color: #646464\'',
'\t\t\t},',
'\t\t\ttemplate: [',
'\t\t\t\t\'<b><span id="{UXPRERENDEREDALIAS}.LIST_TRIALS.LOCATION.I.{*dataRow}">{location}</span></b> Distance: <b><span id="{UXPRERENDEREDALIAS}.LIST_TRIALS.MILES.I.{*dataRow}">{Miles}</span> miles</b>  <br>\',',
'\t\t\t\t\'<br>\',',
'\t\t\t\t\'<span style="color: #646464;"> <span id="{UXPRERENDEREDALIAS}.LIST_TRIALS.SUMMARY.I.{*dataRow}">{summary}</span> </span>\'\t\t\t',
']',
'\t\t}',
'\t},',
'\tcontent: {',
'\t\theader: {',
'\t\t\tshow: false',
'\t\t},',
'\t\tfooter: {',
'\t\t\tshow: false',
'\t\t}',
'\t},',
'\tsystemEvents: {',
'\t\tonTap: function(e) {},',
'\t\tafterAjaxCallback: function(e) {},',
'\t\tafterClientSideFilter: function(e) {},',
'\t\tbeforeServerSideSort: function(e) {},',
'\t\tafterServerSideSort: function(e) {},',
'\t\tonSwipe: function(e) {},',
'\t\tonScroll: function(e) {},',
'\t\tonPullRelease: function(e) {},',
'\t\tonPull: function(e) {},',
'\t\tonPullEnd: function(e) {},',
'\t\tafterSearchComplete: function(e) {},',
'\t\tbeforeSearch: function(e) {},',
'\t\tonSearchResultTooLarge: function(e) {},',
'\t\tonSearchResultTooLargeForLocalStorage: function(e) {},',
'\t\tonBeforePersistToLocalStorage: function(e) {},',
'\t\tonPersistToLocalStorage: function(e) {},',
'\t\tonRestoreFromLocalStorage: function(e) {},',
'\t\tafterRenderComplete: function(e) {},',
'\t\tbeforeFetchMore: function(e) {},',
'\t\tafterFetchMore: function(e) {},',
'\t\tbeforePageNavigate: function(e) {},',
'\t\tafterPageNavigate: function(e) {},',
'\t\tbeforeRefreshRow: function(e) {},',
'\t\tafterRefreshRow: function(e) {},',
'\t\tafterServerSideSummaryCompute: function(summary) {},',
'\t\tdetailView: {',
'\t\t\tcanUpdateList: function(e) {},',
'\t\t\thasClientSideValidationErrors: function(e) {},',
'\t\t\tafterUpdateList: function(e) {},',
'\t\t\tcanSynchronizeList: function(e) {},',
'\t\t\tafterSynchronizeListBatch: function(e) {},',
'\t\t\tcanCancelBatch: function(e) {},',
'\t\t\tafterCancelBatch: function(e) {},',
'\t\t\tafterSynchronizeList: function(e) {},',
'\t\t\tbeforeSynchronizeListBatchStart: function(e) {},',
'\t\t\tafterSynchronizeListBatchEnd: function(e) {},',
'\t\t\tafterRefreshListIncremental: function(e) {},',
'\t\t\tcanResetRow: function(e) {},',
'\t\t\tcanDeleteRow: function(e) {},',
'\t\t\tcanUndoEdits: function(e) {},',
'\t\t\tafterResetRow: function(e) {},',
'\t\t\tafterDeleteRow: function(e) {},',
'\t\t\tafterUndoEdits: function(e) {},',
'\t\t\tcanNewRecord: function(e) {},',
'\t\t\tafterNewRecord: function(e) {},',
'\t\t\tafterDetailViewPopulate: function(e) {},',
'\t\t\tafterListRowSelectCancelled: function(e) {},',
'\t\t\tmodeChanged: function(e) {},',
'\t\t\tbeforeMediaFilesUploaded: function(e) {},',
'\t\t\tafterMediaFilesUploaded: function(e) {},',
'\t\t\tonMediaFilesUploadErrors: function(e) {},',
'\t\t\tbeforeMediaFilesDownloaded: function(e) {},',
'\t\t\tafterMediaFilesDownloaded: function(e) {},',
'\t\t\tbeforeDeleteOrphanMediaFiles: function(e) {},',
'\t\t\tafterDeleteOrphanMediaFiles: function(e) {}',
'\t\t},',
'\t\t_afterAjaxCallback: function() {this._refreshStateMessages();}',
'\t},',
'\t_clientsideSummary: [],',
'\tcomputeClientSideSummaryValues: function(e) {},',
'\t_executeEvent: function(event,obj) { ',
'\treturn {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_TRIALS\',event,obj);',
'}',
',',
'\t_selectAll: function() {',
'\tvar v = this._values;',
'\tvar v2 = [].concat(v);',
'\tthis.setValue(v2,false);',
'}',
',',
'\tsearchList: function() { ',
'\tif(this._searchPartStyle == \'querybyform\') { ',
'\t\tif(this._dvmode != \'search\') return false;',
'\t}',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse {',
'\t\t\tif(this._dataSourceType.toLowerCase() == \'sql\' || this._dataSourceType.toLowerCase() == \'dbf\') {',
'\t\t\t\tmode = \'serverside\';',
'\t\t\t} else { ',
'\t\t\t\tmode = \'clientside\';',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'search\', searchWhere: mode, listIsDirty: flagDirty});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._searchListServerSide(obj);',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilter();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'search\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_searchListServerSide: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar _d={};',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tif(flagDirty) { ',
'\t\talert(\'Can\\\'t execute server-side search because List has edits that have not yet been synchronized.\');',
'\t\treturn false;',
'\t}',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t_data = _data + \'&\' + A5.ajax.buildURLParam(\'__searchOptions\',JSON.stringify(obj));',
'\tthis.filter = false;',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPart\',\'\',_data);',
'}',
',',
'\tclearSearchList: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse mode = \'serverside\';',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'clear\', searchWhere: mode});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._clearSearchListServerSide();',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilterClear();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'clear\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_clearSearchListServerSide: function() { ',
'\tvar _d={};',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPartClear\',\'\',_data);',
'}',
',',
'\t_str: function(txt) {',
'\ttxt = txt.replace("\'","\\\\\'");',
'\ttxt = \'\\\'\' + txt + \'\\\'\';',
'\treturn txt;',
'}',
',',
'\t_QBF: function(txt) { ',
'\tvar o = {};',
'\to.v2 = \'\';',
'\to.v1 = txt;',
'\to.flag = false;',
'\tif(txt.indexOf(\'>=\') >= 0) {',
'\t\to.op = \'>=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<=\') >= 0 ) { ',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'>\') >= 0 ) {',
'\t\to.op = \'>\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<\') >= 0)  { ',
'\t\to.op = \'<\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') == 0)  {',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if ( txt.indexOf(\'..\', txt.length - \'..\'.length) !== -1 ) { ',
'\t\t//ends with ..',
'\t\to.op = \'>=\';',
'\t\ttxt = txt.split(\'..\')',
'\t\to.v1 = txt[0];',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') > 0 ) {',
'\t\to.op = \'between\'',
'\t\ttxt = txt.split(\'..\');',
'\t\to.v1 = txt[0];',
'\t\to.v2 = txt[1];',
'\t\to.flag = true;',
'\t}',
'\treturn o;',
'}',
',',
'\t_match: function(data,field,val,obj) { ',
'\tvar flagKeyword = false;',
'\tif(typeof obj.flagKeyword != \'undefined\') flagKeyword = obj.flagKeyword;',
'\tif(flagKeyword) { ',
'\t\tvar obj_i = this._searchFieldOptions[field.toUpperCase()];',
'\t\tthis._setSearchOps(obj,obj_i);',
'\t}',
'\tvar _d = \'\';',
'\tvar _v = val;',
'\tvar flagC = false;',
'\tif(obj.type == \'c\') {',
'\t\tflagC = true;',
'\t\tif(!obj.caseSensitive) _v = _v.toLowerCase();',
'\t} else { ',
'\t\t//non mumeric searches are only mode 1 or -1',
'\t\tif(obj.mode > 1) obj.mode = 1;',
'\t\tif(obj.mode < -1) obj.mode = -1;',
'\t}',
'\tvar flag = false;',
'\tobj.usesQBFOperator = false;',
'\tif(obj.qbf) { ',
'\t\t_v = _v.split(\',\');',
'\t} else {',
'\t\t_v = [_v];',
'\t}',
'\tvar o = {}',
'\tvar r = \'\';',
'\tvar _vals = [];',
'\tfor(var i = 0; i < _v.length; i++) { ',
'\t\tif(obj.qbf) {',
'\t\t\to = this._QBF(_v[i]);',
'\t\t} else {',
'\t\t\to.flag = false;',
'\t\t\to.v1 = _v[i];',
'\t\t\to.v2 = \'\';',
'\t\t}',
'\t\tif(typeof data[field] != \'undefined\') {',
'\t\t\tif(data[field] != null) { ',
'\t\t\t\t_d = data[field];',
'\t\t\t\tif(obj.type == \'n\') { ',
'\t\t\t\t\to.v1 = Number(o.v1);',
'\t\t\t\t\to.v2 = Number(o.v2);',
'\t\t\t\t\t_d = Number(_d);',
'\t\t\t\t} else if (obj.type == \'l\') { ',
'\t\t\t\t\to.v1 = $u.s.toBool(o.v1);',
'\t\t\t\t\to.v2 = $u.s.toBool(o.v2);',
'\t\t\t\t\t_d = $u.s.toBool(_d);',
'\t\t\t\t} else if (obj.type == \'d\') { ',
'\t\t\t\t\to.v1 = A5.stringToDate(o.v1,obj.dateFormat);',
'\t\t\t\t\to.v2 = A5.stringToDate(o.v2,obj.dateFormat);',
'\t\t\t\t\tif(typeof _d == \'string\') _d = A5.stringToDate(_d,obj.dateFormat);',
'\t\t\t\t\tif(o.v1 != \'\' && o.v1 != null ) o.v1 = o.v1.getTime();',
'\t\t\t\t\tif(o.v2 != \'\' && o.v2 != null ) o.v2 = o.v2.getTime();',
'\t\t\t\t\tif(_d != \'\' && _d != null ) _d = _d.getTime();',
'\t\t\t\t}',
'\t\t\t\tif(flagC) {if(!obj.caseSensitive && typeof _d == \'string\') _d = _d.toLowerCase();}',
'\t\t\t\tif(o.flag) { ',
'\t\t\t\t\t//has qbf operators',
'\t\t\t\t\tif(o.op == \'between\') {',
'\t\t\t\t\t\tif(flagC) {',
'\t\t\t\t\t\t\tif(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tif(flagC) _d = _d.substr(0,o.v1.length)',
'\t\t\t\t\t\tif(o.op == \'>=\') if( _d >= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<=\') if( _d <= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'>\') if(_d > o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<\') if(_d < o.v1) flag = true;',
'\t\t\t\t\t}',
'\t\t\t\t} else { ',
'\t\t\t\t\tif(obj.mode == 1 || obj.mode == -1 ) {',
'\t\t\t\t\t\tif(obj.mode == 1) if(_d == o.v1) flag = true;; //match',
'\t\t\t\t\t\tif(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match',
'\t\t\t\t\t} else if (obj.mode == 2 || obj.mode == -2) { ',
'\t\t\t\t\t\tif(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains',
'\t\t\t\t\t\tif(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;',
'\t\t\t\t\t} else if (obj.mode == 3 || obj.mode == -3) { ',
'\t\t\t\t\t\tif(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with',
'\t\t\t\t\t\tif(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v1 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v1) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v1);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v2 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v2) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v2);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(flag) { ',
'\t\tif(typeof this._state.highlight == \'undefined\') this._state.highlight = {};',
'\t\tthis._state.highlight[field.toUpperCase()] = _vals;',
'\t} else { ',
'\t\t//this._state.highlight[field.toUpperCase()] = [];',
'\t}',
'\treturn flag;',
'}',
',',
'\t_setSearchOps: function(obj,obj_i) { ',
'\tobj.mode = obj_i.option;',
'\tobj.qbf = obj_i.qbf;',
'\tobj.type = obj_i.type;',
'\t//obj.treatAs = obj_i.treatAs;',
'}',
',',
'\t_searchPartOperator: \'&&\',',
'\t_searchPartSubmit_clientSideFilter: function() { ',
'\tif(!this._searchPartHas) return true;',
'\t//_searchPartStyle: \'individualcontrols\'',
'\tthis._state.highlight = {};',
'\tif(this._searchPartStyle == \'singlekeywordcontrol\') { ',
'\t\tvar searchFor = {UXPRERENDEREDALIAS}_DlgObj.getValue(this._keywordSearchControl);',
'\t\tvar arr = this._keywordSearchFields;',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\t//obj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 1;',
'\t\tobj.flagKeyword = true;',
'\t\tvar objStr = JSON.stringify(obj)',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\texpn_i = \'this._match(data,\' +this._str(arr[i]) + \',\' + this._str(searchFor) + \',\'+objStr+\')\';',
'\t\t\texpn.push(expn_i);',
'\t\t}',
'\t\texpn = expn.join(\'||\');',
'\t\t//alert(expn);',
'\t} else if ( this._searchPartStyle == \'individualcontrols\' || this._searchPartStyle == \'querybyform\'  ) { ',
'\t\tvar map = this._searchPart.fieldMap;',
'\t\tvar val = \'\';',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\tobj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 2;',
'\t\t//var objStr = JSON.stringify(obj)',
'\t\tvar ac = [];',
'\t\tvar aco = {};',
'\t\tvar _highlight = {};',
'\t\tif(this._searchPartStyle == \'individualcontrols\') {',
'\t\t\tfor(var i = 0; i < map.length; i++) { ',
'\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(map[i].control);',
'\t\t\t\tif(val != \'\') {',
'\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(map[i].field) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t} else if (this._searchPartStyle == \'querybyform\' ) { ',
'\t\t\tvar controlName = \'\';',
'\t\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\t\tif(controlName != \'\') {',
'\t\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(controlName);',
'\t\t\t\t\tif(val != \'\') {',
'\t\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(this._listFields[i].name) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t\t\taco.control = controlName;',
'\t\t\t\t\t\taco.value = val;',
'\t\t\t\t\t\tac.push(aco);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis.__queryByFormValues = ac;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\t\t}\t',
'\t\tvar operator = \'&&\';',
'\t\tif(typeof this._searchPartOperator != \'undefined\') operator = this._searchPartOperator;',
'\t\texpn = expn.join(\' \'+operator+\' \');',
'\t} ',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = expn;',
'\t}',
'\t//user did not fill in any search fields',
'\tif(expn == \'\') return true;',
'\tvar fnTxt = \'if(\' + expn + \') {return true;} else { return false;}\'',
'\tvar searchFunction = new Function(\'data\',fnTxt);',
'\tthis.setFilter(searchFunction);',
'\tif(this._rData.length > 0) this.setValue(0);',
'}',
',',
'\t_searchPartSubmit_clientSideFilterClear: function() { ',
'if(!this._searchPartHas) return true;',
'\tthis._state.highlight = {};',
'\tthis.setFilter(false);',
'\tvar map = this._searchPart.fieldMap;',
'\tvar val = \'\';',
'\tvar od = {UXPRERENDEREDALIAS}_DlgObj.originalValues[0];',
'\tfor(var i = 0; i < map.length; i++) {',
'\t\tvar val = od[map[i].control.toUpperCase()];',
'\t\tif(typeof val != \'undefined\') {UXPRERENDEREDALIAS}_DlgObj.setValue(map[i].control,val,false);',
'\t}',
'\tthis.setFilter(false);',
'\tdelete this.__queryByFormValues;',
'\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\tif(this._data.length > 0) this.setValue(0);',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = \'\';',
'\t}',
'}',
',',
'\t_debugListData: function() { \t\tvar debugObj = this._data[this.selection[0]];',
'\t\tif(typeof debugObj == \'undefined\') {alert(\'no active row\'); return false;}',
'\t\t\tvar debugTxt = JSON.stringify(debugObj,\'\',\'\\t\'); ',
'\t\tdebugTxt = debugTxt.split(\'\\t\').join(\'    \'); ',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\'); ',
'\t\tif(ele) {',
'\t\t\tele.innerHTML = \'<div style="color: blue;width: 100%; height: 100%;white-space: pre;border: solid 1px blue; padding: 2px;"></div>\';',
'\t\t\tele.firstChild.innerText = debugTxt; ',
'\t\t\tif(ele.firstChild.innerHTML == \'\')  { ele.firstChild.innerHTML = debugTxt }      ',
'\t\t}',
'},',
'\t_refreshDebugInfo: function() {},',
'\t_showSQL_CRUD: function(txt) { },',
'\tflagShowAlerts: true,',
'\tlookupValue: function(key,name,keyValue) {\tvar _d = this._data;',
'\tvar indx = A5FindPropInArray(_d,key,keyValue);',
'\tvar rv = \'\';',
'\tif(indx >=0) {',
'\t\tif(name == \'__rowData__\') return _d[indx];',
'\t\trv =  _d[indx][name];',
'\t} else {',
'\t\t//null out all properties in row',
'\t\tvar _d2 = {};',
'\t\tif(typeof _d[0] == \'undefined\') { return {}} ;',
'\t\tfor(var n in _d[0]) {',
'\t\t\t_d2[n] = \'&nbsp;\';',
'\t\t}',
'\t\trv = _d2;',
'\t}',
'\treturn rv;',
'}',
',',
'\tallowNullSelection: true,',
'\tallowNullDeselection: false,',
'\tloopNavigate: false,',
'\tloopNavigateNullSelection: false,',
'\trefreshChildLists: function() {{UXPRERENDEREDALIAS}_DlgObj._listRefreshCascadingLists(\'LIST_TRIALS\'); },',
'\trowExpander: function(rowNumber) { ',
'\tvar mode = typeof arguments[2] != \'undefined\' ? arguments[2] : \'toggle\';',
'\tif(typeof rowNumber == \'undefined\' || rowNumber == \'\' ) {',
'\t\trowNumber = this.selection[0];',
'\t\tif(typeof rowNumber == \'undefined\') return false;',
'\t}',
'\tvar animObj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\tvar ele = $(this._hostComponentId + \'.\' + this.listVariableName + \'.ROWEXPANDER.\' + rowNumber);',
'\tif(ele) {',
'\t\tif(mode == \'toggle\') A5.u.element.toggle(ele,animObj);',
'\t\tif(mode == \'show\') A5.u.element.show(ele,animObj);',
'\t\tif(mode == \'hide\') A5.u.element.hide(ele,animObj);',
'\t}',
'}',
',',
'\tafterClientSideSummaryCompute: function(csSummary) { },',
'\tselectCurrentLayout: function(name) { ',
'var pl = this.layouts[name];',
'if(typeof pl == \'undefined\') return false;',
'this.setLayout(name);',
'if(pl.type == \'column\') {',
'\tthis.columnLayout.header.show = this.layouts[name].showColumnTitles; ',
'\tthis.refresh();',
'}',
'},',
'\tonFilter: function() { \tvar e = {}; ',
'\te.rowCount = this._values.length;  ',
'\tvar ele = $(\'{UXPRERENDEREDALIAS}.__listId__.RECORDCOUNT\'); ',
'\tif(ele) {ele.innerHTML = e.rowCount;}; ',
'\tif(this.persistToStorage) { this.persistToStorage({});} ',
'\t(function(e) {   })(e);',
'}',
',',
'\tserverSideSort: function(column) {',
'var e = {};',
'e.column = column;',
'var result = this.systemEvents.beforeServerSideSort(e);',
'if(result == false) return false;',
'var obj = {};',
'obj.cmd = \'sort\';',
'obj.column = column;',
'obj.layoutName = this.layout;',
'obj.listState = this._state;',
'var data = \'_listId=LIST_TRIALS&\' + A5.ajax.buildURLParam(\'_cmdObj\',$u.o.toJSON(obj));',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:listServerSideSort\',\'\',data);',
'},',
'\tfilterListClientSide: function(searchFor) {',
'//var result = this.systemEvents.beforeClientSideFilter();',
'//if(result == false) return false;',
'if(searchFor != \'\') {',
'\t//fixes bug in Chrome when searching on dates strings that use forward slashes',
'\tsearchFor = searchFor.replace(/\\//g,\'\\\\/\');',
'\tthis.setFilter({\'location\': RegExp(\'\' + searchFor,\'i\'), \'summary\': RegExp(\'\' + searchFor,\'i\'), \'purpose\': RegExp(\'\' + searchFor,\'i\'), \'overview\': RegExp(\'\' + searchFor,\'i\'), \'eligibility\': RegExp(\'\' + searchFor,\'i\'), \'moreinfo\': RegExp(\'\' + searchFor,\'i\'), \'contact\': RegExp(\'\' + searchFor,\'i\'), \'latitude\': RegExp(\'\' + searchFor,\'i\'), \'longitude\': RegExp(\'\' + searchFor,\'i\'), \'Miles\': RegExp(\'\' + searchFor,\'i\'), \'CWID\': RegExp(\'\' + searchFor,\'i\')});',
'} else this.setFilter(false);',
'var rowCount = this._values.length;',
'//var e = {};',
'//e.rowCount = rowCount;',
'//this.systemEvents.afterClientSideFilter(e);',
'var ele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.RECORDCOUNT\');',
'if(ele) ele.innerHTML = rowCount;',
'}',
',',
'\tscrollToClosestValue: function(val) { \t',
'\tif(typeof val != \'string\') val = val.join(\'\');',
'\tvar flagCI = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\tvar pos = typeof arguments[2] != \'undefined\' ? arguments[2] : \'top\';',
'\tvar anim = typeof arguments[3] != \'undefined\' ? arguments[3] : {}',
'\tvar _d = this._rData;',
'\tvar len = val.length;',
'\tvar _d2;',
'\tvar i2 = -1;',
'\tif(flagCI) val = val.toLowerCase();',
'\tfor(var i = 0 ; i < _d.length; i++) {',
'\t\ti2 = i;',
'\t\t_d2 = String(_d[i][\'*value\']);',
'\t\t_d2 = _d2.substr(0,len);',
'\t\t_d2 = $u.s.pad(_d2,len,\' \',\'l\');',
'\t\tif(flagCI) _d2 = _d2.toLowerCase();',
'\t\tif(val <= _d2){',
'\t\t\t break;',
'\t\t}',
'\t}',
'\tif(i2 > -1) { ',
'\t\tthis.scrollToItem(i2,{mode: pos, animation: anim});',
'\t}',
'}',
',',
'\t_refreshStateMessages: function() {',
'\tvar ele = \'\';',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.PAGENUMBER\');',
'\tif(ele) ele.innerHTML = this._state.page;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.PAGECOUNT\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.PAGECOUNT.PAGESELECTOR\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;\t',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.LISTSTATE\');',
'\tif(ele) {',
'\t\tvar listState = $u.o.toJSON(this._state);',
'\t\tele.innerHTML = listState;',
'\t}',
'\t//navigation buttons\t',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_NEXT.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_LAST.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_FIRST.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_PREV.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = $(\'{UXPRERENDEREDALIAS}.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LIST_TRIALS\');',
'\tif(ele) {',
'\t\tvar data = this._recordNavigatorLinks;',
'\t\tif(data) A5.form.populateSelect(ele,this._state.page,data,true);',
'\t}',
'}',
',',
'\tview: {',
'\t\ttype: \'dynamic\',',
'\t\tsize: 15,',
'\t\tmaxSize: 0,',
'\t\toffset: 5,',
'\t\tnavigation: {',
'\t\t\tpull: {',
'\t\t\t\tallow: true,',
'\t\t\t\tsize: 15',
'\t\t\t},',
'\t\t\tprev: {',
'\t\t\t\thtml: \'Previous\'',
'\t\t\t},',
'\t\t\tnext: {',
'\t\t\t\thtml: \'Next\'',
'\t\t\t}',
'\t\t}',
'\t},',
'\tscroller: {',
'\t\thas: true,',
'\t\tflow: \'ttb\',',
'\t\tlocation: \'after\',',
'\t\toffset: {',
'\t\t\ttop: \'0px\',',
'\t\t\tbottom: \'0px\',',
'\t\t\tleft: \'0px\',',
'\t\t\tright: \'0px\'',
'\t\t},',
'\t\tslider: {',
'\t\t\thandle: {',
'\t\t\t},',
'\t\t\tshadow: {',
'\t\t\t\tshow: true',
'\t\t\t},',
'\t\t\tmessage: {',
'\t\t\t\tshow: \'auto\',',
'\t\t\t\tlowSwitch: 75,',
'\t\t\t\thighSwitch: 75',
'\t\t\t}',
'\t\t},',
'\t\tdial: {',
'\t\t\tshow: \'drag\',',
'\t\t\tinvertDrag: false,',
'\t\t\tmessage: {',
'\t\t\t},',
'\t\t\tpixelStep: 4,',
'\t\t\tsize: 2',
'\t\t},',
'\t\tshow: true',
'\t},',
'\t_getRoute: function() { ',
'\tvar obj  = typeof arguments[1] != \'undefined\' ? arguments[1] : [];',
'\tvar mode = typeof arguments[0] != \'undefined\' ? arguments[0] : \'rowNumber\'; //',
'\tif(typeof this.selection[0] == \'undefined\') return false;',
'\tif(typeof this.getData(this.selection[0]) == \'undefined\') return false;',
'\tif(mode == \'rowNumber\') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])[\'*key\']});',
'\telse obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tif(lObj) lObj._getRoute(mode,obj);',
'\t}',
'\treturn obj;',
'}',
',',
'\t_setRoute: function(route) { ',
'\tif(typeof route == \'undefined\') { ',
'\t\troute = this.__currentRoute;',
'\t\tif(typeof route == \'undefined\') return false;',
'\t}',
'\tvar lObj = \'\';',
'\tvar row = \'\';',
'\tfor(var i = 0; i < route.length; i++) {',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(route[i].list);',
'\t\trow = route[i].row;',
'\t\tvar flag = typeof this._restoringList != \'undefined\' ? !this._restoringList : true;',
'\t\tif(typeof row != \'undefined\') {',
'\t\t\tvar rowFixed = \'\';',
'\t\t\tif(typeof lObj._dataMap == \'undefined\') return false;',
'\t\t\t//var msg = JSON.stringify(lObj._dataMap);',
'\t\t\t//alert(\'route[i].row:\' + route[i].row + \' ------ \' + msg);',
'\t\t\trowFixed = lObj._dataMap.indexOf(route[i].row);',
'\t\t\tlObj.setValue(rowFixed,flag);',
'\t\t\tif(this._clearServerSideErrors) this._clearServerSideErrors();',
'\t\t\tif(this._showServerSideErrors) this._showServerSideErrors();',
'\t\t\tif(this._showWriteConflictErrors) this._showWriteConflictErrors();',
'\t\t}',
'\t}',
'}',
',',
'\t_useServerSideSyncLog: false,',
'\t_searchHighlighting: false',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_CONDITIONS\'] = [',
'{"Condition" : "Healthy Children Studies"},',
'{"Condition" : "Healthy Patient Studies"},',
'{"Condition" : "Abdominal Cancer"},',
'{"Condition" : "Abdominal Surgery"},',
'{"Condition" : "Abnormal Blood Vessels (Arteriovenous Malformations)"},',
'{"Condition" : "Achalasia"},',
'{"Condition" : "Acne"},',
'{"Condition" : "Acquired Immune Deficiency Syndrome (AIDS - Pediatric)"},',
'{"Condition" : "Acromegaly"},',
'{"Condition" : "Acute and Chronic Dental Pain"},',
'{"Condition" : "Acute Myelogenous Leukemia (AML)"},',
'{"Condition" : "Acute Myeloid Leukemia"},',
'{"Condition" : "Acute Pain"},',
'{"Condition" : "Acute Respiratory Distress Syndrome (ARDS)"},',
'{"Condition" : "Acute Rhinitis"},',
'{"Condition" : "Addictions"},',
'{"Condition" : "Adenocarcinoma"},',
'{"Condition" : "Adrenal Cancer"},',
'{"Condition" : "Adverse Effects, Drugs"},',
'{"Condition" : "Affective Disorders"},',
'{"Condition" : "Age Spots (Solar Lentigines)"},',
'{"Condition" : "Aging"},',
'{"Condition" : "Agoraphobia (Fear of Crowds)"},',
'{"Condition" : "AIDS and AIDS related infections"},',
'{"Condition" : "Alcohol Dependence"},',
'{"Condition" : "Alcohol Use Disorder"},',
'{"Condition" : "Allergies & Asthma"},',
'{"Condition" : "Allergy"},',
'{"Condition" : "Allergy (Pediatric)"},',
'{"Condition" : "Alopecia"},',
'{"Condition" : "Alpha 1 Antitrypsin Deficiency"},',
'{"Condition" : "Alternative Medicine"},',
'{"Condition" : "Alzheimer\'s Disease"},',
'{"Condition" : "Amenorrhea"},',
'{"Condition" : "Amyloidosis"},',
'{"Condition" : "Amyotrophic Lateral Sclerosis (ALS)"},',
'{"Condition" : "Anal Dysplasia"},',
'{"Condition" : "Anal Fissures"},',
'{"Condition" : "Anemia"},',
'{"Condition" : "Anemia; Non-Hodgkins Lymphoma"},',
'{"Condition" : "Anemia; Non-Small-Cell Lung Cancer"},',
'{"Condition" : "Anemic Cancer"},',
'{"Condition" : "Anesthesia"},',
'{"Condition" : "Anesthesia (Local)"},',
'{"Condition" : "Aneurysm"},',
'{"Condition" : "Anger"},',
'{"Condition" : "Angina"},',
'{"Condition" : "Ankylosing Spondylitis"},',
'{"Condition" : "Anorexia"},',
'{"Condition" : "Anterior Uveitis"},',
'{"Condition" : "Antiphospholipid Syndrome"},',
'{"Condition" : "Antithrombin Deficiency"},',
'{"Condition" : "Anxiety Disorders"},',
'{"Condition" : "Anxiety Disorders (Pediatric)"},',
'{"Condition" : "Aplastic Anemia"},',
'{"Condition" : "Appendicitis"},',
'{"Condition" : "Arrhythmia"},',
'{"Condition" : "Arthritis and Arthritic Pain"},',
'{"Condition" : "Arthritis and Arthritic Pain (Pediatric)"},',
'{"Condition" : "Asperger\'s Disorder"},',
'{"Condition" : "Aspergillosis"},',
'{"Condition" : "Asthma"},',
'{"Condition" : "Asthma (Pediatric)"},',
'{"Condition" : "Astigmatism"},',
'{"Condition" : "Atherosclerosis"},',
'{"Condition" : "Athlete\'s Foot (Tinea Pedis)"},',
'{"Condition" : "Athletic Injuries"},',
'{"Condition" : "Atopic Dermatitis"},',
'{"Condition" : "Atrial Fibrillation"},',
'{"Condition" : "Atrial Fibrillation (Pediatric)"},',
'{"Condition" : "Atrial Flutter"},',
'{"Condition" : "Attention Deficit\\/Hyperactivity Disorder (ADHD - Adults)"},',
'{"Condition" : "Attention Deficit\\/Hyperactivity Disorder (ADHD - Pediatric)"},',
'{"Condition" : "Auditory Loss and Deafness"},',
'{"Condition" : "Auditory Stimulation"},',
'{"Condition" : "Autism"},',
'{"Condition" : "Autonomic Nervous System"},',
'{"Condition" : "Bacterial Infections"},',
'{"Condition" : "Barrett\'s Esophagus"},',
'{"Condition" : "Batten Disease"},',
'{"Condition" : "Bed Sores (Decubitus Ulcers)"},',
'{"Condition" : "Benign Prostatic Hyperplasia (Enlarged Prostate)"},',
'{"Condition" : "Biliary Tract Cancer"},',
'{"Condition" : "Binge Eating Disorder"},',
'{"Condition" : "Bipolar Disorder"},',
'{"Condition" : "Bipolar Disorders (Pediatric)"},',
'{"Condition" : "Birth Control"},',
'{"Condition" : "Birth Defects"},',
'{"Condition" : "Bladder Cancer"},',
'{"Condition" : "Bladder Disorders"},',
'{"Condition" : "Blood Cancer"},',
'{"Condition" : "Blood Clots"},',
'{"Condition" : "Blood Transfusions"},',
'{"Condition" : "Body Composition"},',
'{"Condition" : "Body Dysmorphic Disorder"},',
'{"Condition" : "Bone Density"},',
'{"Condition" : "Bone Diseases"},',
'{"Condition" : "Bone Fractures"},',
'{"Condition" : "Bone Marrow Transplant"},',
'{"Condition" : "Bone Metastases"},',
'{"Condition" : "Bone Neoplasm"},',
'{"Condition" : "Borderline Personality Disorder"},',
'{"Condition" : "Bowel Dysfunction"},',
'{"Condition" : "Brain Cancer"},',
'{"Condition" : "Brain Injury"},',
'{"Condition" : "Brain Metastases"},',
'{"Condition" : "Brain Tumor"},',
'{"Condition" : "Brain Tumor (Pediatric)"},',
'{"Condition" : "Breast Cancer"},',
'{"Condition" : "Breast Cancer - HER2 Positive"},',
'{"Condition" : "Breast Feeding"},',
'{"Condition" : "Breast Fibroadenoma"},',
'{"Condition" : "Breast Implants"},',
'{"Condition" : "Breast Pain"},',
'{"Condition" : "Breast Reconstruction"},',
'{"Condition" : "Bronchiectasis"},',
'{"Condition" : "Bronchiolo-Alveolar Carcinoma (BAC)"},',
'{"Condition" : "Bronchitis"},',
'{"Condition" : "Bronchitis (Pediatric)"},',
'{"Condition" : "Bronchoscopy"},',
'{"Condition" : "Bulimia"},',
'{"Condition" : "Bunion"},',
'{"Condition" : "Burns and Burn Infections"},',
'{"Condition" : "Bursitis"},',
'{"Condition" : "Cancer (Pediatric)"},',
'{"Condition" : "Cancer Pain"},',
'{"Condition" : "Cancer Prevention"},',
'{"Condition" : "Cancer Treatment"},',
'{"Condition" : "Cancer\\/Tumors"},',
'{"Condition" : "Candidemia\\/Candidiasis"},',
'{"Condition" : "Canker Sores"},',
'{"Condition" : "Cardiac Ischemia"},',
'{"Condition" : "Cardiac Surgery"},',
'{"Condition" : "Cardiomyopathy"},',
'{"Condition" : "Cardiovascular Abnormalities"},',
'{"Condition" : "Carotid Artery Disease"},',
'{"Condition" : "Carpal Tunnel Syndrome"},',
'{"Condition" : "Cartilage Injuries"},',
'{"Condition" : "Cataracts"},',
'{"Condition" : "Catheter Complications"},',
'{"Condition" : "Celiac Disease"},',
'{"Condition" : "Ceramic Inlay\\/Onlay"},',
'{"Condition" : "Cerebral Arteriovenous Malformations"},',
'{"Condition" : "Cerebral Ischemia"},',
'{"Condition" : "Cerebral Palsy"},',
'{"Condition" : "Cerebral Palsy (Pediatric)"},',
'{"Condition" : "Cervical Cancer"},',
'{"Condition" : "Cervical Dysplasia"},',
'{"Condition" : "Cervical Intraepithelial Neoplasia"},',
'{"Condition" : "Chemotherapy"},',
'{"Condition" : "Chest Pain"},',
'{"Condition" : "Chest Trauma"},',
'{"Condition" : "Chickenpox (Varicella Zoster Infection)"},',
'{"Condition" : "Cholesterol Ester Storage Disease (CESD)"},',
'{"Condition" : "Chordoma"},',
'{"Condition" : "Chronic Back Pain"},',
'{"Condition" : "Chronic Bronchitis"},',
'{"Condition" : "Chronic Cough"},',
'{"Condition" : "Chronic Diarrhea"},',
'{"Condition" : "Chronic Fatigue Syndrome"},',
'{"Condition" : "Chronic Inflammatory Demyelinating Polyneuropathy (CIDP)"},',
'{"Condition" : "Chronic Leg Pain"},',
'{"Condition" : "Chronic Lymphocytic Leukemia"},',
'{"Condition" : "Chronic Myeloid Leukemia"},',
'{"Condition" : "Chronic Obstructive Lung Disease"},',
'{"Condition" : "Chronic Pain"},',
'{"Condition" : "Chronic Pelvic Pain"},',
'{"Condition" : "Chronic Renal Anemia"},',
'{"Condition" : "Chronic Shoulder Pain"},',
'{"Condition" : "Circulation Disorders"},',
'{"Condition" : "Claudication"},',
'{"Condition" : "Clostridium Difficile-Associated Diarrhea"},',
'{"Condition" : "Cold Sores (Herpes Labialis Infections)"},',
'{"Condition" : "Colic"},',
'{"Condition" : "Collagen Vascular Diseases"},',
'{"Condition" : "Colon Cancer"},',
'{"Condition" : "Colon Cancer Screening"},',
'{"Condition" : "Colon cancer; rectal cancer"},',
'{"Condition" : "Colon Polyps"},',
'{"Condition" : "Colorectal Cancer"},',
'{"Condition" : "Common Cold"},',
'{"Condition" : "Common Cold (Pediatric)"},',
'{"Condition" : "Common Variable Immunodeficiency (CVID)"},',
'{"Condition" : "Communication Disorders"},',
'{"Condition" : "Complex Regional Pain Syndrome- type 1 (CRPS-I)"},',
'{"Condition" : "Complicated Grief"},',
'{"Condition" : "Congenital Adrenal Hyperplasia"},',
'{"Condition" : "Congenital Afibrinogenemia"},',
'{"Condition" : "Congenital Heart Disease"},',
'{"Condition" : "Congenital Lactic Acidosis (CLA)"},',
'{"Condition" : "Congenital Skin Diseases"},',
'{"Condition" : "Congestive Heart Failure"},',
'{"Condition" : "Conjunctivitis, Bacterial"},',
'{"Condition" : "Connective Tissue Diseases"},',
'{"Condition" : "Constipation"},',
'{"Condition" : "Contact Dermatitis"},',
'{"Condition" : "Continuous Positive Airway Pressure (CPAP)"},',
'{"Condition" : "Contraception"},',
'{"Condition" : "COPD (Chronic Obstructive Pulmonary Disease)"},',
'{"Condition" : "Coronary Artery Disease"},',
'{"Condition" : "Crohn\'s Disease"},',
'{"Condition" : "Crohn\'s Disease (Pediatric)"},',
'{"Condition" : "Cushing\'s Disease"},',
'{"Condition" : "Cutaneous Candidiasis"},',
'{"Condition" : "Cutaneous Lupus Erythematosus"},',
'{"Condition" : "Cutaneous T-Cell Lymphoma"},',
'{"Condition" : "Cystic Fibrosis"},',
'{"Condition" : "Cystoid Macular Edema"},',
'{"Condition" : "Cytomegalovirus (CMV) Retinitis"},',
'{"Condition" : "Cytomegalovirus Infections"},',
'{"Condition" : "Deafness"},',
'{"Condition" : "Deep Vein Thrombosis"},',
'{"Condition" : "Defibrillator (AICD)"},',
'{"Condition" : "Dementia"},',
'{"Condition" : "Dental Filling"},',
'{"Condition" : "Depression"},',
'{"Condition" : "Depression (Adolescent)"},',
'{"Condition" : "Depression (Adult and Geriatric)"},',
'{"Condition" : "Depression (Major\\/Severe)"},',
'{"Condition" : "Depression (Pediatric)"},',
'{"Condition" : "Depression (Treatment-Resistant)"},',
'{"Condition" : "Dermatitis, Atopic"},',
'{"Condition" : "Dermatomyositis (Connective Tissue Disease)"},',
'{"Condition" : "Desmoid Tumors"},',
'{"Condition" : "Diabetes (Pediatric)"},',
'{"Condition" : "Diabetes and Hypertension"},',
'{"Condition" : "Diabetes Mellitus Types I and II"},',
'{"Condition" : "Diabetes Mellitus, Type 1"},',
'{"Condition" : "Diabetes Mellitus, Type 2"},',
'{"Condition" : "Diabetes Prevention"},',
'{"Condition" : "Diabetic Foot Ulcers"},',
'{"Condition" : "Diabetic Gastroparesis"},',
'{"Condition" : "Diabetic Kidney Disease"},',
'{"Condition" : "Diabetic Macular Edema"},',
'{"Condition" : "Diabetic Neuropathy"},',
'{"Condition" : "Diabetic Retinopathy"},',
'{"Condition" : "Diabetic Vitreous Hemorrhage"},',
'{"Condition" : "Diet and Nutrition"},',
'{"Condition" : "Digestive System Neoplasms"},',
'{"Condition" : "Discoid Lupus Erythematosus (DLE)"},',
'{"Condition" : "Dizzy\\/Fainting Spells"},',
'{"Condition" : "Down\'s Syndrome"},',
'{"Condition" : "Dry Eye Disease"},',
'{"Condition" : "Ductal Carcinoma In Situ (DCIS)"},',
'{"Condition" : "Duodenal Ulcers"},',
'{"Condition" : "Dupuytren\'s Disease"},',
'{"Condition" : "Dysfunctional Uterine Bleeding"},',
'{"Condition" : "Dyskinesias"},',
'{"Condition" : "Dyslexia"},',
'{"Condition" : "Dyslipidemia"},',
'{"Condition" : "Dysmenorrhea (Painful Periods)"},',
'{"Condition" : "Dysrhythmia"},',
'{"Condition" : "Dystonias"},',
'{"Condition" : "Ear Infections"},',
'{"Condition" : "Ear Infections (Pediatric)"},',
'{"Condition" : "Ear, Nose, and Throat (ENT) Surgeries"},',
'{"Condition" : "Eczema (Atopic Dermatitis - Pediatric)"},',
'{"Condition" : "Eczema (Atopic Dermatitis)"},',
'{"Condition" : "Effects of Chemotherapy"},',
'{"Condition" : "Elevated Triglycerides (Hypertriglyceridemia)"},',
'{"Condition" : "Emotional Processing"},',
'{"Condition" : "Emphysema"},',
'{"Condition" : "Endometrial Cancer"},',
'{"Condition" : "Endometrial Hyperplasia"},',
'{"Condition" : "Endometriosis"},',
'{"Condition" : "Endotracheal Intubation"},',
'{"Condition" : "Enuresis"},',
'{"Condition" : "Epidermolysis Bullosa"},',
'{"Condition" : "Epilepsy"},',
'{"Condition" : "Epilepsy (Pediatric)"},',
'{"Condition" : "Erectile Dysfunction"},',
'{"Condition" : "Esophageal Cancer"},',
'{"Condition" : "Esophageal Disorders"},',
'{"Condition" : "Essential Tremor"},',
'{"Condition" : "Ewing\'s Family Tumors"},',
'{"Condition" : "Excessive Sweating"},',
'{"Condition" : "Extraction"},',
'{"Condition" : "Eye Disorders\\/Infections"},',
'{"Condition" : "Eye Disorders\\/Infections (Pediatric)"},',
'{"Condition" : "Fabry Disease"},',
'{"Condition" : "Fallopian Tube Cancer"},',
'{"Condition" : "Familial Chylomicronemia Syndrome"},',
'{"Condition" : "Familial Hypercholesterolemia"},',
'{"Condition" : "Fast Heart Rate (Tachycardia)"},',
'{"Condition" : "Fecal Incontinence"},',
'{"Condition" : "Female Hormonal Deficiencies\\/Abnormalities"},',
'{"Condition" : "Fever"},',
'{"Condition" : "Fibrocystic Breast Disease"},',
'{"Condition" : "Fibromyalgia"},',
'{"Condition" : "Follicular Lymphoma"},',
'{"Condition" : "Fredrickson Type III Hyperlipoproteinemia"},',
'{"Condition" : "Frequent Nighttime Urination (Nocturia)"},',
'{"Condition" : "Friedreich\'s Ataxia"},',
'{"Condition" : "Frozen Shoulder (Adhesive Capsulitis)"},',
'{"Condition" : "Functional Dyspepsia"},',
'{"Condition" : "Fungal Infections"},',
'{"Condition" : "Gall Bladder Cancer"},',
'{"Condition" : "Gall Bladder Disorders"},',
'{"Condition" : "Gambling Problems"},',
'{"Condition" : "Gastric Cancer"},',
'{"Condition" : "Gastric Ulcers"},',
'{"Condition" : "Gastroenteritis"},',
'{"Condition" : "Gastroesophageal Reflux Disease (GERD)"},',
'{"Condition" : "Gastrointestinal Diseases and Disorders"},',
'{"Condition" : "Gastroparesis"},',
'{"Condition" : "Gaucher Disease"},',
'{"Condition" : "Generalized Anxiety Disorder (GAD - Pediatric)"},',
'{"Condition" : "Generalized Anxiety Disorder (GAD)"},',
'{"Condition" : "Genital Herpes"},',
'{"Condition" : "Genital Warts"},',
'{"Condition" : "Genitourinary Cancer"},',
'{"Condition" : "Genitourinary Prolapse"},',
'{"Condition" : "Germ Cell Tumors"},',
'{"Condition" : "Gestational Trophoblastic Neoplasia"},',
'{"Condition" : "Glaucoma"},',
'{"Condition" : "Glioblastoma multiforme"},',
'{"Condition" : "Gliomas"},',
'{"Condition" : "Glomerulonephritis"},',
'{"Condition" : "Glomerulosclerosis"},',
'{"Condition" : "Gout (Hyperuricemia)"},',
'{"Condition" : "Graft-Versus-Host Disease (GVHD)"},',
'{"Condition" : "Growth Hormone Deficiencies\\/Abnormalities"},',
'{"Condition" : "Gynecological Infections"},',
'{"Condition" : "Gynecomastia (breast enlargement)"},',
'{"Condition" : "Gynecomastia (breast enlargement) - Pediatrics"},',
'{"Condition" : "Habit Reversal"},',
'{"Condition" : "Hair Loss"},',
'{"Condition" : "Hair Removal"},',
'{"Condition" : "Hand Dermatitis"},',
'{"Condition" : "Head and Neck Cancer"},',
'{"Condition" : "Head Lice"},',
'{"Condition" : "Headaches"},',
'{"Condition" : "Hearing Aid"},',
'{"Condition" : "Hearing Impairment"},',
'{"Condition" : "Hearing Loss"},',
'{"Condition" : "Heart Attack (Myocardial Infarction)"},',
'{"Condition" : "Heart Defect"},',
'{"Condition" : "Heart Disease"},',
'{"Condition" : "Heart Failure"},',
'{"Condition" : "Heart Transplantation"},',
'{"Condition" : "Heart Valve Disease"},',
'{"Condition" : "Heartburn"},',
'{"Condition" : "Heartburn (Pediatric)"},',
'{"Condition" : "Helicobacter Pylori"},',
'{"Condition" : "Hemangioma"},',
'{"Condition" : "Hematologic Cancer"},',
'{"Condition" : "Hematologic Neoplasms"},',
'{"Condition" : "Hematological Disorders"},',
'{"Condition" : "Hemifacial Spasm"},',
'{"Condition" : "Hemodialysis"},',
'{"Condition" : "Hemoglobinuria, Paroxysmal"},',
'{"Condition" : "Hemophilia"},',
'{"Condition" : "Hemorrhage"},',
'{"Condition" : "Hemorrhoids"},',
'{"Condition" : "Hepatic Encephalopathy"},',
'{"Condition" : "Hepatitis"},',
'{"Condition" : "Hepatitis B"},',
'{"Condition" : "Hepatitis C; Chronic"},',
'{"Condition" : "Hepatoblastoma"},',
'{"Condition" : "Hereditary Angioedema"},',
'{"Condition" : "Hereditary Cancer Syndromes"},',
'{"Condition" : "Hernia"},',
'{"Condition" : "Herpes Simplex Infections"},',
'{"Condition" : "Herpes Zoster Infections"},',
'{"Condition" : "Herpetic Neuralgia"},',
'{"Condition" : "High Blood Pressure (Hypertension - Pediatric)"},',
'{"Condition" : "High Blood Pressure (Hypertension)"},',
'{"Condition" : "High Cholesterol (Hyperlipidemia)"},',
'{"Condition" : "Hip Replacement"},',
'{"Condition" : "Histiocytoma"},',
'{"Condition" : "HIV"},',
'{"Condition" : "HIV (Pediatric)"},',
'{"Condition" : "HIV Infections"},',
'{"Condition" : "HIV\\/AIDS"},',
'{"Condition" : "Hives (Urticaria)"},',
'{"Condition" : "Hodgkin\'s Disease"},',
'{"Condition" : "Holoprosencephaly"},',
'{"Condition" : "Hormone Deficiencies"},',
'{"Condition" : "Hormone Replacement Therapy"},',
'{"Condition" : "Hot Flash"},',
'{"Condition" : "Human Growth Hormone (HGH)"},',
'{"Condition" : "Human Papilloma Virus (HPV)"},',
'{"Condition" : "Hunter Syndrome (MPS II)"},',
'{"Condition" : "Huntington\'s Disease"},',
'{"Condition" : "Hypercalcemia"},',
'{"Condition" : "Hyperparathyroidism"},',
'{"Condition" : "Hyperparathyroidism (Pediatric)"},',
'{"Condition" : "Hypertriglyceridemia"},',
'{"Condition" : "Hypochondriasis"},',
'{"Condition" : "Hypogammaglobulinemia"},',
'{"Condition" : "Hypogonadism"},',
'{"Condition" : "Hyponatremia"},',
'{"Condition" : "Ichthyosis"},',
'{"Condition" : "Idiopathic Inflammatory Myopathies"},',
'{"Condition" : "Idiopathic Membranous Nephropathy"},',
'{"Condition" : "Idiopathic Pulmonary Fibrosis"},',
'{"Condition" : "Idiopathic Short Stature"},',
'{"Condition" : "Idiopathic Thrombocytopenic Purpura (ITP)"},',
'{"Condition" : "Ileus"},',
'{"Condition" : "Immune (Idiopathic) Thrombocytopenic Purpura (ITP)"},',
'{"Condition" : "Impotence"},',
'{"Condition" : "In Vitro Fertilization"},',
'{"Condition" : "Indikation: Diabetes - Typ II"},',
'{"Condition" : "Infantile Fibrosarcoma"},',
'{"Condition" : "Infantile Neuronal Ceroid Lipofuscinosis"},',
'{"Condition" : "Infantile Spasms"},',
'{"Condition" : "Infectious Colitis"},',
'{"Condition" : "Infertility"},',
'{"Condition" : "Inflammation"},',
'{"Condition" : "Inflammatory Bowel Disease"},',
'{"Condition" : "Influenza"},',
'{"Condition" : "Injection Port"},',
'{"Condition" : "Insomnia"},',
'{"Condition" : "Intermittent Claudication"},',
'{"Condition" : "Intermittent Explosive Disorder"},',
'{"Condition" : "Interstitial Cystitis"},',
'{"Condition" : "Intra-Abdominal Infections"},',
'{"Condition" : "Intrauterine Device"},',
'{"Condition" : "Iritis"},',
'{"Condition" : "Iron Overload (Hemachromatosis)"},',
'{"Condition" : "Irritable Bowel Syndrome (IBS- Pediatric)"},',
'{"Condition" : "Irritable Bowel Syndrome (IBS)"},',
'{"Condition" : "Ischemic Foot Ulcers"},',
'{"Condition" : "Islet Ce417ll Cancer"},',
'{"Condition" : "Joint Injuries"},',
'{"Condition" : "Kaposi\'s Sarcoma"},',
'{"Condition" : "Kawasaki Disease"},',
'{"Condition" : "Keratoses"},',
'{"Condition" : "Kidney Cancer"},',
'{"Condition" : "Kidney Disease"},',
'{"Condition" : "Kidney Disease (Pediatric)"},',
'{"Condition" : "Kidney Failure"},',
'{"Condition" : "Kidney Failure (Pediatric)"},',
'{"Condition" : "Kidney Stones"},',
'{"Condition" : "Kidney Transplantation"},',
'{"Condition" : "Kleptomania"},',
'{"Condition" : "Knee Injuries"},',
'{"Condition" : "Knee Replacement"},',
'{"Condition" : "Knee Surgery"},',
'{"Condition" : "Kronisk bronkitis (KOL)\\/ Rygerlunger"},',
'{"Condition" : "Labor\\/Delivery"},',
'{"Condition" : "Lactation Insufficiency"},',
'{"Condition" : "Lactose Intolerance"},',
'{"Condition" : "Late Infantile Neuronal Ceroid Lipfuscinsosis"},',
'{"Condition" : "Learning Disorders"},',
'{"Condition" : "Leber\'s Hereditary Optic Neuropathy (LHON)"},',
'{"Condition" : "Leukemia"},',
'{"Condition" : "Leukemia (Pediatric)"},',
'{"Condition" : "Limb Preservation and Amputation"},',
'{"Condition" : "Limb Spasticity"},',
'{"Condition" : "Liposuction"},',
'{"Condition" : "Liver Cancer"},',
'{"Condition" : "Liver Disease"},',
'{"Condition" : "Liver Disorders"},',
'{"Condition" : "Liver Failure"},',
'{"Condition" : "Liver Metastases"},',
'{"Condition" : "Liver Transplantation"},',
'{"Condition" : "Low Blood Pressure (Hypotension)"},',
'{"Condition" : "Low Blood Sodium (Hyponatremia)"},',
'{"Condition" : "Low Testosterone"},',
'{"Condition" : "Lower Back Pain"},',
'{"Condition" : "Lung Cancer"},',
'{"Condition" : "Lung Disease"},',
'{"Condition" : "Lung Injury"},',
'{"Condition" : "Lupus"},',
'{"Condition" : "Lupus Nephritis"},',
'{"Condition" : "Lyme Disease"},',
'{"Condition" : "Lymphedema"},',
'{"Condition" : "Lymphocytic Leukemia, Acute"},',
'{"Condition" : "Lymphocytic Leukemia, Chronic"},',
'{"Condition" : "Lymphoma"},',
'{"Condition" : "Lymphoma, B-Cell"},',
'{"Condition" : "Lymphoproliferative disorders"},',
'{"Condition" : "Lysosomal Acid Lipase Deficiency  (LAL)"},',
'{"Condition" : "MAC Infection (Mycobacterium Avium Complex)"},',
'{"Condition" : "Macular Degeneration"},',
'{"Condition" : "Macular Edema"},',
'{"Condition" : "Male Hormonal Deficiencies\\/Abnormalities"},',
'{"Condition" : "Male Pattern Baldness"},',
'{"Condition" : "Malignant Adenoma"},',
'{"Condition" : "Malignant Ascites"},',
'{"Condition" : "Malignant Melanoma"},',
'{"Condition" : "Malignant Pheochromocytoma\\/Paraganglioma"},',
'{"Condition" : "Manic Disorders"},',
'{"Condition" : "Mantle Cell Lymphoma"},',
'{"Condition" : "Marginal Zone Lymphoma"},',
'{"Condition" : "Mastectomy"},',
'{"Condition" : "McCune-Albright Syndrome"},',
'{"Condition" : "Medical Prosthetics"},',
'{"Condition" : "Melanoma"},',
'{"Condition" : "Memory Loss"},',
'{"Condition" : "Memory Problems"},',
'{"Condition" : "Meningiomas"},',
'{"Condition" : "Meningitis"},',
'{"Condition" : "Menopause"},',
'{"Condition" : "Men\'s Health"},',
'{"Condition" : "Menstrual Disorders"},',
'{"Condition" : "Menstruation"},',
'{"Condition" : "Mental Disability"},',
'{"Condition" : "Mesothelioma"},',
'{"Condition" : "Metabolic Disorders"},',
'{"Condition" : "Metabolic Syndrome"},',
'{"Condition" : "Metastatic Cancer"},',
'{"Condition" : "Metastatic Melanoma"},',
'{"Condition" : "Migraine (Pediatric)"},',
'{"Condition" : "Migraine and Cluster Headaches"},',
'{"Condition" : "Miscarriage"},',
'{"Condition" : "Mitral Valve Regurgitation"},',
'{"Condition" : "Molluscum Contagiosum"},',
'{"Condition" : "Molluscum Contagiosum (Pediatric)"},',
'{"Condition" : "Mood Disorders"},',
'{"Condition" : "Mood Disorders (Pediatric)"},',
'{"Condition" : "Moyamoya Syndrome"},',
'{"Condition" : "Mucositis"},',
'{"Condition" : "Multiple Myeloma"},',
'{"Condition" : "Multiple Sclerosis"},',
'{"Condition" : "Multiple System Atrophy (MSA)"},',
'{"Condition" : "Muscle Pain"},',
'{"Condition" : "Muscular Dystrophy"},',
'{"Condition" : "Musculoskeletal Diseases"},',
'{"Condition" : "Myasthenia Gravis (Chronic Weakness)"},',
'{"Condition" : "Myasthenia Gravis generalised"},',
'{"Condition" : "Mycosis Fungoides"},',
'{"Condition" : "Myelodysplastic Syndromes (MDS)"},',
'{"Condition" : "Myelofibrosis"},',
'{"Condition" : "Myocardial Ischemia"},',
'{"Condition" : "Myopia"},',
'{"Condition" : "Myopic Macular Degeneration"},',
'{"Condition" : "Myositis"},',
'{"Condition" : "Narcolepsy"},',
'{"Condition" : "Nasal Obstruction"},',
'{"Condition" : "Nasopharyngeal Cancer"},',
'{"Condition" : "Near-Sighted Corrective Surgery"},',
'{"Condition" : "Neck Pain"},',
'{"Condition" : "Neoplasm Metastasis"},',
'{"Condition" : "Neoplasms"},',
'{"Condition" : "Nephritis"},',
'{"Condition" : "Nephropathy"},',
'{"Condition" : "Nerve Injury"},',
'{"Condition" : "Neurectoderma"},',
'{"Condition" : "Neuroblastoma"},',
'{"Condition" : "Neuroendocrine Carcinoma"},',
'{"Condition" : "Neurofibromatosis"},',
'{"Condition" : "Neurologic Disorders"},',
'{"Condition" : "Neuronal Ceroid Lipofuscinoses (NCL)"},',
'{"Condition" : "Neuropathic Facial Pain"},',
'{"Condition" : "Neuropathy"},',
'{"Condition" : "Neutropenia"},',
'{"Condition" : "Nocturia"},',
'{"Condition" : "Non-Erosive Reflux Disease (NERD)"},',
'{"Condition" : "Non-Hodgkin\'s Lymphoma"},',
'{"Condition" : "Non-Small Cell Lung Cancer"},',
'{"Condition" : "Non-Ulcer Dyspepsia (NUD)"},',
'{"Condition" : "Obesity"},',
'{"Condition" : "Obsessive-Compulsive Disorder"},',
'{"Condition" : "Occlusions"},',
'{"Condition" : "Ocular Hypertension"},',
'{"Condition" : "Open Heart Surgery"},',
'{"Condition" : "Opioid Use Disorder"},',
'{"Condition" : "Oppositional Defiant Disorder (ODD)"},',
'{"Condition" : "Oral Cancer"},',
'{"Condition" : "Oral Candidiasis"},',
'{"Condition" : "Oral Cavity Cancer"},',
'{"Condition" : "Oral Facial Pain"},',
'{"Condition" : "Oral Medicine"},',
'{"Condition" : "Organ Transplant"},',
'{"Condition" : "Organ Transplant - Pediatric"},',
'{"Condition" : "Orthopedic Surgery"},',
'{"Condition" : "Orthopedics"},',
'{"Condition" : "Orthostatic Hypotension"},',
'{"Condition" : "Osteoarthritis"},',
'{"Condition" : "Osteomyelitis"},',
'{"Condition" : "Osteopenia"},',
'{"Condition" : "Osteoporosis"},',
'{"Condition" : "Osteosarcoma"},',
'{"Condition" : "Otitis (Pediatric)"},',
'{"Condition" : "Otitis Externa (Swimmer\'s Ear)"},',
'{"Condition" : "Otitis Media"},',
'{"Condition" : "Ovarian Cancer"},',
'{"Condition" : "Ovarian Cysts"},',
'{"Condition" : "Ovarian Function"},',
'{"Condition" : "Ovulation"},',
'{"Condition" : "Pacemaker (ICD)"},',
'{"Condition" : "Paget\'s Disease"},',
'{"Condition" : "Pain"},',
'{"Condition" : "Pain (Pediatric)"},',
'{"Condition" : "Pain; Bone Neoplasms; Neoplasm Metastasis"},',
'{"Condition" : "Pancreatic Cancer"},',
'{"Condition" : "Pancreatic Disorders"},',
'{"Condition" : "Pancreatitis"},',
'{"Condition" : "Panic Disorders"},',
'{"Condition" : "Panic Disorders (Pediatric)"},',
'{"Condition" : "Parathyroid Cancer"},',
'{"Condition" : "Parathyroid Disease"},',
'{"Condition" : "Parathyroid Disorders"},',
'{"Condition" : "Parkinson\'s Disease"},',
'{"Condition" : "Partial Medial Meniscectomy"},',
'{"Condition" : "Pediatric Health"},',
'{"Condition" : "Pelvic Adhesions"},',
'{"Condition" : "Pelvic Cancer"},',
'{"Condition" : "Pemphigus Vulgaris (PV)"},',
'{"Condition" : "Perimenopause"},',
'{"Condition" : "Periodontitis"},',
'{"Condition" : "Peripheral Arterial Disease (PAD)"},',
'{"Condition" : "Peripheral Arterial Occlusive Disease"},',
'{"Condition" : "Peripheral Neuropathy"},',
'{"Condition" : "Peripheral Vascular Disease"},',
'{"Condition" : "Peritoneal Cancer"},',
'{"Condition" : "Peyronie\'s Disease"},',
'{"Condition" : "Pharyngitis"},',
'{"Condition" : "Phenylketonuria"},',
'{"Condition" : "Pituitary Disorders"},',
'{"Condition" : "Platelet Deficiencies"},',
'{"Condition" : "Platelet Disorders"},',
'{"Condition" : "Pleural Diseases"},',
'{"Condition" : "Pleural Effusion"},',
'{"Condition" : "Pneumonia"},',
'{"Condition" : "Pneumonia (Pediatric)"},',
'{"Condition" : "Polycystic Ovarian Syndrome"},',
'{"Condition" : "Polymyalgia Rheumatica (PMR)"},',
'{"Condition" : "Polymyositis (Inflammatory Muscle Disease)"},',
'{"Condition" : "Polyps"},',
'{"Condition" : "Pompe Disease"},',
'{"Condition" : "Post Menopause"},',
'{"Condition" : "Posterior Uveitis"},',
'{"Condition" : "Postherpetic Neuralgia"},',
'{"Condition" : "Post-Menopausal Osteopenia"},',
'{"Condition" : "Post-Menopausal Osteoporosis"},',
'{"Condition" : "Post-Operative Nausea and Vomiting"},',
'{"Condition" : "Post-Partum Depression"},',
'{"Condition" : "Post-Surgical Pain"},',
'{"Condition" : "Post-Traumatic Stress Disorders"},',
'{"Condition" : "Precancerous condition"},',
'{"Condition" : "Precocious Puberty"},',
'{"Condition" : "Preeclampsia"},',
'{"Condition" : "Pregnancy"},',
'{"Condition" : "Pregnancy Complications"},',
'{"Condition" : "Pregnant women with Multiple Sclerosis (MS)"},',
'{"Condition" : "Premature Ejaculation"},',
'{"Condition" : "Premenstrual Dysphoric Disorder (PMDD)"},',
'{"Condition" : "Premenstrual Syndrome"},',
'{"Condition" : "Pressure Ulcer"},',
'{"Condition" : "Pressure Ulcers"},',
'{"Condition" : "Primary Immunodeficiency Disorders"},',
'{"Condition" : "Primary Insulin Hypersecretion"},',
'{"Condition" : "Progressive Multifocal Leukoencephalopathy (PML)"},',
'{"Condition" : "Prostate Cancer"},',
'{"Condition" : "Prostate Cancer, Early, Recurrent"},',
'{"Condition" : "Prostate Disorders"},',
'{"Condition" : "Prostatic Intraepithelial Neoplasia"},',
'{"Condition" : "Proteinuria"},',
'{"Condition" : "Pseudobulbar Affect"},',
'{"Condition" : "Psoriasis and Psoriatic Disorders"},',
'{"Condition" : "Psoriatic Arthritis"},',
'{"Condition" : "Psychosis"},',
'{"Condition" : "Pulmonary Arterial Hypertension"},',
'{"Condition" : "Pulmonary Embolism"},',
'{"Condition" : "Pulmonary Fibrosis"},',
'{"Condition" : "Rash"},',
'{"Condition" : "Raynaud\'s Disease"},',
'{"Condition" : "Razor Bumps (Pseudofolliculitis Barbae)"},',
'{"Condition" : "Rectal Cancer"},',
'{"Condition" : "Rectal Disorders"},',
'{"Condition" : "Recurrent Diarrhea"},',
'{"Condition" : "Recurrent Ovarian Cancer"},',
'{"Condition" : "Recurrent Pregnancy Loss"},',
'{"Condition" : "Recurrent Respiratory Papillomatosis"},',
'{"Condition" : "Red Cell Disorders"},',
'{"Condition" : "Reflex Sympathetic Dystrophy Syndrome (RSDS)"},',
'{"Condition" : "Reiter\'s Syndrome"},',
'{"Condition" : "Renal Anemia"},',
'{"Condition" : "Renal Artery Disease"},',
'{"Condition" : "Renal Cancer"},',
'{"Condition" : "Renal Cell Cancer"},',
'{"Condition" : "Renal Cell Carcinoma"},',
'{"Condition" : "Renal Failure"},',
'{"Condition" : "Reproductive Health"},',
'{"Condition" : "Respiratory Failure"},',
'{"Condition" : "Respiratory Syncytial Virus (RSV) Infection"},',
'{"Condition" : "Restless Leg Syndrome"},',
'{"Condition" : "Retinitis Pigmentosa"},',
'{"Condition" : "Retinoblastoma"},',
'{"Condition" : "Rhabdomyosarcoma"},',
'{"Condition" : "Rheumatic Fever"},',
'{"Condition" : "Rheumatoid Arthritis"},',
'{"Condition" : "Rheumatoid Arthritis (Pediatric)"},',
'{"Condition" : "Rhinitis, Allergic, Perennial"},',
'{"Condition" : "Rosacea"},',
'{"Condition" : "Rotavirus"},',
'{"Condition" : "Saliva and Salivary Gland Dysfunction"},',
'{"Condition" : "Sarcoidosis"},',
'{"Condition" : "Sarcoma"},',
'{"Condition" : "Sarcoma (Pediatric)"},',
'{"Condition" : "Scalp Disorders"},',
'{"Condition" : "Scar Tissue"},',
'{"Condition" : "Schizophrenia and Schizoaffective Disorders"},',
'{"Condition" : "Schizophrenia and Schizoaffective Disorders (Pediatric)"},',
'{"Condition" : "Schizotypal Personality Disorder (SPD)"},',
'{"Condition" : "Sciatica"},',
'{"Condition" : "Scleroderma"},',
'{"Condition" : "Seasonal Affective Disorder (SAD)"},',
'{"Condition" : "Seborrhea"},',
'{"Condition" : "Seborrheic Dermatitis"},',
'{"Condition" : "Seizure Disorders"},',
'{"Condition" : "Seizure Disorders (Pediatric)"},',
'{"Condition" : "Sepsis and Septicemia"},',
'{"Condition" : "Serial Evaluation of Ductal Epithelium"},',
'{"Condition" : "Severe Premenstrual Symptom"},',
'{"Condition" : "Severe Short Stature"},',
'{"Condition" : "Sexual Dysfunction"},',
'{"Condition" : "Sexually Transmitted Diseases (STDs)"},',
'{"Condition" : "Sezary Syndrome"},',
'{"Condition" : "Shingles"},',
'{"Condition" : "Sickle Cell Disease"},',
'{"Condition" : "Sinus Infections"},',
'{"Condition" : "Sjgren-Larsson Syndrome"},',
'{"Condition" : "Sjogren\'s Syndrome"},',
'{"Condition" : "Skin Aging"},',
'{"Condition" : "Skin Cancer"},',
'{"Condition" : "Skin Cell Studies"},',
'{"Condition" : "Skin Infections\\/Disorders"},',
'{"Condition" : "Skin Lipomas"},',
'{"Condition" : "Skin Wounds"},',
'{"Condition" : "Sleep Apnea Syndromes"},',
'{"Condition" : "Sleep Disorders"},',
'{"Condition" : "Sleep Disorders (Pediatric)"},',
'{"Condition" : "Small Cell Lung Cancer"},',
'{"Condition" : "Smallpox"},',
'{"Condition" : "Smoking Cessation"},',
'{"Condition" : "Social Anxiety Disorder (SAD)"},',
'{"Condition" : "Social Phobia"},',
'{"Condition" : "Soft Tissue Infections"},',
'{"Condition" : "Soft Tissue Sarcoma"},',
'{"Condition" : "Solid Tumors"},',
'{"Condition" : "Somatoform and Dissociative Disorders"},',
'{"Condition" : "Speech Disorders"},',
'{"Condition" : "Spinal Cord Disorders"},',
'{"Condition" : "Spinal Cord Injuries"},',
'{"Condition" : "Spinal Cord Malignancy"},',
'{"Condition" : "Spinal Muscular Atrophy"},',
'{"Condition" : "Spinal Surgery"},',
'{"Condition" : "Spine Athroplasty"},',
'{"Condition" : "Spinocerebellar Disorders"},',
'{"Condition" : "Sporotrichosis"},',
'{"Condition" : "Sprains"},',
'{"Condition" : "Squamous Cell Carcinoma"},',
'{"Condition" : "Staphylococcal Infections"},',
'{"Condition" : "Staphylococcal Skin Infections"},',
'{"Condition" : "Stasis Dermatitis"},',
'{"Condition" : "Stem Cell Transplant"},',
'{"Condition" : "Stent"},',
'{"Condition" : "Sterilization"},',
'{"Condition" : "Stimulant Use Disorder"},',
'{"Condition" : "Stomach Cancer"},',
'{"Condition" : "Stomach Discomfort"},',
'{"Condition" : "Strep Throat"},',
'{"Condition" : "Stress"},',
'{"Condition" : "Stretch Marks"},',
'{"Condition" : "Stroke"},',
'{"Condition" : "Substance Abuse"},',
'{"Condition" : "Suicide"},',
'{"Condition" : "Sun Poisoning"},',
'{"Condition" : "Sunspot Fungus (Tinea Versicolor)"},',
'{"Condition" : "Surgery"},',
'{"Condition" : "Surviving Abuse"},',
'{"Condition" : "Systemic Candidiasis"},',
'{"Condition" : "Systemic Fungal Infections"},',
'{"Condition" : "Systemic Lupus Erythematosus"},',
'{"Condition" : "Tardive Dyskinesia"},',
'{"Condition" : "T-Cell Lymphoma"},',
'{"Condition" : "Tendon Injuries"},',
'{"Condition" : "Tennis Elbow"},',
'{"Condition" : "Tension Headaches"},',
'{"Condition" : "Test Category"},',
'{"Condition" : "Testicular Cancer"},',
'{"Condition" : "Testotoxicosis"},',
'{"Condition" : "Testotoxikose"},',
'{"Condition" : "Thalassemia"},',
'{"Condition" : "Thoracotomy"},',
'{"Condition" : "Throat and Tonsil Infections"},',
'{"Condition" : "Thrombocytopenia and Thrombocytopenia Prevention"},',
'{"Condition" : "Thrombocytopenic"},',
'{"Condition" : "Thromboembolism"},',
'{"Condition" : "Thrombosis"},',
'{"Condition" : "Thymomas"},',
'{"Condition" : "Thyroid Cancer"},',
'{"Condition" : "Thyroid Disease"},',
'{"Condition" : "Thyroid Disorders"},',
'{"Condition" : "Tic Disorders"},',
'{"Condition" : "Tinea Capitis (Ringworm of the Scalp)"},',
'{"Condition" : "Tinnitus"},',
'{"Condition" : "Tobacco Use Disorder"},',
'{"Condition" : "Toenail Fungus (Onychomycosis)"},',
'{"Condition" : "Tourette\'s Syndrome"},',
'{"Condition" : "Transdermal Continuous Oxygen Therapy (TCOT)"},',
'{"Condition" : "Transplant Rejection"},',
'{"Condition" : "Traumatic Brain Injury"},',
'{"Condition" : "Trigeminal Neuralgia"},',
'{"Condition" : "Turner Syndrome"},',
'{"Condition" : "Tyrosinemia"},',
'{"Condition" : "Ulcerative Colitis"},',
'{"Condition" : "Ulcerative Colitis (Pediatric)"},',
'{"Condition" : "Ulcers"},',
'{"Condition" : "Unverricht-Lundborg Syndrome"},',
'{"Condition" : "Urethral Strictures"},',
'{"Condition" : "Urinary Incontinence"},',
'{"Condition" : "Urinary Tract Infections"},',
'{"Condition" : "Urothelial Tract Cancer"},',
'{"Condition" : "Urticaria"},',
'{"Condition" : "Uterine Cancer"},',
'{"Condition" : "Uterine Disorders"},',
'{"Condition" : "Uterine Fibroids"},',
'{"Condition" : "Uveitis"},',
'{"Condition" : "Vaccines"},',
'{"Condition" : "Vaginal Atrophy"},',
'{"Condition" : "Vaginal Cancer"},',
'{"Condition" : "Vaginal Infection"},',
'{"Condition" : "Vaginitis"},',
'{"Condition" : "Vancomycin Resistant Enterococci (VRE)"},',
'{"Condition" : "Varicose Veins"},',
'{"Condition" : "Vascular Diseases"},',
'{"Condition" : "Vasomotor Rhinitis"},',
'{"Condition" : "Venous Leg Ulcers"},',
'{"Condition" : "Venous Thromboembolism"},',
'{"Condition" : "Venous Thrombosis"},',
'{"Condition" : "Vestibular Hypofunction"},',
'{"Condition" : "Viral Infections"},',
'{"Condition" : "Vitamin Deficiency"},',
'{"Condition" : "Vitiligo"},',
'{"Condition" : "Vitreous Hemorrhage"},',
'{"Condition" : "Vomiting"},',
'{"Condition" : "Von Willebrand Disease"},',
'{"Condition" : "Vulvar Dysplasia and Carcinoma"},',
'{"Condition" : "Warts"},',
'{"Condition" : "Weight Loss"},',
'{"Condition" : "West Nile Virus"},',
'{"Condition" : "White Cell Disorders"},',
'{"Condition" : "Wilms\' Tumor"},',
'{"Condition" : "Wilson\'s Disease"},',
'{"Condition" : "Wolman Disease"},',
'{"Condition" : "Women\'s Health"},',
'{"Condition" : "Wounds"},',
'{"Condition" : "Yeast Infections"}',
']; ',
'{UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_TRIALS\'] = [];',
';',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ \t__dialogGuid: \'abe154fa-6c7a-45bc-93a3-8bb266e54f69\', \targumentsBoundToCotrols: \'whatCondition|Character={LIST_CONDITIONS}\\n\', \t__dtfmt: \'MM/dd/yyyy\' });',
'{UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'BUTTON_LIST_GENDER\'] = [{html: \'All\',value: \'All\',tip: \'\'},{html: \'Female\',value: \'Female\',tip: \'\'},{html: \'Male\',value: \'Male\',tip: \'\'}];',
'{UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'BUTTON_LIST_STUDY_STATUS\'] = [{html: \'Not yet recruiting\',value: \'Not yet recruiting\',tip: \'\'},{html: \'Recruiting\',value: \'Recruiting\',tip: \'\'}];',
'{UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'BUTTON_LIST_STUDY_TYPE\'] = [{html: \'Observational\',value: \'Observational\',tip: \'\'},{html: \'Interventional\',value: \'Interventional\',tip: \'\'}];',
'{UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'BUTTON_LIST_PHASE\'] = [{html: \'1\',value: \'1\',tip: \'\'},{html: \'2\',value: \'2\',tip: \'\'},{html: \'3\',value: \'3\',tip: \'\'},{html: \'4\',value: \'4\',tip: \'\'}];',
'{UXPRERENDEREDALIAS}_DlgObj._mapSettings[\'MAP_TRIALS\'] = {theme: \'iOS7\',ui: {overviewMap: false,draggable: true,zoomOnDblClick: true,panControl: false,scale: false,streetViewControl: false,zoomControl: false,mapTypeControl: false},route: {draggable: false,avoid: {highways: false,tolls: false},travelMode: \'Driving\',units: \'Default\',optimizeOrder: false,directionsPanel: \'\'},type: \'ROADMAP\',onZoomChange: function(data) { },onInitialize: function(data) { var options = {',
'  enableHighAccuracy: true,',
'  timeout: 5000,',
'  maximumAge: 0',
'};',
'function onSuccess(pos) {',
'  var crd = pos.coords;',
'  {UXPRERENDEREDALIAS}_DlgObj.getControl(\'MAP_TRIALS\').setCenter([crd.latitude, crd.longitude], true);',
'  console.log(\'Your current position is:\');',
'  console.log(\'Latitude : \' + crd.latitude);',
'  console.log(\'Longitude: \' + crd.longitude);',
'};',
'function onError(err) {',
'  console.warn(\'ERROR(\' + err.code + \'): \' + err.message);',
'};',
'if ("geolocation" in navigator) {',
'\tnavigator.geolocation.getCurrentPosition(onSuccess, onError, options);',
'} else {',
'  console.log(\'Unable to determine your location.\');',
'}}};',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'LIST_CONDITIONS\'] =  { type: \'list\',  data: {UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_CONDITIONS\'],  settings: {UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_CONDITIONS\'] }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'LIST_TRIALS\'] =  { type: \'list\',  data: {UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_TRIALS\'],  settings: {UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_TRIALS\'] }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'SLIDER_AGE_RANGE\'] = { type: \'slider\',  settings:  {theme: \'iOS7\',handle: {show: true},type: \'range\',min: 0,max: 85,step: 1} }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'MAP_TRIALS\'] = { type: \'map\', onInitialize: function() {  var mapObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'MAP_TRIALS\');',
'mapObj.setZoom(13);;} ,   settings:  {UXPRERENDEREDALIAS}_DlgObj._mapSettings[\'MAP_TRIALS\'] }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'BUTTON_LIST_GENDER\'] = { type: \'buttonList\', data: {UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'BUTTON_LIST_GENDER\'],  settings:  {theme: \'iOS7\',button: {layout: \'text\',keepPressed: true},allowNullSelection: \'auto\'} }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'BUTTON_LIST_STUDY_STATUS\'] = { type: \'buttonList\', data: {UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'BUTTON_LIST_STUDY_STATUS\'],  settings:  {theme: \'iOS7\',button: {layout: \'text\',keepPressed: true},allowNullSelection: \'auto\'} }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'BUTTON_LIST_STUDY_TYPE\'] = { type: \'buttonList\', data: {UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'BUTTON_LIST_STUDY_TYPE\'],  settings:  {theme: \'iOS7\',button: {layout: \'text\',keepPressed: true},allowNullSelection: \'auto\'} }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'BUTTON_LIST_PHASE\'] = { type: \'buttonList\', data: {UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'BUTTON_LIST_PHASE\'],  settings:  {theme: \'iOS7\',button: {layout: \'text\',keepPressed: true},allowNullSelection: \'auto\'} }',
'{UXPRERENDEREDALIAS}_DlgObj.setVariables({});',
'{UXPRERENDEREDALIAS}_DlgObj._dataBoundControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._primaryTableAlias = \'\';',
'{UXPRERENDEREDALIAS}_DlgObj._listControlsInfo = {};',
'{UXPRERENDEREDALIAS}_DlgObj.createWindow(\'{UXPRERENDEREDALIAS}_CONTAINERWINDOW_WINDOW_REFINE\',\'modalpopup-resizable\',',
'\t{',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'element\',',
'\t\t\telementId: \'{UXPRERENDEREDALIAS}.V.R1.WINDOW_REFINE\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'both\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t},',
'\t\tstyle: \'background-color: #ffffff;\'',
'\t},',
'\theight: \'100%\',',
'\twidth: \'100%\',',
'\ttitle: {',
'\t\thtml: \'Refine Search\',',
'\t\tshow: true,',
'\t\tlocation: \'top\',',
'\t\tdirection: \'ltr\'',
'\t},',
'\tdisableMove: false,',
'\ttheme: \'iOS7\',',
'\tanimation: {',
'\t\tshow: {',
'\t\t\ttype: \'fade\',',
'\t\t\tduration: \'slow\'',
'\t\t},',
'\t\thide: {',
'\t\t\ttype: \'none\',',
'\t\t\tduration: \'fast\'',
'\t\t}',
'\t}',
'}',
'\t);',
'{UXPRERENDEREDALIAS}_DlgObj._functions._showContainerWindow_WINDOW_REFINE = function(objEle) {',
'\tvar currWindow = {UXPRERENDEREDALIAS}_DlgObj.getWindow(\'{UXPRERENDEREDALIAS}_CONTAINERWINDOW_WINDOW_REFINE\');',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj._openWindows == \'undefined\') {UXPRERENDEREDALIAS}_DlgObj._openWindows = {};',
'\t{UXPRERENDEREDALIAS}_DlgObj._openWindows[\'WINDOW_REFINE\'] = currWindow;',
'\tcurrWindow.show();',
'\t}\t',
'{UXPRERENDEREDALIAS}_DlgObj.createWindow(\'{UXPRERENDEREDALIAS}_CONTAINERWINDOW_WINDOW_MAP\',\'modalpopup-resizable\',',
'\t{',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'element\',',
'\t\t\telementId: \'{UXPRERENDEREDALIAS}.V.R1.WINDOW_MAP\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'both\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t},',
'\t\tstyle: \'\'',
'\t},',
'\theight: \'100%\',',
'\twidth: \'100%\',',
'\ttitle: {',
'\t\thtml: \'&nbsp;\',',
'\t\tshow: true,',
'\t\tlocation: \'top\',',
'\t\tdirection: \'ltr\'',
'\t},',
'\tdisableMove: false,',
'\ttheme: \'iOS7\',',
'\tonShow: function() {var obj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'MAP_TRIALS\');',
'obj.refresh();',
';},',
'\tonResize: function() {var obj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'MAP_TRIALS\');',
'obj.refresh();',
';},',
'\tanimation: {',
'\t\tshow: {',
'\t\t\ttype: \'fade\',',
'\t\t\tduration: \'slow\'',
'\t\t},',
'\t\thide: {',
'\t\t\ttype: \'none\',',
'\t\t\tduration: \'fast\'',
'\t\t}',
'\t}',
'}',
'\t);',
'{UXPRERENDEREDALIAS}_DlgObj._functions._showContainerWindow_WINDOW_MAP = function(objEle) {',
'\tvar currWindow = {UXPRERENDEREDALIAS}_DlgObj.getWindow(\'{UXPRERENDEREDALIAS}_CONTAINERWINDOW_WINDOW_MAP\');',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj._openWindows == \'undefined\') {UXPRERENDEREDALIAS}_DlgObj._openWindows = {};',
'\t{UXPRERENDEREDALIAS}_DlgObj._openWindows[\'WINDOW_MAP\'] = currWindow;',
'\tcurrWindow.show();',
'\t}',
'{UXPRERENDEREDALIAS}_DlgObj._hasPanels = true;',
'varId = \'{UXPRERENDEREDALIAS}.V.R1.MAP_TRIALS.CONTROL\';',
'A5.u.drag.add(varId,\'prevent\');',
'{UXPRERENDEREDALIAS}_DlgObj._hasOnSynchronizeEvent = false;',
'A5.__dtfmt = \'MM/dd/yyyy\';A5.__tfmt = \'\';',
'A5.__flagWorkingPreview = false;',
'A5.__flagIIS = false;',
'A5.__flagSimulateIIS = true;',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation = function() { ',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj == \'undefined\') return \'\';',
'\tvar orientation = {UXPRERENDEREDALIAS}_DlgObj.getOrientation();',
'\tif( orientation == \'landscape\') {',
'\t\t\t//landscape',
'\t\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'landscape\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'landscape\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'landscape\'});',
'\t\t\t}',
'\t} else {',
'\t\t//portrait',
'\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'portrait\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'portrait\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'portrait\'});',
'\t\t\t}',
'\t}',
'}',
'\tA5.flags.cordovaLoaded = true;',
'\ttry {',
'\t\tdocument.addEventListener(\'deviceready\', function() { ',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onCordovaReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onPhoneGapReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._cordovaReady = true;',
'\t\t\tnavigator.geolocation.getAccuratePosition = function(geolocationSuccess, geolocationError, options) {',
'\tvar _lastCheckedPosition = null;',
'\tvar _locationEventCount = 0;',
'\toptions = options || {};',
'\toptions.context = this;',
'    function _checkLocation(pos) {',
'        _lastCheckedPosition = pos;',
'        _locationEventCount++;',
'        if ((pos.coords.accuracy <= options.desiredAccuracy) && (_locationEventCount > options.ignoreResultCount)) {',
'            clearTimeout(_timerID);',
'            navigator.geolocation.clearWatch(_watchID);',
'            _foundPosition(pos);',
'        } ',
'    }',
'    function _stopLocationCheck() {',
'    \t var error = {};',
'    \t error.code = 0;',
'    \t error.message = \'Timeout: No results\';',
'        navigator.geolocation.clearWatch(_watchID);',
'        _lastCheckedPosition ? _foundPosition(_lastCheckedPosition) : geolocationError.call(options.context,error);',
'    }',
'    function _onError(error) {',
'        clearTimeout(_timerID);',
'        navigator.geolocation.clearWatch(_watchID);',
'        geolocationError.call(options.context,error);',
'    }',
'    function _foundPosition(pos) {',
'        geolocationSuccess.call(options.context,pos);',
'    }',
'    if (!options.maxWait) {            ',
'    \toptions.maxWait = 10000; ',
'    }\t',
'    if (!options.desiredAccuracy) {',
'    \t  options.desiredAccuracy = 20; ',
'    }',
'    if (!options.timeout) {',
'        options.timeout = options.maxWait;',
'\t }',
'\t if (!options.ignoreResultCount) {',
'\t \t\toptions.ignoreResultCount = 1;',
'\t }',
'    options.maximumAge = 0; ',
'    options.enableHighAccuracy = true; ',
'    var _watchID = navigator.geolocation.watchPosition(_checkLocation, _onError, options);',
'    var _timerID = setTimeout(_stopLocationCheck, options.maxWait); ',
'}',
'\t\t} , false);\t',
'\t}',
'\tcatch(err) {}',
'{UXPRERENDEREDALIAS}_DlgObj._waitGif = \'css/A5System/Images/wait.gif\';',
'var EXIF=(function(){var debug=false;var ExifTags={0x9000:"ExifVersion",0xA000:"FlashpixVersion",0xA001:"ColorSpace",0xA002:"PixelXDimension",0xA003:"PixelYDimension",0x9101:"ComponentsConfiguration",0x9102:"CompressedBitsPerPixel",0x927C:"MakerNote",0x9286:"UserComment",0xA004:"RelatedSoundFile",0x9003:"DateTimeOriginal",0x9004:"DateTimeDigitized",0x9290:"SubsecTime",0x9291:"SubsecTimeOriginal",0x9292:"SubsecTimeDigitized",0x829A:"ExposureTime",0x829D:"FNumber",0x8822:"ExposureProgram",0x8824:"SpectralSensitivity",0x8827:"ISOSpeedRatings",0x8828:"OECF",0x9201:"ShutterSpeedValue",0x9202:"ApertureValue",0x9203:"BrightnessValue",0x9204:"ExposureBias",0x9205:"MaxApertureValue",0x9206:"SubjectDistance",0x9207:"MeteringMode",0x9208:"LightSource",0x9209:"Flash",0x9214:"SubjectArea",0x920A:"FocalLength",0xA20B:"FlashEnergy",0xA20C:"SpatialFrequencyResponse",0xA20E:"FocalPlaneXResolution",0xA20F:"FocalPlaneYResolution",0xA210:"FocalPlaneResolutionUnit",0xA214:"SubjectLocation",0xA215:"ExposureIndex",0xA217:"SensingMethod",0xA300:"FileSource",0xA301:"SceneType",0xA302:"CFAPattern",0xA401:"CustomRendered",0xA402:"ExposureMode",0xA403:"WhiteBalance",0xA404:"DigitalZoomRation",0xA405:"FocalLengthIn35mmFilm",0xA406:"SceneCaptureType",0xA407:"GainControl",0xA408:"Contrast",0xA409:"Saturation",0xA40A:"Sharpness",0xA40B:"DeviceSettingDescription",0xA40C:"SubjectDistanceRange",0xA005:"InteroperabilityIFDPointer",0xA420:"ImageUniqueID"};var TiffTags={0x0100:"ImageWidth",0x0101:"ImageHeight",0x8769:"ExifIFDPointer",0x8825:"GPSInfoIFDPointer",0xA005:"InteroperabilityIFDPointer",0x0102:"BitsPerSample",0x0103:"Compression",0x0106:"PhotometricInterpretation",0x0112:"Orientation",0x0115:"SamplesPerPixel",0x011C:"PlanarConfiguration",0x0212:"YCbCrSubSampling",0x0213:"YCbCrPositioning",0x011A:"XResolution",0x011B:"YResolution",0x0128:"ResolutionUnit",0x0111:"StripOffsets",0x0116:"RowsPerStrip",0x0117:"StripByteCounts",0x0201:"JPEGInterchangeFormat",0x0202:"JPEGInterchangeFormatLength",0x012D:"TransferFunction",0x013E:"WhitePoint",0x013F:"PrimaryChromaticities",0x0211:"YCbCrCoefficients",0x0214:"ReferenceBlackWhite",0x0132:"DateTime",0x010E:"ImageDescription",0x010F:"Make",0x0110:"Model",0x0131:"Software",0x013B:"Artist",0x8298:"Copyright"};var GPSTags={0x0000:"GPSVersionID",0x0001:"GPSLatitudeRef",0x0002:"GPSLatitude",0x0003:"GPSLongitudeRef",0x0004:"GPSLongitude",0x0005:"GPSAltitudeRef",0x0006:"GPSAltitude",0x0007:"GPSTimeStamp",0x0008:"GPSSatellites",0x0009:"GPSStatus",0x000A:"GPSMeasureMode",0x000B:"GPSDOP",0x000C:"GPSSpeedRef",0x000D:"GPSSpeed",0x000E:"GPSTrackRef",0x000F:"GPSTrack",0x0010:"GPSImgDirectionRef",0x0011:"GPSImgDirection",0x0012:"GPSMapDatum",0x0013:"GPSDestLatitudeRef",0x0014:"GPSDestLatitude",0x0015:"GPSDestLongitudeRef",0x0016:"GPSDestLongitude",0x0017:"GPSDestBearingRef",0x0018:"GPSDestBearing",0x0019:"GPSDestDistanceRef",0x001A:"GPSDestDistance",0x001B:"GPSProcessingMethod",0x001C:"GPSAreaInformation",0x001D:"GPSDateStamp",0x001E:"GPSDifferential"};var StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0x0000:"Flash did not fire",0x0001:"Flash fired",0x0005:"Strobe return light not detected",0x0007:"Strobe return light detected",0x0009:"Flash fired, compulsory flash mode",0x000D:"Flash fired, compulsory flash mode, return light not detected",0x000F:"Flash fired, compulsory flash mode, return light detected",0x0010:"Flash did not fire, compulsory flash mode",0x0018:"Flash did not fire, auto mode",0x0019:"Flash fired, auto mode",0x001D:"Flash fired, auto mode, return light not detected",0x001F:"Flash fired, auto mode, return light detected",0x0020:"No flash function",0x0041:"Flash fired, red-eye reduction mode",0x0045:"Flash fired, red-eye reduction mode, return light not detected",0x0047:"Flash fired, red-eye reduction mode, return light detected",0x0049:"Flash fired, compulsory flash mode, red-eye reduction mode",0x004D:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",0x004F:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",0x0059:"Flash fired, auto mode, red-eye reduction mode",0x005D:"Flash fired, auto mode, return light not detected, red-eye reduction mode",0x005F:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function imageHasData(img){return!!(img.exifdata)}function findEXIFinJPEG(file){if(file.getByteAt(0)!=0xFF||file.getByteAt(1)!=0xD8){return false}var offset=2,length=file.getLength(),marker;while(offset<length){if(file.getByteAt(offset)!=0xFF){if(debug)console.log("Not a valid marker at offset "+offset+", found: "+file.getByteAt(offset));return false}marker=file.getByteAt(offset+1);if(marker==22400){if(debug)console.log("Found 0xFFE1 marker");return readEXIFData(file,offset+4,file.getShortAt(offset+2,true)-2)}else if(marker==225){if(debug)console.log("Found 0xFFE1 marker");return readEXIFData(file,offset+4,file.getShortAt(offset+2,true)-2)}else{offset+=2+file.getShortAt(offset+2,true)}}}function readTags(file,tiffStart,dirStart,strings,bigEnd){var entries=file.getShortAt(dirStart,bigEnd),tags={},entryOffset,tag,i;for(i=0;i<entries;i++){entryOffset=dirStart+i*12+2;tag=strings[file.getShortAt(entryOffset,bigEnd)];if(!tag&&debug)console.log("Unknown tag: "+file.getShortAt(entryOffset,bigEnd));tags[tag]=readTagValue(file,entryOffset,tiffStart,dirStart,bigEnd)}return tags}function readTagValue(file,entryOffset,tiffStart,dirStart,bigEnd){var type=file.getShortAt(entryOffset+2,bigEnd),numValues=file.getLongAt(entryOffset+4,bigEnd),valueOffset=file.getLongAt(entryOffset+8,bigEnd)+tiffStart,offset,vals,val,n,numerator,denominator;switch(type){case 1:case 7:if(numValues==1){return file.getByteAt(entryOffset+8,bigEnd)}else{offset=numValues>4?valueOffset:(entryOffset+8);vals=[];for(n=0;n<numValues;n++){vals[n]=file.getByteAt(offset+n)}return vals}case 2:offset=numValues>4?valueOffset:(entryOffset+8);return file.getStringAt(offset,numValues-1);case 3:if(numValues==1){return file.getShortAt(entryOffset+8,bigEnd)}else{offset=numValues>2?valueOffset:(entryOffset+8);vals=[];for(n=0;n<numValues;n++){vals[n]=file.getShortAt(offset+2*n,bigEnd)}return vals}case 4:if(numValues==1){return file.getLongAt(entryOffset+8,bigEnd)}else{vals=[];for(var n=0;n<numValues;n++){vals[n]=file.getLongAt(valueOffset+4*n,bigEnd)}return vals}case 5:if(numValues==1){numerator=file.getLongAt(valueOffset,bigEnd);denominator=file.getLongAt(valueOffset+4,bigEnd);val=new Number(numerator/denominator);val.numerator=numerator;val.denominator=denominator;return val}else{vals=[];for(n=0;n<numValues;n++){numerator=file.getLongAt(valueOffset+8*n,bigEnd);denominator=file.getLongAt(valueOffset+4+8*n,bigEnd);vals[n]=new Number(numerator/denominator);vals[n].numerator=numerator;vals[n].denominator=denominator}return vals}case 9:if(numValues==1){return file.getSLongAt(entryOffset+8,bigEnd)}else{vals=[];for(n=0;n<numValues;n++){vals[n]=file.getSLongAt(valueOffset+4*n,bigEnd)}return vals}case 10:if(numValues==1){return file.getSLongAt(valueOffset,bigEnd)/file.getSLongAt(valueOffset+4,bigEnd)}else{vals=[];for(n=0;n<numValues;n++){vals[n]=file.getSLongAt(valueOffset+8*n,bigEnd)/file.getSLongAt(valueOffset+4+8*n,bigEnd)}return vals}}}function readEXIFData(file,start){if(file.getStringAt(start,4)!="Exif"){if(debug)console.log("Not valid EXIF data! "+file.getStringAt(start,4));return false}var bigEnd,tags,tag,exifData,gpsData,tiffOffset=start+6;if(file.getShortAt(tiffOffset)==0x4949){bigEnd=false}else if(file.getShortAt(tiffOffset)==0x4D4D){bigEnd=true}else{if(debug)console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)");return false}if(file.getShortAt(tiffOffset+2,bigEnd)!=0x002A){if(debug)console.log("Not valid TIFF data! (no 0x002A)");return false}if(file.getLongAt(tiffOffset+4,bigEnd)!=0x00000008){if(debug)console.log("Not valid TIFF data! (First offset not 8)",file.getShortAt(tiffOffset+4,bigEnd));return false}tags=readTags(file,tiffOffset,tiffOffset+8,TiffTags,bigEnd);if(tags.ExifIFDPointer){exifData=readTags(file,tiffOffset,tiffOffset+tags.ExifIFDPointer,ExifTags,bigEnd);for(tag in exifData){switch(tag){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":exifData[tag]=StringValues[tag][exifData[tag]];break;case"ExifVersion":case"FlashpixVersion":exifData[tag]=String.fromCharCode(exifData[tag][0],exifData[tag][1],exifData[tag][2],exifData[tag][3]);break;case"ComponentsConfiguration":exifData[tag]=StringValues.Components[exifData[tag][0]]+StringValues.Components[exifData[tag][1]]+StringValues.Components[exifData[tag][2]]+StringValues.Components[exifData[tag][3]];break}tags[tag]=exifData[tag]}}if(tags.GPSInfoIFDPointer){gpsData=readTags(file,tiffOffset,tiffOffset+tags.GPSInfoIFDPointer,GPSTags,bigEnd);for(tag in gpsData){switch(tag){case"GPSVersionID":gpsData[tag]=gpsData[tag][0]+"."+gpsData[tag][1]+"."+gpsData[tag][2]+"."+gpsData[tag][3];break}tags[tag]=gpsData[tag]}}return tags}function getData(img,callback){if(!img.complete)return false;if(!imageHasData(img)){getImageData(img,callback)}else{if(callback){callback.call(img)}}return true}function getTag(img,tag){if(!imageHasData(img))return;return img.exifdata[tag]}function getAllTags(img){if(!imageHasData(img))return{};var a,data=img.exifdata,tags={};for(a in data){if(data.hasOwnProperty(a)){tags[a]=data[a]}}return tags}function pretty(img){if(!imageHasData(img))return"";var a,data=img.exifdata,strPretty="";for(a in data){if(data.hasOwnProperty(a)){if(typeof data[a]=="object"){if(data[a]instanceof Number){strPretty+=a+" : "+data[a]+" ["+data[a].numerator+"/"+data[a].denominator+"]\\r\\n"}else{strPretty+=a+" : ["+data[a].length+" values]\\r\\n"}}else{strPretty+=a+" : "+data[a]+"\\r\\n"}}}return strPretty}function readFromBinaryFile(file){return findEXIFinJPEG(file)}function BinaryFile(strData,iDataOffset,iDataLength){var data=strData;var dataOffset=iDataOffset||0;var dataLength=0;this.getRawData=function(){return data};if(typeof strData=="string"){dataLength=iDataLength||data.length;this.getByteAt=function(iOffset){return data.charCodeAt(iOffset+dataOffset)&0xFF};this.getBytesAt=function(iOffset,iLength){var aBytes=[];for(var i=0;i<iLength;i++){aBytes[i]=data.charCodeAt((iOffset+i)+dataOffset)&0xFF}return aBytes}}else if(typeof strData=="unknown"){dataLength=iDataLength||IEBinary_getLength(data);this.getByteAt=function(iOffset){return IEBinary_getByteAt(data,iOffset+dataOffset)};this.getBytesAt=function(iOffset,iLength){return new VBArray(IEBinary_getBytesAt(data,iOffset+dataOffset,iLength)).toArray()}}this.getLength=function(){return dataLength};this.getSByteAt=function(iOffset){var iByte=this.getByteAt(iOffset);if(iByte>127)return iByte-256;else return iByte};this.getShortAt=function(iOffset,bBigEndian){var iShort=bBigEndian?(this.getByteAt(iOffset)<<8)+this.getByteAt(iOffset+1):(this.getByteAt(iOffset+1)<<8)+this.getByteAt(iOffset);if(iShort<0)iShort+=65536;return iShort};this.getSShortAt=function(iOffset,bBigEndian){var iUShort=this.getShortAt(iOffset,bBigEndian);if(iUShort>32767)return iUShort-65536;else return iUShort};this.getLongAt=function(iOffset,bBigEndian){var iByte1=this.getByteAt(iOffset),iByte2=this.getByteAt(iOffset+1),iByte3=this.getByteAt(iOffset+2),iByte4=this.getByteAt(iOffset+3);var iLong=bBigEndian?(((((iByte1<<8)+iByte2)<<8)+iByte3)<<8)+iByte4:(((((iByte4<<8)+iByte3)<<8)+iByte2)<<8)+iByte1;if(iLong<0)iLong+=4294967296;return iLong};this.getSLongAt=function(iOffset,bBigEndian){var iULong=this.getLongAt(iOffset,bBigEndian);if(iULong>2147483647)return iULong-4294967296;else return iULong};this.getStringAt=function(iOffset,iLength){var aStr=[];var aBytes=this.getBytesAt(iOffset,iLength);for(var j=0;j<iLength;j++){aStr[j]=String.fromCharCode(aBytes[j])}return aStr.join("")};this.getCharAt=function(iOffset){return String.fromCharCode(this.getByteAt(iOffset))};this.toBase64=function(){return window.btoa(data)};this.fromBase64=function(strBase64){data=window.atob(strBase64)}}return{findEXIFinJPEG:findEXIFinJPEG,pretty:pretty,getTag:getTag,getAllTags:getAllTags,getData:getData,Tags:ExifTags,TiffTags:TiffTags,GPSTags:GPSTags,StringValues:StringValues,BinaryFile:BinaryFile}})();',
'(function(){function detectSubsampling(img){var iw=img.naturalWidth,ih=img.naturalHeight;if(iw*ih>1024*1024){var canvas=document.createElement(\'canvas\');canvas.width=canvas.height=1;var ctx=canvas.getContext(\'2d\');ctx.drawImage(img,-iw+1,0);return ctx.getImageData(0,0,1,1).data[3]===0}else{return false}}function detectVerticalSquash(img,iw,ih){var canvas=document.createElement(\'canvas\');canvas.width=1;canvas.height=ih;var ctx=canvas.getContext(\'2d\');ctx.drawImage(img,0,0);var data=ctx.getImageData(0,0,1,ih).data;var sy=0;var ey=ih;var py=ih;while(py>sy){var alpha=data[(py-1)*4+3];if(alpha===0){ey=py}else{sy=py}py=(ey+sy)>>1}var ratio=(py/ih);return(ratio===0)?1:ratio}function renderImageToDataURL(img,options){var canvas=document.createElement(\'canvas\');renderImageToCanvas(img,canvas,options);return canvas.toDataURL("image/jpeg",options.quality||0.8)}function renderImageToCanvas(img,canvas,options){var iw=img.naturalWidth,ih=img.naturalHeight;var width=options.width,height=options.height;var ctx=canvas.getContext(\'2d\');ctx.save();transformCoordinate(canvas,width,height,options.orientation);var subsampled=detectSubsampling(img);if(subsampled){iw/=2;ih/=2}var d=1024;var tmpCanvas=document.createElement(\'canvas\');tmpCanvas.width=tmpCanvas.height=d;var tmpCtx=tmpCanvas.getContext(\'2d\');var vertSquashRatio=detectVerticalSquash(img,iw,ih);var dw=Math.ceil(d*width/iw);var dh=Math.ceil(d*height/ih/vertSquashRatio);var sy=0;var dy=0;while(sy<ih){var sx=0;var dx=0;while(sx<iw){tmpCtx.clearRect(0,0,d,d);tmpCtx.drawImage(img,-sx,-sy);ctx.drawImage(tmpCanvas,0,0,d,d,dx,dy,dw,dh);sx+=d;dx+=dw}sy+=d;dy+=dh}ctx.restore();tmpCanvas=tmpCtx=null}function transformCoordinate(canvas,width,height,orientation){switch(orientation){case 5:case 6:case 7:case 8:canvas.width=height;canvas.height=width;break;default:canvas.width=width;canvas.height=height}var ctx=canvas.getContext(\'2d\');switch(orientation){case 2:ctx.translate(width,0);ctx.scale(-1,1);break;case 3:ctx.translate(width,height);ctx.rotate(Math.PI);break;case 4:ctx.translate(0,height);ctx.scale(1,-1);break;case 5:ctx.rotate(0.5*Math.PI);ctx.scale(1,-1);break;case 6:ctx.rotate(0.5*Math.PI);ctx.translate(0,-height);break;case 7:ctx.rotate(0.5*Math.PI);ctx.translate(width,-height);ctx.scale(-1,1);break;case 8:ctx.rotate(-0.5*Math.PI);ctx.translate(-width,0);break;default:break}}function MegaPixImage(srcImage){if(srcImage instanceof Blob){var img=new Image();var URL=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!URL){throw Error("No createObjectURL function found to create blob url");}img.src=URL.createObjectURL(srcImage);srcImage=img}if(!srcImage.naturalWidth&&!srcImage.naturalHeight){var _this=this;srcImage.onload=function(){var listeners=_this.imageLoadListeners;if(listeners){_this.imageLoadListeners=null;for(var i=0,len=listeners.length;i<len;i++){listeners[i]()}}};this.imageLoadListeners=[]}this.srcImage=srcImage}MegaPixImage.prototype.render=function(target,options){if(this.imageLoadListeners){var _this=this;this.imageLoadListeners.push(function(){_this.render(target,options)});return}options=options||{};var imgWidth=this.srcImage.naturalWidth,imgHeight=this.srcImage.naturalHeight,width=options.width,height=options.height,maxWidth=options.maxWidth,maxHeight=options.maxHeight;if(width&&!height){height=(imgHeight*width/imgWidth)<<0}else if(height&&!width){width=(imgWidth*height/imgHeight)<<0}else{width=imgWidth;height=imgHeight}if(maxWidth&&width>maxWidth){width=maxWidth;height=(imgHeight*width/imgWidth)<<0}if(maxHeight&&height>maxHeight){height=maxHeight;width=(imgWidth*height/imgHeight)<<0}var opt={width:width,height:height};for(var k in options)opt[k]=options[k];var tagName=target.tagName.toLowerCase();if(tagName===\'img\'){target.src=renderImageToDataURL(this.srcImage,opt)}else if(tagName===\'canvas\'){renderImageToCanvas(this.srcImage,target,opt)}if(typeof this.onrender===\'function\'){this.onrender(target)}};if(typeof define===\'function\'&&define.amd){define([],function(){return MegaPixImage})}else{this.MegaPixImage=MegaPixImage}})();',
'/*',
'Copyright (c) 2001, 2013 Alpha Software Corporation',
'All Rights Reserved.',
'This Javascript library is licensed exclusively for use with Alpha Anywhere, Alpha Five,',
'Alpha Five Application Server, Alpha Anywhere Application Server,',
'Alpha Five Run Engine, and Alpha Anywhere Run Engine. It is specifically',
'not licensed for use on a server that does not have installed on it a',
'licensed copy of the Alpha Five Application Server or the Alpha Anywhere Application Server.',
'*/',
'\t{UXPRERENDEREDALIAS}_DlgObj.imageCaptureUsingCamera = function(options) {',
'\t\toptions.specialMode = \'callback\';',
'\t\tthis.detailViewImageCapture(options);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewImageCapture = function(options) {',
'\t\tif(typeof options.specialMode == \'undefined\') options.specialMode = \'detailview\';',
'\t\tvar flagPhoneGapLoaded = false;',
'\t\tvar flagUseCordova = false;',
'\t\tif (typeof window[\'cordova\'] != \'undefined\') {',
'\t\t\tflagPhoneGapLoaded = true;',
'\t\t\tif(options.captureMethod == \'phonegappreferred\' || options.captureMethod == \'phonegap\') {',
'\t\t\t\tflagUseCordova = true;',
'\t\t\t}',
'\t\t}',
'\t\tif(options.captureMethod == \'phonegap\' && flagPhoneGapLoaded == false) {',
'\t\t\talert(\'PhoneGap not available\'); return false;',
'\t\t}',
'\t\tif(!flagUseCordova) {',
'\t\t\tthis.detailViewImageCaptureHTML5(options);',
'\t\t} else {',
'\t\t\tthis.detailViewImageCapturePhoneGap(options);',
'\t\t}',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewImageCaptureHTML5 = function(options) {',
'\t\tif(typeof options.specialMode == \'undefined\') options.specialMode = \'detailview\';',
'\t\tif(options.onBeforeCaptureJavascript) {',
'\t\t\tvar result = options.onBeforeCaptureJavascript.call();',
'\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\tif(!result) return false;',
'\t\t\t}',
'\t\t}',
'\t\tif(A5.flags.isAndroid == false) {',
'\t\t\tif(A5.flags.isIPhone || A5.flags.isIPad){',
'\t\t\t\tif (typeof A5.flags.iOSVersion != \'undefined\') {',
'\t\t\t\t\tvar majorNum = A5.flags.iOSVersion.split(\'.\')[0];',
'\t\t\t\t\tif(parseInt(majorNum) < 6) {',
'\t\t\t\t\t\talert(\'HTML5 camera access not supported on this version of iOS\');',
'\t\t\t\t\t\treturn false;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(A5.u.css.supportsTransition == false) {',
'\t\t\talert(\'Browser does not support HTML5 camera access\');',
'\t\t\treturn false;',
'\t\t}',
'\t\tif(typeof options.resizePolicyHTML5 == \'undefined\') options.resizePolicyHTML5 = \'Always\';',
'\t\toptions.resizePolicyHTML5 = options.resizePolicyHTML5.toLowerCase();',
'\t\tif(options.resizePolicyHTML5 != \'always\') {',
'\t\t\tvar maxSize = 99999999999;',
'\t\t\tif(typeof options.maxImageSizeHTML5 != \'undefined\') maxSize = Number(options.maxImageSizeHTML5);',
'\t\t}',
'\t\t//if(typeof options.resizeImageHTML5 == \'undefined\') options.resizeImageHTML5 = true;',
'\t\tvar ops = {};',
'\t\tops.dialogObj = this;',
'\t\tif(options.specialMode == \'callback\' ) {',
'\t\t\toptions.controlName = \'\';',
'\t\t}',
'\t \tops.targetImage = options.controlName;',
'\t \tops.targetImage = ops.targetImage.toUpperCase();',
'\t \tops.html5 = {};',
'\t \tops.html5.resizeFlag = options.resizeImageHTML5;',
'\t \tops.html5.compressionFactor = options.imageCompressionHTML5;',
'\t \tops.html5.maxWidth = options.maxImageWidth;',
'\t \tops.html5.maxHeight = options.maxImageHeight;',
'\t \tops.fieldPrefix = this.dialogId + \'.V.R1\';',
'\t \tops.imageFieldName = (ops.fieldPrefix + \'.\' + ops.targetImage).toUpperCase();',
'\t \tops.hiddenFileName =  (ops.fieldPrefix + \'.\' + ops.targetImage + \'_HIDDENA5FN\').toUpperCase();',
' \t\tops.handleFileSelect = function(evt) {',
'\t\t\t// creates a FileList object',
'\t\t\tvar files = evt.target.files;',
'\t\t\t// Even if multiple files are presented, only the first file will be uploaded.',
'\t\t\tif (!files.length){',
'\t\t\t\t// alerts should be ok here when fired by a timer',
'\t\t\t\tsetTimeout(function(){',
'\t\t\t\t\t//alert(\'<a5:r>No files selected.</a5:r>\');',
'\t\t\t\t},50);',
'\t\t\t\treturn false;',
'\t\t\t} else {',
'\t\t\t\t// we\'re processing only 1 file at this point',
'\t\t\t\tvar f = files[0];',
'\t\t\t\tops.updateImage(f);',
'\t\t\t}',
'\t\t}',
'\t\t$e.removeGroup(\'__detailViewImageCapture\')',
'\t\t$e.add($(this.dialogId + \'._GETPHOTO\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__detailViewImageCapture\');',
'\t\tops.updateImage = function(_thisFile) {',
'\t\t\tvar _sourceFileName = _thisFile.name;',
'\t\t\tvar _thisImageName = ops.imageFieldName;',
'\t\t\tvar _thisImage = $(_thisImageName);',
'\t\t\tvar reader = new FileReader();',
'\t\t\treader.onload = function(e) {',
'\t\t\t\tvar flagResize = false;',
'\t\t\t\tif(options.resizePolicyHTML5 == \'always\') {',
'\t\t\t\t\tflagResize = true;',
'\t\t\t\t} else {',
'\t\t\t\t\tif(e.target.result.length > maxSize) {',
'\t\t\t\t\t\tflagResize = true;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(!flagResize) {',
'\t\t\t\t\t//not resizing',
'\t\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t\t_thisImage.src = e.target.result;',
'\t\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\t\tif(eleH) eleH.src = _thisImage.src;',
'\t\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\t\t$sa(eleH,\'a5imageSourceName\',_sourceFileName);',
'\t\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t\t\tif(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : e.target.result});',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\toptions.onCaptureJavascript.call(this, {data : e.target.result});',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\t//resizing',
'\t\t\t\t\tif(options.displaySpinnerWhileResizingImage) {',
'\t\t\t\t\t\t_thisImage.src = options.spinnerURI.replace(/\\|/gi,\'/\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _orientation = ops.parseExifOrientation(e.target.result);',
'\t\t\t\t\tops.renderImgToCanvas(_thisFile,_orientation,_sourceFileName);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\treader.onerror = function(e) {',
'\t\t\t\tsetTimeout(function(){',
'\t\t\t\talert(\'<a5:r>Error reading file.</a5:r>\');',
'\t\t\t\t},0);',
'\t\t\t}',
'\t\t\treader.readAsDataURL(_thisFile);',
'\t\t}',
'\t\tops.parseExifOrientation = function(dataUrl) {',
'\t\t\ttry {',
'\t\t\t\tvar _byteString = atob(dataUrl.split(\',\')[1]);',
'\t\t\t\tvar _binaryFile = new EXIF.BinaryFile(_byteString, 0, _byteString.length);',
'\t\t\t\tvar _exif = EXIF.findEXIFinJPEG(_binaryFile);',
'\t\t\t\t// Store EXIF orientation (if available) in data property.',
'\t\t\t\tif (_exif && _exif[\'Orientation\']) {',
'\t\t\t\t\treturn _exif[\'Orientation\'];',
'\t\t\t\t} else {',
'\t\t\t\t\treturn null;',
'\t\t\t\t}',
'\t\t\t} catch (e) {',
'\t\t\t\t// Error parsing EXIF data.',
'\t\t\t\tconsole.log(\'Error loading EXIF data\', e);',
'\t\t\t}',
'\t\t}',
'\t\tops.renderImgToCanvas = function(_file,_orientation,_sourceFileName) {',
'\t\t\t// using megapix-image.js here which handles(?) sub-sampling issue with large images and Canvas on iOS6 Safari',
'\t\t\tvar mpImg = new MegaPixImage(_file);',
'\t\t\tmpImg.onrender = function(){',
'\t\t\t\t// this timeout required to ensure _thisCanvas render complete',
'\t\t\t\tsetTimeout(function(){',
'\t\t\t\t\tvar dataURL = _thisCanvas.toDataURL(\'image/jpeg\', ops.html5.compressionFactor);',
'\t\t\t\t\t//alert(\'html5 size after resizing image:\' + dataURL.length);',
'\t\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t\tvar ele = $(ops.imageFieldName);',
'\t\t\t\t\t\t//put the scaled image in the element',
'\t\t\t\t\t\tele.src = dataURL;',
'\t\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\t\tif(eleH) eleH.src = dataURL;',
'\t\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\t\t$sa(eleH,\'a5imageSourceName\',_sourceFileName);',
'\t\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t\t\tif(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : dataURL});',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\toptions.onCaptureJavascript.call(this, {data : dataURL});',
'\t\t\t\t\t}',
'\t\t\t\t},0);',
'\t\t\t}',
'\t\t\tvar _thisCanvas = document.createElement(\'canvas\');',
'\t\t\tvar ctx = _thisCanvas.getContext(\'2d\');',
'\t\t\t// adjust based on extracted _orientation',
'\t\t\tif (_orientation) {',
'\t\t\t\tmpImg.render(_thisCanvas,{maxWidth: ops.html5.maxWidth, maxHeight:ops.html5.maxHeight, orientation:_orientation});',
'\t\t\t} else {',
'\t\t\t\tmpImg.render(_thisCanvas,{maxWidth: ops.html5.maxWidth, maxHeight:ops.html5.maxHeight});',
'\t\t\t}',
'\t\t}',
'\t\t//click the hidden image control',
'\t\tvar ele = $(this.dialogId + \'._GETPHOTO\');',
'\t\tif (ele) {',
'\t\t\tele.value = \'\';',
'\t\t\tele.click();',
'\t\t}',
'\t}',
'\t/////\\\\\\\\\\',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewVideoCapturePhoneGap = function(opsIn) {',
'\t\t//ops.fieldPrefix = this.dialogId + \'.V.R1\';',
'\t\t//ops.videoFieldName = (ops.fieldPrefix + \'.\' + ops.controlName).toUpperCase();',
'\t\topsIn.dialogObj = this;',
'\t\tvar options = opsIn.options;',
'\t\tvar onSuccess = function(mediaFiles) { var e = {filename: mediaFiles[0].fullPath};',
'\t\t\tvar e_filename = e.filename;',
'\t\t\tif(e_filename.indexOf(\'file:\') != 0) {',
'\t\t\t\te_filename = e_filename.replace(\'/private\',\'file:\\/\\/\');',
'\t\t\t}',
'\t\t\tif(e_filename.indexOf(\'file:\') != 0 && e_filename.indexOf(\'.wav\') > 0) {',
'\t\t\t\te_filename = \'file:\\/\\/\' + e_filename;',
'\t\t\t\t//alert(e_filename);',
'\t\t\t}',
'\t\t\topsIn.dialogObj.setValue(opsIn.controlName,e_filename);',
'\t\t\t//var ele = $(ops.imageFieldName);',
'\t\t\t//if(ele) ele.src = thisImageURL;',
'\t\t\t//var eleH = $(ops.hiddenFileName);',
'\t\t\t//if(eleH) eleH.src = thisImageURL;',
'\t\t\t//$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\topsIn.dialogObj.refreshClientSideComputations();',
'\t\t};',
'\t\tvar onFailed = function() {',
'\t\t};',
'\t\tvar flagAudio = false;',
'\t\tif(typeof opsIn.audio != \'undefined\') flagAudio = opsIn.audio;',
'\t\tif(!flagAudio) {',
'\t\t\tnavigator.device.capture.captureVideo(onSuccess,onFailed,options);',
'\t\t} else {',
'\t\t\t//alert(\'audio\');',
'\t\t\t//debugger;',
'\t\t\tvar options = { limit: 1, duration: 10 };',
'\t\t\t//navigator.device.capture.captureAudio(captureSuccess, captureError, options);',
'\t\t\t//navigator.device.capture.captureAudio(onSuccess,onFailed,options);',
'\t\t\tvar _media = {',
'\t\t\t\trecorder: null,',
'\t\t\t\trecFile: \'myaudio/myrecording3.amr\'  //if device.platform is \'Android\' then use .amr, otherwise .wav',
'\t\t\t}',
'\t\t\tfunction captureStatus(e) {',
'\t\t\t\tconsole.log(\'status....\' + JSON.stringify(e));',
'\t\t\t}',
'\t\t\tvar onSuccessAudio = function() {',
'\t\t\t\tconsole.log(\'try to play it now\');',
'\t\t\t\tsetTimeout(function() { _media.recorder.play(); },1000);',
'\t\t\t\t//var e_filename = _media.recFile;',
'\t\t\t\t//opsIn.dialogObj.setValue(opsIn.controlName,e_filename);',
'\t\t\t\t//opsIn.dialogObj.refreshClientSideComputations();',
'\t\t\t};',
'\t\t\t_media.recorder = new Media(_media.recFile,onSuccessAudio,onFailed,captureStatus);',
'\t\t\tconsole.log(\'about to record\');',
'\t\t\t_media.recorder.startRecord();',
'\t\t\tconsole.log(\'start\');',
'\t\t\tsetTimeout(function() { console.log(\'stop\'); _media.recorder.stopRecord();  },5000);',
'\t\t\t//_media.recorder.play();',
'\t\t}',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewImageCapturePhoneGap =  function(options) {',
'\t\tvar flagCustomOnError = false;',
'\t\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents != \'undefined\') flagCustomOnError = {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents;',
'\t\tif(!flagCustomOnError) window.onerror = function(err) { alert(\'Unhandled Javascript Error - phoneGapImageCapture:  \' + JSON.stringify(err));}',
'\t\tif(options.onBeforeCaptureJavascript) {',
'\t\t\tvar result = options.onBeforeCaptureJavascript.call();',
'\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\tif(!result) return false;',
'\t\t\t}',
'\t\t}',
'\t\tif (typeof window[\'cordova\'] == \'undefined\') {',
'\t\t\talert(\'PhoneGap not loaded\');',
'\t\t\treturn false;',
'\t\t}',
'\t\tif(typeof options.imageSelectionCanceledMessage == \'undefined\') options.imageSelectionCanceledMessage = \'Image Selection Canceled\';',
'\t\tif(typeof options.imageSelectionCanceledButton == \'undefined\') options.imageSelectionCanceledButton = \'Done\';',
'\t\tif(typeof options.cameraCanceledMessage == \'undefined\') options.cameraCanceledMessage = \'Camera Action Canceled\';',
'\t\tif(typeof options.cameraCanceledButton == \'undefined\') options.cameraCanceledButton = \'Done\';',
'\t\tvar maxSize = -1;',
'\t\tif(typeof options.maxImageSizePhoneGap != \'undefined\') maxSize = Number(options.maxImageSizePhoneGap);',
'\t\tif(maxSize == -1) maxSize = 9999999999;',
'\t\tif(typeof options.specialMode == \'undefined\') options.specialMode = \'detailview\';',
'\t\tvar ops = {};',
'\t\tops.dialogObj = this;',
'\t\tif(options.specialMode == \'callback\') {',
'\t\t\toptions.controlName = \'\';',
'\t\t}',
'\t\tops.targetImage = options.controlName.toUpperCase();',
'\t\tops.cordova = {};',
'\t\tops.cordova.pictureSourceVal = options.pictureSourceVal;',
'\t\tops.cordova.imageQuality = options.imageQualityPhonegap;',
'\t\tops.cordova.allowEdit = options.allowPictureEditing',
'\t\tops.cordova.targetWidth = options.maxImageWidth;',
'\t\tops.cordova.targetHeight = options.maxImageHeight;',
'\t\tops.cordova.saveToPhotoAlbum = options.saveToPhotoAlbum',
'\t\tops.cordova.iPadEleId = \'\';',
'\t\tops.fieldPrefix = this.dialogId + \'.V.R1\';',
'\t\tops.imageFieldName = (ops.fieldPrefix + \'.\' + ops.targetImage).toUpperCase();',
'\t\tops.hiddenFileName = (ops.fieldPrefix + \'.\' + ops.targetImage + \'_HIDDENA5FN\').toUpperCase();',
'\t\tops.onCameraSuccess = function(imageURI) {',
'\t\t\tif(typeof options.captureDataMode == \'undefined\') options.captureDataMode = \'base64\';',
'\t\t\ttry {',
'\t\t\t    var iOps = JSON.parse(imageURI);',
'\t\t\t    var filename = iOps.filename;',
'\t\t\t    var metadata = iOps.json_metadata;',
'\t\t\t    var iMD = JSON.parse(metadata);',
'\t\t\t    if(typeof iMD.GPS != \'undefined\') {',
'\t\t\t    \t//running on iOS',
'\t\t\t    \tvar gpsObj = {};',
'\t\t\t    \tgpsObj.latitude = iMD.GPS.Latitude;',
'\t\t\t    \tgpsObj.longitude = iMD.GPS.Longitude;',
'\t\t\t    \tif(iMD.GPS.LongitudeRef == \'W\') gpsObj.longitude = Number(gpsObj.longitude) * -1;',
'\t\t\t    \tif(iMD.GPS.LatitudeRef == \'S\') gpsObj.latitude = Number(gpsObj.latitude) * -1;',
'\t\t\t    \tgpsObj.altitude = iMD.GPS.Altitude;',
'\t\t\t    \tgpsObj.dateTime = iMD.GPS.DateStamp + \' \' + iMD.GPS.TimeStamp;',
'\t\t\t    \tgpsObj.ExifJSON = metadata;',
'\t\t\t    } else {',
'\t\t\t    \t//android',
'\t\t\t    \tvar latRaw = iMD.gpsLatitude;   //":"42/1,28/1,50093/1000",',
'\t\t\t    \tvar latRef = iMD.gpsLatitudeRef;  //":"N",',
'\t\t\t    \tvar lngRaw = iMD.gpsLongitude; //":"71/1,12/1,16183/1000",',
'\t\t\t    \tvar lngRef = iMD.gpsLongitudeRef; //":"W",',
'\t\t\t    \tvar altRaw = iMD.gpsAltitude;',
'\t\t\t    \tvar altRef = iMD.gpsAltitudeRef;',
'\t\t\t    \tops.fixGPS = function(raw,ref) {',
'\t\t\t    \t\t//alert( \' raw: \' + raw + \' ref: \' + ref);',
'\t\t\t    \t\tif(raw == null) return null;',
'\t\t\t\t\t\tvar lat_d, lat_m, lat_s, lat;',
'\t\t\t\t\t\tlat_d = eval(raw.split(\',\')[0]);',
'\t\t\t\t\t\tlat_m = eval(raw.split(\',\')[1]) * ( 1/60);',
'\t\t\t\t\t\tlat_s = eval(raw.split(\',\')[2]) * ( 1/60);',
'\t\t\t\t\t\tlat = Number(lat_d) + Number(lat_m) + Number(lat_s);',
'\t\t\t\t\t\tif(ref != null) {',
'\t\t\t\t\t\t\tif(ref.toUpperCase() == \'S\') lat = Number(lat) * -1;',
'\t\t\t\t\t\t\tif(ref.toUpperCase() == \'W\') lat = Number(lat) * -1;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\treturn lat;',
'\t\t\t    \t}',
'\t\t\t    \tvar lat = ops.fixGPS(latRaw,latRef);',
'\t\t\t    \tvar lng = ops.fixGPS(lngRaw,lngRef);',
'\t\t\t    \tvar alt = ops.fixGPS(altRaw,altRef);',
'\t\t\t    \tvar gpsObj = {};',
'\t\t\t\t\tgpsObj.latitude = lat;',
'\t\t\t\t\tgpsObj.longitude = lng;',
'\t\t\t\t\tgpsObj.altitude = alt;',
'\t\t\t\t\tgpsObj.dateTime = iMD.datetime;',
'\t\t\t\t\tgpsObj.ExifJSON = metadata;',
'\t\t\t    }',
'\t\t\t    options.EXIF = gpsObj;',
'\t\t\t    ops._moveFile(filename);',
'\t\t\t  \t//gets called by ops._move()',
'\t\t\t    //window.resolveLocalFileSystemURL(filename,ops.fsOK,ops.fsError);',
'\t\t\t} catch(err) {',
'\t\t\t\t//if you get here then you were not using the AA camera plugin, so EXIF info is not available',
'\t\t\t\tops._moveFile(imageURI);',
'\t\t\t\t//gets called by ops._move()',
'\t\t\t    //window.resolveLocalFileSystemURL(imageURI,ops.fsOK,ops.fsError);',
'\t\t\t}',
'\t\t}',
'\t\tops._moveFile = function(filename) {',
'\t\t\tvar flagMove = false;',
'\t\t\tif(typeof options.phonegapMoveFileToPermanentStorage != \'undefined\') flagMove = options.phonegapMoveFileToPermanentStorage;',
'\t\t\tif(flagMove) {',
'\t\t\t\tvar _dir = {UXPRERENDEREDALIAS}_DlgObj.phoneGapGetLocalDirURL(options.phonegapFileSystemType);',
'\t\t\t\tvar _onFolderEnsured = function() {',
'\t\t\t\t\tvar objFn = A5.parseFilename(filename);',
'\t\t\t\t\tvar extension = objFn.name.split(\'.\');',
'\t\t\t\t\textension = extension[extension.length-1];',
'\t\t\t\t\tvar targetName = A5.UUID() + \'.\' + extension;',
'\t\t\t\t\tvar subfolder = \'\';',
'\t\t\t\t\tif(options.phonegapPermanentStorageFolder != \'\') {',
'\t\t\t\t\t\tsubfolder = options.phonegapPermanentStorageFolder + \'/\';',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _moveOK = function() {',
'\t\t\t\t\t\tvar fn = _dir + subfolder + targetName;',
'\t\t\t\t\t\twindow.resolveLocalFileSystemURL(fn,ops.fsOK,ops.fsError);',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _moveFail = function(e) {',
'\t\t\t\t\t\talert(\'Move error: \'+e.code);',
'\t\t\t\t\t}',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapMoveFileURL(filename,_dir, subfolder + targetName,_moveOK,_moveFail)',
'\t\t\t\t}',
'\t\t\t\tvar _onError = function() {',
'\t\t\t\t\talert(\'could not create folder\');',
'\t\t\t\t}',
'\t\t\t\tif(options.phonegapPermanentStorageFolder != \'\') {',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapEnsureDirPathURL(_dir, options.phonegapPermanentStorageFolder, _onFolderEnsured, _onError)',
'\t\t\t\t} else {',
'\t\t\t\t\t//storing in the root of the requested filesystem --',
'\t\t\t\t\t_onFolderEnsured();',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\t//do not need to move the file',
'\t\t\t\twindow.resolveLocalFileSystemURL(filename,ops.fsOK,ops.fsError);',
'\t\t\t}',
'\t\t}',
'\t\tops.onImageSelectFail = function(msg) {',
'\t\t\tnavigator.notification.alert(msg,null,options.imageSelectionCanceledMessage,options.imageSelectionCanceledButton);',
'\t\t}',
'\t\tops.onCameraCaptureFail = function(msg) {',
'\t\t\tnavigator.notification.alert(msg,null,options.cameraCanceledMessage,options.cameraCanceledButton);',
'\t\t}',
'\t\tops.fsOK = function(fileEntry) {',
'\t\t\t// HTML5 File system available as fileEntry',
'\t\t\t// Using standard HTML5 file handling here',
'\t\t\t// get fileEntry URL for upload',
'\t\t\tvar thisImageURL = fileEntry.toURL();',
'\t\t\tif(options.captureDataMode == \'filename\') {',
'\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t//better be - only mode we are supporting for \'filename\'',
'\t\t\t\t\tvar ele = $(ops.imageFieldName);',
'\t\t\t\t\tif(ele) ele.src = thisImageURL;',
'\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\tif(eleH) eleH.src = thisImageURL;',
'\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\tvar exifData = \'\';',
'\t\t\t\t\tif(typeof options.EXIF != \'undefined\') exifData = JSON.stringify(options.EXIF);',
'\t\t\t\t\t$sa(eleH,\'a5EXIF\',exifData);',
'\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\tfileEntry.file(function(file){',
'\t\t\t\t\tvar reader = new FileReader();',
'\t\t\t\t\treader.onloadend = function(e) {',
'\t\t\t\t\t\t// this is Base64 encoded',
'\t\t\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t\t\tvar ele = $(ops.imageFieldName);',
'\t\t\t\t\t\t\tif(ele) ele.src = e.target.result;',
'\t\t\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\t\t\tif(eleH) eleH.src = e.target.result;',
'\t\t\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t\t\t\tif(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : e.target.result, fileSystemURL: fileEntry.nativeURL, options: options});',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\toptions.onCaptureJavascript.call(this, {data : e.target.result, fileSystemURL: fileEntry.nativeURL, options: options});  //pass in options so that the user defined callback js can reference options (which has the exif data in it)',
'\t\t\t\t\t\t}',
'\t\t\t\t\t};',
'\t\t\t\t\treader.onerror = function(e) {',
'\t\t\t\t\t\tnavigator.notification.alert(\'<a5:r>File reader error</a5:r>\');',
'\t\t\t\t\t};',
'\t\t\t\t\treader.readAsDataURL(file);',
'\t\t\t\t},function(error) {',
'\t\t\t\t\tnavigator.notification.alert(\'<a5:r>Image file read error</a5:r>\');',
'\t\t\t\t});',
'\t\t\t}',
'\t\t}',
'\t\tops.fsError = function() {',
'\t\t\tnavigator.notification.alert(\'<a5:r>Local File system unavailable.</a5:r>\');',
'\t\t}',
'\t\t// Calculate positioning for iPad popup menu if applicable',
'\t\tvar cordovaPopoverOptions = null;',
'\t\t\tif (ops.cordova.iPadEleId.length > 0) {',
'\t\t\tvar ele = $(ops.cordova.iPadEleId);',
'\t\t\tif (ele) {',
'\t\t\t\tvar rect = ele.getBoundingClientRect();',
'\t\t\t\tvar x = rect.left;',
'\t\t\t\tvar y = rect.top;',
'\t\t\t\tvar w = rect.right - rect.left;',
'\t\t\t\tvar h = rect.bottom - rect.top;',
'\t\t\t\tcordovaPopoverOptions = new CameraPopoverOptions(x,y,w,h,15);',
'\t\t\t}',
'\t\t}',
'\t\t// These options define all of the objects functionality',
'\t\tvar cordovaOptions = {',
'\t\t\tquality: Number(ops.cordova.imageQuality),',
'\t\t\tallowEdit: ops.cordova.allowEdit,',
'\t\t\tsourceType: Number(ops.cordova.pictureSourceVal),',
'\t\t\tcorrectOrientation: true,',
'\t\t\tdestinationType: 1,',
'\t\t\ttargetWidth: Number(ops.cordova.targetWidth),',
'\t\t\ttargetHeight: Number(ops.cordova.targetHeight),',
'\t\t\tsaveToPhotoAlbum: ops.cordova.saveToPhotoAlbum,',
'\t\t\tpopoverOptions: cordovaPopoverOptions,',
'\t\t\tencodingType: Camera.EncodingType.JPEG',
'\t\t}',
'\t\tif (cordovaOptions.sourceType != 1) {',
'\t\t\tcordovaOptions.saveToPhotoAlbum = false;',
'\t\t\tnavigator.camera.getPicture(ops.onCameraSuccess, ops.onImageSelectFail,cordovaOptions);',
'\t\t} else {',
'\t\t\tnavigator.camera.getPicture(ops.onCameraSuccess, ops.onCameraCaptureFail,cordovaOptions);',
'\t\t}',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj._abortS3Upload = function(__guid,number,rowId) {',
'\t\tvar arrS3 = {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'arrS3\'];',
'\t\tvar options = {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'options\'];',
'\t\tvar _dlgObj = {UXPRERENDEREDALIAS}_DlgObj;',
'\t\tvar _xhr = arrS3[number].xhr;',
'\t\t_xhr.abort();',
'\t\tarrS3[number].aborted = true;',
'\t\tif(typeof rowId != \'undefined\') {',
'\t\t\tvar ele = $(rowId);',
'\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t}',
'\t\t//uploadCompleteFunction',
'\t\tvar ops = {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'ops\'];',
'\t\t//fire the onComplete events',
'\t\tvar flagAllCompleted = false;',
'\t\tvar c = 0;',
'\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\tif(arrS3[i].completed == true || arrS3[i].aborted == true) c = c+1;',
'\t\t}',
'\t\tif(c == arrS3.length) flagAllCompleted = true;',
'\t\tvar f = arrS3[number];',
'\t\tvar e = {',
'\t\t\tname: f.name,',
'\t\t\ttype: f.type,',
'\t\t\tsize: f.size,',
'\t\t\taborted: f.aborted,',
'\t\t\tnumber: number,',
'\t\t\tfileArray: arrS3,',
'\t\t\ttargetName: arrS3[number].targetName',
'\t\t}',
'\t\toptions.onCompleteFile(e);',
'\t\tif(flagAllCompleted) {',
'\t\t\toptions.onCompleteAllFiles(e);',
'\t\t\tif(options.displayProgress) {',
'\t\t\t\tvar eleP = $(_dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder);',
'\t\t\t\tif(eleP) eleP.style.display = \'none\';',
'\t\t\t}',
'\t\t\tdelete {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid];',
'\t\t}',
'\t\t//end onComplete events',
'\t}',
'\t/////////////////////////////////////////////////////////////////////////',
'\t{UXPRERENDEREDALIAS}_DlgObj.fileUploadAmazonS3 = function(options) {',
'\t\tvar eleB = \'\';',
'\t\tvar _dlgObj = this;',
'\t\tvar _part = options.part;',
'\t\tdelete ops;',
'\t\tvar ops = {};',
'\t\tif(typeof options.onBeforeFileSelect == \'function\') {',
'\t\t\tvar result = options.onBeforeFileSelect();',
'\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\tif(!result) return false;',
'\t\t\t}',
'\t\t}',
'\t\tops.formatNum = function(num) {',
'\t\t\tvar suffix = \'Kb\';',
'\t\t \tif(num >= 1000000) {',
'\t\t \t\tnum = num/1000000;',
'\t\t \t\tsuffix = \'Mb\';',
'\t\t\t} else if(num >= 1000) {',
'\t\t\t \tnum = num / 1000;',
'\t\t\t \tsuffix = \'Kb\';',
'\t\t\t} else {',
'\t\t\t   suffix = \'bytes\'',
'\t\t\t  }',
'\t\t\tnum = Math.round(num * 100) / 100;',
'\t\t\tnum = Number(num);',
'\t\t\treturn (num).toLocaleString() + suffix;',
'\t\t}',
'\t\tops.setProgress = function(percent,message,objS3) {',
'\t\t\t//fire system onProgress events',
'\t\t\tif(options.displayProgress) {',
'\t\t\t\tvar i = objS3.number;',
'\t\t\t\t//id_i = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder + \'.\' + (i+1);',
'\t\t\t\tid_i = options.resolvedProgressPlaceholder + \'.\' + (i+1);',
'\t\t\t\tvar ep = $(id_i);',
'\t\t\t\tif(ep) {',
'\t\t\t\t\tif(options.progressStyle == \'text\') ep.innerHTML = percent + \'%\';',
'\t\t\t\t\telse ep.style.width = percent + \'%\';',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tvar e = {',
'\t\t\t\tpercent: percent,',
'\t\t\t\tmessage: message,',
'\t\t\t\tname: objS3.name,',
'\t\t\t\ttargetName: objS3.targetName,',
'\t\t\t\tnumber: objS3.number,',
'\t\t\t\tsize: objS3.size,',
'\t\t\t\ttype: objS3.type',
'\t\t\t}',
'\t\t\tif(typeof objS3.userProgressFunction == \'function\') objS3.userProgressFunction(e);;',
'\t\t}',
'\t\tops.createCORSRequest = function(method, url) {',
'  \t\t\tvar xhr = new XMLHttpRequest();',
'\t\t\t // "withCredentials" only exists on XHR2 objects',
'  \t\t\tif ("withCredentials" in xhr) {',
'  \t\t\t\ttry {',
'    \t\t\t\txhr.open(method, url, true);',
'    \t\t\t} catch(err) {',
'    \t\t\t\talert(\'XHR error - could not open XHR object. This action is not supported in Working Preview if you are using Internet Explorer. Try using Chrome Working Preview.\');',
'    \t\t\t\treturn false;',
'    \t\t\t}',
'\t\t\t} else if (typeof XDomainRequest != "undefined") {',
'\t\t\t    // XDomainRequest only exists in IE',
'    \t\t\txhr = new XDomainRequest();',
'\t\t\t    xhr.open(method, url);',
'  \t\t\t} else {',
'\t\t\t  \t// CORS not supported by this browser',
'    \t\t\txhr = null;',
'\t\t\t  }',
'\t\t  return xhr;',
'\t\t}',
'\t\tops.uploadToS3 = function(file, url, objS3) {',
'\t\t\tvar targetServer = objS3.targetServer;',
'\t\t\tif(typeof targetServer == \'undefined\') targetServer = \'S3\';',
'\t\t\tif(targetServer.toUpperCase() == \'S3\') {',
'\t\t\t\tvar xhr = ops.createCORSRequest(\'PUT\', url);',
'\t\t\t} else {',
'\t\t\t\t//alpha server',
'\t\t\t\tvar additionalInfo = \'\';',
'\t\t\t\tif(typeof options.additionalInfo == \'function\') {',
'\t\t\t\t\tadditionalInfo = options.additionalInfo.call();',
'\t\t\t\t}',
'\t\t\t\tadditionalInfo = A5.ajax.buildURLParam(\'__additionalInfo\',additionalInfo);',
'\t\t\t\tvar AAURI = encodeURI({UXPRERENDEREDALIAS}_DlgObj.ajaxURL + \'&\' + additionalInfo + \'&__Ajax=true&__FormAction=GenericAjaxCallback&_XbasicFunction=system:multifileupload&_xbasic=\' + options.xbasicFunction);',
'\t\t\t\tvar xhr = new XMLHttpRequest();',
'\t\t\t\txhr.open(\'POST\',AAURI,true);',
'\t\t\t}',
'\t\t\tif (!xhr) {',
'\t\t\t\t//ops.setProgress(0, \'CORS not supported\',objS3);',
'\t\t\t\tif(typeof objS3.onError == \'function\') objS3.onError({errorText: \'CORS not supported\', errorCode: -1, fileObject: objS3});',
'\t\t\t  \telse alert(\'CORS not supported\');',
'\t\t\t} else {',
'\t\t\t//capture the xhr object so you can call cancel',
'\t\t\tobjS3.arrS3[objS3.number].xhr = xhr;',
'\t\t\txhr.onload = function() {',
'\t\t\t  if(xhr.status == 200) {',
'\t\t\t\tops.setProgress(100, \'Upload completed.\',objS3);',
'\t\t\t\t//file number is available in objS3.number',
'\t\t\t\tobjS3.uploadCompleteFunction.call(objS3);',
'\t\t\t  } else {',
'\t\t\t\t//ops.setProgress(0, \'Upload error: \' + xhr.status);',
'\t\t\t\tvar responseText = \'\';',
'\t\t\t\tif(typeof xhr.responseText != \'undefined\') responseText = xhr.responseText;',
'\t\t\t\tif(typeof objS3.onError == \'function\') objS3.onError({errorText: \'Upload error\', errorCode: xhr.status, fileObject: objS3, errorText: responseText});',
'\t\t\t  \telse alert(\'XHR error. Reported error:\' + responseText);',
'\t\t\t  }',
'\t\t\t};',
'\t\t\txhr.onerror = function() {',
'\t\t\t  //ops.setProgress(0, \'XHR error.\');',
'\t\t\t  if(typeof objS3.onError == \'function\') objS3.onError({errorText: \'XHR Error\', errorCode: xhr.status, fileObject: objS3});',
'\t\t\t  else alert(\'XHR error\');',
'\t\t\t};',
'\t\t\txhr.upload.onprogress = function(e) {',
'\t\t\t  if (e.lengthComputable) {',
'\t\t\t\tvar percentLoaded = Math.round((e.loaded / e.total) * 100);',
'\t\t\t\tops.setProgress(percentLoaded, percentLoaded == 100 ? \'Finalizing.\' : \'Uploading.\',objS3);',
'\t\t\t  }',
'\t\t\t};',
'\t\t\tif(!options.target) options.target = \'S3\';',
'\t\t\tif(options.target.toUpperCase() == \'S3\') {',
'\t\t\t\txhr.setRequestHeader(\'Content-Type\', file.type);',
'\t\t\t\tif(!objS3.authenticatedRead) {',
'\t\t\t\t\txhr.setRequestHeader(\'x-amz-acl\', \'public-read\');',
'\t\t\t\t} else {',
'\t\t\t\t\txhr.setRequestHeader(\'x-amz-acl\', \'authenticated-read\');',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\t//don\'t bother with headers. they will get set automatically becuase we will be .send()ing a FormData() object',
'\t\t\t}',
'\t\t\tif(targetServer.toUpperCase() == \'S3\') {',
'\t\t\t\txhr.send(file);',
'\t\t\t} else {',
'\t\t\t\t//uploading to alpha server - by using a FormData() object, the content-type headers get set correctly',
'\t\t\t\tvar formData = new FormData();',
'\t\t\t\tformData.append(\'file\',file)',
'\t\t\t\txhr.send(formData);',
'\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tops.handleFileSelect = function(evt) {',
'\t\t\tdelete arrS3;',
'\t\t\tvar arrS3 = [];',
'\t\t\tops.__guid = Number(new Date());',
'\t\t\tvar __guid = ops.__guid;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads = {};',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid] = {};',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'arrS3\'] = arrS3;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'ops\'] = ops;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'options\'] = options;',
'\t\t\tvar files = evt.target.files;',
'\t\t\tvar f = \'\';',
'\t\t\tvar data = \'\';',
'\t\t\tvar targetName = \'\';',
'\t\t\tvar newTargetName = \'\';',
'\t\t\tarrS3.length = 0;',
'\t\t\tfor(var i = 0; i < files.length; i++) {',
'\t\t\t\tf = files[i];',
'\t\t\t\tif(typeof f.name == \'undefined\') {',
'\t\t\t\t\tvar localFileName = \'blobfile.jpg\';',
'\t\t\t\t\tif(typeof options.localFileName != \'undefined\') localFileName = options.localFileName;',
'\t\t\t\t\tf.name = localFileName;',
'\t\t\t\t}',
'\t\t\t\tdelete obji;',
'\t\t\t\tvar obji = {',
'\t\t\t\t\tnumber: i,',
'\t\t\t\t\tname: f.name,',
'\t\t\t\t\tsize: f.size,',
'\t\t\t\t\ttype: f.type,',
'\t\t\t\t\tfile: f,',
'\t\t\t\t\tcompleted: false,',
'\t\t\t\t\taborted: false',
'\t\t\t\t}',
'\t\t\t\tarrS3.push(obji)',
'\t\t\t}',
'\t\t\tvar __guid = ops.__guid;',
'\t\t\t//validate file selection -------------------------------------',
'\t\t\tvar totalSize = 0;',
'\t\t\tif(typeof options.maxFileSize == \'undefined\') options.maxFileSize = -1;',
'\t\t\tvar maxSize = options.maxFileSize;',
'\t\t\tif(maxSize == -1) maxSize = 999999999999999;',
'\t\t\tif(typeof options.maxFileSizeTotal == \'undefined\') options.maxFileSizeTotal = -1;',
'\t\t\tvar maxSizeTotal = options.maxFileSizeTotal;',
'\t\t\tif(maxSizeTotal == -1) maxSizeTotal = 999999999999999;',
'\t\t\tif(typeof options.allowedFileTypes == \'undefined\') options.allowedFileTypes = \'\';',
'\t\t\tvar fileMsg = options.customization.maxFileSize;',
'\t\t\tvar fileTotalMsg = options.customization.totalFileSize;',
'\t\t\tvar typeMsg = options.customization.fileType;',
'\t\t\tvar flagHasValidationFunction = false;',
'\t\t\tif(typeof options.onValidationError == \'function\') flagHasValidationFunction = true;',
'\t\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\t\ttotalSize = totalSize + arrS3[i].size;',
'\t\t\t\t//check size',
'\t\t\t\tif(arrS3[i].size > maxSize) {',
'\t\t\t\t\tif(flagHasValidationFunction) {',
'\t\t\t\t\t\toptions.onValidationError({violationType: \'size\', name: arrS3[i].name, size: arrS3[i].size, type: arrS3[i].type});',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tif(typeof fileMsg != \'undefined\' && fileMsg != \'\') {',
'\t\t\t\t\t\t\tvar msg = fileMsg;',
'\t\t\t\t\t\t\tvar e = arrS3[i];',
'\t\t\t\t\t\t\tmsg = msg.replace(\'[filename]\',e.name);',
'\t\t\t\t\t\t\tmsg = msg.replace(\'[filesize]\',\'\' + e.size);',
'\t\t\t\t\t\t\tmsg = msg.replace(\'[maxfilesize]\',\'\' + maxSize);',
'\t\t\t\t\t\t\talert(msg);',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\talert(\'File exceeds maximum allowed size of \' + maxSize);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\treturn false;',
'\t\t\t\t}',
'\t\t\t\t//check type',
'\t\t\t\tif(options.allowedFileTypes != \'\') {',
'\t\t\t\t\tvar arrT = options.allowedFileTypes.split(\',\');',
'\t\t\t\t\tfor(var i2 = 0; i2 < arrT.length; i2++ ) {',
'\t\t\t\t\t\tarrT[i2] =   $u.s.aTrim(arrT[i2].toLowerCase());',
'\t\t\t\t\t\tarrT[i2] = arrT[i2].replace(\'.\',\'\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar ext = arrS3[i].name.split(\'.\');',
'\t\t\t\t\text = ext[ext.length -1];',
'\t\t\t\t\text = ext.toLowerCase();',
'\t\t\t\t\tvar ia = $u.a.find(arrT,ext);',
'\t\t\t\t\tif(ia == -1) {',
'\t\t\t\t\t\tif(flagHasValidationFunction) {',
'\t\t\t\t\t\t\toptions.onValidationError({violationType: \'type\', name: arrS3[i].name, size: arrS3[i].size, type: arrS3[i].type});',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\tif(typeof typeMsg != \'undefined\' && typeMsg != \'\') {',
'\t\t\t\t\t\t\t\tvar msg = typeMsg;',
'\t\t\t\t\t\t\t\tvar e = arrS3[i];',
'\t\t\t\t\t\t\t\tmsg = msg.replace(\'[filename]\',e.name);',
'\t\t\t\t\t\t\t\tmsg = msg.replace(\'[filetype]\',ext);',
'\t\t\t\t\t\t\t\talert(msg);',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\talert(\'Invalid file type \' + ext);',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\treturn false;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t//check total size',
'\t\t\tif(totalSize > maxSizeTotal) {',
'\t\t\t\t//Selected files ([filecount] files, total size [totalfilesize]) exceed the maximum allowed total file size of [maxtotalfilesize].',
'\t\t\t\tif(flagHasValidationFunction) {',
'\t\t\t\t\toptions.onValidationError({violationType: \'totalSize\', totalSize: totalSize, maxSizeTotal: maxSizeTotal});',
'\t\t\t\t} else {',
'\t\t\t\t\tif(typeof fileTotalMsg != \'undefined\' && fileTotalMsg != \'\') {',
'\t\t\t\t\t\tvar msg = fileTotalMsg;',
'\t\t\t\t\t\tvar e = arrS3[i];',
'\t\t\t\t\t\tmsg = msg.replace(\'[filecount]\',arrS3.length);',
'\t\t\t\t\t\tmsg = msg.replace(\'[totalfilesize]\',\'\' + totalSize);',
'\t\t\t\t\t\tmsg = msg.replace(\'[maxtotalfilesize]\',\'\' + maxSizeTotal);',
'\t\t\t\t\t\talert(msg);',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\talert(\'Files exceeds maximum allowed size of \' + maxSizeTotal);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\treturn false;',
'\t\t\t}',
'\t\t\t//end validate file selection',
'\t\t\tif(typeof options.onAfterFilesSelect == \'function\') {',
'\t\t\t\tvar result = options.onAfterFilesSelect(arrS3);',
'\t\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\t\tif(!result) return false;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tops.__handleFileSelectLow(files,__guid,arrS3)',
'\t\t}',
'\t\tops._generatePlaceholderId = function() {',
'\t\t\tvar txt = options.progressDisplayPlaceholder;',
'\t\t\tvar flagDV = false;',
'\t\t\tif(typeof options.__dv != \'undefined\') flagDV = options.__dv;',
'\t\t\tvar num = txt.split(\'.\')[1];',
'\t\t\tif(!flagDV) {',
'\t\t\t\tvar eleId = _dlgObj.gridId + \'.V.R\'+options.rowNumber+\'._UNBOUND_STATICTEXT_\' + num;',
'\t\t\t} else {',
'\t\t\t\tvar eleId = _dlgObj.gridId + \'.D.V.R\'+options.rowNumber+\'._UNBOUND_STATICTEXT_\' + num;',
'\t\t\t}',
'\t\t\treturn eleId;',
'\t\t}',
'\t\tops.__handleFileSelectLow = function(files,__guid,arrS3) {',
'\t\t\tif(options.displayProgress) {',
'\t\t\t\tif(options.progressDisplayPlaceholder.indexOf(\'ELEMENT:\') == 0) {',
'\t\t\t\t\toptions.resolvedProgressPlaceholder = options.progressDisplayPlaceholder.split(\':\')[1];',
'\t\t\t\t} else {',
'\t\t\t\t\toptions.resolvedProgressPlaceholder = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder',
'\t\t\t\t}',
'\t\t\t\tvar eleP = $(options.resolvedProgressPlaceholder);',
'\t\t\t\tif(options.part == \'grid\') {',
'\t\t\t\t\toptions.resolvedProgressPlaceholder = this._generatePlaceholderId()',
'\t\t\t\t\tvar eleP = $(options.resolvedProgressPlaceholder);',
'\t\t\t\t}',
'\t\t\t\tif(eleP) {',
'\t\t\t\t\teleP.style.display = \'\';',
'\t\t\t\t\tvar arrH = [];',
'\t\t\t\t\tvar id_i = \'\';',
'\t\t\t\t\tvar id_row_i = \'\';',
'\t\t\t\t\tvar html = \'\';',
'\t\t\t\t\tvar html_i = \'\';',
'\t\t\t\t\tvar spanTxt = \'\';',
'\t\t\t\t\tvar flagAllowCancel = options.allowCancel;',
'\t\t\t\t\tif(typeof flagAllowCancel == \'undefined\') flagAllowCancel = false;',
'\t\t\t\t\tif(typeof options.progressStyle == \'undefined\') options.progressStyle = \'bar\';',
'\t\t\t\t\tif(options.progressStyle == \'text\') {',
'\t\t\t\t\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\t\t\t\t\t//id_i = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_i = options.resolvedProgressPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_row_i = id_i + \'.ROW\';',
'\t\t\t\t\t\t\thtml_i = \'\';',
'\t\t\t\t\t\t\thtml_i += \'<tr id="\'+id_row_i+\'">\';',
'\t\t\t\t\t\t\tif(flagAllowCancel) {',
'\t\t\t\t\t\t\t\thtml_i += \'<td><div style="cursor:pointer;padding: 5px;" title="Cancel upload" onclick="{UXPRERENDEREDALIAS}_DlgObj._abortS3Upload(\\\'\'+__guid+\'\\\',\'+i+\',\\\'\'+id_row_i+\'\\\');">X</div></td>\';',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\thtml_i +=\'<td><div>\' + arrS3[i].name + \' (\' + ops.formatNum(arrS3[i].size) + \') <span id=\'+id_i+\'></span> </div></td>\';',
'\t\t\t\t\t\t\thtml_i +=\'</tr>\'',
'\t\t\t\t\t\t\tarrH.push(html_i)',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\thtml = arrH.join(\'\');',
'\t\t\t\t\t\thtml = \'<table>\' + html + \'</table>\'',
'\t\t\t\t\t} else if (options.progressStyle == \'bar\') {',
'\t\t\t\t\t\tvar flagShowFilename = options.showFileNameInProgressBar;',
'\t\t\t\t\t\tif(typeof flagShowFilename == \'undefined\') flagShowFilename = true;',
'\t\t\t\t\t\tvar flagMobile = false;',
'\t\t\t\t\t\tif(typeof options._flagMobile != \'undefined\') flagMobile = options._flagMobile;',
'\t\t\t\t\t\thtml_i = \'\';',
'\t\t\t\t\t\tif(typeof options.progressBarColor == \'undefined\') options.progressBarColor = \'#9fa1e8\';',
'\t\t\t\t\t\tif(typeof options.progressBarWidth == \'undefined\') options.progressBarWidth = \'1.5in\';',
'\t\t\t\t\t\tvar color = options.progressBarColor',
'\t\t\t\t\t\tvar width = options.progressBarWidth;',
'\t\t\t\t\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\t\t\t\t\t//id_i = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_i = options.resolvedProgressPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_row_i = id_i + \'.ROW\';',
'\t\t\t\t\t\t\thtml_i = \'\';',
'\t\t\t\t\t\t\thtml_i += \'<tr id="\'+id_row_i+\'">\';',
'\t\t\t\t\t\t\tif(flagShowFilename) {',
'\t\t\t\t\t\t\t\thtml_i += \'<td>\' + arrS3[i].name + \' (\' + ops.formatNum(arrS3[i].size) + \')</td>\';',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\thtml_i += \'<td>(\' + ops.formatNum(arrS3[i].size) + \')</td>\';',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\thtml_i += \'<td><div style="border: solid 1px \'+color+\'; width: \'+width+\';">\';',
'\t\t\t\t\t\t\thtml_i += \'<div id="\'+id_i+\'"style="width: 0%; height: .05in;  background-color:\'+color+\';"></div></div></td>\';',
'\t\t\t\t\t\t\tif(flagAllowCancel) {',
'\t\t\t\t\t\t\t\thtml_i += \'<td><div style="cursor:pointer;padding: 5px;" title="Cancel upload" onclick="{UXPRERENDEREDALIAS}_DlgObj._abortS3Upload(\\\'\'+__guid+\'\\\',\'+i+\',\\\'\'+id_row_i+\'\\\');">X</div></td>\';',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\thtml_i += \'</tr>\';',
'\t\t\t\t\t\t\tarrH.push(html_i);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\thtml = arrH.join(\'\');',
'\t\t\t\t\t\t//for some reason in ie, this function is getting called a second time and if we don\'t exit here when .length == 0, it will overwrite the progress bar with a null string',
'\t\t\t\t\t\tif(arrH.length == 0) return true;',
'\t\t\t\t\t\thtml = \'<table>\' + html + \'</table>\'',
'\t\t\t\t\t\tif(flagMobile) {',
'\t\t\t\t\t\t\t//mobile upload limited to 1 file and don\'t wrap in table',
'\t\t\t\t\t\t\t//id_i = options.resolvedProgressPlaceholder + \'.\' + (1);',
'\t\t\t\t\t\t\thtml = \'\';',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\teleP.innerHTML = html;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tfor(var i = 0; i < files.length; i++) {',
'\t\t\t\tvar f = files[i];',
'\t\t\t\tvar dataA = [];',
'\t\t\t\tdataA.push(\'_mimeType=\' + f.type);',
'\t\t\t\ttargetName = f.name;',
'\t\t\t\tif(typeof options.targetName == \'function\') {',
'\t\t\t\t\tnewTargetName = options.targetName( f  );',
'\t\t\t\t\tif(typeof newTargetName != \'undefined\') {',
'\t\t\t\t\t\tif(newTargetName != \'\') targetName = newTargetName;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tarrS3[i].targetName = targetName;',
'\t\t\t\tvar targetServer = options.target;',
'\t\t\t\tif(!options.target) targetServer = \'S3\';',
'\t\t\t\tarrS3[i].targetServer = targetServer;',
'\t\t\t\tdataA.push(\'_name=\' + urlencode(targetName));  //name of object in S3',
'\t\t\t\tdataA.push(\'_number=\' + i);',
'\t\t\t\tif(options.specifyCredentials == \'Explicit\') {',
'\t\t\t\t\tdataA.push(\'_xbasicFunctionNameForPropertyValues=\' + options.xbasicFunctionName);',
'\t\t\t\t\tdataA.push(\'_method=explicit\');',
'\t\t\t\t} else {',
'\t\t\t\t\tdataA.push(\'_namedStorageConnectionString=\' + options.connectionString);',
'\t\t\t\t\tdataA.push(\'_method=connectionString\');',
'\t\t\t\t}',
'\t\t\t\tdataA.push(\'_authenticatedRead=\' + options.authenticatedRead);',
'\t\t\t\tdataA.push(\'_part=\' + options.part);',
'\t\t\t\tdata = dataA.join(\'&\');',
'\t\t\t\tif(typeof options.userProgressFunction == \'undefined\') options.userProgressFunction = function(e) {};',
'\t\t\t\tif(typeof options.onCompleteAllFiles == \'undefined\') options.onCompleteAllFiles = function(e) {};',
'\t\t\t\tif(typeof options.onCompleteFile == \'undefined\') options.onCompleteFile = function(e) { };',
'\t\t\t\tvar obj = {',
'\t\t\t\t\t//ajax callback to sign url onComplete',
'\t\t\t\t\tonComplete: function() {',
'\t\t\t\t\t\tvar signedURL = decodeURIComponent(_dlgObj._fileCodedURL);',
'\t\t\t\t\t\tvar num = _dlgObj._fileCodedURLNum;',
'\t\t\t\t\t\tvar fi = arrS3[num].file;',
'\t\t\t\t\t\tvar targetServer = arrS3[num].targetServer;',
'\t\t\t\t\t\tdelete objS3;',
'\t\t\t\t\t\tvar objS3 = {',
'\t\t\t\t\t\t\tuploadCompleteFunction: function() {',
'\t\t\t\t\t\t\t\tthis.arrS3[this.number].completed = true;',
'\t\t\t\t\t\t\t\tvar flagAllCompleted = false;',
'\t\t\t\t\t\t\t\tvar c = 0;',
'\t\t\t\t\t\t\t\tfor(var i = 0; i < this.arrS3.length; i++) {',
'\t\t\t\t\t\t\t\t\tif(this.arrS3[i].completed == true || this.arrS3[i].aborted == true) c = c+1;',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\tif(c == this.arrS3.length) flagAllCompleted = true;',
'\t\t\t\t\t\t\t\tvar e = {',
'\t\t\t\t\t\t\t\t\tname: this.name,',
'\t\t\t\t\t\t\t\t\ttype: this.type,',
'\t\t\t\t\t\t\t\t\tsize: this.size,',
'\t\t\t\t\t\t\t\t\tnumber: this.number,',
'\t\t\t\t\t\t\t\t\tfileArray: this.arrS3,',
'\t\t\t\t\t\t\t\t\ttargetName: arrS3[this.number].targetName',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\toptions.onCompleteFile(e);',
'\t\t\t\t\t\t\t\tif(flagAllCompleted) {',
'\t\t\t\t\t\t\t\t\toptions.onCompleteAllFiles(e);',
'\t\t\t\t\t\t\t\t\tif(options.displayProgress) {',
'\t\t\t\t\t\t\t\t\t\t//var eleP = $(_dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder);',
'\t\t\t\t\t\t\t\t\t\tvar eleP = $(options.resolvedProgressPlaceholder);',
'\t\t\t\t\t\t\t\t\t\tif(eleP) eleP.style.display = \'none\';',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\tdelete {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid];',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t},',
'\t\t\t\t\t\t\tuserProgressFunction: options.userProgressFunction,',
'\t\t\t\t\t\t\tonError: options.onError,',
'\t\t\t\t\t\t\tname: fi.name,',
'\t\t\t\t\t\t\tsize: fi.size,',
'\t\t\t\t\t\t\ttype: fi.type,',
'\t\t\t\t\t\t\tnumber: num,',
'\t\t\t\t\t\t\tarrS3: arrS3,',
'\t\t\t\t\t\t\ttargetName: arrS3[num].targetName,',
'\t\t\t\t\t\t\t__guid: __guid,',
'\t\t\t\t\t\t\tauthenticatedRead: options.authenticatedRead',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tobjS3.targetServer = targetServer;',
'\t\t\t\t\t\tops.uploadToS3(fi,signedURL,objS3);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tops.obj = obj;',
'\t\t\t\tvar reader = new FileReader();',
'\t\t\t\treader.onload = function(e) {',
'\t\t\t\t\tvar eleId = \'\';',
'\t\t\t\t\tvar ele = \'\';',
'\t\t\t\t\tif(typeof options.imageControl != \'undefined\' && options.part == \'ux\') {',
'\t\t\t\t\t\teleId = options.__alias + \'.V.R1.\' + options.imageControl.toUpperCase();',
'\t\t\t\t\t\tele = $(eleId);',
'\t\t\t\t\t\tif(ele) ele.src = e.target.result;',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tvar flagDV = false;',
'\t\t\t\t\t\tif(typeof options.__dv != \'undefined\') flagDV = options.__dv',
'\t\t\t\t\t\tif(flagDV) {',
'\t\t\t\t\t\t\teleId = options.__alias + \'.D.V.R\'+options.rowNumber+\'.\' + options.imageControl.toUpperCase();',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\teleId = options.__alias + \'.V.R\'+options.rowNumber+\'.\' + options.imageControl.toUpperCase();',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tele = $(eleId);',
'\t\t\t\t\t\tif(ele) {',
'\t\t\t\t\t\t\tvar oldSrc = ele.src;',
'\t\t\t\t\t\t\t_dlgObj.__oldImage = oldSrc;',
'\t\t\t\t\t\t\tele.src = e.target.result;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\treader.onerror = function(e) {',
'\t\t\t\t\talert(\'error123\');',
'\t\t\t\t}',
'\t\t\t\tif(typeof options.imageControl != \'undefined\') reader.readAsDataURL(f);',
'\t\t\t\tvar flagTargetIsServer = false;',
'\t\t\t\tif(typeof options.target != \'undefined\') {',
'\t\t\t\t\tif(options.target.toLowerCase() == \'server\') flagTargetIsServer = true;',
'\t\t\t\t}',
'\t\t\t\tif(!flagTargetIsServer) {',
'\t\t\t\t\t_dlgObj.ajaxCallback(\'\',\'\',\'a5DialogHelper_signAmazonS3FileUploadURL\',\'\',data,obj);',
'\t\t\t\t} else {',
'\t\t\t\t\t//no need to sign the url for target = \'alpha\'',
'\t\t\t\t\t_dlgObj._fileCodedURLNum = i;',
'\t\t\t\t\tobj.onComplete();',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\t//$e.add($(this.dialogId + \'._GETFILEMULTI\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__amazonS3fileupload\');',
'\t\t$e.removeGroup(\'__amazonS3fileupload\')',
'\t\t//bind the change event to the file selector',
'\t\tif(options.allowMultipleFiles) {',
'\t\t\tif(typeof this._getFileMultiListenerLoaded == \'undefined\') {',
'\t\t\t\t//this._getFileMultiListenerLoaded = true;',
'\t\t\t\t//$(this.dialogId + \'._GETFILEMULTI\').addEventListener(\'change\',ops.handleFileSelect,false);',
'\t\t\t\t$e.add($(this.dialogId + \'._GETFILEMULTI\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__amazonS3fileupload\');',
'\t\t\t}',
'\t\t\teleB = $(this.dialogId + \'._GETFILEMULTI\');',
'\t\t} else {',
'\t\t\tif(typeof this._getFileListenerLoaded == \'undefined\') {',
'\t\t\t\t//this._getFileListenerLoaded = true;',
'\t\t\t\t//$(this.dialogId + \'._GETFILE\').addEventListener(\'change\',ops.handleFileSelect,false);',
'\t\t\t\t$e.add($(this.dialogId + \'._GETFILE\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__amazonS3fileupload\');',
'\t\t\t}',
'\t\t\teleB = $(this.dialogId + \'._GETFILE\');',
'\t\t}',
'\t\tvar flagFilePassedIn = false;',
'\t\tif(typeof options.flagFilePassedIn != \'undefined\') {',
'\t\t\tflagFilePassedIn = options.flagFilePassedIn',
'\t\t}',
'\t\tif(!flagFilePassedIn) {',
'\t\t\teleB.value = \'\';',
'\t\t\teleB.click();',
'\t\t\teleB.value = \'\';',
'\t\t} else {',
'\t\t\t//options.filePassedIn',
'\t\t\tvar evt = {};',
'\t\t\tevt.target = {};',
'\t\t\tevt.target.files = [];',
'\t\t\tevt.target.files[0] = options.filePassedIn;',
'\t\t\tops.handleFileSelect(evt);',
'\t\t}',
'\t}',
'\t////==== upload PhoneGap /////////////////////////////////////////////////////',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileUpload = function(arr,options) {',
'\t\tvar _dlgObj = this;',
'\t\t//arr is an array of files to upload. arr must have a .filename property in each item',
'\t\tif(typeof LocalFileSystem == \'undefined\') {',
'\t\t\tif(typeof cordova == \'undefined\') {',
'\t\t\t\talert(\'Method not supported when not running in PhoneGap\');',
'\t\t\t} else {',
'\t\t\t\talert(\'Required PhoneGap plugins not loaded.\');',
'\t\t\t}',
'\t\t\treturn false;',
'\t\t}',
'\t\t//initialize variables',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tarr[i].name = arr[i].filename;',
'\t\t\tarr[i].number = i;',
'\t\t\tarr[i].completed = false;',
'\t\t\tarr[i].aborted = false;',
'\t\t\tarr[i].succeeded = false;',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: generateProgressBarsHTML -------------',
'\t\tvar generateProgressBarsHTML = function (ops,count) {',
'\t\t\tvar eleTarget = ops.progressElement;',
'\t\t\teleTarget = eleTarget.toUpperCase();',
'\t\t\tvar html = \'\';',
'\t\t\tvar html_i = \'\';',
'\t\t\tvar name_i = \'\';',
'\t\t\tvar progress_i = \'\';',
'\t\t\tvar idName = \'\';',
'\t\t\tvar idProgress = \'\';',
'\t\t\tif(ops.individualProgress) {',
'\t\t\t\tfor(var  i = 0; i < count; i++) {',
'\t\t\t\t\tname_i = \'Name: \' + i;',
'\t\t\t\t\tprogress_i = \'Progress...\' + i;',
'\t\t\t\t\tidProgress = eleTarget + \'.PROGRESS.\' + i;',
'\t\t\t\t\tidName = eleTarget + \'.NAME.\' + i;',
'\t\t\t\t\tprogress_i = \'<div style="border: solid 1px \'+ops.color+\'; width: \'+ops.width+\';">\';',
'\t\t\t\t\tprogress_i += \'<div id="\'+idProgress+\'"style="width: 0%; height: .05in;  background-color:\'+ops.color+\';"></div></div></td>\';',
'\t\t\t\t\thtml_i = \'<td id="\'+idName+\'">name \'+name_i+\'</td><td>\'+progress_i+\'</td>\';',
'\t\t\t\t\thtml_i = \'<tr>\' + html_i + \'</tr>\';',
'\t\t\t\t\thtml = html + html_i;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(ops.showTotalProgress) {',
'\t\t\t\tidProgress = eleTarget + \'.PROGRESS.TOTAL\';',
'\t\t\t\tidName = eleTarget + \'.NAME.TOTAL\';',
'\t\t\t\tprogress_i = \'<div style="border: solid 1px \'+ops.color+\'; width: \'+ops.width+\';">\';',
'\t\t\t\tprogress_i += \'<div id="\'+idProgress+\'"style="width: 0%; height: .05in;  background-color:\'+ops.color+\';"></div></div></td>\';',
'\t\t\t\thtml_i = \'<td id="\'+idName+\'"></td><td>\'+progress_i+\'</td>\';',
'\t\t\t\thtml_i = \'<tr>\' + html_i + \'</tr>\';',
'\t\t\t\thtml = html + html_i',
'\t\t\t}',
'\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\thtml = \'<div id="\'+idProgress+\'"><table>\' + html + \'</table><div>\';',
'\t\t\t$(eleTarget).innerHTML = html;',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: phoneGapUploadDoWork -------------',
'\t\tvar phoneGapUploadDoWork = function(arr,options) {',
'\t\t\tif(options.target.toLowerCase() == \'s3\') {',
'\t\t\t\t//s3',
'\t\t\t\tvar xbasicFunction = \'a5dialogHelper_systemSignS3Policy\';',
'\t\t\t\tvar data = A5.ajax.buildURLParam(\'_jsonOptions\',JSON.stringify(options));',
'\t\t\t\tvar ajaxObj = {',
'\t\t\t\t\terrorFunction: function() {',
'\t\t\t\t\t\tif(typeof options.onAjaxFailed == \'function\') options.onAjaxFailed();',
'\t\t\t\t\t},',
'\t\t\t\t\tonComplete: function() {',
'\t\t\t\t\t\tvar startUploadLocal = function() {',
'\t\t\t\t\t\t\tvar totalSize = 0;',
'\t\t\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\t\t\ttotalSize = totalSize + Number(arr[i].size);',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tvar _sysObj = {};',
'\t\t\t\t\t\t\t_sysObj.totalBytesToUpload = totalSize;',
'\t\t\t\t\t\t\tvar flagMobile = false;',
'\t\t\t\t\t\t\tif(typeof options._flagMobile != \'undefined\') flagMobile = options._flagMobile;',
'\t\t\t\t\t\t\toptions._flagMobile = flagMobile;',
'\t\t\t\t\t\t\tif(options.showProgress && !flagMobile) generateProgressBarsHTML(options.progress,arr.length);',
'\t\t\t\t\t\t\t//alert(\'ready to start uploading files: total \' + totalSize);',
'\t\t\t\t\t\t\tstartUploadFilesToS3(_sysObj,options);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tvar _sTop = {};',
'\t\t\t\t\t\tgetFileSizesForAllItemsInArray(startUploadLocal,_sTop);',
'\t\t\t\t\t},',
'\t\t\t\t\tdeviceOfflineFunction: function() {',
'\t\t\t\t\t\tif(typeof options.onDeviceOffline == \'function\') options.onDeviceOffline();',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',xbasicFunction,\'\',data,ajaxObj);',
'\t\t\t} else {',
'\t\t\t\t//alpha server',
'\t\t\t\tvar startUploadLocal = function() {',
'\t\t\t\t\tvar totalSize = 0;',
'\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\ttotalSize = totalSize + Number(arr[i].size);',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _sysObj = {};',
'\t\t\t\t\t_sysObj.totalBytesToUpload = totalSize;',
'\t\t\t\t\tif(options.showProgress) generateProgressBarsHTML(options.progress,arr.length);',
'\t\t\t\t\tstartUploadFilesToS3(_sysObj,options);',
'\t\t\t\t}',
'\t\t\t\tvar _sTop = {};',
'\t\t\t\tgetFileSizesForAllItemsInArray(startUploadLocal,_sTop);',
'\t\t\t}',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: getFileSizesForAllItemsInList',
'\t\tvar getFileSizesForAllItemsInArray = function(allDone_GotAllFileSizes_Callback, _sTop)  {',
'\t\t\tvar _s = {count: 0};',
'\t\t\tvar getFileSizesForAllItemsInArrayLow = function (arr,r,count,callback,_s,_sTop) {',
'\t\t\t\tvar rowNumber = r;',
'\t\t\t\tvar url = arr[r].filename;',
'\t\t\t\tvar resolveLocalFileURL_SUCCESS = function(fileEntry) {',
'\t\t\t\t\tvar file_SUCCESS = function(f) {',
'\t\t\t\t\t\tarr[r].size = f.size;',
'\t\t\t\t\t\t_s.count = _s.count + 1;',
'\t\t\t\t\t\tif(_s.count == count) {',
'\t\t\t\t\t\t\tcallback(_sTop);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tfileEntry.file(file_SUCCESS);',
'\t\t\t\t}',
'\t\t\t\t//on iphone, video capture does not return a file with the file:// prefix',
'\t\t\t\tvar urlToResolve = url;',
'\t\t\t\tif(url.indexOf(\'file:\') != 0) {',
'\t\t\t\t\turlToResolve = urlToResolve.replace(\'/private\',\'file:\\/\\/\');',
'\t\t\t\t}',
'\t\t\t\twindow.resolveLocalFileSystemURL(urlToResolve, resolveLocalFileURL_SUCCESS, function() { } );',
'\t\t\t}',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tgetFileSizesForAllItemsInArrayLow(arr,i,arr.length,allDone_GotAllFileSizes_Callback,_s,_sTop)',
'\t\t\t}',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: startUploadFilesToS3',
'\t\tvar startUploadFilesToS3 = function(_sysObj,options) {',
'\t\t\t//_sysObj.totalBytesToUpload;',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tupLoadFilesToS3Work(arr[i].filename,arr,i,_sysObj,options)',
'\t\t\t}',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: s3SignedPolicy',
'\t\tvar s3SignedPolicy = function() {',
'\t\t\tvar obj = {};',
'\t\t\tobj.hasError = {UXPRERENDEREDALIAS}_DlgObj._pgS3.hasError;',
'\t\t\tobj.policyBase64 = {UXPRERENDEREDALIAS}_DlgObj._pgS3.policyBase64;',
'\t\t\tobj.signature = {UXPRERENDEREDALIAS}_DlgObj._pgS3.signature;',
'\t\t\tobj.userKey = {UXPRERENDEREDALIAS}_DlgObj._pgS3.accessKey;',
'\t\t\tobj.acl = {UXPRERENDEREDALIAS}_DlgObj._pgS3.acl;',
'\t\t\tobj.bucket = {UXPRERENDEREDALIAS}_DlgObj._pgS3.bucket;',
'\t\t\treturn obj;',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: uploadFilesToS3Work',
'\t\tvar upLoadFilesToS3Work = function(filenameURI,arr,fileNumber,_sysObj, actionOptions) {',
'\t\t\t//alert(\'actionOptions.target: \' + actionOptions.target);  s3 or alphaanywhere',
'\t\t\tvar fileName = filenameURI.substr(filenameURI.lastIndexOf(\'/\')+1);',
'\t\t\tvar targetName = fileName;',
'\t\t\tif(typeof actionOptions.onComputeS3Filename == \'function\') {',
'\t\t\t\tvar e = {name: targetName, object: arr[fileNumber]};',
'\t\t\t\tvar newTargetName = actionOptions.onComputeS3Filename(e);',
'\t\t\t\tif(typeof newTargetName == \'undefined\') newTargetName = targetName;',
'\t\t\t\tif(newTargetName == \'\') newTargetName = targetName;',
'\t\t\t\ttargetName = newTargetName;',
'\t\t\t}',
'\t\t\t//on iphone video name is always \'capturedvideo.mov\' (in a unique subfolder)',
'\t\t\tif(targetName.toLowerCase() == \'capturedvideo.mov\') {',
'\t\t\t\ttargetName = A5.UUID() + \'_video.MOV\';',
'\t\t\t}',
'\t\t\tarr[fileNumber].targetName = targetName; //use name that event returned',
'\t\t\tvar ft = new FileTransfer();',
'\t\t\tvar options = new FileUploadOptions();',
'\t\t\toptions.fileKey = "file";',
'\t\t\toptions.fileName = targetName;',
'\t\t\toptions.mimeType = "image/jpeg";',
'\t\t\toptions.chunkedMode = false;',
'\t\t\tif(actionOptions.target == \'alphaanywhere\') {',
'\t\t\t\tvar s3URI = encodeURI( $u.s.aTrim({UXPRERENDEREDALIAS}_DlgObj.ajaxURL));',
'\t\t\t\t//s3URI = \'junk\'; //force a file upload error',
'\t\t\t\t//alert(\'remember to turn this off\');',
'\t\t\t\tvar xbasicAfterUpload = actionOptions.xbasicAfterFileUploaded',
'\t\t\t\tvar specialMode = \'\';',
'\t\t\t\tif(typeof actionOptions.specialMode != \'undefined\') specialMode = actionOptions.specialMode;',
'\t\t\t\toptions.params = {',
'\t\t\t\t\t"_XbasicFunction" : "system:phonegapfileupload",',
'\t\t\t\t\t"__Ajax" : "true",',
'\t\t\t\t\t"__FormAction" : "GenericAjaxCallback",',
'\t\t\t\t\t"__FormID" : "",',
'\t\t\t\t\t"__xbasicAfterUpload" : xbasicAfterUpload,',
'\t\t\t\t\t"__arrayIndex" : fileNumber,',
'\t\t\t\t\t"__actionOptions" : JSON.stringify(actionOptions),',
'\t\t\t\t\t"__specialMode" : specialMode,',
'\t\t\t\t\t"__targetName" : targetName,',
'\t\t\t\t\t"__arrayItem" : JSON.stringify(arr[fileNumber]),',
'\t\t\t\t\t"__ajaxURL" : $u.s.aTrim({UXPRERENDEREDALIAS}_DlgObj.ajaxURL)',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\t//s3',
'\t\t\t\tvar obj = s3SignedPolicy();',
'\t\t\t\tvar s3URI = encodeURI(\'https://\' + obj.bucket + \'.s3.amazonaws.com/\'),',
'\t\t\t\t\tpolicyBase64 = obj.policyBase64,',
'\t\t\t\t\tsignature = obj.signature,',
'\t\t\t\t\tawsKey = obj.userKey,',
'\t\t\t\t\tacl = obj.acl;',
'\t\t\t\toptions.params = {',
'\t\t\t\t\t"key": targetName,',
'\t\t\t\t\t"AWSAccessKeyId": awsKey,',
'\t\t\t\t\t"acl": acl,',
'\t\t\t\t\t"policy": policyBase64,',
'\t\t\t\t\t"signature": signature,',
'\t\t\t\t\t"Content-Type": "image/jpeg"',
'\t\t\t\t};',
'\t\t\t}',
'\t\t\tvar setProgress = function(progressId,fileNumber,pctComplete) {',
'\t\t\t\tvar id = \'\';',
'\t\t\t\tvar countCompleted = 0;',
'\t\t\t\tif(fileNumber == \'total\') {',
'\t\t\t\t\tid = progressId + \'.PROGRESS.TOTAL\';',
'\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\tif(arr[i].completed) countCompleted = countCompleted + 1;',
'\t\t\t\t\t}',
'\t\t\t\t\tvar idN = progressId + \'.NAME.TOTAL\';',
'\t\t\t\t\tvar ele = $(idN);',
'\t\t\t\t\t//if(ele) ele.innerHTML = \'Completed: \' + countCompleted +  \' of \' + arr.length;',
'\t\t\t\t} else {',
'\t\t\t\t\tid = progressId + \'.PROGRESS.\' + fileNumber;',
'\t\t\t\t}',
'\t\t\t\tvar ele = $(id);',
'\t\t\t\tif(ele) ele.style.width = pctComplete + \'%\';',
'\t\t\t\tvar idP = progressId + \'.PROGRESSDISPLAY\';',
'\t\t\t\tele = $(idP);',
'\t\t\t\tif(ele) ele.style.display = \'\';',
'\t\t\t}',
'\t\t\tft.onprogress = function(progressEvent) {',
'\t\t\t\tvar totalBytesToTransfer = _sysObj.totalBytesToUpload',
'\t\t\t\tif(typeof _sysObj.workDone == \'undefined\') {',
'\t\t\t\t\t_sysObj.workDone = [];',
'\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\t_sysObj.workDone[i] = 0;',
'\t\t\t\t\t}',
'\t\t\t\t };',
'\t\t\t\t_sysObj.workDone[fileNumber] = progressEvent.loaded;',
'\t\t\t\tvar gTotal = 0;',
'\t\t\t\tfor(var i = 0; i < _sysObj.workDone.length; i++) {',
'\t\t\t\t\tif(typeof _sysObj.workDone[i] != \'undefined\') {',
'\t\t\t\t\t\tgTotal = gTotal + _sysObj.workDone[i];',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar progressId = actionOptions.progress.progressElement;',
'\t\t\t\tif (progressEvent.lengthComputable) {',
'\t\t\t\t\tvar pctComplete = (progressEvent.loaded / progressEvent.total)*100;',
'\t\t\t\t\tif(pctComplete > 100) pctComplete = 100;',
'\t\t\t\t\tpctComplete = $u.n.round(pctComplete,4);',
'\t\t\t\t\tif(actionOptions.showProgress) setProgress(progressId,fileNumber,pctComplete);',
'\t\t\t\t\tif(typeof actionOptions.onProgressEvent == \'function\') {',
'\t\t\t\t\t\tactionOptions.onProgressEvent(arr, fileNumber, pctComplete, progressEvent.loaded, progressEvent.total);',
'\t\t\t\t\t}',
'\t\t\t\t\tvar pctCompleteTotal = (gTotal / totalBytesToTransfer) * 100;',
'\t\t\t\t\tif(pctCompleteTotal > 100) pctCompleteTotal = 100;',
'\t\t\t\t\tpctCompleteTotal = $u.n.round( pctCompleteTotal,4);',
'\t\t\t\t\tif(actionOptions.showProgress) setProgress(progressId,\'total\',pctCompleteTotal);',
'\t\t\t\t\tif(typeof actionOptions.onProgressEvent == \'function\') {',
'\t\t\t\t\t\tactionOptions.onProgressEvent(arr, \'total\', pctCompleteTotal, gTotal, totalBytesToTransfer);',
'\t\t\t\t\t}',
'\t\t\t\t\tif(actionOptions._flagMobile) {',
'\t\t\t\t\t\tif($(\'MOBILEUPLOADPROGRESS.1\')) $(\'MOBILEUPLOADPROGRESS.1\').style.width = pctCompleteTotal + \'%\';',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\t//progress messages not possible -- should never happen',
'\t\t\t\t}',
'\t\t\t};',
'\t\t\tvar _hasCompleted = function() {',
'\t\t\t\tvar flagAllDone = true;',
'\t\t\t\tfor(var i = 0; i < arr.length; i ++) {',
'\t\t\t\t\tif(arr[i].completed == false) {',
'\t\t\t\t\t\tflagAllDone = false;',
'\t\t\t\t\t\tbreak;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\treturn flagAllDone;',
'\t\t\t}',
'\t\t\tvar fileUploadSuccess = function(r) {',
'\t\t\t\tarr[fileNumber].completed = true;',
'\t\t\t\tarr[fileNumber].succeeded = true;',
'\t\t\t\tarr[fileNumber].remoteName = arr[fileNumber].targetName;',
'\t\t\t\t//for uploads to AlphaAnywhere, the Xbasic function that is called can send a response',
'\t\t\t\tif(r.response != \'undefined\') {',
'\t\t\t\t\tif(r.response != \'\') eval(r.response);',
'\t\t\t\t};',
'\t\t\t\t//if the targer is the Alpha server and the Xbasic handler sent a response that set the \'targetFileName\' property',
'\t\t\t\tvar target = actionOptions.target.toLowerCase();',
'\t\t\t\tif(target == \'s3\') {',
'\t\t\t\t\tif(typeof actionOptions.s3.template != \'undefined\') {',
'\t\t\t\t\t\tarr[fileNumber].remoteName = actionOptions.s3.template.replace(\'__name__\',arr[fileNumber].targetName);',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\tif(typeof arr[fileNumber].targetFileName != \'undefined\') {',
'\t\t\t\t\t\tarr[fileNumber].remoteName = arr[fileNumber].targetFileName;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(typeof actionOptions.onCompleteIndividualFile == \'function\') {',
'\t\t\t\t\tactionOptions.onCompleteIndividualFile(arr,fileNumber);',
'\t\t\t\t}',
'\t\t\t\tvar flagAllDone = _hasCompleted();',
'\t\t\t\tif(flagAllDone) {',
'\t\t\t\t\tvar progressId = actionOptions.progress.progressElement;',
'\t\t\t\t\tvar idP = progressId + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\tvar ele = $(idP);',
'\t\t\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t\t\t\tif(typeof actionOptions.onComplete == \'function\') {',
'\t\t\t\t\t\tactionOptions.onComplete(arr);',
'\t\t\t\t\t};',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tvar _hideProgress = function() {',
'\t\t\t\tvar progressId = actionOptions.progress.progressElement;',
'\t\t\t\tvar idP = progressId + \'.PROGRESSDISPLAY\';',
'\t\t\t\tvar ele = $(idP);',
'\t\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t\t}',
'\t\t\tvar fileUploadFailed = function(error) {',
'\t\t\t\tarr[fileNumber].failed = true;',
'\t\t\t\tarr[fileNumber].completed = true;',
'\t\t\t\tif(typeof actionOptions.onError == \'function\') {',
'\t\t\t\t\tactionOptions.onError(arr,fileNumber,error);',
'\t\t\t\t}',
'\t\t\t\tif(typeof actionOptions.onCompleteIndividualFile == \'function\') {',
'\t\t\t\t\tactionOptions.onCompleteIndividualFile(arr,fileNumber);',
'\t\t\t\t}',
'\t\t\t\tvar flagAllDone = _hasCompleted();',
'\t\t\t\tif(flagAllDone) {',
'\t\t\t\t\t_hideProgress();',
'\t\t\t\t\tif(typeof actionOptions.onComplete == \'function\') {',
'\t\t\t\t\t\tactionOptions.onComplete(arr);',
'\t\t\t\t\t}',
'\t\t\t\t};',
'\t\t\t}',
'\t\t\tvar flagOK = true;',
'\t\t\tif(typeof actionOptions.onValidate == \'function\') {',
'\t\t\t\tvar result = actionOptions.onValidate(arr,fileNumber);',
'\t\t\t\tif(typeof result != \'undefined\') flagOK = result;',
'\t\t\t}',
'\t\t\t//do the upload',
'\t\t\tif(flagOK) {',
'\t\t\t\tvar flagTrustAllHosts = false;',
'\t\t\t\tif(typeof _dlgObj != \'undefined\') {',
'\t\t\t\t\tif(typeof _dlgObj._phoneGapTrustAllHosts != \'undefined\') {',
'\t\t\t\t\t\tflagTrustAllHosts = _dlgObj._phoneGapTrustAllHosts;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tft.upload(filenameURI, s3URI, fileUploadSuccess, fileUploadFailed, options,flagTrustAllHosts);',
'\t\t\t} else {',
'\t\t\t\tarr[fileNumber].aborted = true;',
'\t\t\t\tarr[fileNumber].completed = true;',
'\t\t\t}',
'\t\t}',
'\t\tphoneGapUploadDoWork(arr,options);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectory = function(dirName, onComplete, onError) {',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\t//got the filesystem',
'\t\t\tvar onDirCreateSuccess = function(dirEntry) {',
'\t\t\t\tif(typeof onComplete == \'function\') {',
'\t\t\t\t\tonComplete();',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tfs.root.getDirectory(dirName, {create: true},onDirCreateSuccess, onError);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectoryRecurse = function(dirName, onComplete, onError) {',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\tvar prepareWork = function(dir) {',
'\t\t\tvar arr = dir.split(\'/\');',
'\t\t\tvar arr3 = [];',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tvar arr2 = [];',
'\t\t\t\tfor(var k = 0; k < i + 1; k++) {',
'\t\t\t\t\tarr2.push(arr[k]);',
'\t\t\t\t}',
'\t\t\t\tarr3.push(arr2.join(\'/\'));',
'\t\t\t}',
'\t\t\treturn arr3;',
'\t\t}',
'\t\tvar arr = prepareWork(dirName);',
'\t\tvar count = 0;',
'\t\tvar onCompleteLocal = function() {',
'\t\t\tif(count == arr.length) {',
'\t\t\t\tonComplete();',
'\t\t\t} else {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectory(arr[count],onCompleteLocal,onError);',
'\t\t\t\t++count;',
'\t\t\t}',
'\t\t}',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectory(arr[count],onCompleteLocal,onError);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectory = function(dirName, onComplete, onError) {',
'\t\t//calls onComplete with an array of files in the directory',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\t//got filesystem event handler',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tif(dirName.indexOf(\'/\') == 0) dirName = dirName.substring(1);',
'\t\t\t//got the fileSystem',
'\t\t\t//alert(\'got fs - dirName:  \' + dirName);',
'\t\t\tfs.root.getDirectory(dirName,{},function(e) {',
'\t\t\tvar dirReader = e.createReader();',
'\t\t\tvar listFiles = function(entries) {',
'\t\t\t\tvar fileCount = entries.length;',
'\t\t\t\tvar arr = [];',
'\t\t\t\tvar displayName = \'\';',
'\t\t\t\tfor(var i = 0; i < fileCount ; i++) {',
'\t\t\t\t\tif(entries[i].isFile) displayName = entries[i].fullPath + \' [F]\';',
'\t\t\t\t\telse displayName = entries[i].fullPath + \' [D]\';',
'\t\t\t\t\tarr.push( {fullPath: entries[i].fullPath, isFile: entries[i].isFile, display: displayName } );',
'\t\t\t\t}',
'\t\t\t\tif(typeof onComplete == \'function\') {',
'\t\t\t\t\tonComplete(arr);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tdirReader.readEntries(listFiles,onError);',
'\t\t},onError);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectoryRecurse = function(folder, onDirComplete, onDirError) {',
'\t\t//onDirComplete gets called with files, an array of all files. each array entry has a \'fileName\' property.',
'\t\tvar files = [];',
'\t\tvar pending = 0;',
'\t\tvar onComplete = function(array) {',
'\t\t\tfor(var i = 0; i < array.length; i++) {',
'\t\t\t\tif(array[i].isFile) {',
'\t\t\t\t\tfiles.push({fullPath: array[i].fullPath, isFile: true, display: array[i].fullPath + \' [F]\'})',
'\t\t\t\t} else {',
'\t\t\t\t\t++pending;',
'\t\t\t\t\tfiles.push({fullPath: array[i].fullPath, isFile: false, display: array[i].fullPath + \' [D]\'})',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectory(array[i].fullPath,onComplete,onError)',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t--pending;',
'\t\t\tif(pending == 0) {',
'\t\t\t\tonDirComplete(files);',
'\t\t\t}',
'\t\t}',
'\t\tvar onError = function(err) {',
'\t\t\tif(typeof onDirError == \'function\') {',
'\t\t\t\tonDirError(err);',
'\t\t\t\tonDirComplete = function() { } //prevent the all complete from firing',
'\t\t\t}',
'\t\t\telse alert(\'Error\');',
'\t\t}',
'\t\t++pending;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectory(folder,onComplete,onError);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectory = function(dirName,onSuccess,onError,flagRecursive) {',
'\t\tif(typeof flagRecursive == \'undefined\') flagRecursive = false;',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar gotDirectory = function(dirEntry) {',
'\t\t\t\tif(flagRecursive) {',
'\t\t\t\t\tdirEntry.removeRecursively(function() {',
'\t\t\t\t\t\tif(typeof onSuccess == \'function\') onSuccess();',
'\t\t\t\t\t},onError);',
'\t\t\t\t} else {',
'\t\t\t\t\tdirEntry.remove(function() {',
'\t\t\t\t\t\tif(typeof onSuccess == \'function\') onSuccess();',
'\t\t\t\t\t},onError);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t//if you cant find the dir then it is effectively removed, so call onSuccess',
'\t\t\tfs.root.getDirectory(dirName, {}, gotDirectory, onSuccess);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectoryRecurse = function(dirName,onSuccess,onError) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectory(dirName,onSuccess,onError,true);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFile = function(fileName,onSuccess,onError) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tfs.root.getFile(fileName, {create: false}, function(f) {',
'\t\t\t\tf.remove( function() {',
'\t\t\t\t\tif(typeof onSuccess == \'function\') {',
'\t\t\t\t\t\tonSuccess();',
'\t\t\t\t\t}',
'\t\t\t\t}, onError );',
'\t\t\t}, onError);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileExists = function(fileName,onResult,onFailed) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar gotFile = function(f) {',
'\t\t\t\tif(typeof onResult == \'function\') onResult(true);',
'\t\t\t}',
'\t\t\tvar didNotGetFile = function() {',
'\t\t\t\tif(typeof onResult == \'function\') onResult(false);',
'\t\t\t}',
'\t\t\tfs.root.getFile(fileName, {create: false}, gotFile,didNotGetFile);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onFailed );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapReadFile = function(fileName,onReadFile,onReadFileERROR,startAt,endAt) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar readFile = function(f) {',
'\t\t\t\tf.file( function(e) {',
'\t\t\t\t\treader = new FileReader();',
'\t\t\t\t\treader.onloadend = function(e) {',
'\t\t\t\t\t\tif(typeof onReadFile == \'function\') {',
'\t\t\t\t\t\t\tonReadFile(e.target.result);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tif(typeof startAt == \'undefined\' || typeof endAt == \'undefined\') {',
'\t\t\t\t\t\treader.readAsText(e);',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tvar blob = e.slice(startAt,endAt);',
'\t\t\t\t\t\treader.readAsText(blob);',
'\t\t\t\t\t}',
'\t\t\t\t});',
'\t\t\t}',
'\t\t\tfs.root.getFile(fileName, {create: false}, readFile, onReadFileERROR);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onReadFileERROR );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj._phoneGapCreateFile_low = function(fileName,text,onCreatedFile,onCreateFileERROR) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar writeFileData = function(f) {',
'\t\t\t\tvar doFileWrite = function(writerObject) {',
'\t\t\t\t\twriterObject.onwrite = function() {',
'\t\t\t\t\t\tif(typeof onCreatedFile == \'function\') onCreatedFile();',
'\t\t\t\t\t}',
'\t\t\t\t\twriterObject.seek(writerObject.length);',
'\t\t\t\t\tvar blob = new Blob([text], {type: \'text/plain\'});',
'\t\t\t\t\twriterObject.write(blob);',
'\t\t\t\t}',
'\t\t\t\tf.createWriter(doFileWrite);',
'\t\t\t}',
'\t\t\tfs.root.getFile(fileName, {create:true}, writeFileData, onCreateFileERROR);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onCreateFileERROR );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateFile = function(fileName,text,onCreatedFile,onCreateFileERROR,flagAppend) {',
'\t\tif(fileName == \'\') {if(typeof onCreateFileERROR == \'function\') onCreateFileERROR(); return false;}',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tif(!flagAppend) {',
'\t\t\t\tvar onDelete = function() {',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._phoneGapCreateFile_low(fileName,text,onCreatedFile,onCreateFileERROR);',
'\t\t\t\t}',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFile(fileName,onDelete,onDelete)',
'\t\t\t} else {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._phoneGapCreateFile_low(fileName,text,onCreatedFile,onCreateFileERROR)',
'\t\t\t}',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onCreateFileERROR );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileDownload = function(arr,options) {',
'\t\tvar flagCustomOnError = false;',
'\t\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents != \'undefined\') flagCustomOnError = {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents;',
'\t\tif(!flagCustomOnError) window.onerror = function(err) { alert(\'Unhandled Javascript Error - phoneGapFileDownload:  \' + JSON.stringify(err));}',
'\t\tvar _dlgObj = this;',
'\t\tif(typeof LocalFileSystem == \'undefined\') {',
'\t\t\tif(typeof cordova == \'undefined\') {',
'\t\t\t\talert(\'Method not supported when not running in PhoneGap\');',
'\t\t\t} else {',
'\t\t\t\talert(\'Required PhoneGap plugins not loaded.\');',
'\t\t\t}',
'\t\t\treturn false;',
'\t\t}',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\t//got filesystem event handler',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tarr[i].handled = false;',
'\t\t\tarr[i].downloaded = false;',
'\t\t\tarr[i].sourceType = \'server\';',
'\t\t\tif(arr[i].filename.toLowerCase().indexOf(\'http://\') == 0) arr[i].sourceType = \'url\';',
'\t\t\tif(arr[i].filename.toLowerCase().indexOf(\'https://\') == 0) arr[i].sourceType = \'url\';',
'\t\t\tif(arr[i].sourceType == \'url\') {',
'\t\t\t\tarr[i].sourceFilename = arr[i].filename.split(\'/\').pop().split(\'?\')[0];',
'\t\t\t}',
'\t\t}',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar baseDirectory = fs.root.toURL();',
'\t\t\tvar url = {UXPRERENDEREDALIAS}_DlgObj.ajaxURL;',
'\t\t\turl = url.split(\'?\')[0];',
'\t\t\turl = url.split(\'/\');',
'\t\t\turl.pop();',
'\t\t\turl = url.join(\'/\') + \'/\';',
'\t\t\toptions._serverURL = url;',
'\t\t\toptions._baseDirectory = baseDirectory;',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t//arr[i].localFileName = false;',
'\t\t\t}',
'\t\t\tif(options.showProgress) {',
'\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\tvar idProgress = eleTarget;',
'\t\t\t\tvar ele = $(idProgress);',
'\t\t\t\tif(!ele) options.showProgress = false; //set to false or else you will hang iOS',
'\t\t\t}',
'\t\t\tif(options.showProgress) {',
'\t\t\t\tvar ops = options.progress;',
'\t\t\t\tops.totalFileSize = options.totalFileSize;',
'\t\t\t\tvar eleTarget = ops.progressElement;',
'\t\t\t\teleTarget = eleTarget.toUpperCase();',
'\t\t\t\tvar html = \'\';',
'\t\t\t\tvar html_i = \'\';',
'\t\t\t\tvar name_i = \'\';',
'\t\t\t\tvar progress_i = \'\';',
'\t\t\t\tvar idName = \'\';',
'\t\t\t\tvar idProgress = \'\';',
'\t\t\t\tidProgress = eleTarget + \'.PROGRESS.TOTAL\';',
'\t\t\t\tidName = eleTarget + \'.NAME.TOTAL\';',
'\t\t\t\tprogress_i = \'<div style="border: solid 1px \'+ops.color+\'; width: \'+ops.width+\';">\';',
'\t\t\t\tprogress_i += \'<div id="\'+idProgress+\'"style="width: 0%; height: .05in;  background-color:\'+ops.color+\';"></div></div>\';',
'\t\t\t\thtml_i = \'<div id="\'+idName+\'"></div>\'+progress_i;',
'\t\t\t\thtml = html + html_i',
'\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\thtml = \'<div id="\'+idProgress+\'">\' + html + \'<div>\';',
'\t\t\t\tif ($(eleTarget)) $(eleTarget).innerHTML = html;',
'\t\t\t\tvar showProgress = function(pct) {',
'\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESS.TOTAL\';',
'\t\t\t\t\tvar ele = $(idProgress);',
'\t\t\t\t\tif(ele) ele.style.width = pct + \'%\';',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\tvar showProgress = function(pct) { };',
'\t\t\t}',
'\t\t\tvar phoneGapFileDownload_low = function(arr,i,options) {',
'\t\t\t\tvar targetFolder = options.targetFolder;',
'\t\t\t\tif(targetFolder != \'\') targetFolder = targetFolder + \'/\';',
'\t\t\t\tvar fnLocal = options._baseDirectory + targetFolder + arr[i].filename;',
'\t\t\t\tif(arr[i].sourceType == \'url\') {',
'\t\t\t\t\tfnLocal = options._baseDirectory + targetFolder +arr[i].sourceFilename;',
'\t\t\t\t}',
'\t\t\t\t//if the targetFolder is <SQLite>|localdbname.db user is doing a special download to the SQL database folder',
'\t\t\t\tvar flagSQLite = false;',
'\t\t\t\t/*',
'\t\t\t\tif(targetFolder.indexOf(\'<SQLite>\') == 0) {',
'\t\t\t\t\tvar localDBName = targetFolder.split(\'|\')[1];',
'\t\t\t\t\tlocalDBName = localDBName.split(\'/\')[0];',
'\t\t\t\t\tflagSQLite = true;',
'\t\t\t\t\tvar thisPackageName = \'\';',
'\t\t\t\t\tthisPackageName = _phoneGapSettings().appId ;',
'\t\t\t\t\tvar localDbFileUrl = \t{',
'\t\t\t\t\t\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + localDBName,',
'\t\t\t\t\t\t\tios: \'cdvfile://localhost/persistent/\' + localDBName',
'\t\t\t\t\t\t\t//cdvfile://localhost/persistent/sqlite/\' + localDBName',
'\t\t\t\t\t\t};',
'\t\t\t\t\tif(typeof device == \'undefined\') {',
'\t\t\t\t\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar thisDevice = device.platform;',
'\t\t\t\t\tvar fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\t\t\t\t\tconsole.log(\'database location: \' + fileUrl);',
'\t\t\t\t\tfnLocal = fileUrl;',
'\t\t\t\t}',
'\t\t\t\t*/',
'\t\t\t\t///////////////////// new code /////////////////',
'\t\t\t\tif(targetFolder.indexOf(\'<SQLite>\') == 0) {',
'\t\t\t\t\tvar localDBName = targetFolder.split(\'|\')[1];',
'\t\t\t\t\tlocalDBName = localDBName.split(\'/\')[0];',
'\t\t\t\t\tflagSQLite = true;',
'\t\t\t\t\tvar thisPackageName = \'\';',
'\t\t\t\t\tthisPackageName = _phoneGapSettings().appId ;',
'\t\t\t\t\tvar localDbFileUrl = {',
'\t\t\t\t\t\t// Android note: This entry was tested and works on Android 6.01, 5.5.1, 4.4.2',
'\t\t\t\t\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + localDBName,',
'\t\t\t\t\t\t// iOS Note: dataDirectory will point to ..appid/Library/NoCloud',
'\t\t\t\t\t\t// This is not exposed to iTunes or iCloud',
'\t\t\t\t\t\tios: cordova.file.dataDirectory + localDBName',
'\t\t\t\t\t};',
'\t\t\t\t\tif(typeof device == \'undefined\') {',
'\t\t\t\t\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar thisDevice = device.platform;',
'\t\t\t\t\tvar fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\t\t\t\t\tconsole.log(\'.phoneGapFileDownload reports fileUrl: \' + fileUrl);',
'\t\t\t\t\tfnLocal = fileUrl;',
'\t\t\t\t}',
'\t\t\t\t/////////////////// end new code ////////////////',
'\t\t\t\tvar fileFound = function() {',
'\t\t\t\t\tvar forceDownload = false;',
'\t\t\t\t\tforceDownload = options.forceDownloadIfFileExists;',
'\t\t\t\t\tif(typeof forceDownload == \'undefined\') forceDownload = false;',
'\t\t\t\t\tif(forceDownload) {',
'\t\t\t\t\t\tfileNotFound();',
'\t\t\t\t\t\treturn true;',
'\t\t\t\t\t}',
'\t\t\t\t\tarr[i].handled = true;',
'\t\t\t\t\tarr[i].found = true;',
'\t\t\t\t\tarr[i].localFilename = fnLocal;',
'\t\t\t\t\tarr[i].success = true;',
'\t\t\t\t\tvar allHandled = true;',
'\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\tif(!arr[k].handled) {',
'\t\t\t\t\t\t\tallHandled = false;',
'\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tif(allHandled) {',
'\t\t\t\t\t\tif(typeof options.onComplete == \'function\') options.onComplete(arr);',
'\t\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\t\tvar ele = $(idProgress);',
'\t\t\t\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar fileNotFound = function() {',
'\t\t\t\t\t//file was not in the local filesystem so must download it.',
'\t\t\t\t\tarr[i].found = false;',
'\t\t\t\t\tarr[i].localFilename = fnLocal;',
'\t\t\t\t\tvar url2 = options._serverURL + arr[i].filename;',
'\t\t\t\t\tif(arr[i].sourceType == \'url\') {',
'\t\t\t\t\t\turl2 = arr[i].filename;',
'\t\t\t\t\t}',
'\t\t\t\t\tvar ft = new FileTransfer();',
'\t\t\t\t\tft.onprogress = function(progressEvent) {',
'\t\t\t\t\t\tif (progressEvent.lengthComputable) {',
'\t\t\t\t\t\t\tarr[i].totalBytes = progressEvent.total;',
'\t\t\t\t\t\t\tarr[i].bytesLoaded = progressEvent.loaded;',
'\t\t\t\t\t\t\tvar totalSize = -1;',
'\t\t\t\t\t\t\tif(typeof options != \'undefined\') {',
'\t\t\t\t\t\t\t\ttotalSize = options.totalFileSize;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tif(typeof totalSize == \'undefined\') totalSize = -1;',
'\t\t\t\t\t\t\tif(totalSize == -1) {',
'\t\t\t\t\t\t\t\tvar pctComplete = (progressEvent.loaded / progressEvent.total)*100;',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\tvar pctComplete = (progressEvent.loaded / totalSize)*100;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tif(pctComplete > 100) pctComplete = 100;',
'\t\t\t\t\t\t\tpctComplete = $u.n.round(pctComplete,4);',
'\t\t\t\t\t\t\tarr[i].pctComplete = pctComplete;',
'\t\t\t\t\t\t\tvar totalBytes = 0;',
'\t\t\t\t\t\t\tvar loaded = 0;',
'\t\t\t\t\t\t\tvar pctCompleteTotal = 0;',
'\t\t\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\t\t\tif(typeof arr[k].totalBytes != \'undefined\') {',
'\t\t\t\t\t\t\t\t\ttotalBytes = totalBytes + arr[k].totalBytes;',
'\t\t\t\t\t\t\t\t\tloaded = loaded + arr[k].bytesLoaded;',
'\t\t\t\t\t\t\t\t\tpctCompleteTotal = (loaded/totalBytes) * 100;',
'\t\t\t\t\t\t\t\t\tif(totalSize > 0) {',
'\t\t\t\t\t\t\t\t\t\tpctCompleteTotal = (loaded/totalSize) * 100;',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\t//don\'t start showing progress till you have got the size of every file',
'\t\t\t\t\t\t\t\t\t//or else the progress bar will jump around',
'\t\t\t\t\t\t\t\t\tvar flagStartShowingProgress = true;',
'\t\t\t\t\t\t\t\t\t//we don\'t do the inner loop anymore because we are going to start showing progress immediately',
'\t\t\t\t\t\t\t\t\t/*',
'\t\t\t\t\t\t\t\t\tfor(var j = 0; j < arr.length; j++) {',
'\t\t\t\t\t\t\t\t\t\tif(typeof arr[j].totalBytes == \'undefined\') {',
'\t\t\t\t\t\t\t\t\t\t\t//$(\'msg1\').innerHTML = \'not started: \' + arr[j].filename   + \'<br>\' + $(\'msg1\').innerHTML;',
'\t\t\t\t\t\t\t\t\t\t\tflagStartShowingProgress = false;',
'\t\t\t\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\t*/',
'\t\t\t\t\t\t\t\t\tif(flagStartShowingProgress || true ) showProgress(pctCompleteTotal);',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\talert(\'length NOT computable\');',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar flagTrustAllHosts = false;',
'\t\t\t\t\tif(typeof _dlgObj._phoneGapTrustAllHosts != \'undefined\') {',
'\t\t\t\t\t\tflagTrustAllHosts = _dlgObj._phoneGapTrustAllHosts;',
'\t\t\t\t\t}',
'\t\t\t\t\tft.download(url2, fnLocal,',
'\t\t\t\t\t\t\tfunction(entry) {',
'\t\t\t\t\t\t\t\t//alert(\'Success! \' + fnLocal);',
'\t\t\t\t\t\t\t\t//alert(\'number: \' + i );',
'\t\t\t\t\t\t\t\t//alert(JSON.stringify(entry));',
'\t\t\t\t\t\t\t\tarr[i].success = true;',
'\t\t\t\t\t\t\t\tarr[i].handled = true;',
'\t\t\t\t\t\t\t\tarr[i].downloaded = true;',
'\t\t\t\t\t\t\t\t//fileAllDone();',
'\t\t\t\t\t\t\t\tvar allHandled = true;',
'\t\t\t\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\t\t\t\tif(!arr[k].handled) {',
'\t\t\t\t\t\t\t\t\t\tallHandled = false;',
'\t\t\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\tif(allHandled) {',
'\t\t\t\t\t\t\t\t\tif(typeof options.onComplete == \'function\') options.onComplete(arr);',
'\t\t\t\t\t\t\t\t\tif(options.showProgress) {',
'\t\t\t\t\t\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\t\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\t\t\t\t\t\t$(idProgress).style.display = \'none\';',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t},',
'\t\t\t\t\t\t\tfunction(err) {',
'\t\t\t\t\t\t\t\t//alert(\'Error in file transfer: \' + fnLocal);',
'\t\t\t\t\t\t\t\t//debugger;',
'\t\t\t\t\t\t\t\tarr[i].success = false;',
'\t\t\t\t\t\t\t\tarr[i].errorText = JSON.stringify(err);',
'\t\t\t\t\t\t\t\tarr[i].handled = true;',
'\t\t\t\t\t\t\t\t//fileAllDone();',
'\t\t\t\t\t\t\t\tvar allHandled = true;',
'\t\t\t\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\t\t\t\tif(!arr[k].handled) {',
'\t\t\t\t\t\t\t\t\t\tallHandled = false;',
'\t\t\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\tif(allHandled) {',
'\t\t\t\t\t\t\t\t\tif(typeof options.onComplete == \'function\') options.onComplete(arr);',
'\t\t\t\t\t\t\t\t\tif(options.showProgress) {',
'\t\t\t\t\t\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\t\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\t\t\t\t\t\tif($(idProgress)) $(idProgress).style.display = \'none\';',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t},',
'\t\t\t\t\t\t\tflagTrustAllHosts',
'\t\t\t\t\t);',
'\t\t\t\t\t//end fetch file  ---------------------------------------',
'\t\t\t\t\t//true/false -- trustAllHosts parameter',
'\t\t\t\t}',
'\t\t\t\twindow.resolveLocalFileSystemURL(fnLocal, fileFound, fileNotFound);',
'\t\t\t}',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tphoneGapFileDownload_low(arr,i,options)',
'\t\t\t}',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\tA5.ts = function() {',
'\t\tvar d = new Date()',
'\t\treturn d.getTime().toString(36);',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetFileSystemURIForLegacyPersistentStorage = function(ok,fail) {',
'\tvar _ok = ok;',
'\tvar onFSSuccess = function(fs) {',
'\t\tvar uri = fs.root.filesystem.root.nativeURL;',
'\t\t_ok(uri);',
'\t}',
'\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, fail );',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.base64DataToBlob = function(dataURI) {',
'\t//data:image/jpeg;base64,/',
'\t// convert base64/URLEncoded data component to raw binary data held in a string',
'    var byteString;',
'    if (dataURI.split(\',\')[0].indexOf(\'base64\') >= 0)',
'        byteString = atob(dataURI.split(\',\')[1]);',
'    else',
'        byteString = unescape(dataURI.split(\',\')[1]);',
'    // separate out the mime component',
'    var mimeString = dataURI.split(\',\')[0].split(\':\')[1].split(\';\')[0];',
'    // write the bytes of the string to a typed array',
'    var ia = new Uint8Array(byteString.length);',
'    for (var i = 0; i < byteString.length; i++) {',
'        ia[i] = byteString.charCodeAt(i);',
'    }',
'    return new Blob([ia], {type:mimeString});',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteDownloadDatabase = function(SQLiteDBURL,localDBName,onComplete,onError,optionsIn) {',
'\tif(SQLiteDBURL.indexOf(\'http://\') == 0 || SQLiteDBURL.indexOf(\'https://\') == 0) {',
'\t\t//don\'t need to add the baseURL',
'\t} else {',
'\t\tvar url = {UXPRERENDEREDALIAS}_DlgObj.ajaxURL;',
'\t\turl = url.split(\'?\')[0];',
'\t\turl = url.split(\'/\');',
'\t\turl.pop();',
'\t\turl = url.join(\'/\') + \'/\';',
'\t\tSQLiteDBURL =  url + SQLiteDBURL;',
'\t}',
'\tif(typeof onError != \'function\') {',
'\t\tonError = function(error) {',
'\t\t\talert(\'Database Download Failed. File transfer error: \'+error);',
'\t\t}',
'\t}',
'\tif(typeof _phoneGapSettings == \'undefined\') {',
'\t\talert(\'PhoneGap not loaded\');',
'\t\treturn false;',
'\t}',
'\tvar flagSQL = _phoneGapSettings().plugins[\'cordova-sqlite-ext\'];   //com.brodysoft.sqliteplugin',
'\tflagSQL = true;',
'\tif(typeof flagSQL == \'undefined\') flagSQL = false;',
'\tif(!flagSQL) {',
'\t\talert(\'SQLitePluginExt not loaded\');',
'\t\treturn false;',
'\t}',
'\t////////////////////',
'\tif(typeof optionsIn == \'undefined\') {',
'\t\tvar ops = {',
'\t\t\tshowProgress : false,',
'\t\t\tforceDownloadIfFileExists : true',
'\t\t\t}',
'\t} else {',
'\t\tvar ops = optionsIn',
'\t}',
'\tvar arr = [];',
'\tarr.push({filename: SQLiteDBURL});',
'\tvar options = {};',
'\toptions.targetFolder = \'<SQLite>|\' + localDBName;',
'\toptions.onComplete = function() {',
'\t\tonComplete.call();',
'\t}',
'\toptions.onError = function() { onError.call() };',
'\toptions.showProgress = ops.showProgress;',
'\toptions.forceDownloadIfFileExists = ops.forceDownloadIfFileExists;',
'\tif(options.showProgress) {',
'\t\toptions.progress = ops.progress;',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileDownload(arr,options);',
'\t///////////////////////////////////',
'\t/*',
'\tvar thisPackageName = \'\';',
'\tthisPackageName = _phoneGapSettings().appId ;',
'\t//alert(thisPackageName)',
'\tvar localDbFileUrl = \t{',
'\t\t\t\t\t\t\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + localDBName,',
'\t\t\t\t\t\t\t\tios: \'cdvfile://localhost/persistent/\' + localDBName',
'\t\t\t\t\t\t\t};',
'\tif(typeof device == \'undefined\') {',
'\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t}',
'\tvar thisDevice = device.platform;',
'\tvar fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\tvar fileTransfer = new FileTransfer();',
'\tvar uri = encodeURI(SQLiteDBURL);',
'\tvar options = {};',
'\tfileTransfer.download(uri,fileUrl,onComplete,onError,false,options);',
'\t*/',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteExecuteSQL = function(dbName,sql,argumentsIn,onSuccess,onError, onTransactionSuccess, onTransactionError) {',
'\tvar flagCustomOnError = false;',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents != \'undefined\') flagCustomOnError = {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents;',
'\tif(!flagCustomOnError) window.onerror = function(err) { alert(\'Unhandled Javascript Error - SQliteExecuteSQL:  \' + JSON.stringify(err));}',
'\tvar flagSQL = _phoneGapSettings().plugins[\'cordova-sqlite-ext\'];   //com.brodysoft.sqliteplugin',
'\t\tflagSQL = true;',
'\t\tif(typeof flagSQL == \'undefined\') flagSQL = false;',
'\t\tif(!flagSQL) {',
'\t\t\talert(\'SQLitePluginExt not loaded\');',
'\t\t\treturn false;',
'\t}',
'\tif(typeof onSuccess == \'undefined\') onSuccess = false;',
'\tif(typeof onError == \'undefined\') onError = false;',
'\tif(typeof argumentsIn == \'undefined\' || argumentsIn.constructor != Array) argumentsIn = [];',
'\tif(onSuccess.constructor != Array)  {',
'\t\tif(typeof onSuccess != \'function\') {',
'\t\t\tonSuccess = function(tx,result) {',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(onError.constructor != Array)  {',
'\t\tif(typeof onError != \'function\') {',
'\t\t\t\tonError = function(e) {',
'\t\t\t\t}',
'\t\t}',
'\t}',
'\tif(typeof device == \'undefined\') {',
'\t\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t}',
'\tvar flagArrayOfObjects = false;',
'\tif(sql.constructor == Array) {',
'\t\tif(sql[0].constructor == Object) {',
'\t\t\tflagArrayOfObjects = true;',
'\t\t}',
'\t}',
'\tif(flagArrayOfObjects) {',
'\t\tvar a = sql;',
'\t\tdelete sql;',
'\t\tsql = [];',
'\t\targumentsIn = [];',
'\t\tonSuccess = [];',
'\t\tonError = [];',
'\t\tfor(var i = 0; i < a.length; i++) {',
'\t\t\tsql[i] = a[i].sql;',
'\t\t\tif(typeof a[i].arguments != \'undefined\') {',
'\t\t\t\targumentsIn[i] = a[i].arguments;',
'\t\t\t} else {',
'\t\t\t\targumentsIn[i] = [];',
'\t\t\t}',
'\t\t\tif(typeof a[i].onSuccess != \'undefined\') {',
'\t\t\t\tonSuccess[i] = a[i].onSuccess;',
'\t\t\t} else {',
'\t\t\t\tonSuccess[i] = function() { };',
'\t\t\t}',
'\t\t\tif(typeof a[i].onError != \'undefined\') {',
'\t\t\t\tonError[i] = a[i].onError;',
'\t\t\t} else {',
'\t\t\t\tonError[i] = function() { };',
'\t\t\t}',
'\t\t}',
'\t}',
'\t/*',
'\tvar thisDevice = device.platform;',
'\t//var dbFilename = thisDevice == \'Android\' ? dbName:\'files/\' + dbName;',
'\tvar thisPackageName = \'\';',
'\tthisPackageName = _phoneGapSettings().appId ;',
'\tvar localDbFileUrl = \t{',
'\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + dbName,',
'\t\tios: \'cdvfile://localhost/persistent/\' + dbName',
'\t\t//cdvfile://localhost/persistent/sqlite/\' + localDBName',
'\t};',
'\tvar dbFilename = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\tconsole.log(\'database location: \' + dbFilename);',
'\tdelete db;',
'\tif(typeof window.sqlitePlugin == \'undefined\') {',
'\t\talert(\'Error: PhoneGap SQLite plugin not loaded.\');',
'\t}',
'\tvar db = window.sqlitePlugin.openDatabase({name:dbFilename,location:2});',
'\t*/',
'\t///////////////// new code starts here/////////////',
'\t//start here........',
'\tvar thisDevice = device.platform;',
'\tvar dbFilename = thisDevice == \'Android\' ? dbName:\'NoCloud/\' + dbName;   //NoCloud -- no exposed to iTunes and not backed up to iCloud',
'\tconsole.log(\'.SQLiteExecuteSQL: database location = \' + dbFilename);',
'\tif(typeof window.sqlitePlugin == \'undefined\') {',
'\t\talert(\'Error: PhoneGap SQLite plugin not loaded.\');',
'\t}',
'\tvar location = \'download\';',
'\tif( dbName.indexOf(\'root:\') == 0) {',
'\t\tlocation = \'root\';',
'\t\tdbName = dbName.split(\'root:\')[1];',
'\t}',
'\t//this is for a db that is downloaded from the server',
'\tif(location == \'download\') {',
'\t\tvar db = window.sqlitePlugin.openDatabase({name:dbFilename,location:1});',
'\t} else {',
'\t\t//if the db is in the webroot (pre-populated), then use this code',
'\t\tvar db = window.sqlitePlugin.openDatabase({name: dbName , location: 2, createFromLocation: 1});',
'\t}',
'\t///// end here.....',
'\t///////////////////new code ends here ////////////////',
'\tdb.transaction(',
'\t\tfunction(tx) {',
'\t\t\t//array of sql statements or array of array',
'\t\t\tvar flagArrayOfArrays = false;',
'\t\t\ttry{if(argumentsIn[0].constructor == Array) flagArrayOfArrays = true;} catch(e) {}',
'\t\t\tif(sql.constructor == Array || flagArrayOfArrays) {',
'\t\t\t\tif(sql.constructor == Array) {',
'\t\t\t\t\tvar sql_length = sql.length;',
'\t\t\t\t} else {',
'\t\t\t\t\tvar sql_length = argumentsIn.length;',
'\t\t\t\t}',
'\t\t\t\tvar i = 0;',
'\t\t\t\tfunction _lowSQL(transObj) {',
'\t\t\t\t\tif(sql.constructor == Array) {',
'\t\t\t\t\t\tvar sql_i = sql[i];',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tvar sql_i = sql;',
'\t\t\t\t\t}',
'\t\t\t\t\tvar args_i = argumentsIn[i];',
'\t\t\t\t\tif(typeof args_i != \'undefined\') {',
'\t\t\t\t\t\tfor(var j = 0; j < args_i.length; j++) {',
'\t\t\t\t\t\t\tif(typeof args_i[j] == \'function\') {',
'\t\t\t\t\t\t\t\tvar result = args_i[j].call(this,transObj);',
'\t\t\t\t\t\t\t\targs_i[j] = result;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar success_i = function(tx2,result) {',
'\t\t\t\t\t\tvar resultArray = {UXPRERENDEREDALIAS}_DlgObj.SQLiteResultSetToArray(result);',
'\t\t\t\t\t\tif(onSuccess.constructor == Array) {',
'\t\t\t\t\t\t\tonSuccess[i].call(this,tx2,result,resultArray,transObj);',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\tonSuccess.call(this,tx2,result,resultArray,transObj);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\ti++;',
'\t\t\t\t\t\tif(i < sql_length) {',
'\t\t\t\t\t\t\t_lowSQL(transObj);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar error_i = function(e) {',
'\t\t\t\t\t\tif(onError.constructor == Array) {',
'\t\t\t\t\t\t\tonError[i].call(this,e);',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\tonError.call(this,e);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\ttx.executeSql(sql_i,args_i,success_i,error_i);',
'\t\t\t\t}',
'\t\t\t\t_lowSQL({});',
'\t\t\t} else {',
'\t\t\t\t//single sql statement',
'\t\t\t\ttx.executeSql(sql,argumentsIn,function(tx,result) {',
'\t\t\t\t\tvar resultArray = {UXPRERENDEREDALIAS}_DlgObj.SQLiteResultSetToArray(result);',
'\t\t\t\t\tonSuccess.call(this,tx,result,resultArray);',
'\t\t\t\t}, function(e) {onError.call(this,e); });',
'\t\t\t}',
'\t\t},',
'\t\tfunction(e) { /*transaction failure*/ if(typeof onTransactionError == \'function\') { onTransactionError.call(this);} db.close(); },',
'\t\tfunction() { /*transaction success*/ if(typeof onTransactionSuccess == \'function\') { onTransactionSuccess.call(this);} db.close();  }',
'\t);',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteResultSetToArray = function(result) {',
'\tvar array = [];',
'\tif (result !=null && result.rows != null){',
'\t\tfor (var i = 0; i < result.rows.length; i++) {',
'\t\t\tarray.push(result.rows.item(i));',
'\t\t}',
'\t}',
'\treturn array;',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteDeleteDatabase = function(dbName,successCB,errorCB,location) {',
'\tvar flagSQL = _phoneGapSettings().plugins[\'cordova-sqlite-ext\'];   //com.brodysoft.sqliteplugin',
'\t\tflagSQL = true;',
'\t\tif(typeof flagSQL == \'undefined\') flagSQL = false;',
'\t\tif(!flagSQL) {',
'\t\t\talert(\'SQLitePluginExt not loaded\');',
'\t\t\treturn false;',
'\t}',
'\t/*',
'\tif(typeof location == \'undefined\') location = 2;',
'\t*/',
'\t///// new code /////',
'\tif(typeof location == \'undefined\') location = 1;',
'\t///// end new code /////',
'\twindow.sqlitePlugin.deleteDatabase({name: dbName, location: location}, successCB, errorCB);',
'}',
'////////////////////////////////////////',
'{UXPRERENDEREDALIAS}_DlgObj.submitListDataAndMediaFiles = function(listName,xbCallbackFunction,ajaxObject,mediaFileUploadObject) {',
'\t//first, upload media files, then upload dirty records in a list and then call xbCallbackFunction on the server side. Uploaded data will be in e._listData in the Xbasic function',
'\t/*',
'\tExample syntax:',
'\tvar ajaxObject = {',
'\t\terrorFunction: function() { alert(\'failed ajax\'); },',
'\t\tonComplete: function() { alert(\'ajax done\');},',
'\t\tdeviceOfflineFunction: function() { alert(\'offline \');  }',
'\t}',
'\tvar objUpload = {',
'\t\ttarget: \'alphaanywhere\',',
'\t\tshowProgress: true,',
'\t\tonComplete: function(array) {},',
'\t\tonMediaUploadErrors: function(array) { alert(\'there were media upload errors\');},',
'\t\txbasicAfterFileUploaded: \'xbAfterUpload\',',
'\t\tprogress: {',
'\t\t\tcolor: \'#9fa1e8\',',
'\t\t\twidth: \'300px\',',
'\t\t\tindividualProgress: false,',
'\t\t\tshowTotalProgress: true,',
'\t\t\tallowCancel: false,',
'\t\t\tprogressElement: \'{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_2\'',
'\t\t}',
'\t}',
'\t//to upload to s3',
'\ttarget: \'s3\',',
'\t\ts3: {',
'\t\t\tconnectionString: \'alphamediacapture\',',
'\t\t\tprotectedRead: false,',
'\t\t\ttemplate: \'https://alphamediacapture.s3.amazonaws.com/__name__\'',
'\t},',
'\t///////',
'\t{UXPRERENDEREDALIAS}_DlgObj.submitListDataAndMediaFiles(\'list1\',xbName,ajaxObject,objUpload);',
'\t*/',
'\tvar lObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(listName);',
'\tif(!lObj) return false;',
'\tvar objAjax = {};',
'\tif(typeof arguments[2] == \'object\') objAjax = arguments[2];',
'\tvar objUpload = {};',
'\tif(typeof arguments[3] == \'object\') objUpload = arguments[3]; //this is the object that defines the upload target (s3/alphaanywhere), showProgress, etc',
'\tvar _userOnComplete = objUpload.onComplete;',
'\tobjUpload.onComplete = function(array) {',
'\t\t_userOnComplete.call(this,array)',
'\t\tpushRemoteMediaNamesToArray(array,_data);',
'\t}',
'\tvar xbasicFunction = xbCallbackFunction;',
'\t//define local functions',
'\tvar _ajaxUpload = function(data,xbasicFunction,objAjax) {',
'\t\tvar listData = JSON.stringify(data,\'\',\'\\t\');',
'\t\tlistData = A5.ajax.buildURLParam(\'_listData\',listData);',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',xbasicFunction,\'\',listData, objAjax);',
'\t}',
'\tvar pushRemoteMediaNamesToArray = function(mediaFiles,_data) {',
'\t\tvar _data2 = [];',
'\t\t$u.o.assign(_data2,_data);',
'\t\t//media files have been uploaded and the mediaFiles[] array has these properties of interest',
'\t\t//listFieldName -- name of the field in the data array that had the media field',
'\t\t//route -- an array that looks like [{table: \'_top_\', row: 1}]',
'\t\t//remoteName -- the name of the alpha server or s3',
'\t\t//succeeded',
'\t\tvar r = \'\';',
'\t\tvar table = \'\';',
'\t\tvar _di = \'\';',
'\t\tvar _diTop = \'\';',
'\t\tfor(var i = 0; i < mediaFiles.length; i++) {',
'\t\t\tmediaFiles[i].routeObj = JSON.parse(mediaFiles[i].route);',
'\t\t\tr = mediaFiles[i].routeObj[0].row',
'\t\t\tfor(var j = 0; j < mediaFiles[i].routeObj.length; j ++) {',
'\t\t\t\ttable = mediaFiles[i].routeObj[j].table;',
'\t\t\t\tr = mediaFiles[i].routeObj[j].row',
'\t\t\t\tif(table == \'_top_\') {',
'\t\t\t\t\t_di = _data2[r];',
'\t\t\t\t\t_diTop = _di;',
'\t\t\t\t} else {',
'\t\t\t\t\t_di = _di[table][r];',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(typeof _di != \'undefined\') {',
'\t\t\t\t//need to add a check to see if the success flag is true',
'\t\t\t\tif(mediaFiles[i].succeeded) {',
'\t\t\t\t\t _di[mediaFiles[i].listFieldName] = mediaFiles[i].remoteName;',
'\t\t\t\t} else {',
'\t\t\t\t\t_diTop.__flagHasMediaFileUploadError = true;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\t//harvest rows that are dirty and also do not have media upload errors - these rows will be pushed to the server',
'\t\tvar _data3 = [];',
'\t\tvar _mErr = [];',
'\t\tvar flagPush = false;',
'\t\tvar flagHasMediaUploadError = false;',
'\t\tfor(var i = 0; i < _data2.length; i++) {',
'\t\t\tflagPush = true;',
'\t\t\tif(typeof _data2[i].__flagHasMediaFileUploadError != \'undefined\' && _data2[i].__flagHasMediaFileUploadError) {',
'\t\t\t\tflagPush = false;',
'\t\t\t\tflagHasMediaUploadError = true;',
'\t\t\t\t_mErr.push(_data2[i]);',
'\t\t\t}',
'\t\t\tif(flagPush) {',
'\t\t\t\tif(typeof _data2[i]._isDirty == \'undefined\') {',
'\t\t\t\t\tflagPush = false;',
'\t\t\t\t} else if(_data2[i]._isDirty == false) {',
'\t\t\t\t\tflagPush = false;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(flagPush) {',
'\t\t\t\t_data3.push(_data2[i]);',
'\t\t\t}',
'\t\t}',
'\t\tif(flagHasMediaUploadError) {',
'\t\t\tif(typeof objUpload.onMediaUploadErrors == \'function\') {',
'\t\t\t\tobjUpload.onMediaUploadErrors.call(this,_mErr);',
'\t\t\t}',
'\t\t}',
'\t\t_ajaxUpload(_data3,xbasicFunction,objAjax) //do the ajax callback to upload the fixed data array',
'\t}',
'\t//end local functions',
'\tvar _data = lObj.harvestList();',
'\tif(_data.length == 0) {',
'\t\treturn false;',
'\t}',
'\tvar arr = lObj._harvestMediaFields();',
'\talert(JSON.stringify(arr));',
'\tif(arr.length == 0) {',
'\t\t//no media fields -- just make the ajax callback',
'\t\t_ajaxUpload(_data,xbasicFunction,objAjax);',
'\t\treturn true;',
'\t} else {',
'\t\t//upload the media files -- the onComplete event will make the ajax callback',
'\t\t//objUpload._dataToUpload = _data;',
'\t\t_data = lObj._data;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileUpload(arr,objUpload);',
'\t}',
'}',
'// File manipulation',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()',
'//',
'// Returns true if there is a local file system and PhoneGap is running.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable = function() {',
'   if(typeof LocalFileSystem == \'undefined\') {',
'      if(typeof cordova == \'undefined\') {',
'         return false;',
'      }',
'      return false;',
'   }',
'   return true;',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapGetLocalDirURL(type)',
'//',
'// type: "temp", "private", "saved", "public"',
'// On iOS, saved and public may be backed up to iCloud',
'//',
'// Returns URL of base for the requested part of the file system.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetLocalDirURL = function(type) {',
'   var dir = "";',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) return dir;',
'   if (device.platform == \'iOS\') {',
'      switch (type) {',
'         case "temp":',
'            dir = cordova.file.tempDirectory;',
'            break;',
'         case "private":',
'            dir = cordova.file.dataDirectory;',
'            break;',
'         case "saved":',
'            dir = cordova.file.syncedDataDirectory;',
'            break;',
'         case "public":',
'            dir = cordova.file.documentsDirectory;',
'            break;',
'      }',
'   }',
'   else {',
'      switch (type) {',
'         case "temp":',
'            dir = cordova.file.externalCacheDirectory || cordova.file.cacheDirectory;',
'            break;',
'         case "private":',
'            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;',
'            break;',
'         case "saved":',
'            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;',
'            break;',
'         case "public":',
'            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;',
'            break;',
'      }',
'   }',
'   return dir;',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapReadFileURL(filepath, onReadSuccess, onError, startAt, endAt)',
'//',
'// filepath is the local file URL of the desired file.',
'// If startAt and endAt are present, returns just those positions in the file.',
'//',
'// onReadSuccess(result) returns the contents read.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapReadFileURL = function(filepath, onReadSuccess, onError, startAt, endAt) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               var doReadFunction =',
'                  function(file) {',
'                     var reader = new FileReader();',
'                     reader.onloadend =',
'                        function(e) {',
'                           onReadSuccess(this.result);',
'                        };',
'                     if (typeof startAt==\'undefined\' || typeof endAt==\'undefined\') {',
'                        reader.readAsText(file);',
'                     }',
'                     else {',
'                        var blob = file.slice(startAt, endAt);',
'                        reader.readAsText(blob);',
'                     }',
'                  };',
'               fileEntry.file(doReadFunction);',
'            };',
'         fsEntry.getFile(filename, {}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapWriteFileURL(filepath, text, onWriteSuccess, onError, append)',
'//',
'// filepath is the local file URL of the desired file. The directory must',
'// exist, but the file need not.',
'// If append is true, appends to current contents.',
'// Truncates (if file existed) to end of what is written.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapWriteFileURL = function(filepath, text, onWriteSuccess, onError, append) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               var writerFunction =',
'                  function(fileWriter) {',
'                     fileWriter.onwriteend =',
'                        function(e) {',
'                           onWriteSuccess();',
'                        };',
'                     fileWriter.onerror = onError;',
'                     if (append) {',
'                        fileWriter.seek(fileWriter.length);',
'                     }',
'                     var blob = new Blob([text], {type:\'text/plain\'});',
'                     fileWriter.write(blob);',
'                  };',
'               fileEntry.createWriter(writerFunction, onError);',
'            };',
'         fsEntry.getFile(filename, {create: true}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapFileExistsURLfilepath, onResult, onError)',
'//',
'// filepath is the local file URL of the desired file.',
'// onResult(properties) will be called with false if file does not exist.',
'// If file does exist, properties will be:',
'//',
'//    {',
'//       name:file\'s name,',
'//       lastModifiedDate:lastModifiedDate object,',
'//       size:size in bytes,',
'//       type:MIME type if known(not on iOS now, but yes on Android)',
'//    }',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileExistsURL = function(filepath, onResult, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               fileEntry.file(function(fileObj) {',
'                  onResult({name:fileObj.name, lastModifiedDate:fileObj.lastModifiedDate,',
'                     size:fileObj.size, type:fileObj.type});',
'                  },',
'                  onError);',
'            };',
'         var onDidNotGetFile =',
'            function() {',
'               onResult(false);',
'            };',
'         fsEntry.getFile(filename, {create: false}, onGotFile, onDidNotGetFile);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFileURL(filepath, onDeleteSuccess, onError)',
'//',
'// filepath is the local file URL of the file to be deleted.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFileURL = function(filepath, onDeleteSuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               fileEntry.remove(onDeleteSuccess, onError);',
'            };',
'         fsEntry.getFile(filename, {create: false}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapCopyFileURL(srcpath, destdirpath, destname, onCopySuccess, onError)',
'//',
'// srcpath is the local file URL of the file to be copied.',
'// destdirpath is the URL of the directory into which to copy the file.',
'// destname is the name to be given to the copied file. If null, the source filename will be used.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapCopyFileURL = function(srcpath, destdirpath, destname, onCopySuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = srcpath.lastIndexOf("/");',
'   var dirpath = srcpath.substring(0,pos);',
'   var filename = srcpath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               window.resolveLocalFileSystemURL(destdirpath,',
'                  function(destDirEntry) {',
'                     fileEntry.copyTo(destDirEntry, destname, onCopySuccess, onError);',
'                  },',
'                  onError);',
'            };',
'         fsEntry.getFile(filename, {}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapMoveFileURL(srcpath, destdirpath, destname, onMoveSuccess, onError)',
'//',
'// srcpath is the local file URL of the file to be moved.',
'// destdirpath is the URL of the directory into which to move the file, replacing any existing file with the name.',
'// destname is the name to be given to the copied file. If null, the source filename will be used.',
'// If moved into the same directory, the file will be renamed.',
'// A move of a directory on top of an existing empty directory replaces that directory.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapMoveFileURL = function(srcpath, destdirpath, destname, onMoveSuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = srcpath.lastIndexOf("/");',
'   var dirpath = srcpath.substring(0,pos);',
'   var filename = srcpath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               window.resolveLocalFileSystemURL(destdirpath,',
'                  function(destDirEntry) {',
'                     fileEntry.moveTo(destDirEntry, destname, onMoveSuccess, onError);',
'                  },',
'                  onError);',
'            };',
'         fsEntry.getFile(filename, {}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectoryRecurseURL(dirpath, onRemoveSuccess, onError)',
'//',
'// dirpath is the file URL of the directory to be deleted.',
'// Deletes the specified directory and all of its contents, including other directories and',
'// their contents.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectoryRecurseURL = function(dirpath, onRemoveSuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var onResolvedURL =',
'      function(dirEntry) {',
'         dirEntry.removeRecursively(onRemoveSuccess, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapEnsureDirPathURL(rootpath, subdirpath, onCompletion, onError)',
'//',
'// rootpath is the file URL of the existing directory that will contain the directories that are needed.',
'// subdirpath is a path of directories to ensure exist below rootpath. They will be created',
'// if they don\'t exist.',
'//',
'// For example, if rootpath is "file://root/public/", subdirpath may be "toplevel/subdir1".',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapEnsureDirPathURL = function(rootpath, subdirpath, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var dirs = subdirpath.split(\'/\') || [];',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var ensureDirFunction =',
'            function(dirEntry) { // function to recurse',
'               if (dirs.length>0) {',
'                  if (dirs[0]==\'.\' || dirs[0]==\'\') {',
'                     dirs = dirs.slice(1); // remove null dir',
'                  }',
'               }',
'               if (dirs.length==0) {',
'                  onCompletion();',
'                  return;',
'               }',
'               dirEntry.getDirectory(dirs[0], {create: true},',
'                  function(subdirEntry) {',
'                     dirs = dirs.slice(1); // do next',
'                     ensureDirFunction(subdirEntry);',
'                  },',
'                  onError);',
'               };',
'         ensureDirFunction(fsEntry); // do first',
'      };',
'   window.resolveLocalFileSystemURL(rootpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesRecurseURL(rootpath, onCompletion, onError)',
'//',
'// rootpath is the file URL of the directory whose contents will be listed.',
'// onCompletion(filelist) will contain an array of strings representing each file',
'// and directory down the hierarchy. Directories end in "/".',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesRecurseURL = function(rootpath, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var filelist = [];',
'   var pathprefix = "";',
'   var pending = 0;',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var processDirFunction =',
'            function(subdirpath, listingObj) {',
'               var files = listingObj.files;',
'               var i;',
'               var fpath;',
'               var prefix = subdirpath.slice(pathprefix.length);',
'               for (i=0; i<files.length; i++) {',
'                  fpath = prefix+files[i];',
'                  filelist.push(fpath);',
'               }',
'               var dirs = listingObj.dirs;',
'               if (dirs.length==0) {',
'                  if (pending==0) {',
'                     onCompletion(filelist);',
'                  }',
'                  return;',
'               }',
'               for (i=0; i<dirs.length; i++) {',
'                  fpath = dirs[i].fullPath.slice(pathprefix.length);',
'                  filelist.push(fpath);',
'                  pending++;',
'                  dirs[i].filesystem.root.getDirectory(dirs[i].fullPath, {create: false},',
'                     function(dirEntry) {',
'                        listDirFunction(dirEntry);',
'                     },',
'                     function(e){pending--;onError(e);});',
'               }',
'            };',
'         var listDirFunction =',
'            function(dirEntry) { // function to recurse on subdirs',
'               var dirReader = dirEntry.createReader();',
'               var listingObj = {files:[], dirs:[]};',
'               var readDirEntries = function() {',
'                  dirReader.readEntries( // start an async reading of entries',
'                     function(entries) { // more entries read, or done',
'                        if (!entries || entries.length==0) {',
'                           pending--;',
'                           processDirFunction(dirEntry.fullPath, listingObj);',
'                           return;',
'                        }',
'                        var entry;',
'                        for (var i=0; i<entries.length; i++) {',
'                           entry = entries[i];',
'                           if (entry.isFile) {',
'                              listingObj.files.push(entry.name);',
'                           }',
'                           else {',
'                              listingObj.dirs.push(entry);',
'                           }',
'                        }',
'                        readDirEntries(); // recurse to call dirReader.readEntries again',
'                     },',
'                     onError);',
'                  };',
'               readDirEntries(); // do first reading of entries',
'            };',
'         pending++;',
'         pathprefix = fsEntry.fullPath; // get prefix',
'         listDirFunction(fsEntry); // do first list getting',
'      };',
'   window.resolveLocalFileSystemURL(rootpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesURL(dirpath, matchRegex, onCompletion, onError)',
'//',
'// dirpath is the file URL of the directory whose contents will be listed (only files).',
'// matchRegex, if non-null, will need to match file names found for them to be listed.',
'// onCompletion(filelist) will contain an array of strings representing each file.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesURL = function(dirpath, matchRegex, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var filelist = [];',
'         var dirReader = fsEntry.createReader();',
'         var readEntriesFunction =',
'            function() { // function to recurse to call repeatedly after each completion until no result',
'               dirReader.readEntries( // start an async reading of entries',
'                  function(entries) { // more entries read, or done',
'                     if (!entries || entries.length==0) {',
'                        onCompletion(filelist);',
'                        return;',
'                     }',
'                     var name;',
'                     for (var i=0; i<entries.length; i++) {',
'                        name = entries[i].name;',
'                        if (!matchRegex || name.match(matchRegex)) {',
'                           filelist.push(name);',
'                        }',
'                     }',
'                     readEntriesFunction(); // recurse to call dirReader.readEntries again',
'                  },',
'                  onError);',
'               };',
'         readEntriesFunction(); // do first reading',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFilesNotInListURL(dirpath, matchRegex, keepList, onCompletion, onError)',
'//',
'// dirpath is the file URL of the directory whose contents will be examined (only files).',
'// matchRegex, if non-null, will need to match file names found for them to be considered for deletion.',
'// Any file name which is in the array keepList will not be considered even if it matches.',
'// All remaining files found (those matched and not in keepList) will be deleted.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFilesNotInListURL = function(dirpath, matchRegex, keepList, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var keepnames = {}; // fill object with all the names as attributes',
'   for (var j=0; j<keepList.length; j++) {',
'      keepnames[keepList[j]] = true;',
'   }',
'   var filelist = []; // list of files to delete',
'   var totalDeleted = 0;',
'   var deleteFromFileList = function() { // called repeatedly by itself on successes until all deleted',
'      if (filelist.length==0) { // no more to delete',
'         onCompletion(totalDeleted);',
'         return;',
'      }',
'      var todelete = filelist.pop(); // pop one from list and delete it, leaving list shorter',
'      totalDeleted += 1;',
'      todelete.remove(deleteFromFileList, onError);',
'   };',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var dirReader = fsEntry.createReader();',
'         var readEntriesFunction =',
'            function() { // function to recurse to call repeatedly after each completion until no result',
'               dirReader.readEntries( // start an async reading of entries',
'                  function(entries) { // more entries read, or done',
'                     if (!entries || entries.length==0) {',
'                        deleteFromFileList(); // got all - now start deleting them',
'                        return;',
'                     }',
'                     var name;',
'                     for (var i=0; i<entries.length; i++) {',
'                        name = entries[i].name;',
'                        if (!matchRegex || name.match(matchRegex)) { // must match regex',
'                           if (!keepnames[name]) { // and not be on keep list',
'                              filelist.push(entries[i]); // add one to delete to list',
'                           }',
'                        }',
'                     }',
'                     readEntriesFunction(); // recurse to call dirReader.readEntries again',
'                  },',
'                  onError);',
'               };',
'         readEntriesFunction(); // do first reading',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._embeddedUXComponents = {',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._layoutMode = \'containerwidth\';',
'{UXPRERENDEREDALIAS}_DlgObj._responsiveRulesMode = \'firsttrue\';',
'{UXPRERENDEREDALIAS}_DlgObj.__controlNesting = {',
'PANELHEADER_CONDITION: [\'container:LEFT_BUTTONS_CONDITION\',\'container:CONTAINER_CENTER_CONDITION\',\'container:RIGHT_BUTTONS_CONDITION\'],',
'LEFT_BUTTONS_CONDITION: [],',
'CONTAINER_CENTER_CONDITION: [],',
'RIGHT_BUTTONS_CONDITION: [],',
'WINDOW_REFINE: [\'SITE\',\'TREATMENT\',\'SLIDER_AGE_RANGE\',\'BUTTON_LIST_GENDER\',\'BUTTON_LIST_STUDY_STATUS\',\'BUTTON_LIST_STUDY_TYPE\',\'BUTTON_LIST_PHASE\',\'INVESTIGATOR\',\'SPONSOR\'],',
'CONTAINER_CONDITIONSEARCH: [\'LIST_CONDITIONS_KEYWORDSEARCH\'],',
'PANELHEADER_TRIALS: [\'container:LEFT_BUTTONS_TRIALS\',\'container:CONTAINER_CENTER_TRIALS\',\'container:RIGHT_BUTTONS_TRIALS\'],',
'LEFT_BUTTONS_TRIALS: [],',
'CONTAINER_CENTER_TRIALS: [],',
'RIGHT_BUTTONS_TRIALS: [\'container:WINDOW_MAP\'],',
'WINDOW_MAP: [\'MAP_TRIALS\'],',
'PANELHEADER_TRIALDETAILS: [\'container:LEFT_BUTTONS_TRIALDETAILS\',\'container:CONTAINER_CENTER_TRIALS1\'],',
'LEFT_BUTTONS_TRIALDETAILS: [],',
'CONTAINER_CENTER_TRIALS1: [],',
'CONTAINER_QUALIFY_DETAILS: [],',
'TAB_PANES: [\'tabPane:TAB_PANES#1\',\'tabPane:TAB_PANES#2\',\'tabPane:TAB_PANES#3\',\'tabPane:TAB_PANES#4\'],',
'"TAB_PANES#1": [],',
'"TAB_PANES#2": [],',
'"TAB_PANES#3": [],',
'"TAB_PANES#4": []',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._listsDV = [\'LIST_TRIALS\'];',
'//Add methods to the List prototype for Lists with Detail Views',
'$u.o.assign(A5.ListBox.prototype,',
'{',
'\t_controlDefaultValueForListField:  function(fieldName) { ',
'\tvar controlName = this._getUXDetailViewControlName(fieldName);',
'\tif(controlName == \'\') return \'\';',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
' \treturn _dlgObj.defaultValues[controlName.toUpperCase()];',
'}',
',',
'\tqueryByFormClearControls: function() { ',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar controlName;',
'\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\tif(controlName != \'\') {',
'\t\t\tval = \'\';',
'\t\t\t_dlgObj.setValue(controlName,val,false);',
'\t\t}',
'\t}',
'}',
',',
'\tremoveRowFromListByKey: function(rowKey) {',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar curVal = this.value[0];',
'\tthis.nullOutDetailViewRecord();',
'\t_dlgObj.persistVariablesToLocalStorage();',
'\tif(curVal != rowKey) { ',
'\t\tthis.removeRows([rowKey]);',
'\t\tif(typeof curVal != \'undefined\') {',
'\t\t\tthis.setValue(curVal,false);',
'\t\t\tthis._selectedRow = curVal;',
'\t\t}',
'\t\tthis.__currentRoute = this._getRoute();',
'\t} else { ',
'\t\tvar index = this.indexFromValue(curVal);',
'\t\tvar newIndex = \'\';',
'\t\tif( (index+1) < this._dataMap.length) {',
'\t\t\tnewIndex = index;',
'\t\t} else { ',
'\t\t\tnewIndex = index -1;',
'\t\t}',
'\t\tthis.removeRows([rowKey]);',
'\t\tthis.setValue(newIndex,false);',
'\t\tthis._selectedRow = newIndex;',
'\t\tthis.__currentRoute = this._getRoute();',
'\t}',
'\t_dlgObj.refreshClientSideComputations();',
'\tvar lObj = this;',
'\tif (this._data.length == 0) {',
'\t\tthis.setValue(0,false);',
'\t\tthis._selectedRow = -1;',
'\t\tvar mode = this._noRecordInListIsSelectedSettingForDetailView;',
'\t\tif(mode == \'newrecord\') { ',
'\t\t\tvar lObj = this;',
'\t\t\tsetTimeout(function() {lObj.newDetailViewRecord();},10);',
'\t\t} else if (mode == \'disabledetailview\') { ',
'\t\t\tvar lObj = this;',
'\t\t\tsetTimeout(function() {lObj.disableDetailView();},10);',
'\t\t}',
'\t}',
'\t_dlgObj._listRowSelect(this.listVariableName);',
'}',
',',
'\tsearchModeOff: function() { ',
'\tif(this._dvmode != \'search\') return true;',
'\tvar val = this._searchModeReturnValue;',
'\tif(typeof val != \'undefined\') { ',
'\t\tif(val != \'\') {',
'\t\t\tthis.setValue(this._searchModeReturnValue);',
'\t\t} else {',
'\t\t\tthis.newDetailViewRecord();',
'\t\t}',
'\t} else { ',
'\t\tthis.newDetailViewRecord();',
'\t}',
'}',
',',
'\tsearchModeOn: function() { ',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tif(this.detailViewIsDirty()) { ',
'\t\talert(\'cannot switch to search mode because detail view is dirty\');',
'\t\treturn false;',
'\t}',
'\tthis._dvmode = \'search\';',
'\tthis._searchModeReturnValue = this.value;',
'\tthis._deselectAll();',
'\tthis.queryByFormClearControls();',
'\tif(typeof this.__queryByFormValues != \'undefined\') {',
'\t\tfor(var i = 0; i < this.__queryByFormValues.length; i++) { ',
'\t\t\t_dlgObj.setValue(this.__queryByFormValues[i].control,this.__queryByFormValues[i].value,false);',
'\t\t}',
'\t}',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.modeChanged\',{mode: \'search\'});',
'\t_dlgObj.refreshClientSideComputations();',
'}',
',',
'\tpopulateUXControls: function() { ',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tops.listVariableName = this.listVariableName;',
'\tops.listObj = this;',
'\tif(this._detailView.method == \'fieldMap\') argIn = this._detailView.fieldMap;',
'\telse argIn = this._detailView.container;',
'\tvar _d = this.selectionData[0];',
'\tvar n = \'\';',
'\tvar b64prefix = \'\'',
'\tthis._currentDetailViewKey = undefined;',
'\tif(typeof _d == \'undefined\') {',
'\t\tthis.nullOutDetailViewRecord();',
'\t\treturn false; ',
'\t}',
'\tthis._currentDetailViewKey = _d[\'*key\'];',
'\twindow[this._hostComponentId + \'_DlgObj\']._populateUXControlsWithListData(_d,argIn,ops);',
'\tthis._clearServerSideErrors();',
'\tthis._showServerSideErrors();',
'\tthis._showWriteConflictErrors();',
'\tthis._dvmode = \'edit\';',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.modeChanged\',{mode: \'edit\'});',
'\t_dlgObj.refreshClientSideComputations();',
'\tthis._setParentIsDeletedOnChildren();',
'\tif(!this._restoringList) _dlgObj.persistVariablesToLocalStorage();',
'\tif(typeof _d._flagViewed != \'undefined\') { ',
'\t\tif(_d._flagViewed == false) {',
'\t\t\t_d._flagViewed = true;',
'\t\t\tthis.updateRow(this.selection[0],_d);',
'\t\t}',
'\t}',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.afterDetailViewPopulate\',{});',
'}',
',',
'\t_setParentIsDeletedOnChildren: function() { ',
'\t\tvar _d = this.selectionData[0];',
'\t\tif(typeof _d == \'undefined\') return false;',
'\t\tvar flagDel = false;',
'\t\tif(typeof _d[\'_isDeleted\'] != \'undefined\') flagDel = _d[\'_isDeleted\'];',
'\t\tif(!flagDel) {',
'\t\t\tvar flagParentIsDeleted = false;',
'\t\t\tvar pData = \'\';',
'\t\t\tif(this.allParentLists.length > 0) { ',
'\t\t\t\tfor(var i = 0; i < this.allParentLists.length; i++) {',
'\t\t\t\t\tpObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.allParentLists[i]);',
'\t\t\t\t\tif(typeof pObj.selection[0] != \'undefined\') {',
'\t\t\t\t\t\tpData = pObj.getData(pObj.selection[0]);',
'\t\t\t\t\t\tif(typeof pData._isDeleted != \'undefined\') {',
'\t\t\t\t\t\t\tif(pData._isDeleted) {',
'\t\t\t\t\t\t\t\tflagParentIsDeleted = true;',
'\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(flagParentIsDeleted) flagDel = true;',
'\t\t}',
'\t\tvar flagParentIsDeleted = false;',
'\t\tif(typeof this._parentIsDeleted != \'undefined\') flagParentIsDeleted =  this._parentIsDeleted;',
'\t\tthis.disableDetailView(flagDel || flagParentIsDeleted);',
'\t\tvar lChildObj = \'\';',
'\t\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\t\tlChildObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\t\tif(lChildObj) {',
'\t\t\t\tlChildObj.disableDetailView(flagDel);',
'\t\t\t\tif(flagDel) $acn(lChildObj.contId,\'parentIsDeleted\');',
'\t\t\t\telse $rcn(lChildObj.contId,\'parentIsDeleted\');',
'\t\t\t\tlChildObj._parentIsDeleted = flagDel;',
'\t\t\t\tlChildObj._setParentIsDeletedOnChildren();',
'\t\t\t}',
'\t\t}',
'\t}',
',',
'\tupdateListFromUXControls: function() { \t\t',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar arr = this._getControlsInDv()',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t_dlgObj.clientSideValidateField(arr[i],1,null);',
'\t\t}',
'\t\tvar flagCSE = this._hasClientSideError();',
'\t\tif(flagCSE) {',
'\t\t\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.hasClientSideValidationErrors\',{});',
'\t\t\tvar msg = this.customization.dv.clientSideErrorWarning;',
'\t\t\tif(typeof msg != \'undefined\' && msg != \'\') this._showGlobalError(msg);',
'\t\t\treturn false;',
'\t\t} else { ',
'\t\t\tthis._clearGlobalError();',
'\t\t}',
'\t\tvar _route = this._getRoute();',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar flagGetLocationData = this._captureLocation;',
'\t\tif( _dlgObj._embeddedMode || _dlgObj._livePreviewInBuilder) flagGetLocationData = false;',
'\t\tvar that = this;',
'\t\tif(flagGetLocationData) { ',
'\t\t\tvar _locationHighAccuracy = _dlgObj.locationHighAccuracy;',
'\t\t\tvar _locationTimeout = _dlgObj.locationTimeout;',
'\t\t\tvar _locationMaximumAge = _dlgObj.locationMaximumAge;',
'\t\t\tvar classInst = this;',
'\t\t\tnavigator.geolocation.getCurrentPosition(',
'\t\t\t\tfunction(pos) {',
'\t\t\t\t\tif(typeof _dlgObj._location == \'undefined\') _dlgObj._location = {};',
'\t\t\t\t\t_dlgObj._location.lat = pos.coords.latitude;',
'\t\t\t\t\t_dlgObj._location.lng = pos.coords.longitude;',
'\t\t\t\t\tclassInst._updateListFromUXControlsLow();',
'\t\t\t\t\tdelete classInst;',
'\t\t\t\t\tif(that.synchronizeImmediately) { ',
'\t\t\t\t\t\tvar flagOnLine = _dlgObj._getOnlineStatus();',
'\t\t\t\t\t\tif (flagOnLine) {',
'\t\t\t\t\t\t\t\t_dlgObj.saveListEdits(that.listVariableName)',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar dirtyClass = \'\';',
'\t\t\t\t\tif(typeof that.dirtyControlClassName != \'undefined\') dirtyClass = that.dirtyControlClassName;',
'\t\t\t\t\tif(dirtyClass != \'\') that.populateUXControls();',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t\tif(!that._restoringList)  _dlgObj.persistVariablesToLocalStorage();',
'\t\t\t\t\t_dlgObj.refreshClientSideComputations();',
'\t\t\t\t\treturn true;',
'\t\t\t\t},',
'\t\t\t\tfunction(error) { ',
'\t\t\t\t\tdelete _dlgObj._location;  ',
'\t\t\t\t\tclassInst._updateListFromUXControlsLow();',
'\t\t\t\t\tdelete classInst;',
'\t\t\t\t\treturn true;',
' \t\t\t} ,\t{enableHighAccuracy : _locationHighAccuracy, timeout: _locationTimeout, maximumAge: _locationMaximumAge}) \t',
' \t\t\treturn true;\t',
'\t\t} else { ',
'\t\t\tthis._updateListFromUXControlsLow();',
'\t\t}',
'\t\tthis._setRoute(_route);',
'\t\tif(!this._restoringList)  _dlgObj.persistVariablesToLocalStorage();',
'\t\t_dlgObj.refreshClientSideComputations();',
'\t\tif(this.synchronizeImmediately) { ',
'\t\t\tvar flagOnLine = _dlgObj._getOnlineStatus();',
'\t\t\tif (flagOnLine) {',
'\t\t\t\t\t_dlgObj.saveListEdits(this.listVariableName)',
'\t\t\t}',
'\t\t}',
'\t\tvar dirtyClass = \'\';',
'\t\tif(typeof this.dirtyControlClassName != \'undefined\') dirtyClass = this.dirtyControlClassName;',
'\t\tif(dirtyClass != \'\') this.populateUXControls();',
'\t}',
'\t,',
'\t_updateListFromUXControlsLow: function() { \t',
'\tvar flagCSE = this._hasClientSideError();',
'\tif(flagCSE) {',
'\t\tvar msg = this.customization.dv.clientSideErrorWarning;',
'\t\tif(msg != \'\') this._showGlobalError(msg);',
'\t\treturn false;',
'\t} else { ',
'\t\tthis._clearGlobalError();',
'\t}',
'\tflagAllParentListsHaveActiveRow = true;',
'\tvar pObj = \'\';',
'\tif(this.allParentLists.length > 0) { ',
'\t\tfor(var i = 0; i < this.allParentLists.length; i++) {',
'\t\t\tpObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.allParentLists[i]);',
'\t\t\tif(typeof pObj.selection[0] == \'undefined\') {',
'\t\t\t\tflagAllParentListsHaveActiveRow = false;',
'\t\t\t\talert(\'Can\\\'t save record because there is no active record in the parent List. Parent list id: \\\'\'+this.allParentLists[i]+\'\\\'\');',
'\t\t\t\tbreak;',
'\t\t\t}',
'\t\t}',
'\t}',
'\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar flagSynchronize = this.synchronizeImmediately;',
'\tif(typeof ops.synchronize == \'undefined\') {',
'\t\tops.synchronize = flagSynchronize;',
'\t}',
'\tif(this._detailView.method == \'fieldMap\') {',
'\t\tvar res = window[this._hostComponentId + \'_DlgObj\']._updateListDataFromUXControls(this.listVariableName,this._detailView.fieldMap,ops); this._refreshDebugInfo(); ',
'\t} else {',
'\t\tvar res = window[this._hostComponentId + \'_DlgObj\']._updateListDataFromUXControls(this.listVariableName,this._detailView.container,ops); this._refreshDebugInfo(); ',
'\t}',
'\tvar parentListName = this.parentList;',
'\tif(typeof parentListName != \'undefined\') {',
'\t\tvar thisData = this.getData(this.selection[0]);',
'\t\tvar flagIsNewRow = false;',
'\t\tif(typeof thisData._isNewRow != \'undefined\') flagIsNewRow = thisData._isNewRow;',
'\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\tif(plObj._setDirtyByChild) {',
'\t\t\tif (flagIsNewRow == false)  \tplObj._setDirtyByChild(false);',
'\t\t\telse plObj._setDirtyByChild(true,thisData,this.listVariableName);',
'\t\t}',
'\t}',
'\tthis._populateMyChildren();',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.afterUpdateList\',{});',
'\treturn res;',
'},',
'\t_setDirtyByChild: function(flagNewRow) { \t\t',
'\t\tvar rn = this.selection[0];',
'\t\tif(typeof rn == \'undefined\') rn = 0;',
'\t\tif(flagNewRow) {',
'\t\t\tvar newData = arguments[1];',
'\t\t\tvar listName = arguments[2];',
'\t\t\tthis.setRowDirty(rn,true,newData,listName);',
'\t\t} else {',
'\t\t\tthis.setRowDirty(rn,false);',
'\t\t}',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') { ',
'\t\t\tif(parentListName != \'\') {',
'\t\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentListName);',
'\t\t\t\tif(plObj._setDirtyByChild) \tplObj._setDirtyByChild(false);',
'\t\t\t}',
'\t\t}',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t}',
'\t,',
'\t_getChildData: function(existingData,childListName) {\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar clObj = _dlgObj.getControl(childListName);',
'\t\tif(!clObj) return false;',
'\t\tif(clObj._dataSourceType.toLowerCase() == \'sql\') { ',
'\t\t\treturn existingData[\'__LIST__\' + childListName];',
'\t\t} else { ',
'\t\t\treturn existingData[clObj._objectNameInParentListForData];',
'\t\t}',
'\t}',
'\t,',
'\t_getChildDataObjectName: function(childListName) { \t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar clObj = _dlgObj.getControl(childListName);',
'\t\tif(!clObj) return \'__LIST__\' + childListName.toUpperCase();',
'\t\tif(clObj._dataSourceType.toLowerCase() == \'sql\') { ',
'\t\t\treturn \'__LIST__\' + childListName.toUpperCase();',
'\t\t} else { ',
'\t\t\treturn clObj._objectNameInParentListForData',
'\t\t}',
'\t}',
'\t,',
'\tsetRowDirty: function(rn,flagNewRow) {\t\tvar existingData = this.getData(rn);',
'\t\texistingData._isDirty = true;',
'\t\tif(flagNewRow) { ',
'\t\t\tvar newData = arguments[2];',
'\t\t\tvar listName = arguments[3];',
'\t\t\tvar childData = this._getChildData(existingData,listName);',
'\t\t\tif(typeof childData == \'undefined\') return false;',
'\t\t\tvar childDataObjectName = this._getChildDataObjectName(listName);',
'\t\t\tvar n = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(childData,\'*key\',newData[\'*key\']);',
'\t\t\tif(n == -1) {',
'\t\t\t\tif(existingData[childDataObjectName].constructor == Array) {',
'\t\t\t\t\texistingData[childDataObjectName].push(newData);',
'\t\t\t\t} else { ',
'\t\t\t\t\texistingData[childDataObjectName] =  [];',
'\t\t\t\t\texistingData[childDataObjectName].push(newData);',
'\t\t\t\t}',
'\t\t\t} else { ',
'\t\t\t}',
'\t\t}',
'\t\tthis.updateRow(rn,existingData);',
'\t}',
'\t,',
'\t_showDirtyDetailViewWarning: function() {',
'\t\tif(!this.detailViewIsDirty(true)) return true;',
'\t\telse {',
'\t\t\tvar obj = {};',
'\t\t\tobj.thisListName = this.listVariableName;',
'\t\t\tobj.dirtyListName = this._nameOfListWithDirtyDetailView;',
'\t\t\tobj.handled = false;',
'\t\t\twindow[this._hostComponentId + \'_DlgObj\']._list_executeEvent(this.listVariableName,\'detailView.afterListRowSelectCancelled\',obj);',
'\t\t\tif(obj.handled) return false;',
'\t\t\tvar msg = this.customization.dv.dirtyDetailViewRecord.message;',
'\t\t\tvar image = this.customization.dv.dirtyDetailViewRecord.icon;',
'\t\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\t\tvar flagThisListHasDirtyDv = false;',
'\t\t\tif(this.listVariableName == this._nameOfListWithDirtyDetailView) flagThisListHasDirtyDv = true;;',
'\t\t\tif(!flagThisListHasDirtyDv) {',
'\t\t\t\tmsg = msg + \'<br>(List with dirty Detail View: \\\'\' + this._nameOfListWithDirtyDetailView + \'\\\')\';',
'\t\t\t}',
'\t\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\t\tvar title = this.customization.dv.dirtyDetailViewRecord.title;',
'\t\t\tA5.msgBox.show(title,msg,\'O\',function() {} );',
'\t\t\treturn false;',
'\t\t}',
'\t}',
'\t,',
'\t_getListFieldFromControl: function(ctrl) {\t\tvar indx = \'\';',
'\t\tif(this._detailView.method == \'fieldMap\') {',
'\t\t\tvar map = this._detailView.fieldMap;',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(map,\'control\',ctrl);',
'\t\t\tif(indx > -1) return map[indx].field',
'\t\t} else {',
'\t\t\tctrl = ctrl.toUpperCase();',
'\t\t\tvar la = this._listFields;',
'\t\t\tfor(var i = 0; i < la.length; i++) { ',
'\t\t\t\tif(la[i].name.toUpperCase() == ctrl) return la[i].name;',
'\t\t\t}',
'\t\t\treturn false;',
'\t\t}',
'\t}',
'\t,',
'\tdisableDetailView: function() { \t\tvar flag = typeof arguments[0] != \'undefined\' ? arguments[0] : true;',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].setDisabled(this._getControlsInDv(),flag);',
'\t}',
'\t,',
'\t_getControlsInDv: function() {\t\tif(typeof this._controlsInDV != \'undefined\') {',
'\t\t\treturn this._controlsInDV;',
'\t\t}',
'\t\tvar arr = [];',
'\t\tif(typeof this._detailView == \'undefined\') return \'\';',
'\t\tif(typeof this._detailView.method == \'undefined\') return \'\';',
'\t\tif(this._detailView.method == \'fieldMap\') { ',
'\t\t\tvar ele = \'\';',
'\t\t\tfor (var i = 0; i < this._detailView.fieldMap.length; i++) {',
'\t\t\t\tele = $(this._hostComponentId + \'.V.R1.\' + this._detailView.fieldMap[i].control.toUpperCase());',
'\t\t\t\tif(ele) arr.push(this._detailView.fieldMap[i].control.toUpperCase());',
'\t\t\t}',
'\t\t\tthis._controlsInDV = arr;',
'\t\t\treturn arr;',
'\t\t} else { ',
'\t\t\tvar indx = -1;',
'\t\t\tvar ctrlList = window[this._hostComponentId + \'_DlgObj\'].getControlsInContainer(this._detailView.container);',
'\t\t\tfor(var c = 0; c < ctrlList.length; c++) {',
'\t\t\t\tfor(var i = 0; i < this._listFields.length; i++) {',
'\t\t\t\t\tif(this._listFields[i].name.toLowerCase() == ctrlList[c].toLowerCase()) arr.push(ctrlList[c].toUpperCase());',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis._controlsInDV = arr;',
'\t\t\treturn arr;',
'\t\t}',
'\t}',
'\t,',
'\t_stripCleanBase64Data: function(_d) { \t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar _dc = {}',
'\t\tvar cn = \'\';',
'\t\tvar ct = \'\';',
'\t\tvar flagDirty = \'\';',
'\t\tvar flagCapture = \'\';',
'\t\tvar ix = \'\';',
'\t\tvar flagEmbeddedImage = \'\';',
'\t\tfor(var prop in _d) {',
'\t\t\tflagCapture = true; ',
'\t\t\tcn = this._getUXDetailViewControlName(prop);',
'\t\t\tif(cn != \'\') {',
'\t\t\t\tct = _dlgObj._getControlType(cn).toLowerCase();',
'\t\t\t\tif(ct == \'signaturecapture\' || ct == \'image\') {',
'\t\t\t\t\tflagCapture = false;',
'\t\t\t\t\tvar _dirtyImages = _d[\'_dirtyImages\'];',
'\t\t\t\t\tvar flagImageDirty = false;',
'\t\t\t\t\tif(typeof _dirtyImages != \'undefined\') {',
'\t\t\t\t\t\tflagImageDirty = _dirtyImages[prop];',
'\t\t\t\t\t\tif(typeof flagImageDirty != \'undefined\') flagCapture = true;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(flagCapture) _dc[prop] = _d[prop];',
'\t\t}',
'\t\treturn _dc;',
'\t}\t',
'\t,',
'\t_getData2: function(row) { \t\t',
'\t\tvar _d = this.getData(row);',
'\t\treturn this._stripCleanBase64Data(_d);',
'\t}',
'\t,',
'\tharvestListRow: function() { \t\t',
'\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tvar obj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\t\tvar flagSumbmitAllChildRecords = false;',
'\t\tif(typeof obj.flagSumbmitAllChildRecords != \'undefined\') flagSumbmitAllChildRecords = obj.flagSumbmitAllChildRecords;',
'\t\tif(typeof rn != \'number\') {',
'\t\t\tif(!rn._isNewRow){',
'\t\t\t\tvar existingData = this._stripCleanBase64Data(rn);',
'\t\t\t} else {',
'\t\t\t\tvar existingData = rn;',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tif(rn > -1) {',
'\t\t\t\tvar existingData = this._getData2(rn); ',
'\t\t\t} else {',
'\t\t\t\tif(this.selection[0] != \'undefined\') var existingData = this._getData2(this.selection[0]); ',
'\t\t\t}',
'\t\t}',
'\t\tif(typeof existingData == \'undefined\') return {};',
'\t\tvar flagDirty = false;',
'\t\tvar flagNewRow = false;',
'\t\tif(typeof existingData._isDirty != \'undefined\') flagDirty = existingData._isDirty;',
'\t\tif(typeof existingData._isNewRow != \'undefined\') flagNewRow = existingData._isNewRow;',
'\t\tdelete existingData._previousData;',
'\t\tif(flagDirty || flagNewRow) {',
'\t\t\tif(!flagSumbmitAllChildRecords) {',
'\t\t\t\tvar dirtyDataOnly = this._trimNonDirtyData(existingData);',
'\t\t\t\treturn dirtyDataOnly;',
'\t\t\t} else {',
'\t\t\t\treturn existingData;',
'\t\t\t}',
'\t\t}',
'\t\treturn {};',
'\t}',
'\t,',
'\tfieldIsDirty: function(field) { \t\tvar rSel = this.selection[0];',
'\t\tvar rn = typeof arguments[1] != \'undefined\' ? arguments[1] : rSel;',
'\t\tif(typeof rSel == \'undefined\') return false;',
'\t\tvar _d = this.getData(rn);',
'\t\tvar _dv = _d[field];',
'\t\tvar flagNewRow = _d[\'_isNewRow\'];',
'\t\tif(typeof flagNewRow == \'undefined\') flagNewRow = false;',
'\t\tif(flagNewRow) { ',
'\t\t\tif(_dv == \'\') return false;',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar _od = _d[\'_oldData\'];',
'\t\tif(typeof _od == \'undefined\') return false;',
'\t\tvar _odv = _od[field];',
'\t\tif(typeof _dv == \'undefined\') return false;',
'\t\tif(typeof _odv == \'undefined\') return false;',
'\t\tif(_dv == _odv ) return false;',
'\t\telse return true;',
'\t}',
'\t,',
'\t_trimNonDirtyData: function(data) { \t\tvar data2 = {};',
'\t\tvar tData = [];',
'\t\tfor(var prop in data) {',
'\t\t\tif(data[prop] != null) {\t\t\t',
'\t\t\t\tif(data[prop].constructor == Array) {',
'\t\t\t\t\ttData = [];',
'\t\t\t\t\tfor(var i = 0; i < data[prop].length; i++) {',
'\t\t\t\t\t\tif(data[prop][i]._isNewRow || data[prop][i]._isDirty ) {',
'\t\t\t\t\t\t\ttData.push(this._trimNonDirtyData(data[prop][i]));',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tdata2[prop] = tData;',
'\t\t\t\t} else {',
'\t\t\t\t\tdata2[prop] = data[prop];',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\tdata2[prop] = null;',
'\t\t\t}',
'\t\t}',
'\t\treturn data2;',
'\t}',
'\t,',
'\t_logicalRow2PhysicalRow: function(rn) { \t\tif(typeof rn != \'number\') {',
'\t\t\treturn rn;',
'\t\t}',
'\t\tvar u = this._dataMap;',
'\t\treturn $u.a.find(u,rn);',
'\t}',
'\t,',
'\tharvestListKeys: function() { \t\tvar existingData = {};',
'\t\tvar arr = [];',
'\t\tvar key = \'\';',
'\t\tfor (var i = 0; i < this._data.length; i++) { ',
'\t\t\texistingData = this._data[i];',
'\t\t\tif(typeof existingData.__primaryKey != \'undefined\') {',
'\t\t\t\tkey = existingData.__primaryKey;',
'\t\t\t} else {',
'\t\t\t\tkey = existingData[\'*value\']',
'\t\t\t}',
'\t\t\tif(key != \'\') arr.push(key);',
'\t\t}',
'\t\treturn arr;',
'\t}',
'\t,',
'\t_hasMediaFileUploadErrors: function(data) {\t\t',
'\t\tvar flag = false;',
'\t\tvar r = A5.u.object.each(data,function(name,value,path,result){',
'\t\t\tif(name == \'_flagMediaFileUploadError\'){',
'\t\t\t\tif(value) flag =  true;',
' \t\t   }',
'\t\t});',
'\t\treturn flag;',
'\t}',
',',
'\tharvestList: function() { \t\t',
'\t\tvar flagPKOnly = typeof arguments[0] != \'undefined\' ? arguments[0] : false;',
'\t\tvar obj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\t\tvar startingRow = 1;',
'\t\tvar batchSize = 0;',
'\t\tvar flagSumbmitAllChildRecords = false;',
'\t\tif(typeof obj.batchSize != \'undefined\') batchSize = obj.batchSize;',
'\t\tif(typeof obj.startingRow != \'undefined\') startingRow = obj.startingRow;',
'\t\tif(typeof obj.flagSumbmitAllChildRecords != \'undefined\') flagSumbmitAllChildRecords = obj.flagSumbmitAllChildRecords;',
'\t\tvar flagDirty = false;',
'\t\tvar flagNewRow = false;',
'\t\tvar flagHasMediaFileUploadError = false;',
'\t\tvar existingData = \'\';',
'\t\tvar arr = [];',
'\t\tvar _tempData = \'\';',
'\t\tif(batchSize > 0 && startingRow > 1 && flagPKOnly == false) { ',
'\t\t\tvar arr2 = [];',
'\t\t\tvar count = 0;',
'\t\t\tfor(var i = startingRow -1; i < this.__arrDirtyRows.length; i++) { ',
'\t\t\t\trowToGet = this.__arrDirtyRows[i]; ',
'\t\t\t\texistingData = this._data[rowToGet];',
'\t\t\t\t_tempData = this.harvestListRow(existingData, {flagSumbmitAllChildRecords: flagSumbmitAllChildRecords});',
'\t\t\t\tarr2.push(_tempData);',
'\t\t\t\tcount = count + 1;',
'\t\t\t\tif(count >= batchSize) break;',
'\t\t\t}',
'\t\t\treturn arr2;',
'\t\t}',
'\t\tthis.__arrDirtyRows = [];',
'\t\tfor (var i = 0; i < this._data.length; i++) { ',
'\t\t\texistingData = this._data[i];',
'\t\t\tflagDirty = false; flagNewRow = false;',
'\t\t\tif(typeof existingData._isDirty != \'undefined\') flagDirty = existingData._isDirty;',
'\t\t\tif(typeof existingData._isNewRow != \'undefined\') flagNewRow = existingData._isNewRow;',
'\t\t\tif(flagDirty || flagNewRow) {',
'\t\t\t\tflagHasMediaFileUploadError = this._hasMediaFileUploadErrors(existingData);',
'\t\t\t}',
'\t\t\tif( (flagDirty || flagNewRow) && !flagHasMediaFileUploadError ) {',
'\t\t\t\tif(flagPKOnly == false)\t{',
'\t\t\t\t\t_tempData = this.harvestListRow(existingData, {flagSumbmitAllChildRecords: flagSumbmitAllChildRecords});',
'\t\t\t\t\tarr.push(_tempData);',
'\t\t\t\t} else {',
'\t\t\t\t\tif(typeof existingData.__primaryKey != \'undefined\') {',
'\t\t\t\t\t\tarr.push(existingData.__primaryKey);',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tarr.push(existingData[\'*value\']);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(batchSize > 0 && startingRow == 1 && flagPKOnly == false)  {',
'\t\t\t\t\tif(flagPKOnly == false) {',
'\t\t\t\t\t\tthis.__arrDirtyRows.push(existingData[\'*key\']);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(batchSize > 0 && flagPKOnly == false) {',
'\t\t\tvar arr2 = [];',
'\t\t\tvar count = 0;',
'\t\t\tfor(var i = startingRow -1; i < this.__arrDirtyRows.length; i++) { ',
'\t\t\t\trowToGet = this.__arrDirtyRows[i];',
'\t\t\t\tarr2.push(this._getRowByKey(arr,rowToGet));',
'\t\t\t\tcount = count + 1;',
'\t\t\t\tif(count >= batchSize) break;',
'\t\t\t}',
'\t\t\treturn arr2',
'\t\t}',
'\t\treturn arr;',
'\t}',
'\t,',
'\t_getRowByKey: function(arr,key) {\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif(arr[i][\'*key\'] == key) return arr[i];',
'\t\t}',
'\t\treturn false; ',
'\t}',
',',
'\tlistRowIsDirty: function() {\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tvar flagNewRow = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\t\tif(rn > -1) {',
'\t\t\tvar existingData = this.getData(rn);',
'\t\t} else {',
'\t\t\tvar existingData = this.getData(this.selection[0]);',
'\t\t}',
'\t\tif(typeof existingData == \'undefined\') return false;',
'\t\tif(!flagNewRow) {',
'\t\t\tif(typeof existingData._isDirty != \'undefined\') return existingData._isDirty;',
'\t\t\telse return false;',
'\t\t} else { ',
'\t\t\tif(typeof existingData._isNewRow != \'undefined\') return existingData._isNewRow;',
'\t\t\telse return false;',
'\t\t}',
'\t}',
'\t,',
'\tlistRowIsNew: function() {\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\treturn this.listRowIsDirty(rn,true);',
'\t}',
'\t,',
'\t_getDataFromRoute: function(route) { \t\tvar rn = [].concat(route);',
'\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\tif(typeof topParent == \'undefined\') var lObj = this;',
'\t\telse var lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\tvar _td = lObj._data;',
'\t\tfor(var i = 0; i < rn.length; i++) { ',
'\t\t   _td = _td[ rn[i] ];',
'\t\t}',
'\t\treturn _td;',
'\t}',
'\t,',
'\t_isRowInRouteVisible: function(route) { \t\tvar rn = [].concat(route);',
'\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\tif(typeof topParent == \'undefined\') var lObj = this;',
'\t\telse var lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\tvar index = 0;',
'\t\twhile(rn.length >1) {',
'\t\t\tindex = lObj._logicalRow2PhysicalRow(rn.shift());',
'\t\t\tif(lObj.selection[0] != index) return false;',
'\t\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(rn.shift().replace(\'__LIST__\',\'\'));',
'\t\t}',
'\t\treturn true;\t\t',
'\t}',
'\t,',
'\t_isRouteBranchDirty: function(route) { \t\tvar rn = [].concat(route);',
'\t\tif( typeof  rn[rn.length-1] == \'number\' ) rn.pop();',
'\t\tvar _d = this._getDataFromRoute(rn);',
'\t\tfor(var i = 0; i < _d.length; i++) { ',
'\t\t\tif( _d[i]._isDirty || _d[i]._isNewRow || _d[i]._isDeletedRow) return true;',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_routeBranchHasServerSideError: function(route) { \t\tvar rn = [].concat(route);',
'\t\tif( typeof  rn[rn.length-1] == \'number\' ) rn.pop();',
'\t\tvar _d = this._getDataFromRoute(rn);',
'\t\tfor(var i = 0; i < _d.length; i++) { ',
'\t\t\tif(  _d[i]._hasServerSideError ||  _d[i]._flagServerSideErrorInChild  || _d[i]._hasWriteConflictErrors ||  _d[i]._flagWriteConflictErrorInChild      ) return true;',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_responseStart: function() {\t\tdelete this._rowGUIDS;',
'\t\tthis._rowGUIDS = [];',
'\t}',
',',
'\t_responseEnd: function() {\t\t',
'\t\tvar flagUsingSyncLog = false;',
'\t\tflagUsingSyncLog = this._useServerSideSyncLog;',
'\t\tif(typeof flagUsingSyncLog == \'undefined\') flagUsingSyncLog = false;',
'\t\tif(flagUsingSyncLog) {',
'\t\t\tvar flagClearLog = this._clearServerSideSyncLog;',
'\t\t\tif(typeof flagClearLog == \'undefined\') flagClearLog = true;',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\tif(flagClearLog) {',
'\t\t\t\t_dlgObj.synchronizeComplete(this._rowGUIDS);',
'\t\t\t}',
'\t\t}',
'\t}',
',',
'\t_getTopParentList: function() { \t\t',
'\t\tvar allParentLists = this.allParentLists;',
'\t\tif(typeof allParentLists == \'undefined\') return this.listVariableName;',
'\t\tif(allParentLists.length == 0) return this.listVariableName;',
'\t\treturn allParentLists[allParentLists.length -1];',
'\t}',
',',
'\tsetRowCleanPreserveState: function() {\t\tthis.setRowClean(arguments[0],-1,true);',
'\t}',
',',
'\tsetRowClean: function() {\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tvar mode = typeof arguments[1] != \'undefined\' ? arguments[1] : -1;',
'\t\tvar flagPreserveState = typeof arguments[2] != \'undefined\' ? arguments[2] : false;',
'\t\tvar flagRouteArray = false;',
'\t\tif(rn.constructor == Array) { ',
'\t\t\tflagRouteArray = true;',
'\t\t\tvar existingData = this._getDataFromRoute(rn);',
'\t\t\tvar _row = rn[rn.length -1];',
'\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t} else {',
'\t\t\tvar _row = \'\';',
'\t\t\tvar existingData = this.getData(this.selection[0]);',
'\t\t\tif(rn > -1) {',
'\t\t\t\t_row = rn;',
'\t\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t\t} else _row = existingData[\'*key\'];',
'\t\t\tvar existingData = this.getData(_row);',
'\t\t}',
'\t\tif(mode == 1 ) {',
'\t\t\tif(typeof existingData._oldData != \'undefined\') return false;',
'\t\t}',
'\t\tif(!flagPreserveState) {',
'\t\t\texistingData._isDirty = false;',
'\t\t\texistingData._isNewRow = false;',
'\t\t}',
'\t\texistingData._hasServerSideError = false;',
'\t\texistingData._serverSideErrors = false;',
'\t\texistingData._flagServerSideErrorInChild = false;',
'\t\texistingData._hasWriteConflictErrors = false;',
'\t\texistingData._hasGlobalErrors = false;',
'\t\texistingData._flagWriteConflictErrorInChild = false;',
'\t\texistingData._flagGlobalErrorInChild = false;',
'\t\texistingData._dirtyImages = false;',
'\t\tvar topParentList = this._getTopParentList();',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar lTop = _dlgObj.getControl(topParentList);',
'\t\tif(typeof lTop._rowGUIDS == \'undefined\') lTop._rowGUIDS = [];',
'\t\tlTop._rowGUIDS.push(existingData[\'*rowGUID\']);',
'\t\tdelete existingData[\'*rowGUID\'];',
'\t\texistingData._writeConflictErrors = false;',
'\t\tif(!flagPreserveState) delete existingData._oldData;',
'\t\tdelete existingData._globalErrors;',
'\t\tdelete existingData._globalErrorsRaw;',
'\t\tif(flagRouteArray) {',
'\t\t\tif(this._isRowInRouteVisible(rn)) this.updateRow(_row,existingData);',
'\t\t} else {',
'\t\t\tthis.updateRow(_row,existingData);',
'\t\t}',
'\t\tvar parentList = this.parentList;',
'\t\tif(typeof parentList != \'undefined\') {',
'\t\t\tif(flagRouteArray) var flagListIsDirty =  this._isRouteBranchDirty(rn);  ',
'\t\t\telse var flagListIsDirty = this.listIsDirty();',
'\t\t\tif (flagListIsDirty == false) { ',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\t\t\tif(flagRouteArray) {',
'\t\t\t\t\trn.pop();',
'\t\t\t\t\trn.pop();',
'\t\t\t\t\tlObj.setRowClean(rn,1);',
'\t\t\t\t} else {',
'\t\t\t\t\tlObj.setRowClean(-1,1);',
'\t\t\t\t}',
'\t\t\t} else { ',
'\t\t\t\tif(flagPreserveState) {',
'\t\t\t\t\tthis._setRouteDirty(rn);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\t_setRouteDirty: function(route) { \t\troute.pop();',
'\t\troute.pop();',
'\t\tvar flagLoop = true;',
'\t\tif(route.length == 0) flagLoop = false;',
'\t\twhile(flagLoop) { ',
'\t\t\tvar existingData = this._getDataFromRoute(route);',
'\t\t\texistingData._isDirty = true;',
'\t\t\troute.pop();',
'\t\t\troute.pop();',
'\t\t\tif(route.length == 0) break;',
'\t\t}',
'\t}',
',',
'\t_showError: function(id,moreTxt,lessTxt) { \t\tvar e = $(id);',
'\t\tvar e2 = $(id + \'.LINK\');',
'\t\tif(e.style.display == \'\') { ',
'\t\t\te.style.display = \'none\';',
'\t\t\te2.innerHTML = moreTxt;',
'\t\t} else { ',
'\t\t\te.style.display = \'\';',
'\t\t\te2.innerHTML = lessTxt;',
'\t\t}',
'\t}',
'\t,',
'\t_setGlobalCRUDErrors: function(rowNum,txt,mode) { \t\t',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar ePH =  this._globalErrorPlaceHolder;',
'\t\tif(typeof ePH == \'undefined\') ePH = \'\';',
'\t\tvar flagPH = $(ePH);',
'\t\tif(typeof mode == \'undefined\') mode = \'\';',
'\t\tvar txtRaw = txt;',
'\t\tif(mode != \'\' && ePH != \'\' && flagPH) {',
'\t\t\tvar customMessage = this.customization.dv.databaseError[mode];',
'\t\t\tcustomMessage = customMessage.split(\'|\');',
'\t\t\ttxt = \'<div onclick="window[\\\'\'+this._hostComponentId + \'_DlgObj\\\'].getControl(\\\'\'+this.listVariableName+\'\\\')._showError(\\\'\'+this.listVariableName +\'.GLOBALERROR\\\',\\\'\'+customMessage[1]+\'\\\',\\\'\'+customMessage[2]+\'\\\');">\' + customMessage[0] + \'&nbsp;<a id="\'+this._hostComponentId+\'.\'+this.listVariableName + \'.GLOBALERROR.LINK" class="iOS7Link" style="cursor: pointer;color:red; font-size: 8pt;" href=\\\'#\\\'>\'+customMessage[1]+\'</a>\' + \'<div id="\'+this.listVariableName+\'.GLOBALERROR" style="display: none; font-size: 8pt;">\'+txt+\'</div></div>\';',
'\t\t}',
'\t\tif(rowNum.constructor == Array) { ',
'\t\t\tthis.setServerSideError(true,rowNum,txt,\'ge\',txtRaw);',
'\t\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar _d = this._getRowData(rowNum);',
'\t\t_d._globalErrors = txt;',
'\t\t_d._globalErrorsRaw = txtRaw;',
'\t\t_d._hasServerSideError = false;',
'\t\t_d._serverSideErrors = false;',
'\t\tthis.updateRow(rowNum,_d);',
'\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t}',
'\t,',
'\tgetAllErrors: function() { \t\tvar lObj = this;',
'\t\tvar data = lObj._data;',
'\t\tvar r = A5.u.object.each(data,function(name,value,path,result){',
'\t\t\tpath = path.splice(0,path.length -1);',
'\t\t\tvar _dr = data;',
'\t\t\tfor(var i = 0; i < path.length; i++) { ',
'\t\t\t\tvar _dr = _dr[path[i]];',
'\t\t\t}',
'\t\t\tif(name == \'_hasServerSideError\') { ',
'\t\t\t\tif(value) { ',
'\t\t\t\t\tresult.push({errorType: \'serverSide\', path:path, error: _dr[\'_serverSideErrors\']});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(name == \'_hasWriteConflictErrors\') { ',
'\t\t\t\tif(value) { ',
'\t\t\t\t\tvar _wc = _dr[\'_writeConflictErrors\'];',
'\t\t\t\t\tvar _wc2 = [];',
'\t\t\t\t\t$u.o.assign(_wc2,_wc);',
'\t\t\t\t\tfor(var i = 0; i < _wc2.length; i++) {',
'\t\t\t\t\t\tdelete _wc2[i].errorText;',
'\t\t\t\t\t}',
'\t\t\t\t\tresult.push({errorType: \'writeConflict\', path: path, error: _wc2});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(name == \'_hasGlobalErrors\') { ',
'\t\t\t\tif(value) { ',
'\t\t\t\t\tresult.push({errorType: \'globalError\', path: path, error: _dr[\'_globalErrorsRaw\']});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t})',
'\t\treturn r;',
'\t}',
'\t,',
'\t_setWriteConflictErrors: function(rowNum,eArr) {\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tif(rowNum.constructor == Array) { ',
'\t\t\tthis.setServerSideError(true,rowNum,eArr,\'wc\');',
'\t\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t\t\treturn true;',
'\t\t}',
'\t\trowNum = this._logicalRow2PhysicalRow(rowNum);',
'\t\tvar _d = this._getRowData(rowNum);',
'\t\t_d._writeConflictErrors = eArr;',
'\t\t_d._hasWriteConflictErrors = true;',
'\t\t_d._hasServerSideError = false;',
'\t\t_d._serverSideErrors = false;',
'\t\tthis.updateRow(rowNum,_d);',
'\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t}',
'\t,',
'\t_setGenericByChild: function(rn,mode) { \t',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') { ',
'\t\t\tif(parentListName != \'\') {',
'\t\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentListName);',
'\t\t\t\tvar existingData = plObj._getDataFromRoute(rn);',
'\t\t\t\tif(mode == \'sse\') {',
'\t\t\t\t\texistingData._flagServerSideErrorInChild = true;',
'\t\t\t\t\texistingData._isDirty = true;',
'\t\t\t\t} else if (mode == \'wc\') { ',
'\t\t\t\t\texistingData._flagWriteConflictErrorInChild = true;',
'\t\t\t\t\texistingData._isDirty = true;',
'\t\t\t\t} else if (mode == \'ge\') {',
'\t\t\t\t\texistingData._flagGlobalErrorInChild = true;',
'\t\t\t\t\texistingData._isDirty = true;',
'\t\t\t\t}',
'\t\t\t\tvar _row = rn[rn.length -1];',
'\t\t\t\t_row = plObj._logicalRow2PhysicalRow(_row);',
'\t\t\t\tif(plObj._isRowInRouteVisible(rn)) plObj.updateRow(_row,existingData);',
'\t\t\t\trn.pop();',
'\t\t\t\trn.pop();',
'\t\t\t\tplObj._setGenericByChild(rn,mode)',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\tsetServerSideError: function(flag) { \t\t',
'\t\tvar rn = typeof arguments[1] != \'undefined\' ? arguments[1] : -1;',
'\t\tvar flagRouteArray = false;',
'\t\tif(rn.constructor == Array) { ',
'\t\t\tflagRouteArray = true;',
'\t\t}',
'\t\tvar errObj =  typeof arguments[2] != \'undefined\' ? arguments[2] : {};',
'\t\tif(flag == false) {',
'\t\t\terrObj = false;',
'\t\t}',
'\t\tvar mode = typeof arguments[3] != \'undefined\' ? arguments[3] : \'sse\' ',
'\t\tvar txtRaw = typeof arguments[4] != \'undefined\' ? arguments[4] : \'\';',
'\t\tvar _row = \'\';',
'\t\tif(flagRouteArray) { ',
'\t\t\tvar existingData = this._getDataFromRoute(rn);',
'\t\t\tvar _row = rn[rn.length -1];',
'\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t} else { ',
'\t\t\tvar existingData = this.getData(this.selection[0]);',
'\t\t\tif(rn > -1) {',
'\t\t\t\t_row = rn;',
'\t\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t\t} else _row = existingData[\'*key\'];',
'\t\t\tvar existingData = this.getData(_row);',
'\t\t}',
'\t\tif(mode == \'sse\') {',
'\t\t\texistingData._hasServerSideError = flag;',
'\t\t\texistingData._serverSideErrors = errObj;',
'\t\t\texistingData._globalErrors = false;',
'\t\t\texistingData._globalErrorsRaw = \'\'',
'\t\t\texistingData._hasGlobalErrors = false;',
'\t\t\texistingData._hasWriteConflictErrors = false;',
'\t\t\texistingData._writeConflictErrors = false;',
'\t\t} else if (mode == \'wc\') { ',
'\t\t\texistingData._hasWriteConflictErrors = flag;',
'\t\t\texistingData._writeConflictErrors = errObj;',
'\t\t\texistingData._hasServerSideError = false;',
'\t\t\texistingData._serverSideErrors = false;',
'\t\t} else if (mode == \'ge\') { ',
'\t\t\texistingData._globalErrors = errObj;',
'\t\t\texistingData._globalErrorsRaw = txtRaw;',
'\t\t\texistingData._hasGlobalErrors = flag;',
'\t\t\texistingData._hasServerSideError = false;',
'\t\t\texistingData._serverSideErrors = false;',
'\t\t}',
'\t\tif(flagRouteArray) {',
'\t\t\tif(this._isRowInRouteVisible(rn)) this.updateRow(_row,existingData);',
'\t\t\tif(this._setGenericByChild) {',
'\t\t\t\trn.pop();',
'\t\t\t\trn.pop();',
'\t\t\t\tthis._setGenericByChild(rn,mode);',
'\t\t\t}',
'\t\t} else {',
'\t\t\tthis.updateRow(_row,existingData);',
'\t\t}',
'\t}',
'\t,',
'\t_showWCErrorMore: function(varName,eleIn,infoIn) { \t\tvar info = {};',
'\t\tif(typeof infoIn != \'undefined\') { ',
'\t\t\tinfo = infoIn;',
'\t\t}',
'\t\tif(typeof eleIn == \'undefined\') eleIn = false;',
'\t\tvar row = this.selection[0];',
'\t\tthis._wceVarname = varName;',
'\t\tvar myValue = window[this._hostComponentId + \'_DlgObj\'].getValue(varName);',
'\t\tvar _d = this._getRowData(row)',
'\t\tvar wce = _d._writeConflictErrors;',
'\t\tvar wcCount = wce.length;',
'\t\tvar indx = \'\';',
'\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',varName);',
'\t\tif(indx == -1) return false ',
'\t\twce = wce[indx];',
'\t\tvar mTheirs = this.customization.dv.writeConflict.useTheirsMessage;',
'\t\tvar mMine   = this.customization.dv.writeConflict.useMineMessage;',
'\t\tvar mTheirsAll = this.customization.dv.writeConflict.useTheirsAll;',
'\t\tvar mMineAll   = this.customization.dv.writeConflict.useMineAll;',
'\t\tmTheirs = mTheirs.replace(\'{theirvalue}\',this._stripHTML(wce.oldValueCurrent,30));',
'\t\tmMine = mMine.replace(\'{myvalue}\',this._stripHTML(myValue,30));',
'\t\tvar ctxt = this;\t\t\t\t',
'\t\tvar mD = [];',
'\t\tmD.push({html: mMine, value: \'mine\'});',
'\t\tmD.push({html: mTheirs, value: \'theirs\'});',
'\t\tif(wcCount > 1) {',
'\t\t\tmD.push(\'-\');',
'\t\t\tmD.push({html: mMineAll , value: \'mineAll\'});',
'\t\t\tmD.push({html: mTheirsAll, value: \'theirsAll\' });',
'\t\t}',
'\t\tvar mS = {',
'\t\t\ttheme: \'iOS7\',',
'\t\t\t_hostComponentId : this._hostComponentId,',
'\t\t\tlistVariableName: this.listVariableName,',
'\t\t\ticonColumn: {show: false},',
'\t\t\tpointer: {show: true,location: \'auto\'},',
'\t\t\tanimation: {show: {type: \'css-slide\',duration: \'fast\'}, hide: {type: \'none\',duration: \'fast\'}},',
'\t\t\tonHide: function() {  $(this._eleWCM).style.visibility = \'\';},',
'\t\t\tonClick: function(item) { ',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.listVariableName);',
'\t\t\t\tif(item.value == \'mine\') lObj._useMine(this._varName);',
'\t\t\t\tif(item.value == \'mineAll\') lObj._useMineAll(); ',
'\t\t\t\tif(item.value == \'theirs\') lObj._useTheirs(this._varName);',
'\t\t\t\tif(item.value == \'theirsAll\') lObj._useTheirsAll(); ',
'\t\t\t}',
'\t\t};',
'\t\tvar eleWCM = this._hostComponentId +\'.WCM.\'+this.listVariableName+ \'.\' +  varName.toUpperCase();',
'\t\t$(eleWCM).style.visibility = \'hidden\';',
'\t\tif(typeof this._menu == \'undefined\') {',
'\t\t\tthis._menu = new A5.Menu(mD,mS);',
'\t\t} else {',
'\t\t\tthis._menu.populate(mD);',
'\t\t}',
'\t\tthis._menu._varName = varName;',
'\t\tthis._menu._eleWCM = eleWCM;',
'\t\tvar ele = \'\';',
'\t\tif(eleIn == false) {',
'\t\t\tele = window[this._hostComponentId + \'_DlgObj\'].getPointer(varName);',
'\t\t} else { ',
'\t\t\tele = eleIn;',
'\t\t}',
'\t\tthis._menu.show(\'dropdown\',ele);  ',
'\t}',
'\t,',
'\t_useMine: function(varName) { \t\tthis.resolveConflictUsingMine(varName);',
'\t}',
'\t,',
'\t_useTheirs: function(varName) { \t\tthis.resolveConflictUsingTheirs(varName);',
'\t}',
'\t,',
'\t_useMineAll: function() { \t\tthis.resolveConflictUsingMine();',
'\t}',
'\t,',
'\t_useTheirsAll: function() { \t\tthis.resolveConflictUsingTheirs();',
'\t}',
'\t,',
'\tresolveConflictUsingMine: function() { \t\t',
'\t\tvar control = typeof arguments[0] != \'undefined\' ? arguments[0] : \'__all__\';',
'\t\tvar row = this.selection[0];',
'\t\tvar _d = this._getRowData(row)',
'\t\tvar wce = _d._writeConflictErrors;',
'\t\tif(typeof wce == \'undefined\') return false;',
'\t\tvar arr = [];',
'\t\tif(control == \'__all__\') arr = this._getControlsInDv();',
'\t\telse arr.push(control);',
'\t\tvar myValue = \'\';',
'\t\tvar indx = \'\';',
'\t\tvar fn = \'\';',
'\t\tvar ix2 = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tmyValue = window[this._hostComponentId + \'_DlgObj\'].getValue(arr[i]);',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\tif(indx >0 -1) {',
'\t\t\t\tix2 = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\t\tif(ix2 == -1) return false ',
'\t\t\t\tfn = this._getListFieldFromControl(arr[i]);',
'\t\t\t\t_d._oldData[fn] = wce[ix2].oldValueCurrent;',
'\t\t\t\twce.splice(indx,1);',
'\t\t\t}',
'\t\t}',
'\t\tif(wce.length == 0) {',
'\t\t\t_d._writeConflictErrors = false;',
'\t\t\t_d._hasWriteConflictErrors = false;',
'\t\t\tthis.updateRow(row,_d);',
'\t\t};',
'\t\tif(_d._hasWriteConflictErrors == false) { ',
'\t\t\tvar parentList = this.parentList;',
'\t\t\tif(typeof parentList != \'undefined\') {',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\t\t\tlObj._setChildHasWriteConflictFlag();',
'\t\t\t}',
'\t\t}',
'\t\tthis._clearServerSideErrors();',
'\t\tthis._showWriteConflictErrors();',
'\t}',
'\t,',
'\tresolveConflictUsingTheirs: function() { \t\t',
'\t\tvar control = typeof arguments[0] != \'undefined\' ? arguments[0] : \'__all__\';',
'\t\tvar row = this.selection[0];',
'\t\tvar _d = this._getRowData(row)',
'\t\tvar wce = _d._writeConflictErrors;',
'\t\tif(typeof wce == \'undefined\') return false;',
'\t\tvar arr = [];',
'\t\tif(control == \'__all__\') {',
'\t\t\tarr = this._getControlsInDv();',
'\t\t} else { ',
'\t\t\tif(control.constructor == Array) { ',
'\t\t\t\tarr = control;',
'\t\t\t} else { ',
'\t\t\t\tarr.push(control);',
'\t\t\t}',
'\t\t}',
'\t\tvar myValue = \'\';',
'\t\tvar indx = \'\';',
'\t\tvar fn = \'\';',
'\t\tvar ix2 = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tmyValue = window[this._hostComponentId + \'_DlgObj\'].getValue(arr[i]);',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\tif(indx >0 -1) {',
'\t\t\t\tix2 = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\t\tif(ix2 == -1) return false ',
'\t\t\t\tfn = this._getListFieldFromControl(arr[i]);',
'\t\t\t\t_d[fn] = wce[ix2].oldValueCurrent;',
'\t\t\t\t_d._oldData[fn] = wce[ix2].oldValueCurrent;',
'\t\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setValue(arr[i], wce[ix2].oldValueCurrent,false);',
'\t\t\t\twce.splice(indx,1);',
'\t\t\t}',
'\t\t}',
'\t\tif(wce.length == 0) {',
'\t\t\t_d._writeConflictErrors = false;',
'\t\t\t_d._hasWriteConflictErrors = false;',
'\t\t};',
'\t\tvar allArr = this._getControlsInDv();',
'\t\t_d._isDirty = false;',
'\t\tvar tempData = \'\';',
'\t\tfor(var i = 0; i < allArr.length; i++) {',
'\t\t\tfn = this._getListFieldFromControl(allArr[i]);',
'\t\t\ttempData = _d._oldData[fn];',
'\t\t\tif(tempData == null) tempData = \'\';',
'\t\t\tif( _d[fn] != tempData ) {',
'\t\t\t\t_d._isDirty = true;',
'\t\t\t\tbreak;',
'\t\t\t}',
'\t\t}',
'\t\tthis.updateRow(row,_d);',
'\t\tthis._clearServerSideErrors();',
'\t\tthis._showWriteConflictErrors();\t',
'\t\tif(_d._hasWriteConflictErrors == false) { ',
'\t\t\tvar parentList = this.parentList;',
'\t\t\tif(typeof parentList != \'undefined\') {',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\t\t\tlObj._setChildHasWriteConflictFlag(); ',
'\t\t\t}',
'\t\t}',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t}',
'\t,',
'\t_stripHTML: function(txt,length) { \t\tvar ele = document.createElement(\'div\');',
'\t\tele.innerHTML = txt;',
'\t\tvar txt2 = ele.textContent;',
'\t\tvar txt3 = txt2.substr(0,length);',
'\t\tif(txt3.length < txt2.length) txt3 = txt3 + \'...\';',
'\t\tdelete ele;\t\t',
'\t\treturn txt2;',
'\t}',
'\t,',
'\t_showWriteConflictErrors: function(row) { \t\tvar _d = this._getRowData(row);',
'\t\tif(typeof _d == \'undefined\') return false; ',
'\t\tif(typeof _d._writeConflictErrors == \'undefined\') return false;',
'\t\tif(typeof _d._hasWriteConflictErrors == \'undefined\') return false;',
'\t\tif(_d._hasWriteConflictErrors == false) return false;',
'\t\t_e = _d._writeConflictErrors',
'\t\tvar arr = [];',
'\t\tfor(var i = 0; i < _e.length; i++) {',
'\t\t\tdelete obj;',
'\t\t\tvar obj = {};',
'\t\t\tobj.id =  this._hostComponentId +  \'.V.R1.\' + _e[i].varName.toUpperCase();',
'\t\t\tobj.message = _e[i].errorText;',
'\t\t\tarr.push(obj);',
'\t\t}',
'\t\tvar arrFix = [];',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif($(arr[i].id)) arrFix.push(arr[i]);',
'\t\t}',
'\t\tif(arrFix.length > 0) window[this._hostComponentId + \'_DlgObj\'].setErrors(arr);;',
'\t}',
'\t,',
'\t_showServerSideErrors: function(row) { \t\tvar _d = this._getRowData();',
'\t\tif(typeof _d == \'undefined\') return false; ',
'\t\tif(typeof _d._globalErrors != \'undefined\') {',
'\t\t\tif(_d._globalErrors != \'\') {',
'\t\t\t\tthis._showGlobalError(_d._globalErrors);',
'\t\t\t}',
'\t\t}',
'\t\tif(typeof _d._serverSideErrors == \'undefined\') return false;',
'\t\tif(typeof _d._hasServerSideError == \'undefined\') return false;',
'\t\tif(_d._hasServerSideError == false) return false;',
'\t\t_e = _d._serverSideErrors;',
'\t\tvar arr = [];',
'\t\tfor(var i = 0; i < _e.length; i++) {',
'\t\t\tdelete obj;',
'\t\t\tvar obj = {};',
'\t\t\tif(typeof _e[i].varName != \'undefined\') { ',
'\t\t\t\tobj.id = this._hostComponentId + \'.V.R1.\' + _e[i].varName.toUpperCase();',
'\t\t\t\tobj.message = _e[i].errorText;',
'\t\t\t\tobj.errorType = \'serverside\';',
'\t\t\t\tarr.push(obj);',
'\t\t\t}',
'\t\t}',
'\t\tvar arrFix = [];',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif($(arr[i].id)) arrFix.push(arr[i]);',
'\t\t}',
'\t\tif(arrFix.length > 0) window[this._hostComponentId + \'_DlgObj\'].setErrors(arr);;',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t}',
'\t,',
'\t_clearServerSideErrors: function() {\t\tvar ea = window[this._hostComponentId + \'_DlgObj\']._eh._e;',
'\t\tif(typeof ea == \'undefined\') return false;',
'\t\tvar arr = this._getControlsInDv();',
'\t\tvar fa = [];',
'\t\tvar id = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tid = this._hostComponentId + \'.V.R1.\' + arr[i].toUpperCase()',
'\t\t\tif(window[this._hostComponentId + \'_DlgObj\']._findArrayProp(ea,\'id\',id) >= 0) fa.push(id);',
'\t\t}',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].clearErrors(fa);',
'\t\tthis._clearGlobalError();',
'\t}',
'\t,',
'\t_hasClientSideError: function() { \t\tvar ea = window[this._hostComponentId + \'_DlgObj\']._eh._e;',
'\t\tif(typeof ea == \'undefined\') return false;',
'\t\tvar arr = this._getControlsInDv();',
'\t\tvar indx = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tid = this._hostComponentId + \'.V.R1.\' + arr[i].toUpperCase()',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(ea,\'id\',id);',
'\t\t\tif(indx >= 0) {',
'\t\t\t\tif( ea[indx].clientSide == true) {',
'\t\t\t\t\treturn true;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_getRowData: function() { \t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tif(rn > -1) return this.getData(rn);',
'\t\telse return this.getData(this.selection[0]);',
'\t}',
'\t,',
'\tsetListClean: function() {\t\tfor(var i = 0; i < this._data.length; i++) { ',
'\t\t\tthis.setRowClean(i);',
'\t\t}',
'\t}',
'\t,',
'\tdeleteRow: function() { \t\t',
'\t\tvar _rn = this.selection[0];',
'\t\tif(typeof _rn == \'undefined\') return false;',
'\t\tif(this._executeEvent(\'detailView.canDeleteRow\',{}) == false) return false;',
'\t\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\t\tvar flagPrompt = typeof ops.prompt != \'undefined\' ? ops.prompt : true;',
'\t\tif(!flagPrompt) {',
'\t\t\tthis._deleteRowLow();',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar classInst = this;',
'\t\tif(typeof this.customization == \'undefined\') return false;',
'\t\tvar msg = this.customization.dv.confirmDeleteWarning.message;',
'\t\tvar image = this.customization.dv.confirmDeleteWarning.icon;',
'\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\tvar title = this.customization.dv.confirmDeleteWarning.title;',
'\t\tA5.msgBox.show(title,msg,\'yn\',function(button) {',
'\t\t\tif(button == \'yes\'){',
'\t\t\t\tclassInst._deleteRowLow();    ',
'\t\t    } else if(button == \'no\'){',
'   \t\t\t}',
'   \t\t\tdelete classInst;',
'\t\t} );',
'\t}',
'\t,',
'\tresetRow: function() { \t\tif(this._executeEvent(\'detailView.canResetRow\',{}) == false) return false;',
'\t\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\t\tvar flagPrompt = typeof ops.prompt != \'undefined\' ? ops.prompt : true;',
'\t\tif(!flagPrompt) {',
'\t\t\tthis._resetRowLow();',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar classInst = this;',
'\t\tvar msg = this.customization.dv.confirmRowResetWarning.message;',
'\t\tvar image = this.customization.dv.confirmRowResetWarning.icon;',
'\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\tvar title = this.customization.dv.confirmRowResetWarning.title;',
'\t\tA5.msgBox.show(title,msg,\'yn\',function(button) {',
'\t\t\tif(button == \'yes\'){',
'\t\t\t\tclassInst._resetRowLow();    ',
'\t\t    } else if(button == \'no\'){',
'   \t\t\t}',
'   \t\t\tdelete classInst;',
'\t\t} );',
'\t}',
'\t,',
'\t_resetRowLow: function() { \t\tvar existingData = this.getData(this.selection[0]);',
'\t\tif(typeof existingData == \'undefined\') return false;',
'\t\tif(typeof existingData._oldData == \'undefined\') return false;',
'\t\tvar data = {};',
'\t\t$u.o.assign(data,existingData._oldData);',
'\t\tdata._isDirty = false;',
'\t\tdata._isDeleted = false;',
'\t\tdata._hasServerSideError = false;',
'\t\tdata._serverSideErrors = false;',
'\t\tdata._hasWriteConflictErrors = false;',
'\t\tdata._writeConflictErrors = false;',
'\t\tdata._oldData = false;',
'\t\tdelete data._globalErrors;',
'\t\tdelete data._globalErrorsRaw;',
'\t\tthis.updateRow(this.selection[0],data);',
'\t\tvar existingData = this.getData(this.selection[0]);',
'\t\tdelete existingData._globalErrors;',
'\t\tdelete existingData._globalErrorsRaw;',
'\t\tthis.updateRow(this.selection[0],existingData);',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t\tthis.populateUXControls();',
'\t\tthis._refreshDebugInfo();',
'\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\tif(typeof topParent != \'undefined\') { ',
'\t\t\tvar lObjTP = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\t\tvar _r = lObjTP._getRoute();',
'\t\t\tvar _ra = this.__routeToArray(_r)',
'\t\t\tthis.setRowCleanPreserveState(_ra);',
'\t\t}',
'\t\tthis._executeEvent(\'detailView.afterResetRow\',{});',
'\t}',
'\t,',
'\t__routeToArray: function(_r) { \t\tvar arr = [];',
'\t\tfor(var i = 0; i < _r.length; i++) { ',
'\t\t\tif(i==0) {',
'\t\t\t\tarr.push(_r[i].row);',
'\t\t\t} else { ',
'\t\t\t\tarr.push(\'__LIST__\' +_r[i].list);',
'\t\t\t\tarr.push(_r[i].row);',
'\t\t\t}',
'\t\t}',
'\t\treturn arr; ',
'\t}',
',',
'\t_arrayIsDirty: function(arr) { \t\tvar flag = false;',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif(arr[i]._isDirty) { ',
'\t\t\t\treturn true;',
'\t\t\t}',
'\t\t}',
'\t\treturn false;',
'\t}',
',',
'\t_deleteRowLow: function() { \t\t',
'\t\tvar data = this.getData(this.selection[0]);',
'\t\tif(typeof data == \'undefined\') return false;',
'\t\tvar flagNewRow = \'\';',
'\t\tif(typeof data._isNewRow != \'undefined\') flagNewRow = data._isNewRow;',
'\t\tif(flagNewRow) { ',
'\t\t\tvar _rn = this.selection[0];',
'\t\t\tvar _newRow = _rn;',
'\t\t\tif( (_newRow +1) > (this._dataMap.length-1) ) _newRow = _newRow -1;',
'\t\t\tthis.nullOutDetailViewRecord();',
'\t\t\tthis.removeRows([_rn]);',
'\t\t\tvar flagListIsClean = !this._arrayIsDirty(this._data);',
'\t\t\tdata._isDeleted = true;',
'\t\t\tvar parentListName = this.parentList;',
'\t\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\t\tvar flagIsNewRow = false;',
'\t\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\t\tvar parentData = plObj.getData(plObj.selection[0]);',
'\t\t\t\tvar parentData2 = parentData;',
'\t\t\t\tvar parentDataSublist = parentData[\'__LIST__\' + this.listVariableName];',
'\t\t\t\tvar indx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(parentDataSublist,\'*key\',data[\'*key\']);',
'\t\t\t\tparentDataSublist.splice(indx,1);',
'\t\t\t\tvar flagLoop = true;',
'\t\t\t\tvar parentList = plObj;',
'\t\t\t\twhile(flagLoop && flagListIsClean) { ',
'\t\t\t\t\tif( (typeof parentData[\'_oldData\'] == \'undefined\' || !parentData[\'_oldData\']) && (typeof parentData._isNewRecord != \'undefined\' || !parentData._isRewRecord)    ) {',
'\t\t\t\t\t\tparentData._isDirty = false;',
'\t\t\t\t\t\tparentData._flagGlobalErrorInChild = false;',
'\t\t\t\t\t\tif(typeof parentList.parentList == \'undefined\') break;',
'\t\t\t\t\t\tparentList = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList.parentList);',
'\t\t\t\t\t\tif(parentList) { ',
'\t\t\t\t\t\t\tparentData = parentList.getData(parentList.selection[0]);',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tbreak;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\t\t\tvar lTop = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\t\t\tvar topParentData = lTop.getData(lTop.selection[0]);',
'\t\t\t\tlTop._resetFlags(topParentData);',
'\t\t\t\tlTop._refreshListRecursive();',
'\t\t\t}',
'\t\t\tthis.setValue(_newRow);',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\t_dlgObj.persistVariablesToLocalStorage();',
'\t\t\tthis._executeEvent(\'detailView.afterDeleteRow\',{})',
'\t\t\treturn false;',
'\t\t}',
'\t\tdata._isDirty = true;',
'\t\tdata._hasServerSideError = false;',
'\t\tdata._serverSideErrors = false;',
'\t\tdata._hasWriteConflictErrors = false;',
'\t\tdata._writeConflictErrors = false;',
'\t\tdata._oldData = false;',
'\t\tdata._isDeleted = true;',
'\t\tdata = this._base64Prefix(data,true);',
'\t\tthis.updateRow(this.selection[0],data);',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t\tthis.populateUXControls();',
'\t\tthis._refreshDebugInfo();',
'\t\tthis._executeEvent(\'detailView.afterDeleteRow\',{});',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\tvar flagIsNewRow = false;',
'\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\tif(plObj._setDirtyByChild) {',
'\t\t\t\tplObj._setDirtyByChild(false);',
'\t\t\t}',
'\t\t}',
'\t\tif(this.synchronizeImmediately) { ',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\tvar flagOnLine = _dlgObj._getOnlineStatus();',
'\t\t\tif (flagOnLine) _dlgObj.saveListEdits(this.listVariableName);',
'\t\t}',
'\t}',
'\t,',
'\t_base64Prefix: function(_d,flagRemove) { \t\tvar n = \'\';',
'\t\tvar b64prefix = \'\'',
'\t\tfor(var i = 0; i < this._listFields.length; i++) {',
'\t\t\tif(typeof this._listFields[i].base64Prefix !== \'undefined\') { ',
'\t\t\t\tn = this._listFields[i].name;',
'\t\t\t\tb64prefix = this._listFields[i].base64Prefix;',
'\t\t\t\t_d[n] = _d[n].replace(b64prefix,\'\');',
'\t\t\t\tif(!flagRemove) _d[n] = b64prefix + _d[n];',
'\t\t\t}',
'\t\t}',
'\t\treturn _d;',
'\t}',
'\t,',
'\t_resetFlags: function(_d) { \t',
'\tvar r = A5.u.object.each(_d,function(name,value,path,result) {',
'\t\tif(name == \'_isDirty\'|| name == \'_isNewRow\' ){',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_isDirty\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_isDirty\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(name == \'_hasServerSideError\' || name == \'_flagServerSideErrorInChild\' ) { ',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_flagServerSideErrorInChild\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_flagServerSideErrorInChild\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(name == \'_hasGlobalErrors\' || name == \'_flagGlobalErrorInChild\' ) { ',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_flagGlobalErrorInChild\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_flagGlobalErrorInChild\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(name == \'_hasWriteConflictErrors\' || name == \'_flagWriteConflictErrorInChild\' ) { ',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_flagWriteConflictErrorInChild\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_flagWriteConflictErrorInChild\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t});',
'\tvar _d2 = \'\';',
'\tvar path = \'\';',
'\tvar property = \'\';',
'\tfor(var i = 0; i < r.length; i++) { ',
' \t\t _d2 = _d',
' \t\tpath = JSON.parse(r[i].path)',
' \t\tproperty = r[i].property',
' \t\tfor(var j = 0; j < path.length; j++) { ',
' \t\t\t_d2 = _d2[path[j]];',
' \t\t}',
' \t\t_d2[property] = true;',
'\t}',
'}',
',',
'\tresetForm: function() { \t\tif(this._executeEvent(\'detailView.canUndoEdits\',{}) == false) return false;',
'\t\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\t\tvar flagPrompt = typeof ops.prompt != \'undefined\' ? ops.prompt : true;',
'\t\tif(!flagPrompt) {',
'\t\t\tthis._resetFormLow();',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar classInst = this;',
'\t\tvar msg = this.customization.dv.confirmFormResetWarning.message;',
'\t\tvar image = this.customization.dv.confirmFormResetWarning.icon;',
'\t\tvar title = this.customization.dv.confirmFormResetWarning.title;',
'\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\tA5.msgBox.show(title,msg,\'yn\',function(button) {',
'\t\t\tif(button == \'yes\'){',
'\t\t\t\tclassInst._resetFormLow();    ',
'\t\t    } else if(button == \'no\'){',
'   \t\t\t}',
'   \t\t\tdelete classInst;',
'\t\t} );',
'\t}',
'\t,',
'\t_resetFormLow: function() {\t\tthis.populateUXControls();',
'\t\tvar ctrls = this._getControlsInDv();',
'\t\tvar eleId = \'\';',
'\t\tvar arr = [];',
'\t\tvar indx = -1;',
'\t\tfor(var i = 0; i < ctrls.length; i++) {',
'\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setControlDirty(ctrls[i],false);',
'\t\t\tif( window[this._hostComponentId + \'_DlgObj\']._eh._e.length > 0) {',
'\t\t\t\teleId = this._hostComponentId +  \'.V.R1.\' + ctrls[i].toUpperCase();',
'\t\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(window[this._hostComponentId + \'_DlgObj\']._eh._e,\'id\',eleId);',
'\t\t\t\tif(indx >= 0 ) arr.push(eleId);',
'\t\t\t}',
'\t\t}',
'\t\tif(arr.length > 0) window[this._hostComponentId + \'_DlgObj\'].clearErrors(arr);',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj.refreshClientSideComputations();',
'\t\tthis._executeEvent(\'detailView.afterUndoEdits\',{});',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj.persistVariablesToLocalStorage();',
'\t}',
'\t,',
'\tdetailViewIsDirty: function() {\t\t',
'\t\tvar flagDrillDown = typeof arguments[0] != \'undefined\' ? arguments[0] : false;',
'\t\tvar isDirty = false;',
'\t\tthis._nameOfListWithDirtyDetailView = \'\';',
'\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\tif(window[this._hostComponentId + \'_DlgObj\'].getControlDirty(controlName.toUpperCase())) {',
'\t\t\t\tisDirty =  true;',
'\t\t\t\tthis._nameOfListWithDirtyDetailView = this.listVariableName;',
'\t\t\t\tbreak;',
'\t\t\t}',
'\t\t}',
'\t\tthis._dvIsDirty = isDirty;',
'\t\tif(isDirty == false && flagDrillDown) {',
'\t\t\tvar lObj = \'\';',
'\t\t\tfor(var i = 0; i < this.childLists.length; i++) {',
'\t\t\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\t\t\tif(lObj) {',
'\t\t\t\t\tisDirty = lObj.detailViewIsDirty(flagDrillDown);',
'\t\t\t\t\tif(isDirty) {',
'\t\t\t\t\t\tthis._nameOfListWithDirtyDetailView = lObj._nameOfListWithDirtyDetailView;',
'\t\t\t\t\t\t$(\'msg1\').innerHTML = this._nameOfListWithDirtyDetailView ;',
'\t\t\t\t\t}',
'\t\t\t\t\tif(isDirty) break;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\treturn isDirty;',
'\t}',
'\t,',
'\tlistIsDirty: function() {\t\t',
'\t\tfor(var i = 0; i < this._data.length; i++) { ',
'\t\t\tif(typeof this._data[i]._isDirty != \'undefined\') { ',
'\t\t\t\tif(this._data[i]._isDirty) { ',
'\t\t\t\t\treturn true;',
'\t\t\t\t }',
'\t\t\t}',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_parentListHasActiveRow: function() {\t\tvar pl = this.parentList;',
'\t\tif(typeof pl == \'undefined\') {',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar l = window[this._hostComponentId + \'_DlgObj\'].getControl(pl);',
'\t\tvar s = l.selection[0];',
'\t\tif(typeof s == \'undefined\') return false;',
'\t\treturn true;',
'\t}',
'\t,',
'\tnullOutDetailViewRecord: function() {\t\tvar flagDisable = typeof arguments[0] != \'undefined\' ? arguments[0] : false;',
'\t\tvar val = \'\';',
'\t\tvar flagParentListHasActiveRow = this._parentListHasActiveRow();',
'\t\tif(flagDisable) {',
'\t\t\tif(flagParentListHasActiveRow) flagDisable = false;',
'\t\t}',
'\t\tvar debugMsg = \'CurrentList: \' + this.listVariableName + \' - flagDisable is set to: \' + flagDisable + \' my parentList has active row: \' +  this._parentListHasActiveRow();',
'\t\tvar controlName = \'\';',
'\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setValue(controlName,val,false);',
'\t\t}',
'\t\tthis._deselectAll();',
'\t\tthis._clearServerSideErrors();',
'\t\tif(flagDisable) this.disableDetailView(true);',
'\t\telse this.disableDetailView(false)',
'\t}',
'\t,',
'\tnewDetailViewRecord: function() {\t\tvar flagParentIsDeleted = false;',
'\t\tvar pData = \'\';',
'\t\tif(this.allParentLists.length > 0) { ',
'\t\t\tfor(var i = 0; i < this.allParentLists.length; i++) {',
'\t\t\t\tpObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.allParentLists[i]);',
'\t\t\t\tif(typeof pObj.selection[0] != \'undefined\') {',
'\t\t\t\t\tpData = pObj.getData(pObj.selection[0]);',
'\t\t\t\t\tif(typeof pData._isDeleted != \'undefined\') {',
'\t\t\t\t\t\tif(pData._isDeleted) {',
'\t\t\t\t\t\t\tflagParentIsDeleted = true;',
'\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(this._executeEvent(\'detailView.canNewRecord\',{}) == false) return false;',
'\t\tvar val = \'\';',
'\t\tvar controlName = \'\';',
'\t\tvar defaultJS = \'\';',
'\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\tdefaultJS = this._listFields[i].defaultValue;',
'\t\t\tif(defaultJS != \'\') {',
'\t\t\t\tval = Function(this._listFields[i].defaultValue).call(this);',
'\t\t\t} else { ',
'\t\t\t\tval = \'\';',
'\t\t\t}',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\t_dlgObj.setValue(controlName,val,false);',
'\t\t\tvar controlType = _dlgObj._getControlType(controlName).toLowerCase();',
'\t\t\tif(controlType == \'signaturecapture\') { ',
'\t\t\t\t_dlgObj._functions._toggleCanvas(controlName.toUpperCase(),\'canvas\');',
'\t\t\t\t_dlgObj._functions._clearCanvas(controlName.toUpperCase())',
'\t\t\t}',
'\t\t}',
'\t\tthis._deselectAll();',
'\t\tthis._clearServerSideErrors();',
'\t\tthis._executeEvent(\'detailView.afterNewRecord\',{});',
'\t\tthis._emptyAllChildLists();',
'\t\tif(flagParentIsDeleted) this.disableDetailView(true);',
'\t\telse this.disableDetailView(false);',
'\t\tthis._dvmode = \'enter\';',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.modeChanged\',{mode: \'enter\'});',
'\t\t_dlgObj.refreshClientSideComputations();',
'\t\tthis._selectedRow = -1;',
'\t\tthis._currentDetailViewKey = undefined;',
'\t}',
'\t,',
'\t_emptyAllChildLists: function() { \t\tfor(var i = 0; i < this.childLists.length; i++) {',
'\t\t\tvar lobj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\t\tif(lobj) {',
'\t\t\t\tlobj._emptyList();',
'\t\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setValue(lobj.listVariableName,false);',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\t_emptyChildList: function(row) { \t',
'\t\tvar _d = this.getData(row);',
'\t\tvar lName = \'\';',
'\t\tfor(var name in _d) {',
'\t\t\tif(_d[name] != null) {',
'\t\t\t\tif(_d[name].constructor == Array) {',
'\t\t\t\t\tlName = name.split(\'__LIST__\')[1];',
'\t\t\t\t\tif(typeof lName != \'undefined\') {',
'\t\t\t\t\t\t_d[name] = [];',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\t_getUXDetailViewControlName: function(field) {\t\tif(!this._hasDetailView) {',
'\t\t\treturn \'\';',
'\t\t}',
'\t\tif(this._detailView.method == \'fieldMap\') {',
'\t\t\tfor(var i = 0; i < this._detailView.fieldMap.length; i++) { ',
'\t\t\t\tif(this._detailView.fieldMap[i].field == field) {',
'\t\t\t\t\treturn this._detailView.fieldMap[i].control;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\treturn \'\';',
'\t\t} else { ',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\tvar controlsInContainer = _dlgObj.__controlNesting[this._detailView.container];',
'\t\t\tvar indx = controlsInContainer.indexOf(field);',
'\t\t\tif(indx == -1 ) return \'\'; ',
'\t\t\telse return field;',
'\t\t}',
'\t}',
'\t,',
'\t_showGlobalError: function(txt) {\t\tvar flagShowAlerts = this.flagShowAlerts;',
'\t\tif(typeof flagShowAlerts == \'undefined\') flagShowAlerts = true;',
'\t\tvar gph = this._hostComponentId + \'.V.R1.\' + this._globalErrorPlaceHolder;',
'\t\tvar ele = $(gph);',
'\t\tif(!ele) {',
'\t\t\tif(flagShowAlerts) alert(txt);',
'\t\t\treturn false;',
'\t\t}',
'\t\tvar cssTxt = this._detailViewGlobalErrorStyle;',
'\t\tcssTxt = cssTxt + \'; display: ;\'',
'\t\tele.style.cssText = cssTxt;',
'\t\tele.innerHTML = txt;',
'\t}',
'\t,',
'\t_clearGlobalError: function() {\t\tvar gph = this._hostComponentId + \'.V.R1.\' + this._globalErrorPlaceHolder;',
'\t\tele = $(gph);',
'\t\tif(ele) {',
'\t\t\tele.style.display = \'none\';',
'\t\t\tele.innerHTML = \'\';',
'\t\t}',
'\t}',
'\t,',
'\tupdateTableRow: function(primaryKeyOrRowNumber,dataObj,options) {\t\tif(typeof options == \'undefined\') options = {};',
'\t\tif(typeof options.setFocusToTargetRow == \'undefind\') options.setFocusToTargetRow = false;',
'\t\tvar obj = {};',
'\t\tobj.programmatic = true;',
'\t\tobj.data = {};',
'\t\t$u.o.assign(obj.data,dataObj);',
'\t\tobj.primaryKeyOrRowNumber = primaryKeyOrRowNumber;',
'\t\tobj.setFocusToTargetRow = options.setFocusToTargetRow;',
'\t\twindow[this._hostComponentId + \'_DlgObj\']._updateListDataFromUXControls(this.listVariableName,null,obj);',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\tvar thisData = obj.data;',
'\t\t\tvar flagIsNewRow = false;',
'\t\t\tif(typeof thisData._isNewRow != \'undefined\') flagIsNewRow = thisData._isNewRow;',
'\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\tif(plObj._setDirtyByChild) {',
'\t\t\t\tif (flagIsNewRow == false)  \tplObj._setDirtyByChild(false);',
'\t\t\t\telse plObj._setDirtyByChild(true,thisData,this.listVariableName);',
'\t\t\t}',
'\t\t}\t',
'\t}',
'\t,',
'\taddTableRow: function(dataObj,options) {\t\tvar flagRefresh = false;',
'\t\tif(typeof options == \'undefined\') {',
'\t\t\toptions = {};',
'\t\t}',
'\t\tif(typeof options.setFocusToTargetRow == \'undefind\') options.setFocusToTargetRow = false;',
'\t\tvar obj = {};',
'\t\tobj.programmatic = true;',
'\t\tobj.data = {};',
'\t\t$u.o.assign(obj.data,dataObj);',
'\t\tobj.primaryKeyOrRowNumber = null;',
'\t\tobj.setFocusToTargetRow = options.setFocusToTargetRow;',
'\t\tif(typeof options.insertRow == \'undefined\') options.insertRow = false;\t\t',
'\t\tobj.insertRow = options.insertRow;',
'\t\tobj.insertRowPosition = options.insertPosition;',
'\t\tvar _dlg = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlg._updateListDataFromUXControls(this.listVariableName,null,obj);',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\tvar thisData = obj.data;',
'\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\tif(plObj._setDirtyByChild) {',
'\t\t\t\tplObj._setDirtyByChild(true,thisData,this.listVariableName);',
'\t\t\t}',
'\t\t}',
'\t\t_dlg.refreshClientSideComputations();',
'\t}',
'\t,',
'\t_setChildHasWriteConflictFlag: function() { ',
'\tvar _d = this.getData(this.selection[0]);',
'\tvar flag = this._hasChildWithWriteConflict(); ',
'\t_d._flagWriteConflictErrorInChild = flag;',
'\tif(typeof _d._oldData == \'undefined\') { ',
'\t\tvar flag = this._hasChildWithDirtyData()',
'\t\t_d._isDirty = flag; ',
'\t}',
'\tthis.updateRow(this.selection[0],_d);',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') { ',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\tlObj._setChildHasWriteConflictFlag();',
'\t}',
'\treturn false;',
'}',
',',
'\t_hasChildWithDirtyData: function() {',
'\tvar flag = false;',
'\tvar lObj = \'\';',
'\tvar data = \'\';',
'\tfor (var i = 0; i < this.childLists.length; i++) { ',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\tdata = lObj.getData(lObj.selection[0]);',
'\t\tif(typeof data._isDirty != \'undefined\') {',
'\t\t\tif(data._isDirty) flag = true;',
'\t\t}',
'\t\tif(flag == false) { ',
'\t\t\tvar flag2 = lObj._hasChildWithDirtyData();',
'\t\t\tif(flag2) flag = true;',
'\t\t}',
'\t}',
'\treturn flag;',
'}',
',',
'\t_hasChildWithWriteConflict: function() {',
'\tvar flag = false;',
'\tvar lObj = \'\';',
'\tvar data = \'\';',
'\tfor (var i = 0; i < this.childLists.length; i++) { ',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\tdata = lObj.getData(lObj.selection[0]);',
'\t\tif(typeof data._hasWriteConflictErrors != \'undefined\') {',
'\t\t\tif(data._hasWriteConflictErrors) flag = true;',
'\t\t}',
'\t\tif(typeof data._flagWriteConflictErrorInChild != \'undefined\') {',
'\t\t\tif(data._flagWriteConflictErrorInChild) flag = true;',
'\t\t}',
'\t\tif(flag == false) { ',
'\t\t\tvar flag2 = lObj._hasChildWithWriteConflict();',
'\t\t\tif(flag2) flag = true;',
'\t\t}',
'\t}',
'\treturn flag;',
'}',
',',
'\t_populateMyChildren: function() {',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tthis._populateChildList(lname);',
'\t}',
'}',
',',
'\t_emptyList: function() { ',
'\tthis.populate([]);',
'\tthis._currentDetailViewKey = undefined;',
'\tthis._selectedRow = -1;',
'\tvar e = $(this._hostComponentId + \'.\' + this.listVariableNameTrueCase + \'.RECORDCOUNT\');',
'\tif(e) e.innerHTML = \'0\';',
'\tthis.nullOutDetailViewRecord(true); ',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lobj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tlobj._emptyList();',
'\t}',
'}',
',',
'\t_populateChildList: function(list) {',
'\tvar flagParentIsDeleted = false;',
'\tlChildObj = window[this._hostComponentId + \'_DlgObj\'].getControl(list);',
'\tif(typeof lChildObj._parentIsDeleted != \'undefined\') flagParentIsDeleted = lChildObj._parentIsDeleted;',
'\tvar _d = this.selectionData[0];',
'\tvar flagClearChildLists = false;',
'\tif(typeof _d == \'undefined\') {',
'\t\tflagClearChildLists = true;',
'\t}',
'\tif(typeof _d == \'undefined\') {',
'\t\tflagClearChildLists = true;',
'\t}',
'\tif(flagClearChildLists) { ',
'\t\tthis._emptyAllChildLists()',
'\t\treturn false;',
'\t}',
'\tvar childDataObjectName = this._getChildDataObjectName(list);',
'\tvar _rd = _d[childDataObjectName];',
'\tif(_rd == null) { ',
'\t\t_rd = [];',
'\t}',
'\tif(typeof _rd == \'undefined\' || _rd.length == 0) {',
'\t\t_d[childDataObjectName] = [];',
'\t\t_rd = _d[childDataObjectName]',
'\t}',
'\tvar lobj = window[this._hostComponentId + \'_DlgObj\'].getControl(list);',
'\tif(lobj) {',
'\t\tlobj.populate(_rd);',
'\t\tvar e = $(this._hostComponentId + \'.\' + lobj.listVariableNameTrueCase + \'.RECORDCOUNT\');',
'\t\tif(e) e.innerHTML = _rd.length;',
'\t\tlobj.disableDetailView(false);',
'\t\tif(lobj.allowNullSelection) {',
'\t\t\tif(lobj.nullOutDetailViewRecord) lobj.nullOutDetailViewRecord(true); ',
'\t\t\tfor(var i = 0; i < lobj.childLists.length; i++) { ',
'\t\t\t\tvar lname = lobj.childLists[i];',
'\t\t\t\tlobj._populateChildList(lname);',
'\t\t\t}',
'\t\t}',
'\t}',
'\tthis._currentSelection = this.selection[0];',
'\tif(flagParentIsDeleted) lobj.disableDetailView(true);',
'}',
',',
'\t_setSynchProgress: function(pct) {',
'\tvar x = \'\';',
'\tif(Number(pct) == 0) x = \'none\';',
'\tvar eleO = $(\'SYNCHPROGRESS.\' + this.listVariableName);',
'\tif(eleO) eleO.style.display = \'\';',
'\tvar eleI = $(\'SYNCHPROGRESS.\' + this.listVariableName + \'.SLIDER\');',
'\tif(eleI) {',
'\t\teleI.style.display = x;',
'\t\teleI.style.width = \'\' + pct + \'%\';',
'\t}',
'}',
',',
'\t_hideSynchProgress: function(pct) {',
'\tvar eleO = $(\'SYNCHPROGRESS.\' + this.listVariableName);',
'\tif(eleO) eleO.style.display = \'none\';',
'}',
',',
'\t_cancelBatchSynchronize: function() { ',
'\tvar flag = this._executeEvent(\'detailView.canCancelBatch\',{});',
'\tif(!flag) { ',
'\t\treturn false;',
'\t}',
'\tthis._flagCancelBatchSynchronize = true;',
'}',
',',
'\t_harvestMediaFields_low: function(arr,objListName,objState,data,options) {',
'\tvar _mediaMap = \'\';;',
'\tvar _mediaFields = \'\';',
'\tvar listName = \'\';',
'\tvar lObj = \'\';',
'\tvar flagNested = false;',
'\tvar objDirty = false;',
'\tvar fieldDirty = false;',
'\tvar lName = \'\';',
'\tvar flagCheck = \'\';',
'\tvar flagIsMediaField = false;',
'\tvar mode = options.mode;',
'\tif(typeof mode == \'undefined\') mode = \'\';',
'\tvar flagCapture = false;',
'\tvar flagCapture2 = false;',
'\tvar flagChildTable = false;',
'\tfor(var prop in data) { ',
'\t\tif(prop == \'_dirtyImages\') continue;',
'\t\tif( data[prop] != null && data[prop].constructor == Array) { ',
'\t\t\tif(data[prop].length > 0) { ',
'\t\t\t\tobjListName.push({table: prop, nested: true});',
'\t\t\t\tfor(var i = 0; i < data[prop].length; i++) { ',
'\t\t\t\t\tobjState.push( {table: objListName[  objListName.length -1][\'table\'], row: i}) ;',
'\t\t\t\t\tthis._harvestMediaFields_low(arr,objListName,objState,data[prop][i],options);',
'\t\t\t\t\tobjState.pop();',
'\t\t\t\t}',
'\t\t\t\tobjListName.pop();',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tif(objListName.length == 0) { ',
'\t\t\t\tcontinue;',
'\t\t\t}',
'\t\t\tlistName   = objListName[objListName.length -1][\'table\'];',
'\t\t\tflagNested = objListName[objListName.length -1][\'nested\'];',
'\t\t\tif(listName == \'_top_\') {',
'\t\t\t\tlObj = this;',
'\t\t\t\tflagChildTable = false;',
'\t\t\t} else { ',
'\t\t\t\tlistName = listName.split(\'__LIST__\')[1];',
'\t\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\t\tlObj = _dlgObj.getControl(listName);',
'\t\t\t\tflagChildTable = true;',
'\t\t\t}',
'\t\t\tif(lObj) { ',
'\t\t\t\tflagCheck = true;',
'\t\t\t\t_mediaMap = lObj._mediaFields;  ',
'\t\t\t\tflagIsMediaField = false;',
'\t\t\t\tif(!options.flagDirtyOnly) {',
'\t\t\t\t\tif(_mediaMap.indexOf(prop) > -1) flagIsMediaField = true;',
'\t\t\t\t\tif(flagIsMediaField) { ',
'\t\t\t\t\t\tlName = objListName[objListName.length -1][\'table\'];',
'\t\t\t\t\t\tif(lName == \'_top_\') lName = lObj.listVariableName;',
'\t\t\t\t\t\tflagCapture = false;',
'\t\t\t\t\t\tif(mode == \'\') { ',
'\t\t\t\t\t\t\tif(data[prop] != null && data[prop] != \'\' && data[prop].toLowerCase().indexOf(\'file:\') != 0) flagCapture = true;',
'\t\t\t\t\t\t} else if(mode == \'file\') { ',
'\t\t\t\t\t\t\tif(data[prop] != null && data[prop] != \'\' && data[prop].toLowerCase().indexOf(\'file:\') == 0) flagCapture = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tif(flagCapture) {',
'\t\t\t\t\t\t\tarr.push({',
'\t\t\t\t\t\t\t\tlistFieldName: prop, ',
'\t\t\t\t\t\t\t\tfilename: data[prop], ',
'\t\t\t\t\t\t\t\tlistName: lName, ',
'\t\t\t\t\t\t\t\troute: JSON.stringify(objState),',
'\t\t\t\t\t\t\t\tflagChildTable: flagChildTable',
'\t\t\t\t\t\t\t\t});',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\tif(flagCheck) {',
'\t\t\t\t\t\tfieldDirty = false;',
'\t\t\t\t\t\tif(typeof data._dirtyImages != \'undefined\') {',
'\t\t\t\t\t\t\tobjDirty = data._dirtyImages[prop];',
'\t\t\t\t\t\t\tfieldDirty = false;',
'\t\t\t\t\t\t\tif(typeof objDirty != \'undefined\') fieldDirty = objDirty;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(data._isNewRow) {',
'\t\t\t\t\t\t\t\tfieldDirty = true;',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\tif(typeof data._oldData != \'undefined\') { ',
'\t\t\t\t\t\t\t\t\tif(data[prop] != data._oldData[prop]) fieldDirty = true;',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\t_mediaMap = lObj._mediaFields;',
'\t\t\t\t\t\tif(_mediaMap.indexOf(prop) > -1) flagIsMediaField = true;',
'\t\t\t\t\t\tif(flagIsMediaField) { ',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tflagCapture2 = false;',
'\t\t\t\t\t\tif(options.flagCleanOnly) { ',
'\t\t\t\t\t\t\tif(!fieldDirty) {',
'\t\t\t\t\t\t\t\tif(flagIsMediaField) flagCapture2 = true;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(fieldDirty) { ',
'\t\t\t\t\t\t\t\tif(flagIsMediaField) flagCapture2 = true;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tif( ( ( flagCapture2 )   && data[prop] != null &&  data[prop].toLowerCase().indexOf(\'file:\') == 0 ) ) {',
'\t\t\t\t\t\t\tlName = objListName[objListName.length -1][\'table\'];',
'\t\t\t\t\t\t\tif(lName == \'_top_\') {',
'\t\t\t\t\t\t\t\tlName = lObj.listVariableName;',
'\t\t\t\t\t\t\t\tflagChildTable = false;',
'\t\t\t\t\t\t\t} else  { ',
'\t\t\t\t\t\t\t\tflagChildTable = true;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tarr.push({',
'\t\t\t\t\t\t\t\tlistFieldName: prop, ',
'\t\t\t\t\t\t\t\tfilename: data[prop], ',
'\t\t\t\t\t\t\t\tlistName: lName, ',
'\t\t\t\t\t\t\t\troute: JSON.stringify(objState),',
'\t\t\t\t\t\t\t\tflagChildTable: flagChildTable',
'\t\t\t\t\t\t\t\t});',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'}',
',',
'\t_harvestMediaFields: function() {   ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return [];',
'\tvar ops = arguments[0];',
'\tif(typeof ops == \'undefined\') ops = {};',
'\tif(typeof ops.dirtyOnly == \'undefined\') ops.dirtyOnly = true;',
'\tif(typeof ops.cleanOnly == \'undefined\') ops.cleanOnly = false;',
'\tif(typeof ops.mode == \'undefined\') ops.mode = \'\';',
'\tvar _r = ops.row;',
'\tif(typeof _r == \'undefined\') _r = -1;',
'\tvar arr = [];',
'\tvar objListName = [];',
'\tvar objState = [];',
'\tvar flagRowIsDirty = \'\';',
'\tvar flagDirtyOnly = ops.dirtyOnly;',
'\tvar options = {',
'\t\tflagDirtyOnly: flagDirtyOnly,',
'\t\tmode: ops.mode,',
'\t\tflagCleanOnly: ops.cleanOnly',
'\t};',
'\tvar flagSingleRow = false;',
'\tif(_r == -1) {',
'\t\tvar _d = this._data;',
'\t} else { ',
'\t\tvar _d = [this._data[_r]];',
'\t\tflagSingleRow = true;',
'\t}',
'\tvar _row = \'\';',
'\tobjListName.push({table: \'_top_\', nested: false});\t',
'\tfor(var i = 0; i < _d.length; i++) { ',
'\t\tflagRowIsDirty = false;',
'\t\tif(typeof _d[i]._isDirty != \'undefined\') flagRowIsDirty = _d[i]._isDirty;',
'\t\tif(flagRowIsDirty || !flagDirtyOnly || ops.cleanOnly ) { ',
'\t\t\t_row = i;',
'\t\t\tif(flagSingleRow) _row = _r;',
'\t\t\tobjState.push( {table: objListName[  objListName.length -1][\'table\'], row: _row})  ',
'\t\t\tthis._harvestMediaFields_low(arr,objListName,objState,_d[i],options);',
'\t\t\tobjState.pop();\t\t',
'\t\t}',
'\t}\t',
'\tif (!ops.cleanOnly) this._mediaFieldsArray = arr;',
'\treturn arr;',
'}',
',',
'\t_pushMediaFieldArrayToList: function(arr) { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar flagUnFix = false;',
'\tif(typeof arguments[1] != \'undefined\') flagUnFix = arguments[1];',
'\tvar lObj = this;',
'\tvar _data = lObj._data;',
'\tvar _di = \'\';',
'\tvar r = \'\';',
'\tvar table = \'\';',
'\tfor(var i = 0; i < arr.length; i++) { ',
'\t\tarr[i].routeObj = JSON.parse(arr[i].route);',
'\t\tr = arr[i].routeObj[0].row',
'\t\tfor(var j = 0; j < arr[i].routeObj.length; j ++) { ',
'\t\t\ttable = arr[i].routeObj[j].table;',
'\t\t\tr = arr[i].routeObj[j].row',
'\t\t\tif(table == \'_top_\') { ',
'\t\t\t\t_di = _data[r];',
'\t\t\t} else { ',
'\t\t\t\t_di = _di[table][r];',
'\t\t\t}',
'\t\t}',
'\t\tif(typeof _di == \'undefined\') return false;',
'\t\t_di._flagMediaFileUploadError = false;',
'\t\tif(!flagUnFix) {',
'\t\t\tif(typeof arr[i].modifiedValue != \'undefined\') {',
'\t\t\t\t_di[arr[i].listFieldName] = arr[i].modifiedValue;',
'\t\t\t} else { ',
'\t\t\t\t_di._flagMediaFileUploadError = true;',
'\t\t\t}',
'\t\t} else { ',
'\t\t\t_di[arr[i].listFieldName] = arr[i].filename;',
'\t\t}',
'\t}',
'\tvar _route = lObj._getRoute();',
'\tlObj.refresh();',
'\tthis._setRoute(_route);',
'\tif(flagUnFix) {',
'\t\tthis.populateUXControls();',
'\t}',
'}',
',',
'\t_unFixMediaFields: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar arr = this._mediaFieldsArray;',
'\tif(typeof arr == \'undefined\') return false;',
'\tthis._pushMediaFieldArrayToList(arr,true);',
'\tdelete this._mediaFieldsArray;',
'}',
',',
'\t_syncMediaFiles: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar _list = this._mediaFiles;',
'\tvar listName = this.listVariableName;',
'\tvar componentAlias = this._hostComponentId;',
'\tvar target = this._phoneGap.mediaFiles.target.toLowerCase();',
'\tif(target == \'s3\') {',
'\t\tvar S3ConnectionString = this._phoneGap.mediaFiles.s3.connectionString;',
'\t} else { ',
'\t\ttarget = \'alphaanywhere\';',
'\t}',
'\tvar targetFileNameFunction = this._phoneGap.mediaFiles.targetFilenameFunction;',
'\tvar protectedRead = this._phoneGap.mediaFiles.protectedRead;',
'\tvar fileNameTemplate = this._phoneGap.mediaFiles.template;',
'\tvar instanceId = A5.ts();',
'\tif(typeof device != \'undefined\') {',
'\t\tif(typeof device.uuid != \'undefined\') instanceId = device.uuid;',
'\t}',
'\ttargetFileNameFunction = targetFileNameFunction.replace(\'<DeviceId>\',instanceId);',
'\tvar showProgress = this._phoneGap.mediaFiles.showProgress;',
'\tvar onErrorFunction = this._phoneGap.mediaFiles.onErrorFunction;',
'\tvar pColor = \'\';',
'\tvar pElement = \'\';',
'\tvar pWidth = \'\';',
'\tif(showProgress) { ',
'\t\tpColor = this._phoneGap.mediaFiles.progress.color;',
'\t\tpElement = this._phoneGap.mediaFiles.progress.element;',
'\t\tpWidth = this._phoneGap.mediaFiles.progress.width;',
'\t}',
'\tvar arr = _list;',
'\tvar s3Obj = {};',
'\tvar aaObj = {}',
'\tif(target == \'s3\') {',
'\t\ts3Obj.connectionString = S3ConnectionString;',
'\t\ts3Obj.protectedRead = false;',
'\t} else { ',
'\t}',
'\tvar options = {',
'\t\tspecialMode: \'detailViewMediaUpload\',',
'\t\ttarget: target,',
'\t\tlistName: listName,',
'\t\tcomponentAlias: componentAlias,',
'\t\tAAServerOptions: aaObj,',
'\t\ts3: s3Obj,',
'\t\tshowProgress: showProgress,',
'\t\tonComputeS3Filename: Function(\'e\',targetFileNameFunction),',
'\t\tfileNameTemplate: fileNameTemplate,',
'\t\tonComplete: function(array) { ',
'\t\t\tif(target == \'alphaanywhere\') {',
'\t\t\t} else {',
'\t\t\t\tvar mVal = \'\';',
'\t\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\t\tmVal = this.fileNameTemplate.replace(\'__name__\',array[i].targetName);',
'\t\t\t\t\tarray[i].modifiedValue = mVal;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tvar _dlgObj = window[this.componentAlias + \'_DlgObj\'];',
'\t\t\tvar lObj = _dlgObj.getControl(listName);',
'\t\t\tlObj._pushMediaFieldArrayToList(array);',
'\t\t\tvar _dlgObj = window[options.componentAlias + \'_DlgObj\'];',
'\t\t\t_dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesUploaded\',{array:array});',
'\t\t\tvar countSucceeded = 0;',
'\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\tif(array[i].succeeded) countSucceeded = countSucceeded + 1;',
'\t\t\t}',
'\t\t\tif(countSucceeded < array.length) { ',
'\t\t\t\tvar errorCount = array.length - countSucceeded;',
'\t\t\t\t_dlgObj._list_executeEvent(listName,\'detailView.onMediaFilesUploadErrors\',{array:array, errorCount: errorCount})',
'\t\t\t}',
'\t\t\t_dlgObj.saveListEdits(options.listName,{rows: \'allRows\', checkForMediaFiles: false, fixMediaFileReferences: true, resetMediaFileUploadErrors: false});',
'\t\t},',
'\t\tprogress: {',
'\t\t\tcolor: pColor,',
'\t\t\twidth: pWidth,',
'\t\t\tindividualProgress: false,',
'\t\t\tshowTotalProgress: true,',
'\t\t\tallowCancel: false,',
'\t\t\tprogressElement: pElement',
'\t\t},',
'\t\tonError : onErrorFunction',
'\t}',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar result = _dlgObj._list_executeEvent(listName,\'detailView.beforeMediaFilesUploaded\',{array:arr});',
'\tif(!result) return false;',
'\t_dlgObj.phoneGapFileUpload(arr,options);',
'}',
',',
'\t_fetchMediaFiles: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tif (typeof this._mediaFields == \'undefined\') return false;',
'\tvar _route = arguments[1];',
'\tif(typeof _route == \'undefined\') _route = false;',
'\tvar _r = arguments[0];',
'\tif(typeof  _r == \'undefined\') _r = -1; ',
'\tvar flagFetchMediaFiles = false;',
'\tif(typeof this._phoneGap != \'undefined\') { ',
'\t\tif(typeof this._phoneGap.mediaFiles != \'undefined\') { ',
'\t\t\tif(typeof this._phoneGap.mediaFiles.download != \'undefined\') {',
'\t\t\t\tif(typeof this._phoneGap.mediaFiles.download.autodownloadFilesOnPullSynch != \'undefined\') { ',
'\t\t\t\t\tflagFetchMediaFiles = this._phoneGap.mediaFiles.download.autodownloadFilesOnPullSynch;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(!flagFetchMediaFiles) return false;',
'\tvar folder = this._phoneGap.mediaFiles.download.targetFolder;',
'\tif(folder == \'\') { ',
'\t\talert(\'You have not specified the file download settings in the List builder. Edit the settings for List \'+this.listVariableName+\' and go to \\\'Detail View\\\' pane, \\\'PhoneGap Properties\\\'.\');',
'\t\treturn false;',
'\t}',
'\tthis._flagFetchMediaHasRun = true;',
'\tfolder = folder + \'/\' + this.listVariableName;',
'\tvar listName = this.listVariableName;',
'\tvar showProgress = this._phoneGap.mediaFiles.download.showProgress;',
'\tvar pColor = \'\';',
'\tvar pElement = \'\';',
'\tvar pWidth = \'\';',
'\tif(showProgress) { ',
'\t\tpColor = this._phoneGap.mediaFiles.download.progress.color;',
'\t\tpElement = this._phoneGap.mediaFiles.download.progress.element;',
'\t\tpWidth = this._phoneGap.mediaFiles.download.progress.width;',
'\t}',
'\tvar flagDeleteOrphans = false;',
'\tif(typeof this._phoneGap.mediaFiles.download.deleteOrphansAfterSync != \'undefined\') flagDeleteOrphans =this._phoneGap.mediaFiles.download.deleteOrphansAfterSync;',
'\tvar arr = this._harvestMediaFields({dirtyOnly: false, row: _r});',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar result = _dlgObj._list_executeEvent(listName,\'detailView.beforeMediaFilesDownloaded\',{array:arr});',
'\tif(!result) { ',
'\t\t_dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesDownloaded\',{array:array, aborted: true});',
'\t\treturn false;',
'\t}',
'\tif(arr.length > 0 ) { ',
'\t\tvar lObj = this;',
'\t\tvar _dlgObj = _dlgObj;',
'\t\tvar that = this;',
'\t\tvar options = {',
'\t\t\ttargetFolder: folder,',
'\t\t\tshowProgress: showProgress,',
'\t\t\tonComplete: function(array) { ',
'\t\t\t\tvar arr = [];',
'\t\t\t\tvar _d = lObj._data;',
'\t\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\t\tif(array[i].success) {',
'\t\t\t\t\t\tarray[i].modifiedValue = array[i].localFilename;',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tarray[i].modifiedValue = array[i].filename;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar result = _dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesDownloaded\',{array:array, aborted: false});',
'\t\t\t\tif(!result) return false;',
'\t\t\t\tlObj._pushMediaFieldArrayToList(array);',
'\t\t\t\tif(flagDeleteOrphans) { ',
'\t\t\t\t\tthat._deleteOrphanMediaFiles()',
'\t\t\t\t}',
'\t\t\t\tthat.populateUXControls();',
'\t\t\t\tif(_route) {',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t\tthat.populateUXControls();',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t\tthat._populateAllChildLists();',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t}',
'\t\t\t},',
'\t\t\tprogress: {',
'\t\t\t\tcolor: pColor,',
'\t\t\t\twidth: pWidth,',
'\t\t\t\tallowCancel: false,',
'\t\t\t\tprogressElement: pElement',
'\t\t\t}',
'\t\t}',
'\t\t_dlgObj.phoneGapFileDownload(arr,options);\t',
'\t} else { ',
'\t\t _dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesDownloaded\',{array:arr});',
'\t}',
'}',
',',
'\tresolveFieldConflict: function(route,fieldName,oldValueCurrent,newValueMine) { ',
'\tvar _d = this._getDataFromRoute(route);',
'\tvar _routeCapture = this._getRoute();',
'\tif(!_d) return false;',
'\tif(typeof _d[fieldName] == \'undefined\') return false;',
'\tif(typeof _d[\'_oldData\'] == \'undefined\') return false;',
'\t_d[\'_oldData\'][fieldName] = oldValueCurrent;',
'\tif(typeof newValueMine != \'undefined\') {',
'\t\t_d[fieldName] = newValueMine;',
'\t} else { ',
'\t\t_d[fieldName] = oldValueCurrent;',
'\t}',
'\tif(typeof _d[\'_writeConflictErrors\'] != \'undefined\') { ',
'\t\tvar _wce = _d[\'_writeConflictErrors\'];',
'\t\tfor(var i = 0; i < _wce.length; i++)  { ',
'\t\t\tif(_wce[i].fieldName == fieldName) { ',
'\t\t\t\t_wce.splice(i,1);',
'\t\t\t}',
'\t\t}',
'\t\tif(_wce.length == 0) { ',
'\t\t\t_d[\'_hasWriteConflictErrors\'] = false;',
'\t\t\t_d[\'_writeConflictErrors\'] = false;',
'\t\t}\t',
'\t}',
'\tvar flagClean = true;',
'\tfor(var n in _d[\'_oldData\']) {',
'\t\tif(_d[\'_oldData\'][n] != _d[n]) {',
'\t\t\tflagClean = false;',
'\t\t\tbreak;',
'\t\t}',
'\t}',
'\tif(flagClean) { ',
'\t\tdelete _d[\'_oldData\'];',
'\t\tdelete _d.__displayStyle;',
'\t\t_d._isDirty = false;',
'\t\tvar flagLoop = true;',
'\t\twhile(flagLoop) { ',
'\t\t\troute.pop();',
'\t\t\troute.pop();',
'\t\t\tif(route.length == 0) {',
'\t\t\t\tbreak;',
'\t\t\t};',
'\t\t\tvar _dp = this._getDataFromRoute(route);',
'\t\t\tif(typeof _dp[\'_oldData\'] == \'undefined\') { ',
'\t\t\t\t_dp._isDirty = false;',
'\t\t\t\tdelete _dp.__displayStyle;',
'\t\t\t}',
'\t\t}',
'\t\tthis._refreshListRecursive();',
'\t}',
'}',
',',
'\t_refreshListRecursive: function() { ',
'\tthis.refresh();',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tlObj = _dlgObj.getControl(this.childLists[i]);',
'\t\tif(lObj) lObj._refreshListRecursive();',
'\t}',
'}',
',',
'\t_deleteOrphanMediaFiles: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar folder = this._phoneGap.mediaFiles.download.targetFolder;',
'\tif(folder == \'\') { ',
'\t\talert(\'You have not specified the file download settings in the List builder. Edit the settings for List \'+this.listVariableName+\' and go to \\\'Detail View\\\' pane, \\\'PhoneGap Properties\\\'.\');',
'\t\treturn false;',
'\t}',
'\tif(typeof this._flagFetchMediaHasRun == \'undefined\' || this._flagFetchMediaHasRun == false ) { ',
'\t\talert(\'Sync media files method has not yet been run\');',
'\t\treturn false;',
'\t}',
'\tif(folder.substring(0,1) == \'/\') folder = folder.substring(1);',
'\tif(folder.substr( folder.length -1,1) == \'/\') { ',
'\t\tfolder = folder.substring(0,folder.length -1);',
'\t}',
'\tfolder = folder + \'/\' + this.listVariableName;',
'\tvar that = this;',
'\tvar listName = this.listVariableName;',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar onFSSuccess = function(fs) { ',
'\t\tvar baseDirectory = fs.root.toURL();',
'\t\tbaseDirectory = baseDirectory + folder;',
'\t\tvar arr = that._harvestMediaFields({dirtyOnly: false, mode: \'file\'});',
'\t\tvar fr = []; ',
'\t\tfor( var i = 0; i < arr.length; i++) { ',
'\t\t\tfr.push(\'/\' + folder +  arr[i].filename.replace(baseDirectory,\'\'));',
'\t\t}',
'\t\tfr.sort();',
'\t\tvar _dlgObj = window[that._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj.phoneGapGetDirectoryRecurse(folder,function(array) { ',
'\t\t\tvar ff = [];',
'\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\tif(array[i].isFile) { ',
'\t\t\t\t\tff.push(array[i].fullPath);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tff.sort();',
'\t\t\tvar fd = []; ',
'\t\t\tfor(var i = 0; i < ff.length; i++) { ',
'\t\t\t\tif(fr.indexOf(ff[i]) < 0) { ',
'\t\t\t\t\tfd.push(ff[i]);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t var result = _dlgObj._list_executeEvent(listName,\'detailView.beforeDeleteOrphanMediaFiles\',{array:fd});',
'\t\t\t if(!result) return false;',
'\t\t\tvar countDeleted = 0;',
'\t\t\tvar countToDelete = fd.length;',
'\t\t\tfor(var i = 0 ; i < fd.length; i++) {\t',
'\t\t\t\tvar fn = fd[i];',
'\t\t\t\tif(fn.substring(0,1) == \'/\') fn = fn.substring(1);',
'\t\t\t\t_dlgObj.phoneGapDeleteFile(fn,function() { ',
'\t\t\t\t\tcountDeleted = countDeleted + 1;',
'\t\t\t\t\tif(countDeleted == countToDelete) { ',
'\t\t\t\t\t\t_dlgObj._list_executeEvent(listName,\'detailView.afterDeleteOrphanMediaFiles\',{array:fd});',
'\t\t\t\t\t}',
'\t\t\t\t})',
'\t\t\t}',
'\t\t});',
'\t}',
'\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess);',
'\treturn false;',
'}',
'}',
')',
'//End section - Add methods to List prototype',
'{UXPRERENDEREDALIAS}_DlgObj._listControls = [\'LIST_CONDITIONS\',\'LIST_TRIALS\']',
'{UXPRERENDEREDALIAS}_DlgObj._localStorageSettings = {namespace: \'ALPHA_CWCondition\',friendlyName: \'CenterWatch Condition Search\',description: \'Search for clinical trials by condition\',persistVariableValues: false,__version: 1,persistComponentState: false,workingPreviewTestingFolder: \'Local Storage Testing\',restore: {variables: false,data: false,state: false},compressData: true,minify: true,variablesToNotPersist: \'\',workingPreviewTestingMode: \'Browser\',compressListData: true}',
'{UXPRERENDEREDALIAS}_DlgObj.__r = [\'3rkeltoSdQc=\']',
'{UXPRERENDEREDALIAS}_DlgObj._staticHTMLMode = false',
'{UXPRERENDEREDALIAS}_DlgObj._EDITOR_EDITORSET = {};',
'{UXPRERENDEREDALIAS}_DlgObj.styleName = \'iOS7\';',
'{UXPRERENDEREDALIAS}_DlgObj.styleVersion = 3',
'{UXPRERENDEREDALIAS}_DlgObj.framesInfo = {',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._noPersist = []',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK1\',A5.d.evnts.click,function(e) {',
'CWApp.goBackToMainMenu({UXPRERENDEREDALIAS}_DlgObj);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK1\');',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_REFINE\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.showContainerWindow(this,\'WINDOW_REFINE\');',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_REFINE\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_APPLY\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.hideContainerWindow(\'WINDOW_1\');',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_APPLY\');',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_CANCEL\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.hideContainerWindow(\'WINDOW_1\');',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_CANCEL\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACKTRIALS\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_CONDITION\',true);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACKTRIALS\');',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_MAP\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.showContainerWindow(this,\'WINDOW_MAP\');',
'var mapObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'MAP_TRIALS\');',
'var lObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\');',
'CWApp.addSiteMarkers(mapObj, lObj, \'GROUPSITES\');',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_MAP\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_TRIALLIST\',true);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS\');',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_O_B10C9F8A4D6E4F38BC2F82FB8A3A17CA(1,\'1\',this);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS\');',
'',
'{UXPRERENDEREDALIAS}_DlgObj.prepare();{UXPRERENDEREDALIAS}_DlgObj.populate({UXPRERENDEREDALIAS}_DlgObj.originalValues[0]);',
'{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);',
'',
'',
'if(!A5.flags.isMobile) $e.add(window,\'resize\',{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation);',
'else $e.add(window,\'orientationchange\',{UXPRERENDEREDALIAS}_DlgObj._orientationChangeHandler,{UXPRERENDEREDALIAS}_DlgObj,true);',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation();',
'',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_PANES\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var listObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_CONDITIONS\');',
'if(listObj) listObj._state.recordCount = 843;',
'if(listObj) listObj._state.recordCountFormatted = \'843\';',
'if(listObj) listObj._state.lastBreakValue = \'<None>\';',
'if(listObj) listObj._state.pageCount = 0;',
'if(listObj) listObj._state.pageSize = 20;',
'if(listObj) {var ele = $(\'{UXPRERENDEREDALIAS}.LIST_CONDITIONS.RECORDCOUNT\'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};',
'if(listObj) listObj._state.paginated = false;',
'',
'if(listObj) listObj._state.filter = \'\';',
'if(listObj) listObj._state.having = \'\';',
'if(listObj) listObj._state.order = \'\';',
'if(listObj) listObj._state.filterParameters = \'\';',
'if(listObj) listObj._state.highlight = {  };',
'if(listObj) listObj._state.whereClause = \'\';',
'if(listObj) listObj._state.whereParameters = \'\';',
'\t\t',
'\t\tvar flagPersist = false;',
'\t\tif(typeof listObj._flagPersistDataOK != \'undefined\') { ',
'\t\t\tif(listObj._flagPersistDataOK) { ',
'\t\t\t\tvar data = listObj._data;',
'\t\t\t\tlistObj.persistToStorage({mode:\'populate\', data: data});',
'\t\t\t}',
'\t\t}',
'\t\t',
'\t\t',
';',
'{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_CONDITIONS\',\'afterRenderComplete\',{});',
'',
'if(listObj._refreshStateMessages) listObj._refreshStateMessages();',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var listObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\');',
'if(listObj) listObj._state.recordCount = 0;',
'if(listObj) listObj._state.recordCountFormatted = \'0\';',
'if(listObj) listObj._state.lastBreakValue = \'<None>\';',
'if(listObj) listObj._state.pageCount = 0;',
'if(listObj) listObj._state.pageSize = 20;',
'if(listObj) {var ele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.RECORDCOUNT\'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};',
'if(listObj) listObj._state.paginated = false;',
'',
'if(listObj) listObj._state.filter = \'\';',
'if(listObj) listObj._state.having = \'\';',
'if(listObj) listObj._state.order = \'\';',
'if(listObj) listObj._state.filterParameters = \'\';',
'if(listObj) listObj._state.highlight = {  };',
'if(listObj) listObj._state.whereClause = \'\';',
'if(listObj) listObj._state.whereParameters = \'\';',
'\t\t',
'\t\tvar flagPersist = false;',
'\t\tif(typeof listObj._flagPersistDataOK != \'undefined\') { ',
'\t\t\tif(listObj._flagPersistDataOK) { ',
'\t\t\t\tvar data = listObj._data;',
'\t\t\t\tlistObj.persistToStorage({mode:\'populate\', data: data});',
'\t\t\t}',
'\t\t}',
'\t\t',
'\t\t',
';',
'{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_TRIALS\',\'afterRenderComplete\',{});',
'',
'if(listObj._refreshStateMessages) listObj._refreshStateMessages();',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var obj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\');',
'obj._hasBeenRendered = false;',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'setTimeout(function() { },0);',
'{UXPRERENDEREDALIAS}_DlgObj._listsWithJSFuncDataSource = {};',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onInitializeComplete\');',
'{UXPRERENDEREDALIAS}_DlgObj.initialized = true;',
'',
'',
'',
'',
'',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._onRenderComplete = function() { {UXPRERENDEREDALIAS}_DlgObj._runJSOnLoad(); {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule(); }; ',
'',
'setTimeout(function() { var p = {UXPRERENDEREDALIAS}_DlgObj.panelGet(\'PANELNAVIGATOR\'); if(p._sizing == \'window\') { p._sizeWindow();} else { p.refresh(); } },100);',
'setTimeout(function() {{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onRenderComplete\'); {UXPRERENDEREDALIAS}_DlgObj.flagRenderComplete = true;  {UXPRERENDEREDALIAS}_DlgObj._restoreFromLocalStorage(); },1);',
'',
'var o2 = \'portrait\';',
'if(window.innerHeight < window.innerWidth) o2 = \'landscape\';',
'{UXPRERENDEREDALIAS}_DlgObj._screen = {h: window.innerHeight, w: window.innerWidth, o: o2};',
'',
'{UXPRERENDEREDALIAS}_DlgObj._getOnlineStatus();',
'try {',
'window.addEventListener("offline",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'window.addEventListener("online",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'} catch(err){}',
'',
'',
'setTimeout(function() {$e.execute(\'device.screen\',\'a5resize\')},1);',
'setTimeout(function() { },10);;',
'{UXPRERENDEREDALIAS}_DlgObj._activeLanguage = \'\';',
''].join('\n');
jsout = jsout.replace(/\{UXPRERENDERAJAXURL\}/g,'http://69.7.228.180/centerappv1/FINDBYCONDITION.a5wcmp?__virtualPage=__a5runDialog.a5w&__dialogFilename=FINDBYCONDITION&__alias={UXPRERENDEREDALIAS}&__unsaved=no');
jsout = jsout.replace(/\{UXPRERENDEREDALIAS\}/g,go.alias);
jsout = jsout.replace(/\{UXPRERENDEROUTPUTDIV\}/g,go.dialog2Div);
;return jsout}; 
function PRECOMPUTEDUX_a2109a1c35524da3a447228e5c1907ac_FindByLocation(go) { 
var jsout = [
'A5.u.element.setContent(\'{UXPRERENDEROUTPUTDIV}\',\'<style type="text/css">\\n</style>\\n<style>\\n</style><iframe style="display:none;" id="{UXPRERENDEREDALIAS}.__IFRAME1"></iframe>\\n<input type="hidden" value="" id="{UXPRERENDEREDALIAS}.PARAMETERBUCKET"/>\\n<input type="file" style="position:absolute; top:-1000px;visibility:hidden;" accept="image/*" id="{UXPRERENDEREDALIAS}._GETPHOTO"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" multiple = "" id="{UXPRERENDEREDALIAS}._GETFILEMULTI"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" id="{UXPRERENDEREDALIAS}._GETFILE"/><input type="hidden" id="{UXPRERENDEREDALIAS}.V.R1.LIST_STATES" name="V.R1.LIST_STATES" />\\n<input type="hidden" id="{UXPRERENDEREDALIAS}.V.R1.LIST_INTERNATIONAL" name="V.R1.LIST_INTERNATIONAL" />\\n<input type="hidden" id="{UXPRERENDEREDALIAS}.V.R1.LIST_TRIALS" name="V.R1.LIST_TRIALS" />\\n\');',
'',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {',
'\t{UXPRERENDEREDALIAS}_DlgObj._destroy();',
'\ttry {',
'\t\tdelete {UXPRERENDEREDALIAS}_DlgObj;',
'\t} catch(e) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj = undefined;',
'\t}',
'};',
';if(typeof {UXPRERENDEREDALIAS}_PanelObj != \'undefined\') {',
'\tvar ele = $({UXPRERENDEREDALIAS}_PanelObj.getPanelId());',
'\tif(ele) {',
'\t\tif(ele.parentNode) ele.parentNode.removeChild(ele);',
'\t}',
'\tdelete {UXPRERENDEREDALIAS}_PanelObj;',
'}',
';window[\'{UXPRERENDEREDALIAS}_PanelObj\'] = new A5.PanelNavigator([',
'{',
'\tname: \'PANELCARD_LOCATIONS\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_LOCATION"   \\n\\t\\t\\tclass="A5CWLayout "  style="width: 100%; height: 100%; "  >\\n<div style="width:100%;" class="A5CWLayout iOS7TabT" id="{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONS">\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONS.TABBAND" class="iOS7TabTBand">\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONS.0.TAB" class="" href="#">United States</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONS.1.TAB" class="" href="#">International</a>\\n\\t<br style="clear: both;" />\\n\\t</div>\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONS.PANES" class="iOS7TabTPanes">\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONS.0.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t\\n<div  class="iOS7List"   style="padding:0px; "  >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.LIST_STATES.CONTROL"  class="{UXPRERENDEREDALIAS}_LIST_STATES" style="overflow: auto; width: 100%; "></div>\\n</div>\\n\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONS.1.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t\\n<div  class="iOS7List"   style="padding:0px; "  >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.LIST_INTERNATIONAL.CONTROL"  class="{UXPRERENDEREDALIAS}_LIST_INTERNATIONAL" style="overflow: auto; width: 100%; "></div>\\n</div>\\n\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n</div>\\n</div><br  style="clear:both; " />\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_LOCATION.BREAK"  style="clear:both; " />\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'y\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS_LOCATION"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_LOCATION"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CENTER_LOCATION"    \\t\\t\\tclass="A5CWLayout "  style=""  > <div style="display: table; margin: auto;"> <div class="A5CWLayout" style="width: " > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.STATICTEXT_LOCATIONS" title=""  class="iOS7Heading" style="text-shadow: 2px 2px #ccc; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >Locations</div> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> </div><div style="display:none;"></div>\',',
'\t\tshow: true',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tonSize: function() {;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {var mObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_STATES\'); if(mObj) mObj.refresh();}',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {var mObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_INTERNATIONAL\'); if(mObj) mObj.refresh();}}',
'})',
'},',
'{',
'\tname: \'PANELCARD_TRIALLIST\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div class="A5CWLayout" style="width: 100%" >\\n\\t\\n<div  class="iOS7List"   style="padding:0px; "  >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.LIST_TRIALS.CONTROL"  class="{UXPRERENDEREDALIAS}_LIST_TRIALS" style="overflow: auto; width: 100%; "></div>\\n</div>\\n\\n</div>\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'y\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS_TRIALS"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_USTRIALS"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div class="A5CWLayout" style="width: " > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.STATICTEXT_LISTCLINICALTRIALS.RECORDCOUNT" title=""  class="iOS7Heading" style="text-shadow: 2px 2px #ccc; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >Locations: <span id="{UXPRERENDEREDALIAS}.LISTCLINICALTRIALS.RECORDCOUNT"></div> </div> </div><div style="display:none;"></div>\',',
'\t\tshow: true,',
'\t\tstyle: \'min-height: 40px\'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tonSize: function() {;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {var mObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\'); if(mObj) mObj.refresh();}}',
'})',
'},',
'{',
'\tname: \'PANELCARD_TRIALDETAILS\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_QUALIFY_DETAILS"   \\n\\t\\t\\tclass="A5CWLayout "  style="width: 100%; "  >\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_QUALIFY"    ></button>\\n</div>\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS"    ></button>\\n</div><br  style="clear:both; " />\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_QUALIFY_DETAILS.BREAK"  style="clear:both; " /><div  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_QUALIFY_DETAILS.BREAK"  style="height:10px; font: 0pt;"></div>\\n<div style="width:100%;" class="A5CWLayout iOS7TabT" id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES">\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.TABBAND" class="iOS7TabTBand">\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.0.TAB" class="" href="#">Overview</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.1.TAB" class="" href="#">Eligibility</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.2.TAB" class="" href="#">More Info</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.3.TAB" class="" href="#">Contact</a>\\n\\t<br style="clear: both;" />\\n\\t</div>\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.PANES" class="iOS7TabTPanes">\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.0.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_OVERVIEW" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.1.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_ELIGIBILITY" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.2.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_MOREINFO" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.3.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_CONTACT" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n</div>\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: "  id="{UXPRERENDEREDALIAS}.V.R1.LISTCLINICALTRIALS_GLOBALERRORS" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><br  style="clear:both; " />\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: false',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS_TRIALDETAILS"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CENTER_TRIALS1"    \\t\\t\\tclass="A5CWLayout "  style=""  > <div style="display: table; margin: auto;"> <div class="A5CWLayout" style="width: " > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.TEXT_DETAILS" title=""  class="iOS7Heading" style="text-shadow: 2px 2px #ccc; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >Details</div> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> </div><div style="display:none;"></div>\',',
'\t\tshow: true',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t}',
'})',
'},',
'{',
'\tname: \'PANEL_SCREENER\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div class="A5CWLayout">\\n\\t<td valign="top"><div><a class="iOS7NavigatorLink" id="3ea67298_5306_46b2_b439_c99586fa85ec_CLOSEBUTTON" href="#" onclick="$(\\\'{UXPRERENDEREDALIAS}_DIVCONTAINER_3ea67298_5306_46b2_b439_c99586fa85ec\\\').innerHTML = \\\'\\\'; $(\\\'3ea67298_5306_46b2_b439_c99586fa85ec_CLOSEBUTTON\\\').style.display = \\\'none\\\';" style="display:none;">Close</a></div><div id="{UXPRERENDEREDALIAS}_DIVCONTAINER_3ea67298_5306_46b2_b439_c99586fa85ec"></div></td>\\n</div><br  style="clear:both; " />\\n\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: false',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:none;"></div>\'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t}',
'})',
'}',
'],{',
'\ttype: \'programmatic\',',
'\tflow: \'ltr\',',
'\tloopNavigate: false,',
'\tonPanelActivate: function() {if(this.state.activePanel == \'PANELCARD_TRIALLIST\') {  setTimeout(function() { {UXPRERENDEREDALIAS}_DlgObj._initialListRender(\'LIST_TRIALS\');},5);    }',
'var panelName = this.state.activePanel;',
'if(panelName == \'PANEL_SCREENER\') {',
'\t{UXPRERENDEREDALIAS}_DlgObj._functions.runAction_3ea67298_5306_46b2_b439_c99586fa85ec();;',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.refreshClientSideComputations();},',
'\tonPanelActivateComplete: function() {if(this.state.activePanel == \'PANEL_SCREENER\') { ',
'\tvar pChild = {UXPRERENDEREDALIAS}_DlgObj.getChildObject(\'SCREENER\',\'UX\');',
'\tif(pChild) pChild._executeEvent(\'onPanelActivate\');',
'};},',
'\tonSize: function() {;if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule != \'undefined\') { ',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
'\t}',
'}},',
'\tonCreate: function() {if(this.state.activePanel == \'PANELCARD_TRIALLIST\') {  setTimeout(function() { {UXPRERENDEREDALIAS}_DlgObj._initialListRender(\'LIST_TRIALS\');},5);    }},',
'\ttheme: \'iOS7\',',
'\theader: {',
'\t\tshow: false',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tcontrols: {',
'\t\tprev: {',
'\t\t\thas: false',
'\t\t},',
'\t\tnext: {',
'\t\t\thas: false',
'\t\t},',
'\t\tback: {',
'\t\t\thas: false',
'\t\t},',
'\t\tforward: {',
'\t\t\thas: false',
'\t\t}',
'\t},',
'\tbody: {',
'\t},',
'\tanimation: {',
'\t\ttype: \'fade\',',
'\t\tduration: 400',
'\t}',
'})',
'var ele = window[\'{UXPRERENDEREDALIAS}_PanelObj\'].create(\'{UXPRERENDEREDALIAS}.R1\');',
'\t\tvar panelRootId = \'{UXPRERENDEROUTPUTDIV}\';',
'\t\tvar flagSizeToParent = true;',
'\t\tvar wf_alias = \'{UXPRERENDEREDALIAS}\';',
'\t\tif(panelRootId != \'\') { ',
'\t\t\tif (!$(panelRootId)) panelRootId = \'\';',
'\t\t}',
'\t\tif(panelRootId != \'\') { ',
'\t\t\t$(panelRootId).appendChild(ele);',
'\t\t\tif(flagSizeToParent) { ',
'\t\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'parent\');',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tdocument.body.insertBefore(ele,document.body.firstChild);',
'\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'window\');',
'\t\t}',
'{UXPRERENDEREDALIAS}_PanelObj._panelPath = {',
'\tPANELCARD_LOCATIONS: \'PANELCARD_LOCATIONS\',',
'\tPANELCARD_TRIALLIST: \'PANELCARD_TRIALLIST\',',
'\tPANELCARD_TRIALDETAILS: \'PANELCARD_TRIALDETAILS\',',
'\tPANEL_SCREENER: \'PANEL_SCREENER\'',
'}',
'{UXPRERENDEREDALIAS}_PanelObj._displayNames = {',
'PANELCARD_LOCATIONS : \'PANELCARD_LOCATIONS\',PANELCARD_TRIALLIST : \'PANELCARD_TRIALLIST\',PANELCARD_TRIALDETAILS : \'PANELCARD_TRIALDETAILS\',PANEL_SCREENER : \'PANEL_SCREENER\',PANELNAVIGATOR : \'PANELNAVIGATOR\'',
'};',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {UXPRERENDEREDALIAS}_DlgObj._destroy();',
'window[\'{UXPRERENDEREDALIAS}_DlgObj\'] = new A5.DialogComponentHelper(\'{UXPRERENDEREDALIAS}\',{',
'\tajaxURL: \'{UXPRERENDERAJAXURL}\',',
'\t_embeddedMode: false,',
'\t_livePreviewInBuilder: false,',
'\tcomponentGUID: \'b95edfd7-910c-4cd1-a357-a47cc6629036\',',
'\tcolumnInfo: {\'LIST_STATES\': {info: {controlType: \'List\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'LIST_INTERNATIONAL\': {info: {controlType: \'List\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'LIST_TRIALS\': {info: {controlType: \'List\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'\'  }},',
'\toriginalValues: [{',
'\t\'LIST_STATES\': \'\',',
'\t\'LIST_INTERNATIONAL\': \'\',',
'\t\'LIST_TRIALS\': \'\'',
'}],',
'\tdefaultValues: {',
'\tLIST_STATES: \'\',',
'\tLIST_INTERNATIONAL: \'\',',
'\tLIST_TRIALS: \'\'',
'},',
'\tdatePickerMonthNames: [\'January\',\'February\',\'March\',\'April\',\'May\',\'June\',\'July\',\'August\',\'September\',\'October\',\'November\',\'December\'],',
'\tdatePickerDayNames: [\'Sun\',\'Mon\',\'Tue\',\'Wed\',\'Thu\',\'Fri\',\'Sat\'],',
'\tdatePickerTodayButton: \'Today\',',
'\tdatePickerCloseButton: \'\',',
'\tdatePickerFirstDayOfWeek: 1,',
'\tresetFormMessage: \'Are you sure you want to reset the form?\',',
'\tresetFormTitle: \'Warning\',',
'\tresetFormIcon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\tdirtyFormMessage: \'You must first save your changes or cancel changes by clicking the Reset button.\',',
'\tdirtyFormTitle: \'Notice\',',
'\tdirtyFormIcon: \'cssIcon=iOS7Icon iOS7IconInfo\',',
'\tdeleteRecordDialogTitle: \'Delete Record\',',
'\tdeleteRecordDialogMessage: \'Are you sure you want to delete this record?\',\t',
'\tssDateFormat: \'MM/dd/yyyy\',',
'\tstyleName: \'iOS7\',',
'\t_fieldHelpers_DIALOG2: [],',
'\tparentComponentAlias: \'\'+go._thisGridAlias+\'\',',
'\tsubmitIfHasClientSideErrors: true, ',
'\trowErrors: {',
'\t\t\t\tshowMessageBox: false,',
'\t\t\t\tmessageBoxTitle: \'Error\',',
'\t\t\t\tstyle: \'color: red; width: 6in; height: 2in;\'',
'\t\t},',
'\tfieldErrors: {',
'\t\ttype: \'block\', ',
'\t\tclassName: \'errorText\',',
'\t\tinputClassName: \'iOS7EditError\',',
'\t\tedit: { ',
'\t\t\tcontainer: { className: \'iOS7EditBGError\'}',
'\t\t},',
'\t\ticon: \'cssIcon=iOS7Icon iOS7IconError\',',
'\t\tglobal: {',
'\t\t\tcontId: \'{UXPRERENDEREDALIAS}.GLOBALERRORS\',',
'\t\t\thoverClassName: \'errorTextHighlight\',',
'\t\t\thoverInputClassName: \'errorInputHighlight\'',
'\t\t}',
'\t}',
'\t});',
'{UXPRERENDEREDALIAS}_DlgObj._onOrientationChange =  function(e) { ;',
'{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
';  };',
'A5.__componentObj = {UXPRERENDEREDALIAS}_DlgObj;',
'{UXPRERENDEREDALIAS}_DlgObj._tabObjects = [\'TAB_LOCATIONS\',\'TAB_PANES\'];',
'{UXPRERENDEREDALIAS}_DlgObj._functions.runAction_3ea67298_5306_46b2_b439_c99586fa85ec = function() {',
'\t\tvar go = new Object();',
'\t\tgo.dialog2Name = \'Screener\';',
'\tgo.type = \'dialog2\';',
'\tgo.alias = \'{UXPRERENDEREDALIAS}_SCREENER\';',
'\tgo.workingMessage = \'<img src="loading.gif" />\';',
'\tgo.flagTimer = \'F\';',
'\tgo.flagQueryEcho = \'F\';',
'\tgo.flagDebugMode = \'F\';',
'\tgo.userFilter = \'\';',
'\tgo.baseFilter = \'\';',
'\tgo.userOrder = \'\';',
'\tgo.overrideSettings = \'style_name=`iOS7`\'+\'||\';',
'\tgo.arguments = \'\';',
'\tgo.localArguments = \'whatCountry|Character|RUNTIMEBINDING|Null|Null|\'+{UXPRERENDEREDALIAS}_DlgObj.getValue(\'LIST_INTERNATIONAL\')+\'||whatState|Character|RUNTIMEBINDING|Null|Null|\'+{UXPRERENDEREDALIAS}_DlgObj.getValue(\'LIST_STATES\')+\'\';',
'\tgo.linkDefinition = \'\';',
'\tgo.placeHolderValues = \'\';',
'\tgo.parameterBucket = $gvs(\'{UXPRERENDEREDALIAS}.PARAMETERBUCKET\');',
'\tgo.argumentValueBucket = $gvs(\'{UXPRERENDEREDALIAS}.ARGUMENTVALUES\');',
'\tgo.a5_default_path = \'C_colon_|A5Webroot|livepreview\';',
'\tgo.onLoadCompleteJavascript = \'\';',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.gridId != \'undefined\') go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.gridId;',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.dialogId != \'undefined\') go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.dialogId;',
'\tvar panelCardId = {UXPRERENDEREDALIAS}_DlgObj.panelGetId(\'PANEL_SCREENER\',\'body\');',
'if($(panelCardId + \'.SCROLLWRAPPER\')) panelCardId = panelCardId + \'.SCROLLWRAPPER\';',
'go.dialog2Div = panelCardId;',
'\tA5.component.runGenericComponent(go);',
'}',
'window[\'{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONSObj\'] = new A5.Tab(\'{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONS\',[',
'{ \thtml: \'United States\', \tvalue: \'1\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'International\', \tvalue: \'2\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }',
'],',
'\t{',
'\ttheme: \'iOS7\',',
'\tonChange: function() {',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_LOCATIONS\');},',
'\tpaneHeight: \'100%\'',
'}',
');',
'\twindow[\'{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONSObj\'].select(\'1\');',
'window[\'{UXPRERENDEREDALIAS}.V.R1.TAB_PANESObj\'] = new A5.Tab(\'{UXPRERENDEREDALIAS}.V.R1.TAB_PANES\',[',
'{ \thtml: \'Overview\', \tvalue: \'1\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'Eligibility\', \tvalue: \'2\', \tpaneClassName: \'+tab-pane\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'More Info\', \tvalue: \'3\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'Contact\', \tvalue: \'4\', \tonDynamicLoadDelay: 0, \tshow: true, \tdisabled: false }',
'],',
'\t{',
'\ttheme: \'iOS7\',',
'\tonChange: function() {',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_PANES\');},',
'\tpaneHeight: \'100%\'',
'}',
');',
'\twindow[\'{UXPRERENDEREDALIAS}.V.R1.TAB_PANESObj\'].select(\'1\');',
'{UXPRERENDEREDALIAS}_DlgObj.lookups = {',
'};',
'window[\'{UXPRERENDEREDALIAS}_O_B10C9F8A4D6E4F38BC2F82FB8A3A17CA\'] = function(rowNum,rowId,objEle) {',
'var windowName = \'WINDOW_bfe46e12_0bc0_4bfb_b0e7_770e6d49d275\';',
'var currWindow = {UXPRERENDEREDALIAS}_DlgObj.getWindow(windowName);',
'var go = new Object();',
'go.ajaxFailedMessage = \'\';',
'go.ajaxCallbackTimeout = {UXPRERENDEREDALIAS}_DlgObj.ajaxCallbackTimeout;',
'go.objectId = objEle.id;',
'go.dialog2Name = \'SiteMap\';',
'go.type = \'dialog2\';',
'go.alias = \'SITEMAP\';',
'go.submitCurrentFieldValues = true;',
'go.sourceGridPart = \'O\';',
'go.sourceGridRowNumber = \'1\';',
'go.workingMessage = \'<img src=\\\'loading.gif\\\' />\';',
'go.placeholderValues = \'\';',
'go.argumentBinding = \'\';',
'go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.gridId;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj.gridId != \'undefined\') go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.gridId;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj.dialogId != \'undefined\') {',
'\tgo._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.dialogId;',
'}',
'go._thisGridGUID = {UXPRERENDEREDALIAS}_DlgObj.componentGUID;',
'go._gridCurrentFilter = {UXPRERENDEREDALIAS}_DlgObj._gridFilter;',
'go._gridCurrentOrder = {UXPRERENDEREDALIAS}_DlgObj._gridOrder;',
'go._gridCurrentArguments = {UXPRERENDEREDALIAS}_DlgObj._gridArguments;',
'go._gridCurrentDBType = {UXPRERENDEREDALIAS}_DlgObj._gridDBType;',
'go.overrideSettings = \'Style_name = `iOS7`||Style_name = `iOS7`\'+\'||a5SetSessionVar(`var X`, `function() {return {UXPRERENDEREDALIAS}_DlgObj.getValue();}  ()`)\';',
'go.a5_default_path = \'C_colon_|A5Webroot|livepreview\';',
'go.windowName = windowName;',
'go.showWindowParameters = \'\';',
'var runMethod = \'ajax\';',
'if(runMethod == \'ajax\') {',
'go.ajaxFailedMessage = \'\';',
'go.ajaxCallbackTimeout = {UXPRERENDEREDALIAS}_DlgObj.ajaxCallbackTimeout;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj._onlineStatus != \'undefined\') { ',
'\tif({UXPRERENDEREDALIAS}_DlgObj._onlineStatus == \'offline\') { ',
'\t\t( function() {  }() );',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onAjaxCallbackNotAvailable\', {xbasicFunctionName: \'\', ajaxEvent: \'OpenComponent\'})',
'\t\treturn false;',
'\t}',
'}\t\t',
'};',
'if(!currWindow) {',
'\tcurrWindow = {UXPRERENDEREDALIAS}_DlgObj.createWindow(windowName,\'modeless-resizable\',',
'\t{',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'blank\',',
'\t\t\telementId: \'~\'',
'\t\t}',
'\t},',
'\theight: \'5in\',',
'\twidth: \'8in\',',
'\ttitle: {',
'\t\thtml: \'&nbsp;\',',
'\t\tlocation: \'top\',',
'\t\tdirection: \'ltr\',',
'\t\tshow: true',
'\t},',
'\tdisableMove: false,',
'\ttheme: \'iOS7\',',
'\tpointer: {',
'\t\tshow: true,',
'\t\tlocation: \'auto\'',
'\t},',
'\tonBeforeShow: function() {var cs = AUI.u.getVPSize();',
'cs.width = cs.width - 10;',
'cs.height = cs.height - 10;',
'this.setSize(cs.width+\'px\',cs.height+\'px\');',
'this.setPosition(\'center\');},',
'\tanimation: {',
'\t\tshow: {',
'\t\t\ttype: \'fade\',',
'\t\t\tduration: \'slow\'',
'\t\t},',
'\t\thide: {',
'\t\t\ttype: \'none\',',
'\t\t\tduration: \'fast\'',
'\t\t}',
'\t}',
'}',
'\t);\t\t',
'\tgo.dialog2Div  = currWindow.getWindowId(\'body\')+\'_INNERCONTENT\';',
'\tgo.dialog2Div = currWindow.getWindowId(\'body\')+\'_INNERCONTENT\';',
'\tvar arrHTML = [];',
'\tarrHTML.push(\'\');',
'\tarrHTML.push(\'<table style="width:100%;height:100%;">\');',
'\tarrHTML.push(\'<tr><td  align="center"  valign="middle"  >\');',
'\tarrHTML.push(\'<div id="\'+go.dialog2Div+\'"></div>\');',
'\tarrHTML.push(\'</td>\');',
'\tarrHTML.push(\'</tr>\');',
'\tarrHTML.push(\'</table>\');',
'\t$(currWindow.getWindowId(\'body\')).innerHTML = arrHTML.join(\'\\n\');',
'A5.component.runGenericComponent(go)',
'\tcurrWindow.show();',
'} else {',
'\t\tvar ele = \'SITEMAP.GRID_PART.FORM_CONTAINER_DIV\';',
'\tvar pele = $(ele);',
'\tif(pele) pele.innerHTML = \'<img src=\\\'loading.gif\\\' /> \';',
'\tgo.dialog2Div  = currWindow.getWindowId(\'body\')+\'_INNERCONTENT\';',
'\tgo.parentGridId = \'{UXPRERENDEREDALIAS}\';',
'\tA5.component.runGenericComponent(go)',
'\tcurrWindow.show();',
'};',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({',
'\t__dialogGuid: \'0befc0c7-be26-428e-9a46-c38945c56c13\',',
'\targumentsBoundToCotrols: \'whatCountry|Character={LIST_INTERNATIONAL}\\nwhatState|Character={LIST_STATES}\\n\',',
'\t__sgr: \'\',',
'\t__dtfmt: \'MM/dd/yyyy\',',
'\t__tfmt: \'\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControlsChildren = [];',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ \t__args_C_whatCountry: \'\', \t__args_C_whatState: \'\' });',
'A5.msgBox.theme = \'iOS7\';',
'A5.msgBox.buttonWidth = \'1in\';',
'{UXPRERENDEREDALIAS}_DlgObj._defaultWindowTitleDirection = \'ltr\';',
'{UXPRERENDEREDALIAS}_DlgObj._controlContainers = {\'LIST_STATES\' : [{ tab: \'TAB_LOCATIONS\', pane: 1}],\'LIST_INTERNATIONAL\' : [{ tab: \'TAB_LOCATIONS\', pane: 2}]}',
'{UXPRERENDEREDALIAS}_DlgObj._panelCardControls = {',
'LIST_STATES:\'PANELCARD_LOCATIONS\',',
'LIST_INTERNATIONAL:\'PANELCARD_LOCATIONS\',',
'LIST_TRIALS:\'PANELCARD_TRIALLIST\'',
'}',
'window[\'{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONSObj\'].panes[0].onChange = function() {',
'\tvar lObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_STATES\'); lObj.refresh(); ',
'\t{UXPRERENDEREDALIAS}_DlgObj._initialListRender(\'LIST_STATES\');',
'\tvar lObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_STATES\'); lObj.refresh();lObj.resize();',
'\t{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_LOCATIONS\');',
'};',
'window[\'{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONSObj\'].panes[1].onChange = function() {',
'\tvar lObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_INTERNATIONAL\'); lObj.refresh(); ',
'\t{UXPRERENDEREDALIAS}_DlgObj._initialListRender(\'LIST_INTERNATIONAL\');',
'\tvar lObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_INTERNATIONAL\'); lObj.refresh();lObj.resize();',
'\t{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_LOCATIONS\');',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._buttons = {};',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_LOCATION\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_USTRIALS\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_TRIALDETAILS\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_QUALIFY\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'See if I qualify\',',
'\tonClick: function() { /* actionJavascript:ad58af78-0a4f-48bc-95da-7fe98f7066b3 */',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANEL_SCREENER\',true);',
'},',
'\ttheme: \'iOS7\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_DIRECTIONS\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Directions to Site\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:base\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_LOCATION\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_LOCATION\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_USTRIALS\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_USTRIALS\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_TRIALDETAILS\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_QUALIFY\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_QUALIFY\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_DIRECTIONS\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS\');',
'{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_STATES\'] = {',
'\t_dataSourceType: \'Static\',',
'\t_listFields: [',
'\t{',
'\t\tname: \'State\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'State\\\');\'',
'\t},',
'\t{',
'\t\tname: \'Abbrev\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Abbrev\\\');\'',
'\t}',
'],',
'\t_searchPartHas: false,',
'\t_mediaFields: [],',
'\t_mediaTypes: {',
'},',
'\t_phoneGap: {',
'\t\tmediaFiles: {',
'\t\t\tprotectedRead: false,',
'\t\t\ttarget: \'server\',',
'\t\t\ttargetFilenameFunction: \'return \\\'<DeviceId>_\\\' +e.object.listFieldName + \\\'_\\\' + A5.ts() + \\\'_\\\' +e.name\',',
'\t\t\tshowProgress: false,',
'\t\t\tdownload: {',
'\t\t\t\tautodownloadFilesOnPullSynch: false,',
'\t\t\t\tdeleteOrphansAfterSync: false,',
'\t\t\t\ttargetFolder: \'_AAFiles\',',
'\t\t\t\tshowProgress: false',
'\t\t\t},',
'\t\t\tonErrorFunction: function(array,fileNumber,error) { }',
'\t\t}',
'\t},',
'\t_dvmode: \'enter\',',
'\t_hasDetailView: false,',
'\ttheme: \'iOS7\',',
'\tscroll: {',
'\t\taxis: \'both\',',
'\t\tindicator: {',
'\t\t\tshow: true,',
'\t\t\th: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\tleft: \'0px\',',
'\t\t\t\tright: \'0px\'',
'\t\t\t},',
'\t\t\tv: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\ttop: \'0px\',',
'\t\t\t\tbottom: \'0px\'',
'\t\t\t}',
'\t\t},',
'\t\tmomentum: {',
'\t\t\tallow: true',
'\t\t},',
'\t\tpull: {',
'\t\t\ty: \'auto\',',
'\t\t\tx: \'auto\'',
'\t\t}',
'\t},',
'\tlayout: \'Default\',',
'\tcalculateValue: function(data) {  {var _val = \'\' +A5RemoveHTMLWrapper(data.Abbrev); if((_val == \'\' ||  _val == \'undefined\'  )&& typeof data[\'*rowGUID\'] != \'undefined\') _val = \'_temporaryValue_\' + data[\'*rowGUID\']; return _val;}},',
'\tlistVariableName: \'LIST_STATES\',',
'\tlistVariableNameTrueCase: \'LIST_STATES\',',
'\t_hostComponentId: \'{UXPRERENDEREDALIAS}\',',
'\t_includeCRC: false,',
'\tallParentLists: [],',
'\t__flagPersist: false,',
'\tonBeforeUpdateRow: function(index,data){;},',
'\tonUpdateRow: function(index,data){;},',
'\tonBeforeAddRows: function(data,info){;},',
'\tonAddRows: function(data,info){;},',
'\tonBeforeRemoveRows: function(rows){;},',
'\tonRemoveRows: function(rows){;},',
'\tonListDraw: function(data,startIndex) {',
'if(A5.flags.isMobile) $e.add(this.contId+\'.CONTENT\',\'abstractdown\',function(e) {$e.preventDefault(e);});},',
'\tchildLists: [],',
'\tchildListEndpoints: [\'LIST_STATES\'],',
'\t_populateAllChildLists: function() { },',
'\tonSelect: function() {{UXPRERENDEREDALIAS}_DlgObj._listRowSelect(\'LIST_STATES\',this);',
';',
'this._selectedRow = this.selection[0];},',
'\tonClick: function() {',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'populateListState\',\'\',\'\',{deviceOfflineFunction: function() {   }});',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_TRIALLIST\', true);',
'{UXPRERENDEREDALIAS}_DlgObj._listSystemOnClick(\'LIST_STATES\',this.selection[0]);},',
'\tlayouts: {',
'\t\tDefault: {',
'\t\t\ttype: \'column\',',
'\t\t\tshowColumnTitles: true,',
'\t\t\titem: {',
'\t\t\t},',
'\t\t\tcolumns: [',
'\t\t\t\t{',
'\t\t\t\t\theader: {',
'\t\t\t\t\t\thtml: \'State\',',
'\t\t\t\t\t\tstyle: \'color: #646464; font-size: 16px;\'',
'\t\t\t\t\t},',
'\t\t\t\t\tresize: false,',
'\t\t\t\t\tdata: {',
'\t\t\t\t\t\ttemplate: \'<span id="{UXPRERENDEREDALIAS}.LIST_STATES.STATE.I.{*dataRow}">{State}</span>&nbsp;\'',
'\t\t\t\t\t},',
'\t\t\t\t\torder: \'State\',',
'\t\t\t\t\twidth: \'flex(1)\'',
'\t\t\t\t}\t\t\t',
']',
'\t\t}',
'\t},',
'\tcontent: {',
'\t\theader: {',
'\t\t\tshow: false',
'\t\t},',
'\t\tfooter: {',
'\t\t\tshow: false',
'\t\t}',
'\t},',
'\tsystemEvents: {',
'\t\tonTap: function(e) {},',
'\t\tafterAjaxCallback: function(e) {},',
'\t\tafterClientSideFilter: function(e) {},',
'\t\tbeforeServerSideSort: function(e) {},',
'\t\tafterServerSideSort: function(e) {},',
'\t\tonSwipe: function(e) {},',
'\t\tonScroll: function(e) {},',
'\t\tonPullRelease: function(e) {},',
'\t\tonPull: function(e) {},',
'\t\tonPullEnd: function(e) {},',
'\t\tafterSearchComplete: function(e) {},',
'\t\tbeforeSearch: function(e) {},',
'\t\tonSearchResultTooLarge: function(e) {},',
'\t\tonSearchResultTooLargeForLocalStorage: function(e) {},',
'\t\tonBeforePersistToLocalStorage: function(e) {},',
'\t\tonPersistToLocalStorage: function(e) {},',
'\t\tonRestoreFromLocalStorage: function(e) {},',
'\t\tafterRenderComplete: function(e) {},',
'\t\tbeforeFetchMore: function(e) {},',
'\t\tafterFetchMore: function(e) {},',
'\t\tbeforePageNavigate: function(e) {},',
'\t\tafterPageNavigate: function(e) {},',
'\t\tbeforeRefreshRow: function(e) {},',
'\t\tafterRefreshRow: function(e) {},',
'\t\tafterServerSideSummaryCompute: function(summary) {},',
'\t\t_afterAjaxCallback: function() {this._refreshStateMessages();}',
'\t},',
'\t_clientsideSummary: [],',
'\tcomputeClientSideSummaryValues: function(e) {},',
'\t_executeEvent: function(event,obj) { ',
'\treturn {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_STATES\',event,obj);',
'}',
',',
'\t_selectAll: function() {',
'\tvar v = this._values;',
'\tvar v2 = [].concat(v);',
'\tthis.setValue(v2,false);',
'}',
',',
'\tsearchList: function() { ',
'\tif(this._searchPartStyle == \'querybyform\') { ',
'\t\tif(this._dvmode != \'search\') return false;',
'\t}',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse {',
'\t\t\tif(this._dataSourceType.toLowerCase() == \'sql\' || this._dataSourceType.toLowerCase() == \'dbf\') {',
'\t\t\t\tmode = \'serverside\';',
'\t\t\t} else { ',
'\t\t\t\tmode = \'clientside\';',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'search\', searchWhere: mode, listIsDirty: flagDirty});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._searchListServerSide(obj);',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilter();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'search\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_searchListServerSide: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar _d={};',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tif(flagDirty) { ',
'\t\talert(\'Can\\\'t execute server-side search because List has edits that have not yet been synchronized.\');',
'\t\treturn false;',
'\t}',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t_data = _data + \'&\' + A5.ajax.buildURLParam(\'__searchOptions\',JSON.stringify(obj));',
'\tthis.filter = false;',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPart\',\'\',_data);',
'}',
',',
'\tclearSearchList: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse mode = \'serverside\';',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'clear\', searchWhere: mode});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._clearSearchListServerSide();',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilterClear();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'clear\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_clearSearchListServerSide: function() { ',
'\tvar _d={};',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPartClear\',\'\',_data);',
'}',
',',
'\t_str: function(txt) {',
'\ttxt = txt.replace("\'","\\\\\'");',
'\ttxt = \'\\\'\' + txt + \'\\\'\';',
'\treturn txt;',
'}',
',',
'\t_QBF: function(txt) { ',
'\tvar o = {};',
'\to.v2 = \'\';',
'\to.v1 = txt;',
'\to.flag = false;',
'\tif(txt.indexOf(\'>=\') >= 0) {',
'\t\to.op = \'>=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<=\') >= 0 ) { ',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'>\') >= 0 ) {',
'\t\to.op = \'>\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<\') >= 0)  { ',
'\t\to.op = \'<\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') == 0)  {',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if ( txt.indexOf(\'..\', txt.length - \'..\'.length) !== -1 ) { ',
'\t\t//ends with ..',
'\t\to.op = \'>=\';',
'\t\ttxt = txt.split(\'..\')',
'\t\to.v1 = txt[0];',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') > 0 ) {',
'\t\to.op = \'between\'',
'\t\ttxt = txt.split(\'..\');',
'\t\to.v1 = txt[0];',
'\t\to.v2 = txt[1];',
'\t\to.flag = true;',
'\t}',
'\treturn o;',
'}',
',',
'\t_match: function(data,field,val,obj) { ',
'\tvar flagKeyword = false;',
'\tif(typeof obj.flagKeyword != \'undefined\') flagKeyword = obj.flagKeyword;',
'\tif(flagKeyword) { ',
'\t\tvar obj_i = this._searchFieldOptions[field.toUpperCase()];',
'\t\tthis._setSearchOps(obj,obj_i);',
'\t}',
'\tvar _d = \'\';',
'\tvar _v = val;',
'\tvar flagC = false;',
'\tif(obj.type == \'c\') {',
'\t\tflagC = true;',
'\t\tif(!obj.caseSensitive) _v = _v.toLowerCase();',
'\t} else { ',
'\t\t//non mumeric searches are only mode 1 or -1',
'\t\tif(obj.mode > 1) obj.mode = 1;',
'\t\tif(obj.mode < -1) obj.mode = -1;',
'\t}',
'\tvar flag = false;',
'\tobj.usesQBFOperator = false;',
'\tif(obj.qbf) { ',
'\t\t_v = _v.split(\',\');',
'\t} else {',
'\t\t_v = [_v];',
'\t}',
'\tvar o = {}',
'\tvar r = \'\';',
'\tvar _vals = [];',
'\tfor(var i = 0; i < _v.length; i++) { ',
'\t\tif(obj.qbf) {',
'\t\t\to = this._QBF(_v[i]);',
'\t\t} else {',
'\t\t\to.flag = false;',
'\t\t\to.v1 = _v[i];',
'\t\t\to.v2 = \'\';',
'\t\t}',
'\t\tif(typeof data[field] != \'undefined\') {',
'\t\t\tif(data[field] != null) { ',
'\t\t\t\t_d = data[field];',
'\t\t\t\tif(obj.type == \'n\') { ',
'\t\t\t\t\to.v1 = Number(o.v1);',
'\t\t\t\t\to.v2 = Number(o.v2);',
'\t\t\t\t\t_d = Number(_d);',
'\t\t\t\t} else if (obj.type == \'l\') { ',
'\t\t\t\t\to.v1 = $u.s.toBool(o.v1);',
'\t\t\t\t\to.v2 = $u.s.toBool(o.v2);',
'\t\t\t\t\t_d = $u.s.toBool(_d);',
'\t\t\t\t} else if (obj.type == \'d\') { ',
'\t\t\t\t\to.v1 = A5.stringToDate(o.v1,obj.dateFormat);',
'\t\t\t\t\to.v2 = A5.stringToDate(o.v2,obj.dateFormat);',
'\t\t\t\t\tif(typeof _d == \'string\') _d = A5.stringToDate(_d,obj.dateFormat);',
'\t\t\t\t\tif(o.v1 != \'\' && o.v1 != null ) o.v1 = o.v1.getTime();',
'\t\t\t\t\tif(o.v2 != \'\' && o.v2 != null ) o.v2 = o.v2.getTime();',
'\t\t\t\t\tif(_d != \'\' && _d != null ) _d = _d.getTime();',
'\t\t\t\t}',
'\t\t\t\tif(flagC) {if(!obj.caseSensitive && typeof _d == \'string\') _d = _d.toLowerCase();}',
'\t\t\t\tif(o.flag) { ',
'\t\t\t\t\t//has qbf operators',
'\t\t\t\t\tif(o.op == \'between\') {',
'\t\t\t\t\t\tif(flagC) {',
'\t\t\t\t\t\t\tif(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tif(flagC) _d = _d.substr(0,o.v1.length)',
'\t\t\t\t\t\tif(o.op == \'>=\') if( _d >= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<=\') if( _d <= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'>\') if(_d > o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<\') if(_d < o.v1) flag = true;',
'\t\t\t\t\t}',
'\t\t\t\t} else { ',
'\t\t\t\t\tif(obj.mode == 1 || obj.mode == -1 ) {',
'\t\t\t\t\t\tif(obj.mode == 1) if(_d == o.v1) flag = true;; //match',
'\t\t\t\t\t\tif(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match',
'\t\t\t\t\t} else if (obj.mode == 2 || obj.mode == -2) { ',
'\t\t\t\t\t\tif(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains',
'\t\t\t\t\t\tif(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;',
'\t\t\t\t\t} else if (obj.mode == 3 || obj.mode == -3) { ',
'\t\t\t\t\t\tif(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with',
'\t\t\t\t\t\tif(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v1 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v1) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v1);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v2 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v2) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v2);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(flag) { ',
'\t\tif(typeof this._state.highlight == \'undefined\') this._state.highlight = {};',
'\t\tthis._state.highlight[field.toUpperCase()] = _vals;',
'\t} else { ',
'\t\t//this._state.highlight[field.toUpperCase()] = [];',
'\t}',
'\treturn flag;',
'}',
',',
'\t_setSearchOps: function(obj,obj_i) { ',
'\tobj.mode = obj_i.option;',
'\tobj.qbf = obj_i.qbf;',
'\tobj.type = obj_i.type;',
'\t//obj.treatAs = obj_i.treatAs;',
'}',
',',
'\t_searchPartOperator: \'&&\',',
'\t_searchPartSubmit_clientSideFilter: function() { ',
'\tif(!this._searchPartHas) return true;',
'\t//_searchPartStyle: \'individualcontrols\'',
'\tthis._state.highlight = {};',
'\tif(this._searchPartStyle == \'singlekeywordcontrol\') { ',
'\t\tvar searchFor = {UXPRERENDEREDALIAS}_DlgObj.getValue(this._keywordSearchControl);',
'\t\tvar arr = this._keywordSearchFields;',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\t//obj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 1;',
'\t\tobj.flagKeyword = true;',
'\t\tvar objStr = JSON.stringify(obj)',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\texpn_i = \'this._match(data,\' +this._str(arr[i]) + \',\' + this._str(searchFor) + \',\'+objStr+\')\';',
'\t\t\texpn.push(expn_i);',
'\t\t}',
'\t\texpn = expn.join(\'||\');',
'\t\t//alert(expn);',
'\t} else if ( this._searchPartStyle == \'individualcontrols\' || this._searchPartStyle == \'querybyform\'  ) { ',
'\t\tvar map = this._searchPart.fieldMap;',
'\t\tvar val = \'\';',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\tobj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 2;',
'\t\t//var objStr = JSON.stringify(obj)',
'\t\tvar ac = [];',
'\t\tvar aco = {};',
'\t\tvar _highlight = {};',
'\t\tif(this._searchPartStyle == \'individualcontrols\') {',
'\t\t\tfor(var i = 0; i < map.length; i++) { ',
'\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(map[i].control);',
'\t\t\t\tif(val != \'\') {',
'\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(map[i].field) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t} else if (this._searchPartStyle == \'querybyform\' ) { ',
'\t\t\tvar controlName = \'\';',
'\t\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\t\tif(controlName != \'\') {',
'\t\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(controlName);',
'\t\t\t\t\tif(val != \'\') {',
'\t\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(this._listFields[i].name) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t\t\taco.control = controlName;',
'\t\t\t\t\t\taco.value = val;',
'\t\t\t\t\t\tac.push(aco);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis.__queryByFormValues = ac;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\t\t}\t',
'\t\tvar operator = \'&&\';',
'\t\tif(typeof this._searchPartOperator != \'undefined\') operator = this._searchPartOperator;',
'\t\texpn = expn.join(\' \'+operator+\' \');',
'\t} ',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = expn;',
'\t}',
'\t//user did not fill in any search fields',
'\tif(expn == \'\') return true;',
'\tvar fnTxt = \'if(\' + expn + \') {return true;} else { return false;}\'',
'\tvar searchFunction = new Function(\'data\',fnTxt);',
'\tthis.setFilter(searchFunction);',
'\tif(this._rData.length > 0) this.setValue(0);',
'}',
',',
'\t_searchPartSubmit_clientSideFilterClear: function() { ',
'if(!this._searchPartHas) return true;',
'\tthis._state.highlight = {};',
'\tthis.setFilter(false);',
'\tvar map = this._searchPart.fieldMap;',
'\tvar val = \'\';',
'\tvar od = {UXPRERENDEREDALIAS}_DlgObj.originalValues[0];',
'\tfor(var i = 0; i < map.length; i++) {',
'\t\tvar val = od[map[i].control.toUpperCase()];',
'\t\tif(typeof val != \'undefined\') {UXPRERENDEREDALIAS}_DlgObj.setValue(map[i].control,val,false);',
'\t}',
'\tthis.setFilter(false);',
'\tdelete this.__queryByFormValues;',
'\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\tif(this._data.length > 0) this.setValue(0);',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = \'\';',
'\t}',
'}',
',',
'\tdetailViewIsDirty: function() { return false; },',
'\tpopulateUXControls: function() { return true; },',
'\tlistIsDirty: function() { return false; },',
'\tlookupValue: function(key,name,keyValue) {\tvar _d = this._data;',
'\tvar indx = A5FindPropInArray(_d,key,keyValue);',
'\tvar rv = \'\';',
'\tif(indx >=0) {',
'\t\tif(name == \'__rowData__\') return _d[indx];',
'\t\trv =  _d[indx][name];',
'\t} else {',
'\t\t//null out all properties in row',
'\t\tvar _d2 = {};',
'\t\tif(typeof _d[0] == \'undefined\') { return {}} ;',
'\t\tfor(var n in _d[0]) {',
'\t\t\t_d2[n] = \'&nbsp;\';',
'\t\t}',
'\t\trv = _d2;',
'\t}',
'\treturn rv;',
'}',
',',
'\tallowNullSelection: true,',
'\tallowNullDeselection: false,',
'\tloopNavigate: false,',
'\tloopNavigateNullSelection: false,',
'\trefreshChildLists: function() {{UXPRERENDEREDALIAS}_DlgObj._listRefreshCascadingLists(\'LIST_STATES\'); },',
'\trowExpander: function(rowNumber) { ',
'\tvar mode = typeof arguments[2] != \'undefined\' ? arguments[2] : \'toggle\';',
'\tif(typeof rowNumber == \'undefined\' || rowNumber == \'\' ) {',
'\t\trowNumber = this.selection[0];',
'\t\tif(typeof rowNumber == \'undefined\') return false;',
'\t}',
'\tvar animObj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\tvar ele = $(this._hostComponentId + \'.\' + this.listVariableName + \'.ROWEXPANDER.\' + rowNumber);',
'\tif(ele) {',
'\t\tif(mode == \'toggle\') A5.u.element.toggle(ele,animObj);',
'\t\tif(mode == \'show\') A5.u.element.show(ele,animObj);',
'\t\tif(mode == \'hide\') A5.u.element.hide(ele,animObj);',
'\t}',
'}',
',',
'\tafterClientSideSummaryCompute: function(csSummary) { },',
'\tselectCurrentLayout: function(name) { ',
'var pl = this.layouts[name];',
'if(typeof pl == \'undefined\') return false;',
'this.setLayout(name);',
'if(pl.type == \'column\') {',
'\tthis.columnLayout.header.show = this.layouts[name].showColumnTitles; ',
'\tthis.refresh();',
'}',
'},',
'\tonFilter: function() { \tvar e = {}; ',
'\te.rowCount = this._values.length;  ',
'\tvar ele = $(\'{UXPRERENDEREDALIAS}.__listId__.RECORDCOUNT\'); ',
'\tif(ele) {ele.innerHTML = e.rowCount;}; ',
'\tif(this.persistToStorage) { this.persistToStorage({});} ',
'\t(function(e) {   })(e);',
'}',
',',
'\tserverSideSort: function(column) {',
'var e = {};',
'e.column = column;',
'var result = this.systemEvents.beforeServerSideSort(e);',
'if(result == false) return false;',
'var obj = {};',
'obj.cmd = \'sort\';',
'obj.column = column;',
'obj.layoutName = this.layout;',
'obj.listState = this._state;',
'var data = \'_listId=LIST_STATES&\' + A5.ajax.buildURLParam(\'_cmdObj\',$u.o.toJSON(obj));',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:listServerSideSort\',\'\',data);',
'},',
'\tfilterListClientSide: function(searchFor) {',
'//var result = this.systemEvents.beforeClientSideFilter();',
'//if(result == false) return false;',
'if(searchFor != \'\') {',
'\t//fixes bug in Chrome when searching on dates strings that use forward slashes',
'\tsearchFor = searchFor.replace(/\\//g,\'\\\\/\');',
'\tthis.setFilter({\'State\': RegExp(\'\' + searchFor,\'i\'), \'Abbrev\': RegExp(\'\' + searchFor,\'i\')});',
'} else this.setFilter(false);',
'var rowCount = this._values.length;',
'//var e = {};',
'//e.rowCount = rowCount;',
'//this.systemEvents.afterClientSideFilter(e);',
'var ele = $(\'{UXPRERENDEREDALIAS}.LIST_STATES.RECORDCOUNT\');',
'if(ele) ele.innerHTML = rowCount;',
'}',
',',
'\tscrollToClosestValue: function(val) { \t',
'\tif(typeof val != \'string\') val = val.join(\'\');',
'\tvar flagCI = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\tvar pos = typeof arguments[2] != \'undefined\' ? arguments[2] : \'top\';',
'\tvar anim = typeof arguments[3] != \'undefined\' ? arguments[3] : {}',
'\tvar _d = this._rData;',
'\tvar len = val.length;',
'\tvar _d2;',
'\tvar i2 = -1;',
'\tif(flagCI) val = val.toLowerCase();',
'\tfor(var i = 0 ; i < _d.length; i++) {',
'\t\ti2 = i;',
'\t\t_d2 = String(_d[i][\'*value\']);',
'\t\t_d2 = _d2.substr(0,len);',
'\t\t_d2 = $u.s.pad(_d2,len,\' \',\'l\');',
'\t\tif(flagCI) _d2 = _d2.toLowerCase();',
'\t\tif(val <= _d2){',
'\t\t\t break;',
'\t\t}',
'\t}',
'\tif(i2 > -1) { ',
'\t\tthis.scrollToItem(i2,{mode: pos, animation: anim});',
'\t}',
'}',
',',
'\t_refreshStateMessages: function() {',
'\tvar ele = \'\';',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_STATES.PAGENUMBER\');',
'\tif(ele) ele.innerHTML = this._state.page;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_STATES.PAGECOUNT\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_STATES.PAGECOUNT.PAGESELECTOR\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;\t',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_STATES.LISTSTATE\');',
'\tif(ele) {',
'\t\tvar listState = $u.o.toJSON(this._state);',
'\t\tele.innerHTML = listState;',
'\t}',
'\t//navigation buttons\t',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_NEXT.LIST_STATES\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_LAST.LIST_STATES\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_FIRST.LIST_STATES\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_PREV.LIST_STATES\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = $(\'{UXPRERENDEREDALIAS}.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LIST_STATES\');',
'\tif(ele) {',
'\t\tvar data = this._recordNavigatorLinks;',
'\t\tif(data) A5.form.populateSelect(ele,this._state.page,data,true);',
'\t}',
'}',
',',
'\tscroller: {',
'\t\thas: true,',
'\t\tflow: \'ttb\',',
'\t\tlocation: \'after\',',
'\t\toffset: {',
'\t\t\ttop: \'0px\',',
'\t\t\tbottom: \'0px\',',
'\t\t\tleft: \'0px\',',
'\t\t\tright: \'0px\'',
'\t\t},',
'\t\tslider: {',
'\t\t\thandle: {',
'\t\t\t},',
'\t\t\tshadow: {',
'\t\t\t\tshow: true',
'\t\t\t},',
'\t\t\tmessage: {',
'\t\t\t\tshow: \'auto\',',
'\t\t\t\tlowSwitch: 75,',
'\t\t\t\thighSwitch: 75',
'\t\t\t}',
'\t\t},',
'\t\tdial: {',
'\t\t\tshow: \'drag\',',
'\t\t\tinvertDrag: false,',
'\t\t\tmessage: {',
'\t\t\t},',
'\t\t\tpixelStep: 4,',
'\t\t\tsize: 2',
'\t\t},',
'\t\tshow: true',
'\t},',
'\t_getRoute: function() { ',
'\tvar obj  = typeof arguments[1] != \'undefined\' ? arguments[1] : [];',
'\tvar mode = typeof arguments[0] != \'undefined\' ? arguments[0] : \'rowNumber\'; //',
'\tif(typeof this.selection[0] == \'undefined\') return false;',
'\tif(typeof this.getData(this.selection[0]) == \'undefined\') return false;',
'\tif(mode == \'rowNumber\') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])[\'*key\']});',
'\telse obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tif(lObj) lObj._getRoute(mode,obj);',
'\t}',
'\treturn obj;',
'}',
',',
'\t_setRoute: function(route) { ',
'\tif(typeof route == \'undefined\') { ',
'\t\troute = this.__currentRoute;',
'\t\tif(typeof route == \'undefined\') return false;',
'\t}',
'\tvar lObj = \'\';',
'\tvar row = \'\';',
'\tfor(var i = 0; i < route.length; i++) {',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(route[i].list);',
'\t\trow = route[i].row;',
'\t\tvar flag = typeof this._restoringList != \'undefined\' ? !this._restoringList : true;',
'\t\tif(typeof row != \'undefined\') {',
'\t\t\tvar rowFixed = \'\';',
'\t\t\tif(typeof lObj._dataMap == \'undefined\') return false;',
'\t\t\t//var msg = JSON.stringify(lObj._dataMap);',
'\t\t\t//alert(\'route[i].row:\' + route[i].row + \' ------ \' + msg);',
'\t\t\trowFixed = lObj._dataMap.indexOf(route[i].row);',
'\t\t\tlObj.setValue(rowFixed,flag);',
'\t\t\tif(this._clearServerSideErrors) this._clearServerSideErrors();',
'\t\t\tif(this._showServerSideErrors) this._showServerSideErrors();',
'\t\t\tif(this._showWriteConflictErrors) this._showWriteConflictErrors();',
'\t\t}',
'\t}',
'}',
',',
'\t_useServerSideSyncLog: false,',
'\t_searchHighlighting: false',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_INTERNATIONAL\'] = {',
'\t_dataSourceType: \'Static\',',
'\t_listFields: [',
'\t{',
'\t\tname: \'Country\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Country\\\');\'',
'\t},',
'\t{',
'\t\tname: \'Trials\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Trials\\\');\'',
'\t}',
'],',
'\t_searchPartHas: false,',
'\t_mediaFields: [],',
'\t_mediaTypes: {',
'},',
'\t_phoneGap: {',
'\t\tmediaFiles: {',
'\t\t\tprotectedRead: false,',
'\t\t\ttarget: \'server\',',
'\t\t\ttargetFilenameFunction: \'return \\\'<DeviceId>_\\\' +e.object.listFieldName + \\\'_\\\' + A5.ts() + \\\'_\\\' +e.name\',',
'\t\t\tshowProgress: false,',
'\t\t\tdownload: {',
'\t\t\t\tautodownloadFilesOnPullSynch: false,',
'\t\t\t\tdeleteOrphansAfterSync: false,',
'\t\t\t\ttargetFolder: \'_AAFiles\',',
'\t\t\t\tshowProgress: false',
'\t\t\t},',
'\t\t\tonErrorFunction: function(array,fileNumber,error) { }',
'\t\t}',
'\t},',
'\t_dvmode: \'enter\',',
'\t_hasDetailView: false,',
'\ttheme: \'iOS7\',',
'\tscroll: {',
'\t\taxis: \'both\',',
'\t\tindicator: {',
'\t\t\tshow: true,',
'\t\t\th: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\tleft: \'0px\',',
'\t\t\t\tright: \'0px\'',
'\t\t\t},',
'\t\t\tv: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\ttop: \'0px\',',
'\t\t\t\tbottom: \'0px\'',
'\t\t\t}',
'\t\t},',
'\t\tmomentum: {',
'\t\t\tallow: true',
'\t\t},',
'\t\tpull: {',
'\t\t\ty: \'auto\',',
'\t\t\tx: \'auto\'',
'\t\t}',
'\t},',
'\tlayout: \'Default\',',
'\tcalculateValue: function(data) {  {var _val = \'\' +A5RemoveHTMLWrapper(data.Country); if((_val == \'\' ||  _val == \'undefined\'  )&& typeof data[\'*rowGUID\'] != \'undefined\') _val = \'_temporaryValue_\' + data[\'*rowGUID\']; return _val;}},',
'\tlistVariableName: \'LIST_INTERNATIONAL\',',
'\tlistVariableNameTrueCase: \'LIST_INTERNATIONAL\',',
'\t_hostComponentId: \'{UXPRERENDEREDALIAS}\',',
'\t_includeCRC: false,',
'\tallParentLists: [],',
'\t__flagPersist: false,',
'\tonBeforeUpdateRow: function(index,data){;},',
'\tonUpdateRow: function(index,data){;},',
'\tonBeforeAddRows: function(data,info){;},',
'\tonAddRows: function(data,info){;},',
'\tonBeforeRemoveRows: function(rows){;},',
'\tonRemoveRows: function(rows){;},',
'\tonListDraw: function(data,startIndex) {',
'if(A5.flags.isMobile) $e.add(this.contId+\'.CONTENT\',\'abstractdown\',function(e) {$e.preventDefault(e);});},',
'\tchildLists: [],',
'\tchildListEndpoints: [\'LIST_INTERNATIONAL\'],',
'\t_populateAllChildLists: function() { },',
'\tonSelect: function() {{UXPRERENDEREDALIAS}_DlgObj._listRowSelect(\'LIST_INTERNATIONAL\',this);',
';',
'this._selectedRow = this.selection[0];},',
'\tonClick: function() {',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'populateListCountry\',\'\',\'\',{deviceOfflineFunction: function() {   }});',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_TRIALLIST\', true);',
'{UXPRERENDEREDALIAS}_DlgObj._listSystemOnClick(\'LIST_INTERNATIONAL\',this.selection[0]);},',
'\tlayouts: {',
'\t\tDefault: {',
'\t\t\ttype: \'column\',',
'\t\t\tshowColumnTitles: true,',
'\t\t\titem: {',
'\t\t\t},',
'\t\t\tcolumns: [',
'\t\t\t\t{',
'\t\t\t\t\theader: {',
'\t\t\t\t\t\thtml: \'Country\',',
'\t\t\t\t\t\tstyle: \'color: #646464; font-size: 16px;\'',
'\t\t\t\t\t},',
'\t\t\t\t\tresize: false,',
'\t\t\t\t\tdata: {',
'\t\t\t\t\t\ttemplate: \'<span id="{UXPRERENDEREDALIAS}.LIST_INTERNATIONAL.COUNTRY.I.{*dataRow}">{Country}</span>&nbsp;\'',
'\t\t\t\t\t},',
'\t\t\t\t\torder: \'Country\',',
'\t\t\t\t\twidth: \'flex(1)\'',
'\t\t\t\t}\t\t\t',
']',
'\t\t}',
'\t},',
'\tcontent: {',
'\t\theader: {',
'\t\t\tshow: false',
'\t\t},',
'\t\tfooter: {',
'\t\t\tshow: false',
'\t\t}',
'\t},',
'\tsystemEvents: {',
'\t\tonTap: function(e) {},',
'\t\tafterAjaxCallback: function(e) {},',
'\t\tafterClientSideFilter: function(e) {},',
'\t\tbeforeServerSideSort: function(e) {},',
'\t\tafterServerSideSort: function(e) {},',
'\t\tonSwipe: function(e) {},',
'\t\tonScroll: function(e) {},',
'\t\tonPullRelease: function(e) {},',
'\t\tonPull: function(e) {},',
'\t\tonPullEnd: function(e) {},',
'\t\tafterSearchComplete: function(e) {},',
'\t\tbeforeSearch: function(e) {},',
'\t\tonSearchResultTooLarge: function(e) {},',
'\t\tonSearchResultTooLargeForLocalStorage: function(e) {},',
'\t\tonBeforePersistToLocalStorage: function(e) {},',
'\t\tonPersistToLocalStorage: function(e) {},',
'\t\tonRestoreFromLocalStorage: function(e) {},',
'\t\tafterRenderComplete: function(e) {},',
'\t\tbeforeFetchMore: function(e) {},',
'\t\tafterFetchMore: function(e) {},',
'\t\tbeforePageNavigate: function(e) {},',
'\t\tafterPageNavigate: function(e) {},',
'\t\tbeforeRefreshRow: function(e) {},',
'\t\tafterRefreshRow: function(e) {},',
'\t\tafterServerSideSummaryCompute: function(summary) {},',
'\t\t_afterAjaxCallback: function() {this._refreshStateMessages();}',
'\t},',
'\t_clientsideSummary: [],',
'\tcomputeClientSideSummaryValues: function(e) {},',
'\t_executeEvent: function(event,obj) { ',
'\treturn {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_INTERNATIONAL\',event,obj);',
'}',
',',
'\t_selectAll: function() {',
'\tvar v = this._values;',
'\tvar v2 = [].concat(v);',
'\tthis.setValue(v2,false);',
'}',
',',
'\tsearchList: function() { ',
'\tif(this._searchPartStyle == \'querybyform\') { ',
'\t\tif(this._dvmode != \'search\') return false;',
'\t}',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse {',
'\t\t\tif(this._dataSourceType.toLowerCase() == \'sql\' || this._dataSourceType.toLowerCase() == \'dbf\') {',
'\t\t\t\tmode = \'serverside\';',
'\t\t\t} else { ',
'\t\t\t\tmode = \'clientside\';',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'search\', searchWhere: mode, listIsDirty: flagDirty});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._searchListServerSide(obj);',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilter();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'search\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_searchListServerSide: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar _d={};',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tif(flagDirty) { ',
'\t\talert(\'Can\\\'t execute server-side search because List has edits that have not yet been synchronized.\');',
'\t\treturn false;',
'\t}',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t_data = _data + \'&\' + A5.ajax.buildURLParam(\'__searchOptions\',JSON.stringify(obj));',
'\tthis.filter = false;',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPart\',\'\',_data);',
'}',
',',
'\tclearSearchList: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse mode = \'serverside\';',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'clear\', searchWhere: mode});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._clearSearchListServerSide();',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilterClear();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'clear\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_clearSearchListServerSide: function() { ',
'\tvar _d={};',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPartClear\',\'\',_data);',
'}',
',',
'\t_str: function(txt) {',
'\ttxt = txt.replace("\'","\\\\\'");',
'\ttxt = \'\\\'\' + txt + \'\\\'\';',
'\treturn txt;',
'}',
',',
'\t_QBF: function(txt) { ',
'\tvar o = {};',
'\to.v2 = \'\';',
'\to.v1 = txt;',
'\to.flag = false;',
'\tif(txt.indexOf(\'>=\') >= 0) {',
'\t\to.op = \'>=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<=\') >= 0 ) { ',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'>\') >= 0 ) {',
'\t\to.op = \'>\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<\') >= 0)  { ',
'\t\to.op = \'<\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') == 0)  {',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if ( txt.indexOf(\'..\', txt.length - \'..\'.length) !== -1 ) { ',
'\t\t//ends with ..',
'\t\to.op = \'>=\';',
'\t\ttxt = txt.split(\'..\')',
'\t\to.v1 = txt[0];',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') > 0 ) {',
'\t\to.op = \'between\'',
'\t\ttxt = txt.split(\'..\');',
'\t\to.v1 = txt[0];',
'\t\to.v2 = txt[1];',
'\t\to.flag = true;',
'\t}',
'\treturn o;',
'}',
',',
'\t_match: function(data,field,val,obj) { ',
'\tvar flagKeyword = false;',
'\tif(typeof obj.flagKeyword != \'undefined\') flagKeyword = obj.flagKeyword;',
'\tif(flagKeyword) { ',
'\t\tvar obj_i = this._searchFieldOptions[field.toUpperCase()];',
'\t\tthis._setSearchOps(obj,obj_i);',
'\t}',
'\tvar _d = \'\';',
'\tvar _v = val;',
'\tvar flagC = false;',
'\tif(obj.type == \'c\') {',
'\t\tflagC = true;',
'\t\tif(!obj.caseSensitive) _v = _v.toLowerCase();',
'\t} else { ',
'\t\t//non mumeric searches are only mode 1 or -1',
'\t\tif(obj.mode > 1) obj.mode = 1;',
'\t\tif(obj.mode < -1) obj.mode = -1;',
'\t}',
'\tvar flag = false;',
'\tobj.usesQBFOperator = false;',
'\tif(obj.qbf) { ',
'\t\t_v = _v.split(\',\');',
'\t} else {',
'\t\t_v = [_v];',
'\t}',
'\tvar o = {}',
'\tvar r = \'\';',
'\tvar _vals = [];',
'\tfor(var i = 0; i < _v.length; i++) { ',
'\t\tif(obj.qbf) {',
'\t\t\to = this._QBF(_v[i]);',
'\t\t} else {',
'\t\t\to.flag = false;',
'\t\t\to.v1 = _v[i];',
'\t\t\to.v2 = \'\';',
'\t\t}',
'\t\tif(typeof data[field] != \'undefined\') {',
'\t\t\tif(data[field] != null) { ',
'\t\t\t\t_d = data[field];',
'\t\t\t\tif(obj.type == \'n\') { ',
'\t\t\t\t\to.v1 = Number(o.v1);',
'\t\t\t\t\to.v2 = Number(o.v2);',
'\t\t\t\t\t_d = Number(_d);',
'\t\t\t\t} else if (obj.type == \'l\') { ',
'\t\t\t\t\to.v1 = $u.s.toBool(o.v1);',
'\t\t\t\t\to.v2 = $u.s.toBool(o.v2);',
'\t\t\t\t\t_d = $u.s.toBool(_d);',
'\t\t\t\t} else if (obj.type == \'d\') { ',
'\t\t\t\t\to.v1 = A5.stringToDate(o.v1,obj.dateFormat);',
'\t\t\t\t\to.v2 = A5.stringToDate(o.v2,obj.dateFormat);',
'\t\t\t\t\tif(typeof _d == \'string\') _d = A5.stringToDate(_d,obj.dateFormat);',
'\t\t\t\t\tif(o.v1 != \'\' && o.v1 != null ) o.v1 = o.v1.getTime();',
'\t\t\t\t\tif(o.v2 != \'\' && o.v2 != null ) o.v2 = o.v2.getTime();',
'\t\t\t\t\tif(_d != \'\' && _d != null ) _d = _d.getTime();',
'\t\t\t\t}',
'\t\t\t\tif(flagC) {if(!obj.caseSensitive && typeof _d == \'string\') _d = _d.toLowerCase();}',
'\t\t\t\tif(o.flag) { ',
'\t\t\t\t\t//has qbf operators',
'\t\t\t\t\tif(o.op == \'between\') {',
'\t\t\t\t\t\tif(flagC) {',
'\t\t\t\t\t\t\tif(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tif(flagC) _d = _d.substr(0,o.v1.length)',
'\t\t\t\t\t\tif(o.op == \'>=\') if( _d >= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<=\') if( _d <= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'>\') if(_d > o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<\') if(_d < o.v1) flag = true;',
'\t\t\t\t\t}',
'\t\t\t\t} else { ',
'\t\t\t\t\tif(obj.mode == 1 || obj.mode == -1 ) {',
'\t\t\t\t\t\tif(obj.mode == 1) if(_d == o.v1) flag = true;; //match',
'\t\t\t\t\t\tif(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match',
'\t\t\t\t\t} else if (obj.mode == 2 || obj.mode == -2) { ',
'\t\t\t\t\t\tif(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains',
'\t\t\t\t\t\tif(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;',
'\t\t\t\t\t} else if (obj.mode == 3 || obj.mode == -3) { ',
'\t\t\t\t\t\tif(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with',
'\t\t\t\t\t\tif(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v1 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v1) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v1);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v2 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v2) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v2);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(flag) { ',
'\t\tif(typeof this._state.highlight == \'undefined\') this._state.highlight = {};',
'\t\tthis._state.highlight[field.toUpperCase()] = _vals;',
'\t} else { ',
'\t\t//this._state.highlight[field.toUpperCase()] = [];',
'\t}',
'\treturn flag;',
'}',
',',
'\t_setSearchOps: function(obj,obj_i) { ',
'\tobj.mode = obj_i.option;',
'\tobj.qbf = obj_i.qbf;',
'\tobj.type = obj_i.type;',
'\t//obj.treatAs = obj_i.treatAs;',
'}',
',',
'\t_searchPartOperator: \'&&\',',
'\t_searchPartSubmit_clientSideFilter: function() { ',
'\tif(!this._searchPartHas) return true;',
'\t//_searchPartStyle: \'individualcontrols\'',
'\tthis._state.highlight = {};',
'\tif(this._searchPartStyle == \'singlekeywordcontrol\') { ',
'\t\tvar searchFor = {UXPRERENDEREDALIAS}_DlgObj.getValue(this._keywordSearchControl);',
'\t\tvar arr = this._keywordSearchFields;',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\t//obj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 1;',
'\t\tobj.flagKeyword = true;',
'\t\tvar objStr = JSON.stringify(obj)',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\texpn_i = \'this._match(data,\' +this._str(arr[i]) + \',\' + this._str(searchFor) + \',\'+objStr+\')\';',
'\t\t\texpn.push(expn_i);',
'\t\t}',
'\t\texpn = expn.join(\'||\');',
'\t\t//alert(expn);',
'\t} else if ( this._searchPartStyle == \'individualcontrols\' || this._searchPartStyle == \'querybyform\'  ) { ',
'\t\tvar map = this._searchPart.fieldMap;',
'\t\tvar val = \'\';',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\tobj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 2;',
'\t\t//var objStr = JSON.stringify(obj)',
'\t\tvar ac = [];',
'\t\tvar aco = {};',
'\t\tvar _highlight = {};',
'\t\tif(this._searchPartStyle == \'individualcontrols\') {',
'\t\t\tfor(var i = 0; i < map.length; i++) { ',
'\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(map[i].control);',
'\t\t\t\tif(val != \'\') {',
'\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(map[i].field) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t} else if (this._searchPartStyle == \'querybyform\' ) { ',
'\t\t\tvar controlName = \'\';',
'\t\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\t\tif(controlName != \'\') {',
'\t\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(controlName);',
'\t\t\t\t\tif(val != \'\') {',
'\t\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(this._listFields[i].name) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t\t\taco.control = controlName;',
'\t\t\t\t\t\taco.value = val;',
'\t\t\t\t\t\tac.push(aco);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis.__queryByFormValues = ac;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\t\t}\t',
'\t\tvar operator = \'&&\';',
'\t\tif(typeof this._searchPartOperator != \'undefined\') operator = this._searchPartOperator;',
'\t\texpn = expn.join(\' \'+operator+\' \');',
'\t} ',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = expn;',
'\t}',
'\t//user did not fill in any search fields',
'\tif(expn == \'\') return true;',
'\tvar fnTxt = \'if(\' + expn + \') {return true;} else { return false;}\'',
'\tvar searchFunction = new Function(\'data\',fnTxt);',
'\tthis.setFilter(searchFunction);',
'\tif(this._rData.length > 0) this.setValue(0);',
'}',
',',
'\t_searchPartSubmit_clientSideFilterClear: function() { ',
'if(!this._searchPartHas) return true;',
'\tthis._state.highlight = {};',
'\tthis.setFilter(false);',
'\tvar map = this._searchPart.fieldMap;',
'\tvar val = \'\';',
'\tvar od = {UXPRERENDEREDALIAS}_DlgObj.originalValues[0];',
'\tfor(var i = 0; i < map.length; i++) {',
'\t\tvar val = od[map[i].control.toUpperCase()];',
'\t\tif(typeof val != \'undefined\') {UXPRERENDEREDALIAS}_DlgObj.setValue(map[i].control,val,false);',
'\t}',
'\tthis.setFilter(false);',
'\tdelete this.__queryByFormValues;',
'\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\tif(this._data.length > 0) this.setValue(0);',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = \'\';',
'\t}',
'}',
',',
'\tdetailViewIsDirty: function() { return false; },',
'\tpopulateUXControls: function() { return true; },',
'\tlistIsDirty: function() { return false; },',
'\tlookupValue: function(key,name,keyValue) {\tvar _d = this._data;',
'\tvar indx = A5FindPropInArray(_d,key,keyValue);',
'\tvar rv = \'\';',
'\tif(indx >=0) {',
'\t\tif(name == \'__rowData__\') return _d[indx];',
'\t\trv =  _d[indx][name];',
'\t} else {',
'\t\t//null out all properties in row',
'\t\tvar _d2 = {};',
'\t\tif(typeof _d[0] == \'undefined\') { return {}} ;',
'\t\tfor(var n in _d[0]) {',
'\t\t\t_d2[n] = \'&nbsp;\';',
'\t\t}',
'\t\trv = _d2;',
'\t}',
'\treturn rv;',
'}',
',',
'\tallowNullSelection: true,',
'\tallowNullDeselection: false,',
'\tloopNavigate: false,',
'\tloopNavigateNullSelection: false,',
'\trefreshChildLists: function() {{UXPRERENDEREDALIAS}_DlgObj._listRefreshCascadingLists(\'LIST_INTERNATIONAL\'); },',
'\trowExpander: function(rowNumber) { ',
'\tvar mode = typeof arguments[2] != \'undefined\' ? arguments[2] : \'toggle\';',
'\tif(typeof rowNumber == \'undefined\' || rowNumber == \'\' ) {',
'\t\trowNumber = this.selection[0];',
'\t\tif(typeof rowNumber == \'undefined\') return false;',
'\t}',
'\tvar animObj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\tvar ele = $(this._hostComponentId + \'.\' + this.listVariableName + \'.ROWEXPANDER.\' + rowNumber);',
'\tif(ele) {',
'\t\tif(mode == \'toggle\') A5.u.element.toggle(ele,animObj);',
'\t\tif(mode == \'show\') A5.u.element.show(ele,animObj);',
'\t\tif(mode == \'hide\') A5.u.element.hide(ele,animObj);',
'\t}',
'}',
',',
'\tafterClientSideSummaryCompute: function(csSummary) { },',
'\tselectCurrentLayout: function(name) { ',
'var pl = this.layouts[name];',
'if(typeof pl == \'undefined\') return false;',
'this.setLayout(name);',
'if(pl.type == \'column\') {',
'\tthis.columnLayout.header.show = this.layouts[name].showColumnTitles; ',
'\tthis.refresh();',
'}',
'},',
'\tonFilter: function() { \tvar e = {}; ',
'\te.rowCount = this._values.length;  ',
'\tvar ele = $(\'{UXPRERENDEREDALIAS}.__listId__.RECORDCOUNT\'); ',
'\tif(ele) {ele.innerHTML = e.rowCount;}; ',
'\tif(this.persistToStorage) { this.persistToStorage({});} ',
'\t(function(e) {   })(e);',
'}',
',',
'\tserverSideSort: function(column) {',
'var e = {};',
'e.column = column;',
'var result = this.systemEvents.beforeServerSideSort(e);',
'if(result == false) return false;',
'var obj = {};',
'obj.cmd = \'sort\';',
'obj.column = column;',
'obj.layoutName = this.layout;',
'obj.listState = this._state;',
'var data = \'_listId=LIST_INTERNATIONAL&\' + A5.ajax.buildURLParam(\'_cmdObj\',$u.o.toJSON(obj));',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:listServerSideSort\',\'\',data);',
'},',
'\tfilterListClientSide: function(searchFor) {',
'//var result = this.systemEvents.beforeClientSideFilter();',
'//if(result == false) return false;',
'if(searchFor != \'\') {',
'\t//fixes bug in Chrome when searching on dates strings that use forward slashes',
'\tsearchFor = searchFor.replace(/\\//g,\'\\\\/\');',
'\tthis.setFilter({\'Country\': RegExp(\'\' + searchFor,\'i\'), \'Trials\': RegExp(\'\' + searchFor,\'i\')});',
'} else this.setFilter(false);',
'var rowCount = this._values.length;',
'//var e = {};',
'//e.rowCount = rowCount;',
'//this.systemEvents.afterClientSideFilter(e);',
'var ele = $(\'{UXPRERENDEREDALIAS}.LIST_INTERNATIONAL.RECORDCOUNT\');',
'if(ele) ele.innerHTML = rowCount;',
'}',
',',
'\tscrollToClosestValue: function(val) { \t',
'\tif(typeof val != \'string\') val = val.join(\'\');',
'\tvar flagCI = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\tvar pos = typeof arguments[2] != \'undefined\' ? arguments[2] : \'top\';',
'\tvar anim = typeof arguments[3] != \'undefined\' ? arguments[3] : {}',
'\tvar _d = this._rData;',
'\tvar len = val.length;',
'\tvar _d2;',
'\tvar i2 = -1;',
'\tif(flagCI) val = val.toLowerCase();',
'\tfor(var i = 0 ; i < _d.length; i++) {',
'\t\ti2 = i;',
'\t\t_d2 = String(_d[i][\'*value\']);',
'\t\t_d2 = _d2.substr(0,len);',
'\t\t_d2 = $u.s.pad(_d2,len,\' \',\'l\');',
'\t\tif(flagCI) _d2 = _d2.toLowerCase();',
'\t\tif(val <= _d2){',
'\t\t\t break;',
'\t\t}',
'\t}',
'\tif(i2 > -1) { ',
'\t\tthis.scrollToItem(i2,{mode: pos, animation: anim});',
'\t}',
'}',
',',
'\t_refreshStateMessages: function() {',
'\tvar ele = \'\';',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_INTERNATIONAL.PAGENUMBER\');',
'\tif(ele) ele.innerHTML = this._state.page;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_INTERNATIONAL.PAGECOUNT\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_INTERNATIONAL.PAGECOUNT.PAGESELECTOR\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;\t',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_INTERNATIONAL.LISTSTATE\');',
'\tif(ele) {',
'\t\tvar listState = $u.o.toJSON(this._state);',
'\t\tele.innerHTML = listState;',
'\t}',
'\t//navigation buttons\t',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_NEXT.LIST_INTERNATIONAL\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_LAST.LIST_INTERNATIONAL\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_FIRST.LIST_INTERNATIONAL\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_PREV.LIST_INTERNATIONAL\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = $(\'{UXPRERENDEREDALIAS}.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LIST_INTERNATIONAL\');',
'\tif(ele) {',
'\t\tvar data = this._recordNavigatorLinks;',
'\t\tif(data) A5.form.populateSelect(ele,this._state.page,data,true);',
'\t}',
'}',
',',
'\tview: {',
'\t\ttype: \'dynamic\',',
'\t\tsize: 15,',
'\t\tmaxSize: 0,',
'\t\toffset: 5,',
'\t\tnavigation: {',
'\t\t\tpull: {',
'\t\t\t\tallow: true,',
'\t\t\t\tsize: 15',
'\t\t\t},',
'\t\t\tprev: {',
'\t\t\t\thtml: \'Previous\'',
'\t\t\t},',
'\t\t\tnext: {',
'\t\t\t\thtml: \'Next\'',
'\t\t\t}',
'\t\t}',
'\t},',
'\tscroller: {',
'\t\thas: true,',
'\t\tflow: \'ttb\',',
'\t\tlocation: \'after\',',
'\t\toffset: {',
'\t\t\ttop: \'0px\',',
'\t\t\tbottom: \'0px\',',
'\t\t\tleft: \'0px\',',
'\t\t\tright: \'0px\'',
'\t\t},',
'\t\tslider: {',
'\t\t\thandle: {',
'\t\t\t},',
'\t\t\tshadow: {',
'\t\t\t\tshow: true',
'\t\t\t},',
'\t\t\tmessage: {',
'\t\t\t\tshow: \'auto\',',
'\t\t\t\tlowSwitch: 75,',
'\t\t\t\thighSwitch: 75',
'\t\t\t}',
'\t\t},',
'\t\tdial: {',
'\t\t\tshow: \'drag\',',
'\t\t\tinvertDrag: false,',
'\t\t\tmessage: {',
'\t\t\t},',
'\t\t\tpixelStep: 4,',
'\t\t\tsize: 2',
'\t\t},',
'\t\tshow: true',
'\t},',
'\t_getRoute: function() { ',
'\tvar obj  = typeof arguments[1] != \'undefined\' ? arguments[1] : [];',
'\tvar mode = typeof arguments[0] != \'undefined\' ? arguments[0] : \'rowNumber\'; //',
'\tif(typeof this.selection[0] == \'undefined\') return false;',
'\tif(typeof this.getData(this.selection[0]) == \'undefined\') return false;',
'\tif(mode == \'rowNumber\') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])[\'*key\']});',
'\telse obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tif(lObj) lObj._getRoute(mode,obj);',
'\t}',
'\treturn obj;',
'}',
',',
'\t_setRoute: function(route) { ',
'\tif(typeof route == \'undefined\') { ',
'\t\troute = this.__currentRoute;',
'\t\tif(typeof route == \'undefined\') return false;',
'\t}',
'\tvar lObj = \'\';',
'\tvar row = \'\';',
'\tfor(var i = 0; i < route.length; i++) {',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(route[i].list);',
'\t\trow = route[i].row;',
'\t\tvar flag = typeof this._restoringList != \'undefined\' ? !this._restoringList : true;',
'\t\tif(typeof row != \'undefined\') {',
'\t\t\tvar rowFixed = \'\';',
'\t\t\tif(typeof lObj._dataMap == \'undefined\') return false;',
'\t\t\t//var msg = JSON.stringify(lObj._dataMap);',
'\t\t\t//alert(\'route[i].row:\' + route[i].row + \' ------ \' + msg);',
'\t\t\trowFixed = lObj._dataMap.indexOf(route[i].row);',
'\t\t\tlObj.setValue(rowFixed,flag);',
'\t\t\tif(this._clearServerSideErrors) this._clearServerSideErrors();',
'\t\t\tif(this._showServerSideErrors) this._showServerSideErrors();',
'\t\t\tif(this._showWriteConflictErrors) this._showWriteConflictErrors();',
'\t\t}',
'\t}',
'}',
',',
'\t_useServerSideSyncLog: false,',
'\t_searchHighlighting: false',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_TRIALS\'] = {',
'\t_dataSourceType: \'SQL\',',
'\t_listFields: [',
'\t{',
'\t\tname: \'location\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'location\\\');\'',
'\t},',
'\t{',
'\t\tname: \'summary\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'summary\\\');\'',
'\t},',
'\t{',
'\t\tname: \'purpose\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'purpose\\\');\'',
'\t},',
'\t{',
'\t\tname: \'overview\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'overview\\\');\'',
'\t},',
'\t{',
'\t\tname: \'eligibility\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'eligibility\\\');\'',
'\t},',
'\t{',
'\t\tname: \'moreinfo\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'moreinfo\\\');\'',
'\t},',
'\t{',
'\t\tname: \'contact\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'contact\\\');\'',
'\t},',
'\t{',
'\t\tname: \'latitude\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'latitude\\\');\'',
'\t},',
'\t{',
'\t\tname: \'longitude\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'longitude\\\');\'',
'\t},',
'\t{',
'\t\tname: \'Miles\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Miles\\\');\'',
'\t},',
'\t{',
'\t\tname: \'CWID\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'CWID\\\');\'',
'\t}',
'],',
'\t_searchPartHas: false,',
'\t_mediaFields: [],',
'\t_mediaTypes: {',
'},',
'\t_phoneGap: {',
'\t\tmediaFiles: {',
'\t\t\tprotectedRead: false,',
'\t\t\ttarget: \'server\',',
'\t\t\ttargetFilenameFunction: \'return \\\'<DeviceId>_\\\' +e.object.listFieldName + \\\'_\\\' + A5.ts() + \\\'_\\\' +e.name\',',
'\t\t\tshowProgress: false,',
'\t\t\tdownload: {',
'\t\t\t\tautodownloadFilesOnPullSynch: false,',
'\t\t\t\tdeleteOrphansAfterSync: false,',
'\t\t\t\ttargetFolder: \'_AAFiles\',',
'\t\t\t\tshowProgress: false',
'\t\t\t},',
'\t\t\tonErrorFunction: function(array,fileNumber,error) { }',
'\t\t}',
'\t},',
'\t_dvmode: \'enter\',',
'\t_hasDetailView: false,',
'\ttheme: \'iOS7\',',
'\tscroll: {',
'\t\taxis: \'both\',',
'\t\tindicator: {',
'\t\t\tshow: true,',
'\t\t\th: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\tleft: \'0px\',',
'\t\t\t\tright: \'0px\'',
'\t\t\t},',
'\t\t\tv: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\ttop: \'0px\',',
'\t\t\t\tbottom: \'0px\'',
'\t\t\t}',
'\t\t},',
'\t\tmomentum: {',
'\t\t\tallow: true',
'\t\t},',
'\t\tpull: {',
'\t\t\ty: \'auto\',',
'\t\t\tx: \'auto\'',
'\t\t}',
'\t},',
'\tlayout: \'Default\',',
'\tcalculateValue: function(data) {  {var _val = \'\' +data.__primaryKey; if((_val == \'\' ||  _val == \'undefined\'  )&& typeof data[\'*rowGUID\'] != \'undefined\') _val = \'_temporaryValue_\' + data[\'*rowGUID\']; return _val;}},',
'\tlistVariableName: \'LIST_TRIALS\',',
'\tlistVariableNameTrueCase: \'LIST_TRIALS\',',
'\t_hostComponentId: \'{UXPRERENDEREDALIAS}\',',
'\t_includeCRC: true,',
'\tallParentLists: [],',
'\t__flagPersist: false,',
'\tonBeforeUpdateRow: function(index,data){;},',
'\tonUpdateRow: function(index,data){;},',
'\tonBeforeAddRows: function(data,info){;},',
'\tonAddRows: function(data,info){;},',
'\tonBeforeRemoveRows: function(rows){;},',
'\tonRemoveRows: function(rows){;},',
'\tonListDraw: function(data,startIndex) {var id = this.contId +\'.NORECORDSINLIST\';',
'var e = $(this.contId + \'.CONTENT\');',
'if(data.length == 0) {',
'\tvar e = $(this.contId + \'.CONTENT\');',
'\tvar eleHeight = ($(this.contId + \'.CONTENTWRAPPER\').offsetHeight /2 ) -12;',
'\te.innerHTML = \'<div id="\'+id +\'" style="text-align: center;padding-top: \' + eleHeight + \'px;">No trials found.</div>\';',
'} else {\t',
'\tvar ele = $(id);',
'\tif(ele) {',
'\t\te.removeChild(ele);',
'\t}',
'}',
'if(A5.flags.isMobile) $e.add(this.contId+\'.CONTENT\',\'abstractdown\',function(e) {$e.preventDefault(e);});},',
'\tchildLists: [],',
'\tchildListEndpoints: [\'LIST_TRIALS\'],',
'\t_populateAllChildLists: function() { },',
'\tonSelect: function() {{UXPRERENDEREDALIAS}_DlgObj._listRowSelect(\'LIST_TRIALS\',this);',
';',
'this._selectedRow = this.selection[0];},',
'\tonClick: function() {',
'CWApp.populateDetailTabs({UXPRERENDEREDALIAS}_DlgObj);',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_TRIALDETAILS\', true);',
'{UXPRERENDEREDALIAS}_DlgObj._listSystemOnClick(\'LIST_TRIALS\',this.selection[0]);},',
'\tlayouts: {',
'\t\tDefault: {',
'\t\t\ttype: \'template\',',
'\t\t\titem: {',
'\t\t\t},',
'\t\t\ttemplate: [',
'\t\t\t\t\'<b><span id="{UXPRERENDEREDALIAS}.LIST_TRIALS.LOCATION.I.{*dataRow}">{location}</span></b> Distance: <b><span id="{UXPRERENDEREDALIAS}.LIST_TRIALS.MILES.I.{*dataRow}">{Miles}</span> miles</b>  <br>\',',
'\t\t\t\t\'<br>\',',
'\t\t\t\t\'<span style="color: #646464;"> <span id="{UXPRERENDEREDALIAS}.LIST_TRIALS.SUMMARY.I.{*dataRow}">{summary}</span> </span>\',',
'\t\t\t\t\'\'\t\t\t',
']',
'\t\t}',
'\t},',
'\tcontent: {',
'\t\theader: {',
'\t\t\tshow: false',
'\t\t},',
'\t\tfooter: {',
'\t\t\tshow: false',
'\t\t}',
'\t},',
'\tsystemEvents: {',
'\t\tonTap: function(e) {},',
'\t\tafterAjaxCallback: function(e) {},',
'\t\tafterClientSideFilter: function(e) {},',
'\t\tbeforeServerSideSort: function(e) {},',
'\t\tafterServerSideSort: function(e) {},',
'\t\tonSwipe: function(e) {},',
'\t\tonScroll: function(e) {},',
'\t\tonPullRelease: function(e) {},',
'\t\tonPull: function(e) {},',
'\t\tonPullEnd: function(e) {},',
'\t\tafterSearchComplete: function(e) {},',
'\t\tbeforeSearch: function(e) {},',
'\t\tonSearchResultTooLarge: function(e) {},',
'\t\tonSearchResultTooLargeForLocalStorage: function(e) {},',
'\t\tonBeforePersistToLocalStorage: function(e) {},',
'\t\tonPersistToLocalStorage: function(e) {},',
'\t\tonRestoreFromLocalStorage: function(e) {},',
'\t\tafterRenderComplete: function(e) {},',
'\t\tbeforeFetchMore: function(e) {},',
'\t\tafterFetchMore: function(e) {},',
'\t\tbeforePageNavigate: function(e) {},',
'\t\tafterPageNavigate: function(e) {},',
'\t\tbeforeRefreshRow: function(e) {},',
'\t\tafterRefreshRow: function(e) {},',
'\t\tafterServerSideSummaryCompute: function(summary) {},',
'\t\t_afterAjaxCallback: function() {this._refreshStateMessages();}',
'\t},',
'\t_clientsideSummary: [],',
'\tcomputeClientSideSummaryValues: function(e) {},',
'\t_executeEvent: function(event,obj) { ',
'\treturn {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_TRIALS\',event,obj);',
'}',
',',
'\t_selectAll: function() {',
'\tvar v = this._values;',
'\tvar v2 = [].concat(v);',
'\tthis.setValue(v2,false);',
'}',
',',
'\tsearchList: function() { ',
'\tif(this._searchPartStyle == \'querybyform\') { ',
'\t\tif(this._dvmode != \'search\') return false;',
'\t}',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse {',
'\t\t\tif(this._dataSourceType.toLowerCase() == \'sql\' || this._dataSourceType.toLowerCase() == \'dbf\') {',
'\t\t\t\tmode = \'serverside\';',
'\t\t\t} else { ',
'\t\t\t\tmode = \'clientside\';',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'search\', searchWhere: mode, listIsDirty: flagDirty});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._searchListServerSide(obj);',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilter();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'search\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_searchListServerSide: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar _d={};',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tif(flagDirty) { ',
'\t\talert(\'Can\\\'t execute server-side search because List has edits that have not yet been synchronized.\');',
'\t\treturn false;',
'\t}',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t_data = _data + \'&\' + A5.ajax.buildURLParam(\'__searchOptions\',JSON.stringify(obj));',
'\tthis.filter = false;',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPart\',\'\',_data);',
'}',
',',
'\tclearSearchList: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse mode = \'serverside\';',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'clear\', searchWhere: mode});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._clearSearchListServerSide();',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilterClear();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'clear\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_clearSearchListServerSide: function() { ',
'\tvar _d={};',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPartClear\',\'\',_data);',
'}',
',',
'\t_str: function(txt) {',
'\ttxt = txt.replace("\'","\\\\\'");',
'\ttxt = \'\\\'\' + txt + \'\\\'\';',
'\treturn txt;',
'}',
',',
'\t_QBF: function(txt) { ',
'\tvar o = {};',
'\to.v2 = \'\';',
'\to.v1 = txt;',
'\to.flag = false;',
'\tif(txt.indexOf(\'>=\') >= 0) {',
'\t\to.op = \'>=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<=\') >= 0 ) { ',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'>\') >= 0 ) {',
'\t\to.op = \'>\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<\') >= 0)  { ',
'\t\to.op = \'<\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') == 0)  {',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if ( txt.indexOf(\'..\', txt.length - \'..\'.length) !== -1 ) { ',
'\t\t//ends with ..',
'\t\to.op = \'>=\';',
'\t\ttxt = txt.split(\'..\')',
'\t\to.v1 = txt[0];',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') > 0 ) {',
'\t\to.op = \'between\'',
'\t\ttxt = txt.split(\'..\');',
'\t\to.v1 = txt[0];',
'\t\to.v2 = txt[1];',
'\t\to.flag = true;',
'\t}',
'\treturn o;',
'}',
',',
'\t_match: function(data,field,val,obj) { ',
'\tvar flagKeyword = false;',
'\tif(typeof obj.flagKeyword != \'undefined\') flagKeyword = obj.flagKeyword;',
'\tif(flagKeyword) { ',
'\t\tvar obj_i = this._searchFieldOptions[field.toUpperCase()];',
'\t\tthis._setSearchOps(obj,obj_i);',
'\t}',
'\tvar _d = \'\';',
'\tvar _v = val;',
'\tvar flagC = false;',
'\tif(obj.type == \'c\') {',
'\t\tflagC = true;',
'\t\tif(!obj.caseSensitive) _v = _v.toLowerCase();',
'\t} else { ',
'\t\t//non mumeric searches are only mode 1 or -1',
'\t\tif(obj.mode > 1) obj.mode = 1;',
'\t\tif(obj.mode < -1) obj.mode = -1;',
'\t}',
'\tvar flag = false;',
'\tobj.usesQBFOperator = false;',
'\tif(obj.qbf) { ',
'\t\t_v = _v.split(\',\');',
'\t} else {',
'\t\t_v = [_v];',
'\t}',
'\tvar o = {}',
'\tvar r = \'\';',
'\tvar _vals = [];',
'\tfor(var i = 0; i < _v.length; i++) { ',
'\t\tif(obj.qbf) {',
'\t\t\to = this._QBF(_v[i]);',
'\t\t} else {',
'\t\t\to.flag = false;',
'\t\t\to.v1 = _v[i];',
'\t\t\to.v2 = \'\';',
'\t\t}',
'\t\tif(typeof data[field] != \'undefined\') {',
'\t\t\tif(data[field] != null) { ',
'\t\t\t\t_d = data[field];',
'\t\t\t\tif(obj.type == \'n\') { ',
'\t\t\t\t\to.v1 = Number(o.v1);',
'\t\t\t\t\to.v2 = Number(o.v2);',
'\t\t\t\t\t_d = Number(_d);',
'\t\t\t\t} else if (obj.type == \'l\') { ',
'\t\t\t\t\to.v1 = $u.s.toBool(o.v1);',
'\t\t\t\t\to.v2 = $u.s.toBool(o.v2);',
'\t\t\t\t\t_d = $u.s.toBool(_d);',
'\t\t\t\t} else if (obj.type == \'d\') { ',
'\t\t\t\t\to.v1 = A5.stringToDate(o.v1,obj.dateFormat);',
'\t\t\t\t\to.v2 = A5.stringToDate(o.v2,obj.dateFormat);',
'\t\t\t\t\tif(typeof _d == \'string\') _d = A5.stringToDate(_d,obj.dateFormat);',
'\t\t\t\t\tif(o.v1 != \'\' && o.v1 != null ) o.v1 = o.v1.getTime();',
'\t\t\t\t\tif(o.v2 != \'\' && o.v2 != null ) o.v2 = o.v2.getTime();',
'\t\t\t\t\tif(_d != \'\' && _d != null ) _d = _d.getTime();',
'\t\t\t\t}',
'\t\t\t\tif(flagC) {if(!obj.caseSensitive && typeof _d == \'string\') _d = _d.toLowerCase();}',
'\t\t\t\tif(o.flag) { ',
'\t\t\t\t\t//has qbf operators',
'\t\t\t\t\tif(o.op == \'between\') {',
'\t\t\t\t\t\tif(flagC) {',
'\t\t\t\t\t\t\tif(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tif(flagC) _d = _d.substr(0,o.v1.length)',
'\t\t\t\t\t\tif(o.op == \'>=\') if( _d >= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<=\') if( _d <= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'>\') if(_d > o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<\') if(_d < o.v1) flag = true;',
'\t\t\t\t\t}',
'\t\t\t\t} else { ',
'\t\t\t\t\tif(obj.mode == 1 || obj.mode == -1 ) {',
'\t\t\t\t\t\tif(obj.mode == 1) if(_d == o.v1) flag = true;; //match',
'\t\t\t\t\t\tif(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match',
'\t\t\t\t\t} else if (obj.mode == 2 || obj.mode == -2) { ',
'\t\t\t\t\t\tif(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains',
'\t\t\t\t\t\tif(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;',
'\t\t\t\t\t} else if (obj.mode == 3 || obj.mode == -3) { ',
'\t\t\t\t\t\tif(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with',
'\t\t\t\t\t\tif(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v1 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v1) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v1);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v2 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v2) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v2);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(flag) { ',
'\t\tif(typeof this._state.highlight == \'undefined\') this._state.highlight = {};',
'\t\tthis._state.highlight[field.toUpperCase()] = _vals;',
'\t} else { ',
'\t\t//this._state.highlight[field.toUpperCase()] = [];',
'\t}',
'\treturn flag;',
'}',
',',
'\t_setSearchOps: function(obj,obj_i) { ',
'\tobj.mode = obj_i.option;',
'\tobj.qbf = obj_i.qbf;',
'\tobj.type = obj_i.type;',
'\t//obj.treatAs = obj_i.treatAs;',
'}',
',',
'\t_searchPartOperator: \'&&\',',
'\t_searchPartSubmit_clientSideFilter: function() { ',
'\tif(!this._searchPartHas) return true;',
'\t//_searchPartStyle: \'individualcontrols\'',
'\tthis._state.highlight = {};',
'\tif(this._searchPartStyle == \'singlekeywordcontrol\') { ',
'\t\tvar searchFor = {UXPRERENDEREDALIAS}_DlgObj.getValue(this._keywordSearchControl);',
'\t\tvar arr = this._keywordSearchFields;',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\t//obj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 1;',
'\t\tobj.flagKeyword = true;',
'\t\tvar objStr = JSON.stringify(obj)',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\texpn_i = \'this._match(data,\' +this._str(arr[i]) + \',\' + this._str(searchFor) + \',\'+objStr+\')\';',
'\t\t\texpn.push(expn_i);',
'\t\t}',
'\t\texpn = expn.join(\'||\');',
'\t\t//alert(expn);',
'\t} else if ( this._searchPartStyle == \'individualcontrols\' || this._searchPartStyle == \'querybyform\'  ) { ',
'\t\tvar map = this._searchPart.fieldMap;',
'\t\tvar val = \'\';',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\tobj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 2;',
'\t\t//var objStr = JSON.stringify(obj)',
'\t\tvar ac = [];',
'\t\tvar aco = {};',
'\t\tvar _highlight = {};',
'\t\tif(this._searchPartStyle == \'individualcontrols\') {',
'\t\t\tfor(var i = 0; i < map.length; i++) { ',
'\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(map[i].control);',
'\t\t\t\tif(val != \'\') {',
'\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(map[i].field) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t} else if (this._searchPartStyle == \'querybyform\' ) { ',
'\t\t\tvar controlName = \'\';',
'\t\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\t\tif(controlName != \'\') {',
'\t\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(controlName);',
'\t\t\t\t\tif(val != \'\') {',
'\t\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(this._listFields[i].name) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t\t\taco.control = controlName;',
'\t\t\t\t\t\taco.value = val;',
'\t\t\t\t\t\tac.push(aco);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis.__queryByFormValues = ac;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\t\t}\t',
'\t\tvar operator = \'&&\';',
'\t\tif(typeof this._searchPartOperator != \'undefined\') operator = this._searchPartOperator;',
'\t\texpn = expn.join(\' \'+operator+\' \');',
'\t} ',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = expn;',
'\t}',
'\t//user did not fill in any search fields',
'\tif(expn == \'\') return true;',
'\tvar fnTxt = \'if(\' + expn + \') {return true;} else { return false;}\'',
'\tvar searchFunction = new Function(\'data\',fnTxt);',
'\tthis.setFilter(searchFunction);',
'\tif(this._rData.length > 0) this.setValue(0);',
'}',
',',
'\t_searchPartSubmit_clientSideFilterClear: function() { ',
'if(!this._searchPartHas) return true;',
'\tthis._state.highlight = {};',
'\tthis.setFilter(false);',
'\tvar map = this._searchPart.fieldMap;',
'\tvar val = \'\';',
'\tvar od = {UXPRERENDEREDALIAS}_DlgObj.originalValues[0];',
'\tfor(var i = 0; i < map.length; i++) {',
'\t\tvar val = od[map[i].control.toUpperCase()];',
'\t\tif(typeof val != \'undefined\') {UXPRERENDEREDALIAS}_DlgObj.setValue(map[i].control,val,false);',
'\t}',
'\tthis.setFilter(false);',
'\tdelete this.__queryByFormValues;',
'\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\tif(this._data.length > 0) this.setValue(0);',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = \'\';',
'\t}',
'}',
',',
'\tdetailViewIsDirty: function() { return false; },',
'\tpopulateUXControls: function() { return true; },',
'\tlistIsDirty: function() { return false; },',
'\tlookupValue: function(key,name,keyValue) {\tvar _d = this._data;',
'\tvar indx = A5FindPropInArray(_d,key,keyValue);',
'\tvar rv = \'\';',
'\tif(indx >=0) {',
'\t\tif(name == \'__rowData__\') return _d[indx];',
'\t\trv =  _d[indx][name];',
'\t} else {',
'\t\t//null out all properties in row',
'\t\tvar _d2 = {};',
'\t\tif(typeof _d[0] == \'undefined\') { return {}} ;',
'\t\tfor(var n in _d[0]) {',
'\t\t\t_d2[n] = \'&nbsp;\';',
'\t\t}',
'\t\trv = _d2;',
'\t}',
'\treturn rv;',
'}',
',',
'\tallowNullSelection: false,',
'\tallowNullDeselection: false,',
'\tloopNavigate: false,',
'\tloopNavigateNullSelection: false,',
'\trefreshChildLists: function() {{UXPRERENDEREDALIAS}_DlgObj._listRefreshCascadingLists(\'LIST_TRIALS\'); },',
'\trowExpander: function(rowNumber) { ',
'\tvar mode = typeof arguments[2] != \'undefined\' ? arguments[2] : \'toggle\';',
'\tif(typeof rowNumber == \'undefined\' || rowNumber == \'\' ) {',
'\t\trowNumber = this.selection[0];',
'\t\tif(typeof rowNumber == \'undefined\') return false;',
'\t}',
'\tvar animObj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\tvar ele = $(this._hostComponentId + \'.\' + this.listVariableName + \'.ROWEXPANDER.\' + rowNumber);',
'\tif(ele) {',
'\t\tif(mode == \'toggle\') A5.u.element.toggle(ele,animObj);',
'\t\tif(mode == \'show\') A5.u.element.show(ele,animObj);',
'\t\tif(mode == \'hide\') A5.u.element.hide(ele,animObj);',
'\t}',
'}',
',',
'\tafterClientSideSummaryCompute: function(csSummary) { },',
'\tselectCurrentLayout: function(name) { ',
'var pl = this.layouts[name];',
'if(typeof pl == \'undefined\') return false;',
'this.setLayout(name);',
'if(pl.type == \'column\') {',
'\tthis.columnLayout.header.show = this.layouts[name].showColumnTitles; ',
'\tthis.refresh();',
'}',
'},',
'\tonFilter: function() { \tvar e = {}; ',
'\te.rowCount = this._values.length;  ',
'\tvar ele = $(\'{UXPRERENDEREDALIAS}.__listId__.RECORDCOUNT\'); ',
'\tif(ele) {ele.innerHTML = e.rowCount;}; ',
'\tif(this.persistToStorage) { this.persistToStorage({});} ',
'\t(function(e) {   })(e);',
'}',
',',
'\tserverSideSort: function(column) {',
'var e = {};',
'e.column = column;',
'var result = this.systemEvents.beforeServerSideSort(e);',
'if(result == false) return false;',
'var obj = {};',
'obj.cmd = \'sort\';',
'obj.column = column;',
'obj.layoutName = this.layout;',
'obj.listState = this._state;',
'var data = \'_listId=LIST_TRIALS&\' + A5.ajax.buildURLParam(\'_cmdObj\',$u.o.toJSON(obj));',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:listServerSideSort\',\'\',data);',
'},',
'\tfilterListClientSide: function(searchFor) {',
'//var result = this.systemEvents.beforeClientSideFilter();',
'//if(result == false) return false;',
'if(searchFor != \'\') {',
'\t//fixes bug in Chrome when searching on dates strings that use forward slashes',
'\tsearchFor = searchFor.replace(/\\//g,\'\\\\/\');',
'\tthis.setFilter({\'location\': RegExp(\'\' + searchFor,\'i\'), \'summary\': RegExp(\'\' + searchFor,\'i\'), \'purpose\': RegExp(\'\' + searchFor,\'i\'), \'overview\': RegExp(\'\' + searchFor,\'i\'), \'eligibility\': RegExp(\'\' + searchFor,\'i\'), \'moreinfo\': RegExp(\'\' + searchFor,\'i\'), \'contact\': RegExp(\'\' + searchFor,\'i\'), \'latitude\': RegExp(\'\' + searchFor,\'i\'), \'longitude\': RegExp(\'\' + searchFor,\'i\'), \'Miles\': RegExp(\'\' + searchFor,\'i\'), \'CWID\': RegExp(\'\' + searchFor,\'i\')});',
'} else this.setFilter(false);',
'var rowCount = this._values.length;',
'//var e = {};',
'//e.rowCount = rowCount;',
'//this.systemEvents.afterClientSideFilter(e);',
'var ele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.RECORDCOUNT\');',
'if(ele) ele.innerHTML = rowCount;',
'}',
',',
'\tscrollToClosestValue: function(val) { \t',
'\tif(typeof val != \'string\') val = val.join(\'\');',
'\tvar flagCI = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\tvar pos = typeof arguments[2] != \'undefined\' ? arguments[2] : \'top\';',
'\tvar anim = typeof arguments[3] != \'undefined\' ? arguments[3] : {}',
'\tvar _d = this._rData;',
'\tvar len = val.length;',
'\tvar _d2;',
'\tvar i2 = -1;',
'\tif(flagCI) val = val.toLowerCase();',
'\tfor(var i = 0 ; i < _d.length; i++) {',
'\t\ti2 = i;',
'\t\t_d2 = String(_d[i][\'*value\']);',
'\t\t_d2 = _d2.substr(0,len);',
'\t\t_d2 = $u.s.pad(_d2,len,\' \',\'l\');',
'\t\tif(flagCI) _d2 = _d2.toLowerCase();',
'\t\tif(val <= _d2){',
'\t\t\t break;',
'\t\t}',
'\t}',
'\tif(i2 > -1) { ',
'\t\tthis.scrollToItem(i2,{mode: pos, animation: anim});',
'\t}',
'}',
',',
'\t_refreshStateMessages: function() {',
'\tvar ele = \'\';',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.PAGENUMBER\');',
'\tif(ele) ele.innerHTML = this._state.page;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.PAGECOUNT\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.PAGECOUNT.PAGESELECTOR\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;\t',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.LISTSTATE\');',
'\tif(ele) {',
'\t\tvar listState = $u.o.toJSON(this._state);',
'\t\tele.innerHTML = listState;',
'\t}',
'\t//navigation buttons\t',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_NEXT.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_LAST.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_FIRST.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_PREV.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = $(\'{UXPRERENDEREDALIAS}.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LIST_TRIALS\');',
'\tif(ele) {',
'\t\tvar data = this._recordNavigatorLinks;',
'\t\tif(data) A5.form.populateSelect(ele,this._state.page,data,true);',
'\t}',
'}',
',',
'\tview: {',
'\t\ttype: \'dynamic\',',
'\t\tsize: 15,',
'\t\tmaxSize: 0,',
'\t\toffset: 5,',
'\t\tnavigation: {',
'\t\t\tpull: {',
'\t\t\t\tallow: true,',
'\t\t\t\tsize: 15',
'\t\t\t},',
'\t\t\tprev: {',
'\t\t\t\thtml: \'Previous\'',
'\t\t\t},',
'\t\t\tnext: {',
'\t\t\t\thtml: \'Next\'',
'\t\t\t}',
'\t\t}',
'\t},',
'\tscroller: {',
'\t\thas: true,',
'\t\tflow: \'ttb\',',
'\t\tlocation: \'after\',',
'\t\toffset: {',
'\t\t\ttop: \'0px\',',
'\t\t\tbottom: \'0px\',',
'\t\t\tleft: \'0px\',',
'\t\t\tright: \'0px\'',
'\t\t},',
'\t\tslider: {',
'\t\t\thandle: {',
'\t\t\t},',
'\t\t\tshadow: {',
'\t\t\t\tshow: true',
'\t\t\t},',
'\t\t\tmessage: {',
'\t\t\t\tshow: \'auto\',',
'\t\t\t\tlowSwitch: 75,',
'\t\t\t\thighSwitch: 75',
'\t\t\t}',
'\t\t},',
'\t\tdial: {',
'\t\t\tshow: \'drag\',',
'\t\t\tinvertDrag: false,',
'\t\t\tmessage: {',
'\t\t\t},',
'\t\t\tpixelStep: 4,',
'\t\t\tsize: 2',
'\t\t},',
'\t\tshow: true',
'\t},',
'\t_getRoute: function() { ',
'\tvar obj  = typeof arguments[1] != \'undefined\' ? arguments[1] : [];',
'\tvar mode = typeof arguments[0] != \'undefined\' ? arguments[0] : \'rowNumber\'; //',
'\tif(typeof this.selection[0] == \'undefined\') return false;',
'\tif(typeof this.getData(this.selection[0]) == \'undefined\') return false;',
'\tif(mode == \'rowNumber\') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])[\'*key\']});',
'\telse obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tif(lObj) lObj._getRoute(mode,obj);',
'\t}',
'\treturn obj;',
'}',
',',
'\t_setRoute: function(route) { ',
'\tif(typeof route == \'undefined\') { ',
'\t\troute = this.__currentRoute;',
'\t\tif(typeof route == \'undefined\') return false;',
'\t}',
'\tvar lObj = \'\';',
'\tvar row = \'\';',
'\tfor(var i = 0; i < route.length; i++) {',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(route[i].list);',
'\t\trow = route[i].row;',
'\t\tvar flag = typeof this._restoringList != \'undefined\' ? !this._restoringList : true;',
'\t\tif(typeof row != \'undefined\') {',
'\t\t\tvar rowFixed = \'\';',
'\t\t\tif(typeof lObj._dataMap == \'undefined\') return false;',
'\t\t\t//var msg = JSON.stringify(lObj._dataMap);',
'\t\t\t//alert(\'route[i].row:\' + route[i].row + \' ------ \' + msg);',
'\t\t\trowFixed = lObj._dataMap.indexOf(route[i].row);',
'\t\t\tlObj.setValue(rowFixed,flag);',
'\t\t\tif(this._clearServerSideErrors) this._clearServerSideErrors();',
'\t\t\tif(this._showServerSideErrors) this._showServerSideErrors();',
'\t\t\tif(this._showWriteConflictErrors) this._showWriteConflictErrors();',
'\t\t}',
'\t}',
'}',
',',
'\t_useServerSideSyncLog: false,',
'\t_searchHighlighting: false',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_STATES\'] = A5DataArrayToObject([\'State\',\'Abbrev\'],[[\'Alabama\',\'AL\'],[\'Alaska\',\'AK\'],[\'Arizona\',\'AZ\'],[\'Arkansas\',\'AR\'],[\'California\',\'CA\'],[\'Colorado\',\'CO\'],[\'Connecticut\',\'CT\'],[\'Delaware\',\'DE\'],[\'District of Columbia\',\'DC\'],[\'Florida\',\'FL\'],[\'Georgia\',\'GA\'],[\'Hawaii\',\'HI\'],[\'Idaho\',\'ID\'],[\'Illinois\',\'IL\'],[\'Indiana\',\'IN\'],[\'Iowa\',\'IA\'],[\'Kansas\',\'KS\'],[\'Kentucky\',\'KY\'],[\'Louisiana\',\'LA\'],[\'Maine\',\'ME\'],[\'Maryland\',\'MD\'],[\'Massachusetts\',\'MA\'],[\'Michigan\',\'MI\'],[\'Minnesota\',\'MN\'],[\'Mississippi\',\'MS\'],[\'Missouri\',\'MO\'],[\'Montana\',\'MT\'],[\'Nebraska\',\'NE\'],[\'Nevada\',\'NV\'],[\'New Hampshire\',\'NH\'],[\'New Jersey\',\'NJ\'],[\'New Mexico\',\'NM\'],[\'New York\',\'NY\'],[\'North Carolina\',\'NC\'],[\'North Dakota\',\'ND\'],[\'Ohio\',\'OH\'],[\'Oklahoma\',\'OK\'],[\'Oregon\',\'OR\'],[\'Pennsylvania\',\'PA\'],[\'Puerto Rico\',\'PR\'],[\'Rhode Island\',\'RI\'],[\'South Carolina\',\'SC\'],[\'South Dakota\',\'SD\'],[\'Tennessee\',\'TN\'],[\'Texas\',\'TX\'],[\'Utah\',\'UT\'],[\'Vermont\',\'VT\'],[\'Virginia\',\'VA\'],[\'Washington\',\'WA\'],[\'West Virginia\',\'WV\'],[\'Wisconsin\',\'WI\'],[\'Wyoming\',\'WY\']]); ',
'{UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_INTERNATIONAL\'] = A5DataArrayToObject([\'Country\',\'Trials\'],[[\'Algeria\',\'\'],[\'Angola\',\'\'],[\'Argentina\',\'\'],[\'Armenia\',\'\'],[\'Australia\',\'\'],[\'Austria\',\'\'],[\'Bahamas\',\'\'],[\'Bahrain\',\'\'],[\'Bangladesh\',\'\'],[\'Belarus\',\'\'],[\'Belgium\',\'\'],[\'Bosnia\',\'\'],[\'Bosnia and Herzegovina\',\'\'],[\'Botswana\',\'\'],[\'Brazil\',\'\'],[\'Bulgaria\',\'\'],[\'Burkina Faso\',\'\'],[\'Cameroon\',\'\'],[\'Canada\',\'\'],[\'Chile\',\'\'],[\'China\',\'\'],[\'Colombia\',\'\'],[\'Columbia\',\'\'],[\'Congo\',\'\'],[\'Costa Rica\',\'\'],[\'Cte D\\\'Ivoire\',\'\'],[\'Croatia\',\'\'],[\'Cyprus\',\'\'],[\'Czech Republic\',\'\'],[\'Denmark\',\'\'],[\'Dominican Republic\',\'\'],[\'Ecuador\',\'\'],[\'Egypt\',\'\'],[\'El Salvador\',\'\'],[\'Estonia\',\'\'],[\'Finland\',\'\'],[\'France\',\'\'],[\'Georgia\',\'\'],[\'Germany\',\'\'],[\'Ghana\',\'\'],[\'Greece\',\'\'],[\'Guatemala\',\'\'],[\'Honduras\',\'\'],[\'Hong Kong\',\'\'],[\'Hungary\',\'\'],[\'Iceland\',\'\'],[\'India\',\'\'],[\'Indonesia\',\'\'],[\'Iran, Islamic Republic of\',\'\'],[\'Ireland\',\'\'],[\'Israel\',\'\'],[\'Italy\',\'\'],[\'Japan\',\'\'],[\'Jordan\',\'\'],[\'Kazakhstan\',\'\'],[\'Kenya\',\'\'],[\'Korea, Republic of\',\'\'],[\'Kuwait\',\'\'],[\'Latvia\',\'\'],[\'Lebanon\',\'\'],[\'Lithuania\',\'\'],[\'Luxembourg\',\'\'],[\'Macedonia, The Former Yugoslav Republic of\',\'\'],[\'Madagascar\',\'\'],[\'Malaysia\',\'\'],[\'Mauritius\',\'\'],[\'Mexico\',\'\'],[\'Moldova, Republic of\',\'\'],[\'Monaco\',\'\'],[\'Montenegro\',\'\'],[\'Morocco\',\'\'],[\'Netherlands\',\'\'],[\'New Zealand\',\'\'],[\'Nicaragua\',\'\'],[\'Niger\',\'\'],[\'Nigeria\',\'\'],[\'Norway\',\'\'],[\'Oman\',\'\'],[\'Pakistan\',\'\'],[\'Panama\',\'\'],[\'Peru\',\'\'],[\'Philippines\',\'\'],[\'Poland\',\'\'],[\'Portuga\',\'\'],[\'Puerto Rico\',\'\'],[\'Qatar\',\'\'],[\'Romania\',\'\'],[\'Russia\',\'\'],[\'Russian Federation\',\'\'],[\'Saudi Arabia\',\'\'],[\'Serbia\',\'\'],[\'Singapore\',\'\'],[\'Slovakia\',\'\'],[\'Slovenia\',\'\'],[\'South Africa\',\'\'],[\'Spain\',\'\'],[\'Sri Lanka\',\'\'],[\'Sweden\',\'\'],[\'Switzerland\',\'\'],[\'Taiwan\',\'\'],[\'Tanzania\',\'\'],[\'Thailand\',\'\'],[\'Togo\',\'\'],[\'Tonga\',\'\'],[\'Trinidad and Tobago\',\'\'],[\'Tunisia\',\'\'],[\'Turkey\',\'\'],[\'Uganda\',\'\'],[\'Ukraine\',\'\'],[\'United Arab Emirates\',\'\'],[\'United Kingdom\',\'\'],[\'Uruguay\',\'\'],[\'Venezuela\',\'\'],[\'Vietnam\',\'\'],[\'Virgin Islands (U.S.)\',\'\'],[\'Zimbabwe\',\'\']]); ',
'{UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_TRIALS\'] = [];',
';',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ \t__dialogGuid: \'0befc0c7-be26-428e-9a46-c38945c56c13\', \targumentsBoundToCotrols: \'whatCountry|Character={LIST_INTERNATIONAL}\\nwhatState|Character={LIST_STATES}\\n\', \t__dtfmt: \'MM/dd/yyyy\' });',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'LIST_STATES\'] =  { type: \'list\',  data: {UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_STATES\'],  settings: {UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_STATES\'] }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'LIST_INTERNATIONAL\'] =  { type: \'list\',  data: {UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_INTERNATIONAL\'],  settings: {UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_INTERNATIONAL\'] }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'LIST_TRIALS\'] =  { type: \'list\',  data: {UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_TRIALS\'],  settings: {UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_TRIALS\'] }',
'{UXPRERENDEREDALIAS}_DlgObj.setVariables({});',
'{UXPRERENDEREDALIAS}_DlgObj._dataBoundControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._primaryTableAlias = \'\';',
'{UXPRERENDEREDALIAS}_DlgObj._listControlsInfo = {};',
'{UXPRERENDEREDALIAS}_DlgObj._hasPanels = true;',
'{UXPRERENDEREDALIAS}_DlgObj._hasOnSynchronizeEvent = false;',
'A5.__dtfmt = \'MM/dd/yyyy\';A5.__tfmt = \'\';',
'A5.__flagWorkingPreview = false;',
'A5.__flagIIS = false;',
'A5.__flagSimulateIIS = true;',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation = function() { ',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj == \'undefined\') return \'\';',
'\tvar orientation = {UXPRERENDEREDALIAS}_DlgObj.getOrientation();',
'\tif( orientation == \'landscape\') {',
'\t\t\t//landscape',
'\t\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'landscape\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'landscape\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'landscape\'});',
'\t\t\t}',
'\t} else {',
'\t\t//portrait',
'\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'portrait\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'portrait\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'portrait\'});',
'\t\t\t}',
'\t}',
'}',
'\tA5.flags.cordovaLoaded = true;',
'\ttry {',
'\t\tdocument.addEventListener(\'deviceready\', function() { ',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onCordovaReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onPhoneGapReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._cordovaReady = true;',
'\t\t\tnavigator.geolocation.getAccuratePosition = function(geolocationSuccess, geolocationError, options) {',
'\tvar _lastCheckedPosition = null;',
'\tvar _locationEventCount = 0;',
'\toptions = options || {};',
'\toptions.context = this;',
'    function _checkLocation(pos) {',
'        _lastCheckedPosition = pos;',
'        _locationEventCount++;',
'        if ((pos.coords.accuracy <= options.desiredAccuracy) && (_locationEventCount > options.ignoreResultCount)) {',
'            clearTimeout(_timerID);',
'            navigator.geolocation.clearWatch(_watchID);',
'            _foundPosition(pos);',
'        } ',
'    }',
'    function _stopLocationCheck() {',
'    \t var error = {};',
'    \t error.code = 0;',
'    \t error.message = \'Timeout: No results\';',
'        navigator.geolocation.clearWatch(_watchID);',
'        _lastCheckedPosition ? _foundPosition(_lastCheckedPosition) : geolocationError.call(options.context,error);',
'    }',
'    function _onError(error) {',
'        clearTimeout(_timerID);',
'        navigator.geolocation.clearWatch(_watchID);',
'        geolocationError.call(options.context,error);',
'    }',
'    function _foundPosition(pos) {',
'        geolocationSuccess.call(options.context,pos);',
'    }',
'    if (!options.maxWait) {            ',
'    \toptions.maxWait = 10000; ',
'    }\t',
'    if (!options.desiredAccuracy) {',
'    \t  options.desiredAccuracy = 20; ',
'    }',
'    if (!options.timeout) {',
'        options.timeout = options.maxWait;',
'\t }',
'\t if (!options.ignoreResultCount) {',
'\t \t\toptions.ignoreResultCount = 1;',
'\t }',
'    options.maximumAge = 0; ',
'    options.enableHighAccuracy = true; ',
'    var _watchID = navigator.geolocation.watchPosition(_checkLocation, _onError, options);',
'    var _timerID = setTimeout(_stopLocationCheck, options.maxWait); ',
'}',
'\t\t} , false);\t',
'\t}',
'\tcatch(err) {}',
'{UXPRERENDEREDALIAS}_DlgObj._waitGif = \'css/A5System/Images/wait.gif\';',
'{UXPRERENDEREDALIAS}_DlgObj._embeddedUXComponents = {',
'\'SCREENER\' : {arguments: []}',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._layoutMode = \'containerwidth\';',
'{UXPRERENDEREDALIAS}_DlgObj._responsiveRulesMode = \'firsttrue\';',
'{UXPRERENDEREDALIAS}_DlgObj.__controlNesting = {',
'PANELHEADER_LOCATION: [\'container:LEFT_BUTTONS_LOCATION\',\'container:CONTAINER_CENTER_LOCATION\'],',
'LEFT_BUTTONS_LOCATION: [],',
'CONTAINER_CENTER_LOCATION: [],',
'CONTAINER_LOCATION: [\'tabControl:TAB_LOCATIONS\'],',
'TAB_LOCATIONS: [\'tabPane:TAB_LOCATIONS#1\',\'tabPane:TAB_LOCATIONS#2\'],',
'"TAB_LOCATIONS#1": [\'LIST_STATES\'],',
'"TAB_LOCATIONS#2": [\'LIST_INTERNATIONAL\'],',
'PANELHEADER_TRIALS: [\'container:LEFT_BUTTONS_TRIALS\'],',
'LEFT_BUTTONS_TRIALS: [],',
'PANELHEADER_TRIALDETAILS: [\'container:LEFT_BUTTONS_TRIALDETAILS\',\'container:CONTAINER_CENTER_TRIALS1\'],',
'LEFT_BUTTONS_TRIALDETAILS: [],',
'CONTAINER_CENTER_TRIALS1: [],',
'CONTAINER_QUALIFY_DETAILS: [],',
'TAB_PANES: [\'tabPane:TAB_PANES#1\',\'tabPane:TAB_PANES#2\',\'tabPane:TAB_PANES#3\',\'tabPane:TAB_PANES#4\'],',
'"TAB_PANES#1": [],',
'"TAB_PANES#2": [],',
'"TAB_PANES#3": [],',
'"TAB_PANES#4": []',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._listsDV = [];',
'{UXPRERENDEREDALIAS}_DlgObj._listControls = [\'LIST_STATES\',\'LIST_INTERNATIONAL\',\'LIST_TRIALS\']',
'{UXPRERENDEREDALIAS}_DlgObj._localStorageSettings = {namespace: \'ALPHA_CWLocation\',friendlyName: \'CenterWatch Location\',description: \'Find Clinical Trials by Location\',persistVariableValues: false,__version: 1,persistComponentState: false,workingPreviewTestingFolder: \'\',restore: {variables: false,data: false,state: false},compressData: true,minify: true,variablesToNotPersist: \'\',workingPreviewTestingMode: \'Browser\',compressListData: true}',
'{UXPRERENDEREDALIAS}_DlgObj.__r = [\'3rkeltoSdQc=\']',
'{UXPRERENDEREDALIAS}_DlgObj._staticHTMLMode = false',
'{UXPRERENDEREDALIAS}_DlgObj._EDITOR_EDITORSET = {};',
'{UXPRERENDEREDALIAS}_DlgObj.styleName = \'iOS7\';',
'{UXPRERENDEREDALIAS}_DlgObj.styleVersion = 3',
'{UXPRERENDEREDALIAS}_DlgObj.framesInfo = {',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._noPersist = []',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_LOCATION\',A5.d.evnts.click,function(e) {',
'CWApp.goBackToMainMenu({UXPRERENDEREDALIAS}_DlgObj);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_LOCATION\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_USTRIALS\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_LOCATIONS\',true);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_USTRIALS\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_TRIALLIST\',true);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS\');',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_O_B10C9F8A4D6E4F38BC2F82FB8A3A17CA(1,\'1\',this);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS\');',
'',
'{UXPRERENDEREDALIAS}_DlgObj.prepare();{UXPRERENDEREDALIAS}_DlgObj.populate({UXPRERENDEREDALIAS}_DlgObj.originalValues[0]);',
'{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);',
'',
'',
'if(!A5.flags.isMobile) $e.add(window,\'resize\',{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation);',
'else $e.add(window,\'orientationchange\',{UXPRERENDEREDALIAS}_DlgObj._orientationChangeHandler,{UXPRERENDEREDALIAS}_DlgObj,true);',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation();',
'',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_LOCATIONS\');',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_PANES\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var listObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_STATES\');',
'if(listObj) listObj._state.recordCount = 52;',
'if(listObj) listObj._state.recordCountFormatted = \'52\';',
'if(listObj) listObj._state.lastBreakValue = \'<None>\';',
'if(listObj) listObj._state.pageCount = 0;',
'if(listObj) listObj._state.pageSize = 20;',
'if(listObj) {var ele = $(\'{UXPRERENDEREDALIAS}.LIST_STATES.RECORDCOUNT\'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};',
'if(listObj) listObj._state.paginated = false;',
'',
'if(listObj) listObj._state.filter = \'\';',
'if(listObj) listObj._state.having = \'\';',
'if(listObj) listObj._state.order = \'\';',
'if(listObj) listObj._state.filterParameters = \'\';',
'if(listObj) listObj._state.highlight = {  };',
'if(listObj) listObj._state.whereClause = \'\';',
'if(listObj) listObj._state.whereParameters = \'\';',
'\t\t',
'\t\tvar flagPersist = false;',
'\t\tif(typeof listObj._flagPersistDataOK != \'undefined\') { ',
'\t\t\tif(listObj._flagPersistDataOK) { ',
'\t\t\t\tvar data = listObj._data;',
'\t\t\t\tlistObj.persistToStorage({mode:\'populate\', data: data});',
'\t\t\t}',
'\t\t}',
'\t\t',
'\t\t',
';',
'{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_STATES\',\'afterRenderComplete\',{});',
'',
'if(listObj._refreshStateMessages) listObj._refreshStateMessages();',
'',
'var listObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_INTERNATIONAL\');',
'if(listObj) listObj._state.recordCount = 116;',
'if(listObj) listObj._state.recordCountFormatted = \'116\';',
'if(listObj) listObj._state.lastBreakValue = \'<None>\';',
'if(listObj) listObj._state.pageCount = 0;',
'if(listObj) listObj._state.pageSize = 20;',
'if(listObj) {var ele = $(\'{UXPRERENDEREDALIAS}.LIST_INTERNATIONAL.RECORDCOUNT\'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};',
'if(listObj) listObj._state.paginated = false;',
'',
'if(listObj) listObj._state.filter = \'\';',
'if(listObj) listObj._state.having = \'\';',
'if(listObj) listObj._state.order = \'\';',
'if(listObj) listObj._state.filterParameters = \'\';',
'if(listObj) listObj._state.highlight = {  };',
'if(listObj) listObj._state.whereClause = \'\';',
'if(listObj) listObj._state.whereParameters = \'\';',
'\t\t',
'\t\tvar flagPersist = false;',
'\t\tif(typeof listObj._flagPersistDataOK != \'undefined\') { ',
'\t\t\tif(listObj._flagPersistDataOK) { ',
'\t\t\t\tvar data = listObj._data;',
'\t\t\t\tlistObj.persistToStorage({mode:\'populate\', data: data});',
'\t\t\t}',
'\t\t}',
'\t\t',
'\t\t',
';',
'{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_INTERNATIONAL\',\'afterRenderComplete\',{});',
'',
'if(listObj._refreshStateMessages) listObj._refreshStateMessages();',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var listObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\');',
'if(listObj) listObj._state.recordCount = 0;',
'if(listObj) listObj._state.recordCountFormatted = \'0\';',
'if(listObj) listObj._state.lastBreakValue = \'<None>\';',
'if(listObj) listObj._state.pageCount = 0;',
'if(listObj) listObj._state.pageSize = 20;',
'if(listObj) {var ele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.RECORDCOUNT\'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};',
'if(listObj) listObj._state.paginated = false;',
'',
'if(listObj) listObj._state.filter = \'\';',
'if(listObj) listObj._state.having = \'\';',
'if(listObj) listObj._state.order = \'\';',
'if(listObj) listObj._state.filterParameters = \'\';',
'if(listObj) listObj._state.highlight = {  };',
'if(listObj) listObj._state.whereClause = \'\';',
'if(listObj) listObj._state.whereParameters = \'\';',
'\t\t',
'\t\tvar flagPersist = false;',
'\t\tif(typeof listObj._flagPersistDataOK != \'undefined\') { ',
'\t\t\tif(listObj._flagPersistDataOK) { ',
'\t\t\t\tvar data = listObj._data;',
'\t\t\t\tlistObj.persistToStorage({mode:\'populate\', data: data});',
'\t\t\t}',
'\t\t}',
'\t\t',
'\t\t',
';',
'{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_TRIALS\',\'afterRenderComplete\',{});',
'',
'if(listObj._refreshStateMessages) listObj._refreshStateMessages();',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var obj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\');',
'obj._hasBeenRendered = false;',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'setTimeout(function() { },0);',
'{UXPRERENDEREDALIAS}_DlgObj._listsWithJSFuncDataSource = {};',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onInitializeComplete\');',
'{UXPRERENDEREDALIAS}_DlgObj.initialized = true;',
'',
'',
'',
'',
'',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._onRenderComplete = function() { {UXPRERENDEREDALIAS}_DlgObj._runJSOnLoad(); {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule(); }; ',
'',
'setTimeout(function() { var p = {UXPRERENDEREDALIAS}_DlgObj.panelGet(\'PANELNAVIGATOR\'); if(p._sizing == \'window\') { p._sizeWindow();} else { p.refresh(); } },100);',
'setTimeout(function() {{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onRenderComplete\'); {UXPRERENDEREDALIAS}_DlgObj.flagRenderComplete = true;  {UXPRERENDEREDALIAS}_DlgObj._restoreFromLocalStorage(); },1);',
'',
'var o2 = \'portrait\';',
'if(window.innerHeight < window.innerWidth) o2 = \'landscape\';',
'{UXPRERENDEREDALIAS}_DlgObj._screen = {h: window.innerHeight, w: window.innerWidth, o: o2};',
'',
'{UXPRERENDEREDALIAS}_DlgObj._getOnlineStatus();',
'try {',
'window.addEventListener("offline",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'window.addEventListener("online",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'} catch(err){}',
'',
'',
'setTimeout(function() {$e.execute(\'device.screen\',\'a5resize\')},1);',
'setTimeout(function() { },10);;',
'{UXPRERENDEREDALIAS}_DlgObj._activeLanguage = \'\';',
''].join('\n');
jsout = jsout.replace(/\{UXPRERENDERAJAXURL\}/g,'http://69.7.228.180/centerappv1/FINDBYLOCATION.a5wcmp?__virtualPage=__a5runDialog.a5w&__dialogFilename=FINDBYLOCATION&__alias={UXPRERENDEREDALIAS}&__unsaved=no');
jsout = jsout.replace(/\{UXPRERENDEREDALIAS\}/g,go.alias);
jsout = jsout.replace(/\{UXPRERENDEROUTPUTDIV\}/g,go.dialog2Div);
;return jsout}; 
function PRECOMPUTEDUX_5d561f61bb264ac8ae96b2a4773987b0_FindByKeywords(go) { 
var jsout = [
'A5.u.element.setContent(\'{UXPRERENDEROUTPUTDIV}\',\'<style type="text/css">\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRow { position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRow:before { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid orange;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_newRow {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_newRow:before { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid blue;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_hasError {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_hasError:after { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\tbottom: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid red;\\n\\tborder-bottom-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-top-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRow {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRow:before { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid purple;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited { position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid orange;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRowInherited { position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRowInherited:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid purple;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_newRowInherited {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_newRowInherited:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid blue;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorInherited {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorInherited:after { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\tbottom: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid red;\\n\\tborder-bottom-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-top-color: transparent;\\nopacity: .3;\\n}\\n.parentDeleted { \\n\\tposition:relative;\\n}\\n.parentIsDeleted .parentDeleted:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid purple;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n</style>\\n<style>\\n</style><iframe style="display:none;" id="{UXPRERENDEREDALIAS}.__IFRAME1"></iframe>\\n<input type="hidden" value="" id="{UXPRERENDEREDALIAS}.PARAMETERBUCKET"/>\\n<input type="file" style="position:absolute; top:-1000px;visibility:hidden;" accept="image/*" id="{UXPRERENDEREDALIAS}._GETPHOTO"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" multiple = "" id="{UXPRERENDEREDALIAS}._GETFILEMULTI"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" id="{UXPRERENDEREDALIAS}._GETFILE"/><input type="hidden" id="{UXPRERENDEREDALIAS}.V.R1.LIST_TRIALS" name="V.R1.LIST_TRIALS" />\\n\');',
'',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {',
'\t{UXPRERENDEREDALIAS}_DlgObj._destroy();',
'\ttry {',
'\t\tdelete {UXPRERENDEREDALIAS}_DlgObj;',
'\t} catch(e) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj = undefined;',
'\t}',
'};',
';if(typeof {UXPRERENDEREDALIAS}_PanelObj != \'undefined\') {',
'\tvar ele = $({UXPRERENDEREDALIAS}_PanelObj.getPanelId());',
'\tif(ele) {',
'\t\tif(ele.parentNode) ele.parentNode.removeChild(ele);',
'\t}',
'\tdelete {UXPRERENDEREDALIAS}_PanelObj;',
'}',
';window[\'{UXPRERENDEREDALIAS}_PanelObj\'] = new A5.PanelNavigator([',
'{',
'\tname: \'PANELCARD_KEYWORDS\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_SEARCH"   \\n\\t\\t\\tclass="A5CWLayout "  style="width: 100%; "  >\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.LISTCLINICALTRIALS_KEYWORDSEARCH" title=""  autocapitalize="off"  autocorrect="off"     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"  onkeyup="{UXPRERENDEREDALIAS}_DlgObj.getControl(\\\'LIST_TRIALS\\\').searchList({searchMode : \\\'auto\\\'});"   name="V.R1.LISTCLINICALTRIALS_KEYWORDSEARCH"    value=""    />\\n\\n</div>\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_SEARCH.BREAK"  style="clear:both; " />\\n<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_LIST"   \\n\\t\\t\\tclass="A5CWLayout "  style="width: 100%; "  >\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t\\n<div  class="iOS7List"   style="padding:0px; margin:0 px; border: 0px; padding: 0px; "  >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.LIST_TRIALS.CONTROL"  class="{UXPRERENDEREDALIAS}_LIST_TRIALS" style="overflow: auto; width: 100%; height: 100%; "></div>\\n</div>\\n\\n</div>\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_LIST.BREAK"  style="clear:both; " />\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'y\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS_KEYWORDS"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_KEYWORDS"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CENTER"    \\t\\t\\tclass="A5CWLayout "  style=""  > <div style="display: table; margin: auto;"> <div class="A5CWLayout" style="width: " > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.STATICTEXT_TRIALS" title=""  class="iOS7Heading" style="text-shadow: 2px 2px #ccc; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >Trials: <span id="{UXPRERENDEREDALIAS}.LISTCLINICALTRIALS.RECORDCOUNT"></div> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> </div><div style="display:none;"></div>\',',
'\t\tshow: true,',
'\t\tstyle: \'height: 40px; min-height: 40px; \'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tonSize: function() {;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {var mObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\'); if(mObj) mObj.refresh();}}',
'})',
'},',
'{',
'\tname: \'PANELCARD_TRIALDETAILS\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_QUALIFY_DETAILS"   \\n\\t\\t\\tclass="A5CWLayout "  style="width: 100%; "  >\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_QUALIFY"    ></button>\\n</div>\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS"    ></button>\\n</div><br  style="clear:both; " />\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_QUALIFY_DETAILS.BREAK"  style="clear:both; " /><div  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_QUALIFY_DETAILS.BREAK"  style="height:10px; font: 0pt;"></div>\\n<div style="width:100%;" class="A5CWLayout iOS7TabT" id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES">\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.TABBAND" class="iOS7TabTBand">\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.0.TAB" class="" href="#">Overview</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.1.TAB" class="" href="#">Eligibility</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.2.TAB" class="" href="#">More Info</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.3.TAB" class="" href="#">Contact</a>\\n\\t<br style="clear: both;" />\\n\\t</div>\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.PANES" class="iOS7TabTPanes">\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.0.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_OVERVIEW" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.1.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_ELIGIBILITY" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.2.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_MOREINFO" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.3.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_CONTACT" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n</div>\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: "  id="{UXPRERENDEREDALIAS}.V.R1.LISTCLINICALTRIALS_GLOBALERRORS" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><br  style="clear:both; " />\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: false',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS_TRIALDETAILS"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CENTER_TRIALS1"    \\t\\t\\tclass="A5CWLayout "  style=""  > <div style="display: table; margin: auto;"> <div class="A5CWLayout" style="width: " > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.TEXT_DETAILS" title=""  class="iOS7Heading" style="text-shadow: 2px 2px #ccc; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >Details</div> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> </div><div style="display:none;"></div>\',',
'\t\tshow: true,',
'\t\tstyle: \'height: 40px; min-height: 40px; \'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tonSize: function() {;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {var mObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'VIEWBOX_OVERVIEW\'); if(mObj) mObj.refresh();}}',
'})',
'},',
'{',
'\tname: \'PANEL_SCREENER\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div class="A5CWLayout">\\n\\t<td valign="top"><div><a class="iOS7NavigatorLink" id="f4d801e3-5494-4197-9494-8304891db18e_CLOSEBUTTON" href="#" onclick="$(\\\'{UXPRERENDEREDALIAS}_DIVCONTAINER_f4d801e3_5494_4197_9494_8304891db18e\\\').innerHTML = \\\'\\\'; $(\\\'f4d801e3-5494-4197-9494-8304891db18e_CLOSEBUTTON\\\').style.display = \\\'none\\\';" style="display:none;">Close</a></div><div id="{UXPRERENDEREDALIAS}_DIVCONTAINER_f4d801e3_5494_4197_9494_8304891db18e"></div></td>\\n</div><br  style="clear:both; " />\\n\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: false',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:none;"></div>\'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t}',
'})',
'}',
'],{',
'\ttype: \'programmatic\',',
'\tflow: \'ltr\',',
'\tloopNavigate: false,',
'\tonPanelActivate: function() {var panelName = this.state.activePanel;',
'if(panelName == \'PANEL_SCREENER\') {',
'\tvar runJS = true;',
'\tif(typeof this.state._render != \'undefined\') {',
'\t\tvar rs = this.state._render[panelName];',
'\t\tif(typeof rs !=  \'undefined\') {',
'\t\t\tif(rs == true) {',
'\t\t\t\trunJS = false;',
'\t\t\t}',
'\t\t}',
'\t}\t',
'\tif(runJS) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._functions.runAction_f4d801e3_5494_4197_9494_8304891db18e();;',
'\t\tif(typeof this.state._render == \'undefined\') this.state._render = {};',
'\t\tthis.state._render[panelName] = true;',
'\t}',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.refreshClientSideComputations();},',
'\tonPanelActivateComplete: function() {if(this.state.activePanel == \'PANEL_SCREENER\') { ',
'\tvar pChild = {UXPRERENDEREDALIAS}_DlgObj.getChildObject(\'<DEFAULTALIAS>\',\'UX\');',
'\tif(pChild) pChild._executeEvent(\'onPanelActivate\');',
'};},',
'\tonSize: function() {;if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule != \'undefined\') { ',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
'\t}',
'}},',
'\ttheme: \'iOS7\',',
'\theader: {',
'\t\tshow: false',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tcontrols: {',
'\t\tprev: {',
'\t\t\thas: false',
'\t\t},',
'\t\tnext: {',
'\t\t\thas: false',
'\t\t},',
'\t\tback: {',
'\t\t\thas: false',
'\t\t},',
'\t\tforward: {',
'\t\t\thas: false',
'\t\t}',
'\t},',
'\tbody: {',
'\t},',
'\tanimation: {',
'\t\tduration: 400',
'\t}',
'})',
'var ele = window[\'{UXPRERENDEREDALIAS}_PanelObj\'].create(\'{UXPRERENDEREDALIAS}.R1\');',
'\t\tvar panelRootId = \'{UXPRERENDEROUTPUTDIV}\';',
'\t\tvar flagSizeToParent = true;',
'\t\tvar wf_alias = \'{UXPRERENDEREDALIAS}\';',
'\t\tif(panelRootId != \'\') { ',
'\t\t\tif (!$(panelRootId)) panelRootId = \'\';',
'\t\t}',
'\t\tif(panelRootId != \'\') { ',
'\t\t\t$(panelRootId).appendChild(ele);',
'\t\t\tif(flagSizeToParent) { ',
'\t\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'parent\');',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tdocument.body.insertBefore(ele,document.body.firstChild);',
'\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'window\');',
'\t\t}',
'{UXPRERENDEREDALIAS}_PanelObj._panelPath = {',
'\tPANELCARD_KEYWORDS: \'PANELCARD_KEYWORDS\',',
'\tPANELCARD_TRIALDETAILS: \'PANELCARD_TRIALDETAILS\',',
'\tPANEL_SCREENER: \'PANEL_SCREENER\'',
'}',
'{UXPRERENDEREDALIAS}_PanelObj._displayNames = {',
'PANELCARD_KEYWORDS : \'PANELCARD_KEYWORDS\',PANELCARD_TRIALDETAILS : \'PANELCARD_TRIALDETAILS\',PANEL_SCREENER : \'PANEL_SCREENER\',PANELNAVIGATOR : \'PANELNAVIGATOR\'',
'};',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {UXPRERENDEREDALIAS}_DlgObj._destroy();',
'window[\'{UXPRERENDEREDALIAS}_DlgObj\'] = new A5.DialogComponentHelper(\'{UXPRERENDEREDALIAS}\',{',
'\tajaxURL: \'{UXPRERENDERAJAXURL}\',',
'\t_embeddedMode: false,',
'\t_livePreviewInBuilder: false,',
'\tcomponentGUID: \'6e0e4102-d525-410c-aa2b-b6e2584472af\',',
'\tcolumnInfo: {\'LISTCLINICALTRIALS_KEYWORDSEARCH\': {info: {controlType: \'textbox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'LIST_TRIALS\': {info: {controlType: \'List\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'\'  }},',
'\toriginalValues: [{',
'\t\'LISTCLINICALTRIALS_KEYWORDSEARCH\': \'\',',
'\t\'LIST_TRIALS\': \'\'',
'}],',
'\tdefaultValues: {',
'\tLISTCLINICALTRIALS_KEYWORDSEARCH: \'\',',
'\tLIST_TRIALS: \'\'',
'},',
'\tdatePickerMonthNames: [\'January\',\'February\',\'March\',\'April\',\'May\',\'June\',\'July\',\'August\',\'September\',\'October\',\'November\',\'December\'],',
'\tdatePickerDayNames: [\'Sun\',\'Mon\',\'Tue\',\'Wed\',\'Thu\',\'Fri\',\'Sat\'],',
'\tdatePickerTodayButton: \'Today\',',
'\tdatePickerCloseButton: \'\',',
'\tdatePickerFirstDayOfWeek: 1,',
'\tresetFormMessage: \'Are you sure you want to reset the form?\',',
'\tresetFormTitle: \'Warning\',',
'\tresetFormIcon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\tdirtyFormMessage: \'You must first save your changes or cancel changes by clicking the Reset button.\',',
'\tdirtyFormTitle: \'Notice\',',
'\tdirtyFormIcon: \'cssIcon=iOS7Icon iOS7IconInfo\',',
'\tdeleteRecordDialogTitle: \'Delete Record\',',
'\tdeleteRecordDialogMessage: \'Are you sure you want to delete this record?\',\t',
'\tssDateFormat: \'MM/dd/yyyy\',',
'\tstyleName: \'iOS7\',',
'\t_fieldHelpers_DIALOG2: [],',
'\tparentComponentAlias: \'\'+go._thisGridAlias+\'\',',
'\tsubmitIfHasClientSideErrors: true, ',
'\trowErrors: {',
'\t\t\t\tshowMessageBox: false,',
'\t\t\t\tmessageBoxTitle: \'Error\',',
'\t\t\t\tstyle: \'color: red; width: 6in; height: 2in;\'',
'\t\t},',
'\tfieldErrors: {',
'\t\ttype: \'block\', ',
'\t\tclassName: \'errorText\',',
'\t\tinputClassName: \'iOS7EditError\',',
'\t\tedit: { ',
'\t\t\tcontainer: { className: \'iOS7EditBGError\'}',
'\t\t},',
'\t\ticon: \'cssIcon=iOS7Icon iOS7IconError\',',
'\t\tglobal: {',
'\t\t\tcontId: \'{UXPRERENDEREDALIAS}.GLOBALERRORS\',',
'\t\t\thoverClassName: \'errorTextHighlight\',',
'\t\t\thoverInputClassName: \'errorInputHighlight\'',
'\t\t}',
'\t}',
'\t});',
'{UXPRERENDEREDALIAS}_DlgObj._onOrientationChange =  function(e) { ;',
'{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
';  };',
'A5.__componentObj = {UXPRERENDEREDALIAS}_DlgObj;',
'{UXPRERENDEREDALIAS}_DlgObj._tabObjects = [\'TAB_PANES\'];',
'{UXPRERENDEREDALIAS}_DlgObj._functions.runAction_f4d801e3_5494_4197_9494_8304891db18e = function() {',
'\t\tvar go = new Object();',
'\t\tgo.dialog2Name = \'Screener\';',
'\tgo.type = \'dialog2\';',
'\tgo.alias = \'{UXPRERENDEREDALIAS}_SCREENER_1070SEKH\';',
'\tgo.workingMessage = \'<img src="css/A5System/Images/wait.gif" /> Working...\';',
'\tgo.flagTimer = \'F\';',
'\tgo.flagQueryEcho = \'F\';',
'\tgo.flagDebugMode = \'F\';',
'\tgo.userFilter = \'\';',
'\tgo.baseFilter = \'\';',
'\tgo.userOrder = \'\';',
'\tgo.overrideSettings = \'style_name=`iOS7`\'+\'||\';',
'\tgo.arguments = \'\';',
'\tgo.localArguments = \'ARG_TRIALID|Character|RUNTIMEBINDING|Null|Null|\'+{UXPRERENDEREDALIAS}_DlgObj.getValue(\'LISTCLINICALTRIALS\')+\'\';',
'\tgo.linkDefinition = \'\';',
'\tgo.placeHolderValues = \'\';',
'\tgo.parameterBucket = $gvs(\'{UXPRERENDEREDALIAS}.PARAMETERBUCKET\');',
'\tgo.argumentValueBucket = $gvs(\'{UXPRERENDEREDALIAS}.ARGUMENTVALUES\');',
'\tgo.a5_default_path = \'C_colon_|A5Webroot|livepreview\';',
'\tgo.onLoadCompleteJavascript = \'\';',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.gridId != \'undefined\') go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.gridId;',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.dialogId != \'undefined\') go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.dialogId;',
'\tvar panelCardId = {UXPRERENDEREDALIAS}_DlgObj.panelGetId(\'PANEL_SCREENER\',\'body\');',
'if($(panelCardId + \'.SCROLLWRAPPER\')) panelCardId = panelCardId + \'.SCROLLWRAPPER\';',
'go.dialog2Div = panelCardId;',
'\tA5.component.runGenericComponent(go);',
'}',
'window[\'{UXPRERENDEREDALIAS}.V.R1.TAB_PANESObj\'] = new A5.Tab(\'{UXPRERENDEREDALIAS}.V.R1.TAB_PANES\',[',
'{ \thtml: \'Overview\', \tvalue: \'1\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'Eligibility\', \tvalue: \'2\', \tpaneClassName: \'+tab-pane\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'More Info\', \tvalue: \'3\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'Contact\', \tvalue: \'4\', \tonDynamicLoadDelay: 0, \tshow: true, \tdisabled: false }',
'],',
'\t{',
'\ttheme: \'iOS7\',',
'\tonChange: function() {',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_PANES\');},',
'\tpaneHeight: \'100%\'',
'}',
');',
'\twindow[\'{UXPRERENDEREDALIAS}.V.R1.TAB_PANESObj\'].select(\'1\');',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'LISTCLINICALTRIALS_KEYWORDSEARCH\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Search for a medical condition e.g. Flu\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.lookups = {',
'};',
'window[\'{UXPRERENDEREDALIAS}_O_B10C9F8A4D6E4F38BC2F82FB8A3A17CA\'] = function(rowNum,rowId,objEle) {',
'var windowName = \'WINDOW_bfe46e12_0bc0_4bfb_b0e7_770e6d49d275\';',
'var currWindow = {UXPRERENDEREDALIAS}_DlgObj.getWindow(windowName);',
'var go = new Object();',
'go.ajaxFailedMessage = \'\';',
'go.ajaxCallbackTimeout = {UXPRERENDEREDALIAS}_DlgObj.ajaxCallbackTimeout;',
'go.objectId = objEle.id;',
'go.dialog2Name = \'SiteMap\';',
'go.type = \'dialog2\';',
'go.alias = \'SITEMAP\';',
'go.submitCurrentFieldValues = true;',
'go.sourceGridPart = \'O\';',
'go.sourceGridRowNumber = \'1\';',
'go.workingMessage = \'<img src=\\\'loading.gif\\\' />\';',
'go.placeholderValues = \'\';',
'go.argumentBinding = \'\';',
'go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.gridId;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj.gridId != \'undefined\') go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.gridId;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj.dialogId != \'undefined\') {',
'\tgo._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.dialogId;',
'}',
'go._thisGridGUID = {UXPRERENDEREDALIAS}_DlgObj.componentGUID;',
'go._gridCurrentFilter = {UXPRERENDEREDALIAS}_DlgObj._gridFilter;',
'go._gridCurrentOrder = {UXPRERENDEREDALIAS}_DlgObj._gridOrder;',
'go._gridCurrentArguments = {UXPRERENDEREDALIAS}_DlgObj._gridArguments;',
'go._gridCurrentDBType = {UXPRERENDEREDALIAS}_DlgObj._gridDBType;',
'go.overrideSettings = \'Style_name = `iOS7`||Style_name = `iOS7`\'+\'||a5SetSessionVar(`var X`, `function() {return {UXPRERENDEREDALIAS}_DlgObj.getValue();}  ()`)\';',
'go.a5_default_path = \'C_colon_|A5Webroot|livepreview\';',
'go.windowName = windowName;',
'go.showWindowParameters = \'\';',
'var runMethod = \'ajax\';',
'if(runMethod == \'ajax\') {',
'go.ajaxFailedMessage = \'\';',
'go.ajaxCallbackTimeout = {UXPRERENDEREDALIAS}_DlgObj.ajaxCallbackTimeout;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj._onlineStatus != \'undefined\') { ',
'\tif({UXPRERENDEREDALIAS}_DlgObj._onlineStatus == \'offline\') { ',
'\t\t( function() {  }() );',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onAjaxCallbackNotAvailable\', {xbasicFunctionName: \'\', ajaxEvent: \'OpenComponent\'})',
'\t\treturn false;',
'\t}',
'}\t\t',
'};',
'if(!currWindow) {',
'\tcurrWindow = {UXPRERENDEREDALIAS}_DlgObj.createWindow(windowName,\'modeless-resizable\',',
'\t{',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'blank\',',
'\t\t\telementId: \'~\'',
'\t\t}',
'\t},',
'\theight: \'5in\',',
'\twidth: \'8in\',',
'\ttitle: {',
'\t\thtml: \'&nbsp;\',',
'\t\tlocation: \'top\',',
'\t\tdirection: \'ltr\',',
'\t\tshow: true',
'\t},',
'\tdisableMove: false,',
'\ttheme: \'iOS7\',',
'\tpointer: {',
'\t\tshow: true,',
'\t\tlocation: \'auto\'',
'\t},',
'\tonBeforeShow: function() {var cs = AUI.u.getVPSize();',
'cs.width = cs.width - 10;',
'cs.height = cs.height - 10;',
'this.setSize(cs.width+\'px\',cs.height+\'px\');',
'this.setPosition(\'center\');},',
'\tanimation: {',
'\t\tshow: {',
'\t\t\ttype: \'fade\',',
'\t\t\tduration: \'slow\'',
'\t\t},',
'\t\thide: {',
'\t\t\ttype: \'none\',',
'\t\t\tduration: \'fast\'',
'\t\t}',
'\t}',
'}',
'\t);\t\t',
'\tgo.dialog2Div  = currWindow.getWindowId(\'body\')+\'_INNERCONTENT\';',
'\tgo.dialog2Div = currWindow.getWindowId(\'body\')+\'_INNERCONTENT\';',
'\tvar arrHTML = [];',
'\tarrHTML.push(\'\');',
'\tarrHTML.push(\'<table style="width:100%;height:100%;">\');',
'\tarrHTML.push(\'<tr><td  align="center"  valign="middle"  >\');',
'\tarrHTML.push(\'<div id="\'+go.dialog2Div+\'"></div>\');',
'\tarrHTML.push(\'</td>\');',
'\tarrHTML.push(\'</tr>\');',
'\tarrHTML.push(\'</table>\');',
'\t$(currWindow.getWindowId(\'body\')).innerHTML = arrHTML.join(\'\\n\');',
'A5.component.runGenericComponent(go)',
'\tcurrWindow.show();',
'} else {',
'\t\tvar ele = \'SITEMAP.GRID_PART.FORM_CONTAINER_DIV\';',
'\tvar pele = $(ele);',
'\tif(pele) pele.innerHTML = \'<img src=\\\'loading.gif\\\' /> \';',
'\tgo.dialog2Div  = currWindow.getWindowId(\'body\')+\'_INNERCONTENT\';',
'\tgo.parentGridId = \'{UXPRERENDEREDALIAS}\';',
'\tA5.component.runGenericComponent(go)',
'\tcurrWindow.show();',
'};',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({',
'\t__dialogGuid: \'3e00fab7-9939-4626-8fe7-107c6ca8fde0\',',
'\targumentsBoundToCotrols: \'\',',
'\t__sgr: \'\',',
'\t__dtfmt: \'MM/dd/yyyy\',',
'\t__tfmt: \'\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControlsChildren = [];',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ });',
'A5.msgBox.theme = \'iOS7\';',
'A5.msgBox.buttonWidth = \'1in\';',
'{UXPRERENDEREDALIAS}_DlgObj._defaultWindowTitleDirection = \'ltr\';',
'{UXPRERENDEREDALIAS}_DlgObj._controlContainers = {}',
'{UXPRERENDEREDALIAS}_DlgObj._panelCardControls = {',
'LISTCLINICALTRIALS_KEYWORDSEARCH:\'PANELCARD_KEYWORDS\',',
'LIST_TRIALS:\'PANELCARD_KEYWORDS\'',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._buttons = {};',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_KEYWORDS\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_TRIALDETAILS\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_QUALIFY\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'See if I qualify\',',
'\tonClick: function() { /* actionJavascript:5b1ce08e-eea1-48ab-98ef-2fc12d9ade3f */',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANEL_SCREENER\',true);',
'},',
'\ttheme: \'iOS7\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_DIRECTIONS\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Directions to Site\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:base\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_KEYWORDS\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_KEYWORDS\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_TRIALDETAILS\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_QUALIFY\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_QUALIFY\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_DIRECTIONS\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS\');',
'{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_TRIALS\'] = {',
'\t_dataSourceType: \'SQL\',',
'\t_listFields: [',
'\t{',
'\t\tname: \'summary\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'summary\\\');\'',
'\t},',
'\t{',
'\t\tname: \'purpose\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'purpose\\\');\'',
'\t},',
'\t{',
'\t\tname: \'overview\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'overview\\\');\'',
'\t},',
'\t{',
'\t\tname: \'eligibility\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'eligibility\\\');\'',
'\t},',
'\t{',
'\t\tname: \'moreinfo\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'moreinfo\\\');\'',
'\t},',
'\t{',
'\t\tname: \'contact\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'contact\\\');\'',
'\t}',
'],',
'\t_searchPartHas: true,',
'\t_searchPart: {',
'\t\tfieldMap: [',
']',
'\t},',
'\t_searchPartStyle: \'singlekeywordcontrol\',',
'\t_keywordSearchFields: [\'Summary\',\'Purpose\'],',
'\t_keywordSearchControl: \'LISTCLINICALTRIALS_KEYWORDSEARCH\',',
'\t_searchFieldOptions: {',
'"SUMMARY" : {option: 2,qbf: false,type: \'c\'},',
'"PURPOSE" : {option: 2,qbf: false,type: \'c\'},',
'"OVERVIEW" : {option: 2,qbf: false,type: \'c\'},',
'"ELIGIBILITY" : {option: 2,qbf: false,type: \'c\'},',
'"MOREINFO" : {option: 2,qbf: false,type: \'c\'},',
'"CONTACT" : {option: 2,qbf: false,type: \'c\'}',
'},',
'\t_showSearchDebugInfo: false,',
'\t_mediaFields: [],',
'\t_mediaTypes: {',
'},',
'\t_phoneGap: {',
'\t\tmediaFiles: {',
'\t\t\tprotectedRead: false,',
'\t\t\ttarget: \'server\',',
'\t\t\ttargetFilenameFunction: \'return \\\'<DeviceId>_\\\' +e.object.listFieldName + \\\'_\\\' + A5.ts() + \\\'_\\\' +e.name\',',
'\t\t\tshowProgress: false,',
'\t\t\tdownload: {',
'\t\t\t\tautodownloadFilesOnPullSynch: false,',
'\t\t\t\tdeleteOrphansAfterSync: false,',
'\t\t\t\ttargetFolder: \'_AAFiles\',',
'\t\t\t\tshowProgress: false',
'\t\t\t},',
'\t\t\tonErrorFunction: function(array,fileNumber,error) { }',
'\t\t}',
'\t},',
'\t_dvmode: \'enter\',',
'\t_hasDetailView: true,',
'\t_noRecordInListIsSelectedSettingForDetailView: \'none\',',
'\t_captureLocation: false,',
'\t_detailViewHas: true,',
'\t_submitLocationInfo: false,',
'\t_detailView: {',
'\t\tmethod: \'fieldMap\',',
'\t\tfieldMap: [',
']',
'\t},',
'\t_detailViewGlobalErrorStyle: \'font-family: Arial; font-size: 10pt; color: red; border: solid 1px red; width: 100%;\',',
'\t_autoCommitDetailView: false,',
'\t_synchBatchSize: 0,',
'\t_resetMediaFileUploadErrorsFlag: function(data) {',
'var r = A5.u.object.each(data,function(name,value,path,result){',
'\tif(name == \'_flagMediaFileUploadError\') {',
'\t\tresult.push({value: false, path: path})',
'\t}',
'});',
'for(var i = 0; i < r.length; i++) {',
'\tA5.u.object.set(data,r[i].path,r[i].value);',
'}',
'},',
'\ttheme: \'iOS7\',',
'\tscroll: {',
'\t\taxis: \'both\',',
'\t\tindicator: {',
'\t\t\tshow: true,',
'\t\t\th: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\tleft: \'0px\',',
'\t\t\t\tright: \'0px\'',
'\t\t\t},',
'\t\t\tv: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\ttop: \'0px\',',
'\t\t\t\tbottom: \'0px\'',
'\t\t\t}',
'\t\t},',
'\t\tmomentum: {',
'\t\t\tallow: true',
'\t\t},',
'\t\tpull: {',
'\t\t\ty: \'auto\',',
'\t\t\tx: \'auto\'',
'\t\t}',
'\t},',
'\tlayout: \'Default\',',
'\tcalculateValue: function(data) {  {var _val = \'\' +data.__primaryKey; if((_val == \'\' ||  _val == \'undefined\'  )&& typeof data[\'*rowGUID\'] != \'undefined\') _val = \'_temporaryValue_\' + data[\'*rowGUID\']; return _val;}},',
'\tlistVariableName: \'LIST_TRIALS\',',
'\tlistVariableNameTrueCase: \'LIST_TRIALS\',',
'\t_hostComponentId: \'{UXPRERENDEREDALIAS}\',',
'\t_includeCRC: true,',
'\tallParentLists: [],',
'\t__flagPersist: false,',
'\tonBeforeUpdateRow: function(index,data){;},',
'\tonUpdateRow: function(index,data){;},',
'\tonBeforeAddRows: function(data,info){;},',
'\tonAddRows: function(data,info){;},',
'\tonBeforeRemoveRows: function(rows){;},',
'\tonRemoveRows: function(rows){;},',
'\tonListDraw: function(data,startIndex) {',
'if(A5.flags.isMobile) $e.add(this.contId+\'.CONTENT\',\'abstractdown\',function(e) {$e.preventDefault(e);});},',
'\tsynchronizeImmediately: false,',
'\tpushServerEditsToClient: false,',
'\tcustomization: {',
'\t\tdv: {',
'\t\t\tclientSideErrorWarning: \'Cannot save because there are validation errors.\',',
'\t\t\tdirtyDetailViewRecord: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'You must first save or undo the changes you have made to the List\\\'s Detail View.\'',
'\t\t\t},',
'\t\t\tconfirmFormResetWarning: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'Are you sure you want to undo changes made to the List\\\'s Detail View?\'',
'\t\t\t},',
'\t\t\tconfirmRowResetWarning: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'Are you sure you want to undo changes made to this record?\'',
'\t\t\t},',
'\t\t\tconfirmDeleteWarning: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'Are you sure you want to delete this record?\'',
'\t\t\t},',
'\t\t\twriteConflict: {',
'\t\t\t\tuseMineMessage: \'Use mine (\\\'{myvalue}\\\')\',',
'\t\t\t\tuseTheirsMessage: \'Use theirs (\\\'{theirvalue}\\\')\',',
'\t\t\t\tuseMineAll: \'Use mine for all fields\',',
'\t\t\t\tuseTheirsAll: \'Use theirs for all fields\'',
'\t\t\t},',
'\t\t\tdatabaseError: {',
'\t\t\t\tupdate: \'Record was not updated.|More...|Less\',',
'\t\t\t\tinsert: \'Record was not inserted.|More...|Less\',',
'\t\t\t\tdelete: \'Record was not deleted.|More...|Less\'',
'\t\t\t},',
'\t\t\tuseCustomClasses: false,',
'\t\t\tsetClassonEditedRows: true,',
'\t\t\tcss: {',
'\t\t\t}',
'\t\t}',
'\t},',
'\tonItemDraw: function(ele,data,index) {',
'\tvar _dirtyRowClassName = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRow\';',
'\tvar _dirtyRowClassNameInherited = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited\';',
'\tvar _dirtyRowStyle = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowStyle\';',
'\tvar _errorRowClassName = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_hasError\';',
'\tvar _errorRowClassNameInherited = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorInherited _{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited\';',
'\tvar _errorRowClassNameInherited_1 = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorInherited\';',
'\tvar _errorRowClassNameInherited_2 = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited\';',
'\tvar _errorRowStyle = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorStyle\';',
'\tvar _newRowClassName = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_newRow\';',
'\tvar _newRowStyle = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_newRowStyle\';',
'\tvar _deletedRowClassName = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRow\';',
'\tvar _deletedRowStyle = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRowStyle\';',
'\tvar _deletedRowClassNameInherited = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRowInherited\';',
'\tvar __d = this._rData[index];',
'\t$rcn(ele,_dirtyRowClassName);',
'\t$rcn(ele,_dirtyRowClassNameInherited);',
'\t$rcn(ele,_dirtyRowStyle);',
'\t$rcn(ele,_errorRowClassName);',
'\t$rcn(ele,_errorRowClassNameInherited);',
'\t$rcn(ele,_errorRowClassNameInherited_1);',
'\t$rcn(ele,_errorRowClassNameInherited_2);',
'\t$rcn(ele,_errorRowStyle);',
'\t$rcn(ele,_newRowClassName);',
'\t$rcn(ele,_newRowStyle);',
'\t$rcn(ele,_deletedRowClassName);',
'\t$rcn(ele,_deletedRowStyle);',
'\tif(data._isDirty && typeof data._isDeleted != \'undefined\' && data._isDeleted) { ',
'\t\t$acn(ele,_deletedRowClassName);',
'\t\t$acn(ele,_deletedRowStyle);',
'\t\t__d.__displayStyle = \'deletedRow\';',
'\t} else if (data._isDirty && typeof data._oldData != \'undefined\' && !data._isNewRow ) { ',
'\t\t$acn(ele,_dirtyRowClassName);',
'\t\t$acn(ele,_dirtyRowStyle);',
'\t\t__d.__displayStyle = \'dirtyRow\';',
'\t} ',
'\tif(data._isDirty && typeof data._oldData == \'undefined\' && ! (data._isNewRow || data._isDeleted) ) { ',
'\t\t$acn(ele,_dirtyRowClassNameInherited);',
'\t\t$acn(ele,_dirtyRowStyle);',
'\t\t__d.__displayStyle = \'dirtyRowInherited\';',
'\t} ',
'\tif(data._isDeleted) { ',
'\t\t$acn(ele,_deletedRowClassName);',
'\t\t$acn(ele,_deletedRowStyle);',
'\t\t__d.__displayStyle = \'deletedRow\';',
'\t} ',
'\tif(data._isNewRow) { ',
'\t\t$acn(ele,_newRowClassName);',
'\t\t$acn(ele,_newRowStyle);',
'\t\t__d.__displayStyle = \'newRow\';',
'\t} ',
'\tvar flagHasGlobalErrors = false;',
'\tif(typeof data._globalErrors != \'undefined\') {',
'\t\tif( data._globalErrors != \'\')  flagHasGlobalErrors = true;',
'\t}',
'\tvar flagHasWriteConflictErrors = false;',
'\tif(typeof data._hasWriteConflictErrors) flagHasWriteConflictErrors = data._hasWriteConflictErrors',
'\tif(data._hasServerSideError || flagHasGlobalErrors || flagHasWriteConflictErrors) {',
'\t\t$acn(ele,_errorRowClassName);',
'\t\t$acn(ele,_errorRowStyle);',
'\t\t__d.__displayStyle = \'errorRow\';',
'\t} else { ',
'\t\tif(data._flagServerSideErrorInChild || data._flagWriteConflictErrorInChild || data._flagGlobalErrorInChild ){',
'\t\t\t if(!data._isNewRow) {',
'\t\t\t \t$acn(ele,_errorRowClassNameInherited);',
'\t\t\t\t __d.__displayStyle = \'errorRowInherited\';',
'\t\t\t} else {',
'\t\t\t\t__d.__displayStyle = \'newRow errorRowInherited\'; ',
'\t\t\t\t$acn(ele, _errorRowClassNameInherited_1);',
'\t\t\t}',
'\t\t}',
'\t}},',
'\tchildLists: [],',
'\tchildListEndpoints: [\'LIST_TRIALS\'],',
'\t_populateAllChildLists: function() { },',
'\tonSelect: function() { this.populateUXControls();',
'this._selectedRow = this.selection[0];',
'{UXPRERENDEREDALIAS}_DlgObj._listRowSelect(\'LIST_TRIALS\',this);',
'},',
'\tonBeforeSelect: function() {',
'\tvar c = this.childLists;',
'\tvar lObj = \'\';',
'\tif(typeof c != \'undefined\') { ',
'\t\tfor(var i = 0; i < c.length; i++) {',
'\t\t\tlObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(c[i]);',
'\t\t\tif(lObj) {',
'\t\t\t\tvar flag = lObj.onBeforeSelect();',
'\t\t\t\tif(typeof flag != \'undefined\') { ',
'\t\t\t\t\tif(!flag) return false;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dvmode == \'search\') return true;',
'\tif(!this._autoCommitDetailView) { ',
'\t\treturn this._showDirtyDetailViewWarning(); ',
'\t} else { ',
'\t\tif(this.detailViewIsDirty(true)) { ',
'\t\t\tvar result =  this.updateListFromUXControls();  ',
'\t\t\treturn result;',
'\t\t}',
'\t}},',
'\tonClick: function() {',
'CWApp.populateDetailTabs({UXPRERENDEREDALIAS}_DlgObj);',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_TRIALDETAILS\', true);',
'{UXPRERENDEREDALIAS}_DlgObj._listSystemOnClick(\'LIST_TRIALS\',this.selection[0]);},',
'\tlayouts: {',
'\t\tDefault: {',
'\t\t\ttype: \'column\',',
'\t\t\tshowColumnTitles: false,',
'\t\t\titem: {',
'\t\t\t},',
'\t\t\tcolumns: [',
'\t\t\t\t{',
'\t\t\t\t\theader: {',
'\t\t\t\t\t\thtml: \'Summary\'',
'\t\t\t\t\t},',
'\t\t\t\t\tresize: false,',
'\t\t\t\t\tdata: {',
'\t\t\t\t\t\ttemplate: \'<span id="{UXPRERENDEREDALIAS}.LIST_TRIALS.SUMMARY.I.{*dataRow}">{{UXPRERENDEREDALIAS}_DlgObj._lsh(summary,\\\'LIST_TRIALS\\\',\\\'summary\\\')}</span>&nbsp;\'',
'\t\t\t\t\t},',
'\t\t\t\t\torder: \'summary\',',
'\t\t\t\t\twidth: \'flex(1)\'',
'\t\t\t\t}\t\t\t',
']',
'\t\t}',
'\t},',
'\tcontent: {',
'\t\theader: {',
'\t\t\tshow: false',
'\t\t},',
'\t\tfooter: {',
'\t\t\tshow: false',
'\t\t}',
'\t},',
'\tsystemEvents: {',
'\t\tonTap: function(e) {},',
'\t\tafterAjaxCallback: function(e) {},',
'\t\tafterClientSideFilter: function(e) {},',
'\t\tbeforeServerSideSort: function(e) {},',
'\t\tafterServerSideSort: function(e) {},',
'\t\tonSwipe: function(e) {},',
'\t\tonScroll: function(e) {},',
'\t\tonPullRelease: function(e) {},',
'\t\tonPull: function(e) {},',
'\t\tonPullEnd: function(e) {},',
'\t\tafterSearchComplete: function(e) {},',
'\t\tbeforeSearch: function(e) {},',
'\t\tonSearchResultTooLarge: function(e) {},',
'\t\tonSearchResultTooLargeForLocalStorage: function(e) {},',
'\t\tonBeforePersistToLocalStorage: function(e) {},',
'\t\tonPersistToLocalStorage: function(e) {},',
'\t\tonRestoreFromLocalStorage: function(e) {},',
'\t\tafterRenderComplete: function(e) {},',
'\t\tbeforeFetchMore: function(e) {},',
'\t\tafterFetchMore: function(e) {},',
'\t\tbeforePageNavigate: function(e) {},',
'\t\tafterPageNavigate: function(e) {},',
'\t\tbeforeRefreshRow: function(e) {},',
'\t\tafterRefreshRow: function(e) {},',
'\t\tafterServerSideSummaryCompute: function(summary) {},',
'\t\tdetailView: {',
'\t\t\tcanUpdateList: function(e) {},',
'\t\t\thasClientSideValidationErrors: function(e) {},',
'\t\t\tafterUpdateList: function(e) {},',
'\t\t\tcanSynchronizeList: function(e) {},',
'\t\t\tafterSynchronizeListBatch: function(e) {},',
'\t\t\tcanCancelBatch: function(e) {},',
'\t\t\tafterCancelBatch: function(e) {},',
'\t\t\tafterSynchronizeList: function(e) {},',
'\t\t\tbeforeSynchronizeListBatchStart: function(e) {},',
'\t\t\tafterSynchronizeListBatchEnd: function(e) {},',
'\t\t\tafterRefreshListIncremental: function(e) {},',
'\t\t\tcanResetRow: function(e) {},',
'\t\t\tcanDeleteRow: function(e) {},',
'\t\t\tcanUndoEdits: function(e) {},',
'\t\t\tafterResetRow: function(e) {},',
'\t\t\tafterDeleteRow: function(e) {},',
'\t\t\tafterUndoEdits: function(e) {},',
'\t\t\tcanNewRecord: function(e) {},',
'\t\t\tafterNewRecord: function(e) {},',
'\t\t\tafterDetailViewPopulate: function(e) {},',
'\t\t\tafterListRowSelectCancelled: function(e) {},',
'\t\t\tmodeChanged: function(e) {},',
'\t\t\tbeforeMediaFilesUploaded: function(e) {},',
'\t\t\tafterMediaFilesUploaded: function(e) {},',
'\t\t\tonMediaFilesUploadErrors: function(e) {},',
'\t\t\tbeforeMediaFilesDownloaded: function(e) {},',
'\t\t\tafterMediaFilesDownloaded: function(e) {},',
'\t\t\tbeforeDeleteOrphanMediaFiles: function(e) {},',
'\t\t\tafterDeleteOrphanMediaFiles: function(e) {}',
'\t\t},',
'\t\t_afterAjaxCallback: function() {this._refreshStateMessages();}',
'\t},',
'\t_clientsideSummary: [],',
'\tcomputeClientSideSummaryValues: function(e) {},',
'\t_executeEvent: function(event,obj) { ',
'\treturn {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_TRIALS\',event,obj);',
'}',
',',
'\t_selectAll: function() {',
'\tvar v = this._values;',
'\tvar v2 = [].concat(v);',
'\tthis.setValue(v2,false);',
'}',
',',
'\tsearchList: function() { ',
'\tif(this._searchPartStyle == \'querybyform\') { ',
'\t\tif(this._dvmode != \'search\') return false;',
'\t}',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse {',
'\t\t\tif(this._dataSourceType.toLowerCase() == \'sql\' || this._dataSourceType.toLowerCase() == \'dbf\') {',
'\t\t\t\tmode = \'serverside\';',
'\t\t\t} else { ',
'\t\t\t\tmode = \'clientside\';',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'search\', searchWhere: mode, listIsDirty: flagDirty});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._searchListServerSide(obj);',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilter();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'search\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_searchListServerSide: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar _d={};',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tif(flagDirty) { ',
'\t\talert(\'Can\\\'t execute server-side search because List has edits that have not yet been synchronized.\');',
'\t\treturn false;',
'\t}',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t_data = _data + \'&\' + A5.ajax.buildURLParam(\'__searchOptions\',JSON.stringify(obj));',
'\tthis.filter = false;',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPart\',\'\',_data);',
'}',
',',
'\tclearSearchList: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse mode = \'serverside\';',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'clear\', searchWhere: mode});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._clearSearchListServerSide();',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilterClear();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'clear\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_clearSearchListServerSide: function() { ',
'\tvar _d={};',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPartClear\',\'\',_data);',
'}',
',',
'\t_str: function(txt) {',
'\ttxt = txt.replace("\'","\\\\\'");',
'\ttxt = \'\\\'\' + txt + \'\\\'\';',
'\treturn txt;',
'}',
',',
'\t_QBF: function(txt) { ',
'\tvar o = {};',
'\to.v2 = \'\';',
'\to.v1 = txt;',
'\to.flag = false;',
'\tif(txt.indexOf(\'>=\') >= 0) {',
'\t\to.op = \'>=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<=\') >= 0 ) { ',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'>\') >= 0 ) {',
'\t\to.op = \'>\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<\') >= 0)  { ',
'\t\to.op = \'<\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') == 0)  {',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if ( txt.indexOf(\'..\', txt.length - \'..\'.length) !== -1 ) { ',
'\t\t//ends with ..',
'\t\to.op = \'>=\';',
'\t\ttxt = txt.split(\'..\')',
'\t\to.v1 = txt[0];',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') > 0 ) {',
'\t\to.op = \'between\'',
'\t\ttxt = txt.split(\'..\');',
'\t\to.v1 = txt[0];',
'\t\to.v2 = txt[1];',
'\t\to.flag = true;',
'\t}',
'\treturn o;',
'}',
',',
'\t_match: function(data,field,val,obj) { ',
'\tvar flagKeyword = false;',
'\tif(typeof obj.flagKeyword != \'undefined\') flagKeyword = obj.flagKeyword;',
'\tif(flagKeyword) { ',
'\t\tvar obj_i = this._searchFieldOptions[field.toUpperCase()];',
'\t\tthis._setSearchOps(obj,obj_i);',
'\t}',
'\tvar _d = \'\';',
'\tvar _v = val;',
'\tvar flagC = false;',
'\tif(obj.type == \'c\') {',
'\t\tflagC = true;',
'\t\tif(!obj.caseSensitive) _v = _v.toLowerCase();',
'\t} else { ',
'\t\t//non mumeric searches are only mode 1 or -1',
'\t\tif(obj.mode > 1) obj.mode = 1;',
'\t\tif(obj.mode < -1) obj.mode = -1;',
'\t}',
'\tvar flag = false;',
'\tobj.usesQBFOperator = false;',
'\tif(obj.qbf) { ',
'\t\t_v = _v.split(\',\');',
'\t} else {',
'\t\t_v = [_v];',
'\t}',
'\tvar o = {}',
'\tvar r = \'\';',
'\tvar _vals = [];',
'\tfor(var i = 0; i < _v.length; i++) { ',
'\t\tif(obj.qbf) {',
'\t\t\to = this._QBF(_v[i]);',
'\t\t} else {',
'\t\t\to.flag = false;',
'\t\t\to.v1 = _v[i];',
'\t\t\to.v2 = \'\';',
'\t\t}',
'\t\tif(typeof data[field] != \'undefined\') {',
'\t\t\tif(data[field] != null) { ',
'\t\t\t\t_d = data[field];',
'\t\t\t\tif(obj.type == \'n\') { ',
'\t\t\t\t\to.v1 = Number(o.v1);',
'\t\t\t\t\to.v2 = Number(o.v2);',
'\t\t\t\t\t_d = Number(_d);',
'\t\t\t\t} else if (obj.type == \'l\') { ',
'\t\t\t\t\to.v1 = $u.s.toBool(o.v1);',
'\t\t\t\t\to.v2 = $u.s.toBool(o.v2);',
'\t\t\t\t\t_d = $u.s.toBool(_d);',
'\t\t\t\t} else if (obj.type == \'d\') { ',
'\t\t\t\t\to.v1 = A5.stringToDate(o.v1,obj.dateFormat);',
'\t\t\t\t\to.v2 = A5.stringToDate(o.v2,obj.dateFormat);',
'\t\t\t\t\tif(typeof _d == \'string\') _d = A5.stringToDate(_d,obj.dateFormat);',
'\t\t\t\t\tif(o.v1 != \'\' && o.v1 != null ) o.v1 = o.v1.getTime();',
'\t\t\t\t\tif(o.v2 != \'\' && o.v2 != null ) o.v2 = o.v2.getTime();',
'\t\t\t\t\tif(_d != \'\' && _d != null ) _d = _d.getTime();',
'\t\t\t\t}',
'\t\t\t\tif(flagC) {if(!obj.caseSensitive && typeof _d == \'string\') _d = _d.toLowerCase();}',
'\t\t\t\tif(o.flag) { ',
'\t\t\t\t\t//has qbf operators',
'\t\t\t\t\tif(o.op == \'between\') {',
'\t\t\t\t\t\tif(flagC) {',
'\t\t\t\t\t\t\tif(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tif(flagC) _d = _d.substr(0,o.v1.length)',
'\t\t\t\t\t\tif(o.op == \'>=\') if( _d >= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<=\') if( _d <= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'>\') if(_d > o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<\') if(_d < o.v1) flag = true;',
'\t\t\t\t\t}',
'\t\t\t\t} else { ',
'\t\t\t\t\tif(obj.mode == 1 || obj.mode == -1 ) {',
'\t\t\t\t\t\tif(obj.mode == 1) if(_d == o.v1) flag = true;; //match',
'\t\t\t\t\t\tif(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match',
'\t\t\t\t\t} else if (obj.mode == 2 || obj.mode == -2) { ',
'\t\t\t\t\t\tif(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains',
'\t\t\t\t\t\tif(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;',
'\t\t\t\t\t} else if (obj.mode == 3 || obj.mode == -3) { ',
'\t\t\t\t\t\tif(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with',
'\t\t\t\t\t\tif(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v1 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v1) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v1);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v2 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v2) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v2);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(flag) { ',
'\t\tif(typeof this._state.highlight == \'undefined\') this._state.highlight = {};',
'\t\tthis._state.highlight[field.toUpperCase()] = _vals;',
'\t} else { ',
'\t\t//this._state.highlight[field.toUpperCase()] = [];',
'\t}',
'\treturn flag;',
'}',
',',
'\t_setSearchOps: function(obj,obj_i) { ',
'\tobj.mode = obj_i.option;',
'\tobj.qbf = obj_i.qbf;',
'\tobj.type = obj_i.type;',
'\t//obj.treatAs = obj_i.treatAs;',
'}',
',',
'\t_searchPartOperator: \'&&\',',
'\t_searchPartSubmit_clientSideFilter: function() { ',
'\tif(!this._searchPartHas) return true;',
'\t//_searchPartStyle: \'individualcontrols\'',
'\tthis._state.highlight = {};',
'\tif(this._searchPartStyle == \'singlekeywordcontrol\') { ',
'\t\tvar searchFor = {UXPRERENDEREDALIAS}_DlgObj.getValue(this._keywordSearchControl);',
'\t\tvar arr = this._keywordSearchFields;',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\t//obj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 1;',
'\t\tobj.flagKeyword = true;',
'\t\tvar objStr = JSON.stringify(obj)',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\texpn_i = \'this._match(data,\' +this._str(arr[i]) + \',\' + this._str(searchFor) + \',\'+objStr+\')\';',
'\t\t\texpn.push(expn_i);',
'\t\t}',
'\t\texpn = expn.join(\'||\');',
'\t\t//alert(expn);',
'\t} else if ( this._searchPartStyle == \'individualcontrols\' || this._searchPartStyle == \'querybyform\'  ) { ',
'\t\tvar map = this._searchPart.fieldMap;',
'\t\tvar val = \'\';',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\tobj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 2;',
'\t\t//var objStr = JSON.stringify(obj)',
'\t\tvar ac = [];',
'\t\tvar aco = {};',
'\t\tvar _highlight = {};',
'\t\tif(this._searchPartStyle == \'individualcontrols\') {',
'\t\t\tfor(var i = 0; i < map.length; i++) { ',
'\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(map[i].control);',
'\t\t\t\tif(val != \'\') {',
'\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(map[i].field) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t} else if (this._searchPartStyle == \'querybyform\' ) { ',
'\t\t\tvar controlName = \'\';',
'\t\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\t\tif(controlName != \'\') {',
'\t\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(controlName);',
'\t\t\t\t\tif(val != \'\') {',
'\t\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(this._listFields[i].name) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t\t\taco.control = controlName;',
'\t\t\t\t\t\taco.value = val;',
'\t\t\t\t\t\tac.push(aco);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis.__queryByFormValues = ac;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\t\t}\t',
'\t\tvar operator = \'&&\';',
'\t\tif(typeof this._searchPartOperator != \'undefined\') operator = this._searchPartOperator;',
'\t\texpn = expn.join(\' \'+operator+\' \');',
'\t} ',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = expn;',
'\t}',
'\t//user did not fill in any search fields',
'\tif(expn == \'\') return true;',
'\tvar fnTxt = \'if(\' + expn + \') {return true;} else { return false;}\'',
'\tvar searchFunction = new Function(\'data\',fnTxt);',
'\tthis.setFilter(searchFunction);',
'\tif(this._rData.length > 0) this.setValue(0);',
'}',
',',
'\t_searchPartSubmit_clientSideFilterClear: function() { ',
'if(!this._searchPartHas) return true;',
'\tthis._state.highlight = {};',
'\tthis.setFilter(false);',
'\tvar map = this._searchPart.fieldMap;',
'\tvar val = \'\';',
'\tvar od = {UXPRERENDEREDALIAS}_DlgObj.originalValues[0];',
'\tfor(var i = 0; i < map.length; i++) {',
'\t\tvar val = od[map[i].control.toUpperCase()];',
'\t\tif(typeof val != \'undefined\') {UXPRERENDEREDALIAS}_DlgObj.setValue(map[i].control,val,false);',
'\t}',
'\tthis.setFilter(false);',
'\tdelete this.__queryByFormValues;',
'\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\tif(this._data.length > 0) this.setValue(0);',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = \'\';',
'\t}',
'}',
',',
'\t_debugListData: function() { \t\tvar debugObj = this._data[this.selection[0]];',
'\t\tif(typeof debugObj == \'undefined\') {alert(\'no active row\'); return false;}',
'\t\t\tvar debugTxt = JSON.stringify(debugObj,\'\',\'\\t\'); ',
'\t\tdebugTxt = debugTxt.split(\'\\t\').join(\'    \'); ',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.LISTCLINICALTRIALS_DEBUGINFO\'); ',
'\t\tif(ele) {',
'\t\t\tele.innerHTML = \'<div style="color: blue;width: 100%; height: 100%;white-space: pre;border: solid 1px blue; padding: 2px;"></div>\';',
'\t\t\tele.firstChild.innerText = debugTxt; ',
'\t\t\tif(ele.firstChild.innerHTML == \'\')  { ele.firstChild.innerHTML = debugTxt }      ',
'\t\t}',
'},',
'\t_refreshDebugInfo: function() {},',
'\t_showSQL_CRUD: function(txt) { },',
'\t_globalErrorPlaceHolder: \'LISTCLINICALTRIALS_GLOBALERRORS\',',
'\tflagShowAlerts: true,',
'\tlookupValue: function(key,name,keyValue) {\tvar _d = this._data;',
'\tvar indx = A5FindPropInArray(_d,key,keyValue);',
'\tvar rv = \'\';',
'\tif(indx >=0) {',
'\t\tif(name == \'__rowData__\') return _d[indx];',
'\t\trv =  _d[indx][name];',
'\t} else {',
'\t\t//null out all properties in row',
'\t\tvar _d2 = {};',
'\t\tif(typeof _d[0] == \'undefined\') { return {}} ;',
'\t\tfor(var n in _d[0]) {',
'\t\t\t_d2[n] = \'&nbsp;\';',
'\t\t}',
'\t\trv = _d2;',
'\t}',
'\treturn rv;',
'}',
',',
'\tallowNullSelection: false,',
'\tallowNullDeselection: false,',
'\tloopNavigate: false,',
'\tloopNavigateNullSelection: false,',
'\trefreshChildLists: function() {{UXPRERENDEREDALIAS}_DlgObj._listRefreshCascadingLists(\'LIST_TRIALS\'); },',
'\trowExpander: function(rowNumber) { ',
'\tvar mode = typeof arguments[2] != \'undefined\' ? arguments[2] : \'toggle\';',
'\tif(typeof rowNumber == \'undefined\' || rowNumber == \'\' ) {',
'\t\trowNumber = this.selection[0];',
'\t\tif(typeof rowNumber == \'undefined\') return false;',
'\t}',
'\tvar animObj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\tvar ele = $(this._hostComponentId + \'.\' + this.listVariableName + \'.ROWEXPANDER.\' + rowNumber);',
'\tif(ele) {',
'\t\tif(mode == \'toggle\') A5.u.element.toggle(ele,animObj);',
'\t\tif(mode == \'show\') A5.u.element.show(ele,animObj);',
'\t\tif(mode == \'hide\') A5.u.element.hide(ele,animObj);',
'\t}',
'}',
',',
'\tafterClientSideSummaryCompute: function(csSummary) { },',
'\tselectCurrentLayout: function(name) { ',
'var pl = this.layouts[name];',
'if(typeof pl == \'undefined\') return false;',
'this.setLayout(name);',
'if(pl.type == \'column\') {',
'\tthis.columnLayout.header.show = this.layouts[name].showColumnTitles; ',
'\tthis.refresh();',
'}',
'},',
'\tonFilter: function() { \tvar e = {}; ',
'\te.rowCount = this._values.length;  ',
'\tvar ele = $(\'{UXPRERENDEREDALIAS}.__listId__.RECORDCOUNT\'); ',
'\tif(ele) {ele.innerHTML = e.rowCount;}; ',
'\tif(this.persistToStorage) { this.persistToStorage({});} ',
'\t(function(e) {   })(e);',
'}',
',',
'\tserverSideSort: function(column) {',
'var e = {};',
'e.column = column;',
'var result = this.systemEvents.beforeServerSideSort(e);',
'if(result == false) return false;',
'var obj = {};',
'obj.cmd = \'sort\';',
'obj.column = column;',
'obj.layoutName = this.layout;',
'obj.listState = this._state;',
'var data = \'_listId=LIST_TRIALS&\' + A5.ajax.buildURLParam(\'_cmdObj\',$u.o.toJSON(obj));',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:listServerSideSort\',\'\',data);',
'},',
'\tfilterListClientSide: function(searchFor) {',
'//var result = this.systemEvents.beforeClientSideFilter();',
'//if(result == false) return false;',
'if(searchFor != \'\') {',
'\t//fixes bug in Chrome when searching on dates strings that use forward slashes',
'\tsearchFor = searchFor.replace(/\\//g,\'\\\\/\');',
'\tthis.setFilter({\'summary\': RegExp(\'\' + searchFor,\'i\'), \'purpose\': RegExp(\'\' + searchFor,\'i\'), \'overview\': RegExp(\'\' + searchFor,\'i\'), \'eligibility\': RegExp(\'\' + searchFor,\'i\'), \'moreinfo\': RegExp(\'\' + searchFor,\'i\'), \'contact\': RegExp(\'\' + searchFor,\'i\')});',
'} else this.setFilter(false);',
'var rowCount = this._values.length;',
'//var e = {};',
'//e.rowCount = rowCount;',
'//this.systemEvents.afterClientSideFilter(e);',
'var ele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.RECORDCOUNT\');',
'if(ele) ele.innerHTML = rowCount;',
'}',
',',
'\tscrollToClosestValue: function(val) { \t',
'\tif(typeof val != \'string\') val = val.join(\'\');',
'\tvar flagCI = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\tvar pos = typeof arguments[2] != \'undefined\' ? arguments[2] : \'top\';',
'\tvar anim = typeof arguments[3] != \'undefined\' ? arguments[3] : {}',
'\tvar _d = this._rData;',
'\tvar len = val.length;',
'\tvar _d2;',
'\tvar i2 = -1;',
'\tif(flagCI) val = val.toLowerCase();',
'\tfor(var i = 0 ; i < _d.length; i++) {',
'\t\ti2 = i;',
'\t\t_d2 = String(_d[i][\'*value\']);',
'\t\t_d2 = _d2.substr(0,len);',
'\t\t_d2 = $u.s.pad(_d2,len,\' \',\'l\');',
'\t\tif(flagCI) _d2 = _d2.toLowerCase();',
'\t\tif(val <= _d2){',
'\t\t\t break;',
'\t\t}',
'\t}',
'\tif(i2 > -1) { ',
'\t\tthis.scrollToItem(i2,{mode: pos, animation: anim});',
'\t}',
'}',
',',
'\t_refreshStateMessages: function() {',
'\tvar ele = \'\';',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.PAGENUMBER\');',
'\tif(ele) ele.innerHTML = this._state.page;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.PAGECOUNT\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.PAGECOUNT.PAGESELECTOR\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;\t',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.LISTSTATE\');',
'\tif(ele) {',
'\t\tvar listState = $u.o.toJSON(this._state);',
'\t\tele.innerHTML = listState;',
'\t}',
'\t//navigation buttons\t',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_NEXT.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_LAST.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_FIRST.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_PREV.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = $(\'{UXPRERENDEREDALIAS}.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LIST_TRIALS\');',
'\tif(ele) {',
'\t\tvar data = this._recordNavigatorLinks;',
'\t\tif(data) A5.form.populateSelect(ele,this._state.page,data,true);',
'\t}',
'}',
',',
'\tcolumnLayout: {',
'\t\theader: {',
'\t\t\tshow: false',
'\t\t}',
'\t},',
'\tview: {',
'\t\ttype: \'dynamic\',',
'\t\tsize: 15,',
'\t\tmaxSize: 0,',
'\t\toffset: 5,',
'\t\tnavigation: {',
'\t\t\tpull: {',
'\t\t\t\tallow: true,',
'\t\t\t\tsize: 15',
'\t\t\t},',
'\t\t\tprev: {',
'\t\t\t\thtml: \'Previous\'',
'\t\t\t},',
'\t\t\tnext: {',
'\t\t\t\thtml: \'Next\'',
'\t\t\t}',
'\t\t}',
'\t},',
'\tscroller: {',
'\t\thas: true,',
'\t\tflow: \'ttb\',',
'\t\tlocation: \'after\',',
'\t\toffset: {',
'\t\t\ttop: \'0px\',',
'\t\t\tbottom: \'0px\',',
'\t\t\tleft: \'0px\',',
'\t\t\tright: \'0px\'',
'\t\t},',
'\t\tslider: {',
'\t\t\thandle: {',
'\t\t\t},',
'\t\t\tshadow: {',
'\t\t\t\tshow: true',
'\t\t\t},',
'\t\t\tmessage: {',
'\t\t\t\tshow: \'auto\',',
'\t\t\t\tlowSwitch: 75,',
'\t\t\t\thighSwitch: 75',
'\t\t\t}',
'\t\t},',
'\t\tdial: {',
'\t\t\tshow: \'drag\',',
'\t\t\tinvertDrag: false,',
'\t\t\tmessage: {',
'\t\t\t},',
'\t\t\tpixelStep: 4,',
'\t\t\tsize: 2',
'\t\t},',
'\t\tshow: true',
'\t},',
'\t_getRoute: function() { ',
'\tvar obj  = typeof arguments[1] != \'undefined\' ? arguments[1] : [];',
'\tvar mode = typeof arguments[0] != \'undefined\' ? arguments[0] : \'rowNumber\'; //',
'\tif(typeof this.selection[0] == \'undefined\') return false;',
'\tif(typeof this.getData(this.selection[0]) == \'undefined\') return false;',
'\tif(mode == \'rowNumber\') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])[\'*key\']});',
'\telse obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tif(lObj) lObj._getRoute(mode,obj);',
'\t}',
'\treturn obj;',
'}',
',',
'\t_setRoute: function(route) { ',
'\tif(typeof route == \'undefined\') { ',
'\t\troute = this.__currentRoute;',
'\t\tif(typeof route == \'undefined\') return false;',
'\t}',
'\tvar lObj = \'\';',
'\tvar row = \'\';',
'\tfor(var i = 0; i < route.length; i++) {',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(route[i].list);',
'\t\trow = route[i].row;',
'\t\tvar flag = typeof this._restoringList != \'undefined\' ? !this._restoringList : true;',
'\t\tif(typeof row != \'undefined\') {',
'\t\t\tvar rowFixed = \'\';',
'\t\t\tif(typeof lObj._dataMap == \'undefined\') return false;',
'\t\t\t//var msg = JSON.stringify(lObj._dataMap);',
'\t\t\t//alert(\'route[i].row:\' + route[i].row + \' ------ \' + msg);',
'\t\t\trowFixed = lObj._dataMap.indexOf(route[i].row);',
'\t\t\tlObj.setValue(rowFixed,flag);',
'\t\t\tif(this._clearServerSideErrors) this._clearServerSideErrors();',
'\t\t\tif(this._showServerSideErrors) this._showServerSideErrors();',
'\t\t\tif(this._showWriteConflictErrors) this._showWriteConflictErrors();',
'\t\t}',
'\t}',
'}',
',',
'\t_useServerSideSyncLog: false,',
'\t_searchHighlighting: true,',
'\t_searchHighlightStyle: \'color: red;\'',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_TRIALS\'] = [];',
';',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ \t__dialogGuid: \'3e00fab7-9939-4626-8fe7-107c6ca8fde0\', \t__dtfmt: \'MM/dd/yyyy\' });',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'LIST_TRIALS\'] =  { type: \'list\',  data: {UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_TRIALS\'],  settings: {UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_TRIALS\'] }',
'{UXPRERENDEREDALIAS}_DlgObj.setVariables({});',
'{UXPRERENDEREDALIAS}_DlgObj._dataBoundControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._primaryTableAlias = \'\';',
'{UXPRERENDEREDALIAS}_DlgObj._listControlsInfo = {};',
'{UXPRERENDEREDALIAS}_DlgObj._functions.__fillContainer_LIST_TRIALS = function() { ',
'\tvar rExp = new RegExp(\'^A5dlg[0-9]*\\.BODY\');',
'\tvar cEle = $(\'{UXPRERENDEREDALIAS}.V.R1.CONTAINER_LIST\');',
'\t//test to see if the container parent node is a window body. if so, then set the container to the window',
'\tif(rExp.test(cEle.parentNode.id)) {',
'\t\tvar pEle = cEle.parentNode;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_TRIALS\'].containerId = pEle.id;',
'\t\tpEle.innerHTML = \'\';',
'\t} else {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_TRIALS\'].containerId = cEle.id;',
'\t\t//blow away any existing content in the container',
'\t\tcEle.innerHTML = \'\';',
'\t}',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._functions.__fillContainer_LIST_TRIALS();',
'{UXPRERENDEREDALIAS}_DlgObj._hasPanels = true;',
'{UXPRERENDEREDALIAS}_DlgObj._hasOnSynchronizeEvent = false;',
'A5.__dtfmt = \'MM/dd/yyyy\';A5.__tfmt = \'\';',
'A5.__flagWorkingPreview = false;',
'A5.__flagIIS = false;',
'A5.__flagSimulateIIS = true;',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation = function() { ',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj == \'undefined\') return \'\';',
'\tvar orientation = {UXPRERENDEREDALIAS}_DlgObj.getOrientation();',
'\tif( orientation == \'landscape\') {',
'\t\t\t//landscape',
'\t\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'landscape\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'landscape\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'landscape\'});',
'\t\t\t}',
'\t} else {',
'\t\t//portrait',
'\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'portrait\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'portrait\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'portrait\'});',
'\t\t\t}',
'\t}',
'}',
'\tA5.flags.cordovaLoaded = true;',
'\ttry {',
'\t\tdocument.addEventListener(\'deviceready\', function() { ',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onCordovaReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onPhoneGapReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._cordovaReady = true;',
'\t\t\tnavigator.geolocation.getAccuratePosition = function(geolocationSuccess, geolocationError, options) {',
'\tvar _lastCheckedPosition = null;',
'\tvar _locationEventCount = 0;',
'\toptions = options || {};',
'\toptions.context = this;',
'    function _checkLocation(pos) {',
'        _lastCheckedPosition = pos;',
'        _locationEventCount++;',
'        if ((pos.coords.accuracy <= options.desiredAccuracy) && (_locationEventCount > options.ignoreResultCount)) {',
'            clearTimeout(_timerID);',
'            navigator.geolocation.clearWatch(_watchID);',
'            _foundPosition(pos);',
'        } ',
'    }',
'    function _stopLocationCheck() {',
'    \t var error = {};',
'    \t error.code = 0;',
'    \t error.message = \'Timeout: No results\';',
'        navigator.geolocation.clearWatch(_watchID);',
'        _lastCheckedPosition ? _foundPosition(_lastCheckedPosition) : geolocationError.call(options.context,error);',
'    }',
'    function _onError(error) {',
'        clearTimeout(_timerID);',
'        navigator.geolocation.clearWatch(_watchID);',
'        geolocationError.call(options.context,error);',
'    }',
'    function _foundPosition(pos) {',
'        geolocationSuccess.call(options.context,pos);',
'    }',
'    if (!options.maxWait) {            ',
'    \toptions.maxWait = 10000; ',
'    }\t',
'    if (!options.desiredAccuracy) {',
'    \t  options.desiredAccuracy = 20; ',
'    }',
'    if (!options.timeout) {',
'        options.timeout = options.maxWait;',
'\t }',
'\t if (!options.ignoreResultCount) {',
'\t \t\toptions.ignoreResultCount = 1;',
'\t }',
'    options.maximumAge = 0; ',
'    options.enableHighAccuracy = true; ',
'    var _watchID = navigator.geolocation.watchPosition(_checkLocation, _onError, options);',
'    var _timerID = setTimeout(_stopLocationCheck, options.maxWait); ',
'}',
'\t\t} , false);\t',
'\t}',
'\tcatch(err) {}',
'{UXPRERENDEREDALIAS}_DlgObj._waitGif = \'css/A5System/Images/wait.gif\';',
'var EXIF=(function(){var debug=false;var ExifTags={0x9000:"ExifVersion",0xA000:"FlashpixVersion",0xA001:"ColorSpace",0xA002:"PixelXDimension",0xA003:"PixelYDimension",0x9101:"ComponentsConfiguration",0x9102:"CompressedBitsPerPixel",0x927C:"MakerNote",0x9286:"UserComment",0xA004:"RelatedSoundFile",0x9003:"DateTimeOriginal",0x9004:"DateTimeDigitized",0x9290:"SubsecTime",0x9291:"SubsecTimeOriginal",0x9292:"SubsecTimeDigitized",0x829A:"ExposureTime",0x829D:"FNumber",0x8822:"ExposureProgram",0x8824:"SpectralSensitivity",0x8827:"ISOSpeedRatings",0x8828:"OECF",0x9201:"ShutterSpeedValue",0x9202:"ApertureValue",0x9203:"BrightnessValue",0x9204:"ExposureBias",0x9205:"MaxApertureValue",0x9206:"SubjectDistance",0x9207:"MeteringMode",0x9208:"LightSource",0x9209:"Flash",0x9214:"SubjectArea",0x920A:"FocalLength",0xA20B:"FlashEnergy",0xA20C:"SpatialFrequencyResponse",0xA20E:"FocalPlaneXResolution",0xA20F:"FocalPlaneYResolution",0xA210:"FocalPlaneResolutionUnit",0xA214:"SubjectLocation",0xA215:"ExposureIndex",0xA217:"SensingMethod",0xA300:"FileSource",0xA301:"SceneType",0xA302:"CFAPattern",0xA401:"CustomRendered",0xA402:"ExposureMode",0xA403:"WhiteBalance",0xA404:"DigitalZoomRation",0xA405:"FocalLengthIn35mmFilm",0xA406:"SceneCaptureType",0xA407:"GainControl",0xA408:"Contrast",0xA409:"Saturation",0xA40A:"Sharpness",0xA40B:"DeviceSettingDescription",0xA40C:"SubjectDistanceRange",0xA005:"InteroperabilityIFDPointer",0xA420:"ImageUniqueID"};var TiffTags={0x0100:"ImageWidth",0x0101:"ImageHeight",0x8769:"ExifIFDPointer",0x8825:"GPSInfoIFDPointer",0xA005:"InteroperabilityIFDPointer",0x0102:"BitsPerSample",0x0103:"Compression",0x0106:"PhotometricInterpretation",0x0112:"Orientation",0x0115:"SamplesPerPixel",0x011C:"PlanarConfiguration",0x0212:"YCbCrSubSampling",0x0213:"YCbCrPositioning",0x011A:"XResolution",0x011B:"YResolution",0x0128:"ResolutionUnit",0x0111:"StripOffsets",0x0116:"RowsPerStrip",0x0117:"StripByteCounts",0x0201:"JPEGInterchangeFormat",0x0202:"JPEGInterchangeFormatLength",0x012D:"TransferFunction",0x013E:"WhitePoint",0x013F:"PrimaryChromaticities",0x0211:"YCbCrCoefficients",0x0214:"ReferenceBlackWhite",0x0132:"DateTime",0x010E:"ImageDescription",0x010F:"Make",0x0110:"Model",0x0131:"Software",0x013B:"Artist",0x8298:"Copyright"};var GPSTags={0x0000:"GPSVersionID",0x0001:"GPSLatitudeRef",0x0002:"GPSLatitude",0x0003:"GPSLongitudeRef",0x0004:"GPSLongitude",0x0005:"GPSAltitudeRef",0x0006:"GPSAltitude",0x0007:"GPSTimeStamp",0x0008:"GPSSatellites",0x0009:"GPSStatus",0x000A:"GPSMeasureMode",0x000B:"GPSDOP",0x000C:"GPSSpeedRef",0x000D:"GPSSpeed",0x000E:"GPSTrackRef",0x000F:"GPSTrack",0x0010:"GPSImgDirectionRef",0x0011:"GPSImgDirection",0x0012:"GPSMapDatum",0x0013:"GPSDestLatitudeRef",0x0014:"GPSDestLatitude",0x0015:"GPSDestLongitudeRef",0x0016:"GPSDestLongitude",0x0017:"GPSDestBearingRef",0x0018:"GPSDestBearing",0x0019:"GPSDestDistanceRef",0x001A:"GPSDestDistance",0x001B:"GPSProcessingMethod",0x001C:"GPSAreaInformation",0x001D:"GPSDateStamp",0x001E:"GPSDifferential"};var StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0x0000:"Flash did not fire",0x0001:"Flash fired",0x0005:"Strobe return light not detected",0x0007:"Strobe return light detected",0x0009:"Flash fired, compulsory flash mode",0x000D:"Flash fired, compulsory flash mode, return light not detected",0x000F:"Flash fired, compulsory flash mode, return light detected",0x0010:"Flash did not fire, compulsory flash mode",0x0018:"Flash did not fire, auto mode",0x0019:"Flash fired, auto mode",0x001D:"Flash fired, auto mode, return light not detected",0x001F:"Flash fired, auto mode, return light detected",0x0020:"No flash function",0x0041:"Flash fired, red-eye reduction mode",0x0045:"Flash fired, red-eye reduction mode, return light not detected",0x0047:"Flash fired, red-eye reduction mode, return light detected",0x0049:"Flash fired, compulsory flash mode, red-eye reduction mode",0x004D:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",0x004F:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",0x0059:"Flash fired, auto mode, red-eye reduction mode",0x005D:"Flash fired, auto mode, return light not detected, red-eye reduction mode",0x005F:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function imageHasData(img){return!!(img.exifdata)}function findEXIFinJPEG(file){if(file.getByteAt(0)!=0xFF||file.getByteAt(1)!=0xD8){return false}var offset=2,length=file.getLength(),marker;while(offset<length){if(file.getByteAt(offset)!=0xFF){if(debug)console.log("Not a valid marker at offset "+offset+", found: "+file.getByteAt(offset));return false}marker=file.getByteAt(offset+1);if(marker==22400){if(debug)console.log("Found 0xFFE1 marker");return readEXIFData(file,offset+4,file.getShortAt(offset+2,true)-2)}else if(marker==225){if(debug)console.log("Found 0xFFE1 marker");return readEXIFData(file,offset+4,file.getShortAt(offset+2,true)-2)}else{offset+=2+file.getShortAt(offset+2,true)}}}function readTags(file,tiffStart,dirStart,strings,bigEnd){var entries=file.getShortAt(dirStart,bigEnd),tags={},entryOffset,tag,i;for(i=0;i<entries;i++){entryOffset=dirStart+i*12+2;tag=strings[file.getShortAt(entryOffset,bigEnd)];if(!tag&&debug)console.log("Unknown tag: "+file.getShortAt(entryOffset,bigEnd));tags[tag]=readTagValue(file,entryOffset,tiffStart,dirStart,bigEnd)}return tags}function readTagValue(file,entryOffset,tiffStart,dirStart,bigEnd){var type=file.getShortAt(entryOffset+2,bigEnd),numValues=file.getLongAt(entryOffset+4,bigEnd),valueOffset=file.getLongAt(entryOffset+8,bigEnd)+tiffStart,offset,vals,val,n,numerator,denominator;switch(type){case 1:case 7:if(numValues==1){return file.getByteAt(entryOffset+8,bigEnd)}else{offset=numValues>4?valueOffset:(entryOffset+8);vals=[];for(n=0;n<numValues;n++){vals[n]=file.getByteAt(offset+n)}return vals}case 2:offset=numValues>4?valueOffset:(entryOffset+8);return file.getStringAt(offset,numValues-1);case 3:if(numValues==1){return file.getShortAt(entryOffset+8,bigEnd)}else{offset=numValues>2?valueOffset:(entryOffset+8);vals=[];for(n=0;n<numValues;n++){vals[n]=file.getShortAt(offset+2*n,bigEnd)}return vals}case 4:if(numValues==1){return file.getLongAt(entryOffset+8,bigEnd)}else{vals=[];for(var n=0;n<numValues;n++){vals[n]=file.getLongAt(valueOffset+4*n,bigEnd)}return vals}case 5:if(numValues==1){numerator=file.getLongAt(valueOffset,bigEnd);denominator=file.getLongAt(valueOffset+4,bigEnd);val=new Number(numerator/denominator);val.numerator=numerator;val.denominator=denominator;return val}else{vals=[];for(n=0;n<numValues;n++){numerator=file.getLongAt(valueOffset+8*n,bigEnd);denominator=file.getLongAt(valueOffset+4+8*n,bigEnd);vals[n]=new Number(numerator/denominator);vals[n].numerator=numerator;vals[n].denominator=denominator}return vals}case 9:if(numValues==1){return file.getSLongAt(entryOffset+8,bigEnd)}else{vals=[];for(n=0;n<numValues;n++){vals[n]=file.getSLongAt(valueOffset+4*n,bigEnd)}return vals}case 10:if(numValues==1){return file.getSLongAt(valueOffset,bigEnd)/file.getSLongAt(valueOffset+4,bigEnd)}else{vals=[];for(n=0;n<numValues;n++){vals[n]=file.getSLongAt(valueOffset+8*n,bigEnd)/file.getSLongAt(valueOffset+4+8*n,bigEnd)}return vals}}}function readEXIFData(file,start){if(file.getStringAt(start,4)!="Exif"){if(debug)console.log("Not valid EXIF data! "+file.getStringAt(start,4));return false}var bigEnd,tags,tag,exifData,gpsData,tiffOffset=start+6;if(file.getShortAt(tiffOffset)==0x4949){bigEnd=false}else if(file.getShortAt(tiffOffset)==0x4D4D){bigEnd=true}else{if(debug)console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)");return false}if(file.getShortAt(tiffOffset+2,bigEnd)!=0x002A){if(debug)console.log("Not valid TIFF data! (no 0x002A)");return false}if(file.getLongAt(tiffOffset+4,bigEnd)!=0x00000008){if(debug)console.log("Not valid TIFF data! (First offset not 8)",file.getShortAt(tiffOffset+4,bigEnd));return false}tags=readTags(file,tiffOffset,tiffOffset+8,TiffTags,bigEnd);if(tags.ExifIFDPointer){exifData=readTags(file,tiffOffset,tiffOffset+tags.ExifIFDPointer,ExifTags,bigEnd);for(tag in exifData){switch(tag){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":exifData[tag]=StringValues[tag][exifData[tag]];break;case"ExifVersion":case"FlashpixVersion":exifData[tag]=String.fromCharCode(exifData[tag][0],exifData[tag][1],exifData[tag][2],exifData[tag][3]);break;case"ComponentsConfiguration":exifData[tag]=StringValues.Components[exifData[tag][0]]+StringValues.Components[exifData[tag][1]]+StringValues.Components[exifData[tag][2]]+StringValues.Components[exifData[tag][3]];break}tags[tag]=exifData[tag]}}if(tags.GPSInfoIFDPointer){gpsData=readTags(file,tiffOffset,tiffOffset+tags.GPSInfoIFDPointer,GPSTags,bigEnd);for(tag in gpsData){switch(tag){case"GPSVersionID":gpsData[tag]=gpsData[tag][0]+"."+gpsData[tag][1]+"."+gpsData[tag][2]+"."+gpsData[tag][3];break}tags[tag]=gpsData[tag]}}return tags}function getData(img,callback){if(!img.complete)return false;if(!imageHasData(img)){getImageData(img,callback)}else{if(callback){callback.call(img)}}return true}function getTag(img,tag){if(!imageHasData(img))return;return img.exifdata[tag]}function getAllTags(img){if(!imageHasData(img))return{};var a,data=img.exifdata,tags={};for(a in data){if(data.hasOwnProperty(a)){tags[a]=data[a]}}return tags}function pretty(img){if(!imageHasData(img))return"";var a,data=img.exifdata,strPretty="";for(a in data){if(data.hasOwnProperty(a)){if(typeof data[a]=="object"){if(data[a]instanceof Number){strPretty+=a+" : "+data[a]+" ["+data[a].numerator+"/"+data[a].denominator+"]\\r\\n"}else{strPretty+=a+" : ["+data[a].length+" values]\\r\\n"}}else{strPretty+=a+" : "+data[a]+"\\r\\n"}}}return strPretty}function readFromBinaryFile(file){return findEXIFinJPEG(file)}function BinaryFile(strData,iDataOffset,iDataLength){var data=strData;var dataOffset=iDataOffset||0;var dataLength=0;this.getRawData=function(){return data};if(typeof strData=="string"){dataLength=iDataLength||data.length;this.getByteAt=function(iOffset){return data.charCodeAt(iOffset+dataOffset)&0xFF};this.getBytesAt=function(iOffset,iLength){var aBytes=[];for(var i=0;i<iLength;i++){aBytes[i]=data.charCodeAt((iOffset+i)+dataOffset)&0xFF}return aBytes}}else if(typeof strData=="unknown"){dataLength=iDataLength||IEBinary_getLength(data);this.getByteAt=function(iOffset){return IEBinary_getByteAt(data,iOffset+dataOffset)};this.getBytesAt=function(iOffset,iLength){return new VBArray(IEBinary_getBytesAt(data,iOffset+dataOffset,iLength)).toArray()}}this.getLength=function(){return dataLength};this.getSByteAt=function(iOffset){var iByte=this.getByteAt(iOffset);if(iByte>127)return iByte-256;else return iByte};this.getShortAt=function(iOffset,bBigEndian){var iShort=bBigEndian?(this.getByteAt(iOffset)<<8)+this.getByteAt(iOffset+1):(this.getByteAt(iOffset+1)<<8)+this.getByteAt(iOffset);if(iShort<0)iShort+=65536;return iShort};this.getSShortAt=function(iOffset,bBigEndian){var iUShort=this.getShortAt(iOffset,bBigEndian);if(iUShort>32767)return iUShort-65536;else return iUShort};this.getLongAt=function(iOffset,bBigEndian){var iByte1=this.getByteAt(iOffset),iByte2=this.getByteAt(iOffset+1),iByte3=this.getByteAt(iOffset+2),iByte4=this.getByteAt(iOffset+3);var iLong=bBigEndian?(((((iByte1<<8)+iByte2)<<8)+iByte3)<<8)+iByte4:(((((iByte4<<8)+iByte3)<<8)+iByte2)<<8)+iByte1;if(iLong<0)iLong+=4294967296;return iLong};this.getSLongAt=function(iOffset,bBigEndian){var iULong=this.getLongAt(iOffset,bBigEndian);if(iULong>2147483647)return iULong-4294967296;else return iULong};this.getStringAt=function(iOffset,iLength){var aStr=[];var aBytes=this.getBytesAt(iOffset,iLength);for(var j=0;j<iLength;j++){aStr[j]=String.fromCharCode(aBytes[j])}return aStr.join("")};this.getCharAt=function(iOffset){return String.fromCharCode(this.getByteAt(iOffset))};this.toBase64=function(){return window.btoa(data)};this.fromBase64=function(strBase64){data=window.atob(strBase64)}}return{findEXIFinJPEG:findEXIFinJPEG,pretty:pretty,getTag:getTag,getAllTags:getAllTags,getData:getData,Tags:ExifTags,TiffTags:TiffTags,GPSTags:GPSTags,StringValues:StringValues,BinaryFile:BinaryFile}})();',
'(function(){function detectSubsampling(img){var iw=img.naturalWidth,ih=img.naturalHeight;if(iw*ih>1024*1024){var canvas=document.createElement(\'canvas\');canvas.width=canvas.height=1;var ctx=canvas.getContext(\'2d\');ctx.drawImage(img,-iw+1,0);return ctx.getImageData(0,0,1,1).data[3]===0}else{return false}}function detectVerticalSquash(img,iw,ih){var canvas=document.createElement(\'canvas\');canvas.width=1;canvas.height=ih;var ctx=canvas.getContext(\'2d\');ctx.drawImage(img,0,0);var data=ctx.getImageData(0,0,1,ih).data;var sy=0;var ey=ih;var py=ih;while(py>sy){var alpha=data[(py-1)*4+3];if(alpha===0){ey=py}else{sy=py}py=(ey+sy)>>1}var ratio=(py/ih);return(ratio===0)?1:ratio}function renderImageToDataURL(img,options){var canvas=document.createElement(\'canvas\');renderImageToCanvas(img,canvas,options);return canvas.toDataURL("image/jpeg",options.quality||0.8)}function renderImageToCanvas(img,canvas,options){var iw=img.naturalWidth,ih=img.naturalHeight;var width=options.width,height=options.height;var ctx=canvas.getContext(\'2d\');ctx.save();transformCoordinate(canvas,width,height,options.orientation);var subsampled=detectSubsampling(img);if(subsampled){iw/=2;ih/=2}var d=1024;var tmpCanvas=document.createElement(\'canvas\');tmpCanvas.width=tmpCanvas.height=d;var tmpCtx=tmpCanvas.getContext(\'2d\');var vertSquashRatio=detectVerticalSquash(img,iw,ih);var dw=Math.ceil(d*width/iw);var dh=Math.ceil(d*height/ih/vertSquashRatio);var sy=0;var dy=0;while(sy<ih){var sx=0;var dx=0;while(sx<iw){tmpCtx.clearRect(0,0,d,d);tmpCtx.drawImage(img,-sx,-sy);ctx.drawImage(tmpCanvas,0,0,d,d,dx,dy,dw,dh);sx+=d;dx+=dw}sy+=d;dy+=dh}ctx.restore();tmpCanvas=tmpCtx=null}function transformCoordinate(canvas,width,height,orientation){switch(orientation){case 5:case 6:case 7:case 8:canvas.width=height;canvas.height=width;break;default:canvas.width=width;canvas.height=height}var ctx=canvas.getContext(\'2d\');switch(orientation){case 2:ctx.translate(width,0);ctx.scale(-1,1);break;case 3:ctx.translate(width,height);ctx.rotate(Math.PI);break;case 4:ctx.translate(0,height);ctx.scale(1,-1);break;case 5:ctx.rotate(0.5*Math.PI);ctx.scale(1,-1);break;case 6:ctx.rotate(0.5*Math.PI);ctx.translate(0,-height);break;case 7:ctx.rotate(0.5*Math.PI);ctx.translate(width,-height);ctx.scale(-1,1);break;case 8:ctx.rotate(-0.5*Math.PI);ctx.translate(-width,0);break;default:break}}function MegaPixImage(srcImage){if(srcImage instanceof Blob){var img=new Image();var URL=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!URL){throw Error("No createObjectURL function found to create blob url");}img.src=URL.createObjectURL(srcImage);srcImage=img}if(!srcImage.naturalWidth&&!srcImage.naturalHeight){var _this=this;srcImage.onload=function(){var listeners=_this.imageLoadListeners;if(listeners){_this.imageLoadListeners=null;for(var i=0,len=listeners.length;i<len;i++){listeners[i]()}}};this.imageLoadListeners=[]}this.srcImage=srcImage}MegaPixImage.prototype.render=function(target,options){if(this.imageLoadListeners){var _this=this;this.imageLoadListeners.push(function(){_this.render(target,options)});return}options=options||{};var imgWidth=this.srcImage.naturalWidth,imgHeight=this.srcImage.naturalHeight,width=options.width,height=options.height,maxWidth=options.maxWidth,maxHeight=options.maxHeight;if(width&&!height){height=(imgHeight*width/imgWidth)<<0}else if(height&&!width){width=(imgWidth*height/imgHeight)<<0}else{width=imgWidth;height=imgHeight}if(maxWidth&&width>maxWidth){width=maxWidth;height=(imgHeight*width/imgWidth)<<0}if(maxHeight&&height>maxHeight){height=maxHeight;width=(imgWidth*height/imgHeight)<<0}var opt={width:width,height:height};for(var k in options)opt[k]=options[k];var tagName=target.tagName.toLowerCase();if(tagName===\'img\'){target.src=renderImageToDataURL(this.srcImage,opt)}else if(tagName===\'canvas\'){renderImageToCanvas(this.srcImage,target,opt)}if(typeof this.onrender===\'function\'){this.onrender(target)}};if(typeof define===\'function\'&&define.amd){define([],function(){return MegaPixImage})}else{this.MegaPixImage=MegaPixImage}})();',
'/*',
'Copyright (c) 2001, 2013 Alpha Software Corporation',
'All Rights Reserved.',
'This Javascript library is licensed exclusively for use with Alpha Anywhere, Alpha Five,',
'Alpha Five Application Server, Alpha Anywhere Application Server,',
'Alpha Five Run Engine, and Alpha Anywhere Run Engine. It is specifically',
'not licensed for use on a server that does not have installed on it a',
'licensed copy of the Alpha Five Application Server or the Alpha Anywhere Application Server.',
'*/',
'\t{UXPRERENDEREDALIAS}_DlgObj.imageCaptureUsingCamera = function(options) {',
'\t\toptions.specialMode = \'callback\';',
'\t\tthis.detailViewImageCapture(options);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewImageCapture = function(options) {',
'\t\tif(typeof options.specialMode == \'undefined\') options.specialMode = \'detailview\';',
'\t\tvar flagPhoneGapLoaded = false;',
'\t\tvar flagUseCordova = false;',
'\t\tif (typeof window[\'cordova\'] != \'undefined\') {',
'\t\t\tflagPhoneGapLoaded = true;',
'\t\t\tif(options.captureMethod == \'phonegappreferred\' || options.captureMethod == \'phonegap\') {',
'\t\t\t\tflagUseCordova = true;',
'\t\t\t}',
'\t\t}',
'\t\tif(options.captureMethod == \'phonegap\' && flagPhoneGapLoaded == false) {',
'\t\t\talert(\'PhoneGap not available\'); return false;',
'\t\t}',
'\t\tif(!flagUseCordova) {',
'\t\t\tthis.detailViewImageCaptureHTML5(options);',
'\t\t} else {',
'\t\t\tthis.detailViewImageCapturePhoneGap(options);',
'\t\t}',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewImageCaptureHTML5 = function(options) {',
'\t\tif(typeof options.specialMode == \'undefined\') options.specialMode = \'detailview\';',
'\t\tif(options.onBeforeCaptureJavascript) {',
'\t\t\tvar result = options.onBeforeCaptureJavascript.call();',
'\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\tif(!result) return false;',
'\t\t\t}',
'\t\t}',
'\t\tif(A5.flags.isAndroid == false) {',
'\t\t\tif(A5.flags.isIPhone || A5.flags.isIPad){',
'\t\t\t\tif (typeof A5.flags.iOSVersion != \'undefined\') {',
'\t\t\t\t\tvar majorNum = A5.flags.iOSVersion.split(\'.\')[0];',
'\t\t\t\t\tif(parseInt(majorNum) < 6) {',
'\t\t\t\t\t\talert(\'HTML5 camera access not supported on this version of iOS\');',
'\t\t\t\t\t\treturn false;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(A5.u.css.supportsTransition == false) {',
'\t\t\talert(\'Browser does not support HTML5 camera access\');',
'\t\t\treturn false;',
'\t\t}',
'\t\tif(typeof options.resizePolicyHTML5 == \'undefined\') options.resizePolicyHTML5 = \'Always\';',
'\t\toptions.resizePolicyHTML5 = options.resizePolicyHTML5.toLowerCase();',
'\t\tif(options.resizePolicyHTML5 != \'always\') {',
'\t\t\tvar maxSize = 99999999999;',
'\t\t\tif(typeof options.maxImageSizeHTML5 != \'undefined\') maxSize = Number(options.maxImageSizeHTML5);',
'\t\t}',
'\t\t//if(typeof options.resizeImageHTML5 == \'undefined\') options.resizeImageHTML5 = true;',
'\t\tvar ops = {};',
'\t\tops.dialogObj = this;',
'\t\tif(options.specialMode == \'callback\' ) {',
'\t\t\toptions.controlName = \'\';',
'\t\t}',
'\t \tops.targetImage = options.controlName;',
'\t \tops.targetImage = ops.targetImage.toUpperCase();',
'\t \tops.html5 = {};',
'\t \tops.html5.resizeFlag = options.resizeImageHTML5;',
'\t \tops.html5.compressionFactor = options.imageCompressionHTML5;',
'\t \tops.html5.maxWidth = options.maxImageWidth;',
'\t \tops.html5.maxHeight = options.maxImageHeight;',
'\t \tops.fieldPrefix = this.dialogId + \'.V.R1\';',
'\t \tops.imageFieldName = (ops.fieldPrefix + \'.\' + ops.targetImage).toUpperCase();',
'\t \tops.hiddenFileName =  (ops.fieldPrefix + \'.\' + ops.targetImage + \'_HIDDENA5FN\').toUpperCase();',
' \t\tops.handleFileSelect = function(evt) {',
'\t\t\t// creates a FileList object',
'\t\t\tvar files = evt.target.files;',
'\t\t\t// Even if multiple files are presented, only the first file will be uploaded.',
'\t\t\tif (!files.length){',
'\t\t\t\t// alerts should be ok here when fired by a timer',
'\t\t\t\tsetTimeout(function(){',
'\t\t\t\t\t//alert(\'<a5:r>No files selected.</a5:r>\');',
'\t\t\t\t},50);',
'\t\t\t\treturn false;',
'\t\t\t} else {',
'\t\t\t\t// we\'re processing only 1 file at this point',
'\t\t\t\tvar f = files[0];',
'\t\t\t\tops.updateImage(f);',
'\t\t\t}',
'\t\t}',
'\t\t$e.removeGroup(\'__detailViewImageCapture\')',
'\t\t$e.add($(this.dialogId + \'._GETPHOTO\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__detailViewImageCapture\');',
'\t\tops.updateImage = function(_thisFile) {',
'\t\t\tvar _sourceFileName = _thisFile.name;',
'\t\t\tvar _thisImageName = ops.imageFieldName;',
'\t\t\tvar _thisImage = $(_thisImageName);',
'\t\t\tvar reader = new FileReader();',
'\t\t\treader.onload = function(e) {',
'\t\t\t\tvar flagResize = false;',
'\t\t\t\tif(options.resizePolicyHTML5 == \'always\') {',
'\t\t\t\t\tflagResize = true;',
'\t\t\t\t} else {',
'\t\t\t\t\tif(e.target.result.length > maxSize) {',
'\t\t\t\t\t\tflagResize = true;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(!flagResize) {',
'\t\t\t\t\t//not resizing',
'\t\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t\t_thisImage.src = e.target.result;',
'\t\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\t\tif(eleH) eleH.src = _thisImage.src;',
'\t\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\t\t$sa(eleH,\'a5imageSourceName\',_sourceFileName);',
'\t\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t\t\tif(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : e.target.result});',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\toptions.onCaptureJavascript.call(this, {data : e.target.result});',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\t//resizing',
'\t\t\t\t\tif(options.displaySpinnerWhileResizingImage) {',
'\t\t\t\t\t\t_thisImage.src = options.spinnerURI.replace(/\\|/gi,\'/\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _orientation = ops.parseExifOrientation(e.target.result);',
'\t\t\t\t\tops.renderImgToCanvas(_thisFile,_orientation,_sourceFileName);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\treader.onerror = function(e) {',
'\t\t\t\tsetTimeout(function(){',
'\t\t\t\talert(\'<a5:r>Error reading file.</a5:r>\');',
'\t\t\t\t},0);',
'\t\t\t}',
'\t\t\treader.readAsDataURL(_thisFile);',
'\t\t}',
'\t\tops.parseExifOrientation = function(dataUrl) {',
'\t\t\ttry {',
'\t\t\t\tvar _byteString = atob(dataUrl.split(\',\')[1]);',
'\t\t\t\tvar _binaryFile = new EXIF.BinaryFile(_byteString, 0, _byteString.length);',
'\t\t\t\tvar _exif = EXIF.findEXIFinJPEG(_binaryFile);',
'\t\t\t\t// Store EXIF orientation (if available) in data property.',
'\t\t\t\tif (_exif && _exif[\'Orientation\']) {',
'\t\t\t\t\treturn _exif[\'Orientation\'];',
'\t\t\t\t} else {',
'\t\t\t\t\treturn null;',
'\t\t\t\t}',
'\t\t\t} catch (e) {',
'\t\t\t\t// Error parsing EXIF data.',
'\t\t\t\tconsole.log(\'Error loading EXIF data\', e);',
'\t\t\t}',
'\t\t}',
'\t\tops.renderImgToCanvas = function(_file,_orientation,_sourceFileName) {',
'\t\t\t// using megapix-image.js here which handles(?) sub-sampling issue with large images and Canvas on iOS6 Safari',
'\t\t\tvar mpImg = new MegaPixImage(_file);',
'\t\t\tmpImg.onrender = function(){',
'\t\t\t\t// this timeout required to ensure _thisCanvas render complete',
'\t\t\t\tsetTimeout(function(){',
'\t\t\t\t\tvar dataURL = _thisCanvas.toDataURL(\'image/jpeg\', ops.html5.compressionFactor);',
'\t\t\t\t\t//alert(\'html5 size after resizing image:\' + dataURL.length);',
'\t\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t\tvar ele = $(ops.imageFieldName);',
'\t\t\t\t\t\t//put the scaled image in the element',
'\t\t\t\t\t\tele.src = dataURL;',
'\t\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\t\tif(eleH) eleH.src = dataURL;',
'\t\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\t\t$sa(eleH,\'a5imageSourceName\',_sourceFileName);',
'\t\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t\t\tif(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : dataURL});',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\toptions.onCaptureJavascript.call(this, {data : dataURL});',
'\t\t\t\t\t}',
'\t\t\t\t},0);',
'\t\t\t}',
'\t\t\tvar _thisCanvas = document.createElement(\'canvas\');',
'\t\t\tvar ctx = _thisCanvas.getContext(\'2d\');',
'\t\t\t// adjust based on extracted _orientation',
'\t\t\tif (_orientation) {',
'\t\t\t\tmpImg.render(_thisCanvas,{maxWidth: ops.html5.maxWidth, maxHeight:ops.html5.maxHeight, orientation:_orientation});',
'\t\t\t} else {',
'\t\t\t\tmpImg.render(_thisCanvas,{maxWidth: ops.html5.maxWidth, maxHeight:ops.html5.maxHeight});',
'\t\t\t}',
'\t\t}',
'\t\t//click the hidden image control',
'\t\tvar ele = $(this.dialogId + \'._GETPHOTO\');',
'\t\tif (ele) {',
'\t\t\tele.value = \'\';',
'\t\t\tele.click();',
'\t\t}',
'\t}',
'\t/////\\\\\\\\\\',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewVideoCapturePhoneGap = function(opsIn) {',
'\t\t//ops.fieldPrefix = this.dialogId + \'.V.R1\';',
'\t\t//ops.videoFieldName = (ops.fieldPrefix + \'.\' + ops.controlName).toUpperCase();',
'\t\topsIn.dialogObj = this;',
'\t\tvar options = opsIn.options;',
'\t\tvar onSuccess = function(mediaFiles) { var e = {filename: mediaFiles[0].fullPath};',
'\t\t\tvar e_filename = e.filename;',
'\t\t\tif(e_filename.indexOf(\'file:\') != 0) {',
'\t\t\t\te_filename = e_filename.replace(\'/private\',\'file:\\/\\/\');',
'\t\t\t}',
'\t\t\tif(e_filename.indexOf(\'file:\') != 0 && e_filename.indexOf(\'.wav\') > 0) {',
'\t\t\t\te_filename = \'file:\\/\\/\' + e_filename;',
'\t\t\t\t//alert(e_filename);',
'\t\t\t}',
'\t\t\topsIn.dialogObj.setValue(opsIn.controlName,e_filename);',
'\t\t\t//var ele = $(ops.imageFieldName);',
'\t\t\t//if(ele) ele.src = thisImageURL;',
'\t\t\t//var eleH = $(ops.hiddenFileName);',
'\t\t\t//if(eleH) eleH.src = thisImageURL;',
'\t\t\t//$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\topsIn.dialogObj.refreshClientSideComputations();',
'\t\t};',
'\t\tvar onFailed = function() {',
'\t\t};',
'\t\tvar flagAudio = false;',
'\t\tif(typeof opsIn.audio != \'undefined\') flagAudio = opsIn.audio;',
'\t\tif(!flagAudio) {',
'\t\t\tnavigator.device.capture.captureVideo(onSuccess,onFailed,options);',
'\t\t} else {',
'\t\t\t//alert(\'audio\');',
'\t\t\t//debugger;',
'\t\t\tvar options = { limit: 1, duration: 10 };',
'\t\t\t//navigator.device.capture.captureAudio(captureSuccess, captureError, options);',
'\t\t\t//navigator.device.capture.captureAudio(onSuccess,onFailed,options);',
'\t\t\tvar _media = {',
'\t\t\t\trecorder: null,',
'\t\t\t\trecFile: \'myaudio/myrecording3.amr\'  //if device.platform is \'Android\' then use .amr, otherwise .wav',
'\t\t\t}',
'\t\t\tfunction captureStatus(e) {',
'\t\t\t\tconsole.log(\'status....\' + JSON.stringify(e));',
'\t\t\t}',
'\t\t\tvar onSuccessAudio = function() {',
'\t\t\t\tconsole.log(\'try to play it now\');',
'\t\t\t\tsetTimeout(function() { _media.recorder.play(); },1000);',
'\t\t\t\t//var e_filename = _media.recFile;',
'\t\t\t\t//opsIn.dialogObj.setValue(opsIn.controlName,e_filename);',
'\t\t\t\t//opsIn.dialogObj.refreshClientSideComputations();',
'\t\t\t};',
'\t\t\t_media.recorder = new Media(_media.recFile,onSuccessAudio,onFailed,captureStatus);',
'\t\t\tconsole.log(\'about to record\');',
'\t\t\t_media.recorder.startRecord();',
'\t\t\tconsole.log(\'start\');',
'\t\t\tsetTimeout(function() { console.log(\'stop\'); _media.recorder.stopRecord();  },5000);',
'\t\t\t//_media.recorder.play();',
'\t\t}',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewImageCapturePhoneGap =  function(options) {',
'\t\tvar flagCustomOnError = false;',
'\t\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents != \'undefined\') flagCustomOnError = {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents;',
'\t\tif(!flagCustomOnError) window.onerror = function(err) { alert(\'Unhandled Javascript Error - phoneGapImageCapture:  \' + JSON.stringify(err));}',
'\t\tif(options.onBeforeCaptureJavascript) {',
'\t\t\tvar result = options.onBeforeCaptureJavascript.call();',
'\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\tif(!result) return false;',
'\t\t\t}',
'\t\t}',
'\t\tif (typeof window[\'cordova\'] == \'undefined\') {',
'\t\t\talert(\'PhoneGap not loaded\');',
'\t\t\treturn false;',
'\t\t}',
'\t\tif(typeof options.imageSelectionCanceledMessage == \'undefined\') options.imageSelectionCanceledMessage = \'Image Selection Canceled\';',
'\t\tif(typeof options.imageSelectionCanceledButton == \'undefined\') options.imageSelectionCanceledButton = \'Done\';',
'\t\tif(typeof options.cameraCanceledMessage == \'undefined\') options.cameraCanceledMessage = \'Camera Action Canceled\';',
'\t\tif(typeof options.cameraCanceledButton == \'undefined\') options.cameraCanceledButton = \'Done\';',
'\t\tvar maxSize = -1;',
'\t\tif(typeof options.maxImageSizePhoneGap != \'undefined\') maxSize = Number(options.maxImageSizePhoneGap);',
'\t\tif(maxSize == -1) maxSize = 9999999999;',
'\t\tif(typeof options.specialMode == \'undefined\') options.specialMode = \'detailview\';',
'\t\tvar ops = {};',
'\t\tops.dialogObj = this;',
'\t\tif(options.specialMode == \'callback\') {',
'\t\t\toptions.controlName = \'\';',
'\t\t}',
'\t\tops.targetImage = options.controlName.toUpperCase();',
'\t\tops.cordova = {};',
'\t\tops.cordova.pictureSourceVal = options.pictureSourceVal;',
'\t\tops.cordova.imageQuality = options.imageQualityPhonegap;',
'\t\tops.cordova.allowEdit = options.allowPictureEditing',
'\t\tops.cordova.targetWidth = options.maxImageWidth;',
'\t\tops.cordova.targetHeight = options.maxImageHeight;',
'\t\tops.cordova.saveToPhotoAlbum = options.saveToPhotoAlbum',
'\t\tops.cordova.iPadEleId = \'\';',
'\t\tops.fieldPrefix = this.dialogId + \'.V.R1\';',
'\t\tops.imageFieldName = (ops.fieldPrefix + \'.\' + ops.targetImage).toUpperCase();',
'\t\tops.hiddenFileName = (ops.fieldPrefix + \'.\' + ops.targetImage + \'_HIDDENA5FN\').toUpperCase();',
'\t\tops.onCameraSuccess = function(imageURI) {',
'\t\t\tif(typeof options.captureDataMode == \'undefined\') options.captureDataMode = \'base64\';',
'\t\t\ttry {',
'\t\t\t    var iOps = JSON.parse(imageURI);',
'\t\t\t    var filename = iOps.filename;',
'\t\t\t    var metadata = iOps.json_metadata;',
'\t\t\t    var iMD = JSON.parse(metadata);',
'\t\t\t    if(typeof iMD.GPS != \'undefined\') {',
'\t\t\t    \t//running on iOS',
'\t\t\t    \tvar gpsObj = {};',
'\t\t\t    \tgpsObj.latitude = iMD.GPS.Latitude;',
'\t\t\t    \tgpsObj.longitude = iMD.GPS.Longitude;',
'\t\t\t    \tif(iMD.GPS.LongitudeRef == \'W\') gpsObj.longitude = Number(gpsObj.longitude) * -1;',
'\t\t\t    \tif(iMD.GPS.LatitudeRef == \'S\') gpsObj.latitude = Number(gpsObj.latitude) * -1;',
'\t\t\t    \tgpsObj.altitude = iMD.GPS.Altitude;',
'\t\t\t    \tgpsObj.dateTime = iMD.GPS.DateStamp + \' \' + iMD.GPS.TimeStamp;',
'\t\t\t    \tgpsObj.ExifJSON = metadata;',
'\t\t\t    } else {',
'\t\t\t    \t//android',
'\t\t\t    \tvar latRaw = iMD.gpsLatitude;   //":"42/1,28/1,50093/1000",',
'\t\t\t    \tvar latRef = iMD.gpsLatitudeRef;  //":"N",',
'\t\t\t    \tvar lngRaw = iMD.gpsLongitude; //":"71/1,12/1,16183/1000",',
'\t\t\t    \tvar lngRef = iMD.gpsLongitudeRef; //":"W",',
'\t\t\t    \tvar altRaw = iMD.gpsAltitude;',
'\t\t\t    \tvar altRef = iMD.gpsAltitudeRef;',
'\t\t\t    \tops.fixGPS = function(raw,ref) {',
'\t\t\t    \t\t//alert( \' raw: \' + raw + \' ref: \' + ref);',
'\t\t\t    \t\tif(raw == null) return null;',
'\t\t\t\t\t\tvar lat_d, lat_m, lat_s, lat;',
'\t\t\t\t\t\tlat_d = eval(raw.split(\',\')[0]);',
'\t\t\t\t\t\tlat_m = eval(raw.split(\',\')[1]) * ( 1/60);',
'\t\t\t\t\t\tlat_s = eval(raw.split(\',\')[2]) * ( 1/60);',
'\t\t\t\t\t\tlat = Number(lat_d) + Number(lat_m) + Number(lat_s);',
'\t\t\t\t\t\tif(ref != null) {',
'\t\t\t\t\t\t\tif(ref.toUpperCase() == \'S\') lat = Number(lat) * -1;',
'\t\t\t\t\t\t\tif(ref.toUpperCase() == \'W\') lat = Number(lat) * -1;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\treturn lat;',
'\t\t\t    \t}',
'\t\t\t    \tvar lat = ops.fixGPS(latRaw,latRef);',
'\t\t\t    \tvar lng = ops.fixGPS(lngRaw,lngRef);',
'\t\t\t    \tvar alt = ops.fixGPS(altRaw,altRef);',
'\t\t\t    \tvar gpsObj = {};',
'\t\t\t\t\tgpsObj.latitude = lat;',
'\t\t\t\t\tgpsObj.longitude = lng;',
'\t\t\t\t\tgpsObj.altitude = alt;',
'\t\t\t\t\tgpsObj.dateTime = iMD.datetime;',
'\t\t\t\t\tgpsObj.ExifJSON = metadata;',
'\t\t\t    }',
'\t\t\t    options.EXIF = gpsObj;',
'\t\t\t    ops._moveFile(filename);',
'\t\t\t  \t//gets called by ops._move()',
'\t\t\t    //window.resolveLocalFileSystemURL(filename,ops.fsOK,ops.fsError);',
'\t\t\t} catch(err) {',
'\t\t\t\t//if you get here then you were not using the AA camera plugin, so EXIF info is not available',
'\t\t\t\tops._moveFile(imageURI);',
'\t\t\t\t//gets called by ops._move()',
'\t\t\t    //window.resolveLocalFileSystemURL(imageURI,ops.fsOK,ops.fsError);',
'\t\t\t}',
'\t\t}',
'\t\tops._moveFile = function(filename) {',
'\t\t\tvar flagMove = false;',
'\t\t\tif(typeof options.phonegapMoveFileToPermanentStorage != \'undefined\') flagMove = options.phonegapMoveFileToPermanentStorage;',
'\t\t\tif(flagMove) {',
'\t\t\t\tvar _dir = {UXPRERENDEREDALIAS}_DlgObj.phoneGapGetLocalDirURL(options.phonegapFileSystemType);',
'\t\t\t\tvar _onFolderEnsured = function() {',
'\t\t\t\t\tvar objFn = A5.parseFilename(filename);',
'\t\t\t\t\tvar extension = objFn.name.split(\'.\');',
'\t\t\t\t\textension = extension[extension.length-1];',
'\t\t\t\t\tvar targetName = A5.UUID() + \'.\' + extension;',
'\t\t\t\t\tvar subfolder = \'\';',
'\t\t\t\t\tif(options.phonegapPermanentStorageFolder != \'\') {',
'\t\t\t\t\t\tsubfolder = options.phonegapPermanentStorageFolder + \'/\';',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _moveOK = function() {',
'\t\t\t\t\t\tvar fn = _dir + subfolder + targetName;',
'\t\t\t\t\t\twindow.resolveLocalFileSystemURL(fn,ops.fsOK,ops.fsError);',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _moveFail = function(e) {',
'\t\t\t\t\t\talert(\'Move error: \'+e.code);',
'\t\t\t\t\t}',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapMoveFileURL(filename,_dir, subfolder + targetName,_moveOK,_moveFail)',
'\t\t\t\t}',
'\t\t\t\tvar _onError = function() {',
'\t\t\t\t\talert(\'could not create folder\');',
'\t\t\t\t}',
'\t\t\t\tif(options.phonegapPermanentStorageFolder != \'\') {',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapEnsureDirPathURL(_dir, options.phonegapPermanentStorageFolder, _onFolderEnsured, _onError)',
'\t\t\t\t} else {',
'\t\t\t\t\t//storing in the root of the requested filesystem --',
'\t\t\t\t\t_onFolderEnsured();',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\t//do not need to move the file',
'\t\t\t\twindow.resolveLocalFileSystemURL(filename,ops.fsOK,ops.fsError);',
'\t\t\t}',
'\t\t}',
'\t\tops.onImageSelectFail = function(msg) {',
'\t\t\tnavigator.notification.alert(msg,null,options.imageSelectionCanceledMessage,options.imageSelectionCanceledButton);',
'\t\t}',
'\t\tops.onCameraCaptureFail = function(msg) {',
'\t\t\tnavigator.notification.alert(msg,null,options.cameraCanceledMessage,options.cameraCanceledButton);',
'\t\t}',
'\t\tops.fsOK = function(fileEntry) {',
'\t\t\t// HTML5 File system available as fileEntry',
'\t\t\t// Using standard HTML5 file handling here',
'\t\t\t// get fileEntry URL for upload',
'\t\t\tvar thisImageURL = fileEntry.toURL();',
'\t\t\tif(options.captureDataMode == \'filename\') {',
'\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t//better be - only mode we are supporting for \'filename\'',
'\t\t\t\t\tvar ele = $(ops.imageFieldName);',
'\t\t\t\t\tif(ele) ele.src = thisImageURL;',
'\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\tif(eleH) eleH.src = thisImageURL;',
'\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\tvar exifData = \'\';',
'\t\t\t\t\tif(typeof options.EXIF != \'undefined\') exifData = JSON.stringify(options.EXIF);',
'\t\t\t\t\t$sa(eleH,\'a5EXIF\',exifData);',
'\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\tfileEntry.file(function(file){',
'\t\t\t\t\tvar reader = new FileReader();',
'\t\t\t\t\treader.onloadend = function(e) {',
'\t\t\t\t\t\t// this is Base64 encoded',
'\t\t\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t\t\tvar ele = $(ops.imageFieldName);',
'\t\t\t\t\t\t\tif(ele) ele.src = e.target.result;',
'\t\t\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\t\t\tif(eleH) eleH.src = e.target.result;',
'\t\t\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t\t\t\tif(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : e.target.result, fileSystemURL: fileEntry.nativeURL, options: options});',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\toptions.onCaptureJavascript.call(this, {data : e.target.result, fileSystemURL: fileEntry.nativeURL, options: options});  //pass in options so that the user defined callback js can reference options (which has the exif data in it)',
'\t\t\t\t\t\t}',
'\t\t\t\t\t};',
'\t\t\t\t\treader.onerror = function(e) {',
'\t\t\t\t\t\tnavigator.notification.alert(\'<a5:r>File reader error</a5:r>\');',
'\t\t\t\t\t};',
'\t\t\t\t\treader.readAsDataURL(file);',
'\t\t\t\t},function(error) {',
'\t\t\t\t\tnavigator.notification.alert(\'<a5:r>Image file read error</a5:r>\');',
'\t\t\t\t});',
'\t\t\t}',
'\t\t}',
'\t\tops.fsError = function() {',
'\t\t\tnavigator.notification.alert(\'<a5:r>Local File system unavailable.</a5:r>\');',
'\t\t}',
'\t\t// Calculate positioning for iPad popup menu if applicable',
'\t\tvar cordovaPopoverOptions = null;',
'\t\t\tif (ops.cordova.iPadEleId.length > 0) {',
'\t\t\tvar ele = $(ops.cordova.iPadEleId);',
'\t\t\tif (ele) {',
'\t\t\t\tvar rect = ele.getBoundingClientRect();',
'\t\t\t\tvar x = rect.left;',
'\t\t\t\tvar y = rect.top;',
'\t\t\t\tvar w = rect.right - rect.left;',
'\t\t\t\tvar h = rect.bottom - rect.top;',
'\t\t\t\tcordovaPopoverOptions = new CameraPopoverOptions(x,y,w,h,15);',
'\t\t\t}',
'\t\t}',
'\t\t// These options define all of the objects functionality',
'\t\tvar cordovaOptions = {',
'\t\t\tquality: Number(ops.cordova.imageQuality),',
'\t\t\tallowEdit: ops.cordova.allowEdit,',
'\t\t\tsourceType: Number(ops.cordova.pictureSourceVal),',
'\t\t\tcorrectOrientation: true,',
'\t\t\tdestinationType: 1,',
'\t\t\ttargetWidth: Number(ops.cordova.targetWidth),',
'\t\t\ttargetHeight: Number(ops.cordova.targetHeight),',
'\t\t\tsaveToPhotoAlbum: ops.cordova.saveToPhotoAlbum,',
'\t\t\tpopoverOptions: cordovaPopoverOptions,',
'\t\t\tencodingType: Camera.EncodingType.JPEG',
'\t\t}',
'\t\tif (cordovaOptions.sourceType != 1) {',
'\t\t\tcordovaOptions.saveToPhotoAlbum = false;',
'\t\t\tnavigator.camera.getPicture(ops.onCameraSuccess, ops.onImageSelectFail,cordovaOptions);',
'\t\t} else {',
'\t\t\tnavigator.camera.getPicture(ops.onCameraSuccess, ops.onCameraCaptureFail,cordovaOptions);',
'\t\t}',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj._abortS3Upload = function(__guid,number,rowId) {',
'\t\tvar arrS3 = {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'arrS3\'];',
'\t\tvar options = {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'options\'];',
'\t\tvar _dlgObj = {UXPRERENDEREDALIAS}_DlgObj;',
'\t\tvar _xhr = arrS3[number].xhr;',
'\t\t_xhr.abort();',
'\t\tarrS3[number].aborted = true;',
'\t\tif(typeof rowId != \'undefined\') {',
'\t\t\tvar ele = $(rowId);',
'\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t}',
'\t\t//uploadCompleteFunction',
'\t\tvar ops = {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'ops\'];',
'\t\t//fire the onComplete events',
'\t\tvar flagAllCompleted = false;',
'\t\tvar c = 0;',
'\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\tif(arrS3[i].completed == true || arrS3[i].aborted == true) c = c+1;',
'\t\t}',
'\t\tif(c == arrS3.length) flagAllCompleted = true;',
'\t\tvar f = arrS3[number];',
'\t\tvar e = {',
'\t\t\tname: f.name,',
'\t\t\ttype: f.type,',
'\t\t\tsize: f.size,',
'\t\t\taborted: f.aborted,',
'\t\t\tnumber: number,',
'\t\t\tfileArray: arrS3,',
'\t\t\ttargetName: arrS3[number].targetName',
'\t\t}',
'\t\toptions.onCompleteFile(e);',
'\t\tif(flagAllCompleted) {',
'\t\t\toptions.onCompleteAllFiles(e);',
'\t\t\tif(options.displayProgress) {',
'\t\t\t\tvar eleP = $(_dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder);',
'\t\t\t\tif(eleP) eleP.style.display = \'none\';',
'\t\t\t}',
'\t\t\tdelete {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid];',
'\t\t}',
'\t\t//end onComplete events',
'\t}',
'\t/////////////////////////////////////////////////////////////////////////',
'\t{UXPRERENDEREDALIAS}_DlgObj.fileUploadAmazonS3 = function(options) {',
'\t\tvar eleB = \'\';',
'\t\tvar _dlgObj = this;',
'\t\tvar _part = options.part;',
'\t\tdelete ops;',
'\t\tvar ops = {};',
'\t\tif(typeof options.onBeforeFileSelect == \'function\') {',
'\t\t\tvar result = options.onBeforeFileSelect();',
'\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\tif(!result) return false;',
'\t\t\t}',
'\t\t}',
'\t\tops.formatNum = function(num) {',
'\t\t\tvar suffix = \'Kb\';',
'\t\t \tif(num >= 1000000) {',
'\t\t \t\tnum = num/1000000;',
'\t\t \t\tsuffix = \'Mb\';',
'\t\t\t} else if(num >= 1000) {',
'\t\t\t \tnum = num / 1000;',
'\t\t\t \tsuffix = \'Kb\';',
'\t\t\t} else {',
'\t\t\t   suffix = \'bytes\'',
'\t\t\t  }',
'\t\t\tnum = Math.round(num * 100) / 100;',
'\t\t\tnum = Number(num);',
'\t\t\treturn (num).toLocaleString() + suffix;',
'\t\t}',
'\t\tops.setProgress = function(percent,message,objS3) {',
'\t\t\t//fire system onProgress events',
'\t\t\tif(options.displayProgress) {',
'\t\t\t\tvar i = objS3.number;',
'\t\t\t\t//id_i = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder + \'.\' + (i+1);',
'\t\t\t\tid_i = options.resolvedProgressPlaceholder + \'.\' + (i+1);',
'\t\t\t\tvar ep = $(id_i);',
'\t\t\t\tif(ep) {',
'\t\t\t\t\tif(options.progressStyle == \'text\') ep.innerHTML = percent + \'%\';',
'\t\t\t\t\telse ep.style.width = percent + \'%\';',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tvar e = {',
'\t\t\t\tpercent: percent,',
'\t\t\t\tmessage: message,',
'\t\t\t\tname: objS3.name,',
'\t\t\t\ttargetName: objS3.targetName,',
'\t\t\t\tnumber: objS3.number,',
'\t\t\t\tsize: objS3.size,',
'\t\t\t\ttype: objS3.type',
'\t\t\t}',
'\t\t\tif(typeof objS3.userProgressFunction == \'function\') objS3.userProgressFunction(e);;',
'\t\t}',
'\t\tops.createCORSRequest = function(method, url) {',
'  \t\t\tvar xhr = new XMLHttpRequest();',
'\t\t\t // "withCredentials" only exists on XHR2 objects',
'  \t\t\tif ("withCredentials" in xhr) {',
'  \t\t\t\ttry {',
'    \t\t\t\txhr.open(method, url, true);',
'    \t\t\t} catch(err) {',
'    \t\t\t\talert(\'XHR error - could not open XHR object. This action is not supported in Working Preview if you are using Internet Explorer. Try using Chrome Working Preview.\');',
'    \t\t\t\treturn false;',
'    \t\t\t}',
'\t\t\t} else if (typeof XDomainRequest != "undefined") {',
'\t\t\t    // XDomainRequest only exists in IE',
'    \t\t\txhr = new XDomainRequest();',
'\t\t\t    xhr.open(method, url);',
'  \t\t\t} else {',
'\t\t\t  \t// CORS not supported by this browser',
'    \t\t\txhr = null;',
'\t\t\t  }',
'\t\t  return xhr;',
'\t\t}',
'\t\tops.uploadToS3 = function(file, url, objS3) {',
'\t\t\tvar targetServer = objS3.targetServer;',
'\t\t\tif(typeof targetServer == \'undefined\') targetServer = \'S3\';',
'\t\t\tif(targetServer.toUpperCase() == \'S3\') {',
'\t\t\t\tvar xhr = ops.createCORSRequest(\'PUT\', url);',
'\t\t\t} else {',
'\t\t\t\t//alpha server',
'\t\t\t\tvar additionalInfo = \'\';',
'\t\t\t\tif(typeof options.additionalInfo == \'function\') {',
'\t\t\t\t\tadditionalInfo = options.additionalInfo.call();',
'\t\t\t\t}',
'\t\t\t\tadditionalInfo = A5.ajax.buildURLParam(\'__additionalInfo\',additionalInfo);',
'\t\t\t\tvar AAURI = encodeURI({UXPRERENDEREDALIAS}_DlgObj.ajaxURL + \'&\' + additionalInfo + \'&__Ajax=true&__FormAction=GenericAjaxCallback&_XbasicFunction=system:multifileupload&_xbasic=\' + options.xbasicFunction);',
'\t\t\t\tvar xhr = new XMLHttpRequest();',
'\t\t\t\txhr.open(\'POST\',AAURI,true);',
'\t\t\t}',
'\t\t\tif (!xhr) {',
'\t\t\t\t//ops.setProgress(0, \'CORS not supported\',objS3);',
'\t\t\t\tif(typeof objS3.onError == \'function\') objS3.onError({errorText: \'CORS not supported\', errorCode: -1, fileObject: objS3});',
'\t\t\t  \telse alert(\'CORS not supported\');',
'\t\t\t} else {',
'\t\t\t//capture the xhr object so you can call cancel',
'\t\t\tobjS3.arrS3[objS3.number].xhr = xhr;',
'\t\t\txhr.onload = function() {',
'\t\t\t  if(xhr.status == 200) {',
'\t\t\t\tops.setProgress(100, \'Upload completed.\',objS3);',
'\t\t\t\t//file number is available in objS3.number',
'\t\t\t\tobjS3.uploadCompleteFunction.call(objS3);',
'\t\t\t  } else {',
'\t\t\t\t//ops.setProgress(0, \'Upload error: \' + xhr.status);',
'\t\t\t\tvar responseText = \'\';',
'\t\t\t\tif(typeof xhr.responseText != \'undefined\') responseText = xhr.responseText;',
'\t\t\t\tif(typeof objS3.onError == \'function\') objS3.onError({errorText: \'Upload error\', errorCode: xhr.status, fileObject: objS3, errorText: responseText});',
'\t\t\t  \telse alert(\'XHR error. Reported error:\' + responseText);',
'\t\t\t  }',
'\t\t\t};',
'\t\t\txhr.onerror = function() {',
'\t\t\t  //ops.setProgress(0, \'XHR error.\');',
'\t\t\t  if(typeof objS3.onError == \'function\') objS3.onError({errorText: \'XHR Error\', errorCode: xhr.status, fileObject: objS3});',
'\t\t\t  else alert(\'XHR error\');',
'\t\t\t};',
'\t\t\txhr.upload.onprogress = function(e) {',
'\t\t\t  if (e.lengthComputable) {',
'\t\t\t\tvar percentLoaded = Math.round((e.loaded / e.total) * 100);',
'\t\t\t\tops.setProgress(percentLoaded, percentLoaded == 100 ? \'Finalizing.\' : \'Uploading.\',objS3);',
'\t\t\t  }',
'\t\t\t};',
'\t\t\tif(!options.target) options.target = \'S3\';',
'\t\t\tif(options.target.toUpperCase() == \'S3\') {',
'\t\t\t\txhr.setRequestHeader(\'Content-Type\', file.type);',
'\t\t\t\tif(!objS3.authenticatedRead) {',
'\t\t\t\t\txhr.setRequestHeader(\'x-amz-acl\', \'public-read\');',
'\t\t\t\t} else {',
'\t\t\t\t\txhr.setRequestHeader(\'x-amz-acl\', \'authenticated-read\');',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\t//don\'t bother with headers. they will get set automatically becuase we will be .send()ing a FormData() object',
'\t\t\t}',
'\t\t\tif(targetServer.toUpperCase() == \'S3\') {',
'\t\t\t\txhr.send(file);',
'\t\t\t} else {',
'\t\t\t\t//uploading to alpha server - by using a FormData() object, the content-type headers get set correctly',
'\t\t\t\tvar formData = new FormData();',
'\t\t\t\tformData.append(\'file\',file)',
'\t\t\t\txhr.send(formData);',
'\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tops.handleFileSelect = function(evt) {',
'\t\t\tdelete arrS3;',
'\t\t\tvar arrS3 = [];',
'\t\t\tops.__guid = Number(new Date());',
'\t\t\tvar __guid = ops.__guid;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads = {};',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid] = {};',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'arrS3\'] = arrS3;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'ops\'] = ops;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'options\'] = options;',
'\t\t\tvar files = evt.target.files;',
'\t\t\tvar f = \'\';',
'\t\t\tvar data = \'\';',
'\t\t\tvar targetName = \'\';',
'\t\t\tvar newTargetName = \'\';',
'\t\t\tarrS3.length = 0;',
'\t\t\tfor(var i = 0; i < files.length; i++) {',
'\t\t\t\tf = files[i];',
'\t\t\t\tif(typeof f.name == \'undefined\') {',
'\t\t\t\t\tvar localFileName = \'blobfile.jpg\';',
'\t\t\t\t\tif(typeof options.localFileName != \'undefined\') localFileName = options.localFileName;',
'\t\t\t\t\tf.name = localFileName;',
'\t\t\t\t}',
'\t\t\t\tdelete obji;',
'\t\t\t\tvar obji = {',
'\t\t\t\t\tnumber: i,',
'\t\t\t\t\tname: f.name,',
'\t\t\t\t\tsize: f.size,',
'\t\t\t\t\ttype: f.type,',
'\t\t\t\t\tfile: f,',
'\t\t\t\t\tcompleted: false,',
'\t\t\t\t\taborted: false',
'\t\t\t\t}',
'\t\t\t\tarrS3.push(obji)',
'\t\t\t}',
'\t\t\tvar __guid = ops.__guid;',
'\t\t\t//validate file selection -------------------------------------',
'\t\t\tvar totalSize = 0;',
'\t\t\tif(typeof options.maxFileSize == \'undefined\') options.maxFileSize = -1;',
'\t\t\tvar maxSize = options.maxFileSize;',
'\t\t\tif(maxSize == -1) maxSize = 999999999999999;',
'\t\t\tif(typeof options.maxFileSizeTotal == \'undefined\') options.maxFileSizeTotal = -1;',
'\t\t\tvar maxSizeTotal = options.maxFileSizeTotal;',
'\t\t\tif(maxSizeTotal == -1) maxSizeTotal = 999999999999999;',
'\t\t\tif(typeof options.allowedFileTypes == \'undefined\') options.allowedFileTypes = \'\';',
'\t\t\tvar fileMsg = options.customization.maxFileSize;',
'\t\t\tvar fileTotalMsg = options.customization.totalFileSize;',
'\t\t\tvar typeMsg = options.customization.fileType;',
'\t\t\tvar flagHasValidationFunction = false;',
'\t\t\tif(typeof options.onValidationError == \'function\') flagHasValidationFunction = true;',
'\t\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\t\ttotalSize = totalSize + arrS3[i].size;',
'\t\t\t\t//check size',
'\t\t\t\tif(arrS3[i].size > maxSize) {',
'\t\t\t\t\tif(flagHasValidationFunction) {',
'\t\t\t\t\t\toptions.onValidationError({violationType: \'size\', name: arrS3[i].name, size: arrS3[i].size, type: arrS3[i].type});',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tif(typeof fileMsg != \'undefined\' && fileMsg != \'\') {',
'\t\t\t\t\t\t\tvar msg = fileMsg;',
'\t\t\t\t\t\t\tvar e = arrS3[i];',
'\t\t\t\t\t\t\tmsg = msg.replace(\'[filename]\',e.name);',
'\t\t\t\t\t\t\tmsg = msg.replace(\'[filesize]\',\'\' + e.size);',
'\t\t\t\t\t\t\tmsg = msg.replace(\'[maxfilesize]\',\'\' + maxSize);',
'\t\t\t\t\t\t\talert(msg);',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\talert(\'File exceeds maximum allowed size of \' + maxSize);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\treturn false;',
'\t\t\t\t}',
'\t\t\t\t//check type',
'\t\t\t\tif(options.allowedFileTypes != \'\') {',
'\t\t\t\t\tvar arrT = options.allowedFileTypes.split(\',\');',
'\t\t\t\t\tfor(var i2 = 0; i2 < arrT.length; i2++ ) {',
'\t\t\t\t\t\tarrT[i2] =   $u.s.aTrim(arrT[i2].toLowerCase());',
'\t\t\t\t\t\tarrT[i2] = arrT[i2].replace(\'.\',\'\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar ext = arrS3[i].name.split(\'.\');',
'\t\t\t\t\text = ext[ext.length -1];',
'\t\t\t\t\text = ext.toLowerCase();',
'\t\t\t\t\tvar ia = $u.a.find(arrT,ext);',
'\t\t\t\t\tif(ia == -1) {',
'\t\t\t\t\t\tif(flagHasValidationFunction) {',
'\t\t\t\t\t\t\toptions.onValidationError({violationType: \'type\', name: arrS3[i].name, size: arrS3[i].size, type: arrS3[i].type});',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\tif(typeof typeMsg != \'undefined\' && typeMsg != \'\') {',
'\t\t\t\t\t\t\t\tvar msg = typeMsg;',
'\t\t\t\t\t\t\t\tvar e = arrS3[i];',
'\t\t\t\t\t\t\t\tmsg = msg.replace(\'[filename]\',e.name);',
'\t\t\t\t\t\t\t\tmsg = msg.replace(\'[filetype]\',ext);',
'\t\t\t\t\t\t\t\talert(msg);',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\talert(\'Invalid file type \' + ext);',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\treturn false;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t//check total size',
'\t\t\tif(totalSize > maxSizeTotal) {',
'\t\t\t\t//Selected files ([filecount] files, total size [totalfilesize]) exceed the maximum allowed total file size of [maxtotalfilesize].',
'\t\t\t\tif(flagHasValidationFunction) {',
'\t\t\t\t\toptions.onValidationError({violationType: \'totalSize\', totalSize: totalSize, maxSizeTotal: maxSizeTotal});',
'\t\t\t\t} else {',
'\t\t\t\t\tif(typeof fileTotalMsg != \'undefined\' && fileTotalMsg != \'\') {',
'\t\t\t\t\t\tvar msg = fileTotalMsg;',
'\t\t\t\t\t\tvar e = arrS3[i];',
'\t\t\t\t\t\tmsg = msg.replace(\'[filecount]\',arrS3.length);',
'\t\t\t\t\t\tmsg = msg.replace(\'[totalfilesize]\',\'\' + totalSize);',
'\t\t\t\t\t\tmsg = msg.replace(\'[maxtotalfilesize]\',\'\' + maxSizeTotal);',
'\t\t\t\t\t\talert(msg);',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\talert(\'Files exceeds maximum allowed size of \' + maxSizeTotal);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\treturn false;',
'\t\t\t}',
'\t\t\t//end validate file selection',
'\t\t\tif(typeof options.onAfterFilesSelect == \'function\') {',
'\t\t\t\tvar result = options.onAfterFilesSelect(arrS3);',
'\t\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\t\tif(!result) return false;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tops.__handleFileSelectLow(files,__guid,arrS3)',
'\t\t}',
'\t\tops._generatePlaceholderId = function() {',
'\t\t\tvar txt = options.progressDisplayPlaceholder;',
'\t\t\tvar flagDV = false;',
'\t\t\tif(typeof options.__dv != \'undefined\') flagDV = options.__dv;',
'\t\t\tvar num = txt.split(\'.\')[1];',
'\t\t\tif(!flagDV) {',
'\t\t\t\tvar eleId = _dlgObj.gridId + \'.V.R\'+options.rowNumber+\'._UNBOUND_STATICTEXT_\' + num;',
'\t\t\t} else {',
'\t\t\t\tvar eleId = _dlgObj.gridId + \'.D.V.R\'+options.rowNumber+\'._UNBOUND_STATICTEXT_\' + num;',
'\t\t\t}',
'\t\t\treturn eleId;',
'\t\t}',
'\t\tops.__handleFileSelectLow = function(files,__guid,arrS3) {',
'\t\t\tif(options.displayProgress) {',
'\t\t\t\tif(options.progressDisplayPlaceholder.indexOf(\'ELEMENT:\') == 0) {',
'\t\t\t\t\toptions.resolvedProgressPlaceholder = options.progressDisplayPlaceholder.split(\':\')[1];',
'\t\t\t\t} else {',
'\t\t\t\t\toptions.resolvedProgressPlaceholder = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder',
'\t\t\t\t}',
'\t\t\t\tvar eleP = $(options.resolvedProgressPlaceholder);',
'\t\t\t\tif(options.part == \'grid\') {',
'\t\t\t\t\toptions.resolvedProgressPlaceholder = this._generatePlaceholderId()',
'\t\t\t\t\tvar eleP = $(options.resolvedProgressPlaceholder);',
'\t\t\t\t}',
'\t\t\t\tif(eleP) {',
'\t\t\t\t\teleP.style.display = \'\';',
'\t\t\t\t\tvar arrH = [];',
'\t\t\t\t\tvar id_i = \'\';',
'\t\t\t\t\tvar id_row_i = \'\';',
'\t\t\t\t\tvar html = \'\';',
'\t\t\t\t\tvar html_i = \'\';',
'\t\t\t\t\tvar spanTxt = \'\';',
'\t\t\t\t\tvar flagAllowCancel = options.allowCancel;',
'\t\t\t\t\tif(typeof flagAllowCancel == \'undefined\') flagAllowCancel = false;',
'\t\t\t\t\tif(typeof options.progressStyle == \'undefined\') options.progressStyle = \'bar\';',
'\t\t\t\t\tif(options.progressStyle == \'text\') {',
'\t\t\t\t\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\t\t\t\t\t//id_i = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_i = options.resolvedProgressPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_row_i = id_i + \'.ROW\';',
'\t\t\t\t\t\t\thtml_i = \'\';',
'\t\t\t\t\t\t\thtml_i += \'<tr id="\'+id_row_i+\'">\';',
'\t\t\t\t\t\t\tif(flagAllowCancel) {',
'\t\t\t\t\t\t\t\thtml_i += \'<td><div style="cursor:pointer;padding: 5px;" title="Cancel upload" onclick="{UXPRERENDEREDALIAS}_DlgObj._abortS3Upload(\\\'\'+__guid+\'\\\',\'+i+\',\\\'\'+id_row_i+\'\\\');">X</div></td>\';',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\thtml_i +=\'<td><div>\' + arrS3[i].name + \' (\' + ops.formatNum(arrS3[i].size) + \') <span id=\'+id_i+\'></span> </div></td>\';',
'\t\t\t\t\t\t\thtml_i +=\'</tr>\'',
'\t\t\t\t\t\t\tarrH.push(html_i)',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\thtml = arrH.join(\'\');',
'\t\t\t\t\t\thtml = \'<table>\' + html + \'</table>\'',
'\t\t\t\t\t} else if (options.progressStyle == \'bar\') {',
'\t\t\t\t\t\tvar flagShowFilename = options.showFileNameInProgressBar;',
'\t\t\t\t\t\tif(typeof flagShowFilename == \'undefined\') flagShowFilename = true;',
'\t\t\t\t\t\tvar flagMobile = false;',
'\t\t\t\t\t\tif(typeof options._flagMobile != \'undefined\') flagMobile = options._flagMobile;',
'\t\t\t\t\t\thtml_i = \'\';',
'\t\t\t\t\t\tif(typeof options.progressBarColor == \'undefined\') options.progressBarColor = \'#9fa1e8\';',
'\t\t\t\t\t\tif(typeof options.progressBarWidth == \'undefined\') options.progressBarWidth = \'1.5in\';',
'\t\t\t\t\t\tvar color = options.progressBarColor',
'\t\t\t\t\t\tvar width = options.progressBarWidth;',
'\t\t\t\t\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\t\t\t\t\t//id_i = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_i = options.resolvedProgressPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_row_i = id_i + \'.ROW\';',
'\t\t\t\t\t\t\thtml_i = \'\';',
'\t\t\t\t\t\t\thtml_i += \'<tr id="\'+id_row_i+\'">\';',
'\t\t\t\t\t\t\tif(flagShowFilename) {',
'\t\t\t\t\t\t\t\thtml_i += \'<td>\' + arrS3[i].name + \' (\' + ops.formatNum(arrS3[i].size) + \')</td>\';',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\thtml_i += \'<td>(\' + ops.formatNum(arrS3[i].size) + \')</td>\';',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\thtml_i += \'<td><div style="border: solid 1px \'+color+\'; width: \'+width+\';">\';',
'\t\t\t\t\t\t\thtml_i += \'<div id="\'+id_i+\'"style="width: 0%; height: .05in;  background-color:\'+color+\';"></div></div></td>\';',
'\t\t\t\t\t\t\tif(flagAllowCancel) {',
'\t\t\t\t\t\t\t\thtml_i += \'<td><div style="cursor:pointer;padding: 5px;" title="Cancel upload" onclick="{UXPRERENDEREDALIAS}_DlgObj._abortS3Upload(\\\'\'+__guid+\'\\\',\'+i+\',\\\'\'+id_row_i+\'\\\');">X</div></td>\';',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\thtml_i += \'</tr>\';',
'\t\t\t\t\t\t\tarrH.push(html_i);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\thtml = arrH.join(\'\');',
'\t\t\t\t\t\t//for some reason in ie, this function is getting called a second time and if we don\'t exit here when .length == 0, it will overwrite the progress bar with a null string',
'\t\t\t\t\t\tif(arrH.length == 0) return true;',
'\t\t\t\t\t\thtml = \'<table>\' + html + \'</table>\'',
'\t\t\t\t\t\tif(flagMobile) {',
'\t\t\t\t\t\t\t//mobile upload limited to 1 file and don\'t wrap in table',
'\t\t\t\t\t\t\t//id_i = options.resolvedProgressPlaceholder + \'.\' + (1);',
'\t\t\t\t\t\t\thtml = \'\';',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\teleP.innerHTML = html;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tfor(var i = 0; i < files.length; i++) {',
'\t\t\t\tvar f = files[i];',
'\t\t\t\tvar dataA = [];',
'\t\t\t\tdataA.push(\'_mimeType=\' + f.type);',
'\t\t\t\ttargetName = f.name;',
'\t\t\t\tif(typeof options.targetName == \'function\') {',
'\t\t\t\t\tnewTargetName = options.targetName( f  );',
'\t\t\t\t\tif(typeof newTargetName != \'undefined\') {',
'\t\t\t\t\t\tif(newTargetName != \'\') targetName = newTargetName;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tarrS3[i].targetName = targetName;',
'\t\t\t\tvar targetServer = options.target;',
'\t\t\t\tif(!options.target) targetServer = \'S3\';',
'\t\t\t\tarrS3[i].targetServer = targetServer;',
'\t\t\t\tdataA.push(\'_name=\' + urlencode(targetName));  //name of object in S3',
'\t\t\t\tdataA.push(\'_number=\' + i);',
'\t\t\t\tif(options.specifyCredentials == \'Explicit\') {',
'\t\t\t\t\tdataA.push(\'_xbasicFunctionNameForPropertyValues=\' + options.xbasicFunctionName);',
'\t\t\t\t\tdataA.push(\'_method=explicit\');',
'\t\t\t\t} else {',
'\t\t\t\t\tdataA.push(\'_namedStorageConnectionString=\' + options.connectionString);',
'\t\t\t\t\tdataA.push(\'_method=connectionString\');',
'\t\t\t\t}',
'\t\t\t\tdataA.push(\'_authenticatedRead=\' + options.authenticatedRead);',
'\t\t\t\tdataA.push(\'_part=\' + options.part);',
'\t\t\t\tdata = dataA.join(\'&\');',
'\t\t\t\tif(typeof options.userProgressFunction == \'undefined\') options.userProgressFunction = function(e) {};',
'\t\t\t\tif(typeof options.onCompleteAllFiles == \'undefined\') options.onCompleteAllFiles = function(e) {};',
'\t\t\t\tif(typeof options.onCompleteFile == \'undefined\') options.onCompleteFile = function(e) { };',
'\t\t\t\tvar obj = {',
'\t\t\t\t\t//ajax callback to sign url onComplete',
'\t\t\t\t\tonComplete: function() {',
'\t\t\t\t\t\tvar signedURL = decodeURIComponent(_dlgObj._fileCodedURL);',
'\t\t\t\t\t\tvar num = _dlgObj._fileCodedURLNum;',
'\t\t\t\t\t\tvar fi = arrS3[num].file;',
'\t\t\t\t\t\tvar targetServer = arrS3[num].targetServer;',
'\t\t\t\t\t\tdelete objS3;',
'\t\t\t\t\t\tvar objS3 = {',
'\t\t\t\t\t\t\tuploadCompleteFunction: function() {',
'\t\t\t\t\t\t\t\tthis.arrS3[this.number].completed = true;',
'\t\t\t\t\t\t\t\tvar flagAllCompleted = false;',
'\t\t\t\t\t\t\t\tvar c = 0;',
'\t\t\t\t\t\t\t\tfor(var i = 0; i < this.arrS3.length; i++) {',
'\t\t\t\t\t\t\t\t\tif(this.arrS3[i].completed == true || this.arrS3[i].aborted == true) c = c+1;',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\tif(c == this.arrS3.length) flagAllCompleted = true;',
'\t\t\t\t\t\t\t\tvar e = {',
'\t\t\t\t\t\t\t\t\tname: this.name,',
'\t\t\t\t\t\t\t\t\ttype: this.type,',
'\t\t\t\t\t\t\t\t\tsize: this.size,',
'\t\t\t\t\t\t\t\t\tnumber: this.number,',
'\t\t\t\t\t\t\t\t\tfileArray: this.arrS3,',
'\t\t\t\t\t\t\t\t\ttargetName: arrS3[this.number].targetName',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\toptions.onCompleteFile(e);',
'\t\t\t\t\t\t\t\tif(flagAllCompleted) {',
'\t\t\t\t\t\t\t\t\toptions.onCompleteAllFiles(e);',
'\t\t\t\t\t\t\t\t\tif(options.displayProgress) {',
'\t\t\t\t\t\t\t\t\t\t//var eleP = $(_dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder);',
'\t\t\t\t\t\t\t\t\t\tvar eleP = $(options.resolvedProgressPlaceholder);',
'\t\t\t\t\t\t\t\t\t\tif(eleP) eleP.style.display = \'none\';',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\tdelete {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid];',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t},',
'\t\t\t\t\t\t\tuserProgressFunction: options.userProgressFunction,',
'\t\t\t\t\t\t\tonError: options.onError,',
'\t\t\t\t\t\t\tname: fi.name,',
'\t\t\t\t\t\t\tsize: fi.size,',
'\t\t\t\t\t\t\ttype: fi.type,',
'\t\t\t\t\t\t\tnumber: num,',
'\t\t\t\t\t\t\tarrS3: arrS3,',
'\t\t\t\t\t\t\ttargetName: arrS3[num].targetName,',
'\t\t\t\t\t\t\t__guid: __guid,',
'\t\t\t\t\t\t\tauthenticatedRead: options.authenticatedRead',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tobjS3.targetServer = targetServer;',
'\t\t\t\t\t\tops.uploadToS3(fi,signedURL,objS3);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tops.obj = obj;',
'\t\t\t\tvar reader = new FileReader();',
'\t\t\t\treader.onload = function(e) {',
'\t\t\t\t\tvar eleId = \'\';',
'\t\t\t\t\tvar ele = \'\';',
'\t\t\t\t\tif(typeof options.imageControl != \'undefined\' && options.part == \'ux\') {',
'\t\t\t\t\t\teleId = options.__alias + \'.V.R1.\' + options.imageControl.toUpperCase();',
'\t\t\t\t\t\tele = $(eleId);',
'\t\t\t\t\t\tif(ele) ele.src = e.target.result;',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tvar flagDV = false;',
'\t\t\t\t\t\tif(typeof options.__dv != \'undefined\') flagDV = options.__dv',
'\t\t\t\t\t\tif(flagDV) {',
'\t\t\t\t\t\t\teleId = options.__alias + \'.D.V.R\'+options.rowNumber+\'.\' + options.imageControl.toUpperCase();',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\teleId = options.__alias + \'.V.R\'+options.rowNumber+\'.\' + options.imageControl.toUpperCase();',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tele = $(eleId);',
'\t\t\t\t\t\tif(ele) {',
'\t\t\t\t\t\t\tvar oldSrc = ele.src;',
'\t\t\t\t\t\t\t_dlgObj.__oldImage = oldSrc;',
'\t\t\t\t\t\t\tele.src = e.target.result;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\treader.onerror = function(e) {',
'\t\t\t\t\talert(\'error123\');',
'\t\t\t\t}',
'\t\t\t\tif(typeof options.imageControl != \'undefined\') reader.readAsDataURL(f);',
'\t\t\t\tvar flagTargetIsServer = false;',
'\t\t\t\tif(typeof options.target != \'undefined\') {',
'\t\t\t\t\tif(options.target.toLowerCase() == \'server\') flagTargetIsServer = true;',
'\t\t\t\t}',
'\t\t\t\tif(!flagTargetIsServer) {',
'\t\t\t\t\t_dlgObj.ajaxCallback(\'\',\'\',\'a5DialogHelper_signAmazonS3FileUploadURL\',\'\',data,obj);',
'\t\t\t\t} else {',
'\t\t\t\t\t//no need to sign the url for target = \'alpha\'',
'\t\t\t\t\t_dlgObj._fileCodedURLNum = i;',
'\t\t\t\t\tobj.onComplete();',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\t//$e.add($(this.dialogId + \'._GETFILEMULTI\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__amazonS3fileupload\');',
'\t\t$e.removeGroup(\'__amazonS3fileupload\')',
'\t\t//bind the change event to the file selector',
'\t\tif(options.allowMultipleFiles) {',
'\t\t\tif(typeof this._getFileMultiListenerLoaded == \'undefined\') {',
'\t\t\t\t//this._getFileMultiListenerLoaded = true;',
'\t\t\t\t//$(this.dialogId + \'._GETFILEMULTI\').addEventListener(\'change\',ops.handleFileSelect,false);',
'\t\t\t\t$e.add($(this.dialogId + \'._GETFILEMULTI\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__amazonS3fileupload\');',
'\t\t\t}',
'\t\t\teleB = $(this.dialogId + \'._GETFILEMULTI\');',
'\t\t} else {',
'\t\t\tif(typeof this._getFileListenerLoaded == \'undefined\') {',
'\t\t\t\t//this._getFileListenerLoaded = true;',
'\t\t\t\t//$(this.dialogId + \'._GETFILE\').addEventListener(\'change\',ops.handleFileSelect,false);',
'\t\t\t\t$e.add($(this.dialogId + \'._GETFILE\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__amazonS3fileupload\');',
'\t\t\t}',
'\t\t\teleB = $(this.dialogId + \'._GETFILE\');',
'\t\t}',
'\t\tvar flagFilePassedIn = false;',
'\t\tif(typeof options.flagFilePassedIn != \'undefined\') {',
'\t\t\tflagFilePassedIn = options.flagFilePassedIn',
'\t\t}',
'\t\tif(!flagFilePassedIn) {',
'\t\t\teleB.value = \'\';',
'\t\t\teleB.click();',
'\t\t\teleB.value = \'\';',
'\t\t} else {',
'\t\t\t//options.filePassedIn',
'\t\t\tvar evt = {};',
'\t\t\tevt.target = {};',
'\t\t\tevt.target.files = [];',
'\t\t\tevt.target.files[0] = options.filePassedIn;',
'\t\t\tops.handleFileSelect(evt);',
'\t\t}',
'\t}',
'\t////==== upload PhoneGap /////////////////////////////////////////////////////',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileUpload = function(arr,options) {',
'\t\tvar _dlgObj = this;',
'\t\t//arr is an array of files to upload. arr must have a .filename property in each item',
'\t\tif(typeof LocalFileSystem == \'undefined\') {',
'\t\t\tif(typeof cordova == \'undefined\') {',
'\t\t\t\talert(\'Method not supported when not running in PhoneGap\');',
'\t\t\t} else {',
'\t\t\t\talert(\'Required PhoneGap plugins not loaded.\');',
'\t\t\t}',
'\t\t\treturn false;',
'\t\t}',
'\t\t//initialize variables',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tarr[i].name = arr[i].filename;',
'\t\t\tarr[i].number = i;',
'\t\t\tarr[i].completed = false;',
'\t\t\tarr[i].aborted = false;',
'\t\t\tarr[i].succeeded = false;',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: generateProgressBarsHTML -------------',
'\t\tvar generateProgressBarsHTML = function (ops,count) {',
'\t\t\tvar eleTarget = ops.progressElement;',
'\t\t\teleTarget = eleTarget.toUpperCase();',
'\t\t\tvar html = \'\';',
'\t\t\tvar html_i = \'\';',
'\t\t\tvar name_i = \'\';',
'\t\t\tvar progress_i = \'\';',
'\t\t\tvar idName = \'\';',
'\t\t\tvar idProgress = \'\';',
'\t\t\tif(ops.individualProgress) {',
'\t\t\t\tfor(var  i = 0; i < count; i++) {',
'\t\t\t\t\tname_i = \'Name: \' + i;',
'\t\t\t\t\tprogress_i = \'Progress...\' + i;',
'\t\t\t\t\tidProgress = eleTarget + \'.PROGRESS.\' + i;',
'\t\t\t\t\tidName = eleTarget + \'.NAME.\' + i;',
'\t\t\t\t\tprogress_i = \'<div style="border: solid 1px \'+ops.color+\'; width: \'+ops.width+\';">\';',
'\t\t\t\t\tprogress_i += \'<div id="\'+idProgress+\'"style="width: 0%; height: .05in;  background-color:\'+ops.color+\';"></div></div></td>\';',
'\t\t\t\t\thtml_i = \'<td id="\'+idName+\'">name \'+name_i+\'</td><td>\'+progress_i+\'</td>\';',
'\t\t\t\t\thtml_i = \'<tr>\' + html_i + \'</tr>\';',
'\t\t\t\t\thtml = html + html_i;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(ops.showTotalProgress) {',
'\t\t\t\tidProgress = eleTarget + \'.PROGRESS.TOTAL\';',
'\t\t\t\tidName = eleTarget + \'.NAME.TOTAL\';',
'\t\t\t\tprogress_i = \'<div style="border: solid 1px \'+ops.color+\'; width: \'+ops.width+\';">\';',
'\t\t\t\tprogress_i += \'<div id="\'+idProgress+\'"style="width: 0%; height: .05in;  background-color:\'+ops.color+\';"></div></div></td>\';',
'\t\t\t\thtml_i = \'<td id="\'+idName+\'"></td><td>\'+progress_i+\'</td>\';',
'\t\t\t\thtml_i = \'<tr>\' + html_i + \'</tr>\';',
'\t\t\t\thtml = html + html_i',
'\t\t\t}',
'\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\thtml = \'<div id="\'+idProgress+\'"><table>\' + html + \'</table><div>\';',
'\t\t\t$(eleTarget).innerHTML = html;',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: phoneGapUploadDoWork -------------',
'\t\tvar phoneGapUploadDoWork = function(arr,options) {',
'\t\t\tif(options.target.toLowerCase() == \'s3\') {',
'\t\t\t\t//s3',
'\t\t\t\tvar xbasicFunction = \'a5dialogHelper_systemSignS3Policy\';',
'\t\t\t\tvar data = A5.ajax.buildURLParam(\'_jsonOptions\',JSON.stringify(options));',
'\t\t\t\tvar ajaxObj = {',
'\t\t\t\t\terrorFunction: function() {',
'\t\t\t\t\t\tif(typeof options.onAjaxFailed == \'function\') options.onAjaxFailed();',
'\t\t\t\t\t},',
'\t\t\t\t\tonComplete: function() {',
'\t\t\t\t\t\tvar startUploadLocal = function() {',
'\t\t\t\t\t\t\tvar totalSize = 0;',
'\t\t\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\t\t\ttotalSize = totalSize + Number(arr[i].size);',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tvar _sysObj = {};',
'\t\t\t\t\t\t\t_sysObj.totalBytesToUpload = totalSize;',
'\t\t\t\t\t\t\tvar flagMobile = false;',
'\t\t\t\t\t\t\tif(typeof options._flagMobile != \'undefined\') flagMobile = options._flagMobile;',
'\t\t\t\t\t\t\toptions._flagMobile = flagMobile;',
'\t\t\t\t\t\t\tif(options.showProgress && !flagMobile) generateProgressBarsHTML(options.progress,arr.length);',
'\t\t\t\t\t\t\t//alert(\'ready to start uploading files: total \' + totalSize);',
'\t\t\t\t\t\t\tstartUploadFilesToS3(_sysObj,options);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tvar _sTop = {};',
'\t\t\t\t\t\tgetFileSizesForAllItemsInArray(startUploadLocal,_sTop);',
'\t\t\t\t\t},',
'\t\t\t\t\tdeviceOfflineFunction: function() {',
'\t\t\t\t\t\tif(typeof options.onDeviceOffline == \'function\') options.onDeviceOffline();',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',xbasicFunction,\'\',data,ajaxObj);',
'\t\t\t} else {',
'\t\t\t\t//alpha server',
'\t\t\t\tvar startUploadLocal = function() {',
'\t\t\t\t\tvar totalSize = 0;',
'\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\ttotalSize = totalSize + Number(arr[i].size);',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _sysObj = {};',
'\t\t\t\t\t_sysObj.totalBytesToUpload = totalSize;',
'\t\t\t\t\tif(options.showProgress) generateProgressBarsHTML(options.progress,arr.length);',
'\t\t\t\t\tstartUploadFilesToS3(_sysObj,options);',
'\t\t\t\t}',
'\t\t\t\tvar _sTop = {};',
'\t\t\t\tgetFileSizesForAllItemsInArray(startUploadLocal,_sTop);',
'\t\t\t}',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: getFileSizesForAllItemsInList',
'\t\tvar getFileSizesForAllItemsInArray = function(allDone_GotAllFileSizes_Callback, _sTop)  {',
'\t\t\tvar _s = {count: 0};',
'\t\t\tvar getFileSizesForAllItemsInArrayLow = function (arr,r,count,callback,_s,_sTop) {',
'\t\t\t\tvar rowNumber = r;',
'\t\t\t\tvar url = arr[r].filename;',
'\t\t\t\tvar resolveLocalFileURL_SUCCESS = function(fileEntry) {',
'\t\t\t\t\tvar file_SUCCESS = function(f) {',
'\t\t\t\t\t\tarr[r].size = f.size;',
'\t\t\t\t\t\t_s.count = _s.count + 1;',
'\t\t\t\t\t\tif(_s.count == count) {',
'\t\t\t\t\t\t\tcallback(_sTop);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tfileEntry.file(file_SUCCESS);',
'\t\t\t\t}',
'\t\t\t\t//on iphone, video capture does not return a file with the file:// prefix',
'\t\t\t\tvar urlToResolve = url;',
'\t\t\t\tif(url.indexOf(\'file:\') != 0) {',
'\t\t\t\t\turlToResolve = urlToResolve.replace(\'/private\',\'file:\\/\\/\');',
'\t\t\t\t}',
'\t\t\t\twindow.resolveLocalFileSystemURL(urlToResolve, resolveLocalFileURL_SUCCESS, function() { } );',
'\t\t\t}',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tgetFileSizesForAllItemsInArrayLow(arr,i,arr.length,allDone_GotAllFileSizes_Callback,_s,_sTop)',
'\t\t\t}',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: startUploadFilesToS3',
'\t\tvar startUploadFilesToS3 = function(_sysObj,options) {',
'\t\t\t//_sysObj.totalBytesToUpload;',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tupLoadFilesToS3Work(arr[i].filename,arr,i,_sysObj,options)',
'\t\t\t}',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: s3SignedPolicy',
'\t\tvar s3SignedPolicy = function() {',
'\t\t\tvar obj = {};',
'\t\t\tobj.hasError = {UXPRERENDEREDALIAS}_DlgObj._pgS3.hasError;',
'\t\t\tobj.policyBase64 = {UXPRERENDEREDALIAS}_DlgObj._pgS3.policyBase64;',
'\t\t\tobj.signature = {UXPRERENDEREDALIAS}_DlgObj._pgS3.signature;',
'\t\t\tobj.userKey = {UXPRERENDEREDALIAS}_DlgObj._pgS3.accessKey;',
'\t\t\tobj.acl = {UXPRERENDEREDALIAS}_DlgObj._pgS3.acl;',
'\t\t\tobj.bucket = {UXPRERENDEREDALIAS}_DlgObj._pgS3.bucket;',
'\t\t\treturn obj;',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: uploadFilesToS3Work',
'\t\tvar upLoadFilesToS3Work = function(filenameURI,arr,fileNumber,_sysObj, actionOptions) {',
'\t\t\t//alert(\'actionOptions.target: \' + actionOptions.target);  s3 or alphaanywhere',
'\t\t\tvar fileName = filenameURI.substr(filenameURI.lastIndexOf(\'/\')+1);',
'\t\t\tvar targetName = fileName;',
'\t\t\tif(typeof actionOptions.onComputeS3Filename == \'function\') {',
'\t\t\t\tvar e = {name: targetName, object: arr[fileNumber]};',
'\t\t\t\tvar newTargetName = actionOptions.onComputeS3Filename(e);',
'\t\t\t\tif(typeof newTargetName == \'undefined\') newTargetName = targetName;',
'\t\t\t\tif(newTargetName == \'\') newTargetName = targetName;',
'\t\t\t\ttargetName = newTargetName;',
'\t\t\t}',
'\t\t\t//on iphone video name is always \'capturedvideo.mov\' (in a unique subfolder)',
'\t\t\tif(targetName.toLowerCase() == \'capturedvideo.mov\') {',
'\t\t\t\ttargetName = A5.UUID() + \'_video.MOV\';',
'\t\t\t}',
'\t\t\tarr[fileNumber].targetName = targetName; //use name that event returned',
'\t\t\tvar ft = new FileTransfer();',
'\t\t\tvar options = new FileUploadOptions();',
'\t\t\toptions.fileKey = "file";',
'\t\t\toptions.fileName = targetName;',
'\t\t\toptions.mimeType = "image/jpeg";',
'\t\t\toptions.chunkedMode = false;',
'\t\t\tif(actionOptions.target == \'alphaanywhere\') {',
'\t\t\t\tvar s3URI = encodeURI( $u.s.aTrim({UXPRERENDEREDALIAS}_DlgObj.ajaxURL));',
'\t\t\t\t//s3URI = \'junk\'; //force a file upload error',
'\t\t\t\t//alert(\'remember to turn this off\');',
'\t\t\t\tvar xbasicAfterUpload = actionOptions.xbasicAfterFileUploaded',
'\t\t\t\tvar specialMode = \'\';',
'\t\t\t\tif(typeof actionOptions.specialMode != \'undefined\') specialMode = actionOptions.specialMode;',
'\t\t\t\toptions.params = {',
'\t\t\t\t\t"_XbasicFunction" : "system:phonegapfileupload",',
'\t\t\t\t\t"__Ajax" : "true",',
'\t\t\t\t\t"__FormAction" : "GenericAjaxCallback",',
'\t\t\t\t\t"__FormID" : "",',
'\t\t\t\t\t"__xbasicAfterUpload" : xbasicAfterUpload,',
'\t\t\t\t\t"__arrayIndex" : fileNumber,',
'\t\t\t\t\t"__actionOptions" : JSON.stringify(actionOptions),',
'\t\t\t\t\t"__specialMode" : specialMode,',
'\t\t\t\t\t"__targetName" : targetName,',
'\t\t\t\t\t"__arrayItem" : JSON.stringify(arr[fileNumber]),',
'\t\t\t\t\t"__ajaxURL" : $u.s.aTrim({UXPRERENDEREDALIAS}_DlgObj.ajaxURL)',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\t//s3',
'\t\t\t\tvar obj = s3SignedPolicy();',
'\t\t\t\tvar s3URI = encodeURI(\'https://\' + obj.bucket + \'.s3.amazonaws.com/\'),',
'\t\t\t\t\tpolicyBase64 = obj.policyBase64,',
'\t\t\t\t\tsignature = obj.signature,',
'\t\t\t\t\tawsKey = obj.userKey,',
'\t\t\t\t\tacl = obj.acl;',
'\t\t\t\toptions.params = {',
'\t\t\t\t\t"key": targetName,',
'\t\t\t\t\t"AWSAccessKeyId": awsKey,',
'\t\t\t\t\t"acl": acl,',
'\t\t\t\t\t"policy": policyBase64,',
'\t\t\t\t\t"signature": signature,',
'\t\t\t\t\t"Content-Type": "image/jpeg"',
'\t\t\t\t};',
'\t\t\t}',
'\t\t\tvar setProgress = function(progressId,fileNumber,pctComplete) {',
'\t\t\t\tvar id = \'\';',
'\t\t\t\tvar countCompleted = 0;',
'\t\t\t\tif(fileNumber == \'total\') {',
'\t\t\t\t\tid = progressId + \'.PROGRESS.TOTAL\';',
'\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\tif(arr[i].completed) countCompleted = countCompleted + 1;',
'\t\t\t\t\t}',
'\t\t\t\t\tvar idN = progressId + \'.NAME.TOTAL\';',
'\t\t\t\t\tvar ele = $(idN);',
'\t\t\t\t\t//if(ele) ele.innerHTML = \'Completed: \' + countCompleted +  \' of \' + arr.length;',
'\t\t\t\t} else {',
'\t\t\t\t\tid = progressId + \'.PROGRESS.\' + fileNumber;',
'\t\t\t\t}',
'\t\t\t\tvar ele = $(id);',
'\t\t\t\tif(ele) ele.style.width = pctComplete + \'%\';',
'\t\t\t\tvar idP = progressId + \'.PROGRESSDISPLAY\';',
'\t\t\t\tele = $(idP);',
'\t\t\t\tif(ele) ele.style.display = \'\';',
'\t\t\t}',
'\t\t\tft.onprogress = function(progressEvent) {',
'\t\t\t\tvar totalBytesToTransfer = _sysObj.totalBytesToUpload',
'\t\t\t\tif(typeof _sysObj.workDone == \'undefined\') {',
'\t\t\t\t\t_sysObj.workDone = [];',
'\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\t_sysObj.workDone[i] = 0;',
'\t\t\t\t\t}',
'\t\t\t\t };',
'\t\t\t\t_sysObj.workDone[fileNumber] = progressEvent.loaded;',
'\t\t\t\tvar gTotal = 0;',
'\t\t\t\tfor(var i = 0; i < _sysObj.workDone.length; i++) {',
'\t\t\t\t\tif(typeof _sysObj.workDone[i] != \'undefined\') {',
'\t\t\t\t\t\tgTotal = gTotal + _sysObj.workDone[i];',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar progressId = actionOptions.progress.progressElement;',
'\t\t\t\tif (progressEvent.lengthComputable) {',
'\t\t\t\t\tvar pctComplete = (progressEvent.loaded / progressEvent.total)*100;',
'\t\t\t\t\tif(pctComplete > 100) pctComplete = 100;',
'\t\t\t\t\tpctComplete = $u.n.round(pctComplete,4);',
'\t\t\t\t\tif(actionOptions.showProgress) setProgress(progressId,fileNumber,pctComplete);',
'\t\t\t\t\tif(typeof actionOptions.onProgressEvent == \'function\') {',
'\t\t\t\t\t\tactionOptions.onProgressEvent(arr, fileNumber, pctComplete, progressEvent.loaded, progressEvent.total);',
'\t\t\t\t\t}',
'\t\t\t\t\tvar pctCompleteTotal = (gTotal / totalBytesToTransfer) * 100;',
'\t\t\t\t\tif(pctCompleteTotal > 100) pctCompleteTotal = 100;',
'\t\t\t\t\tpctCompleteTotal = $u.n.round( pctCompleteTotal,4);',
'\t\t\t\t\tif(actionOptions.showProgress) setProgress(progressId,\'total\',pctCompleteTotal);',
'\t\t\t\t\tif(typeof actionOptions.onProgressEvent == \'function\') {',
'\t\t\t\t\t\tactionOptions.onProgressEvent(arr, \'total\', pctCompleteTotal, gTotal, totalBytesToTransfer);',
'\t\t\t\t\t}',
'\t\t\t\t\tif(actionOptions._flagMobile) {',
'\t\t\t\t\t\tif($(\'MOBILEUPLOADPROGRESS.1\')) $(\'MOBILEUPLOADPROGRESS.1\').style.width = pctCompleteTotal + \'%\';',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\t//progress messages not possible -- should never happen',
'\t\t\t\t}',
'\t\t\t};',
'\t\t\tvar _hasCompleted = function() {',
'\t\t\t\tvar flagAllDone = true;',
'\t\t\t\tfor(var i = 0; i < arr.length; i ++) {',
'\t\t\t\t\tif(arr[i].completed == false) {',
'\t\t\t\t\t\tflagAllDone = false;',
'\t\t\t\t\t\tbreak;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\treturn flagAllDone;',
'\t\t\t}',
'\t\t\tvar fileUploadSuccess = function(r) {',
'\t\t\t\tarr[fileNumber].completed = true;',
'\t\t\t\tarr[fileNumber].succeeded = true;',
'\t\t\t\tarr[fileNumber].remoteName = arr[fileNumber].targetName;',
'\t\t\t\t//for uploads to AlphaAnywhere, the Xbasic function that is called can send a response',
'\t\t\t\tif(r.response != \'undefined\') {',
'\t\t\t\t\tif(r.response != \'\') eval(r.response);',
'\t\t\t\t};',
'\t\t\t\t//if the targer is the Alpha server and the Xbasic handler sent a response that set the \'targetFileName\' property',
'\t\t\t\tvar target = actionOptions.target.toLowerCase();',
'\t\t\t\tif(target == \'s3\') {',
'\t\t\t\t\tif(typeof actionOptions.s3.template != \'undefined\') {',
'\t\t\t\t\t\tarr[fileNumber].remoteName = actionOptions.s3.template.replace(\'__name__\',arr[fileNumber].targetName);',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\tif(typeof arr[fileNumber].targetFileName != \'undefined\') {',
'\t\t\t\t\t\tarr[fileNumber].remoteName = arr[fileNumber].targetFileName;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(typeof actionOptions.onCompleteIndividualFile == \'function\') {',
'\t\t\t\t\tactionOptions.onCompleteIndividualFile(arr,fileNumber);',
'\t\t\t\t}',
'\t\t\t\tvar flagAllDone = _hasCompleted();',
'\t\t\t\tif(flagAllDone) {',
'\t\t\t\t\tvar progressId = actionOptions.progress.progressElement;',
'\t\t\t\t\tvar idP = progressId + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\tvar ele = $(idP);',
'\t\t\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t\t\t\tif(typeof actionOptions.onComplete == \'function\') {',
'\t\t\t\t\t\tactionOptions.onComplete(arr);',
'\t\t\t\t\t};',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tvar _hideProgress = function() {',
'\t\t\t\tvar progressId = actionOptions.progress.progressElement;',
'\t\t\t\tvar idP = progressId + \'.PROGRESSDISPLAY\';',
'\t\t\t\tvar ele = $(idP);',
'\t\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t\t}',
'\t\t\tvar fileUploadFailed = function(error) {',
'\t\t\t\tarr[fileNumber].failed = true;',
'\t\t\t\tarr[fileNumber].completed = true;',
'\t\t\t\tif(typeof actionOptions.onError == \'function\') {',
'\t\t\t\t\tactionOptions.onError(arr,fileNumber,error);',
'\t\t\t\t}',
'\t\t\t\tif(typeof actionOptions.onCompleteIndividualFile == \'function\') {',
'\t\t\t\t\tactionOptions.onCompleteIndividualFile(arr,fileNumber);',
'\t\t\t\t}',
'\t\t\t\tvar flagAllDone = _hasCompleted();',
'\t\t\t\tif(flagAllDone) {',
'\t\t\t\t\t_hideProgress();',
'\t\t\t\t\tif(typeof actionOptions.onComplete == \'function\') {',
'\t\t\t\t\t\tactionOptions.onComplete(arr);',
'\t\t\t\t\t}',
'\t\t\t\t};',
'\t\t\t}',
'\t\t\tvar flagOK = true;',
'\t\t\tif(typeof actionOptions.onValidate == \'function\') {',
'\t\t\t\tvar result = actionOptions.onValidate(arr,fileNumber);',
'\t\t\t\tif(typeof result != \'undefined\') flagOK = result;',
'\t\t\t}',
'\t\t\t//do the upload',
'\t\t\tif(flagOK) {',
'\t\t\t\tvar flagTrustAllHosts = false;',
'\t\t\t\tif(typeof _dlgObj != \'undefined\') {',
'\t\t\t\t\tif(typeof _dlgObj._phoneGapTrustAllHosts != \'undefined\') {',
'\t\t\t\t\t\tflagTrustAllHosts = _dlgObj._phoneGapTrustAllHosts;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tft.upload(filenameURI, s3URI, fileUploadSuccess, fileUploadFailed, options,flagTrustAllHosts);',
'\t\t\t} else {',
'\t\t\t\tarr[fileNumber].aborted = true;',
'\t\t\t\tarr[fileNumber].completed = true;',
'\t\t\t}',
'\t\t}',
'\t\tphoneGapUploadDoWork(arr,options);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectory = function(dirName, onComplete, onError) {',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\t//got the filesystem',
'\t\t\tvar onDirCreateSuccess = function(dirEntry) {',
'\t\t\t\tif(typeof onComplete == \'function\') {',
'\t\t\t\t\tonComplete();',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tfs.root.getDirectory(dirName, {create: true},onDirCreateSuccess, onError);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectoryRecurse = function(dirName, onComplete, onError) {',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\tvar prepareWork = function(dir) {',
'\t\t\tvar arr = dir.split(\'/\');',
'\t\t\tvar arr3 = [];',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tvar arr2 = [];',
'\t\t\t\tfor(var k = 0; k < i + 1; k++) {',
'\t\t\t\t\tarr2.push(arr[k]);',
'\t\t\t\t}',
'\t\t\t\tarr3.push(arr2.join(\'/\'));',
'\t\t\t}',
'\t\t\treturn arr3;',
'\t\t}',
'\t\tvar arr = prepareWork(dirName);',
'\t\tvar count = 0;',
'\t\tvar onCompleteLocal = function() {',
'\t\t\tif(count == arr.length) {',
'\t\t\t\tonComplete();',
'\t\t\t} else {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectory(arr[count],onCompleteLocal,onError);',
'\t\t\t\t++count;',
'\t\t\t}',
'\t\t}',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectory(arr[count],onCompleteLocal,onError);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectory = function(dirName, onComplete, onError) {',
'\t\t//calls onComplete with an array of files in the directory',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\t//got filesystem event handler',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tif(dirName.indexOf(\'/\') == 0) dirName = dirName.substring(1);',
'\t\t\t//got the fileSystem',
'\t\t\t//alert(\'got fs - dirName:  \' + dirName);',
'\t\t\tfs.root.getDirectory(dirName,{},function(e) {',
'\t\t\tvar dirReader = e.createReader();',
'\t\t\tvar listFiles = function(entries) {',
'\t\t\t\tvar fileCount = entries.length;',
'\t\t\t\tvar arr = [];',
'\t\t\t\tvar displayName = \'\';',
'\t\t\t\tfor(var i = 0; i < fileCount ; i++) {',
'\t\t\t\t\tif(entries[i].isFile) displayName = entries[i].fullPath + \' [F]\';',
'\t\t\t\t\telse displayName = entries[i].fullPath + \' [D]\';',
'\t\t\t\t\tarr.push( {fullPath: entries[i].fullPath, isFile: entries[i].isFile, display: displayName } );',
'\t\t\t\t}',
'\t\t\t\tif(typeof onComplete == \'function\') {',
'\t\t\t\t\tonComplete(arr);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tdirReader.readEntries(listFiles,onError);',
'\t\t},onError);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectoryRecurse = function(folder, onDirComplete, onDirError) {',
'\t\t//onDirComplete gets called with files, an array of all files. each array entry has a \'fileName\' property.',
'\t\tvar files = [];',
'\t\tvar pending = 0;',
'\t\tvar onComplete = function(array) {',
'\t\t\tfor(var i = 0; i < array.length; i++) {',
'\t\t\t\tif(array[i].isFile) {',
'\t\t\t\t\tfiles.push({fullPath: array[i].fullPath, isFile: true, display: array[i].fullPath + \' [F]\'})',
'\t\t\t\t} else {',
'\t\t\t\t\t++pending;',
'\t\t\t\t\tfiles.push({fullPath: array[i].fullPath, isFile: false, display: array[i].fullPath + \' [D]\'})',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectory(array[i].fullPath,onComplete,onError)',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t--pending;',
'\t\t\tif(pending == 0) {',
'\t\t\t\tonDirComplete(files);',
'\t\t\t}',
'\t\t}',
'\t\tvar onError = function(err) {',
'\t\t\tif(typeof onDirError == \'function\') {',
'\t\t\t\tonDirError(err);',
'\t\t\t\tonDirComplete = function() { } //prevent the all complete from firing',
'\t\t\t}',
'\t\t\telse alert(\'Error\');',
'\t\t}',
'\t\t++pending;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectory(folder,onComplete,onError);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectory = function(dirName,onSuccess,onError,flagRecursive) {',
'\t\tif(typeof flagRecursive == \'undefined\') flagRecursive = false;',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar gotDirectory = function(dirEntry) {',
'\t\t\t\tif(flagRecursive) {',
'\t\t\t\t\tdirEntry.removeRecursively(function() {',
'\t\t\t\t\t\tif(typeof onSuccess == \'function\') onSuccess();',
'\t\t\t\t\t},onError);',
'\t\t\t\t} else {',
'\t\t\t\t\tdirEntry.remove(function() {',
'\t\t\t\t\t\tif(typeof onSuccess == \'function\') onSuccess();',
'\t\t\t\t\t},onError);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t//if you cant find the dir then it is effectively removed, so call onSuccess',
'\t\t\tfs.root.getDirectory(dirName, {}, gotDirectory, onSuccess);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectoryRecurse = function(dirName,onSuccess,onError) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectory(dirName,onSuccess,onError,true);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFile = function(fileName,onSuccess,onError) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tfs.root.getFile(fileName, {create: false}, function(f) {',
'\t\t\t\tf.remove( function() {',
'\t\t\t\t\tif(typeof onSuccess == \'function\') {',
'\t\t\t\t\t\tonSuccess();',
'\t\t\t\t\t}',
'\t\t\t\t}, onError );',
'\t\t\t}, onError);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileExists = function(fileName,onResult,onFailed) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar gotFile = function(f) {',
'\t\t\t\tif(typeof onResult == \'function\') onResult(true);',
'\t\t\t}',
'\t\t\tvar didNotGetFile = function() {',
'\t\t\t\tif(typeof onResult == \'function\') onResult(false);',
'\t\t\t}',
'\t\t\tfs.root.getFile(fileName, {create: false}, gotFile,didNotGetFile);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onFailed );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapReadFile = function(fileName,onReadFile,onReadFileERROR,startAt,endAt) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar readFile = function(f) {',
'\t\t\t\tf.file( function(e) {',
'\t\t\t\t\treader = new FileReader();',
'\t\t\t\t\treader.onloadend = function(e) {',
'\t\t\t\t\t\tif(typeof onReadFile == \'function\') {',
'\t\t\t\t\t\t\tonReadFile(e.target.result);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tif(typeof startAt == \'undefined\' || typeof endAt == \'undefined\') {',
'\t\t\t\t\t\treader.readAsText(e);',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tvar blob = e.slice(startAt,endAt);',
'\t\t\t\t\t\treader.readAsText(blob);',
'\t\t\t\t\t}',
'\t\t\t\t});',
'\t\t\t}',
'\t\t\tfs.root.getFile(fileName, {create: false}, readFile, onReadFileERROR);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onReadFileERROR );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj._phoneGapCreateFile_low = function(fileName,text,onCreatedFile,onCreateFileERROR) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar writeFileData = function(f) {',
'\t\t\t\tvar doFileWrite = function(writerObject) {',
'\t\t\t\t\twriterObject.onwrite = function() {',
'\t\t\t\t\t\tif(typeof onCreatedFile == \'function\') onCreatedFile();',
'\t\t\t\t\t}',
'\t\t\t\t\twriterObject.seek(writerObject.length);',
'\t\t\t\t\tvar blob = new Blob([text], {type: \'text/plain\'});',
'\t\t\t\t\twriterObject.write(blob);',
'\t\t\t\t}',
'\t\t\t\tf.createWriter(doFileWrite);',
'\t\t\t}',
'\t\t\tfs.root.getFile(fileName, {create:true}, writeFileData, onCreateFileERROR);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onCreateFileERROR );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateFile = function(fileName,text,onCreatedFile,onCreateFileERROR,flagAppend) {',
'\t\tif(fileName == \'\') {if(typeof onCreateFileERROR == \'function\') onCreateFileERROR(); return false;}',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tif(!flagAppend) {',
'\t\t\t\tvar onDelete = function() {',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._phoneGapCreateFile_low(fileName,text,onCreatedFile,onCreateFileERROR);',
'\t\t\t\t}',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFile(fileName,onDelete,onDelete)',
'\t\t\t} else {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._phoneGapCreateFile_low(fileName,text,onCreatedFile,onCreateFileERROR)',
'\t\t\t}',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onCreateFileERROR );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileDownload = function(arr,options) {',
'\t\tvar flagCustomOnError = false;',
'\t\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents != \'undefined\') flagCustomOnError = {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents;',
'\t\tif(!flagCustomOnError) window.onerror = function(err) { alert(\'Unhandled Javascript Error - phoneGapFileDownload:  \' + JSON.stringify(err));}',
'\t\tvar _dlgObj = this;',
'\t\tif(typeof LocalFileSystem == \'undefined\') {',
'\t\t\tif(typeof cordova == \'undefined\') {',
'\t\t\t\talert(\'Method not supported when not running in PhoneGap\');',
'\t\t\t} else {',
'\t\t\t\talert(\'Required PhoneGap plugins not loaded.\');',
'\t\t\t}',
'\t\t\treturn false;',
'\t\t}',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\t//got filesystem event handler',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tarr[i].handled = false;',
'\t\t\tarr[i].downloaded = false;',
'\t\t\tarr[i].sourceType = \'server\';',
'\t\t\tif(arr[i].filename.toLowerCase().indexOf(\'http://\') == 0) arr[i].sourceType = \'url\';',
'\t\t\tif(arr[i].filename.toLowerCase().indexOf(\'https://\') == 0) arr[i].sourceType = \'url\';',
'\t\t\tif(arr[i].sourceType == \'url\') {',
'\t\t\t\tarr[i].sourceFilename = arr[i].filename.split(\'/\').pop().split(\'?\')[0];',
'\t\t\t}',
'\t\t}',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar baseDirectory = fs.root.toURL();',
'\t\t\tvar url = {UXPRERENDEREDALIAS}_DlgObj.ajaxURL;',
'\t\t\turl = url.split(\'?\')[0];',
'\t\t\turl = url.split(\'/\');',
'\t\t\turl.pop();',
'\t\t\turl = url.join(\'/\') + \'/\';',
'\t\t\toptions._serverURL = url;',
'\t\t\toptions._baseDirectory = baseDirectory;',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t//arr[i].localFileName = false;',
'\t\t\t}',
'\t\t\tif(options.showProgress) {',
'\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\tvar idProgress = eleTarget;',
'\t\t\t\tvar ele = $(idProgress);',
'\t\t\t\tif(!ele) options.showProgress = false; //set to false or else you will hang iOS',
'\t\t\t}',
'\t\t\tif(options.showProgress) {',
'\t\t\t\tvar ops = options.progress;',
'\t\t\t\tops.totalFileSize = options.totalFileSize;',
'\t\t\t\tvar eleTarget = ops.progressElement;',
'\t\t\t\teleTarget = eleTarget.toUpperCase();',
'\t\t\t\tvar html = \'\';',
'\t\t\t\tvar html_i = \'\';',
'\t\t\t\tvar name_i = \'\';',
'\t\t\t\tvar progress_i = \'\';',
'\t\t\t\tvar idName = \'\';',
'\t\t\t\tvar idProgress = \'\';',
'\t\t\t\tidProgress = eleTarget + \'.PROGRESS.TOTAL\';',
'\t\t\t\tidName = eleTarget + \'.NAME.TOTAL\';',
'\t\t\t\tprogress_i = \'<div style="border: solid 1px \'+ops.color+\'; width: \'+ops.width+\';">\';',
'\t\t\t\tprogress_i += \'<div id="\'+idProgress+\'"style="width: 0%; height: .05in;  background-color:\'+ops.color+\';"></div></div>\';',
'\t\t\t\thtml_i = \'<div id="\'+idName+\'"></div>\'+progress_i;',
'\t\t\t\thtml = html + html_i',
'\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\thtml = \'<div id="\'+idProgress+\'">\' + html + \'<div>\';',
'\t\t\t\tif ($(eleTarget)) $(eleTarget).innerHTML = html;',
'\t\t\t\tvar showProgress = function(pct) {',
'\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESS.TOTAL\';',
'\t\t\t\t\tvar ele = $(idProgress);',
'\t\t\t\t\tif(ele) ele.style.width = pct + \'%\';',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\tvar showProgress = function(pct) { };',
'\t\t\t}',
'\t\t\tvar phoneGapFileDownload_low = function(arr,i,options) {',
'\t\t\t\tvar targetFolder = options.targetFolder;',
'\t\t\t\tif(targetFolder != \'\') targetFolder = targetFolder + \'/\';',
'\t\t\t\tvar fnLocal = options._baseDirectory + targetFolder + arr[i].filename;',
'\t\t\t\tif(arr[i].sourceType == \'url\') {',
'\t\t\t\t\tfnLocal = options._baseDirectory + targetFolder +arr[i].sourceFilename;',
'\t\t\t\t}',
'\t\t\t\t//if the targetFolder is <SQLite>|localdbname.db user is doing a special download to the SQL database folder',
'\t\t\t\tvar flagSQLite = false;',
'\t\t\t\t/*',
'\t\t\t\tif(targetFolder.indexOf(\'<SQLite>\') == 0) {',
'\t\t\t\t\tvar localDBName = targetFolder.split(\'|\')[1];',
'\t\t\t\t\tlocalDBName = localDBName.split(\'/\')[0];',
'\t\t\t\t\tflagSQLite = true;',
'\t\t\t\t\tvar thisPackageName = \'\';',
'\t\t\t\t\tthisPackageName = _phoneGapSettings().appId ;',
'\t\t\t\t\tvar localDbFileUrl = \t{',
'\t\t\t\t\t\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + localDBName,',
'\t\t\t\t\t\t\tios: \'cdvfile://localhost/persistent/\' + localDBName',
'\t\t\t\t\t\t\t//cdvfile://localhost/persistent/sqlite/\' + localDBName',
'\t\t\t\t\t\t};',
'\t\t\t\t\tif(typeof device == \'undefined\') {',
'\t\t\t\t\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar thisDevice = device.platform;',
'\t\t\t\t\tvar fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\t\t\t\t\tconsole.log(\'database location: \' + fileUrl);',
'\t\t\t\t\tfnLocal = fileUrl;',
'\t\t\t\t}',
'\t\t\t\t*/',
'\t\t\t\t///////////////////// new code /////////////////',
'\t\t\t\tif(targetFolder.indexOf(\'<SQLite>\') == 0) {',
'\t\t\t\t\tvar localDBName = targetFolder.split(\'|\')[1];',
'\t\t\t\t\tlocalDBName = localDBName.split(\'/\')[0];',
'\t\t\t\t\tflagSQLite = true;',
'\t\t\t\t\tvar thisPackageName = \'\';',
'\t\t\t\t\tthisPackageName = _phoneGapSettings().appId ;',
'\t\t\t\t\tvar localDbFileUrl = {',
'\t\t\t\t\t\t// Android note: This entry was tested and works on Android 6.01, 5.5.1, 4.4.2',
'\t\t\t\t\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + localDBName,',
'\t\t\t\t\t\t// iOS Note: dataDirectory will point to ..appid/Library/NoCloud',
'\t\t\t\t\t\t// This is not exposed to iTunes or iCloud',
'\t\t\t\t\t\tios: cordova.file.dataDirectory + localDBName',
'\t\t\t\t\t};',
'\t\t\t\t\tif(typeof device == \'undefined\') {',
'\t\t\t\t\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar thisDevice = device.platform;',
'\t\t\t\t\tvar fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\t\t\t\t\tconsole.log(\'.phoneGapFileDownload reports fileUrl: \' + fileUrl);',
'\t\t\t\t\tfnLocal = fileUrl;',
'\t\t\t\t}',
'\t\t\t\t/////////////////// end new code ////////////////',
'\t\t\t\tvar fileFound = function() {',
'\t\t\t\t\tvar forceDownload = false;',
'\t\t\t\t\tforceDownload = options.forceDownloadIfFileExists;',
'\t\t\t\t\tif(typeof forceDownload == \'undefined\') forceDownload = false;',
'\t\t\t\t\tif(forceDownload) {',
'\t\t\t\t\t\tfileNotFound();',
'\t\t\t\t\t\treturn true;',
'\t\t\t\t\t}',
'\t\t\t\t\tarr[i].handled = true;',
'\t\t\t\t\tarr[i].found = true;',
'\t\t\t\t\tarr[i].localFilename = fnLocal;',
'\t\t\t\t\tarr[i].success = true;',
'\t\t\t\t\tvar allHandled = true;',
'\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\tif(!arr[k].handled) {',
'\t\t\t\t\t\t\tallHandled = false;',
'\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tif(allHandled) {',
'\t\t\t\t\t\tif(typeof options.onComplete == \'function\') options.onComplete(arr);',
'\t\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\t\tvar ele = $(idProgress);',
'\t\t\t\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar fileNotFound = function() {',
'\t\t\t\t\t//file was not in the local filesystem so must download it.',
'\t\t\t\t\tarr[i].found = false;',
'\t\t\t\t\tarr[i].localFilename = fnLocal;',
'\t\t\t\t\tvar url2 = options._serverURL + arr[i].filename;',
'\t\t\t\t\tif(arr[i].sourceType == \'url\') {',
'\t\t\t\t\t\turl2 = arr[i].filename;',
'\t\t\t\t\t}',
'\t\t\t\t\tvar ft = new FileTransfer();',
'\t\t\t\t\tft.onprogress = function(progressEvent) {',
'\t\t\t\t\t\tif (progressEvent.lengthComputable) {',
'\t\t\t\t\t\t\tarr[i].totalBytes = progressEvent.total;',
'\t\t\t\t\t\t\tarr[i].bytesLoaded = progressEvent.loaded;',
'\t\t\t\t\t\t\tvar totalSize = -1;',
'\t\t\t\t\t\t\tif(typeof options != \'undefined\') {',
'\t\t\t\t\t\t\t\ttotalSize = options.totalFileSize;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tif(typeof totalSize == \'undefined\') totalSize = -1;',
'\t\t\t\t\t\t\tif(totalSize == -1) {',
'\t\t\t\t\t\t\t\tvar pctComplete = (progressEvent.loaded / progressEvent.total)*100;',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\tvar pctComplete = (progressEvent.loaded / totalSize)*100;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tif(pctComplete > 100) pctComplete = 100;',
'\t\t\t\t\t\t\tpctComplete = $u.n.round(pctComplete,4);',
'\t\t\t\t\t\t\tarr[i].pctComplete = pctComplete;',
'\t\t\t\t\t\t\tvar totalBytes = 0;',
'\t\t\t\t\t\t\tvar loaded = 0;',
'\t\t\t\t\t\t\tvar pctCompleteTotal = 0;',
'\t\t\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\t\t\tif(typeof arr[k].totalBytes != \'undefined\') {',
'\t\t\t\t\t\t\t\t\ttotalBytes = totalBytes + arr[k].totalBytes;',
'\t\t\t\t\t\t\t\t\tloaded = loaded + arr[k].bytesLoaded;',
'\t\t\t\t\t\t\t\t\tpctCompleteTotal = (loaded/totalBytes) * 100;',
'\t\t\t\t\t\t\t\t\tif(totalSize > 0) {',
'\t\t\t\t\t\t\t\t\t\tpctCompleteTotal = (loaded/totalSize) * 100;',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\t//don\'t start showing progress till you have got the size of every file',
'\t\t\t\t\t\t\t\t\t//or else the progress bar will jump around',
'\t\t\t\t\t\t\t\t\tvar flagStartShowingProgress = true;',
'\t\t\t\t\t\t\t\t\t//we don\'t do the inner loop anymore because we are going to start showing progress immediately',
'\t\t\t\t\t\t\t\t\t/*',
'\t\t\t\t\t\t\t\t\tfor(var j = 0; j < arr.length; j++) {',
'\t\t\t\t\t\t\t\t\t\tif(typeof arr[j].totalBytes == \'undefined\') {',
'\t\t\t\t\t\t\t\t\t\t\t//$(\'msg1\').innerHTML = \'not started: \' + arr[j].filename   + \'<br>\' + $(\'msg1\').innerHTML;',
'\t\t\t\t\t\t\t\t\t\t\tflagStartShowingProgress = false;',
'\t\t\t\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\t*/',
'\t\t\t\t\t\t\t\t\tif(flagStartShowingProgress || true ) showProgress(pctCompleteTotal);',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\talert(\'length NOT computable\');',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar flagTrustAllHosts = false;',
'\t\t\t\t\tif(typeof _dlgObj._phoneGapTrustAllHosts != \'undefined\') {',
'\t\t\t\t\t\tflagTrustAllHosts = _dlgObj._phoneGapTrustAllHosts;',
'\t\t\t\t\t}',
'\t\t\t\t\tft.download(url2, fnLocal,',
'\t\t\t\t\t\t\tfunction(entry) {',
'\t\t\t\t\t\t\t\t//alert(\'Success! \' + fnLocal);',
'\t\t\t\t\t\t\t\t//alert(\'number: \' + i );',
'\t\t\t\t\t\t\t\t//alert(JSON.stringify(entry));',
'\t\t\t\t\t\t\t\tarr[i].success = true;',
'\t\t\t\t\t\t\t\tarr[i].handled = true;',
'\t\t\t\t\t\t\t\tarr[i].downloaded = true;',
'\t\t\t\t\t\t\t\t//fileAllDone();',
'\t\t\t\t\t\t\t\tvar allHandled = true;',
'\t\t\t\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\t\t\t\tif(!arr[k].handled) {',
'\t\t\t\t\t\t\t\t\t\tallHandled = false;',
'\t\t\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\tif(allHandled) {',
'\t\t\t\t\t\t\t\t\tif(typeof options.onComplete == \'function\') options.onComplete(arr);',
'\t\t\t\t\t\t\t\t\tif(options.showProgress) {',
'\t\t\t\t\t\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\t\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\t\t\t\t\t\t$(idProgress).style.display = \'none\';',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t},',
'\t\t\t\t\t\t\tfunction(err) {',
'\t\t\t\t\t\t\t\t//alert(\'Error in file transfer: \' + fnLocal);',
'\t\t\t\t\t\t\t\t//debugger;',
'\t\t\t\t\t\t\t\tarr[i].success = false;',
'\t\t\t\t\t\t\t\tarr[i].errorText = JSON.stringify(err);',
'\t\t\t\t\t\t\t\tarr[i].handled = true;',
'\t\t\t\t\t\t\t\t//fileAllDone();',
'\t\t\t\t\t\t\t\tvar allHandled = true;',
'\t\t\t\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\t\t\t\tif(!arr[k].handled) {',
'\t\t\t\t\t\t\t\t\t\tallHandled = false;',
'\t\t\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\tif(allHandled) {',
'\t\t\t\t\t\t\t\t\tif(typeof options.onComplete == \'function\') options.onComplete(arr);',
'\t\t\t\t\t\t\t\t\tif(options.showProgress) {',
'\t\t\t\t\t\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\t\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\t\t\t\t\t\tif($(idProgress)) $(idProgress).style.display = \'none\';',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t},',
'\t\t\t\t\t\t\tflagTrustAllHosts',
'\t\t\t\t\t);',
'\t\t\t\t\t//end fetch file  ---------------------------------------',
'\t\t\t\t\t//true/false -- trustAllHosts parameter',
'\t\t\t\t}',
'\t\t\t\twindow.resolveLocalFileSystemURL(fnLocal, fileFound, fileNotFound);',
'\t\t\t}',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tphoneGapFileDownload_low(arr,i,options)',
'\t\t\t}',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\tA5.ts = function() {',
'\t\tvar d = new Date()',
'\t\treturn d.getTime().toString(36);',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetFileSystemURIForLegacyPersistentStorage = function(ok,fail) {',
'\tvar _ok = ok;',
'\tvar onFSSuccess = function(fs) {',
'\t\tvar uri = fs.root.filesystem.root.nativeURL;',
'\t\t_ok(uri);',
'\t}',
'\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, fail );',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.base64DataToBlob = function(dataURI) {',
'\t//data:image/jpeg;base64,/',
'\t// convert base64/URLEncoded data component to raw binary data held in a string',
'    var byteString;',
'    if (dataURI.split(\',\')[0].indexOf(\'base64\') >= 0)',
'        byteString = atob(dataURI.split(\',\')[1]);',
'    else',
'        byteString = unescape(dataURI.split(\',\')[1]);',
'    // separate out the mime component',
'    var mimeString = dataURI.split(\',\')[0].split(\':\')[1].split(\';\')[0];',
'    // write the bytes of the string to a typed array',
'    var ia = new Uint8Array(byteString.length);',
'    for (var i = 0; i < byteString.length; i++) {',
'        ia[i] = byteString.charCodeAt(i);',
'    }',
'    return new Blob([ia], {type:mimeString});',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteDownloadDatabase = function(SQLiteDBURL,localDBName,onComplete,onError,optionsIn) {',
'\tif(SQLiteDBURL.indexOf(\'http://\') == 0 || SQLiteDBURL.indexOf(\'https://\') == 0) {',
'\t\t//don\'t need to add the baseURL',
'\t} else {',
'\t\tvar url = {UXPRERENDEREDALIAS}_DlgObj.ajaxURL;',
'\t\turl = url.split(\'?\')[0];',
'\t\turl = url.split(\'/\');',
'\t\turl.pop();',
'\t\turl = url.join(\'/\') + \'/\';',
'\t\tSQLiteDBURL =  url + SQLiteDBURL;',
'\t}',
'\tif(typeof onError != \'function\') {',
'\t\tonError = function(error) {',
'\t\t\talert(\'Database Download Failed. File transfer error: \'+error);',
'\t\t}',
'\t}',
'\tif(typeof _phoneGapSettings == \'undefined\') {',
'\t\talert(\'PhoneGap not loaded\');',
'\t\treturn false;',
'\t}',
'\tvar flagSQL = _phoneGapSettings().plugins[\'cordova-sqlite-ext\'];   //com.brodysoft.sqliteplugin',
'\tflagSQL = true;',
'\tif(typeof flagSQL == \'undefined\') flagSQL = false;',
'\tif(!flagSQL) {',
'\t\talert(\'SQLitePluginExt not loaded\');',
'\t\treturn false;',
'\t}',
'\t////////////////////',
'\tif(typeof optionsIn == \'undefined\') {',
'\t\tvar ops = {',
'\t\t\tshowProgress : false,',
'\t\t\tforceDownloadIfFileExists : true',
'\t\t\t}',
'\t} else {',
'\t\tvar ops = optionsIn',
'\t}',
'\tvar arr = [];',
'\tarr.push({filename: SQLiteDBURL});',
'\tvar options = {};',
'\toptions.targetFolder = \'<SQLite>|\' + localDBName;',
'\toptions.onComplete = function() {',
'\t\tonComplete.call();',
'\t}',
'\toptions.onError = function() { onError.call() };',
'\toptions.showProgress = ops.showProgress;',
'\toptions.forceDownloadIfFileExists = ops.forceDownloadIfFileExists;',
'\tif(options.showProgress) {',
'\t\toptions.progress = ops.progress;',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileDownload(arr,options);',
'\t///////////////////////////////////',
'\t/*',
'\tvar thisPackageName = \'\';',
'\tthisPackageName = _phoneGapSettings().appId ;',
'\t//alert(thisPackageName)',
'\tvar localDbFileUrl = \t{',
'\t\t\t\t\t\t\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + localDBName,',
'\t\t\t\t\t\t\t\tios: \'cdvfile://localhost/persistent/\' + localDBName',
'\t\t\t\t\t\t\t};',
'\tif(typeof device == \'undefined\') {',
'\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t}',
'\tvar thisDevice = device.platform;',
'\tvar fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\tvar fileTransfer = new FileTransfer();',
'\tvar uri = encodeURI(SQLiteDBURL);',
'\tvar options = {};',
'\tfileTransfer.download(uri,fileUrl,onComplete,onError,false,options);',
'\t*/',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteExecuteSQL = function(dbName,sql,argumentsIn,onSuccess,onError, onTransactionSuccess, onTransactionError) {',
'\tvar flagCustomOnError = false;',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents != \'undefined\') flagCustomOnError = {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents;',
'\tif(!flagCustomOnError) window.onerror = function(err) { alert(\'Unhandled Javascript Error - SQliteExecuteSQL:  \' + JSON.stringify(err));}',
'\tvar flagSQL = _phoneGapSettings().plugins[\'cordova-sqlite-ext\'];   //com.brodysoft.sqliteplugin',
'\t\tflagSQL = true;',
'\t\tif(typeof flagSQL == \'undefined\') flagSQL = false;',
'\t\tif(!flagSQL) {',
'\t\t\talert(\'SQLitePluginExt not loaded\');',
'\t\t\treturn false;',
'\t}',
'\tif(typeof onSuccess == \'undefined\') onSuccess = false;',
'\tif(typeof onError == \'undefined\') onError = false;',
'\tif(typeof argumentsIn == \'undefined\' || argumentsIn.constructor != Array) argumentsIn = [];',
'\tif(onSuccess.constructor != Array)  {',
'\t\tif(typeof onSuccess != \'function\') {',
'\t\t\tonSuccess = function(tx,result) {',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(onError.constructor != Array)  {',
'\t\tif(typeof onError != \'function\') {',
'\t\t\t\tonError = function(e) {',
'\t\t\t\t}',
'\t\t}',
'\t}',
'\tif(typeof device == \'undefined\') {',
'\t\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t}',
'\tvar flagArrayOfObjects = false;',
'\tif(sql.constructor == Array) {',
'\t\tif(sql[0].constructor == Object) {',
'\t\t\tflagArrayOfObjects = true;',
'\t\t}',
'\t}',
'\tif(flagArrayOfObjects) {',
'\t\tvar a = sql;',
'\t\tdelete sql;',
'\t\tsql = [];',
'\t\targumentsIn = [];',
'\t\tonSuccess = [];',
'\t\tonError = [];',
'\t\tfor(var i = 0; i < a.length; i++) {',
'\t\t\tsql[i] = a[i].sql;',
'\t\t\tif(typeof a[i].arguments != \'undefined\') {',
'\t\t\t\targumentsIn[i] = a[i].arguments;',
'\t\t\t} else {',
'\t\t\t\targumentsIn[i] = [];',
'\t\t\t}',
'\t\t\tif(typeof a[i].onSuccess != \'undefined\') {',
'\t\t\t\tonSuccess[i] = a[i].onSuccess;',
'\t\t\t} else {',
'\t\t\t\tonSuccess[i] = function() { };',
'\t\t\t}',
'\t\t\tif(typeof a[i].onError != \'undefined\') {',
'\t\t\t\tonError[i] = a[i].onError;',
'\t\t\t} else {',
'\t\t\t\tonError[i] = function() { };',
'\t\t\t}',
'\t\t}',
'\t}',
'\t/*',
'\tvar thisDevice = device.platform;',
'\t//var dbFilename = thisDevice == \'Android\' ? dbName:\'files/\' + dbName;',
'\tvar thisPackageName = \'\';',
'\tthisPackageName = _phoneGapSettings().appId ;',
'\tvar localDbFileUrl = \t{',
'\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + dbName,',
'\t\tios: \'cdvfile://localhost/persistent/\' + dbName',
'\t\t//cdvfile://localhost/persistent/sqlite/\' + localDBName',
'\t};',
'\tvar dbFilename = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\tconsole.log(\'database location: \' + dbFilename);',
'\tdelete db;',
'\tif(typeof window.sqlitePlugin == \'undefined\') {',
'\t\talert(\'Error: PhoneGap SQLite plugin not loaded.\');',
'\t}',
'\tvar db = window.sqlitePlugin.openDatabase({name:dbFilename,location:2});',
'\t*/',
'\t///////////////// new code starts here/////////////',
'\t//start here........',
'\tvar thisDevice = device.platform;',
'\tvar dbFilename = thisDevice == \'Android\' ? dbName:\'NoCloud/\' + dbName;   //NoCloud -- no exposed to iTunes and not backed up to iCloud',
'\tconsole.log(\'.SQLiteExecuteSQL: database location = \' + dbFilename);',
'\tif(typeof window.sqlitePlugin == \'undefined\') {',
'\t\talert(\'Error: PhoneGap SQLite plugin not loaded.\');',
'\t}',
'\tvar location = \'download\';',
'\tif( dbName.indexOf(\'root:\') == 0) {',
'\t\tlocation = \'root\';',
'\t\tdbName = dbName.split(\'root:\')[1];',
'\t}',
'\t//this is for a db that is downloaded from the server',
'\tif(location == \'download\') {',
'\t\tvar db = window.sqlitePlugin.openDatabase({name:dbFilename,location:1});',
'\t} else {',
'\t\t//if the db is in the webroot (pre-populated), then use this code',
'\t\tvar db = window.sqlitePlugin.openDatabase({name: dbName , location: 2, createFromLocation: 1});',
'\t}',
'\t///// end here.....',
'\t///////////////////new code ends here ////////////////',
'\tdb.transaction(',
'\t\tfunction(tx) {',
'\t\t\t//array of sql statements or array of array',
'\t\t\tvar flagArrayOfArrays = false;',
'\t\t\ttry{if(argumentsIn[0].constructor == Array) flagArrayOfArrays = true;} catch(e) {}',
'\t\t\tif(sql.constructor == Array || flagArrayOfArrays) {',
'\t\t\t\tif(sql.constructor == Array) {',
'\t\t\t\t\tvar sql_length = sql.length;',
'\t\t\t\t} else {',
'\t\t\t\t\tvar sql_length = argumentsIn.length;',
'\t\t\t\t}',
'\t\t\t\tvar i = 0;',
'\t\t\t\tfunction _lowSQL(transObj) {',
'\t\t\t\t\tif(sql.constructor == Array) {',
'\t\t\t\t\t\tvar sql_i = sql[i];',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tvar sql_i = sql;',
'\t\t\t\t\t}',
'\t\t\t\t\tvar args_i = argumentsIn[i];',
'\t\t\t\t\tif(typeof args_i != \'undefined\') {',
'\t\t\t\t\t\tfor(var j = 0; j < args_i.length; j++) {',
'\t\t\t\t\t\t\tif(typeof args_i[j] == \'function\') {',
'\t\t\t\t\t\t\t\tvar result = args_i[j].call(this,transObj);',
'\t\t\t\t\t\t\t\targs_i[j] = result;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar success_i = function(tx2,result) {',
'\t\t\t\t\t\tvar resultArray = {UXPRERENDEREDALIAS}_DlgObj.SQLiteResultSetToArray(result);',
'\t\t\t\t\t\tif(onSuccess.constructor == Array) {',
'\t\t\t\t\t\t\tonSuccess[i].call(this,tx2,result,resultArray,transObj);',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\tonSuccess.call(this,tx2,result,resultArray,transObj);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\ti++;',
'\t\t\t\t\t\tif(i < sql_length) {',
'\t\t\t\t\t\t\t_lowSQL(transObj);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar error_i = function(e) {',
'\t\t\t\t\t\tif(onError.constructor == Array) {',
'\t\t\t\t\t\t\tonError[i].call(this,e);',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\tonError.call(this,e);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\ttx.executeSql(sql_i,args_i,success_i,error_i);',
'\t\t\t\t}',
'\t\t\t\t_lowSQL({});',
'\t\t\t} else {',
'\t\t\t\t//single sql statement',
'\t\t\t\ttx.executeSql(sql,argumentsIn,function(tx,result) {',
'\t\t\t\t\tvar resultArray = {UXPRERENDEREDALIAS}_DlgObj.SQLiteResultSetToArray(result);',
'\t\t\t\t\tonSuccess.call(this,tx,result,resultArray);',
'\t\t\t\t}, function(e) {onError.call(this,e); });',
'\t\t\t}',
'\t\t},',
'\t\tfunction(e) { /*transaction failure*/ if(typeof onTransactionError == \'function\') { onTransactionError.call(this);} db.close(); },',
'\t\tfunction() { /*transaction success*/ if(typeof onTransactionSuccess == \'function\') { onTransactionSuccess.call(this);} db.close();  }',
'\t);',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteResultSetToArray = function(result) {',
'\tvar array = [];',
'\tif (result !=null && result.rows != null){',
'\t\tfor (var i = 0; i < result.rows.length; i++) {',
'\t\t\tarray.push(result.rows.item(i));',
'\t\t}',
'\t}',
'\treturn array;',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteDeleteDatabase = function(dbName,successCB,errorCB,location) {',
'\tvar flagSQL = _phoneGapSettings().plugins[\'cordova-sqlite-ext\'];   //com.brodysoft.sqliteplugin',
'\t\tflagSQL = true;',
'\t\tif(typeof flagSQL == \'undefined\') flagSQL = false;',
'\t\tif(!flagSQL) {',
'\t\t\talert(\'SQLitePluginExt not loaded\');',
'\t\t\treturn false;',
'\t}',
'\t/*',
'\tif(typeof location == \'undefined\') location = 2;',
'\t*/',
'\t///// new code /////',
'\tif(typeof location == \'undefined\') location = 1;',
'\t///// end new code /////',
'\twindow.sqlitePlugin.deleteDatabase({name: dbName, location: location}, successCB, errorCB);',
'}',
'////////////////////////////////////////',
'{UXPRERENDEREDALIAS}_DlgObj.submitListDataAndMediaFiles = function(listName,xbCallbackFunction,ajaxObject,mediaFileUploadObject) {',
'\t//first, upload media files, then upload dirty records in a list and then call xbCallbackFunction on the server side. Uploaded data will be in e._listData in the Xbasic function',
'\t/*',
'\tExample syntax:',
'\tvar ajaxObject = {',
'\t\terrorFunction: function() { alert(\'failed ajax\'); },',
'\t\tonComplete: function() { alert(\'ajax done\');},',
'\t\tdeviceOfflineFunction: function() { alert(\'offline \');  }',
'\t}',
'\tvar objUpload = {',
'\t\ttarget: \'alphaanywhere\',',
'\t\tshowProgress: true,',
'\t\tonComplete: function(array) {},',
'\t\tonMediaUploadErrors: function(array) { alert(\'there were media upload errors\');},',
'\t\txbasicAfterFileUploaded: \'xbAfterUpload\',',
'\t\tprogress: {',
'\t\t\tcolor: \'#9fa1e8\',',
'\t\t\twidth: \'300px\',',
'\t\t\tindividualProgress: false,',
'\t\t\tshowTotalProgress: true,',
'\t\t\tallowCancel: false,',
'\t\t\tprogressElement: \'{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_2\'',
'\t\t}',
'\t}',
'\t//to upload to s3',
'\ttarget: \'s3\',',
'\t\ts3: {',
'\t\t\tconnectionString: \'alphamediacapture\',',
'\t\t\tprotectedRead: false,',
'\t\t\ttemplate: \'https://alphamediacapture.s3.amazonaws.com/__name__\'',
'\t},',
'\t///////',
'\t{UXPRERENDEREDALIAS}_DlgObj.submitListDataAndMediaFiles(\'list1\',xbName,ajaxObject,objUpload);',
'\t*/',
'\tvar lObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(listName);',
'\tif(!lObj) return false;',
'\tvar objAjax = {};',
'\tif(typeof arguments[2] == \'object\') objAjax = arguments[2];',
'\tvar objUpload = {};',
'\tif(typeof arguments[3] == \'object\') objUpload = arguments[3]; //this is the object that defines the upload target (s3/alphaanywhere), showProgress, etc',
'\tvar _userOnComplete = objUpload.onComplete;',
'\tobjUpload.onComplete = function(array) {',
'\t\t_userOnComplete.call(this,array)',
'\t\tpushRemoteMediaNamesToArray(array,_data);',
'\t}',
'\tvar xbasicFunction = xbCallbackFunction;',
'\t//define local functions',
'\tvar _ajaxUpload = function(data,xbasicFunction,objAjax) {',
'\t\tvar listData = JSON.stringify(data,\'\',\'\\t\');',
'\t\tlistData = A5.ajax.buildURLParam(\'_listData\',listData);',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',xbasicFunction,\'\',listData, objAjax);',
'\t}',
'\tvar pushRemoteMediaNamesToArray = function(mediaFiles,_data) {',
'\t\tvar _data2 = [];',
'\t\t$u.o.assign(_data2,_data);',
'\t\t//media files have been uploaded and the mediaFiles[] array has these properties of interest',
'\t\t//listFieldName -- name of the field in the data array that had the media field',
'\t\t//route -- an array that looks like [{table: \'_top_\', row: 1}]',
'\t\t//remoteName -- the name of the alpha server or s3',
'\t\t//succeeded',
'\t\tvar r = \'\';',
'\t\tvar table = \'\';',
'\t\tvar _di = \'\';',
'\t\tvar _diTop = \'\';',
'\t\tfor(var i = 0; i < mediaFiles.length; i++) {',
'\t\t\tmediaFiles[i].routeObj = JSON.parse(mediaFiles[i].route);',
'\t\t\tr = mediaFiles[i].routeObj[0].row',
'\t\t\tfor(var j = 0; j < mediaFiles[i].routeObj.length; j ++) {',
'\t\t\t\ttable = mediaFiles[i].routeObj[j].table;',
'\t\t\t\tr = mediaFiles[i].routeObj[j].row',
'\t\t\t\tif(table == \'_top_\') {',
'\t\t\t\t\t_di = _data2[r];',
'\t\t\t\t\t_diTop = _di;',
'\t\t\t\t} else {',
'\t\t\t\t\t_di = _di[table][r];',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(typeof _di != \'undefined\') {',
'\t\t\t\t//need to add a check to see if the success flag is true',
'\t\t\t\tif(mediaFiles[i].succeeded) {',
'\t\t\t\t\t _di[mediaFiles[i].listFieldName] = mediaFiles[i].remoteName;',
'\t\t\t\t} else {',
'\t\t\t\t\t_diTop.__flagHasMediaFileUploadError = true;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\t//harvest rows that are dirty and also do not have media upload errors - these rows will be pushed to the server',
'\t\tvar _data3 = [];',
'\t\tvar _mErr = [];',
'\t\tvar flagPush = false;',
'\t\tvar flagHasMediaUploadError = false;',
'\t\tfor(var i = 0; i < _data2.length; i++) {',
'\t\t\tflagPush = true;',
'\t\t\tif(typeof _data2[i].__flagHasMediaFileUploadError != \'undefined\' && _data2[i].__flagHasMediaFileUploadError) {',
'\t\t\t\tflagPush = false;',
'\t\t\t\tflagHasMediaUploadError = true;',
'\t\t\t\t_mErr.push(_data2[i]);',
'\t\t\t}',
'\t\t\tif(flagPush) {',
'\t\t\t\tif(typeof _data2[i]._isDirty == \'undefined\') {',
'\t\t\t\t\tflagPush = false;',
'\t\t\t\t} else if(_data2[i]._isDirty == false) {',
'\t\t\t\t\tflagPush = false;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(flagPush) {',
'\t\t\t\t_data3.push(_data2[i]);',
'\t\t\t}',
'\t\t}',
'\t\tif(flagHasMediaUploadError) {',
'\t\t\tif(typeof objUpload.onMediaUploadErrors == \'function\') {',
'\t\t\t\tobjUpload.onMediaUploadErrors.call(this,_mErr);',
'\t\t\t}',
'\t\t}',
'\t\t_ajaxUpload(_data3,xbasicFunction,objAjax) //do the ajax callback to upload the fixed data array',
'\t}',
'\t//end local functions',
'\tvar _data = lObj.harvestList();',
'\tif(_data.length == 0) {',
'\t\treturn false;',
'\t}',
'\tvar arr = lObj._harvestMediaFields();',
'\talert(JSON.stringify(arr));',
'\tif(arr.length == 0) {',
'\t\t//no media fields -- just make the ajax callback',
'\t\t_ajaxUpload(_data,xbasicFunction,objAjax);',
'\t\treturn true;',
'\t} else {',
'\t\t//upload the media files -- the onComplete event will make the ajax callback',
'\t\t//objUpload._dataToUpload = _data;',
'\t\t_data = lObj._data;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileUpload(arr,objUpload);',
'\t}',
'}',
'// File manipulation',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()',
'//',
'// Returns true if there is a local file system and PhoneGap is running.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable = function() {',
'   if(typeof LocalFileSystem == \'undefined\') {',
'      if(typeof cordova == \'undefined\') {',
'         return false;',
'      }',
'      return false;',
'   }',
'   return true;',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapGetLocalDirURL(type)',
'//',
'// type: "temp", "private", "saved", "public"',
'// On iOS, saved and public may be backed up to iCloud',
'//',
'// Returns URL of base for the requested part of the file system.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetLocalDirURL = function(type) {',
'   var dir = "";',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) return dir;',
'   if (device.platform == \'iOS\') {',
'      switch (type) {',
'         case "temp":',
'            dir = cordova.file.tempDirectory;',
'            break;',
'         case "private":',
'            dir = cordova.file.dataDirectory;',
'            break;',
'         case "saved":',
'            dir = cordova.file.syncedDataDirectory;',
'            break;',
'         case "public":',
'            dir = cordova.file.documentsDirectory;',
'            break;',
'      }',
'   }',
'   else {',
'      switch (type) {',
'         case "temp":',
'            dir = cordova.file.externalCacheDirectory || cordova.file.cacheDirectory;',
'            break;',
'         case "private":',
'            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;',
'            break;',
'         case "saved":',
'            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;',
'            break;',
'         case "public":',
'            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;',
'            break;',
'      }',
'   }',
'   return dir;',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapReadFileURL(filepath, onReadSuccess, onError, startAt, endAt)',
'//',
'// filepath is the local file URL of the desired file.',
'// If startAt and endAt are present, returns just those positions in the file.',
'//',
'// onReadSuccess(result) returns the contents read.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapReadFileURL = function(filepath, onReadSuccess, onError, startAt, endAt) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               var doReadFunction =',
'                  function(file) {',
'                     var reader = new FileReader();',
'                     reader.onloadend =',
'                        function(e) {',
'                           onReadSuccess(this.result);',
'                        };',
'                     if (typeof startAt==\'undefined\' || typeof endAt==\'undefined\') {',
'                        reader.readAsText(file);',
'                     }',
'                     else {',
'                        var blob = file.slice(startAt, endAt);',
'                        reader.readAsText(blob);',
'                     }',
'                  };',
'               fileEntry.file(doReadFunction);',
'            };',
'         fsEntry.getFile(filename, {}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapWriteFileURL(filepath, text, onWriteSuccess, onError, append)',
'//',
'// filepath is the local file URL of the desired file. The directory must',
'// exist, but the file need not.',
'// If append is true, appends to current contents.',
'// Truncates (if file existed) to end of what is written.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapWriteFileURL = function(filepath, text, onWriteSuccess, onError, append) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               var writerFunction =',
'                  function(fileWriter) {',
'                     fileWriter.onwriteend =',
'                        function(e) {',
'                           onWriteSuccess();',
'                        };',
'                     fileWriter.onerror = onError;',
'                     if (append) {',
'                        fileWriter.seek(fileWriter.length);',
'                     }',
'                     var blob = new Blob([text], {type:\'text/plain\'});',
'                     fileWriter.write(blob);',
'                  };',
'               fileEntry.createWriter(writerFunction, onError);',
'            };',
'         fsEntry.getFile(filename, {create: true}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapFileExistsURLfilepath, onResult, onError)',
'//',
'// filepath is the local file URL of the desired file.',
'// onResult(properties) will be called with false if file does not exist.',
'// If file does exist, properties will be:',
'//',
'//    {',
'//       name:file\'s name,',
'//       lastModifiedDate:lastModifiedDate object,',
'//       size:size in bytes,',
'//       type:MIME type if known(not on iOS now, but yes on Android)',
'//    }',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileExistsURL = function(filepath, onResult, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               fileEntry.file(function(fileObj) {',
'                  onResult({name:fileObj.name, lastModifiedDate:fileObj.lastModifiedDate,',
'                     size:fileObj.size, type:fileObj.type});',
'                  },',
'                  onError);',
'            };',
'         var onDidNotGetFile =',
'            function() {',
'               onResult(false);',
'            };',
'         fsEntry.getFile(filename, {create: false}, onGotFile, onDidNotGetFile);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFileURL(filepath, onDeleteSuccess, onError)',
'//',
'// filepath is the local file URL of the file to be deleted.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFileURL = function(filepath, onDeleteSuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               fileEntry.remove(onDeleteSuccess, onError);',
'            };',
'         fsEntry.getFile(filename, {create: false}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapCopyFileURL(srcpath, destdirpath, destname, onCopySuccess, onError)',
'//',
'// srcpath is the local file URL of the file to be copied.',
'// destdirpath is the URL of the directory into which to copy the file.',
'// destname is the name to be given to the copied file. If null, the source filename will be used.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapCopyFileURL = function(srcpath, destdirpath, destname, onCopySuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = srcpath.lastIndexOf("/");',
'   var dirpath = srcpath.substring(0,pos);',
'   var filename = srcpath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               window.resolveLocalFileSystemURL(destdirpath,',
'                  function(destDirEntry) {',
'                     fileEntry.copyTo(destDirEntry, destname, onCopySuccess, onError);',
'                  },',
'                  onError);',
'            };',
'         fsEntry.getFile(filename, {}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapMoveFileURL(srcpath, destdirpath, destname, onMoveSuccess, onError)',
'//',
'// srcpath is the local file URL of the file to be moved.',
'// destdirpath is the URL of the directory into which to move the file, replacing any existing file with the name.',
'// destname is the name to be given to the copied file. If null, the source filename will be used.',
'// If moved into the same directory, the file will be renamed.',
'// A move of a directory on top of an existing empty directory replaces that directory.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapMoveFileURL = function(srcpath, destdirpath, destname, onMoveSuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = srcpath.lastIndexOf("/");',
'   var dirpath = srcpath.substring(0,pos);',
'   var filename = srcpath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               window.resolveLocalFileSystemURL(destdirpath,',
'                  function(destDirEntry) {',
'                     fileEntry.moveTo(destDirEntry, destname, onMoveSuccess, onError);',
'                  },',
'                  onError);',
'            };',
'         fsEntry.getFile(filename, {}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectoryRecurseURL(dirpath, onRemoveSuccess, onError)',
'//',
'// dirpath is the file URL of the directory to be deleted.',
'// Deletes the specified directory and all of its contents, including other directories and',
'// their contents.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectoryRecurseURL = function(dirpath, onRemoveSuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var onResolvedURL =',
'      function(dirEntry) {',
'         dirEntry.removeRecursively(onRemoveSuccess, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapEnsureDirPathURL(rootpath, subdirpath, onCompletion, onError)',
'//',
'// rootpath is the file URL of the existing directory that will contain the directories that are needed.',
'// subdirpath is a path of directories to ensure exist below rootpath. They will be created',
'// if they don\'t exist.',
'//',
'// For example, if rootpath is "file://root/public/", subdirpath may be "toplevel/subdir1".',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapEnsureDirPathURL = function(rootpath, subdirpath, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var dirs = subdirpath.split(\'/\') || [];',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var ensureDirFunction =',
'            function(dirEntry) { // function to recurse',
'               if (dirs.length>0) {',
'                  if (dirs[0]==\'.\' || dirs[0]==\'\') {',
'                     dirs = dirs.slice(1); // remove null dir',
'                  }',
'               }',
'               if (dirs.length==0) {',
'                  onCompletion();',
'                  return;',
'               }',
'               dirEntry.getDirectory(dirs[0], {create: true},',
'                  function(subdirEntry) {',
'                     dirs = dirs.slice(1); // do next',
'                     ensureDirFunction(subdirEntry);',
'                  },',
'                  onError);',
'               };',
'         ensureDirFunction(fsEntry); // do first',
'      };',
'   window.resolveLocalFileSystemURL(rootpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesRecurseURL(rootpath, onCompletion, onError)',
'//',
'// rootpath is the file URL of the directory whose contents will be listed.',
'// onCompletion(filelist) will contain an array of strings representing each file',
'// and directory down the hierarchy. Directories end in "/".',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesRecurseURL = function(rootpath, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var filelist = [];',
'   var pathprefix = "";',
'   var pending = 0;',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var processDirFunction =',
'            function(subdirpath, listingObj) {',
'               var files = listingObj.files;',
'               var i;',
'               var fpath;',
'               var prefix = subdirpath.slice(pathprefix.length);',
'               for (i=0; i<files.length; i++) {',
'                  fpath = prefix+files[i];',
'                  filelist.push(fpath);',
'               }',
'               var dirs = listingObj.dirs;',
'               if (dirs.length==0) {',
'                  if (pending==0) {',
'                     onCompletion(filelist);',
'                  }',
'                  return;',
'               }',
'               for (i=0; i<dirs.length; i++) {',
'                  fpath = dirs[i].fullPath.slice(pathprefix.length);',
'                  filelist.push(fpath);',
'                  pending++;',
'                  dirs[i].filesystem.root.getDirectory(dirs[i].fullPath, {create: false},',
'                     function(dirEntry) {',
'                        listDirFunction(dirEntry);',
'                     },',
'                     function(e){pending--;onError(e);});',
'               }',
'            };',
'         var listDirFunction =',
'            function(dirEntry) { // function to recurse on subdirs',
'               var dirReader = dirEntry.createReader();',
'               var listingObj = {files:[], dirs:[]};',
'               var readDirEntries = function() {',
'                  dirReader.readEntries( // start an async reading of entries',
'                     function(entries) { // more entries read, or done',
'                        if (!entries || entries.length==0) {',
'                           pending--;',
'                           processDirFunction(dirEntry.fullPath, listingObj);',
'                           return;',
'                        }',
'                        var entry;',
'                        for (var i=0; i<entries.length; i++) {',
'                           entry = entries[i];',
'                           if (entry.isFile) {',
'                              listingObj.files.push(entry.name);',
'                           }',
'                           else {',
'                              listingObj.dirs.push(entry);',
'                           }',
'                        }',
'                        readDirEntries(); // recurse to call dirReader.readEntries again',
'                     },',
'                     onError);',
'                  };',
'               readDirEntries(); // do first reading of entries',
'            };',
'         pending++;',
'         pathprefix = fsEntry.fullPath; // get prefix',
'         listDirFunction(fsEntry); // do first list getting',
'      };',
'   window.resolveLocalFileSystemURL(rootpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesURL(dirpath, matchRegex, onCompletion, onError)',
'//',
'// dirpath is the file URL of the directory whose contents will be listed (only files).',
'// matchRegex, if non-null, will need to match file names found for them to be listed.',
'// onCompletion(filelist) will contain an array of strings representing each file.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesURL = function(dirpath, matchRegex, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var filelist = [];',
'         var dirReader = fsEntry.createReader();',
'         var readEntriesFunction =',
'            function() { // function to recurse to call repeatedly after each completion until no result',
'               dirReader.readEntries( // start an async reading of entries',
'                  function(entries) { // more entries read, or done',
'                     if (!entries || entries.length==0) {',
'                        onCompletion(filelist);',
'                        return;',
'                     }',
'                     var name;',
'                     for (var i=0; i<entries.length; i++) {',
'                        name = entries[i].name;',
'                        if (!matchRegex || name.match(matchRegex)) {',
'                           filelist.push(name);',
'                        }',
'                     }',
'                     readEntriesFunction(); // recurse to call dirReader.readEntries again',
'                  },',
'                  onError);',
'               };',
'         readEntriesFunction(); // do first reading',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFilesNotInListURL(dirpath, matchRegex, keepList, onCompletion, onError)',
'//',
'// dirpath is the file URL of the directory whose contents will be examined (only files).',
'// matchRegex, if non-null, will need to match file names found for them to be considered for deletion.',
'// Any file name which is in the array keepList will not be considered even if it matches.',
'// All remaining files found (those matched and not in keepList) will be deleted.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFilesNotInListURL = function(dirpath, matchRegex, keepList, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var keepnames = {}; // fill object with all the names as attributes',
'   for (var j=0; j<keepList.length; j++) {',
'      keepnames[keepList[j]] = true;',
'   }',
'   var filelist = []; // list of files to delete',
'   var totalDeleted = 0;',
'   var deleteFromFileList = function() { // called repeatedly by itself on successes until all deleted',
'      if (filelist.length==0) { // no more to delete',
'         onCompletion(totalDeleted);',
'         return;',
'      }',
'      var todelete = filelist.pop(); // pop one from list and delete it, leaving list shorter',
'      totalDeleted += 1;',
'      todelete.remove(deleteFromFileList, onError);',
'   };',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var dirReader = fsEntry.createReader();',
'         var readEntriesFunction =',
'            function() { // function to recurse to call repeatedly after each completion until no result',
'               dirReader.readEntries( // start an async reading of entries',
'                  function(entries) { // more entries read, or done',
'                     if (!entries || entries.length==0) {',
'                        deleteFromFileList(); // got all - now start deleting them',
'                        return;',
'                     }',
'                     var name;',
'                     for (var i=0; i<entries.length; i++) {',
'                        name = entries[i].name;',
'                        if (!matchRegex || name.match(matchRegex)) { // must match regex',
'                           if (!keepnames[name]) { // and not be on keep list',
'                              filelist.push(entries[i]); // add one to delete to list',
'                           }',
'                        }',
'                     }',
'                     readEntriesFunction(); // recurse to call dirReader.readEntries again',
'                  },',
'                  onError);',
'               };',
'         readEntriesFunction(); // do first reading',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._embeddedUXComponents = {',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._layoutMode = \'containerwidth\';',
'{UXPRERENDEREDALIAS}_DlgObj._responsiveRulesMode = \'firsttrue\';',
'{UXPRERENDEREDALIAS}_DlgObj.__controlNesting = {',
'PANELHEADER_KEYWORDS: [\'container:LEFT_BUTTONS_KEYWORDS\',\'container:CONTAINER_CENTER\'],',
'LEFT_BUTTONS_KEYWORDS: [],',
'CONTAINER_CENTER: [],',
'CONTAINER_SEARCH: [\'LISTCLINICALTRIALS_KEYWORDSEARCH\'],',
'CONTAINER_LIST: [\'LIST_TRIALS\'],',
'PANELHEADER_TRIALDETAILS: [\'container:LEFT_BUTTONS_TRIALDETAILS\',\'container:CONTAINER_CENTER_TRIALS1\'],',
'LEFT_BUTTONS_TRIALDETAILS: [],',
'CONTAINER_CENTER_TRIALS1: [],',
'CONTAINER_QUALIFY_DETAILS: [],',
'TAB_PANES: [\'tabPane:TAB_PANES#1\',\'tabPane:TAB_PANES#2\',\'tabPane:TAB_PANES#3\',\'tabPane:TAB_PANES#4\'],',
'"TAB_PANES#1": [],',
'"TAB_PANES#2": [],',
'"TAB_PANES#3": [],',
'"TAB_PANES#4": []',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._listsDV = [\'LIST_TRIALS\'];',
'//Add methods to the List prototype for Lists with Detail Views',
'$u.o.assign(A5.ListBox.prototype,',
'{',
'\t_controlDefaultValueForListField:  function(fieldName) { ',
'\tvar controlName = this._getUXDetailViewControlName(fieldName);',
'\tif(controlName == \'\') return \'\';',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
' \treturn _dlgObj.defaultValues[controlName.toUpperCase()];',
'}',
',',
'\tqueryByFormClearControls: function() { ',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar controlName;',
'\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\tif(controlName != \'\') {',
'\t\t\tval = \'\';',
'\t\t\t_dlgObj.setValue(controlName,val,false);',
'\t\t}',
'\t}',
'}',
',',
'\tremoveRowFromListByKey: function(rowKey) {',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar curVal = this.value[0];',
'\tthis.nullOutDetailViewRecord();',
'\t_dlgObj.persistVariablesToLocalStorage();',
'\tif(curVal != rowKey) { ',
'\t\tthis.removeRows([rowKey]);',
'\t\tif(typeof curVal != \'undefined\') {',
'\t\t\tthis.setValue(curVal,false);',
'\t\t\tthis._selectedRow = curVal;',
'\t\t}',
'\t\tthis.__currentRoute = this._getRoute();',
'\t} else { ',
'\t\tvar index = this.indexFromValue(curVal);',
'\t\tvar newIndex = \'\';',
'\t\tif( (index+1) < this._dataMap.length) {',
'\t\t\tnewIndex = index;',
'\t\t} else { ',
'\t\t\tnewIndex = index -1;',
'\t\t}',
'\t\tthis.removeRows([rowKey]);',
'\t\tthis.setValue(newIndex,false);',
'\t\tthis._selectedRow = newIndex;',
'\t\tthis.__currentRoute = this._getRoute();',
'\t}',
'\t_dlgObj.refreshClientSideComputations();',
'\tvar lObj = this;',
'\tif (this._data.length == 0) {',
'\t\tthis.setValue(0,false);',
'\t\tthis._selectedRow = -1;',
'\t\tvar mode = this._noRecordInListIsSelectedSettingForDetailView;',
'\t\tif(mode == \'newrecord\') { ',
'\t\t\tvar lObj = this;',
'\t\t\tsetTimeout(function() {lObj.newDetailViewRecord();},10);',
'\t\t} else if (mode == \'disabledetailview\') { ',
'\t\t\tvar lObj = this;',
'\t\t\tsetTimeout(function() {lObj.disableDetailView();},10);',
'\t\t}',
'\t}',
'\t_dlgObj._listRowSelect(this.listVariableName);',
'}',
',',
'\tsearchModeOff: function() { ',
'\tif(this._dvmode != \'search\') return true;',
'\tvar val = this._searchModeReturnValue;',
'\tif(typeof val != \'undefined\') { ',
'\t\tif(val != \'\') {',
'\t\t\tthis.setValue(this._searchModeReturnValue);',
'\t\t} else {',
'\t\t\tthis.newDetailViewRecord();',
'\t\t}',
'\t} else { ',
'\t\tthis.newDetailViewRecord();',
'\t}',
'}',
',',
'\tsearchModeOn: function() { ',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tif(this.detailViewIsDirty()) { ',
'\t\talert(\'cannot switch to search mode because detail view is dirty\');',
'\t\treturn false;',
'\t}',
'\tthis._dvmode = \'search\';',
'\tthis._searchModeReturnValue = this.value;',
'\tthis._deselectAll();',
'\tthis.queryByFormClearControls();',
'\tif(typeof this.__queryByFormValues != \'undefined\') {',
'\t\tfor(var i = 0; i < this.__queryByFormValues.length; i++) { ',
'\t\t\t_dlgObj.setValue(this.__queryByFormValues[i].control,this.__queryByFormValues[i].value,false);',
'\t\t}',
'\t}',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.modeChanged\',{mode: \'search\'});',
'\t_dlgObj.refreshClientSideComputations();',
'}',
',',
'\tpopulateUXControls: function() { ',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tops.listVariableName = this.listVariableName;',
'\tops.listObj = this;',
'\tif(this._detailView.method == \'fieldMap\') argIn = this._detailView.fieldMap;',
'\telse argIn = this._detailView.container;',
'\tvar _d = this.selectionData[0];',
'\tvar n = \'\';',
'\tvar b64prefix = \'\'',
'\tthis._currentDetailViewKey = undefined;',
'\tif(typeof _d == \'undefined\') {',
'\t\tthis.nullOutDetailViewRecord();',
'\t\treturn false; ',
'\t}',
'\tthis._currentDetailViewKey = _d[\'*key\'];',
'\twindow[this._hostComponentId + \'_DlgObj\']._populateUXControlsWithListData(_d,argIn,ops);',
'\tthis._clearServerSideErrors();',
'\tthis._showServerSideErrors();',
'\tthis._showWriteConflictErrors();',
'\tthis._dvmode = \'edit\';',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.modeChanged\',{mode: \'edit\'});',
'\t_dlgObj.refreshClientSideComputations();',
'\tthis._setParentIsDeletedOnChildren();',
'\tif(!this._restoringList) _dlgObj.persistVariablesToLocalStorage();',
'\tif(typeof _d._flagViewed != \'undefined\') { ',
'\t\tif(_d._flagViewed == false) {',
'\t\t\t_d._flagViewed = true;',
'\t\t\tthis.updateRow(this.selection[0],_d);',
'\t\t}',
'\t}',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.afterDetailViewPopulate\',{});',
'}',
',',
'\t_setParentIsDeletedOnChildren: function() { ',
'\t\tvar _d = this.selectionData[0];',
'\t\tif(typeof _d == \'undefined\') return false;',
'\t\tvar flagDel = false;',
'\t\tif(typeof _d[\'_isDeleted\'] != \'undefined\') flagDel = _d[\'_isDeleted\'];',
'\t\tif(!flagDel) {',
'\t\t\tvar flagParentIsDeleted = false;',
'\t\t\tvar pData = \'\';',
'\t\t\tif(this.allParentLists.length > 0) { ',
'\t\t\t\tfor(var i = 0; i < this.allParentLists.length; i++) {',
'\t\t\t\t\tpObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.allParentLists[i]);',
'\t\t\t\t\tif(typeof pObj.selection[0] != \'undefined\') {',
'\t\t\t\t\t\tpData = pObj.getData(pObj.selection[0]);',
'\t\t\t\t\t\tif(typeof pData._isDeleted != \'undefined\') {',
'\t\t\t\t\t\t\tif(pData._isDeleted) {',
'\t\t\t\t\t\t\t\tflagParentIsDeleted = true;',
'\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(flagParentIsDeleted) flagDel = true;',
'\t\t}',
'\t\tvar flagParentIsDeleted = false;',
'\t\tif(typeof this._parentIsDeleted != \'undefined\') flagParentIsDeleted =  this._parentIsDeleted;',
'\t\tthis.disableDetailView(flagDel || flagParentIsDeleted);',
'\t\tvar lChildObj = \'\';',
'\t\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\t\tlChildObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\t\tif(lChildObj) {',
'\t\t\t\tlChildObj.disableDetailView(flagDel);',
'\t\t\t\tif(flagDel) $acn(lChildObj.contId,\'parentIsDeleted\');',
'\t\t\t\telse $rcn(lChildObj.contId,\'parentIsDeleted\');',
'\t\t\t\tlChildObj._parentIsDeleted = flagDel;',
'\t\t\t\tlChildObj._setParentIsDeletedOnChildren();',
'\t\t\t}',
'\t\t}',
'\t}',
',',
'\tupdateListFromUXControls: function() { \t\t',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar arr = this._getControlsInDv()',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t_dlgObj.clientSideValidateField(arr[i],1,null);',
'\t\t}',
'\t\tvar flagCSE = this._hasClientSideError();',
'\t\tif(flagCSE) {',
'\t\t\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.hasClientSideValidationErrors\',{});',
'\t\t\tvar msg = this.customization.dv.clientSideErrorWarning;',
'\t\t\tif(typeof msg != \'undefined\' && msg != \'\') this._showGlobalError(msg);',
'\t\t\treturn false;',
'\t\t} else { ',
'\t\t\tthis._clearGlobalError();',
'\t\t}',
'\t\tvar _route = this._getRoute();',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar flagGetLocationData = this._captureLocation;',
'\t\tif( _dlgObj._embeddedMode || _dlgObj._livePreviewInBuilder) flagGetLocationData = false;',
'\t\tvar that = this;',
'\t\tif(flagGetLocationData) { ',
'\t\t\tvar _locationHighAccuracy = _dlgObj.locationHighAccuracy;',
'\t\t\tvar _locationTimeout = _dlgObj.locationTimeout;',
'\t\t\tvar _locationMaximumAge = _dlgObj.locationMaximumAge;',
'\t\t\tvar classInst = this;',
'\t\t\tnavigator.geolocation.getCurrentPosition(',
'\t\t\t\tfunction(pos) {',
'\t\t\t\t\tif(typeof _dlgObj._location == \'undefined\') _dlgObj._location = {};',
'\t\t\t\t\t_dlgObj._location.lat = pos.coords.latitude;',
'\t\t\t\t\t_dlgObj._location.lng = pos.coords.longitude;',
'\t\t\t\t\tclassInst._updateListFromUXControlsLow();',
'\t\t\t\t\tdelete classInst;',
'\t\t\t\t\tif(that.synchronizeImmediately) { ',
'\t\t\t\t\t\tvar flagOnLine = _dlgObj._getOnlineStatus();',
'\t\t\t\t\t\tif (flagOnLine) {',
'\t\t\t\t\t\t\t\t_dlgObj.saveListEdits(that.listVariableName)',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar dirtyClass = \'\';',
'\t\t\t\t\tif(typeof that.dirtyControlClassName != \'undefined\') dirtyClass = that.dirtyControlClassName;',
'\t\t\t\t\tif(dirtyClass != \'\') that.populateUXControls();',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t\tif(!that._restoringList)  _dlgObj.persistVariablesToLocalStorage();',
'\t\t\t\t\t_dlgObj.refreshClientSideComputations();',
'\t\t\t\t\treturn true;',
'\t\t\t\t},',
'\t\t\t\tfunction(error) { ',
'\t\t\t\t\tdelete _dlgObj._location;  ',
'\t\t\t\t\tclassInst._updateListFromUXControlsLow();',
'\t\t\t\t\tdelete classInst;',
'\t\t\t\t\treturn true;',
' \t\t\t} ,\t{enableHighAccuracy : _locationHighAccuracy, timeout: _locationTimeout, maximumAge: _locationMaximumAge}) \t',
' \t\t\treturn true;\t',
'\t\t} else { ',
'\t\t\tthis._updateListFromUXControlsLow();',
'\t\t}',
'\t\tthis._setRoute(_route);',
'\t\tif(!this._restoringList)  _dlgObj.persistVariablesToLocalStorage();',
'\t\t_dlgObj.refreshClientSideComputations();',
'\t\tif(this.synchronizeImmediately) { ',
'\t\t\tvar flagOnLine = _dlgObj._getOnlineStatus();',
'\t\t\tif (flagOnLine) {',
'\t\t\t\t\t_dlgObj.saveListEdits(this.listVariableName)',
'\t\t\t}',
'\t\t}',
'\t\tvar dirtyClass = \'\';',
'\t\tif(typeof this.dirtyControlClassName != \'undefined\') dirtyClass = this.dirtyControlClassName;',
'\t\tif(dirtyClass != \'\') this.populateUXControls();',
'\t}',
'\t,',
'\t_updateListFromUXControlsLow: function() { \t',
'\tvar flagCSE = this._hasClientSideError();',
'\tif(flagCSE) {',
'\t\tvar msg = this.customization.dv.clientSideErrorWarning;',
'\t\tif(msg != \'\') this._showGlobalError(msg);',
'\t\treturn false;',
'\t} else { ',
'\t\tthis._clearGlobalError();',
'\t}',
'\tflagAllParentListsHaveActiveRow = true;',
'\tvar pObj = \'\';',
'\tif(this.allParentLists.length > 0) { ',
'\t\tfor(var i = 0; i < this.allParentLists.length; i++) {',
'\t\t\tpObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.allParentLists[i]);',
'\t\t\tif(typeof pObj.selection[0] == \'undefined\') {',
'\t\t\t\tflagAllParentListsHaveActiveRow = false;',
'\t\t\t\talert(\'Can\\\'t save record because there is no active record in the parent List. Parent list id: \\\'\'+this.allParentLists[i]+\'\\\'\');',
'\t\t\t\tbreak;',
'\t\t\t}',
'\t\t}',
'\t}',
'\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar flagSynchronize = this.synchronizeImmediately;',
'\tif(typeof ops.synchronize == \'undefined\') {',
'\t\tops.synchronize = flagSynchronize;',
'\t}',
'\tif(this._detailView.method == \'fieldMap\') {',
'\t\tvar res = window[this._hostComponentId + \'_DlgObj\']._updateListDataFromUXControls(this.listVariableName,this._detailView.fieldMap,ops); this._refreshDebugInfo(); ',
'\t} else {',
'\t\tvar res = window[this._hostComponentId + \'_DlgObj\']._updateListDataFromUXControls(this.listVariableName,this._detailView.container,ops); this._refreshDebugInfo(); ',
'\t}',
'\tvar parentListName = this.parentList;',
'\tif(typeof parentListName != \'undefined\') {',
'\t\tvar thisData = this.getData(this.selection[0]);',
'\t\tvar flagIsNewRow = false;',
'\t\tif(typeof thisData._isNewRow != \'undefined\') flagIsNewRow = thisData._isNewRow;',
'\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\tif(plObj._setDirtyByChild) {',
'\t\t\tif (flagIsNewRow == false)  \tplObj._setDirtyByChild(false);',
'\t\t\telse plObj._setDirtyByChild(true,thisData,this.listVariableName);',
'\t\t}',
'\t}',
'\tthis._populateMyChildren();',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.afterUpdateList\',{});',
'\treturn res;',
'},',
'\t_setDirtyByChild: function(flagNewRow) { \t\t',
'\t\tvar rn = this.selection[0];',
'\t\tif(typeof rn == \'undefined\') rn = 0;',
'\t\tif(flagNewRow) {',
'\t\t\tvar newData = arguments[1];',
'\t\t\tvar listName = arguments[2];',
'\t\t\tthis.setRowDirty(rn,true,newData,listName);',
'\t\t} else {',
'\t\t\tthis.setRowDirty(rn,false);',
'\t\t}',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') { ',
'\t\t\tif(parentListName != \'\') {',
'\t\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentListName);',
'\t\t\t\tif(plObj._setDirtyByChild) \tplObj._setDirtyByChild(false);',
'\t\t\t}',
'\t\t}',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t}',
'\t,',
'\t_getChildData: function(existingData,childListName) {\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar clObj = _dlgObj.getControl(childListName);',
'\t\tif(!clObj) return false;',
'\t\tif(clObj._dataSourceType.toLowerCase() == \'sql\') { ',
'\t\t\treturn existingData[\'__LIST__\' + childListName];',
'\t\t} else { ',
'\t\t\treturn existingData[clObj._objectNameInParentListForData];',
'\t\t}',
'\t}',
'\t,',
'\t_getChildDataObjectName: function(childListName) { \t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar clObj = _dlgObj.getControl(childListName);',
'\t\tif(!clObj) return \'__LIST__\' + childListName.toUpperCase();',
'\t\tif(clObj._dataSourceType.toLowerCase() == \'sql\') { ',
'\t\t\treturn \'__LIST__\' + childListName.toUpperCase();',
'\t\t} else { ',
'\t\t\treturn clObj._objectNameInParentListForData',
'\t\t}',
'\t}',
'\t,',
'\tsetRowDirty: function(rn,flagNewRow) {\t\tvar existingData = this.getData(rn);',
'\t\texistingData._isDirty = true;',
'\t\tif(flagNewRow) { ',
'\t\t\tvar newData = arguments[2];',
'\t\t\tvar listName = arguments[3];',
'\t\t\tvar childData = this._getChildData(existingData,listName);',
'\t\t\tif(typeof childData == \'undefined\') return false;',
'\t\t\tvar childDataObjectName = this._getChildDataObjectName(listName);',
'\t\t\tvar n = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(childData,\'*key\',newData[\'*key\']);',
'\t\t\tif(n == -1) {',
'\t\t\t\tif(existingData[childDataObjectName].constructor == Array) {',
'\t\t\t\t\texistingData[childDataObjectName].push(newData);',
'\t\t\t\t} else { ',
'\t\t\t\t\texistingData[childDataObjectName] =  [];',
'\t\t\t\t\texistingData[childDataObjectName].push(newData);',
'\t\t\t\t}',
'\t\t\t} else { ',
'\t\t\t}',
'\t\t}',
'\t\tthis.updateRow(rn,existingData);',
'\t}',
'\t,',
'\t_showDirtyDetailViewWarning: function() {',
'\t\tif(!this.detailViewIsDirty(true)) return true;',
'\t\telse {',
'\t\t\tvar obj = {};',
'\t\t\tobj.thisListName = this.listVariableName;',
'\t\t\tobj.dirtyListName = this._nameOfListWithDirtyDetailView;',
'\t\t\tobj.handled = false;',
'\t\t\twindow[this._hostComponentId + \'_DlgObj\']._list_executeEvent(this.listVariableName,\'detailView.afterListRowSelectCancelled\',obj);',
'\t\t\tif(obj.handled) return false;',
'\t\t\tvar msg = this.customization.dv.dirtyDetailViewRecord.message;',
'\t\t\tvar image = this.customization.dv.dirtyDetailViewRecord.icon;',
'\t\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\t\tvar flagThisListHasDirtyDv = false;',
'\t\t\tif(this.listVariableName == this._nameOfListWithDirtyDetailView) flagThisListHasDirtyDv = true;;',
'\t\t\tif(!flagThisListHasDirtyDv) {',
'\t\t\t\tmsg = msg + \'<br>(List with dirty Detail View: \\\'\' + this._nameOfListWithDirtyDetailView + \'\\\')\';',
'\t\t\t}',
'\t\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\t\tvar title = this.customization.dv.dirtyDetailViewRecord.title;',
'\t\t\tA5.msgBox.show(title,msg,\'O\',function() {} );',
'\t\t\treturn false;',
'\t\t}',
'\t}',
'\t,',
'\t_getListFieldFromControl: function(ctrl) {\t\tvar indx = \'\';',
'\t\tif(this._detailView.method == \'fieldMap\') {',
'\t\t\tvar map = this._detailView.fieldMap;',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(map,\'control\',ctrl);',
'\t\t\tif(indx > -1) return map[indx].field',
'\t\t} else {',
'\t\t\tctrl = ctrl.toUpperCase();',
'\t\t\tvar la = this._listFields;',
'\t\t\tfor(var i = 0; i < la.length; i++) { ',
'\t\t\t\tif(la[i].name.toUpperCase() == ctrl) return la[i].name;',
'\t\t\t}',
'\t\t\treturn false;',
'\t\t}',
'\t}',
'\t,',
'\tdisableDetailView: function() { \t\tvar flag = typeof arguments[0] != \'undefined\' ? arguments[0] : true;',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].setDisabled(this._getControlsInDv(),flag);',
'\t}',
'\t,',
'\t_getControlsInDv: function() {\t\tif(typeof this._controlsInDV != \'undefined\') {',
'\t\t\treturn this._controlsInDV;',
'\t\t}',
'\t\tvar arr = [];',
'\t\tif(typeof this._detailView == \'undefined\') return \'\';',
'\t\tif(typeof this._detailView.method == \'undefined\') return \'\';',
'\t\tif(this._detailView.method == \'fieldMap\') { ',
'\t\t\tvar ele = \'\';',
'\t\t\tfor (var i = 0; i < this._detailView.fieldMap.length; i++) {',
'\t\t\t\tele = $(this._hostComponentId + \'.V.R1.\' + this._detailView.fieldMap[i].control.toUpperCase());',
'\t\t\t\tif(ele) arr.push(this._detailView.fieldMap[i].control.toUpperCase());',
'\t\t\t}',
'\t\t\tthis._controlsInDV = arr;',
'\t\t\treturn arr;',
'\t\t} else { ',
'\t\t\tvar indx = -1;',
'\t\t\tvar ctrlList = window[this._hostComponentId + \'_DlgObj\'].getControlsInContainer(this._detailView.container);',
'\t\t\tfor(var c = 0; c < ctrlList.length; c++) {',
'\t\t\t\tfor(var i = 0; i < this._listFields.length; i++) {',
'\t\t\t\t\tif(this._listFields[i].name.toLowerCase() == ctrlList[c].toLowerCase()) arr.push(ctrlList[c].toUpperCase());',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis._controlsInDV = arr;',
'\t\t\treturn arr;',
'\t\t}',
'\t}',
'\t,',
'\t_stripCleanBase64Data: function(_d) { \t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar _dc = {}',
'\t\tvar cn = \'\';',
'\t\tvar ct = \'\';',
'\t\tvar flagDirty = \'\';',
'\t\tvar flagCapture = \'\';',
'\t\tvar ix = \'\';',
'\t\tvar flagEmbeddedImage = \'\';',
'\t\tfor(var prop in _d) {',
'\t\t\tflagCapture = true; ',
'\t\t\tcn = this._getUXDetailViewControlName(prop);',
'\t\t\tif(cn != \'\') {',
'\t\t\t\tct = _dlgObj._getControlType(cn).toLowerCase();',
'\t\t\t\tif(ct == \'signaturecapture\' || ct == \'image\') {',
'\t\t\t\t\tflagCapture = false;',
'\t\t\t\t\tvar _dirtyImages = _d[\'_dirtyImages\'];',
'\t\t\t\t\tvar flagImageDirty = false;',
'\t\t\t\t\tif(typeof _dirtyImages != \'undefined\') {',
'\t\t\t\t\t\tflagImageDirty = _dirtyImages[prop];',
'\t\t\t\t\t\tif(typeof flagImageDirty != \'undefined\') flagCapture = true;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(flagCapture) _dc[prop] = _d[prop];',
'\t\t}',
'\t\treturn _dc;',
'\t}\t',
'\t,',
'\t_getData2: function(row) { \t\t',
'\t\tvar _d = this.getData(row);',
'\t\treturn this._stripCleanBase64Data(_d);',
'\t}',
'\t,',
'\tharvestListRow: function() { \t\t',
'\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tvar obj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\t\tvar flagSumbmitAllChildRecords = false;',
'\t\tif(typeof obj.flagSumbmitAllChildRecords != \'undefined\') flagSumbmitAllChildRecords = obj.flagSumbmitAllChildRecords;',
'\t\tif(typeof rn != \'number\') {',
'\t\t\tif(!rn._isNewRow){',
'\t\t\t\tvar existingData = this._stripCleanBase64Data(rn);',
'\t\t\t} else {',
'\t\t\t\tvar existingData = rn;',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tif(rn > -1) {',
'\t\t\t\tvar existingData = this._getData2(rn); ',
'\t\t\t} else {',
'\t\t\t\tif(this.selection[0] != \'undefined\') var existingData = this._getData2(this.selection[0]); ',
'\t\t\t}',
'\t\t}',
'\t\tif(typeof existingData == \'undefined\') return {};',
'\t\tvar flagDirty = false;',
'\t\tvar flagNewRow = false;',
'\t\tif(typeof existingData._isDirty != \'undefined\') flagDirty = existingData._isDirty;',
'\t\tif(typeof existingData._isNewRow != \'undefined\') flagNewRow = existingData._isNewRow;',
'\t\tdelete existingData._previousData;',
'\t\tif(flagDirty || flagNewRow) {',
'\t\t\tif(!flagSumbmitAllChildRecords) {',
'\t\t\t\tvar dirtyDataOnly = this._trimNonDirtyData(existingData);',
'\t\t\t\treturn dirtyDataOnly;',
'\t\t\t} else {',
'\t\t\t\treturn existingData;',
'\t\t\t}',
'\t\t}',
'\t\treturn {};',
'\t}',
'\t,',
'\tfieldIsDirty: function(field) { \t\tvar rSel = this.selection[0];',
'\t\tvar rn = typeof arguments[1] != \'undefined\' ? arguments[1] : rSel;',
'\t\tif(typeof rSel == \'undefined\') return false;',
'\t\tvar _d = this.getData(rn);',
'\t\tvar _dv = _d[field];',
'\t\tvar flagNewRow = _d[\'_isNewRow\'];',
'\t\tif(typeof flagNewRow == \'undefined\') flagNewRow = false;',
'\t\tif(flagNewRow) { ',
'\t\t\tif(_dv == \'\') return false;',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar _od = _d[\'_oldData\'];',
'\t\tif(typeof _od == \'undefined\') return false;',
'\t\tvar _odv = _od[field];',
'\t\tif(typeof _dv == \'undefined\') return false;',
'\t\tif(typeof _odv == \'undefined\') return false;',
'\t\tif(_dv == _odv ) return false;',
'\t\telse return true;',
'\t}',
'\t,',
'\t_trimNonDirtyData: function(data) { \t\tvar data2 = {};',
'\t\tvar tData = [];',
'\t\tfor(var prop in data) {',
'\t\t\tif(data[prop] != null) {\t\t\t',
'\t\t\t\tif(data[prop].constructor == Array) {',
'\t\t\t\t\ttData = [];',
'\t\t\t\t\tfor(var i = 0; i < data[prop].length; i++) {',
'\t\t\t\t\t\tif(data[prop][i]._isNewRow || data[prop][i]._isDirty ) {',
'\t\t\t\t\t\t\ttData.push(this._trimNonDirtyData(data[prop][i]));',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tdata2[prop] = tData;',
'\t\t\t\t} else {',
'\t\t\t\t\tdata2[prop] = data[prop];',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\tdata2[prop] = null;',
'\t\t\t}',
'\t\t}',
'\t\treturn data2;',
'\t}',
'\t,',
'\t_logicalRow2PhysicalRow: function(rn) { \t\tif(typeof rn != \'number\') {',
'\t\t\treturn rn;',
'\t\t}',
'\t\tvar u = this._dataMap;',
'\t\treturn $u.a.find(u,rn);',
'\t}',
'\t,',
'\tharvestListKeys: function() { \t\tvar existingData = {};',
'\t\tvar arr = [];',
'\t\tvar key = \'\';',
'\t\tfor (var i = 0; i < this._data.length; i++) { ',
'\t\t\texistingData = this._data[i];',
'\t\t\tif(typeof existingData.__primaryKey != \'undefined\') {',
'\t\t\t\tkey = existingData.__primaryKey;',
'\t\t\t} else {',
'\t\t\t\tkey = existingData[\'*value\']',
'\t\t\t}',
'\t\t\tif(key != \'\') arr.push(key);',
'\t\t}',
'\t\treturn arr;',
'\t}',
'\t,',
'\t_hasMediaFileUploadErrors: function(data) {\t\t',
'\t\tvar flag = false;',
'\t\tvar r = A5.u.object.each(data,function(name,value,path,result){',
'\t\t\tif(name == \'_flagMediaFileUploadError\'){',
'\t\t\t\tif(value) flag =  true;',
' \t\t   }',
'\t\t});',
'\t\treturn flag;',
'\t}',
',',
'\tharvestList: function() { \t\t',
'\t\tvar flagPKOnly = typeof arguments[0] != \'undefined\' ? arguments[0] : false;',
'\t\tvar obj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\t\tvar startingRow = 1;',
'\t\tvar batchSize = 0;',
'\t\tvar flagSumbmitAllChildRecords = false;',
'\t\tif(typeof obj.batchSize != \'undefined\') batchSize = obj.batchSize;',
'\t\tif(typeof obj.startingRow != \'undefined\') startingRow = obj.startingRow;',
'\t\tif(typeof obj.flagSumbmitAllChildRecords != \'undefined\') flagSumbmitAllChildRecords = obj.flagSumbmitAllChildRecords;',
'\t\tvar flagDirty = false;',
'\t\tvar flagNewRow = false;',
'\t\tvar flagHasMediaFileUploadError = false;',
'\t\tvar existingData = \'\';',
'\t\tvar arr = [];',
'\t\tvar _tempData = \'\';',
'\t\tif(batchSize > 0 && startingRow > 1 && flagPKOnly == false) { ',
'\t\t\tvar arr2 = [];',
'\t\t\tvar count = 0;',
'\t\t\tfor(var i = startingRow -1; i < this.__arrDirtyRows.length; i++) { ',
'\t\t\t\trowToGet = this.__arrDirtyRows[i]; ',
'\t\t\t\texistingData = this._data[rowToGet];',
'\t\t\t\t_tempData = this.harvestListRow(existingData, {flagSumbmitAllChildRecords: flagSumbmitAllChildRecords});',
'\t\t\t\tarr2.push(_tempData);',
'\t\t\t\tcount = count + 1;',
'\t\t\t\tif(count >= batchSize) break;',
'\t\t\t}',
'\t\t\treturn arr2;',
'\t\t}',
'\t\tthis.__arrDirtyRows = [];',
'\t\tfor (var i = 0; i < this._data.length; i++) { ',
'\t\t\texistingData = this._data[i];',
'\t\t\tflagDirty = false; flagNewRow = false;',
'\t\t\tif(typeof existingData._isDirty != \'undefined\') flagDirty = existingData._isDirty;',
'\t\t\tif(typeof existingData._isNewRow != \'undefined\') flagNewRow = existingData._isNewRow;',
'\t\t\tif(flagDirty || flagNewRow) {',
'\t\t\t\tflagHasMediaFileUploadError = this._hasMediaFileUploadErrors(existingData);',
'\t\t\t}',
'\t\t\tif( (flagDirty || flagNewRow) && !flagHasMediaFileUploadError ) {',
'\t\t\t\tif(flagPKOnly == false)\t{',
'\t\t\t\t\t_tempData = this.harvestListRow(existingData, {flagSumbmitAllChildRecords: flagSumbmitAllChildRecords});',
'\t\t\t\t\tarr.push(_tempData);',
'\t\t\t\t} else {',
'\t\t\t\t\tif(typeof existingData.__primaryKey != \'undefined\') {',
'\t\t\t\t\t\tarr.push(existingData.__primaryKey);',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tarr.push(existingData[\'*value\']);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(batchSize > 0 && startingRow == 1 && flagPKOnly == false)  {',
'\t\t\t\t\tif(flagPKOnly == false) {',
'\t\t\t\t\t\tthis.__arrDirtyRows.push(existingData[\'*key\']);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(batchSize > 0 && flagPKOnly == false) {',
'\t\t\tvar arr2 = [];',
'\t\t\tvar count = 0;',
'\t\t\tfor(var i = startingRow -1; i < this.__arrDirtyRows.length; i++) { ',
'\t\t\t\trowToGet = this.__arrDirtyRows[i];',
'\t\t\t\tarr2.push(this._getRowByKey(arr,rowToGet));',
'\t\t\t\tcount = count + 1;',
'\t\t\t\tif(count >= batchSize) break;',
'\t\t\t}',
'\t\t\treturn arr2',
'\t\t}',
'\t\treturn arr;',
'\t}',
'\t,',
'\t_getRowByKey: function(arr,key) {\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif(arr[i][\'*key\'] == key) return arr[i];',
'\t\t}',
'\t\treturn false; ',
'\t}',
',',
'\tlistRowIsDirty: function() {\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tvar flagNewRow = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\t\tif(rn > -1) {',
'\t\t\tvar existingData = this.getData(rn);',
'\t\t} else {',
'\t\t\tvar existingData = this.getData(this.selection[0]);',
'\t\t}',
'\t\tif(typeof existingData == \'undefined\') return false;',
'\t\tif(!flagNewRow) {',
'\t\t\tif(typeof existingData._isDirty != \'undefined\') return existingData._isDirty;',
'\t\t\telse return false;',
'\t\t} else { ',
'\t\t\tif(typeof existingData._isNewRow != \'undefined\') return existingData._isNewRow;',
'\t\t\telse return false;',
'\t\t}',
'\t}',
'\t,',
'\tlistRowIsNew: function() {\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\treturn this.listRowIsDirty(rn,true);',
'\t}',
'\t,',
'\t_getDataFromRoute: function(route) { \t\tvar rn = [].concat(route);',
'\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\tif(typeof topParent == \'undefined\') var lObj = this;',
'\t\telse var lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\tvar _td = lObj._data;',
'\t\tfor(var i = 0; i < rn.length; i++) { ',
'\t\t   _td = _td[ rn[i] ];',
'\t\t}',
'\t\treturn _td;',
'\t}',
'\t,',
'\t_isRowInRouteVisible: function(route) { \t\tvar rn = [].concat(route);',
'\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\tif(typeof topParent == \'undefined\') var lObj = this;',
'\t\telse var lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\tvar index = 0;',
'\t\twhile(rn.length >1) {',
'\t\t\tindex = lObj._logicalRow2PhysicalRow(rn.shift());',
'\t\t\tif(lObj.selection[0] != index) return false;',
'\t\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(rn.shift().replace(\'__LIST__\',\'\'));',
'\t\t}',
'\t\treturn true;\t\t',
'\t}',
'\t,',
'\t_isRouteBranchDirty: function(route) { \t\tvar rn = [].concat(route);',
'\t\tif( typeof  rn[rn.length-1] == \'number\' ) rn.pop();',
'\t\tvar _d = this._getDataFromRoute(rn);',
'\t\tfor(var i = 0; i < _d.length; i++) { ',
'\t\t\tif( _d[i]._isDirty || _d[i]._isNewRow || _d[i]._isDeletedRow) return true;',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_routeBranchHasServerSideError: function(route) { \t\tvar rn = [].concat(route);',
'\t\tif( typeof  rn[rn.length-1] == \'number\' ) rn.pop();',
'\t\tvar _d = this._getDataFromRoute(rn);',
'\t\tfor(var i = 0; i < _d.length; i++) { ',
'\t\t\tif(  _d[i]._hasServerSideError ||  _d[i]._flagServerSideErrorInChild  || _d[i]._hasWriteConflictErrors ||  _d[i]._flagWriteConflictErrorInChild      ) return true;',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_responseStart: function() {\t\tdelete this._rowGUIDS;',
'\t\tthis._rowGUIDS = [];',
'\t}',
',',
'\t_responseEnd: function() {\t\t',
'\t\tvar flagUsingSyncLog = false;',
'\t\tflagUsingSyncLog = this._useServerSideSyncLog;',
'\t\tif(typeof flagUsingSyncLog == \'undefined\') flagUsingSyncLog = false;',
'\t\tif(flagUsingSyncLog) {',
'\t\t\tvar flagClearLog = this._clearServerSideSyncLog;',
'\t\t\tif(typeof flagClearLog == \'undefined\') flagClearLog = true;',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\tif(flagClearLog) {',
'\t\t\t\t_dlgObj.synchronizeComplete(this._rowGUIDS);',
'\t\t\t}',
'\t\t}',
'\t}',
',',
'\t_getTopParentList: function() { \t\t',
'\t\tvar allParentLists = this.allParentLists;',
'\t\tif(typeof allParentLists == \'undefined\') return this.listVariableName;',
'\t\tif(allParentLists.length == 0) return this.listVariableName;',
'\t\treturn allParentLists[allParentLists.length -1];',
'\t}',
',',
'\tsetRowCleanPreserveState: function() {\t\tthis.setRowClean(arguments[0],-1,true);',
'\t}',
',',
'\tsetRowClean: function() {\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tvar mode = typeof arguments[1] != \'undefined\' ? arguments[1] : -1;',
'\t\tvar flagPreserveState = typeof arguments[2] != \'undefined\' ? arguments[2] : false;',
'\t\tvar flagRouteArray = false;',
'\t\tif(rn.constructor == Array) { ',
'\t\t\tflagRouteArray = true;',
'\t\t\tvar existingData = this._getDataFromRoute(rn);',
'\t\t\tvar _row = rn[rn.length -1];',
'\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t} else {',
'\t\t\tvar _row = \'\';',
'\t\t\tvar existingData = this.getData(this.selection[0]);',
'\t\t\tif(rn > -1) {',
'\t\t\t\t_row = rn;',
'\t\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t\t} else _row = existingData[\'*key\'];',
'\t\t\tvar existingData = this.getData(_row);',
'\t\t}',
'\t\tif(mode == 1 ) {',
'\t\t\tif(typeof existingData._oldData != \'undefined\') return false;',
'\t\t}',
'\t\tif(!flagPreserveState) {',
'\t\t\texistingData._isDirty = false;',
'\t\t\texistingData._isNewRow = false;',
'\t\t}',
'\t\texistingData._hasServerSideError = false;',
'\t\texistingData._serverSideErrors = false;',
'\t\texistingData._flagServerSideErrorInChild = false;',
'\t\texistingData._hasWriteConflictErrors = false;',
'\t\texistingData._hasGlobalErrors = false;',
'\t\texistingData._flagWriteConflictErrorInChild = false;',
'\t\texistingData._flagGlobalErrorInChild = false;',
'\t\texistingData._dirtyImages = false;',
'\t\tvar topParentList = this._getTopParentList();',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar lTop = _dlgObj.getControl(topParentList);',
'\t\tif(typeof lTop._rowGUIDS == \'undefined\') lTop._rowGUIDS = [];',
'\t\tlTop._rowGUIDS.push(existingData[\'*rowGUID\']);',
'\t\tdelete existingData[\'*rowGUID\'];',
'\t\texistingData._writeConflictErrors = false;',
'\t\tif(!flagPreserveState) delete existingData._oldData;',
'\t\tdelete existingData._globalErrors;',
'\t\tdelete existingData._globalErrorsRaw;',
'\t\tif(flagRouteArray) {',
'\t\t\tif(this._isRowInRouteVisible(rn)) this.updateRow(_row,existingData);',
'\t\t} else {',
'\t\t\tthis.updateRow(_row,existingData);',
'\t\t}',
'\t\tvar parentList = this.parentList;',
'\t\tif(typeof parentList != \'undefined\') {',
'\t\t\tif(flagRouteArray) var flagListIsDirty =  this._isRouteBranchDirty(rn);  ',
'\t\t\telse var flagListIsDirty = this.listIsDirty();',
'\t\t\tif (flagListIsDirty == false) { ',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\t\t\tif(flagRouteArray) {',
'\t\t\t\t\trn.pop();',
'\t\t\t\t\trn.pop();',
'\t\t\t\t\tlObj.setRowClean(rn,1);',
'\t\t\t\t} else {',
'\t\t\t\t\tlObj.setRowClean(-1,1);',
'\t\t\t\t}',
'\t\t\t} else { ',
'\t\t\t\tif(flagPreserveState) {',
'\t\t\t\t\tthis._setRouteDirty(rn);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\t_setRouteDirty: function(route) { \t\troute.pop();',
'\t\troute.pop();',
'\t\tvar flagLoop = true;',
'\t\tif(route.length == 0) flagLoop = false;',
'\t\twhile(flagLoop) { ',
'\t\t\tvar existingData = this._getDataFromRoute(route);',
'\t\t\texistingData._isDirty = true;',
'\t\t\troute.pop();',
'\t\t\troute.pop();',
'\t\t\tif(route.length == 0) break;',
'\t\t}',
'\t}',
',',
'\t_showError: function(id,moreTxt,lessTxt) { \t\tvar e = $(id);',
'\t\tvar e2 = $(id + \'.LINK\');',
'\t\tif(e.style.display == \'\') { ',
'\t\t\te.style.display = \'none\';',
'\t\t\te2.innerHTML = moreTxt;',
'\t\t} else { ',
'\t\t\te.style.display = \'\';',
'\t\t\te2.innerHTML = lessTxt;',
'\t\t}',
'\t}',
'\t,',
'\t_setGlobalCRUDErrors: function(rowNum,txt,mode) { \t\t',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar ePH =  this._globalErrorPlaceHolder;',
'\t\tif(typeof ePH == \'undefined\') ePH = \'\';',
'\t\tvar flagPH = $(ePH);',
'\t\tif(typeof mode == \'undefined\') mode = \'\';',
'\t\tvar txtRaw = txt;',
'\t\tif(mode != \'\' && ePH != \'\' && flagPH) {',
'\t\t\tvar customMessage = this.customization.dv.databaseError[mode];',
'\t\t\tcustomMessage = customMessage.split(\'|\');',
'\t\t\ttxt = \'<div onclick="window[\\\'\'+this._hostComponentId + \'_DlgObj\\\'].getControl(\\\'\'+this.listVariableName+\'\\\')._showError(\\\'\'+this.listVariableName +\'.GLOBALERROR\\\',\\\'\'+customMessage[1]+\'\\\',\\\'\'+customMessage[2]+\'\\\');">\' + customMessage[0] + \'&nbsp;<a id="\'+this._hostComponentId+\'.\'+this.listVariableName + \'.GLOBALERROR.LINK" class="iOS7Link" style="cursor: pointer;color:red; font-size: 8pt;" href=\\\'#\\\'>\'+customMessage[1]+\'</a>\' + \'<div id="\'+this.listVariableName+\'.GLOBALERROR" style="display: none; font-size: 8pt;">\'+txt+\'</div></div>\';',
'\t\t}',
'\t\tif(rowNum.constructor == Array) { ',
'\t\t\tthis.setServerSideError(true,rowNum,txt,\'ge\',txtRaw);',
'\t\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar _d = this._getRowData(rowNum);',
'\t\t_d._globalErrors = txt;',
'\t\t_d._globalErrorsRaw = txtRaw;',
'\t\t_d._hasServerSideError = false;',
'\t\t_d._serverSideErrors = false;',
'\t\tthis.updateRow(rowNum,_d);',
'\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t}',
'\t,',
'\tgetAllErrors: function() { \t\tvar lObj = this;',
'\t\tvar data = lObj._data;',
'\t\tvar r = A5.u.object.each(data,function(name,value,path,result){',
'\t\t\tpath = path.splice(0,path.length -1);',
'\t\t\tvar _dr = data;',
'\t\t\tfor(var i = 0; i < path.length; i++) { ',
'\t\t\t\tvar _dr = _dr[path[i]];',
'\t\t\t}',
'\t\t\tif(name == \'_hasServerSideError\') { ',
'\t\t\t\tif(value) { ',
'\t\t\t\t\tresult.push({errorType: \'serverSide\', path:path, error: _dr[\'_serverSideErrors\']});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(name == \'_hasWriteConflictErrors\') { ',
'\t\t\t\tif(value) { ',
'\t\t\t\t\tvar _wc = _dr[\'_writeConflictErrors\'];',
'\t\t\t\t\tvar _wc2 = [];',
'\t\t\t\t\t$u.o.assign(_wc2,_wc);',
'\t\t\t\t\tfor(var i = 0; i < _wc2.length; i++) {',
'\t\t\t\t\t\tdelete _wc2[i].errorText;',
'\t\t\t\t\t}',
'\t\t\t\t\tresult.push({errorType: \'writeConflict\', path: path, error: _wc2});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(name == \'_hasGlobalErrors\') { ',
'\t\t\t\tif(value) { ',
'\t\t\t\t\tresult.push({errorType: \'globalError\', path: path, error: _dr[\'_globalErrorsRaw\']});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t})',
'\t\treturn r;',
'\t}',
'\t,',
'\t_setWriteConflictErrors: function(rowNum,eArr) {\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tif(rowNum.constructor == Array) { ',
'\t\t\tthis.setServerSideError(true,rowNum,eArr,\'wc\');',
'\t\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t\t\treturn true;',
'\t\t}',
'\t\trowNum = this._logicalRow2PhysicalRow(rowNum);',
'\t\tvar _d = this._getRowData(rowNum);',
'\t\t_d._writeConflictErrors = eArr;',
'\t\t_d._hasWriteConflictErrors = true;',
'\t\t_d._hasServerSideError = false;',
'\t\t_d._serverSideErrors = false;',
'\t\tthis.updateRow(rowNum,_d);',
'\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t}',
'\t,',
'\t_setGenericByChild: function(rn,mode) { \t',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') { ',
'\t\t\tif(parentListName != \'\') {',
'\t\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentListName);',
'\t\t\t\tvar existingData = plObj._getDataFromRoute(rn);',
'\t\t\t\tif(mode == \'sse\') {',
'\t\t\t\t\texistingData._flagServerSideErrorInChild = true;',
'\t\t\t\t\texistingData._isDirty = true;',
'\t\t\t\t} else if (mode == \'wc\') { ',
'\t\t\t\t\texistingData._flagWriteConflictErrorInChild = true;',
'\t\t\t\t\texistingData._isDirty = true;',
'\t\t\t\t} else if (mode == \'ge\') {',
'\t\t\t\t\texistingData._flagGlobalErrorInChild = true;',
'\t\t\t\t\texistingData._isDirty = true;',
'\t\t\t\t}',
'\t\t\t\tvar _row = rn[rn.length -1];',
'\t\t\t\t_row = plObj._logicalRow2PhysicalRow(_row);',
'\t\t\t\tif(plObj._isRowInRouteVisible(rn)) plObj.updateRow(_row,existingData);',
'\t\t\t\trn.pop();',
'\t\t\t\trn.pop();',
'\t\t\t\tplObj._setGenericByChild(rn,mode)',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\tsetServerSideError: function(flag) { \t\t',
'\t\tvar rn = typeof arguments[1] != \'undefined\' ? arguments[1] : -1;',
'\t\tvar flagRouteArray = false;',
'\t\tif(rn.constructor == Array) { ',
'\t\t\tflagRouteArray = true;',
'\t\t}',
'\t\tvar errObj =  typeof arguments[2] != \'undefined\' ? arguments[2] : {};',
'\t\tif(flag == false) {',
'\t\t\terrObj = false;',
'\t\t}',
'\t\tvar mode = typeof arguments[3] != \'undefined\' ? arguments[3] : \'sse\' ',
'\t\tvar txtRaw = typeof arguments[4] != \'undefined\' ? arguments[4] : \'\';',
'\t\tvar _row = \'\';',
'\t\tif(flagRouteArray) { ',
'\t\t\tvar existingData = this._getDataFromRoute(rn);',
'\t\t\tvar _row = rn[rn.length -1];',
'\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t} else { ',
'\t\t\tvar existingData = this.getData(this.selection[0]);',
'\t\t\tif(rn > -1) {',
'\t\t\t\t_row = rn;',
'\t\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t\t} else _row = existingData[\'*key\'];',
'\t\t\tvar existingData = this.getData(_row);',
'\t\t}',
'\t\tif(mode == \'sse\') {',
'\t\t\texistingData._hasServerSideError = flag;',
'\t\t\texistingData._serverSideErrors = errObj;',
'\t\t\texistingData._globalErrors = false;',
'\t\t\texistingData._globalErrorsRaw = \'\'',
'\t\t\texistingData._hasGlobalErrors = false;',
'\t\t\texistingData._hasWriteConflictErrors = false;',
'\t\t\texistingData._writeConflictErrors = false;',
'\t\t} else if (mode == \'wc\') { ',
'\t\t\texistingData._hasWriteConflictErrors = flag;',
'\t\t\texistingData._writeConflictErrors = errObj;',
'\t\t\texistingData._hasServerSideError = false;',
'\t\t\texistingData._serverSideErrors = false;',
'\t\t} else if (mode == \'ge\') { ',
'\t\t\texistingData._globalErrors = errObj;',
'\t\t\texistingData._globalErrorsRaw = txtRaw;',
'\t\t\texistingData._hasGlobalErrors = flag;',
'\t\t\texistingData._hasServerSideError = false;',
'\t\t\texistingData._serverSideErrors = false;',
'\t\t}',
'\t\tif(flagRouteArray) {',
'\t\t\tif(this._isRowInRouteVisible(rn)) this.updateRow(_row,existingData);',
'\t\t\tif(this._setGenericByChild) {',
'\t\t\t\trn.pop();',
'\t\t\t\trn.pop();',
'\t\t\t\tthis._setGenericByChild(rn,mode);',
'\t\t\t}',
'\t\t} else {',
'\t\t\tthis.updateRow(_row,existingData);',
'\t\t}',
'\t}',
'\t,',
'\t_showWCErrorMore: function(varName,eleIn,infoIn) { \t\tvar info = {};',
'\t\tif(typeof infoIn != \'undefined\') { ',
'\t\t\tinfo = infoIn;',
'\t\t}',
'\t\tif(typeof eleIn == \'undefined\') eleIn = false;',
'\t\tvar row = this.selection[0];',
'\t\tthis._wceVarname = varName;',
'\t\tvar myValue = window[this._hostComponentId + \'_DlgObj\'].getValue(varName);',
'\t\tvar _d = this._getRowData(row)',
'\t\tvar wce = _d._writeConflictErrors;',
'\t\tvar wcCount = wce.length;',
'\t\tvar indx = \'\';',
'\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',varName);',
'\t\tif(indx == -1) return false ',
'\t\twce = wce[indx];',
'\t\tvar mTheirs = this.customization.dv.writeConflict.useTheirsMessage;',
'\t\tvar mMine   = this.customization.dv.writeConflict.useMineMessage;',
'\t\tvar mTheirsAll = this.customization.dv.writeConflict.useTheirsAll;',
'\t\tvar mMineAll   = this.customization.dv.writeConflict.useMineAll;',
'\t\tmTheirs = mTheirs.replace(\'{theirvalue}\',this._stripHTML(wce.oldValueCurrent,30));',
'\t\tmMine = mMine.replace(\'{myvalue}\',this._stripHTML(myValue,30));',
'\t\tvar ctxt = this;\t\t\t\t',
'\t\tvar mD = [];',
'\t\tmD.push({html: mMine, value: \'mine\'});',
'\t\tmD.push({html: mTheirs, value: \'theirs\'});',
'\t\tif(wcCount > 1) {',
'\t\t\tmD.push(\'-\');',
'\t\t\tmD.push({html: mMineAll , value: \'mineAll\'});',
'\t\t\tmD.push({html: mTheirsAll, value: \'theirsAll\' });',
'\t\t}',
'\t\tvar mS = {',
'\t\t\ttheme: \'iOS7\',',
'\t\t\t_hostComponentId : this._hostComponentId,',
'\t\t\tlistVariableName: this.listVariableName,',
'\t\t\ticonColumn: {show: false},',
'\t\t\tpointer: {show: true,location: \'auto\'},',
'\t\t\tanimation: {show: {type: \'css-slide\',duration: \'fast\'}, hide: {type: \'none\',duration: \'fast\'}},',
'\t\t\tonHide: function() {  $(this._eleWCM).style.visibility = \'\';},',
'\t\t\tonClick: function(item) { ',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.listVariableName);',
'\t\t\t\tif(item.value == \'mine\') lObj._useMine(this._varName);',
'\t\t\t\tif(item.value == \'mineAll\') lObj._useMineAll(); ',
'\t\t\t\tif(item.value == \'theirs\') lObj._useTheirs(this._varName);',
'\t\t\t\tif(item.value == \'theirsAll\') lObj._useTheirsAll(); ',
'\t\t\t}',
'\t\t};',
'\t\tvar eleWCM = this._hostComponentId +\'.WCM.\'+this.listVariableName+ \'.\' +  varName.toUpperCase();',
'\t\t$(eleWCM).style.visibility = \'hidden\';',
'\t\tif(typeof this._menu == \'undefined\') {',
'\t\t\tthis._menu = new A5.Menu(mD,mS);',
'\t\t} else {',
'\t\t\tthis._menu.populate(mD);',
'\t\t}',
'\t\tthis._menu._varName = varName;',
'\t\tthis._menu._eleWCM = eleWCM;',
'\t\tvar ele = \'\';',
'\t\tif(eleIn == false) {',
'\t\t\tele = window[this._hostComponentId + \'_DlgObj\'].getPointer(varName);',
'\t\t} else { ',
'\t\t\tele = eleIn;',
'\t\t}',
'\t\tthis._menu.show(\'dropdown\',ele);  ',
'\t}',
'\t,',
'\t_useMine: function(varName) { \t\tthis.resolveConflictUsingMine(varName);',
'\t}',
'\t,',
'\t_useTheirs: function(varName) { \t\tthis.resolveConflictUsingTheirs(varName);',
'\t}',
'\t,',
'\t_useMineAll: function() { \t\tthis.resolveConflictUsingMine();',
'\t}',
'\t,',
'\t_useTheirsAll: function() { \t\tthis.resolveConflictUsingTheirs();',
'\t}',
'\t,',
'\tresolveConflictUsingMine: function() { \t\t',
'\t\tvar control = typeof arguments[0] != \'undefined\' ? arguments[0] : \'__all__\';',
'\t\tvar row = this.selection[0];',
'\t\tvar _d = this._getRowData(row)',
'\t\tvar wce = _d._writeConflictErrors;',
'\t\tif(typeof wce == \'undefined\') return false;',
'\t\tvar arr = [];',
'\t\tif(control == \'__all__\') arr = this._getControlsInDv();',
'\t\telse arr.push(control);',
'\t\tvar myValue = \'\';',
'\t\tvar indx = \'\';',
'\t\tvar fn = \'\';',
'\t\tvar ix2 = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tmyValue = window[this._hostComponentId + \'_DlgObj\'].getValue(arr[i]);',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\tif(indx >0 -1) {',
'\t\t\t\tix2 = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\t\tif(ix2 == -1) return false ',
'\t\t\t\tfn = this._getListFieldFromControl(arr[i]);',
'\t\t\t\t_d._oldData[fn] = wce[ix2].oldValueCurrent;',
'\t\t\t\twce.splice(indx,1);',
'\t\t\t}',
'\t\t}',
'\t\tif(wce.length == 0) {',
'\t\t\t_d._writeConflictErrors = false;',
'\t\t\t_d._hasWriteConflictErrors = false;',
'\t\t\tthis.updateRow(row,_d);',
'\t\t};',
'\t\tif(_d._hasWriteConflictErrors == false) { ',
'\t\t\tvar parentList = this.parentList;',
'\t\t\tif(typeof parentList != \'undefined\') {',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\t\t\tlObj._setChildHasWriteConflictFlag();',
'\t\t\t}',
'\t\t}',
'\t\tthis._clearServerSideErrors();',
'\t\tthis._showWriteConflictErrors();',
'\t}',
'\t,',
'\tresolveConflictUsingTheirs: function() { \t\t',
'\t\tvar control = typeof arguments[0] != \'undefined\' ? arguments[0] : \'__all__\';',
'\t\tvar row = this.selection[0];',
'\t\tvar _d = this._getRowData(row)',
'\t\tvar wce = _d._writeConflictErrors;',
'\t\tif(typeof wce == \'undefined\') return false;',
'\t\tvar arr = [];',
'\t\tif(control == \'__all__\') {',
'\t\t\tarr = this._getControlsInDv();',
'\t\t} else { ',
'\t\t\tif(control.constructor == Array) { ',
'\t\t\t\tarr = control;',
'\t\t\t} else { ',
'\t\t\t\tarr.push(control);',
'\t\t\t}',
'\t\t}',
'\t\tvar myValue = \'\';',
'\t\tvar indx = \'\';',
'\t\tvar fn = \'\';',
'\t\tvar ix2 = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tmyValue = window[this._hostComponentId + \'_DlgObj\'].getValue(arr[i]);',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\tif(indx >0 -1) {',
'\t\t\t\tix2 = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\t\tif(ix2 == -1) return false ',
'\t\t\t\tfn = this._getListFieldFromControl(arr[i]);',
'\t\t\t\t_d[fn] = wce[ix2].oldValueCurrent;',
'\t\t\t\t_d._oldData[fn] = wce[ix2].oldValueCurrent;',
'\t\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setValue(arr[i], wce[ix2].oldValueCurrent,false);',
'\t\t\t\twce.splice(indx,1);',
'\t\t\t}',
'\t\t}',
'\t\tif(wce.length == 0) {',
'\t\t\t_d._writeConflictErrors = false;',
'\t\t\t_d._hasWriteConflictErrors = false;',
'\t\t};',
'\t\tvar allArr = this._getControlsInDv();',
'\t\t_d._isDirty = false;',
'\t\tvar tempData = \'\';',
'\t\tfor(var i = 0; i < allArr.length; i++) {',
'\t\t\tfn = this._getListFieldFromControl(allArr[i]);',
'\t\t\ttempData = _d._oldData[fn];',
'\t\t\tif(tempData == null) tempData = \'\';',
'\t\t\tif( _d[fn] != tempData ) {',
'\t\t\t\t_d._isDirty = true;',
'\t\t\t\tbreak;',
'\t\t\t}',
'\t\t}',
'\t\tthis.updateRow(row,_d);',
'\t\tthis._clearServerSideErrors();',
'\t\tthis._showWriteConflictErrors();\t',
'\t\tif(_d._hasWriteConflictErrors == false) { ',
'\t\t\tvar parentList = this.parentList;',
'\t\t\tif(typeof parentList != \'undefined\') {',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\t\t\tlObj._setChildHasWriteConflictFlag(); ',
'\t\t\t}',
'\t\t}',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t}',
'\t,',
'\t_stripHTML: function(txt,length) { \t\tvar ele = document.createElement(\'div\');',
'\t\tele.innerHTML = txt;',
'\t\tvar txt2 = ele.textContent;',
'\t\tvar txt3 = txt2.substr(0,length);',
'\t\tif(txt3.length < txt2.length) txt3 = txt3 + \'...\';',
'\t\tdelete ele;\t\t',
'\t\treturn txt2;',
'\t}',
'\t,',
'\t_showWriteConflictErrors: function(row) { \t\tvar _d = this._getRowData(row);',
'\t\tif(typeof _d == \'undefined\') return false; ',
'\t\tif(typeof _d._writeConflictErrors == \'undefined\') return false;',
'\t\tif(typeof _d._hasWriteConflictErrors == \'undefined\') return false;',
'\t\tif(_d._hasWriteConflictErrors == false) return false;',
'\t\t_e = _d._writeConflictErrors',
'\t\tvar arr = [];',
'\t\tfor(var i = 0; i < _e.length; i++) {',
'\t\t\tdelete obj;',
'\t\t\tvar obj = {};',
'\t\t\tobj.id =  this._hostComponentId +  \'.V.R1.\' + _e[i].varName.toUpperCase();',
'\t\t\tobj.message = _e[i].errorText;',
'\t\t\tarr.push(obj);',
'\t\t}',
'\t\tvar arrFix = [];',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif($(arr[i].id)) arrFix.push(arr[i]);',
'\t\t}',
'\t\tif(arrFix.length > 0) window[this._hostComponentId + \'_DlgObj\'].setErrors(arr);;',
'\t}',
'\t,',
'\t_showServerSideErrors: function(row) { \t\tvar _d = this._getRowData();',
'\t\tif(typeof _d == \'undefined\') return false; ',
'\t\tif(typeof _d._globalErrors != \'undefined\') {',
'\t\t\tif(_d._globalErrors != \'\') {',
'\t\t\t\tthis._showGlobalError(_d._globalErrors);',
'\t\t\t}',
'\t\t}',
'\t\tif(typeof _d._serverSideErrors == \'undefined\') return false;',
'\t\tif(typeof _d._hasServerSideError == \'undefined\') return false;',
'\t\tif(_d._hasServerSideError == false) return false;',
'\t\t_e = _d._serverSideErrors;',
'\t\tvar arr = [];',
'\t\tfor(var i = 0; i < _e.length; i++) {',
'\t\t\tdelete obj;',
'\t\t\tvar obj = {};',
'\t\t\tif(typeof _e[i].varName != \'undefined\') { ',
'\t\t\t\tobj.id = this._hostComponentId + \'.V.R1.\' + _e[i].varName.toUpperCase();',
'\t\t\t\tobj.message = _e[i].errorText;',
'\t\t\t\tobj.errorType = \'serverside\';',
'\t\t\t\tarr.push(obj);',
'\t\t\t}',
'\t\t}',
'\t\tvar arrFix = [];',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif($(arr[i].id)) arrFix.push(arr[i]);',
'\t\t}',
'\t\tif(arrFix.length > 0) window[this._hostComponentId + \'_DlgObj\'].setErrors(arr);;',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t}',
'\t,',
'\t_clearServerSideErrors: function() {\t\tvar ea = window[this._hostComponentId + \'_DlgObj\']._eh._e;',
'\t\tif(typeof ea == \'undefined\') return false;',
'\t\tvar arr = this._getControlsInDv();',
'\t\tvar fa = [];',
'\t\tvar id = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tid = this._hostComponentId + \'.V.R1.\' + arr[i].toUpperCase()',
'\t\t\tif(window[this._hostComponentId + \'_DlgObj\']._findArrayProp(ea,\'id\',id) >= 0) fa.push(id);',
'\t\t}',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].clearErrors(fa);',
'\t\tthis._clearGlobalError();',
'\t}',
'\t,',
'\t_hasClientSideError: function() { \t\tvar ea = window[this._hostComponentId + \'_DlgObj\']._eh._e;',
'\t\tif(typeof ea == \'undefined\') return false;',
'\t\tvar arr = this._getControlsInDv();',
'\t\tvar indx = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tid = this._hostComponentId + \'.V.R1.\' + arr[i].toUpperCase()',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(ea,\'id\',id);',
'\t\t\tif(indx >= 0) {',
'\t\t\t\tif( ea[indx].clientSide == true) {',
'\t\t\t\t\treturn true;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_getRowData: function() { \t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tif(rn > -1) return this.getData(rn);',
'\t\telse return this.getData(this.selection[0]);',
'\t}',
'\t,',
'\tsetListClean: function() {\t\tfor(var i = 0; i < this._data.length; i++) { ',
'\t\t\tthis.setRowClean(i);',
'\t\t}',
'\t}',
'\t,',
'\tdeleteRow: function() { \t\t',
'\t\tvar _rn = this.selection[0];',
'\t\tif(typeof _rn == \'undefined\') return false;',
'\t\tif(this._executeEvent(\'detailView.canDeleteRow\',{}) == false) return false;',
'\t\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\t\tvar flagPrompt = typeof ops.prompt != \'undefined\' ? ops.prompt : true;',
'\t\tif(!flagPrompt) {',
'\t\t\tthis._deleteRowLow();',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar classInst = this;',
'\t\tif(typeof this.customization == \'undefined\') return false;',
'\t\tvar msg = this.customization.dv.confirmDeleteWarning.message;',
'\t\tvar image = this.customization.dv.confirmDeleteWarning.icon;',
'\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\tvar title = this.customization.dv.confirmDeleteWarning.title;',
'\t\tA5.msgBox.show(title,msg,\'yn\',function(button) {',
'\t\t\tif(button == \'yes\'){',
'\t\t\t\tclassInst._deleteRowLow();    ',
'\t\t    } else if(button == \'no\'){',
'   \t\t\t}',
'   \t\t\tdelete classInst;',
'\t\t} );',
'\t}',
'\t,',
'\tresetRow: function() { \t\tif(this._executeEvent(\'detailView.canResetRow\',{}) == false) return false;',
'\t\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\t\tvar flagPrompt = typeof ops.prompt != \'undefined\' ? ops.prompt : true;',
'\t\tif(!flagPrompt) {',
'\t\t\tthis._resetRowLow();',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar classInst = this;',
'\t\tvar msg = this.customization.dv.confirmRowResetWarning.message;',
'\t\tvar image = this.customization.dv.confirmRowResetWarning.icon;',
'\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\tvar title = this.customization.dv.confirmRowResetWarning.title;',
'\t\tA5.msgBox.show(title,msg,\'yn\',function(button) {',
'\t\t\tif(button == \'yes\'){',
'\t\t\t\tclassInst._resetRowLow();    ',
'\t\t    } else if(button == \'no\'){',
'   \t\t\t}',
'   \t\t\tdelete classInst;',
'\t\t} );',
'\t}',
'\t,',
'\t_resetRowLow: function() { \t\tvar existingData = this.getData(this.selection[0]);',
'\t\tif(typeof existingData == \'undefined\') return false;',
'\t\tif(typeof existingData._oldData == \'undefined\') return false;',
'\t\tvar data = {};',
'\t\t$u.o.assign(data,existingData._oldData);',
'\t\tdata._isDirty = false;',
'\t\tdata._isDeleted = false;',
'\t\tdata._hasServerSideError = false;',
'\t\tdata._serverSideErrors = false;',
'\t\tdata._hasWriteConflictErrors = false;',
'\t\tdata._writeConflictErrors = false;',
'\t\tdata._oldData = false;',
'\t\tdelete data._globalErrors;',
'\t\tdelete data._globalErrorsRaw;',
'\t\tthis.updateRow(this.selection[0],data);',
'\t\tvar existingData = this.getData(this.selection[0]);',
'\t\tdelete existingData._globalErrors;',
'\t\tdelete existingData._globalErrorsRaw;',
'\t\tthis.updateRow(this.selection[0],existingData);',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t\tthis.populateUXControls();',
'\t\tthis._refreshDebugInfo();',
'\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\tif(typeof topParent != \'undefined\') { ',
'\t\t\tvar lObjTP = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\t\tvar _r = lObjTP._getRoute();',
'\t\t\tvar _ra = this.__routeToArray(_r)',
'\t\t\tthis.setRowCleanPreserveState(_ra);',
'\t\t}',
'\t\tthis._executeEvent(\'detailView.afterResetRow\',{});',
'\t}',
'\t,',
'\t__routeToArray: function(_r) { \t\tvar arr = [];',
'\t\tfor(var i = 0; i < _r.length; i++) { ',
'\t\t\tif(i==0) {',
'\t\t\t\tarr.push(_r[i].row);',
'\t\t\t} else { ',
'\t\t\t\tarr.push(\'__LIST__\' +_r[i].list);',
'\t\t\t\tarr.push(_r[i].row);',
'\t\t\t}',
'\t\t}',
'\t\treturn arr; ',
'\t}',
',',
'\t_arrayIsDirty: function(arr) { \t\tvar flag = false;',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif(arr[i]._isDirty) { ',
'\t\t\t\treturn true;',
'\t\t\t}',
'\t\t}',
'\t\treturn false;',
'\t}',
',',
'\t_deleteRowLow: function() { \t\t',
'\t\tvar data = this.getData(this.selection[0]);',
'\t\tif(typeof data == \'undefined\') return false;',
'\t\tvar flagNewRow = \'\';',
'\t\tif(typeof data._isNewRow != \'undefined\') flagNewRow = data._isNewRow;',
'\t\tif(flagNewRow) { ',
'\t\t\tvar _rn = this.selection[0];',
'\t\t\tvar _newRow = _rn;',
'\t\t\tif( (_newRow +1) > (this._dataMap.length-1) ) _newRow = _newRow -1;',
'\t\t\tthis.nullOutDetailViewRecord();',
'\t\t\tthis.removeRows([_rn]);',
'\t\t\tvar flagListIsClean = !this._arrayIsDirty(this._data);',
'\t\t\tdata._isDeleted = true;',
'\t\t\tvar parentListName = this.parentList;',
'\t\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\t\tvar flagIsNewRow = false;',
'\t\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\t\tvar parentData = plObj.getData(plObj.selection[0]);',
'\t\t\t\tvar parentData2 = parentData;',
'\t\t\t\tvar parentDataSublist = parentData[\'__LIST__\' + this.listVariableName];',
'\t\t\t\tvar indx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(parentDataSublist,\'*key\',data[\'*key\']);',
'\t\t\t\tparentDataSublist.splice(indx,1);',
'\t\t\t\tvar flagLoop = true;',
'\t\t\t\tvar parentList = plObj;',
'\t\t\t\twhile(flagLoop && flagListIsClean) { ',
'\t\t\t\t\tif( (typeof parentData[\'_oldData\'] == \'undefined\' || !parentData[\'_oldData\']) && (typeof parentData._isNewRecord != \'undefined\' || !parentData._isRewRecord)    ) {',
'\t\t\t\t\t\tparentData._isDirty = false;',
'\t\t\t\t\t\tparentData._flagGlobalErrorInChild = false;',
'\t\t\t\t\t\tif(typeof parentList.parentList == \'undefined\') break;',
'\t\t\t\t\t\tparentList = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList.parentList);',
'\t\t\t\t\t\tif(parentList) { ',
'\t\t\t\t\t\t\tparentData = parentList.getData(parentList.selection[0]);',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tbreak;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\t\t\tvar lTop = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\t\t\tvar topParentData = lTop.getData(lTop.selection[0]);',
'\t\t\t\tlTop._resetFlags(topParentData);',
'\t\t\t\tlTop._refreshListRecursive();',
'\t\t\t}',
'\t\t\tthis.setValue(_newRow);',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\t_dlgObj.persistVariablesToLocalStorage();',
'\t\t\tthis._executeEvent(\'detailView.afterDeleteRow\',{})',
'\t\t\treturn false;',
'\t\t}',
'\t\tdata._isDirty = true;',
'\t\tdata._hasServerSideError = false;',
'\t\tdata._serverSideErrors = false;',
'\t\tdata._hasWriteConflictErrors = false;',
'\t\tdata._writeConflictErrors = false;',
'\t\tdata._oldData = false;',
'\t\tdata._isDeleted = true;',
'\t\tdata = this._base64Prefix(data,true);',
'\t\tthis.updateRow(this.selection[0],data);',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t\tthis.populateUXControls();',
'\t\tthis._refreshDebugInfo();',
'\t\tthis._executeEvent(\'detailView.afterDeleteRow\',{});',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\tvar flagIsNewRow = false;',
'\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\tif(plObj._setDirtyByChild) {',
'\t\t\t\tplObj._setDirtyByChild(false);',
'\t\t\t}',
'\t\t}',
'\t\tif(this.synchronizeImmediately) { ',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\tvar flagOnLine = _dlgObj._getOnlineStatus();',
'\t\t\tif (flagOnLine) _dlgObj.saveListEdits(this.listVariableName);',
'\t\t}',
'\t}',
'\t,',
'\t_base64Prefix: function(_d,flagRemove) { \t\tvar n = \'\';',
'\t\tvar b64prefix = \'\'',
'\t\tfor(var i = 0; i < this._listFields.length; i++) {',
'\t\t\tif(typeof this._listFields[i].base64Prefix !== \'undefined\') { ',
'\t\t\t\tn = this._listFields[i].name;',
'\t\t\t\tb64prefix = this._listFields[i].base64Prefix;',
'\t\t\t\t_d[n] = _d[n].replace(b64prefix,\'\');',
'\t\t\t\tif(!flagRemove) _d[n] = b64prefix + _d[n];',
'\t\t\t}',
'\t\t}',
'\t\treturn _d;',
'\t}',
'\t,',
'\t_resetFlags: function(_d) { \t',
'\tvar r = A5.u.object.each(_d,function(name,value,path,result) {',
'\t\tif(name == \'_isDirty\'|| name == \'_isNewRow\' ){',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_isDirty\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_isDirty\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(name == \'_hasServerSideError\' || name == \'_flagServerSideErrorInChild\' ) { ',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_flagServerSideErrorInChild\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_flagServerSideErrorInChild\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(name == \'_hasGlobalErrors\' || name == \'_flagGlobalErrorInChild\' ) { ',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_flagGlobalErrorInChild\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_flagGlobalErrorInChild\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(name == \'_hasWriteConflictErrors\' || name == \'_flagWriteConflictErrorInChild\' ) { ',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_flagWriteConflictErrorInChild\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_flagWriteConflictErrorInChild\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t});',
'\tvar _d2 = \'\';',
'\tvar path = \'\';',
'\tvar property = \'\';',
'\tfor(var i = 0; i < r.length; i++) { ',
' \t\t _d2 = _d',
' \t\tpath = JSON.parse(r[i].path)',
' \t\tproperty = r[i].property',
' \t\tfor(var j = 0; j < path.length; j++) { ',
' \t\t\t_d2 = _d2[path[j]];',
' \t\t}',
' \t\t_d2[property] = true;',
'\t}',
'}',
',',
'\tresetForm: function() { \t\tif(this._executeEvent(\'detailView.canUndoEdits\',{}) == false) return false;',
'\t\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\t\tvar flagPrompt = typeof ops.prompt != \'undefined\' ? ops.prompt : true;',
'\t\tif(!flagPrompt) {',
'\t\t\tthis._resetFormLow();',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar classInst = this;',
'\t\tvar msg = this.customization.dv.confirmFormResetWarning.message;',
'\t\tvar image = this.customization.dv.confirmFormResetWarning.icon;',
'\t\tvar title = this.customization.dv.confirmFormResetWarning.title;',
'\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\tA5.msgBox.show(title,msg,\'yn\',function(button) {',
'\t\t\tif(button == \'yes\'){',
'\t\t\t\tclassInst._resetFormLow();    ',
'\t\t    } else if(button == \'no\'){',
'   \t\t\t}',
'   \t\t\tdelete classInst;',
'\t\t} );',
'\t}',
'\t,',
'\t_resetFormLow: function() {\t\tthis.populateUXControls();',
'\t\tvar ctrls = this._getControlsInDv();',
'\t\tvar eleId = \'\';',
'\t\tvar arr = [];',
'\t\tvar indx = -1;',
'\t\tfor(var i = 0; i < ctrls.length; i++) {',
'\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setControlDirty(ctrls[i],false);',
'\t\t\tif( window[this._hostComponentId + \'_DlgObj\']._eh._e.length > 0) {',
'\t\t\t\teleId = this._hostComponentId +  \'.V.R1.\' + ctrls[i].toUpperCase();',
'\t\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(window[this._hostComponentId + \'_DlgObj\']._eh._e,\'id\',eleId);',
'\t\t\t\tif(indx >= 0 ) arr.push(eleId);',
'\t\t\t}',
'\t\t}',
'\t\tif(arr.length > 0) window[this._hostComponentId + \'_DlgObj\'].clearErrors(arr);',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj.refreshClientSideComputations();',
'\t\tthis._executeEvent(\'detailView.afterUndoEdits\',{});',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj.persistVariablesToLocalStorage();',
'\t}',
'\t,',
'\tdetailViewIsDirty: function() {\t\t',
'\t\tvar flagDrillDown = typeof arguments[0] != \'undefined\' ? arguments[0] : false;',
'\t\tvar isDirty = false;',
'\t\tthis._nameOfListWithDirtyDetailView = \'\';',
'\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\tif(window[this._hostComponentId + \'_DlgObj\'].getControlDirty(controlName.toUpperCase())) {',
'\t\t\t\tisDirty =  true;',
'\t\t\t\tthis._nameOfListWithDirtyDetailView = this.listVariableName;',
'\t\t\t\tbreak;',
'\t\t\t}',
'\t\t}',
'\t\tthis._dvIsDirty = isDirty;',
'\t\tif(isDirty == false && flagDrillDown) {',
'\t\t\tvar lObj = \'\';',
'\t\t\tfor(var i = 0; i < this.childLists.length; i++) {',
'\t\t\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\t\t\tif(lObj) {',
'\t\t\t\t\tisDirty = lObj.detailViewIsDirty(flagDrillDown);',
'\t\t\t\t\tif(isDirty) {',
'\t\t\t\t\t\tthis._nameOfListWithDirtyDetailView = lObj._nameOfListWithDirtyDetailView;',
'\t\t\t\t\t\t$(\'msg1\').innerHTML = this._nameOfListWithDirtyDetailView ;',
'\t\t\t\t\t}',
'\t\t\t\t\tif(isDirty) break;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\treturn isDirty;',
'\t}',
'\t,',
'\tlistIsDirty: function() {\t\t',
'\t\tfor(var i = 0; i < this._data.length; i++) { ',
'\t\t\tif(typeof this._data[i]._isDirty != \'undefined\') { ',
'\t\t\t\tif(this._data[i]._isDirty) { ',
'\t\t\t\t\treturn true;',
'\t\t\t\t }',
'\t\t\t}',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_parentListHasActiveRow: function() {\t\tvar pl = this.parentList;',
'\t\tif(typeof pl == \'undefined\') {',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar l = window[this._hostComponentId + \'_DlgObj\'].getControl(pl);',
'\t\tvar s = l.selection[0];',
'\t\tif(typeof s == \'undefined\') return false;',
'\t\treturn true;',
'\t}',
'\t,',
'\tnullOutDetailViewRecord: function() {\t\tvar flagDisable = typeof arguments[0] != \'undefined\' ? arguments[0] : false;',
'\t\tvar val = \'\';',
'\t\tvar flagParentListHasActiveRow = this._parentListHasActiveRow();',
'\t\tif(flagDisable) {',
'\t\t\tif(flagParentListHasActiveRow) flagDisable = false;',
'\t\t}',
'\t\tvar debugMsg = \'CurrentList: \' + this.listVariableName + \' - flagDisable is set to: \' + flagDisable + \' my parentList has active row: \' +  this._parentListHasActiveRow();',
'\t\tvar controlName = \'\';',
'\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setValue(controlName,val,false);',
'\t\t}',
'\t\tthis._deselectAll();',
'\t\tthis._clearServerSideErrors();',
'\t\tif(flagDisable) this.disableDetailView(true);',
'\t\telse this.disableDetailView(false)',
'\t}',
'\t,',
'\tnewDetailViewRecord: function() {\t\tvar flagParentIsDeleted = false;',
'\t\tvar pData = \'\';',
'\t\tif(this.allParentLists.length > 0) { ',
'\t\t\tfor(var i = 0; i < this.allParentLists.length; i++) {',
'\t\t\t\tpObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.allParentLists[i]);',
'\t\t\t\tif(typeof pObj.selection[0] != \'undefined\') {',
'\t\t\t\t\tpData = pObj.getData(pObj.selection[0]);',
'\t\t\t\t\tif(typeof pData._isDeleted != \'undefined\') {',
'\t\t\t\t\t\tif(pData._isDeleted) {',
'\t\t\t\t\t\t\tflagParentIsDeleted = true;',
'\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(this._executeEvent(\'detailView.canNewRecord\',{}) == false) return false;',
'\t\tvar val = \'\';',
'\t\tvar controlName = \'\';',
'\t\tvar defaultJS = \'\';',
'\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\tdefaultJS = this._listFields[i].defaultValue;',
'\t\t\tif(defaultJS != \'\') {',
'\t\t\t\tval = Function(this._listFields[i].defaultValue).call(this);',
'\t\t\t} else { ',
'\t\t\t\tval = \'\';',
'\t\t\t}',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\t_dlgObj.setValue(controlName,val,false);',
'\t\t\tvar controlType = _dlgObj._getControlType(controlName).toLowerCase();',
'\t\t\tif(controlType == \'signaturecapture\') { ',
'\t\t\t\t_dlgObj._functions._toggleCanvas(controlName.toUpperCase(),\'canvas\');',
'\t\t\t\t_dlgObj._functions._clearCanvas(controlName.toUpperCase())',
'\t\t\t}',
'\t\t}',
'\t\tthis._deselectAll();',
'\t\tthis._clearServerSideErrors();',
'\t\tthis._executeEvent(\'detailView.afterNewRecord\',{});',
'\t\tthis._emptyAllChildLists();',
'\t\tif(flagParentIsDeleted) this.disableDetailView(true);',
'\t\telse this.disableDetailView(false);',
'\t\tthis._dvmode = \'enter\';',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.modeChanged\',{mode: \'enter\'});',
'\t\t_dlgObj.refreshClientSideComputations();',
'\t\tthis._selectedRow = -1;',
'\t\tthis._currentDetailViewKey = undefined;',
'\t}',
'\t,',
'\t_emptyAllChildLists: function() { \t\tfor(var i = 0; i < this.childLists.length; i++) {',
'\t\t\tvar lobj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\t\tif(lobj) {',
'\t\t\t\tlobj._emptyList();',
'\t\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setValue(lobj.listVariableName,false);',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\t_emptyChildList: function(row) { \t',
'\t\tvar _d = this.getData(row);',
'\t\tvar lName = \'\';',
'\t\tfor(var name in _d) {',
'\t\t\tif(_d[name] != null) {',
'\t\t\t\tif(_d[name].constructor == Array) {',
'\t\t\t\t\tlName = name.split(\'__LIST__\')[1];',
'\t\t\t\t\tif(typeof lName != \'undefined\') {',
'\t\t\t\t\t\t_d[name] = [];',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\t_getUXDetailViewControlName: function(field) {\t\tif(!this._hasDetailView) {',
'\t\t\treturn \'\';',
'\t\t}',
'\t\tif(this._detailView.method == \'fieldMap\') {',
'\t\t\tfor(var i = 0; i < this._detailView.fieldMap.length; i++) { ',
'\t\t\t\tif(this._detailView.fieldMap[i].field == field) {',
'\t\t\t\t\treturn this._detailView.fieldMap[i].control;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\treturn \'\';',
'\t\t} else { ',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\tvar controlsInContainer = _dlgObj.__controlNesting[this._detailView.container];',
'\t\t\tvar indx = controlsInContainer.indexOf(field);',
'\t\t\tif(indx == -1 ) return \'\'; ',
'\t\t\telse return field;',
'\t\t}',
'\t}',
'\t,',
'\t_showGlobalError: function(txt) {\t\tvar flagShowAlerts = this.flagShowAlerts;',
'\t\tif(typeof flagShowAlerts == \'undefined\') flagShowAlerts = true;',
'\t\tvar gph = this._hostComponentId + \'.V.R1.\' + this._globalErrorPlaceHolder;',
'\t\tvar ele = $(gph);',
'\t\tif(!ele) {',
'\t\t\tif(flagShowAlerts) alert(txt);',
'\t\t\treturn false;',
'\t\t}',
'\t\tvar cssTxt = this._detailViewGlobalErrorStyle;',
'\t\tcssTxt = cssTxt + \'; display: ;\'',
'\t\tele.style.cssText = cssTxt;',
'\t\tele.innerHTML = txt;',
'\t}',
'\t,',
'\t_clearGlobalError: function() {\t\tvar gph = this._hostComponentId + \'.V.R1.\' + this._globalErrorPlaceHolder;',
'\t\tele = $(gph);',
'\t\tif(ele) {',
'\t\t\tele.style.display = \'none\';',
'\t\t\tele.innerHTML = \'\';',
'\t\t}',
'\t}',
'\t,',
'\tupdateTableRow: function(primaryKeyOrRowNumber,dataObj,options) {\t\tif(typeof options == \'undefined\') options = {};',
'\t\tif(typeof options.setFocusToTargetRow == \'undefind\') options.setFocusToTargetRow = false;',
'\t\tvar obj = {};',
'\t\tobj.programmatic = true;',
'\t\tobj.data = {};',
'\t\t$u.o.assign(obj.data,dataObj);',
'\t\tobj.primaryKeyOrRowNumber = primaryKeyOrRowNumber;',
'\t\tobj.setFocusToTargetRow = options.setFocusToTargetRow;',
'\t\twindow[this._hostComponentId + \'_DlgObj\']._updateListDataFromUXControls(this.listVariableName,null,obj);',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\tvar thisData = obj.data;',
'\t\t\tvar flagIsNewRow = false;',
'\t\t\tif(typeof thisData._isNewRow != \'undefined\') flagIsNewRow = thisData._isNewRow;',
'\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\tif(plObj._setDirtyByChild) {',
'\t\t\t\tif (flagIsNewRow == false)  \tplObj._setDirtyByChild(false);',
'\t\t\t\telse plObj._setDirtyByChild(true,thisData,this.listVariableName);',
'\t\t\t}',
'\t\t}\t',
'\t}',
'\t,',
'\taddTableRow: function(dataObj,options) {\t\tvar flagRefresh = false;',
'\t\tif(typeof options == \'undefined\') {',
'\t\t\toptions = {};',
'\t\t}',
'\t\tif(typeof options.setFocusToTargetRow == \'undefind\') options.setFocusToTargetRow = false;',
'\t\tvar obj = {};',
'\t\tobj.programmatic = true;',
'\t\tobj.data = {};',
'\t\t$u.o.assign(obj.data,dataObj);',
'\t\tobj.primaryKeyOrRowNumber = null;',
'\t\tobj.setFocusToTargetRow = options.setFocusToTargetRow;',
'\t\tif(typeof options.insertRow == \'undefined\') options.insertRow = false;\t\t',
'\t\tobj.insertRow = options.insertRow;',
'\t\tobj.insertRowPosition = options.insertPosition;',
'\t\tvar _dlg = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlg._updateListDataFromUXControls(this.listVariableName,null,obj);',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\tvar thisData = obj.data;',
'\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\tif(plObj._setDirtyByChild) {',
'\t\t\t\tplObj._setDirtyByChild(true,thisData,this.listVariableName);',
'\t\t\t}',
'\t\t}',
'\t\t_dlg.refreshClientSideComputations();',
'\t}',
'\t,',
'\t_setChildHasWriteConflictFlag: function() { ',
'\tvar _d = this.getData(this.selection[0]);',
'\tvar flag = this._hasChildWithWriteConflict(); ',
'\t_d._flagWriteConflictErrorInChild = flag;',
'\tif(typeof _d._oldData == \'undefined\') { ',
'\t\tvar flag = this._hasChildWithDirtyData()',
'\t\t_d._isDirty = flag; ',
'\t}',
'\tthis.updateRow(this.selection[0],_d);',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') { ',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\tlObj._setChildHasWriteConflictFlag();',
'\t}',
'\treturn false;',
'}',
',',
'\t_hasChildWithDirtyData: function() {',
'\tvar flag = false;',
'\tvar lObj = \'\';',
'\tvar data = \'\';',
'\tfor (var i = 0; i < this.childLists.length; i++) { ',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\tdata = lObj.getData(lObj.selection[0]);',
'\t\tif(typeof data._isDirty != \'undefined\') {',
'\t\t\tif(data._isDirty) flag = true;',
'\t\t}',
'\t\tif(flag == false) { ',
'\t\t\tvar flag2 = lObj._hasChildWithDirtyData();',
'\t\t\tif(flag2) flag = true;',
'\t\t}',
'\t}',
'\treturn flag;',
'}',
',',
'\t_hasChildWithWriteConflict: function() {',
'\tvar flag = false;',
'\tvar lObj = \'\';',
'\tvar data = \'\';',
'\tfor (var i = 0; i < this.childLists.length; i++) { ',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\tdata = lObj.getData(lObj.selection[0]);',
'\t\tif(typeof data._hasWriteConflictErrors != \'undefined\') {',
'\t\t\tif(data._hasWriteConflictErrors) flag = true;',
'\t\t}',
'\t\tif(typeof data._flagWriteConflictErrorInChild != \'undefined\') {',
'\t\t\tif(data._flagWriteConflictErrorInChild) flag = true;',
'\t\t}',
'\t\tif(flag == false) { ',
'\t\t\tvar flag2 = lObj._hasChildWithWriteConflict();',
'\t\t\tif(flag2) flag = true;',
'\t\t}',
'\t}',
'\treturn flag;',
'}',
',',
'\t_populateMyChildren: function() {',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tthis._populateChildList(lname);',
'\t}',
'}',
',',
'\t_emptyList: function() { ',
'\tthis.populate([]);',
'\tthis._currentDetailViewKey = undefined;',
'\tthis._selectedRow = -1;',
'\tvar e = $(this._hostComponentId + \'.\' + this.listVariableNameTrueCase + \'.RECORDCOUNT\');',
'\tif(e) e.innerHTML = \'0\';',
'\tthis.nullOutDetailViewRecord(true); ',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lobj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tlobj._emptyList();',
'\t}',
'}',
',',
'\t_populateChildList: function(list) {',
'\tvar flagParentIsDeleted = false;',
'\tlChildObj = window[this._hostComponentId + \'_DlgObj\'].getControl(list);',
'\tif(typeof lChildObj._parentIsDeleted != \'undefined\') flagParentIsDeleted = lChildObj._parentIsDeleted;',
'\tvar _d = this.selectionData[0];',
'\tvar flagClearChildLists = false;',
'\tif(typeof _d == \'undefined\') {',
'\t\tflagClearChildLists = true;',
'\t}',
'\tif(typeof _d == \'undefined\') {',
'\t\tflagClearChildLists = true;',
'\t}',
'\tif(flagClearChildLists) { ',
'\t\tthis._emptyAllChildLists()',
'\t\treturn false;',
'\t}',
'\tvar childDataObjectName = this._getChildDataObjectName(list);',
'\tvar _rd = _d[childDataObjectName];',
'\tif(_rd == null) { ',
'\t\t_rd = [];',
'\t}',
'\tif(typeof _rd == \'undefined\' || _rd.length == 0) {',
'\t\t_d[childDataObjectName] = [];',
'\t\t_rd = _d[childDataObjectName]',
'\t}',
'\tvar lobj = window[this._hostComponentId + \'_DlgObj\'].getControl(list);',
'\tif(lobj) {',
'\t\tlobj.populate(_rd);',
'\t\tvar e = $(this._hostComponentId + \'.\' + lobj.listVariableNameTrueCase + \'.RECORDCOUNT\');',
'\t\tif(e) e.innerHTML = _rd.length;',
'\t\tlobj.disableDetailView(false);',
'\t\tif(lobj.allowNullSelection) {',
'\t\t\tif(lobj.nullOutDetailViewRecord) lobj.nullOutDetailViewRecord(true); ',
'\t\t\tfor(var i = 0; i < lobj.childLists.length; i++) { ',
'\t\t\t\tvar lname = lobj.childLists[i];',
'\t\t\t\tlobj._populateChildList(lname);',
'\t\t\t}',
'\t\t}',
'\t}',
'\tthis._currentSelection = this.selection[0];',
'\tif(flagParentIsDeleted) lobj.disableDetailView(true);',
'}',
',',
'\t_setSynchProgress: function(pct) {',
'\tvar x = \'\';',
'\tif(Number(pct) == 0) x = \'none\';',
'\tvar eleO = $(\'SYNCHPROGRESS.\' + this.listVariableName);',
'\tif(eleO) eleO.style.display = \'\';',
'\tvar eleI = $(\'SYNCHPROGRESS.\' + this.listVariableName + \'.SLIDER\');',
'\tif(eleI) {',
'\t\teleI.style.display = x;',
'\t\teleI.style.width = \'\' + pct + \'%\';',
'\t}',
'}',
',',
'\t_hideSynchProgress: function(pct) {',
'\tvar eleO = $(\'SYNCHPROGRESS.\' + this.listVariableName);',
'\tif(eleO) eleO.style.display = \'none\';',
'}',
',',
'\t_cancelBatchSynchronize: function() { ',
'\tvar flag = this._executeEvent(\'detailView.canCancelBatch\',{});',
'\tif(!flag) { ',
'\t\treturn false;',
'\t}',
'\tthis._flagCancelBatchSynchronize = true;',
'}',
',',
'\t_harvestMediaFields_low: function(arr,objListName,objState,data,options) {',
'\tvar _mediaMap = \'\';;',
'\tvar _mediaFields = \'\';',
'\tvar listName = \'\';',
'\tvar lObj = \'\';',
'\tvar flagNested = false;',
'\tvar objDirty = false;',
'\tvar fieldDirty = false;',
'\tvar lName = \'\';',
'\tvar flagCheck = \'\';',
'\tvar flagIsMediaField = false;',
'\tvar mode = options.mode;',
'\tif(typeof mode == \'undefined\') mode = \'\';',
'\tvar flagCapture = false;',
'\tvar flagCapture2 = false;',
'\tvar flagChildTable = false;',
'\tfor(var prop in data) { ',
'\t\tif(prop == \'_dirtyImages\') continue;',
'\t\tif( data[prop] != null && data[prop].constructor == Array) { ',
'\t\t\tif(data[prop].length > 0) { ',
'\t\t\t\tobjListName.push({table: prop, nested: true});',
'\t\t\t\tfor(var i = 0; i < data[prop].length; i++) { ',
'\t\t\t\t\tobjState.push( {table: objListName[  objListName.length -1][\'table\'], row: i}) ;',
'\t\t\t\t\tthis._harvestMediaFields_low(arr,objListName,objState,data[prop][i],options);',
'\t\t\t\t\tobjState.pop();',
'\t\t\t\t}',
'\t\t\t\tobjListName.pop();',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tif(objListName.length == 0) { ',
'\t\t\t\tcontinue;',
'\t\t\t}',
'\t\t\tlistName   = objListName[objListName.length -1][\'table\'];',
'\t\t\tflagNested = objListName[objListName.length -1][\'nested\'];',
'\t\t\tif(listName == \'_top_\') {',
'\t\t\t\tlObj = this;',
'\t\t\t\tflagChildTable = false;',
'\t\t\t} else { ',
'\t\t\t\tlistName = listName.split(\'__LIST__\')[1];',
'\t\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\t\tlObj = _dlgObj.getControl(listName);',
'\t\t\t\tflagChildTable = true;',
'\t\t\t}',
'\t\t\tif(lObj) { ',
'\t\t\t\tflagCheck = true;',
'\t\t\t\t_mediaMap = lObj._mediaFields;  ',
'\t\t\t\tflagIsMediaField = false;',
'\t\t\t\tif(!options.flagDirtyOnly) {',
'\t\t\t\t\tif(_mediaMap.indexOf(prop) > -1) flagIsMediaField = true;',
'\t\t\t\t\tif(flagIsMediaField) { ',
'\t\t\t\t\t\tlName = objListName[objListName.length -1][\'table\'];',
'\t\t\t\t\t\tif(lName == \'_top_\') lName = lObj.listVariableName;',
'\t\t\t\t\t\tflagCapture = false;',
'\t\t\t\t\t\tif(mode == \'\') { ',
'\t\t\t\t\t\t\tif(data[prop] != null && data[prop] != \'\' && data[prop].toLowerCase().indexOf(\'file:\') != 0) flagCapture = true;',
'\t\t\t\t\t\t} else if(mode == \'file\') { ',
'\t\t\t\t\t\t\tif(data[prop] != null && data[prop] != \'\' && data[prop].toLowerCase().indexOf(\'file:\') == 0) flagCapture = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tif(flagCapture) {',
'\t\t\t\t\t\t\tarr.push({',
'\t\t\t\t\t\t\t\tlistFieldName: prop, ',
'\t\t\t\t\t\t\t\tfilename: data[prop], ',
'\t\t\t\t\t\t\t\tlistName: lName, ',
'\t\t\t\t\t\t\t\troute: JSON.stringify(objState),',
'\t\t\t\t\t\t\t\tflagChildTable: flagChildTable',
'\t\t\t\t\t\t\t\t});',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\tif(flagCheck) {',
'\t\t\t\t\t\tfieldDirty = false;',
'\t\t\t\t\t\tif(typeof data._dirtyImages != \'undefined\') {',
'\t\t\t\t\t\t\tobjDirty = data._dirtyImages[prop];',
'\t\t\t\t\t\t\tfieldDirty = false;',
'\t\t\t\t\t\t\tif(typeof objDirty != \'undefined\') fieldDirty = objDirty;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(data._isNewRow) {',
'\t\t\t\t\t\t\t\tfieldDirty = true;',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\tif(typeof data._oldData != \'undefined\') { ',
'\t\t\t\t\t\t\t\t\tif(data[prop] != data._oldData[prop]) fieldDirty = true;',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\t_mediaMap = lObj._mediaFields;',
'\t\t\t\t\t\tif(_mediaMap.indexOf(prop) > -1) flagIsMediaField = true;',
'\t\t\t\t\t\tif(flagIsMediaField) { ',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tflagCapture2 = false;',
'\t\t\t\t\t\tif(options.flagCleanOnly) { ',
'\t\t\t\t\t\t\tif(!fieldDirty) {',
'\t\t\t\t\t\t\t\tif(flagIsMediaField) flagCapture2 = true;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(fieldDirty) { ',
'\t\t\t\t\t\t\t\tif(flagIsMediaField) flagCapture2 = true;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tif( ( ( flagCapture2 )   && data[prop] != null &&  data[prop].toLowerCase().indexOf(\'file:\') == 0 ) ) {',
'\t\t\t\t\t\t\tlName = objListName[objListName.length -1][\'table\'];',
'\t\t\t\t\t\t\tif(lName == \'_top_\') {',
'\t\t\t\t\t\t\t\tlName = lObj.listVariableName;',
'\t\t\t\t\t\t\t\tflagChildTable = false;',
'\t\t\t\t\t\t\t} else  { ',
'\t\t\t\t\t\t\t\tflagChildTable = true;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tarr.push({',
'\t\t\t\t\t\t\t\tlistFieldName: prop, ',
'\t\t\t\t\t\t\t\tfilename: data[prop], ',
'\t\t\t\t\t\t\t\tlistName: lName, ',
'\t\t\t\t\t\t\t\troute: JSON.stringify(objState),',
'\t\t\t\t\t\t\t\tflagChildTable: flagChildTable',
'\t\t\t\t\t\t\t\t});',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'}',
',',
'\t_harvestMediaFields: function() {   ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return [];',
'\tvar ops = arguments[0];',
'\tif(typeof ops == \'undefined\') ops = {};',
'\tif(typeof ops.dirtyOnly == \'undefined\') ops.dirtyOnly = true;',
'\tif(typeof ops.cleanOnly == \'undefined\') ops.cleanOnly = false;',
'\tif(typeof ops.mode == \'undefined\') ops.mode = \'\';',
'\tvar _r = ops.row;',
'\tif(typeof _r == \'undefined\') _r = -1;',
'\tvar arr = [];',
'\tvar objListName = [];',
'\tvar objState = [];',
'\tvar flagRowIsDirty = \'\';',
'\tvar flagDirtyOnly = ops.dirtyOnly;',
'\tvar options = {',
'\t\tflagDirtyOnly: flagDirtyOnly,',
'\t\tmode: ops.mode,',
'\t\tflagCleanOnly: ops.cleanOnly',
'\t};',
'\tvar flagSingleRow = false;',
'\tif(_r == -1) {',
'\t\tvar _d = this._data;',
'\t} else { ',
'\t\tvar _d = [this._data[_r]];',
'\t\tflagSingleRow = true;',
'\t}',
'\tvar _row = \'\';',
'\tobjListName.push({table: \'_top_\', nested: false});\t',
'\tfor(var i = 0; i < _d.length; i++) { ',
'\t\tflagRowIsDirty = false;',
'\t\tif(typeof _d[i]._isDirty != \'undefined\') flagRowIsDirty = _d[i]._isDirty;',
'\t\tif(flagRowIsDirty || !flagDirtyOnly || ops.cleanOnly ) { ',
'\t\t\t_row = i;',
'\t\t\tif(flagSingleRow) _row = _r;',
'\t\t\tobjState.push( {table: objListName[  objListName.length -1][\'table\'], row: _row})  ',
'\t\t\tthis._harvestMediaFields_low(arr,objListName,objState,_d[i],options);',
'\t\t\tobjState.pop();\t\t',
'\t\t}',
'\t}\t',
'\tif (!ops.cleanOnly) this._mediaFieldsArray = arr;',
'\treturn arr;',
'}',
',',
'\t_pushMediaFieldArrayToList: function(arr) { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar flagUnFix = false;',
'\tif(typeof arguments[1] != \'undefined\') flagUnFix = arguments[1];',
'\tvar lObj = this;',
'\tvar _data = lObj._data;',
'\tvar _di = \'\';',
'\tvar r = \'\';',
'\tvar table = \'\';',
'\tfor(var i = 0; i < arr.length; i++) { ',
'\t\tarr[i].routeObj = JSON.parse(arr[i].route);',
'\t\tr = arr[i].routeObj[0].row',
'\t\tfor(var j = 0; j < arr[i].routeObj.length; j ++) { ',
'\t\t\ttable = arr[i].routeObj[j].table;',
'\t\t\tr = arr[i].routeObj[j].row',
'\t\t\tif(table == \'_top_\') { ',
'\t\t\t\t_di = _data[r];',
'\t\t\t} else { ',
'\t\t\t\t_di = _di[table][r];',
'\t\t\t}',
'\t\t}',
'\t\tif(typeof _di == \'undefined\') return false;',
'\t\t_di._flagMediaFileUploadError = false;',
'\t\tif(!flagUnFix) {',
'\t\t\tif(typeof arr[i].modifiedValue != \'undefined\') {',
'\t\t\t\t_di[arr[i].listFieldName] = arr[i].modifiedValue;',
'\t\t\t} else { ',
'\t\t\t\t_di._flagMediaFileUploadError = true;',
'\t\t\t}',
'\t\t} else { ',
'\t\t\t_di[arr[i].listFieldName] = arr[i].filename;',
'\t\t}',
'\t}',
'\tvar _route = lObj._getRoute();',
'\tlObj.refresh();',
'\tthis._setRoute(_route);',
'\tif(flagUnFix) {',
'\t\tthis.populateUXControls();',
'\t}',
'}',
',',
'\t_unFixMediaFields: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar arr = this._mediaFieldsArray;',
'\tif(typeof arr == \'undefined\') return false;',
'\tthis._pushMediaFieldArrayToList(arr,true);',
'\tdelete this._mediaFieldsArray;',
'}',
',',
'\t_syncMediaFiles: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar _list = this._mediaFiles;',
'\tvar listName = this.listVariableName;',
'\tvar componentAlias = this._hostComponentId;',
'\tvar target = this._phoneGap.mediaFiles.target.toLowerCase();',
'\tif(target == \'s3\') {',
'\t\tvar S3ConnectionString = this._phoneGap.mediaFiles.s3.connectionString;',
'\t} else { ',
'\t\ttarget = \'alphaanywhere\';',
'\t}',
'\tvar targetFileNameFunction = this._phoneGap.mediaFiles.targetFilenameFunction;',
'\tvar protectedRead = this._phoneGap.mediaFiles.protectedRead;',
'\tvar fileNameTemplate = this._phoneGap.mediaFiles.template;',
'\tvar instanceId = A5.ts();',
'\tif(typeof device != \'undefined\') {',
'\t\tif(typeof device.uuid != \'undefined\') instanceId = device.uuid;',
'\t}',
'\ttargetFileNameFunction = targetFileNameFunction.replace(\'<DeviceId>\',instanceId);',
'\tvar showProgress = this._phoneGap.mediaFiles.showProgress;',
'\tvar onErrorFunction = this._phoneGap.mediaFiles.onErrorFunction;',
'\tvar pColor = \'\';',
'\tvar pElement = \'\';',
'\tvar pWidth = \'\';',
'\tif(showProgress) { ',
'\t\tpColor = this._phoneGap.mediaFiles.progress.color;',
'\t\tpElement = this._phoneGap.mediaFiles.progress.element;',
'\t\tpWidth = this._phoneGap.mediaFiles.progress.width;',
'\t}',
'\tvar arr = _list;',
'\tvar s3Obj = {};',
'\tvar aaObj = {}',
'\tif(target == \'s3\') {',
'\t\ts3Obj.connectionString = S3ConnectionString;',
'\t\ts3Obj.protectedRead = false;',
'\t} else { ',
'\t}',
'\tvar options = {',
'\t\tspecialMode: \'detailViewMediaUpload\',',
'\t\ttarget: target,',
'\t\tlistName: listName,',
'\t\tcomponentAlias: componentAlias,',
'\t\tAAServerOptions: aaObj,',
'\t\ts3: s3Obj,',
'\t\tshowProgress: showProgress,',
'\t\tonComputeS3Filename: Function(\'e\',targetFileNameFunction),',
'\t\tfileNameTemplate: fileNameTemplate,',
'\t\tonComplete: function(array) { ',
'\t\t\tif(target == \'alphaanywhere\') {',
'\t\t\t} else {',
'\t\t\t\tvar mVal = \'\';',
'\t\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\t\tmVal = this.fileNameTemplate.replace(\'__name__\',array[i].targetName);',
'\t\t\t\t\tarray[i].modifiedValue = mVal;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tvar _dlgObj = window[this.componentAlias + \'_DlgObj\'];',
'\t\t\tvar lObj = _dlgObj.getControl(listName);',
'\t\t\tlObj._pushMediaFieldArrayToList(array);',
'\t\t\tvar _dlgObj = window[options.componentAlias + \'_DlgObj\'];',
'\t\t\t_dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesUploaded\',{array:array});',
'\t\t\tvar countSucceeded = 0;',
'\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\tif(array[i].succeeded) countSucceeded = countSucceeded + 1;',
'\t\t\t}',
'\t\t\tif(countSucceeded < array.length) { ',
'\t\t\t\tvar errorCount = array.length - countSucceeded;',
'\t\t\t\t_dlgObj._list_executeEvent(listName,\'detailView.onMediaFilesUploadErrors\',{array:array, errorCount: errorCount})',
'\t\t\t}',
'\t\t\t_dlgObj.saveListEdits(options.listName,{rows: \'allRows\', checkForMediaFiles: false, fixMediaFileReferences: true, resetMediaFileUploadErrors: false});',
'\t\t},',
'\t\tprogress: {',
'\t\t\tcolor: pColor,',
'\t\t\twidth: pWidth,',
'\t\t\tindividualProgress: false,',
'\t\t\tshowTotalProgress: true,',
'\t\t\tallowCancel: false,',
'\t\t\tprogressElement: pElement',
'\t\t},',
'\t\tonError : onErrorFunction',
'\t}',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar result = _dlgObj._list_executeEvent(listName,\'detailView.beforeMediaFilesUploaded\',{array:arr});',
'\tif(!result) return false;',
'\t_dlgObj.phoneGapFileUpload(arr,options);',
'}',
',',
'\t_fetchMediaFiles: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tif (typeof this._mediaFields == \'undefined\') return false;',
'\tvar _route = arguments[1];',
'\tif(typeof _route == \'undefined\') _route = false;',
'\tvar _r = arguments[0];',
'\tif(typeof  _r == \'undefined\') _r = -1; ',
'\tvar flagFetchMediaFiles = false;',
'\tif(typeof this._phoneGap != \'undefined\') { ',
'\t\tif(typeof this._phoneGap.mediaFiles != \'undefined\') { ',
'\t\t\tif(typeof this._phoneGap.mediaFiles.download != \'undefined\') {',
'\t\t\t\tif(typeof this._phoneGap.mediaFiles.download.autodownloadFilesOnPullSynch != \'undefined\') { ',
'\t\t\t\t\tflagFetchMediaFiles = this._phoneGap.mediaFiles.download.autodownloadFilesOnPullSynch;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(!flagFetchMediaFiles) return false;',
'\tvar folder = this._phoneGap.mediaFiles.download.targetFolder;',
'\tif(folder == \'\') { ',
'\t\talert(\'You have not specified the file download settings in the List builder. Edit the settings for List \'+this.listVariableName+\' and go to \\\'Detail View\\\' pane, \\\'PhoneGap Properties\\\'.\');',
'\t\treturn false;',
'\t}',
'\tthis._flagFetchMediaHasRun = true;',
'\tfolder = folder + \'/\' + this.listVariableName;',
'\tvar listName = this.listVariableName;',
'\tvar showProgress = this._phoneGap.mediaFiles.download.showProgress;',
'\tvar pColor = \'\';',
'\tvar pElement = \'\';',
'\tvar pWidth = \'\';',
'\tif(showProgress) { ',
'\t\tpColor = this._phoneGap.mediaFiles.download.progress.color;',
'\t\tpElement = this._phoneGap.mediaFiles.download.progress.element;',
'\t\tpWidth = this._phoneGap.mediaFiles.download.progress.width;',
'\t}',
'\tvar flagDeleteOrphans = false;',
'\tif(typeof this._phoneGap.mediaFiles.download.deleteOrphansAfterSync != \'undefined\') flagDeleteOrphans =this._phoneGap.mediaFiles.download.deleteOrphansAfterSync;',
'\tvar arr = this._harvestMediaFields({dirtyOnly: false, row: _r});',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar result = _dlgObj._list_executeEvent(listName,\'detailView.beforeMediaFilesDownloaded\',{array:arr});',
'\tif(!result) { ',
'\t\t_dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesDownloaded\',{array:array, aborted: true});',
'\t\treturn false;',
'\t}',
'\tif(arr.length > 0 ) { ',
'\t\tvar lObj = this;',
'\t\tvar _dlgObj = _dlgObj;',
'\t\tvar that = this;',
'\t\tvar options = {',
'\t\t\ttargetFolder: folder,',
'\t\t\tshowProgress: showProgress,',
'\t\t\tonComplete: function(array) { ',
'\t\t\t\tvar arr = [];',
'\t\t\t\tvar _d = lObj._data;',
'\t\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\t\tif(array[i].success) {',
'\t\t\t\t\t\tarray[i].modifiedValue = array[i].localFilename;',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tarray[i].modifiedValue = array[i].filename;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar result = _dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesDownloaded\',{array:array, aborted: false});',
'\t\t\t\tif(!result) return false;',
'\t\t\t\tlObj._pushMediaFieldArrayToList(array);',
'\t\t\t\tif(flagDeleteOrphans) { ',
'\t\t\t\t\tthat._deleteOrphanMediaFiles()',
'\t\t\t\t}',
'\t\t\t\tthat.populateUXControls();',
'\t\t\t\tif(_route) {',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t\tthat.populateUXControls();',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t\tthat._populateAllChildLists();',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t}',
'\t\t\t},',
'\t\t\tprogress: {',
'\t\t\t\tcolor: pColor,',
'\t\t\t\twidth: pWidth,',
'\t\t\t\tallowCancel: false,',
'\t\t\t\tprogressElement: pElement',
'\t\t\t}',
'\t\t}',
'\t\t_dlgObj.phoneGapFileDownload(arr,options);\t',
'\t} else { ',
'\t\t _dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesDownloaded\',{array:arr});',
'\t}',
'}',
',',
'\tresolveFieldConflict: function(route,fieldName,oldValueCurrent,newValueMine) { ',
'\tvar _d = this._getDataFromRoute(route);',
'\tvar _routeCapture = this._getRoute();',
'\tif(!_d) return false;',
'\tif(typeof _d[fieldName] == \'undefined\') return false;',
'\tif(typeof _d[\'_oldData\'] == \'undefined\') return false;',
'\t_d[\'_oldData\'][fieldName] = oldValueCurrent;',
'\tif(typeof newValueMine != \'undefined\') {',
'\t\t_d[fieldName] = newValueMine;',
'\t} else { ',
'\t\t_d[fieldName] = oldValueCurrent;',
'\t}',
'\tif(typeof _d[\'_writeConflictErrors\'] != \'undefined\') { ',
'\t\tvar _wce = _d[\'_writeConflictErrors\'];',
'\t\tfor(var i = 0; i < _wce.length; i++)  { ',
'\t\t\tif(_wce[i].fieldName == fieldName) { ',
'\t\t\t\t_wce.splice(i,1);',
'\t\t\t}',
'\t\t}',
'\t\tif(_wce.length == 0) { ',
'\t\t\t_d[\'_hasWriteConflictErrors\'] = false;',
'\t\t\t_d[\'_writeConflictErrors\'] = false;',
'\t\t}\t',
'\t}',
'\tvar flagClean = true;',
'\tfor(var n in _d[\'_oldData\']) {',
'\t\tif(_d[\'_oldData\'][n] != _d[n]) {',
'\t\t\tflagClean = false;',
'\t\t\tbreak;',
'\t\t}',
'\t}',
'\tif(flagClean) { ',
'\t\tdelete _d[\'_oldData\'];',
'\t\tdelete _d.__displayStyle;',
'\t\t_d._isDirty = false;',
'\t\tvar flagLoop = true;',
'\t\twhile(flagLoop) { ',
'\t\t\troute.pop();',
'\t\t\troute.pop();',
'\t\t\tif(route.length == 0) {',
'\t\t\t\tbreak;',
'\t\t\t};',
'\t\t\tvar _dp = this._getDataFromRoute(route);',
'\t\t\tif(typeof _dp[\'_oldData\'] == \'undefined\') { ',
'\t\t\t\t_dp._isDirty = false;',
'\t\t\t\tdelete _dp.__displayStyle;',
'\t\t\t}',
'\t\t}',
'\t\tthis._refreshListRecursive();',
'\t}',
'}',
',',
'\t_refreshListRecursive: function() { ',
'\tthis.refresh();',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tlObj = _dlgObj.getControl(this.childLists[i]);',
'\t\tif(lObj) lObj._refreshListRecursive();',
'\t}',
'}',
',',
'\t_deleteOrphanMediaFiles: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar folder = this._phoneGap.mediaFiles.download.targetFolder;',
'\tif(folder == \'\') { ',
'\t\talert(\'You have not specified the file download settings in the List builder. Edit the settings for List \'+this.listVariableName+\' and go to \\\'Detail View\\\' pane, \\\'PhoneGap Properties\\\'.\');',
'\t\treturn false;',
'\t}',
'\tif(typeof this._flagFetchMediaHasRun == \'undefined\' || this._flagFetchMediaHasRun == false ) { ',
'\t\talert(\'Sync media files method has not yet been run\');',
'\t\treturn false;',
'\t}',
'\tif(folder.substring(0,1) == \'/\') folder = folder.substring(1);',
'\tif(folder.substr( folder.length -1,1) == \'/\') { ',
'\t\tfolder = folder.substring(0,folder.length -1);',
'\t}',
'\tfolder = folder + \'/\' + this.listVariableName;',
'\tvar that = this;',
'\tvar listName = this.listVariableName;',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar onFSSuccess = function(fs) { ',
'\t\tvar baseDirectory = fs.root.toURL();',
'\t\tbaseDirectory = baseDirectory + folder;',
'\t\tvar arr = that._harvestMediaFields({dirtyOnly: false, mode: \'file\'});',
'\t\tvar fr = []; ',
'\t\tfor( var i = 0; i < arr.length; i++) { ',
'\t\t\tfr.push(\'/\' + folder +  arr[i].filename.replace(baseDirectory,\'\'));',
'\t\t}',
'\t\tfr.sort();',
'\t\tvar _dlgObj = window[that._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj.phoneGapGetDirectoryRecurse(folder,function(array) { ',
'\t\t\tvar ff = [];',
'\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\tif(array[i].isFile) { ',
'\t\t\t\t\tff.push(array[i].fullPath);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tff.sort();',
'\t\t\tvar fd = []; ',
'\t\t\tfor(var i = 0; i < ff.length; i++) { ',
'\t\t\t\tif(fr.indexOf(ff[i]) < 0) { ',
'\t\t\t\t\tfd.push(ff[i]);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t var result = _dlgObj._list_executeEvent(listName,\'detailView.beforeDeleteOrphanMediaFiles\',{array:fd});',
'\t\t\t if(!result) return false;',
'\t\t\tvar countDeleted = 0;',
'\t\t\tvar countToDelete = fd.length;',
'\t\t\tfor(var i = 0 ; i < fd.length; i++) {\t',
'\t\t\t\tvar fn = fd[i];',
'\t\t\t\tif(fn.substring(0,1) == \'/\') fn = fn.substring(1);',
'\t\t\t\t_dlgObj.phoneGapDeleteFile(fn,function() { ',
'\t\t\t\t\tcountDeleted = countDeleted + 1;',
'\t\t\t\t\tif(countDeleted == countToDelete) { ',
'\t\t\t\t\t\t_dlgObj._list_executeEvent(listName,\'detailView.afterDeleteOrphanMediaFiles\',{array:fd});',
'\t\t\t\t\t}',
'\t\t\t\t})',
'\t\t\t}',
'\t\t});',
'\t}',
'\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess);',
'\treturn false;',
'}',
'}',
')',
'//End section - Add methods to List prototype',
'{UXPRERENDEREDALIAS}_DlgObj._listControls = [\'LIST_TRIALS\']',
'{UXPRERENDEREDALIAS}_DlgObj._localStorageSettings = {namespace: \'ALPHA_CWKeywords\',friendlyName: \'CenterWatch Keywords\',description: \'Find Clinical Trials by Keywords\',persistVariableValues: false,__version: 1,persistComponentState: false,workingPreviewTestingFolder: \'\',restore: {variables: false,data: false,state: false},compressData: true,minify: true,variablesToNotPersist: \'\',workingPreviewTestingMode: \'Browser\',compressListData: true}',
'{UXPRERENDEREDALIAS}_DlgObj.__r = [\'3rkeltoSdQc=\']',
'{UXPRERENDEREDALIAS}_DlgObj._staticHTMLMode = false',
'{UXPRERENDEREDALIAS}_DlgObj._EDITOR_EDITORSET = {};',
'{UXPRERENDEREDALIAS}_DlgObj.styleName = \'iOS7\';',
'{UXPRERENDEREDALIAS}_DlgObj.styleVersion = 3',
'{UXPRERENDEREDALIAS}_DlgObj.framesInfo = {',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._noPersist = []',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_KEYWORDS\',A5.d.evnts.click,function(e) {',
'CWApp.goBackToMainMenu({UXPRERENDEREDALIAS}_DlgObj);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_KEYWORDS\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_KEYWORDS\',true);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS\');',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_O_B10C9F8A4D6E4F38BC2F82FB8A3A17CA(1,\'1\',this);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS\');',
'',
'{UXPRERENDEREDALIAS}_DlgObj.prepare();{UXPRERENDEREDALIAS}_DlgObj.populate({UXPRERENDEREDALIAS}_DlgObj.originalValues[0]);',
'{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);',
'',
'',
'if(!A5.flags.isMobile) $e.add(window,\'resize\',{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation);',
'else $e.add(window,\'orientationchange\',{UXPRERENDEREDALIAS}_DlgObj._orientationChangeHandler,{UXPRERENDEREDALIAS}_DlgObj,true);',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation();',
'',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_PANES\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var listObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\');',
'if(listObj) listObj._state.recordCount = 0;',
'if(listObj) listObj._state.recordCountFormatted = \'0\';',
'if(listObj) listObj._state.lastBreakValue = \'<None>\';',
'if(listObj) listObj._state.pageCount = 0;',
'if(listObj) listObj._state.pageSize = 20;',
'if(listObj) {var ele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.RECORDCOUNT\'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};',
'if(listObj) listObj._state.paginated = false;',
'',
'if(listObj) listObj._state.filter = \'\';',
'if(listObj) listObj._state.having = \'\';',
'if(listObj) listObj._state.order = \'\';',
'if(listObj) listObj._state.filterParameters = \'\';',
'if(listObj) listObj._state.highlight = {  };',
'if(listObj) listObj._state.whereClause = \'\';',
'if(listObj) listObj._state.whereParameters = \'\';',
'\t\t',
'\t\tvar flagPersist = false;',
'\t\tif(typeof listObj._flagPersistDataOK != \'undefined\') { ',
'\t\t\tif(listObj._flagPersistDataOK) { ',
'\t\t\t\tvar data = listObj._data;',
'\t\t\t\tlistObj.persistToStorage({mode:\'populate\', data: data});',
'\t\t\t}',
'\t\t}',
'\t\t',
'\t\t',
';',
'{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_TRIALS\',\'afterRenderComplete\',{});',
'',
'if(listObj._refreshStateMessages) listObj._refreshStateMessages();',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var obj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\');',
'obj._hasBeenRendered = false;',
'',
'',
'',
'',
'',
'',
'setTimeout(function() { },0);',
'{UXPRERENDEREDALIAS}_DlgObj._listsWithJSFuncDataSource = {};',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onInitializeComplete\');',
'{UXPRERENDEREDALIAS}_DlgObj.initialized = true;',
'',
'',
'',
'',
'',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._onRenderComplete = function() { {UXPRERENDEREDALIAS}_DlgObj._runJSOnLoad(); {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule(); }; ',
'',
'setTimeout(function() { var p = {UXPRERENDEREDALIAS}_DlgObj.panelGet(\'PANELNAVIGATOR\'); if(p._sizing == \'window\') { p._sizeWindow();} else { p.refresh(); } },100);',
'setTimeout(function() {{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onRenderComplete\'); {UXPRERENDEREDALIAS}_DlgObj.flagRenderComplete = true;  {UXPRERENDEREDALIAS}_DlgObj._restoreFromLocalStorage(); },1);',
'',
'var o2 = \'portrait\';',
'if(window.innerHeight < window.innerWidth) o2 = \'landscape\';',
'{UXPRERENDEREDALIAS}_DlgObj._screen = {h: window.innerHeight, w: window.innerWidth, o: o2};',
'',
'{UXPRERENDEREDALIAS}_DlgObj._getOnlineStatus();',
'try {',
'window.addEventListener("offline",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'window.addEventListener("online",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'} catch(err){}',
'',
'',
'setTimeout(function() {$e.execute(\'device.screen\',\'a5resize\')},1);',
'setTimeout(function() { },10);;',
'{UXPRERENDEREDALIAS}_DlgObj._activeLanguage = \'\';',
''].join('\n');
jsout = jsout.replace(/\{UXPRERENDERAJAXURL\}/g,'http://69.7.228.180/centerappv1/FINDBYKEYWORDS.a5wcmp?__virtualPage=__a5runDialog.a5w&__dialogFilename=FINDBYKEYWORDS&__alias={UXPRERENDEREDALIAS}&__unsaved=no');
jsout = jsout.replace(/\{UXPRERENDEREDALIAS\}/g,go.alias);
jsout = jsout.replace(/\{UXPRERENDEROUTPUTDIV\}/g,go.dialog2Div);
;return jsout}; 
function PRECOMPUTEDUX_969cfcb9218044d1881c51534ca633fd_Communities(go) { 
var jsout = [
'A5.u.element.setContent(\'{UXPRERENDEROUTPUTDIV}\',\'<style>\\n</style><iframe style="display:none;" id="{UXPRERENDEREDALIAS}.__IFRAME1"></iframe>\\n<input type="hidden" value="" id="{UXPRERENDEREDALIAS}.PARAMETERBUCKET"/>\\n<input type="file" style="position:absolute; top:-1000px;visibility:hidden;" accept="image/*" id="{UXPRERENDEREDALIAS}._GETPHOTO"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" multiple = "" id="{UXPRERENDEREDALIAS}._GETFILEMULTI"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" id="{UXPRERENDEREDALIAS}._GETFILE"/>\');',
'',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {',
'\t{UXPRERENDEREDALIAS}_DlgObj._destroy();',
'\ttry {',
'\t\tdelete {UXPRERENDEREDALIAS}_DlgObj;',
'\t} catch(e) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj = undefined;',
'\t}',
'};',
';if(typeof {UXPRERENDEREDALIAS}_PanelObj != \'undefined\') {',
'\tvar ele = $({UXPRERENDEREDALIAS}_PanelObj.getPanelId());',
'\tif(ele) {',
'\t\tif(ele.parentNode) ele.parentNode.removeChild(ele);',
'\t}',
'\tdelete {UXPRERENDEREDALIAS}_PanelObj;',
'}',
';window[\'{UXPRERENDEREDALIAS}_PanelObj\'] = new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'url\',',
'\t\t\tsrc: \'http://www.centerwatch.com/health-resources/general/\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'both\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:none;"></div>\'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tonSize: function() {;if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule != \'undefined\') { ',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
'\t}',
'}}',
'})',
'var ele = window[\'{UXPRERENDEREDALIAS}_PanelObj\'].create(\'{UXPRERENDEREDALIAS}.R1\');',
'\t\tvar panelRootId = \'{UXPRERENDEROUTPUTDIV}\';',
'\t\tvar flagSizeToParent = true;',
'\t\tvar wf_alias = \'{UXPRERENDEREDALIAS}\';',
'\t\tif(panelRootId != \'\') { ',
'\t\t\tif (!$(panelRootId)) panelRootId = \'\';',
'\t\t}',
'\t\tif(panelRootId != \'\') { ',
'\t\t\t$(panelRootId).appendChild(ele);',
'\t\t\tif(flagSizeToParent) { ',
'\t\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'parent\');',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tdocument.body.insertBefore(ele,document.body.firstChild);',
'\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'window\');',
'\t\t}',
'{UXPRERENDEREDALIAS}_PanelObj._panelPath = {',
'}',
'{UXPRERENDEREDALIAS}_PanelObj._displayNames = {',
'PANELCARD_COMMUNITIES : \'PANELCARD_COMMUNITIES\'',
'};',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {UXPRERENDEREDALIAS}_DlgObj._destroy();',
'window[\'{UXPRERENDEREDALIAS}_DlgObj\'] = new A5.DialogComponentHelper(\'{UXPRERENDEREDALIAS}\',{',
'\tajaxURL: \'{UXPRERENDERAJAXURL}\',',
'\t_embeddedMode: false,',
'\t_livePreviewInBuilder: false,',
'\tcomponentGUID: \'53bda28a-44a4-4c83-be37-82a7d93b7860\',',
'\tcolumnInfo: {},',
'\toriginalValues: [{',
'}],',
'\tdefaultValues: {',
'},',
'\tdatePickerMonthNames: [\'January\',\'February\',\'March\',\'April\',\'May\',\'June\',\'July\',\'August\',\'September\',\'October\',\'November\',\'December\'],',
'\tdatePickerDayNames: [\'Sun\',\'Mon\',\'Tue\',\'Wed\',\'Thu\',\'Fri\',\'Sat\'],',
'\tdatePickerTodayButton: \'Today\',',
'\tdatePickerCloseButton: \'\',',
'\tdatePickerFirstDayOfWeek: 1,',
'\tresetFormMessage: \'<div style="padding: .25in;">Are you sure you want to reset the form?<div>\',',
'\tresetFormTitle: \'\',',
'\tresetFormIcon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\tdirtyFormMessage: \'<div style="padding: .25in;">You must first save your changes or cancel changes by clicking the Reset button.<div>\',',
'\tdirtyFormTitle: \'\',',
'\tdirtyFormIcon: \'cssIcon=iOS7Icon iOS7IconInfo\',',
'\tdeleteRecordDialogTitle: \'\',',
'\tdeleteRecordDialogMessage: \'\',\t',
'\tssDateFormat: \'MM/dd/yyyy\',',
'\tstyleName: \'iOS7\',',
'\t_fieldHelpers_DIALOG2: [],',
'\tparentComponentAlias: \'\'+go._thisGridAlias+\'\',',
'\tsubmitIfHasClientSideErrors: true, ',
'\trowErrors: {',
'\t\t\t\tshowMessageBox: false,',
'\t\t\t\tmessageBoxTitle: \'Error\',',
'\t\t\t\tstyle: \'color: red; width: 6in; height: 2in;\'',
'\t\t},',
'\tfieldErrors: {',
'\t\ttype: \'block\', ',
'\t\tclassName: \'errorText\',',
'\t\tinputClassName: \'iOS7EditError\',',
'\t\tedit: { ',
'\t\t\tcontainer: { className: \'iOS7EditBGError\'}',
'\t\t},',
'\t\ticon: \'cssIcon=iOS7Icon iOS7IconError\',',
'\t\tglobal: {',
'\t\t\tcontId: \'{UXPRERENDEREDALIAS}.GLOBALERRORS\',',
'\t\t\thoverClassName: \'errorTextHighlight\',',
'\t\t\thoverInputClassName: \'errorInputHighlight\'',
'\t\t}',
'\t}',
'\t});',
'{UXPRERENDEREDALIAS}_DlgObj._onOrientationChange =  function(e) { ;',
'{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
';  };',
'A5.__componentObj = {UXPRERENDEREDALIAS}_DlgObj;',
'{UXPRERENDEREDALIAS}_DlgObj._tabObjects = [];',
'{UXPRERENDEREDALIAS}_DlgObj.lookups = {',
'};',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({',
'\t__dialogGuid: \'bc15e619-7ba0-435b-938b-68ad7522cd31\',',
'\targumentsBoundToCotrols: \'\',',
'\t__sgr: \'\',',
'\t__dtfmt: \'MM/dd/yyyy\',',
'\t__tfmt: \'\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControlsChildren = [];',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ });',
'A5.msgBox.theme = \'iOS7\';',
'A5.msgBox.buttonWidth = \'1in\';',
'{UXPRERENDEREDALIAS}_DlgObj._defaultWindowTitleDirection = \'ltr\';',
'{UXPRERENDEREDALIAS}_DlgObj._controlContainers = {}',
'{UXPRERENDEREDALIAS}_DlgObj._panelCardControls = {',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._buttons = {};',
'{UXPRERENDEREDALIAS}_DlgObj.setVariables({});',
'{UXPRERENDEREDALIAS}_DlgObj._dataBoundControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._primaryTableAlias = \'\';',
'{UXPRERENDEREDALIAS}_DlgObj._hasPanels = true;',
'{UXPRERENDEREDALIAS}_DlgObj._hasOnSynchronizeEvent = false;',
'A5.__dtfmt = \'MM/dd/yyyy\';A5.__tfmt = \'\';',
'A5.__flagWorkingPreview = false;',
'A5.__flagIIS = false;',
'A5.__flagSimulateIIS = true;',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation = function() { ',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj == \'undefined\') return \'\';',
'\tvar orientation = {UXPRERENDEREDALIAS}_DlgObj.getOrientation();',
'\tif( orientation == \'landscape\') {',
'\t\t\t//landscape',
'\t\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'landscape\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'landscape\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'landscape\'});',
'\t\t\t}',
'\t} else {',
'\t\t//portrait',
'\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'portrait\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'portrait\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'portrait\'});',
'\t\t\t}',
'\t}',
'}',
'\tA5.flags.cordovaLoaded = true;',
'\ttry {',
'\t\tdocument.addEventListener(\'deviceready\', function() { ',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onCordovaReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onPhoneGapReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._cordovaReady = true;',
'\t\t\tnavigator.geolocation.getAccuratePosition = function(geolocationSuccess, geolocationError, options) {',
'\tvar _lastCheckedPosition = null;',
'\tvar _locationEventCount = 0;',
'\toptions = options || {};',
'\toptions.context = this;',
'    function _checkLocation(pos) {',
'        _lastCheckedPosition = pos;',
'        _locationEventCount++;',
'        if ((pos.coords.accuracy <= options.desiredAccuracy) && (_locationEventCount > options.ignoreResultCount)) {',
'            clearTimeout(_timerID);',
'            navigator.geolocation.clearWatch(_watchID);',
'            _foundPosition(pos);',
'        } ',
'    }',
'    function _stopLocationCheck() {',
'    \t var error = {};',
'    \t error.code = 0;',
'    \t error.message = \'Timeout: No results\';',
'        navigator.geolocation.clearWatch(_watchID);',
'        _lastCheckedPosition ? _foundPosition(_lastCheckedPosition) : geolocationError.call(options.context,error);',
'    }',
'    function _onError(error) {',
'        clearTimeout(_timerID);',
'        navigator.geolocation.clearWatch(_watchID);',
'        geolocationError.call(options.context,error);',
'    }',
'    function _foundPosition(pos) {',
'        geolocationSuccess.call(options.context,pos);',
'    }',
'    if (!options.maxWait) {            ',
'    \toptions.maxWait = 10000; ',
'    }\t',
'    if (!options.desiredAccuracy) {',
'    \t  options.desiredAccuracy = 20; ',
'    }',
'    if (!options.timeout) {',
'        options.timeout = options.maxWait;',
'\t }',
'\t if (!options.ignoreResultCount) {',
'\t \t\toptions.ignoreResultCount = 1;',
'\t }',
'    options.maximumAge = 0; ',
'    options.enableHighAccuracy = true; ',
'    var _watchID = navigator.geolocation.watchPosition(_checkLocation, _onError, options);',
'    var _timerID = setTimeout(_stopLocationCheck, options.maxWait); ',
'}',
'\t\t} , false);\t',
'\t}',
'\tcatch(err) {}',
'{UXPRERENDEREDALIAS}_DlgObj._waitGif = \'css/A5System/Images/wait.gif\';',
'{UXPRERENDEREDALIAS}_DlgObj._layoutMode = \'containerwidth\';',
'{UXPRERENDEREDALIAS}_DlgObj._responsiveRulesMode = \'firsttrue\';',
'{UXPRERENDEREDALIAS}_DlgObj.__controlNesting = {',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._listsDV = [];',
'{UXPRERENDEREDALIAS}_DlgObj._listControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._localStorageSettings = {namespace: \'ALPHA_53bda28a44a44c83be3782a7d93b7860\',friendlyName: \'\',description: \'\',persistVariableValues: false,__version: 1,persistComponentState: false,workingPreviewTestingFolder: \'\',restore: {variables: false,data: false,state: false},compressData: true,minify: true,variablesToNotPersist: \'\',workingPreviewTestingMode: \'Browser\',compressListData: true}',
'{UXPRERENDEREDALIAS}_DlgObj.__r = [\'3rkeltoSdQc=\']',
'{UXPRERENDEREDALIAS}_DlgObj._staticHTMLMode = false',
'{UXPRERENDEREDALIAS}_DlgObj._EDITOR_EDITORSET = {};',
'{UXPRERENDEREDALIAS}_DlgObj.styleName = \'iOS7\';',
'{UXPRERENDEREDALIAS}_DlgObj.styleVersion = 3',
'{UXPRERENDEREDALIAS}_DlgObj.framesInfo = {',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._noPersist = []',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj.prepare();{UXPRERENDEREDALIAS}_DlgObj.populate({UXPRERENDEREDALIAS}_DlgObj.originalValues[0]);',
'{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);',
'',
'',
'if(!A5.flags.isMobile) $e.add(window,\'resize\',{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation);',
'else $e.add(window,\'orientationchange\',{UXPRERENDEREDALIAS}_DlgObj._orientationChangeHandler,{UXPRERENDEREDALIAS}_DlgObj,true);',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation();',
'',
'',
'',
'',
'',
'',
'setTimeout(function() { },0);',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onInitializeComplete\');',
'{UXPRERENDEREDALIAS}_DlgObj.initialized = true;',
'',
'',
'',
'',
'',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._onRenderComplete = function() { {UXPRERENDEREDALIAS}_DlgObj._runJSOnLoad(); {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule(); }; ',
'',
'setTimeout(function() { var p = {UXPRERENDEREDALIAS}_DlgObj.panelGet(\'PANELCARD_COMMUNITIES\'); if(p._sizing == \'window\') { p._sizeWindow();} else { p.refresh(); } },100);',
'setTimeout(function() {{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onRenderComplete\'); {UXPRERENDEREDALIAS}_DlgObj.flagRenderComplete = true;  {UXPRERENDEREDALIAS}_DlgObj._restoreFromLocalStorage(); },1);',
'',
'var o2 = \'portrait\';',
'if(window.innerHeight < window.innerWidth) o2 = \'landscape\';',
'{UXPRERENDEREDALIAS}_DlgObj._screen = {h: window.innerHeight, w: window.innerWidth, o: o2};',
'',
'{UXPRERENDEREDALIAS}_DlgObj._getOnlineStatus();',
'try {',
'window.addEventListener("offline",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'window.addEventListener("online",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'} catch(err){}',
'',
'',
'setTimeout(function() {$e.execute(\'device.screen\',\'a5resize\')},1);',
'setTimeout(function() { },10);;',
'{UXPRERENDEREDALIAS}_DlgObj._activeLanguage = \'\';',
''].join('\n');
jsout = jsout.replace(/\{UXPRERENDERAJAXURL\}/g,'http://69.7.228.180/centerappv1/COMMUNITIES.a5wcmp?__virtualPage=__a5runDialog.a5w&__dialogFilename=COMMUNITIES&__alias={UXPRERENDEREDALIAS}&__unsaved=no');
jsout = jsout.replace(/\{UXPRERENDEREDALIAS\}/g,go.alias);
jsout = jsout.replace(/\{UXPRERENDEROUTPUTDIV\}/g,go.dialog2Div);
;return jsout}; 
function PRECOMPUTEDUX_d77cddaba1c84edd833b78c376355f65_EducationMaterial(go) { 
var jsout = [
'A5.u.element.setContent(\'{UXPRERENDEROUTPUTDIV}\',\'<style>\\n</style><iframe style="display:none;" id="{UXPRERENDEREDALIAS}.__IFRAME1"></iframe>\\n<input type="hidden" value="" id="{UXPRERENDEREDALIAS}.PARAMETERBUCKET"/>\\n<input type="file" style="position:absolute; top:-1000px;visibility:hidden;" accept="image/*" id="{UXPRERENDEREDALIAS}._GETPHOTO"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" multiple = "" id="{UXPRERENDEREDALIAS}._GETFILEMULTI"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" id="{UXPRERENDEREDALIAS}._GETFILE"/><input type="hidden" id="{UXPRERENDEREDALIAS}.V.R1.LIST_FAQS" name="V.R1.LIST_FAQS" />\\n\');',
'',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {',
'\t{UXPRERENDEREDALIAS}_DlgObj._destroy();',
'\ttry {',
'\t\tdelete {UXPRERENDEREDALIAS}_DlgObj;',
'\t} catch(e) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj = undefined;',
'\t}',
'};',
';if(typeof {UXPRERENDEREDALIAS}_PanelObj != \'undefined\') {',
'\tvar ele = $({UXPRERENDEREDALIAS}_PanelObj.getPanelId());',
'\tif(ele) {',
'\t\tif(ele.parentNode) ele.parentNode.removeChild(ele);',
'\t}',
'\tdelete {UXPRERENDEREDALIAS}_PanelObj;',
'}',
';window[\'{UXPRERENDEREDALIAS}_PanelObj\'] = new A5.PanelNavigator([',
'{',
'\tname: \'PANELCARD\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_FAQSEARCH"   \\n\\t\\t\\tclass="A5CWLayout "  style="width: 100%; "  >\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.LIST_FAQS_SEARCH" title=""  autocapitalize="off"  autocorrect="off"     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"  onkeyup="{UXPRERENDEREDALIAS}_DlgObj.getControl(\\\'LIST_FAQS\\\').searchList({searchMode : \\\'auto\\\'});"   name="V.R1.LIST_FAQS_SEARCH"    value=""    />\\n\\n</div>\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_FAQSEARCH.BREAK"  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t\\n<div  class="iOS7List"   style="padding:0px; "  >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.LIST_FAQS.CONTROL"  class="{UXPRERENDEREDALIAS}_LIST_FAQS" style="overflow: auto; width: 100%; "></div>\\n</div>\\n\\n</div>\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'y\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> </div><div style="display:none;"></div>\',',
'\t\tshow: true,',
'\t\tstyle: \'padding-bottom: 35px; height: 6%; \'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tonSize: function() {;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {var mObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_FAQS\'); if(mObj) mObj.refresh();}}',
'})',
'}',
'],{',
'\ttype: \'programmatic\',',
'\tflow: \'ltr\',',
'\tloopNavigate: false,',
'\tonPanelActivate: function() {{UXPRERENDEREDALIAS}_DlgObj.refreshClientSideComputations();},',
'\tonSize: function() {;if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule != \'undefined\') { ',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
'\t}',
'}},',
'\ttheme: \'iOS7\',',
'\theader: {',
'\t\tshow: false',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tcontrols: {',
'\t\tprev: {',
'\t\t\thas: false',
'\t\t},',
'\t\tnext: {',
'\t\t\thas: false',
'\t\t},',
'\t\tback: {',
'\t\t\thas: false',
'\t\t},',
'\t\tforward: {',
'\t\t\thas: false',
'\t\t}',
'\t},',
'\tbody: {',
'\t},',
'\tanimation: {',
'\t\tduration: 400',
'\t}',
'})',
'var ele = window[\'{UXPRERENDEREDALIAS}_PanelObj\'].create(\'{UXPRERENDEREDALIAS}.R1\');',
'\t\tvar panelRootId = \'{UXPRERENDEROUTPUTDIV}\';',
'\t\tvar flagSizeToParent = true;',
'\t\tvar wf_alias = \'{UXPRERENDEREDALIAS}\';',
'\t\tif(panelRootId != \'\') { ',
'\t\t\tif (!$(panelRootId)) panelRootId = \'\';',
'\t\t}',
'\t\tif(panelRootId != \'\') { ',
'\t\t\t$(panelRootId).appendChild(ele);',
'\t\t\tif(flagSizeToParent) { ',
'\t\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'parent\');',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tdocument.body.insertBefore(ele,document.body.firstChild);',
'\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'window\');',
'\t\t}',
'{UXPRERENDEREDALIAS}_PanelObj._panelPath = {',
'\tPANELCARD: \'PANELCARD\'',
'}',
'{UXPRERENDEREDALIAS}_PanelObj._displayNames = {',
'PANELCARD : \'PANELCARD\',PANELNAVIGATOR : \'PANELNAVIGATOR\'',
'};',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {UXPRERENDEREDALIAS}_DlgObj._destroy();',
'window[\'{UXPRERENDEREDALIAS}_DlgObj\'] = new A5.DialogComponentHelper(\'{UXPRERENDEREDALIAS}\',{',
'\tajaxURL: \'{UXPRERENDERAJAXURL}\',',
'\t_embeddedMode: false,',
'\t_livePreviewInBuilder: false,',
'\tcomponentGUID: \'50a83cd2-eb19-4dfb-93b7-cb6c37cbbed4\',',
'\tcolumnInfo: {\'LIST_FAQS_SEARCH\': {info: {controlType: \'textbox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'LIST_FAQS\': {info: {controlType: \'List\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'\'  }},',
'\toriginalValues: [{',
'\t\'LIST_FAQS_SEARCH\': \'\',',
'\t\'LIST_FAQS\': \'\'',
'}],',
'\tdefaultValues: {',
'\tLIST_FAQS_SEARCH: \'\',',
'\tLIST_FAQS: \'\'',
'},',
'\tdatePickerMonthNames: [\'January\',\'February\',\'March\',\'April\',\'May\',\'June\',\'July\',\'August\',\'September\',\'October\',\'November\',\'December\'],',
'\tdatePickerDayNames: [\'Sun\',\'Mon\',\'Tue\',\'Wed\',\'Thu\',\'Fri\',\'Sat\'],',
'\tdatePickerTodayButton: \'Today\',',
'\tdatePickerCloseButton: \'\',',
'\tdatePickerFirstDayOfWeek: 1,',
'\tresetFormMessage: \'<div style="padding: .25in;">Are you sure you want to reset the form?<div>\',',
'\tresetFormTitle: \'\',',
'\tresetFormIcon: \'\',',
'\tdirtyFormMessage: \'<div style="padding: .25in;">You must first save your changes or cancel changes by clicking the Reset button.<div>\',',
'\tdirtyFormTitle: \'\',',
'\tdirtyFormIcon: \'\',',
'\tdeleteRecordDialogTitle: \'\',',
'\tdeleteRecordDialogMessage: \'\',\t',
'\tssDateFormat: \'MM/dd/yyyy\',',
'\tstyleName: \'iOS7\',',
'\t_fieldHelpers_DIALOG2: [],',
'\tparentComponentAlias: \'\'+go._thisGridAlias+\'\',',
'\tsubmitIfHasClientSideErrors: true, ',
'\trowErrors: {',
'\t\t\t\tshowMessageBox: false,',
'\t\t\t\tmessageBoxTitle: \'Error\',',
'\t\t\t\tstyle: \'color: red; width: 6in; height: 2in;\'',
'\t\t},',
'\tfieldErrors: {',
'\t\ttype: \'block\', ',
'\t\tclassName: \'errorText\',',
'\t\tinputClassName: \'iOS7EditError\',',
'\t\tedit: { ',
'\t\t\tcontainer: { className: \'iOS7EditBGError\'}',
'\t\t},',
'\t\ticon: \'cssIcon=iOS7Icon iOS7IconError\',',
'\t\tglobal: {',
'\t\t\tcontId: \'{UXPRERENDEREDALIAS}.GLOBALERRORS\',',
'\t\t\thoverClassName: \'errorTextHighlight\',',
'\t\t\thoverInputClassName: \'errorInputHighlight\'',
'\t\t}',
'\t},',
'\t\t_canAjaxCallback: function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.showWaitMessage(\'page\',{useCSSAnimation: true,cssAnimationSettings: {size: \'32\'}});',
'\t\t},',
'\t\t__afterAjaxCallbackComplete: function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.hideWaitMessage(\'page\');',
'\t\t}',
'\t});',
'{UXPRERENDEREDALIAS}_DlgObj._onOrientationChange =  function(e) { ;',
'{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
';  };',
'A5.__componentObj = {UXPRERENDEREDALIAS}_DlgObj;',
'{UXPRERENDEREDALIAS}_DlgObj._tabObjects = [];',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'LIST_FAQS_SEARCH\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Search for a FAQ e.g. What is a clinical trial\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.lookups = {',
'};',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({',
'\t__dialogGuid: \'4b1ab273-ae9c-4ec4-8329-4ca5fdc7c5b8\',',
'\targumentsBoundToCotrols: \'\',',
'\t__sgr: \'\',',
'\t__dtfmt: \'MM/dd/yyyy\',',
'\t__tfmt: \'\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControlsChildren = [];',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ });',
'A5.msgBox.theme = \'iOS7\';',
'A5.msgBox.buttonWidth = \'1in\';',
'{UXPRERENDEREDALIAS}_DlgObj._defaultWindowTitleDirection = \'ltr\';',
'{UXPRERENDEREDALIAS}_DlgObj._controlContainers = {}',
'{UXPRERENDEREDALIAS}_DlgObj._panelCardControls = {',
'LIST_FAQS_SEARCH:\'PANELCARD\',',
'LIST_FAQS:\'PANELCARD\'',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._buttons = {};',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK\');',
'{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_FAQS\'] = {',
'\t_dataSourceType: \'SQL\',',
'\t_listFields: [',
'\t{',
'\t\tname: \'question\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'question\\\');\'',
'\t},',
'\t{',
'\t\tname: \'answer\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'answer\\\');\'',
'\t}',
'],',
'\t_searchPartHas: true,',
'\t_searchPart: {',
'\t\tfieldMap: [',
']',
'\t},',
'\t_searchPartStyle: \'singlekeywordcontrol\',',
'\t_keywordSearchFields: [\'Question\',\'Answer\'],',
'\t_keywordSearchControl: \'LIST_FAQS_SEARCH\',',
'\t_searchFieldOptions: {',
'"QUESTION" : {option: 2,qbf: false,type: \'c\'},',
'"ANSWER" : {option: 2,qbf: false,type: \'c\'}',
'},',
'\t_showSearchDebugInfo: false,',
'\t_mediaFields: [],',
'\t_mediaTypes: {',
'},',
'\t_phoneGap: {',
'\t\tmediaFiles: {',
'\t\t\tprotectedRead: false,',
'\t\t\ttarget: \'server\',',
'\t\t\ttargetFilenameFunction: \'return \\\'<DeviceId>_\\\' +e.object.listFieldName + \\\'_\\\' + A5.ts() + \\\'_\\\' +e.name\',',
'\t\t\tshowProgress: false,',
'\t\t\tdownload: {',
'\t\t\t\tautodownloadFilesOnPullSynch: false,',
'\t\t\t\tdeleteOrphansAfterSync: false,',
'\t\t\t\ttargetFolder: \'_AAFiles\',',
'\t\t\t\tshowProgress: false',
'\t\t\t},',
'\t\t\tonErrorFunction: function(array,fileNumber,error) { }',
'\t\t}',
'\t},',
'\t_dvmode: \'enter\',',
'\t_hasDetailView: false,',
'\ttheme: \'iOS7\',',
'\tscroll: {',
'\t\taxis: \'both\',',
'\t\tindicator: {',
'\t\t\tshow: true,',
'\t\t\th: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\tleft: \'0px\',',
'\t\t\t\tright: \'0px\'',
'\t\t\t},',
'\t\t\tv: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\ttop: \'0px\',',
'\t\t\t\tbottom: \'0px\'',
'\t\t\t}',
'\t\t},',
'\t\tmomentum: {',
'\t\t\tallow: true',
'\t\t},',
'\t\tpull: {',
'\t\t\ty: \'auto\',',
'\t\t\tx: \'auto\'',
'\t\t}',
'\t},',
'\tlayout: \'Default\',',
'\tcalculateValue: function(data) {  {var _val = \'\' +data.__primaryKey; if((_val == \'\' ||  _val == \'undefined\'  )&& typeof data[\'*rowGUID\'] != \'undefined\') _val = \'_temporaryValue_\' + data[\'*rowGUID\']; return _val;}},',
'\tlistVariableName: \'LIST_FAQS\',',
'\tlistVariableNameTrueCase: \'LIST_FAQS\',',
'\t_hostComponentId: \'{UXPRERENDEREDALIAS}\',',
'\t_includeCRC: true,',
'\tallParentLists: [],',
'\t__flagPersist: false,',
'\tonBeforeUpdateRow: function(index,data){;},',
'\tonUpdateRow: function(index,data){;},',
'\tonBeforeAddRows: function(data,info){;},',
'\tonAddRows: function(data,info){;},',
'\tonBeforeRemoveRows: function(rows){;},',
'\tonRemoveRows: function(rows){;},',
'\tonListDraw: function(data,startIndex) {var id = this.contId +\'.NORECORDSINLIST\';',
'var e = $(this.contId + \'.CONTENT\');',
'if(data.length == 0) {',
'\tvar e = $(this.contId + \'.CONTENT\');',
'\tvar eleHeight = ($(this.contId + \'.CONTENTWRAPPER\').offsetHeight /2 ) -12;',
'\te.innerHTML = \'<div id="\'+id +\'" style="text-align: center;padding-top: \' + eleHeight + \'px;">Please search for a FAQ.</div>\';',
'} else {\t',
'\tvar ele = $(id);',
'\tif(ele) {',
'\t\te.removeChild(ele);',
'\t}',
'}',
'if(A5.flags.isMobile) $e.add(this.contId+\'.CONTENT\',\'abstractdown\',function(e) {$e.preventDefault(e);});},',
'\tchildLists: [],',
'\tchildListEndpoints: [\'LIST_FAQS\'],',
'\t_populateAllChildLists: function() { },',
'\tonSelect: function() {{UXPRERENDEREDALIAS}_DlgObj._listRowSelect(\'LIST_FAQS\',this);',
';',
'this._selectedRow = this.selection[0];},',
'\tonClick: function() {',
'{UXPRERENDEREDALIAS}_DlgObj._listSystemOnClick(\'LIST_FAQS\',this.selection[0]);},',
'\tlayouts: {',
'\t\tDefault: {',
'\t\t\ttype: \'column\',',
'\t\t\tshowColumnTitles: true,',
'\t\t\titem: {',
'\t\t\t},',
'\t\t\tcolumns: [',
'\t\t\t\t{',
'\t\t\t\t\theader: {',
'\t\t\t\t\t\thtml: \'Question\',',
'\t\t\t\t\t\tstyle: \'height: 20px;\'',
'\t\t\t\t\t},',
'\t\t\t\t\tresize: true,',
'\t\t\t\t\tdata: {',
'\t\t\t\t\t\ttemplate: \'<span class="" style="white-space:normal;"><span id="{UXPRERENDEREDALIAS}.LIST_FAQS.QUESTION.I.{*dataRow}">{{UXPRERENDEREDALIAS}_DlgObj._lsh(question,\\\'LIST_FAQS\\\',\\\'question\\\')}</span></span>&nbsp;\'',
'\t\t\t\t\t},',
'\t\t\t\t\torder: \'question\',',
'\t\t\t\t\twidth: \'flex(1)\'',
'\t\t\t\t},',
'\t\t\t\t{',
'\t\t\t\t\theader: {',
'\t\t\t\t\t\thtml: \'Answer\',',
'\t\t\t\t\t\tstyle: \'height: 20px;\'',
'\t\t\t\t\t},',
'\t\t\t\t\tresize: true,',
'\t\t\t\t\tdata: {',
'\t\t\t\t\t\ttemplate: \'<span class="" style="white-space:normal;"><span id="{UXPRERENDEREDALIAS}.LIST_FAQS.ANSWER.I.{*dataRow}">{{UXPRERENDEREDALIAS}_DlgObj._lsh(answer,\\\'LIST_FAQS\\\',\\\'answer\\\')}</span></span>&nbsp;\'',
'\t\t\t\t\t},',
'\t\t\t\t\torder: \'answer\',',
'\t\t\t\t\twidth: \'flex(3)\'',
'\t\t\t\t}\t\t\t',
']',
'\t\t}',
'\t},',
'\tcontent: {',
'\t\theader: {',
'\t\t\tshow: false',
'\t\t},',
'\t\tfooter: {',
'\t\t\tshow: false',
'\t\t}',
'\t},',
'\tsystemEvents: {',
'\t\tonTap: function(e) {},',
'\t\tafterAjaxCallback: function(e) {},',
'\t\tafterClientSideFilter: function(e) {},',
'\t\tbeforeServerSideSort: function(e) {},',
'\t\tafterServerSideSort: function(e) {},',
'\t\tonSwipe: function(e) {},',
'\t\tonScroll: function(e) {},',
'\t\tonPullRelease: function(e) {},',
'\t\tonPull: function(e) {},',
'\t\tonPullEnd: function(e) {},',
'\t\tafterSearchComplete: function(e) {},',
'\t\tbeforeSearch: function(e) {},',
'\t\tonSearchResultTooLarge: function(e) {},',
'\t\tonSearchResultTooLargeForLocalStorage: function(e) {},',
'\t\tonBeforePersistToLocalStorage: function(e) {},',
'\t\tonPersistToLocalStorage: function(e) {},',
'\t\tonRestoreFromLocalStorage: function(e) {},',
'\t\tafterRenderComplete: function(e) {},',
'\t\tbeforeFetchMore: function(e) {},',
'\t\tafterFetchMore: function(e) {},',
'\t\tbeforePageNavigate: function(e) {},',
'\t\tafterPageNavigate: function(e) {},',
'\t\tbeforeRefreshRow: function(e) {},',
'\t\tafterRefreshRow: function(e) {},',
'\t\tafterServerSideSummaryCompute: function(summary) {},',
'\t\t_afterAjaxCallback: function() {this._refreshStateMessages();}',
'\t},',
'\t_clientsideSummary: [],',
'\tcomputeClientSideSummaryValues: function(e) {},',
'\t_executeEvent: function(event,obj) { ',
'\treturn {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_FAQS\',event,obj);',
'}',
',',
'\t_selectAll: function() {',
'\tvar v = this._values;',
'\tvar v2 = [].concat(v);',
'\tthis.setValue(v2,false);',
'}',
',',
'\tsearchList: function() { ',
'\tif(this._searchPartStyle == \'querybyform\') { ',
'\t\tif(this._dvmode != \'search\') return false;',
'\t}',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse {',
'\t\t\tif(this._dataSourceType.toLowerCase() == \'sql\' || this._dataSourceType.toLowerCase() == \'dbf\') {',
'\t\t\t\tmode = \'serverside\';',
'\t\t\t} else { ',
'\t\t\t\tmode = \'clientside\';',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'search\', searchWhere: mode, listIsDirty: flagDirty});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._searchListServerSide(obj);',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilter();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'search\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_searchListServerSide: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar _d={};',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tif(flagDirty) { ',
'\t\talert(\'Can\\\'t execute server-side search because List has edits that have not yet been synchronized.\');',
'\t\treturn false;',
'\t}',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t_data = _data + \'&\' + A5.ajax.buildURLParam(\'__searchOptions\',JSON.stringify(obj));',
'\tthis.filter = false;',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPart\',\'\',_data);',
'}',
',',
'\tclearSearchList: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse mode = \'serverside\';',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'clear\', searchWhere: mode});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._clearSearchListServerSide();',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilterClear();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'clear\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_clearSearchListServerSide: function() { ',
'\tvar _d={};',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPartClear\',\'\',_data);',
'}',
',',
'\t_str: function(txt) {',
'\ttxt = txt.replace("\'","\\\\\'");',
'\ttxt = \'\\\'\' + txt + \'\\\'\';',
'\treturn txt;',
'}',
',',
'\t_QBF: function(txt) { ',
'\tvar o = {};',
'\to.v2 = \'\';',
'\to.v1 = txt;',
'\to.flag = false;',
'\tif(txt.indexOf(\'>=\') >= 0) {',
'\t\to.op = \'>=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<=\') >= 0 ) { ',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'>\') >= 0 ) {',
'\t\to.op = \'>\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<\') >= 0)  { ',
'\t\to.op = \'<\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') == 0)  {',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if ( txt.indexOf(\'..\', txt.length - \'..\'.length) !== -1 ) { ',
'\t\t//ends with ..',
'\t\to.op = \'>=\';',
'\t\ttxt = txt.split(\'..\')',
'\t\to.v1 = txt[0];',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') > 0 ) {',
'\t\to.op = \'between\'',
'\t\ttxt = txt.split(\'..\');',
'\t\to.v1 = txt[0];',
'\t\to.v2 = txt[1];',
'\t\to.flag = true;',
'\t}',
'\treturn o;',
'}',
',',
'\t_match: function(data,field,val,obj) { ',
'\tvar flagKeyword = false;',
'\tif(typeof obj.flagKeyword != \'undefined\') flagKeyword = obj.flagKeyword;',
'\tif(flagKeyword) { ',
'\t\tvar obj_i = this._searchFieldOptions[field.toUpperCase()];',
'\t\tthis._setSearchOps(obj,obj_i);',
'\t}',
'\tvar _d = \'\';',
'\tvar _v = val;',
'\tvar flagC = false;',
'\tif(obj.type == \'c\') {',
'\t\tflagC = true;',
'\t\tif(!obj.caseSensitive) _v = _v.toLowerCase();',
'\t} else { ',
'\t\t//non mumeric searches are only mode 1 or -1',
'\t\tif(obj.mode > 1) obj.mode = 1;',
'\t\tif(obj.mode < -1) obj.mode = -1;',
'\t}',
'\tvar flag = false;',
'\tobj.usesQBFOperator = false;',
'\tif(obj.qbf) { ',
'\t\t_v = _v.split(\',\');',
'\t} else {',
'\t\t_v = [_v];',
'\t}',
'\tvar o = {}',
'\tvar r = \'\';',
'\tvar _vals = [];',
'\tfor(var i = 0; i < _v.length; i++) { ',
'\t\tif(obj.qbf) {',
'\t\t\to = this._QBF(_v[i]);',
'\t\t} else {',
'\t\t\to.flag = false;',
'\t\t\to.v1 = _v[i];',
'\t\t\to.v2 = \'\';',
'\t\t}',
'\t\tif(typeof data[field] != \'undefined\') {',
'\t\t\tif(data[field] != null) { ',
'\t\t\t\t_d = data[field];',
'\t\t\t\tif(obj.type == \'n\') { ',
'\t\t\t\t\to.v1 = Number(o.v1);',
'\t\t\t\t\to.v2 = Number(o.v2);',
'\t\t\t\t\t_d = Number(_d);',
'\t\t\t\t} else if (obj.type == \'l\') { ',
'\t\t\t\t\to.v1 = $u.s.toBool(o.v1);',
'\t\t\t\t\to.v2 = $u.s.toBool(o.v2);',
'\t\t\t\t\t_d = $u.s.toBool(_d);',
'\t\t\t\t} else if (obj.type == \'d\') { ',
'\t\t\t\t\to.v1 = A5.stringToDate(o.v1,obj.dateFormat);',
'\t\t\t\t\to.v2 = A5.stringToDate(o.v2,obj.dateFormat);',
'\t\t\t\t\tif(typeof _d == \'string\') _d = A5.stringToDate(_d,obj.dateFormat);',
'\t\t\t\t\tif(o.v1 != \'\' && o.v1 != null ) o.v1 = o.v1.getTime();',
'\t\t\t\t\tif(o.v2 != \'\' && o.v2 != null ) o.v2 = o.v2.getTime();',
'\t\t\t\t\tif(_d != \'\' && _d != null ) _d = _d.getTime();',
'\t\t\t\t}',
'\t\t\t\tif(flagC) {if(!obj.caseSensitive && typeof _d == \'string\') _d = _d.toLowerCase();}',
'\t\t\t\tif(o.flag) { ',
'\t\t\t\t\t//has qbf operators',
'\t\t\t\t\tif(o.op == \'between\') {',
'\t\t\t\t\t\tif(flagC) {',
'\t\t\t\t\t\t\tif(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tif(flagC) _d = _d.substr(0,o.v1.length)',
'\t\t\t\t\t\tif(o.op == \'>=\') if( _d >= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<=\') if( _d <= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'>\') if(_d > o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<\') if(_d < o.v1) flag = true;',
'\t\t\t\t\t}',
'\t\t\t\t} else { ',
'\t\t\t\t\tif(obj.mode == 1 || obj.mode == -1 ) {',
'\t\t\t\t\t\tif(obj.mode == 1) if(_d == o.v1) flag = true;; //match',
'\t\t\t\t\t\tif(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match',
'\t\t\t\t\t} else if (obj.mode == 2 || obj.mode == -2) { ',
'\t\t\t\t\t\tif(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains',
'\t\t\t\t\t\tif(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;',
'\t\t\t\t\t} else if (obj.mode == 3 || obj.mode == -3) { ',
'\t\t\t\t\t\tif(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with',
'\t\t\t\t\t\tif(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v1 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v1) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v1);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v2 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v2) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v2);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(flag) { ',
'\t\tif(typeof this._state.highlight == \'undefined\') this._state.highlight = {};',
'\t\tthis._state.highlight[field.toUpperCase()] = _vals;',
'\t} else { ',
'\t\t//this._state.highlight[field.toUpperCase()] = [];',
'\t}',
'\treturn flag;',
'}',
',',
'\t_setSearchOps: function(obj,obj_i) { ',
'\tobj.mode = obj_i.option;',
'\tobj.qbf = obj_i.qbf;',
'\tobj.type = obj_i.type;',
'\t//obj.treatAs = obj_i.treatAs;',
'}',
',',
'\t_searchPartOperator: \'&&\',',
'\t_searchPartSubmit_clientSideFilter: function() { ',
'\tif(!this._searchPartHas) return true;',
'\t//_searchPartStyle: \'individualcontrols\'',
'\tthis._state.highlight = {};',
'\tif(this._searchPartStyle == \'singlekeywordcontrol\') { ',
'\t\tvar searchFor = {UXPRERENDEREDALIAS}_DlgObj.getValue(this._keywordSearchControl);',
'\t\tvar arr = this._keywordSearchFields;',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\t//obj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 1;',
'\t\tobj.flagKeyword = true;',
'\t\tvar objStr = JSON.stringify(obj)',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\texpn_i = \'this._match(data,\' +this._str(arr[i]) + \',\' + this._str(searchFor) + \',\'+objStr+\')\';',
'\t\t\texpn.push(expn_i);',
'\t\t}',
'\t\texpn = expn.join(\'||\');',
'\t\t//alert(expn);',
'\t} else if ( this._searchPartStyle == \'individualcontrols\' || this._searchPartStyle == \'querybyform\'  ) { ',
'\t\tvar map = this._searchPart.fieldMap;',
'\t\tvar val = \'\';',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\tobj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 2;',
'\t\t//var objStr = JSON.stringify(obj)',
'\t\tvar ac = [];',
'\t\tvar aco = {};',
'\t\tvar _highlight = {};',
'\t\tif(this._searchPartStyle == \'individualcontrols\') {',
'\t\t\tfor(var i = 0; i < map.length; i++) { ',
'\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(map[i].control);',
'\t\t\t\tif(val != \'\') {',
'\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(map[i].field) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t} else if (this._searchPartStyle == \'querybyform\' ) { ',
'\t\t\tvar controlName = \'\';',
'\t\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\t\tif(controlName != \'\') {',
'\t\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(controlName);',
'\t\t\t\t\tif(val != \'\') {',
'\t\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(this._listFields[i].name) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t\t\taco.control = controlName;',
'\t\t\t\t\t\taco.value = val;',
'\t\t\t\t\t\tac.push(aco);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis.__queryByFormValues = ac;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\t\t}\t',
'\t\tvar operator = \'&&\';',
'\t\tif(typeof this._searchPartOperator != \'undefined\') operator = this._searchPartOperator;',
'\t\texpn = expn.join(\' \'+operator+\' \');',
'\t} ',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = expn;',
'\t}',
'\t//user did not fill in any search fields',
'\tif(expn == \'\') return true;',
'\tvar fnTxt = \'if(\' + expn + \') {return true;} else { return false;}\'',
'\tvar searchFunction = new Function(\'data\',fnTxt);',
'\tthis.setFilter(searchFunction);',
'\tif(this._rData.length > 0) this.setValue(0);',
'}',
',',
'\t_searchPartSubmit_clientSideFilterClear: function() { ',
'if(!this._searchPartHas) return true;',
'\tthis._state.highlight = {};',
'\tthis.setFilter(false);',
'\tvar map = this._searchPart.fieldMap;',
'\tvar val = \'\';',
'\tvar od = {UXPRERENDEREDALIAS}_DlgObj.originalValues[0];',
'\tfor(var i = 0; i < map.length; i++) {',
'\t\tvar val = od[map[i].control.toUpperCase()];',
'\t\tif(typeof val != \'undefined\') {UXPRERENDEREDALIAS}_DlgObj.setValue(map[i].control,val,false);',
'\t}',
'\tthis.setFilter(false);',
'\tdelete this.__queryByFormValues;',
'\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\tif(this._data.length > 0) this.setValue(0);',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = \'\';',
'\t}',
'}',
',',
'\tdetailViewIsDirty: function() { return false; },',
'\tpopulateUXControls: function() { return true; },',
'\tlistIsDirty: function() { return false; },',
'\tlookupValue: function(key,name,keyValue) {\tvar _d = this._data;',
'\tvar indx = A5FindPropInArray(_d,key,keyValue);',
'\tvar rv = \'\';',
'\tif(indx >=0) {',
'\t\tif(name == \'__rowData__\') return _d[indx];',
'\t\trv =  _d[indx][name];',
'\t} else {',
'\t\t//null out all properties in row',
'\t\tvar _d2 = {};',
'\t\tif(typeof _d[0] == \'undefined\') { return {}} ;',
'\t\tfor(var n in _d[0]) {',
'\t\t\t_d2[n] = \'&nbsp;\';',
'\t\t}',
'\t\trv = _d2;',
'\t}',
'\treturn rv;',
'}',
',',
'\tallowNullSelection: false,',
'\tallowNullDeselection: false,',
'\tloopNavigate: false,',
'\tloopNavigateNullSelection: false,',
'\trefreshChildLists: function() {{UXPRERENDEREDALIAS}_DlgObj._listRefreshCascadingLists(\'LIST_FAQS\'); },',
'\trowExpander: function(rowNumber) { ',
'\tvar mode = typeof arguments[2] != \'undefined\' ? arguments[2] : \'toggle\';',
'\tif(typeof rowNumber == \'undefined\' || rowNumber == \'\' ) {',
'\t\trowNumber = this.selection[0];',
'\t\tif(typeof rowNumber == \'undefined\') return false;',
'\t}',
'\tvar animObj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\tvar ele = $(this._hostComponentId + \'.\' + this.listVariableName + \'.ROWEXPANDER.\' + rowNumber);',
'\tif(ele) {',
'\t\tif(mode == \'toggle\') A5.u.element.toggle(ele,animObj);',
'\t\tif(mode == \'show\') A5.u.element.show(ele,animObj);',
'\t\tif(mode == \'hide\') A5.u.element.hide(ele,animObj);',
'\t}',
'}',
',',
'\tafterClientSideSummaryCompute: function(csSummary) { },',
'\tselectCurrentLayout: function(name) { ',
'var pl = this.layouts[name];',
'if(typeof pl == \'undefined\') return false;',
'this.setLayout(name);',
'if(pl.type == \'column\') {',
'\tthis.columnLayout.header.show = this.layouts[name].showColumnTitles; ',
'\tthis.refresh();',
'}',
'},',
'\tonFilter: function() { \tvar e = {}; ',
'\te.rowCount = this._values.length;  ',
'\tvar ele = $(\'{UXPRERENDEREDALIAS}.__listId__.RECORDCOUNT\'); ',
'\tif(ele) {ele.innerHTML = e.rowCount;}; ',
'\tif(this.persistToStorage) { this.persistToStorage({});} ',
'\t(function(e) {   })(e);',
'}',
',',
'\tserverSideSort: function(column) {',
'var e = {};',
'e.column = column;',
'var result = this.systemEvents.beforeServerSideSort(e);',
'if(result == false) return false;',
'var obj = {};',
'obj.cmd = \'sort\';',
'obj.column = column;',
'obj.layoutName = this.layout;',
'obj.listState = this._state;',
'var data = \'_listId=LIST_FAQS&\' + A5.ajax.buildURLParam(\'_cmdObj\',$u.o.toJSON(obj));',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:listServerSideSort\',\'\',data);',
'},',
'\tfilterListClientSide: function(searchFor) {',
'//var result = this.systemEvents.beforeClientSideFilter();',
'//if(result == false) return false;',
'if(searchFor != \'\') {',
'\t//fixes bug in Chrome when searching on dates strings that use forward slashes',
'\tsearchFor = searchFor.replace(/\\//g,\'\\\\/\');',
'\tthis.setFilter({\'question\': RegExp(\'\' + searchFor,\'i\'), \'answer\': RegExp(\'\' + searchFor,\'i\')});',
'} else this.setFilter(false);',
'var rowCount = this._values.length;',
'//var e = {};',
'//e.rowCount = rowCount;',
'//this.systemEvents.afterClientSideFilter(e);',
'var ele = $(\'{UXPRERENDEREDALIAS}.LIST_FAQS.RECORDCOUNT\');',
'if(ele) ele.innerHTML = rowCount;',
'}',
',',
'\tscrollToClosestValue: function(val) { \t',
'\tif(typeof val != \'string\') val = val.join(\'\');',
'\tvar flagCI = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\tvar pos = typeof arguments[2] != \'undefined\' ? arguments[2] : \'top\';',
'\tvar anim = typeof arguments[3] != \'undefined\' ? arguments[3] : {}',
'\tvar _d = this._rData;',
'\tvar len = val.length;',
'\tvar _d2;',
'\tvar i2 = -1;',
'\tif(flagCI) val = val.toLowerCase();',
'\tfor(var i = 0 ; i < _d.length; i++) {',
'\t\ti2 = i;',
'\t\t_d2 = String(_d[i][\'*value\']);',
'\t\t_d2 = _d2.substr(0,len);',
'\t\t_d2 = $u.s.pad(_d2,len,\' \',\'l\');',
'\t\tif(flagCI) _d2 = _d2.toLowerCase();',
'\t\tif(val <= _d2){',
'\t\t\t break;',
'\t\t}',
'\t}',
'\tif(i2 > -1) { ',
'\t\tthis.scrollToItem(i2,{mode: pos, animation: anim});',
'\t}',
'}',
',',
'\t_refreshStateMessages: function() {',
'\tvar ele = \'\';',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_FAQS.PAGENUMBER\');',
'\tif(ele) ele.innerHTML = this._state.page;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_FAQS.PAGECOUNT\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_FAQS.PAGECOUNT.PAGESELECTOR\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;\t',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_FAQS.LISTSTATE\');',
'\tif(ele) {',
'\t\tvar listState = $u.o.toJSON(this._state);',
'\t\tele.innerHTML = listState;',
'\t}',
'\t//navigation buttons\t',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_NEXT.LIST_FAQS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_LAST.LIST_FAQS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_FIRST.LIST_FAQS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_PREV.LIST_FAQS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = $(\'{UXPRERENDEREDALIAS}.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LIST_FAQS\');',
'\tif(ele) {',
'\t\tvar data = this._recordNavigatorLinks;',
'\t\tif(data) A5.form.populateSelect(ele,this._state.page,data,true);',
'\t}',
'}',
',',
'\tview: {',
'\t\ttype: \'dynamic\',',
'\t\tsize: 15,',
'\t\tmaxSize: 0,',
'\t\toffset: 5,',
'\t\tnavigation: {',
'\t\t\tpull: {',
'\t\t\t\tallow: true,',
'\t\t\t\tsize: 15',
'\t\t\t},',
'\t\t\tprev: {',
'\t\t\t\thtml: \'Previous\'',
'\t\t\t},',
'\t\t\tnext: {',
'\t\t\t\thtml: \'Next\'',
'\t\t\t}',
'\t\t}',
'\t},',
'\tscroller: {',
'\t\thas: true,',
'\t\tflow: \'ttb\',',
'\t\tlocation: \'after\',',
'\t\toffset: {',
'\t\t\ttop: \'0px\',',
'\t\t\tbottom: \'0px\',',
'\t\t\tleft: \'0px\',',
'\t\t\tright: \'0px\'',
'\t\t},',
'\t\tslider: {',
'\t\t\thandle: {',
'\t\t\t},',
'\t\t\tshadow: {',
'\t\t\t\tshow: true',
'\t\t\t},',
'\t\t\tmessage: {',
'\t\t\t\tshow: \'auto\',',
'\t\t\t\tlowSwitch: 75,',
'\t\t\t\thighSwitch: 75',
'\t\t\t}',
'\t\t},',
'\t\tdial: {',
'\t\t\tshow: \'drag\',',
'\t\t\tinvertDrag: false,',
'\t\t\tmessage: {',
'\t\t\t},',
'\t\t\tpixelStep: 4,',
'\t\t\tsize: 2',
'\t\t},',
'\t\tshow: true',
'\t},',
'\t_getRoute: function() { ',
'\tvar obj  = typeof arguments[1] != \'undefined\' ? arguments[1] : [];',
'\tvar mode = typeof arguments[0] != \'undefined\' ? arguments[0] : \'rowNumber\'; //',
'\tif(typeof this.selection[0] == \'undefined\') return false;',
'\tif(typeof this.getData(this.selection[0]) == \'undefined\') return false;',
'\tif(mode == \'rowNumber\') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])[\'*key\']});',
'\telse obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tif(lObj) lObj._getRoute(mode,obj);',
'\t}',
'\treturn obj;',
'}',
',',
'\t_setRoute: function(route) { ',
'\tif(typeof route == \'undefined\') { ',
'\t\troute = this.__currentRoute;',
'\t\tif(typeof route == \'undefined\') return false;',
'\t}',
'\tvar lObj = \'\';',
'\tvar row = \'\';',
'\tfor(var i = 0; i < route.length; i++) {',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(route[i].list);',
'\t\trow = route[i].row;',
'\t\tvar flag = typeof this._restoringList != \'undefined\' ? !this._restoringList : true;',
'\t\tif(typeof row != \'undefined\') {',
'\t\t\tvar rowFixed = \'\';',
'\t\t\tif(typeof lObj._dataMap == \'undefined\') return false;',
'\t\t\t//var msg = JSON.stringify(lObj._dataMap);',
'\t\t\t//alert(\'route[i].row:\' + route[i].row + \' ------ \' + msg);',
'\t\t\trowFixed = lObj._dataMap.indexOf(route[i].row);',
'\t\t\tlObj.setValue(rowFixed,flag);',
'\t\t\tif(this._clearServerSideErrors) this._clearServerSideErrors();',
'\t\t\tif(this._showServerSideErrors) this._showServerSideErrors();',
'\t\t\tif(this._showWriteConflictErrors) this._showWriteConflictErrors();',
'\t\t}',
'\t}',
'}',
',',
'\t_useServerSideSyncLog: false,',
'\t_searchHighlighting: true,',
'\t_searchHighlightStyle: \'color: red;\'',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_FAQS\'] = [];',
';',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ \t__dialogGuid: \'4b1ab273-ae9c-4ec4-8329-4ca5fdc7c5b8\', \t__dtfmt: \'MM/dd/yyyy\' });',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'LIST_FAQS\'] =  { type: \'list\',  data: {UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_FAQS\'],  settings: {UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_FAQS\'] }',
'{UXPRERENDEREDALIAS}_DlgObj.setVariables({});',
'{UXPRERENDEREDALIAS}_DlgObj._dataBoundControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._primaryTableAlias = \'\';',
'{UXPRERENDEREDALIAS}_DlgObj._listControlsInfo = {};',
'{UXPRERENDEREDALIAS}_DlgObj._hasPanels = true;',
'{UXPRERENDEREDALIAS}_DlgObj._hasOnSynchronizeEvent = false;',
'A5.__dtfmt = \'MM/dd/yyyy\';A5.__tfmt = \'\';',
'A5.__flagWorkingPreview = false;',
'A5.__flagIIS = false;',
'A5.__flagSimulateIIS = true;',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation = function() { ',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj == \'undefined\') return \'\';',
'\tvar orientation = {UXPRERENDEREDALIAS}_DlgObj.getOrientation();',
'\tif( orientation == \'landscape\') {',
'\t\t\t//landscape',
'\t\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'landscape\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'landscape\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'landscape\'});',
'\t\t\t}',
'\t} else {',
'\t\t//portrait',
'\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'portrait\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'portrait\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'portrait\'});',
'\t\t\t}',
'\t}',
'}',
'\tA5.flags.cordovaLoaded = true;',
'\ttry {',
'\t\tdocument.addEventListener(\'deviceready\', function() { ',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onCordovaReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onPhoneGapReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._cordovaReady = true;',
'\t\t\tnavigator.geolocation.getAccuratePosition = function(geolocationSuccess, geolocationError, options) {',
'\tvar _lastCheckedPosition = null;',
'\tvar _locationEventCount = 0;',
'\toptions = options || {};',
'\toptions.context = this;',
'    function _checkLocation(pos) {',
'        _lastCheckedPosition = pos;',
'        _locationEventCount++;',
'        if ((pos.coords.accuracy <= options.desiredAccuracy) && (_locationEventCount > options.ignoreResultCount)) {',
'            clearTimeout(_timerID);',
'            navigator.geolocation.clearWatch(_watchID);',
'            _foundPosition(pos);',
'        } ',
'    }',
'    function _stopLocationCheck() {',
'    \t var error = {};',
'    \t error.code = 0;',
'    \t error.message = \'Timeout: No results\';',
'        navigator.geolocation.clearWatch(_watchID);',
'        _lastCheckedPosition ? _foundPosition(_lastCheckedPosition) : geolocationError.call(options.context,error);',
'    }',
'    function _onError(error) {',
'        clearTimeout(_timerID);',
'        navigator.geolocation.clearWatch(_watchID);',
'        geolocationError.call(options.context,error);',
'    }',
'    function _foundPosition(pos) {',
'        geolocationSuccess.call(options.context,pos);',
'    }',
'    if (!options.maxWait) {            ',
'    \toptions.maxWait = 10000; ',
'    }\t',
'    if (!options.desiredAccuracy) {',
'    \t  options.desiredAccuracy = 20; ',
'    }',
'    if (!options.timeout) {',
'        options.timeout = options.maxWait;',
'\t }',
'\t if (!options.ignoreResultCount) {',
'\t \t\toptions.ignoreResultCount = 1;',
'\t }',
'    options.maximumAge = 0; ',
'    options.enableHighAccuracy = true; ',
'    var _watchID = navigator.geolocation.watchPosition(_checkLocation, _onError, options);',
'    var _timerID = setTimeout(_stopLocationCheck, options.maxWait); ',
'}',
'\t\t} , false);\t',
'\t}',
'\tcatch(err) {}',
'{UXPRERENDEREDALIAS}_DlgObj._waitGif = \'css/A5System/Images/wait.gif\';',
'{UXPRERENDEREDALIAS}_DlgObj._layoutMode = \'containerwidth\';',
'{UXPRERENDEREDALIAS}_DlgObj._responsiveRulesMode = \'firsttrue\';',
'{UXPRERENDEREDALIAS}_DlgObj.__controlNesting = {',
'PANELHEADER: [\'container:LEFT_BUTTONS\'],',
'LEFT_BUTTONS: [],',
'CONTAINER_FAQSEARCH: [\'LIST_FAQS_SEARCH\']',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._listsDV = [];',
'{UXPRERENDEREDALIAS}_DlgObj._listControls = [\'LIST_FAQS\']',
'{UXPRERENDEREDALIAS}_DlgObj._localStorageSettings = {namespace: \'ALPHA_CWEducation\',friendlyName: \'Educational Material\',description: \'Patient Educational Materials\',persistVariableValues: false,__version: 1,persistComponentState: false,workingPreviewTestingFolder: \'LocalStorageTesting\',restore: {variables: false,data: false,state: false},compressData: true,minify: true,variablesToNotPersist: \'\',workingPreviewTestingMode: \'Browser\',compressListData: true}',
'{UXPRERENDEREDALIAS}_DlgObj.__r = [\'3rkeltoSdQc=\']',
'{UXPRERENDEREDALIAS}_DlgObj._staticHTMLMode = false',
'{UXPRERENDEREDALIAS}_DlgObj._EDITOR_EDITORSET = {};',
'{UXPRERENDEREDALIAS}_DlgObj.styleName = \'iOS7\';',
'{UXPRERENDEREDALIAS}_DlgObj.styleVersion = 3',
'{UXPRERENDEREDALIAS}_DlgObj.framesInfo = {',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._noPersist = []',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK\',A5.d.evnts.click,function(e) {',
'CWApp.goBackToMainMenu({UXPRERENDEREDALIAS}_DlgObj);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK\');',
'',
'{UXPRERENDEREDALIAS}_DlgObj.prepare();{UXPRERENDEREDALIAS}_DlgObj.populate({UXPRERENDEREDALIAS}_DlgObj.originalValues[0]);',
'{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);',
'',
'',
'if(!A5.flags.isMobile) $e.add(window,\'resize\',{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation);',
'else $e.add(window,\'orientationchange\',{UXPRERENDEREDALIAS}_DlgObj._orientationChangeHandler,{UXPRERENDEREDALIAS}_DlgObj,true);',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation();',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var listObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_FAQS\');',
'if(listObj) listObj._state.recordCount = 0;',
'if(listObj) listObj._state.recordCountFormatted = \'0\';',
'if(listObj) listObj._state.lastBreakValue = \'<None>\';',
'if(listObj) listObj._state.pageCount = -0;',
'if(listObj) listObj._state.pageSize = 20;',
'if(listObj) {var ele = $(\'{UXPRERENDEREDALIAS}.LIST_FAQS.RECORDCOUNT\'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};',
'if(listObj) listObj._state.paginated = false;',
'if(listObj) listObj._state._optimizedJSON = true;',
'if(listObj) listObj._state.filter = \'1=2\';',
'if(listObj) listObj._state.having = \'\';',
'if(listObj) listObj._state.order = \'Id\';',
'if(listObj) listObj._state.filterParameters = \'\';',
'if(listObj) listObj._state.highlight = {  };',
'if(listObj) listObj._state.whereClause = \'1 = 2\';',
'if(listObj) listObj._state.whereParameters = \'\';',
'\t\t',
'\t\tvar flagPersist = false;',
'\t\tif(typeof listObj._flagPersistDataOK != \'undefined\') { ',
'\t\t\tif(listObj._flagPersistDataOK) { ',
'\t\t\t\tvar data = listObj._data;',
'\t\t\t\tlistObj.persistToStorage({mode:\'populate\', data: data});',
'\t\t\t}',
'\t\t}',
'\t\t',
'\t\t',
';',
'if(listObj) listObj._state.pageCount = -0;',
'{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_FAQS\',\'afterRenderComplete\',{});',
'',
'if(listObj._refreshStateMessages) listObj._refreshStateMessages();',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'setTimeout(function() { },0);',
'{UXPRERENDEREDALIAS}_DlgObj._listsWithJSFuncDataSource = {};',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onInitializeComplete\');',
'{UXPRERENDEREDALIAS}_DlgObj.initialized = true;',
'',
'',
'',
'',
'',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._onRenderComplete = function() { {UXPRERENDEREDALIAS}_DlgObj._runJSOnLoad(); {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule(); }; ',
'',
'setTimeout(function() { var p = {UXPRERENDEREDALIAS}_DlgObj.panelGet(\'PANELNAVIGATOR\'); if(p._sizing == \'window\') { p._sizeWindow();} else { p.refresh(); } },100);',
'setTimeout(function() {{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onRenderComplete\'); {UXPRERENDEREDALIAS}_DlgObj.flagRenderComplete = true;  {UXPRERENDEREDALIAS}_DlgObj._restoreFromLocalStorage(); },1);',
'',
'var o2 = \'portrait\';',
'if(window.innerHeight < window.innerWidth) o2 = \'landscape\';',
'{UXPRERENDEREDALIAS}_DlgObj._screen = {h: window.innerHeight, w: window.innerWidth, o: o2};',
'',
'{UXPRERENDEREDALIAS}_DlgObj._getOnlineStatus();',
'try {',
'window.addEventListener("offline",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'window.addEventListener("online",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'} catch(err){}',
'',
'',
'setTimeout(function() {$e.execute(\'device.screen\',\'a5resize\')},1);',
'setTimeout(function() { },10);;',
'{UXPRERENDEREDALIAS}_DlgObj._activeLanguage = \'\';',
''].join('\n');
jsout = jsout.replace(/\{UXPRERENDERAJAXURL\}/g,'http://69.7.228.180/centerappv1/EDUCATIONMATERIAL.a5wcmp?__virtualPage=__a5runDialog.a5w&__dialogFilename=EDUCATIONMATERIAL&__alias={UXPRERENDEREDALIAS}&__unsaved=no');
jsout = jsout.replace(/\{UXPRERENDEREDALIAS\}/g,go.alias);
jsout = jsout.replace(/\{UXPRERENDEROUTPUTDIV\}/g,go.dialog2Div);
;return jsout}; 
function PRECOMPUTEDUX_7faa32070e7240bf859e0602aa63d5a3_MyProfile(go) { 
var jsout = [
'A5.u.element.setContent(\'{UXPRERENDEROUTPUTDIV}\',\'<style type="text/css">\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_dirtyRow { position:relative; }\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_dirtyRow:before { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid orange;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_newRow {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_newRow:before { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid blue;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_hasError {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_hasError:after { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\tbottom: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid red;\\n\\tborder-bottom-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-top-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_deletedRow {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_deletedRow:before { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid purple;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_dirtyRowInherited { position:relative; }\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_dirtyRowInherited:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid orange;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_deletedRowInherited { position:relative; }\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_deletedRowInherited:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid purple;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_newRowInherited {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_newRowInherited:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid blue;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_hasErrorInherited {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_hasErrorInherited:after { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\tbottom: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid red;\\n\\tborder-bottom-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-top-color: transparent;\\nopacity: .3;\\n}\\n.parentDeleted { \\n\\tposition:relative;\\n}\\n.parentIsDeleted .parentDeleted:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid purple;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n</style>\\n<style>\\n</style><iframe style="display:none;" id="{UXPRERENDEREDALIAS}.__IFRAME1"></iframe>\\n<input type="hidden" value="" id="{UXPRERENDEREDALIAS}.PARAMETERBUCKET"/>\\n<input type="file" style="position:absolute; top:-1000px;visibility:hidden;" accept="image/*" id="{UXPRERENDEREDALIAS}._GETPHOTO"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" multiple = "" id="{UXPRERENDEREDALIAS}._GETFILEMULTI"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" id="{UXPRERENDEREDALIAS}._GETFILE"/><input id="{UXPRERENDEREDALIAS}.V.R1.TRIALALERT" name="V.R1.TRIALALERT" type="hidden"/>\\n<input id="{UXPRERENDEREDALIAS}.V.R1.MAXIMUMTRAVEL" name="V.R1.MAXIMUMTRAVEL" type="hidden"/>\\n<input id="{UXPRERENDEREDALIAS}.V.R1.GENDER" name="V.R1.GENDER" type="hidden"/>\\n<input type="hidden" id="{UXPRERENDEREDALIAS}.V.R1.LISTHIDDEN" name="V.R1.LISTHIDDEN" />\\n\');',
'',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {',
'\t{UXPRERENDEREDALIAS}_DlgObj._destroy();',
'\ttry {',
'\t\tdelete {UXPRERENDEREDALIAS}_DlgObj;',
'\t} catch(e) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj = undefined;',
'\t}',
'};',
';if(typeof {UXPRERENDEREDALIAS}_PanelObj != \'undefined\') {',
'\tvar ele = $({UXPRERENDEREDALIAS}_PanelObj.getPanelId());',
'\tif(ele) {',
'\t\tif(ele.parentNode) ele.parentNode.removeChild(ele);',
'\t}',
'\tdelete {UXPRERENDEREDALIAS}_PanelObj;',
'}',
';window[\'{UXPRERENDEREDALIAS}_PanelObj\'] = new A5.PanelNavigator([',
'{',
'\tname: \'PANELCARD_PROFILE\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_PROFILE"   \\n\\t\\t\\tclass="A5CWLayout "  style="width: 100%; "  >\\n<div style="width:100%;" class="A5CWLayout iOS7TabT" id="{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILE">\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILE.TABBAND" class="iOS7TabTBand">\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILE.0.TAB" class="" href="#">Profile</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILE.1.TAB" class="" href="#">Demographics</a>\\n\\t<br style="clear: both;" />\\n\\t</div>\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILE.PANES" class="iOS7TabTPanes">\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILE.0.PANE">\\n\\n<div class="A5CWLayout" style="width: 50%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.TRIALALERT" for="{UXPRERENDEREDALIAS}.V.R1.TRIALALERT" title="" class="iOS7DialogLabel" style="display:block;">Alert me about trials that meet my criteria?</label>\\n\\n\\t\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TRIALALERT.CONTROL"  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; "></div>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.FIRSTNAME" title=""  autocapitalize="off"  autocorrect="off"     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.FIRSTNAME"    value=""    />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.LASTNAME" title=""  autocapitalize="off"  autocorrect="off"     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.LASTNAME"    value=""    />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.POSTALCODE" title=""  autocapitalize="off"  autocorrect="off"     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.POSTALCODE"    value=""    />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.MAXIMUMTRAVEL" for="{UXPRERENDEREDALIAS}.V.R1.MAXIMUMTRAVEL" title="" class="iOS7DialogLabel" style="display:block;">Maximum Travel (Miles)</label>\\n\\n\\t\\n<div id="{UXPRERENDEREDALIAS}.V.R1.MAXIMUMTRAVEL.CONTROL"  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ; white-space:nowrap;"></div>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.PRIMARYCONDITION" for="{UXPRERENDEREDALIAS}.V.R1.PRIMARYCONDITION" title="" class="iOS7DialogLabel" style="display:block;">Primary Condition of Interest</label>\\n\\n\\t<select \\t\\n\\t\\tsize="2" \\n\\t\\tclass="iOS7Edit"  \\n\\t\\tname="V.R1.PRIMARYCONDITION" \\n\\t\\ttitle=""\\n\\t\\tstyle="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\\n\\t\\tid="{UXPRERENDEREDALIAS}.V.R1.PRIMARYCONDITION"  \\n\\t\\t   >\\n<option value=""></option> <option value="Abdominal Cancer">Abdominal Cancer</option> <option value="Abdominal Surgery">Abdominal Surgery</option> <option value="Acne">Acne</option> <option value="Acquired Immune Deficiency Syndrome (AIDS &#45; Pediatric)">Acquired Immune Deficiency Syndrome (AIDS &#45; Pediatric)</option> <option value="Acromegaly">Acromegaly</option> <option value="Acute Myelogenous Leukemia (AML)">Acute Myelogenous Leukemia (AML)</option> <option value="Acute Myeloid Leukemia">Acute Myeloid Leukemia</option> <option value="Acute Pain">Acute Pain</option> <option value="Acute Respiratory Distress Syndrome (ARDS)">Acute Respiratory Distress Syndrome (ARDS)</option> <option value="Acute Rhinitis">Acute Rhinitis</option> <option value="Addictions">Addictions</option> <option value="Adenocarcinoma">Adenocarcinoma</option> <option value="Adrenal Cancer">Adrenal Cancer</option> <option value="Affective Disorders">Affective Disorders</option> <option value="Age Spots (Solar Lentigines)">Age Spots (Solar Lentigines)</option> <option value="Aging">Aging</option> <option value="AIDS and AIDS related infections">AIDS and AIDS related infections</option> <option value="Alcohol Dependence">Alcohol Dependence</option> <option value="Alcohol Use Disorder">Alcohol Use Disorder</option> <option value="Allergies &amp; Asthma">Allergies &amp; Asthma</option> <option value="Allergy">Allergy</option> <option value="Allergy (Pediatric)">Allergy (Pediatric)</option> <option value="Alopecia">Alopecia</option> <option value="Alpha 1 Antitrypsin Deficiency">Alpha 1 Antitrypsin Deficiency</option> <option value="Alzheimer&#039;s Disease">Alzheimer&#039;s Disease</option> <option value="Amenorrhea">Amenorrhea</option> <option value="Amyloidosis">Amyloidosis</option> <option value="Amyotrophic Lateral Sclerosis (ALS)">Amyotrophic Lateral Sclerosis (ALS)</option> <option value="Anemia">Anemia</option> <option value="Anesthesia">Anesthesia</option> <option value="Aneurysm">Aneurysm</option> <option value="Angina">Angina</option> <option value="Ankylosing Spondylitis">Ankylosing Spondylitis</option> <option value="Anorexia">Anorexia</option> <option value="Anterior Uveitis">Anterior Uveitis</option> <option value="Antiphospholipid Syndrome">Antiphospholipid Syndrome</option> <option value="Anxiety Disorders">Anxiety Disorders</option> <option value="Anxiety Disorders (Pediatric)">Anxiety Disorders (Pediatric)</option> <option value="Aplastic Anemia">Aplastic Anemia</option> <option value="Arrhythmia">Arrhythmia</option> <option value="Arthritis and Arthritic Pain">Arthritis and Arthritic Pain</option> <option value="Asperger&#039;s Disorder">Asperger&#039;s Disorder</option> <option value="Aspergillosis">Aspergillosis</option> <option value="Asthma">Asthma</option> <option value="Asthma (Pediatric)">Asthma (Pediatric)</option> <option value="Astigmatism">Astigmatism</option> <option value="Atherosclerosis">Atherosclerosis</option> <option value="Athlete&#039;s Foot (Tinea Pedis)">Athlete&#039;s Foot (Tinea Pedis)</option> <option value="Athletic Injuries">Athletic Injuries</option> <option value="Atopic Dermatitis">Atopic Dermatitis</option> <option value="Atrial Fibrillation">Atrial Fibrillation</option> <option value="Atrial Flutter">Atrial Flutter</option> <option value="Attention Deficit/Hyperactivity Disorder (ADHD &#45; Adults)">Attention Deficit/Hyperactivity Disorder (ADHD &#45; Adults)</option> <option value="Attention Deficit/Hyperactivity Disorder (ADHD &#45; Pediatric)">Attention Deficit/Hyperactivity Disorder (ADHD &#45; Pediatric)</option> <option value="Autism">Autism</option> <option value="Autonomic Nervous System">Autonomic Nervous System</option> <option value="Bacterial Infections">Bacterial Infections</option> <option value="Barrett&#039;s Esophagus">Barrett&#039;s Esophagus</option> <option value="Benign Prostatic Hyperplasia (Enlarged Prostate)">Benign Prostatic Hyperplasia (Enlarged Prostate)</option> <option value="Biliary Tract Cancer">Biliary Tract Cancer</option> <option value="Binge Eating Disorder">Binge Eating Disorder</option> <option value="Bipolar Disorder">Bipolar Disorder</option> <option value="Bipolar Disorders (Pediatric)">Bipolar Disorders (Pediatric)</option> <option value="Birth Control">Birth Control</option> <option value="Birth Defects">Birth Defects</option> <option value="Bladder Cancer">Bladder Cancer</option> <option value="Bladder Disorders">Bladder Disorders</option> <option value="Blood Cancer">Blood Cancer</option> <option value="Blood Clots">Blood Clots</option> <option value="Body Composition">Body Composition</option> <option value="Bone Density">Bone Density</option> <option value="Bone Diseases">Bone Diseases</option> <option value="Bone Marrow Transplant">Bone Marrow Transplant</option> <option value="Bone Metastases">Bone Metastases</option> <option value="Bowel Dysfunction">Bowel Dysfunction</option> <option value="Brain Cancer">Brain Cancer</option> <option value="Brain Injury">Brain Injury</option> <option value="Brain Metastases">Brain Metastases</option> <option value="Brain Tumor">Brain Tumor</option> <option value="Breast Cancer">Breast Cancer</option> <option value="Breast Cancer &#45; HER2 Positive">Breast Cancer &#45; HER2 Positive</option> <option value="Breast Feeding">Breast Feeding</option> <option value="Breast Fibroadenoma">Breast Fibroadenoma</option> <option value="Breast Implants">Breast Implants</option> <option value="Breast Reconstruction">Breast Reconstruction</option> <option value="Bronchiectasis">Bronchiectasis</option> <option value="Bronchitis">Bronchitis</option> <option value="Bronchoscopy">Bronchoscopy</option> <option value="Bulimia">Bulimia</option> <option value="Cancer (Pediatric)">Cancer (Pediatric)</option> <option value="Cancer Pain">Cancer Pain</option> <option value="Cancer Prevention">Cancer Prevention</option> <option value="Cancer Treatment">Cancer Treatment</option> <option value="Cancer/Tumors">Cancer/Tumors</option> <option value="Cardiac Ischemia">Cardiac Ischemia</option> <option value="Cardiac Surgery">Cardiac Surgery</option> <option value="Cardiomyopathy">Cardiomyopathy</option> <option value="Cardiovascular Abnormalities">Cardiovascular Abnormalities</option> <option value="Carotid Artery Disease">Carotid Artery Disease</option> <option value="Carpal Tunnel Syndrome">Carpal Tunnel Syndrome</option> <option value="Cartilage Injuries">Cartilage Injuries</option> <option value="Cataracts">Cataracts</option> <option value="Celiac Disease">Celiac Disease</option> <option value="Cerebral Arteriovenous Malformations">Cerebral Arteriovenous Malformations</option> <option value="Cerebral Palsy">Cerebral Palsy</option> <option value="Cerebral Palsy (Pediatric)">Cerebral Palsy (Pediatric)</option> <option value="Cervical Cancer">Cervical Cancer</option> <option value="Cervical Dysplasia">Cervical Dysplasia</option> <option value="Cervical Intraepithelial Neoplasia">Cervical Intraepithelial Neoplasia</option> <option value="Chemotherapy">Chemotherapy</option> <option value="Chest Pain">Chest Pain</option> <option value="Chordoma">Chordoma</option> <option value="Chronic Back Pain">Chronic Back Pain</option> <option value="Chronic Bronchitis">Chronic Bronchitis</option> <option value="Chronic Cough">Chronic Cough</option> <option value="Chronic Diarrhea">Chronic Diarrhea</option> <option value="Chronic Fatigue Syndrome">Chronic Fatigue Syndrome</option> <option value="Chronic Inflammatory Demyelinating Polyneuropathy (CIDP)">Chronic Inflammatory Demyelinating Polyneuropathy (CIDP)</option> <option value="Chronic Leg Pain">Chronic Leg Pain</option> <option value="Chronic Lymphocytic Leukemia">Chronic Lymphocytic Leukemia</option> <option value="Chronic Myeloid Leukemia">Chronic Myeloid Leukemia</option> <option value="Chronic Obstructive Lung Disease">Chronic Obstructive Lung Disease</option> <option value="Chronic Pain">Chronic Pain</option> <option value="Chronic Renal Anemia">Chronic Renal Anemia</option> <option value="Claudication">Claudication</option> <option value="Clostridium Difficile&#45;Associated Diarrhea">Clostridium Difficile&#45;Associated Diarrhea</option> <option value="Cold Sores (Herpes Labialis Infections)">Cold Sores (Herpes Labialis Infections)</option> <option value="Colic">Colic</option> <option value="Colon Cancer">Colon Cancer</option> <option value="Colon Cancer Screening">Colon Cancer Screening</option> <option value="Colon Polyps">Colon Polyps</option> <option value="Colorectal Cancer">Colorectal Cancer</option> <option value="Common Cold">Common Cold</option> <option value="Communication Disorders">Communication Disorders</option> <option value="Complex Regional Pain Syndrome&#45; type 1 (CRPS&#45;I)">Complex Regional Pain Syndrome&#45; type 1 (CRPS&#45;I)</option> <option value="Congenital Afibrinogenemia">Congenital Afibrinogenemia</option> <option value="Congenital Heart Disease">Congenital Heart Disease</option> <option value="Congestive Heart Failure">Congestive Heart Failure</option> <option value="Conjunctivitis, Bacterial">Conjunctivitis, Bacterial</option> <option value="Connective Tissue Diseases">Connective Tissue Diseases</option> <option value="Constipation">Constipation</option> <option value="Contact Dermatitis">Contact Dermatitis</option> <option value="Contraception">Contraception</option> <option value="COPD (Chronic Obstructive Pulmonary Disease)">COPD (Chronic Obstructive Pulmonary Disease)</option> <option value="Coronary Artery Disease">Coronary Artery Disease</option> <option value="Crohn&#039;s Disease">Crohn&#039;s Disease</option> <option value="Cushing&#039;s Disease">Cushing&#039;s Disease</option> <option value="Cutaneous Lupus Erythematosus">Cutaneous Lupus Erythematosus</option> <option value="Cutaneous T&#45;Cell Lymphoma">Cutaneous T&#45;Cell Lymphoma</option> <option value="Cystic Fibrosis">Cystic Fibrosis</option> <option value="Cystoid Macular Edema">Cystoid Macular Edema</option> <option value="Cytomegalovirus Infections">Cytomegalovirus Infections</option> <option value="Deafness">Deafness</option> <option value="Deep Vein Thrombosis">Deep Vein Thrombosis</option> <option value="Defibrillator (AICD)">Defibrillator (AICD)</option> <option value="Dementia">Dementia</option> <option value="Depression">Depression</option> <option value="Depression (Adolescent)">Depression (Adolescent)</option> <option value="Depression (Adult and Geriatric)">Depression (Adult and Geriatric)</option> <option value="Depression (Major/Severe)">Depression (Major/Severe)</option> <option value="Depression (Pediatric)">Depression (Pediatric)</option> <option value="Depression (Treatment&#45;Resistant)">Depression (Treatment&#45;Resistant)</option> <option value="Dermatitis, Atopic">Dermatitis, Atopic</option> <option value="Dermatomyositis (Connective Tissue Disease)">Dermatomyositis (Connective Tissue Disease)</option> <option value="Diabetes (Pediatric)">Diabetes (Pediatric)</option> <option value="Diabetes and Hypertension">Diabetes and Hypertension</option> <option value="Diabetes Mellitus Types I and II">Diabetes Mellitus Types I and II</option> <option value="Diabetes Mellitus, Type 1">Diabetes Mellitus, Type 1</option> <option value="Diabetes Mellitus, Type 2">Diabetes Mellitus, Type 2</option> <option value="Diabetes Prevention">Diabetes Prevention</option> <option value="Diabetic Foot Ulcers">Diabetic Foot Ulcers</option> <option value="Diabetic Gastroparesis">Diabetic Gastroparesis</option> <option value="Diabetic Kidney Disease">Diabetic Kidney Disease</option> <option value="Diabetic Macular Edema">Diabetic Macular Edema</option> <option value="Diabetic Neuropathy">Diabetic Neuropathy</option> <option value="Diabetic Retinopathy">Diabetic Retinopathy</option> <option value="Diet and Nutrition">Diet and Nutrition</option> <option value="Digestive System Neoplasms">Digestive System Neoplasms</option> <option value="Discoid Lupus Erythematosus (DLE)">Discoid Lupus Erythematosus (DLE)</option> <option value="Down&#039;s Syndrome">Down&#039;s Syndrome</option> <option value="Dry Eye Disease">Dry Eye Disease</option> <option value="Ductal Carcinoma In Situ (DCIS)">Ductal Carcinoma In Situ (DCIS)</option> <option value="Dysfunctional Uterine Bleeding">Dysfunctional Uterine Bleeding</option> <option value="Dyskinesias">Dyskinesias</option> <option value="Dyslipidemia">Dyslipidemia</option> <option value="Dysmenorrhea (Painful Periods)">Dysmenorrhea (Painful Periods)</option> <option value="Dysrhythmia">Dysrhythmia</option> <option value="Dystonias">Dystonias</option> <option value="Ear Infections">Ear Infections</option> <option value="Ear Infections (Pediatric)">Ear Infections (Pediatric)</option> <option value="Eczema (Atopic Dermatitis &#45; Pediatric)">Eczema (Atopic Dermatitis &#45; Pediatric)</option> <option value="Eczema (Atopic Dermatitis)">Eczema (Atopic Dermatitis)</option> <option value="Effects of Chemotherapy">Effects of Chemotherapy</option> <option value="Elevated Triglycerides (Hypertriglyceridemia)">Elevated Triglycerides (Hypertriglyceridemia)</option> <option value="Emphysema">Emphysema</option> <option value="Endometrial Cancer">Endometrial Cancer</option> <option value="Endometrial Hyperplasia">Endometrial Hyperplasia</option> <option value="Endometriosis">Endometriosis</option> <option value="Epidermolysis Bullosa">Epidermolysis Bullosa</option> <option value="Epilepsy">Epilepsy</option> <option value="Epilepsy (Pediatric)">Epilepsy (Pediatric)</option> <option value="Erectile Dysfunction">Erectile Dysfunction</option> <option value="Esophageal Cancer">Esophageal Cancer</option> <option value="Esophageal Disorders">Esophageal Disorders</option> <option value="Essential Tremor">Essential Tremor</option> <option value="Ewing&#039;s Family Tumors">Ewing&#039;s Family Tumors</option> <option value="Excessive Sweating">Excessive Sweating</option> <option value="Eye Disorders/Infections">Eye Disorders/Infections</option> <option value="Eye Disorders/Infections (Pediatric)">Eye Disorders/Infections (Pediatric)</option> <option value="Fabry Disease">Fabry Disease</option> <option value="Fallopian Tube Cancer">Fallopian Tube Cancer</option> <option value="Familial Chylomicronemia Syndrome">Familial Chylomicronemia Syndrome</option> <option value="Familial Hypercholesterolemia">Familial Hypercholesterolemia</option> <option value="Fast Heart Rate (Tachycardia)">Fast Heart Rate (Tachycardia)</option> <option value="Fecal Incontinence">Fecal Incontinence</option> <option value="Female Hormonal Deficiencies/Abnormalities">Female Hormonal Deficiencies/Abnormalities</option> <option value="Fever">Fever</option> <option value="Fibromyalgia">Fibromyalgia</option> <option value="Follicular Lymphoma">Follicular Lymphoma</option> <option value="Frequent Nighttime Urination (Nocturia)">Frequent Nighttime Urination (Nocturia)</option> <option value="Friedreich&#039;s Ataxia">Friedreich&#039;s Ataxia</option> <option value="Functional Dyspepsia">Functional Dyspepsia</option> <option value="Fungal Infections">Fungal Infections</option> <option value="Gastric Cancer">Gastric Cancer</option> <option value="Gastroenteritis">Gastroenteritis</option> <option value="Gastroesophageal Reflux Disease (GERD)">Gastroesophageal Reflux Disease (GERD)</option> <option value="Gastrointestinal Diseases and Disorders">Gastrointestinal Diseases and Disorders</option> <option value="Gastroparesis">Gastroparesis</option> <option value="Gaucher Disease">Gaucher Disease</option> <option value="Generalized Anxiety Disorder (GAD)">Generalized Anxiety Disorder (GAD)</option> <option value="Genital Warts">Genital Warts</option> <option value="Genitourinary Cancer">Genitourinary Cancer</option> <option value="Genitourinary Prolapse">Genitourinary Prolapse</option> <option value="Germ Cell Tumors">Germ Cell Tumors</option> <option value="Gestational Trophoblastic Neoplasia">Gestational Trophoblastic Neoplasia</option> <option value="Glaucoma">Glaucoma</option> <option value="Glioblastoma multiforme">Glioblastoma multiforme</option> <option value="Gliomas">Gliomas</option> <option value="Glomerulonephritis">Glomerulonephritis</option> <option value="Gout (Hyperuricemia)">Gout (Hyperuricemia)</option> <option value="Graft&#45;Versus&#45;Host Disease (GVHD)">Graft&#45;Versus&#45;Host Disease (GVHD)</option> <option value="Growth Hormone Deficiencies/Abnormalities">Growth Hormone Deficiencies/Abnormalities</option> <option value="Gynecological Infections">Gynecological Infections</option> <option value="Hair Loss">Hair Loss</option> <option value="Hair Removal">Hair Removal</option> <option value="Head and Neck Cancer">Head and Neck Cancer</option> <option value="Headaches">Headaches</option> <option value="Hearing Impairment">Hearing Impairment</option> <option value="Hearing Loss">Hearing Loss</option> <option value="Heart Attack (Myocardial Infarction)">Heart Attack (Myocardial Infarction)</option> <option value="Heart Disease">Heart Disease</option> <option value="Heart Failure">Heart Failure</option> <option value="Heart Transplantation">Heart Transplantation</option> <option value="Heart Valve Disease">Heart Valve Disease</option> <option value="Heartburn">Heartburn</option> <option value="Helicobacter Pylori">Helicobacter Pylori</option> <option value="Hemangioma">Hemangioma</option> <option value="Hematologic Cancer">Hematologic Cancer</option> <option value="Hematologic Neoplasms">Hematologic Neoplasms</option> <option value="Hematological Disorders">Hematological Disorders</option> <option value="Hemodialysis">Hemodialysis</option> <option value="Hemoglobinuria, Paroxysmal">Hemoglobinuria, Paroxysmal</option> <option value="Hemophilia">Hemophilia</option> <option value="Hemorrhage">Hemorrhage</option> <option value="Hemorrhoids">Hemorrhoids</option> <option value="Hepatic Encephalopathy">Hepatic Encephalopathy</option> <option value="Hepatitis">Hepatitis</option> <option value="Hepatitis B">Hepatitis B</option> <option value="Hepatitis C; Chronic">Hepatitis C; Chronic</option> <option value="Hereditary Angioedema">Hereditary Angioedema</option> <option value="Hernia">Hernia</option> <option value="Herpes Simplex Infections">Herpes Simplex Infections</option> <option value="Herpes Zoster Infections">Herpes Zoster Infections</option> <option value="High Blood Pressure (Hypertension &#45; Pediatric)">High Blood Pressure (Hypertension &#45; Pediatric)</option> <option value="High Blood Pressure (Hypertension)">High Blood Pressure (Hypertension)</option> <option value="High Cholesterol (Hyperlipidemia)">High Cholesterol (Hyperlipidemia)</option> <option value="Hip Replacement">Hip Replacement</option> <option value="Histiocytoma">Histiocytoma</option> <option value="HIV">HIV</option> <option value="HIV (Pediatric)">HIV (Pediatric)</option> <option value="HIV Infections">HIV Infections</option> <option value="HIV/AIDS">HIV/AIDS</option> <option value="Hives (Urticaria)">Hives (Urticaria)</option> <option value="Hodgkin&#039;s Disease">Hodgkin&#039;s Disease</option> <option value="Hormone Deficiencies">Hormone Deficiencies</option> <option value="Hormone Replacement Therapy">Hormone Replacement Therapy</option> <option value="Hot Flash">Hot Flash</option> <option value="Human Growth Hormone (HGH)">Human Growth Hormone (HGH)</option> <option value="Human Papilloma Virus (HPV)">Human Papilloma Virus (HPV)</option> <option value="Huntington&#039;s Disease">Huntington&#039;s Disease</option> <option value="Hyperparathyroidism">Hyperparathyroidism</option> <option value="Hypertriglyceridemia">Hypertriglyceridemia</option> <option value="Hypogammaglobulinemia">Hypogammaglobulinemia</option> <option value="Hypogonadism">Hypogonadism</option> <option value="Hyponatremia">Hyponatremia</option> <option value="Idiopathic Inflammatory Myopathies">Idiopathic Inflammatory Myopathies</option> <option value="Idiopathic Membranous Nephropathy">Idiopathic Membranous Nephropathy</option> <option value="Idiopathic Pulmonary Fibrosis">Idiopathic Pulmonary Fibrosis</option> <option value="Idiopathic Short Stature">Idiopathic Short Stature</option> <option value="Ileus">Ileus</option> <option value="Impotence">Impotence</option> <option value="In Vitro Fertilization">In Vitro Fertilization</option> <option value="Infantile Fibrosarcoma">Infantile Fibrosarcoma</option> <option value="Infantile Spasms">Infantile Spasms</option> <option value="Infertility">Infertility</option> <option value="Inflammation">Inflammation</option> <option value="Inflammatory Bowel Disease">Inflammatory Bowel Disease</option> <option value="Influenza">Influenza</option> <option value="Insomnia">Insomnia</option> <option value="Intermittent Claudication">Intermittent Claudication</option> <option value="Intermittent Explosive Disorder">Intermittent Explosive Disorder</option> <option value="Interstitial Cystitis">Interstitial Cystitis</option> <option value="Intra&#45;Abdominal Infections">Intra&#45;Abdominal Infections</option> <option value="Intrauterine Device">Intrauterine Device</option> <option value="Iritis">Iritis</option> <option value="Irritable Bowel Syndrome (IBS)">Irritable Bowel Syndrome (IBS)</option> <option value="Joint Injuries">Joint Injuries</option> <option value="Kaposi&#039;s Sarcoma">Kaposi&#039;s Sarcoma</option> <option value="Kawasaki Disease">Kawasaki Disease</option> <option value="Keratoses">Keratoses</option> <option value="Kidney Cancer">Kidney Cancer</option> <option value="Kidney Disease">Kidney Disease</option> <option value="Kidney Disease (Pediatric)">Kidney Disease (Pediatric)</option> <option value="Kidney Failure">Kidney Failure</option> <option value="Kidney Stones">Kidney Stones</option> <option value="Kidney Transplantation">Kidney Transplantation</option> <option value="Knee Injuries">Knee Injuries</option> <option value="Knee Replacement">Knee Replacement</option> <option value="Knee Surgery">Knee Surgery</option> <option value="Labor/Delivery">Labor/Delivery</option> <option value="Lactose Intolerance">Lactose Intolerance</option> <option value="Leukemia">Leukemia</option> <option value="Leukemia (Pediatric)">Leukemia (Pediatric)</option> <option value="Limb Spasticity">Limb Spasticity</option> <option value="Liposuction">Liposuction</option> <option value="Liver Cancer">Liver Cancer</option> <option value="Liver Disease">Liver Disease</option> <option value="Liver Failure">Liver Failure</option> <option value="Liver Metastases">Liver Metastases</option> <option value="Liver Transplantation">Liver Transplantation</option> <option value="Low Testosterone">Low Testosterone</option> <option value="Lower Back Pain">Lower Back Pain</option> <option value="Lung Cancer">Lung Cancer</option> <option value="Lung Disease">Lung Disease</option> <option value="Lung Injury">Lung Injury</option> <option value="Lupus">Lupus</option> <option value="Lupus Nephritis">Lupus Nephritis</option> <option value="Lymphedema">Lymphedema</option> <option value="Lymphocytic Leukemia, Acute">Lymphocytic Leukemia, Acute</option> <option value="Lymphocytic Leukemia, Chronic">Lymphocytic Leukemia, Chronic</option> <option value="Lymphoma">Lymphoma</option> <option value="Lymphoma, B&#45;Cell">Lymphoma, B&#45;Cell</option> <option value="Lymphoproliferative disorders">Lymphoproliferative disorders</option> <option value="Lysosomal Acid Lipase Deficiency (LAL)">Lysosomal Acid Lipase Deficiency (LAL)</option> <option value="Macular Degeneration">Macular Degeneration</option> <option value="Macular Edema">Macular Edema</option> <option value="Male Pattern Baldness">Male Pattern Baldness</option> <option value="Malignant Melanoma">Malignant Melanoma</option> <option value="Mantle Cell Lymphoma">Mantle Cell Lymphoma</option> <option value="Marginal Zone Lymphoma">Marginal Zone Lymphoma</option> <option value="Mastectomy">Mastectomy</option> <option value="Melanoma">Melanoma</option> <option value="Memory Loss">Memory Loss</option> <option value="Memory Problems">Memory Problems</option> <option value="Meningitis">Meningitis</option> <option value="Menopause">Menopause</option> <option value="Men&#039;s Health">Men&#039;s Health</option> <option value="Menstrual Disorders">Menstrual Disorders</option> <option value="Menstruation">Menstruation</option> <option value="Mesothelioma">Mesothelioma</option> <option value="Metabolic Disorders">Metabolic Disorders</option> <option value="Metabolic Syndrome">Metabolic Syndrome</option> <option value="Metastatic Cancer">Metastatic Cancer</option> <option value="Metastatic Melanoma">Metastatic Melanoma</option> <option value="Migraine (Pediatric)">Migraine (Pediatric)</option> <option value="Migraine and Cluster Headaches">Migraine and Cluster Headaches</option> <option value="Miscarriage">Miscarriage</option> <option value="Mitral Valve Regurgitation">Mitral Valve Regurgitation</option> <option value="Mood Disorders">Mood Disorders</option> <option value="Mucositis">Mucositis</option> <option value="Multiple Myeloma">Multiple Myeloma</option> <option value="Multiple Sclerosis">Multiple Sclerosis</option> <option value="Multiple System Atrophy (MSA)">Multiple System Atrophy (MSA)</option> <option value="Muscle Pain">Muscle Pain</option> <option value="Musculoskeletal Diseases">Musculoskeletal Diseases</option> <option value="Myasthenia Gravis (Chronic Weakness)">Myasthenia Gravis (Chronic Weakness)</option> <option value="Mycosis Fungoides">Mycosis Fungoides</option> <option value="Myelodysplastic Syndromes (MDS)">Myelodysplastic Syndromes (MDS)</option> <option value="Myelofibrosis">Myelofibrosis</option> <option value="Myocardial Ischemia">Myocardial Ischemia</option> <option value="Myopia">Myopia</option> <option value="Myositis">Myositis</option> <option value="Narcolepsy">Narcolepsy</option> <option value="Nasal Obstruction">Nasal Obstruction</option> <option value="Nasopharyngeal Cancer">Nasopharyngeal Cancer</option> <option value="Neck Pain">Neck Pain</option> <option value="Neoplasm Metastasis">Neoplasm Metastasis</option> <option value="Neoplasms">Neoplasms</option> <option value="Nephritis">Nephritis</option> <option value="Nephropathy">Nephropathy</option> <option value="Nerve Injury">Nerve Injury</option> <option value="Neuroblastoma">Neuroblastoma</option> <option value="Neuroendocrine Carcinoma">Neuroendocrine Carcinoma</option> <option value="Neurofibromatosis">Neurofibromatosis</option> <option value="Neurologic Disorders">Neurologic Disorders</option> <option value="Neuropathy">Neuropathy</option> <option value="Neutropenia">Neutropenia</option> <option value="Nocturia">Nocturia</option> <option value="Non&#45;Hodgkin&#039;s Lymphoma">Non&#45;Hodgkin&#039;s Lymphoma</option> <option value="Non&#45;Small Cell Lung Cancer">Non&#45;Small Cell Lung Cancer</option> <option value="Obesity">Obesity</option> <option value="Obsessive&#45;Compulsive Disorder">Obsessive&#45;Compulsive Disorder</option> <option value="Ocular Hypertension">Ocular Hypertension</option> <option value="Opioid Use Disorder">Opioid Use Disorder</option> <option value="Oral Cancer">Oral Cancer</option> <option value="Oral Cavity Cancer">Oral Cavity Cancer</option> <option value="Orthopedic Surgery">Orthopedic Surgery</option> <option value="Orthopedics">Orthopedics</option> <option value="Orthostatic Hypotension">Orthostatic Hypotension</option> <option value="Osteoarthritis">Osteoarthritis</option> <option value="Osteomyelitis">Osteomyelitis</option> <option value="Osteopenia">Osteopenia</option> <option value="Osteoporosis">Osteoporosis</option> <option value="Osteosarcoma">Osteosarcoma</option> <option value="Otitis Externa (Swimmer&#039;s Ear)">Otitis Externa (Swimmer&#039;s Ear)</option> <option value="Otitis Media">Otitis Media</option> <option value="Ovarian Cancer">Ovarian Cancer</option> <option value="Ovulation">Ovulation</option> <option value="Pacemaker (ICD)">Pacemaker (ICD)</option> <option value="Pain">Pain</option> <option value="Pain (Pediatric)">Pain (Pediatric)</option> <option value="Pancreatic Cancer">Pancreatic Cancer</option> <option value="Pancreatic Disorders">Pancreatic Disorders</option> <option value="Pancreatitis">Pancreatitis</option> <option value="Parkinson&#039;s Disease">Parkinson&#039;s Disease</option> <option value="Pediatric Health">Pediatric Health</option> <option value="Pelvic Adhesions">Pelvic Adhesions</option> <option value="Pemphigus Vulgaris (PV)">Pemphigus Vulgaris (PV)</option> <option value="Perimenopause">Perimenopause</option> <option value="Periodontitis">Periodontitis</option> <option value="Peripheral Arterial Disease (PAD)">Peripheral Arterial Disease (PAD)</option> <option value="Peripheral Arterial Occlusive Disease">Peripheral Arterial Occlusive Disease</option> <option value="Peripheral Neuropathy">Peripheral Neuropathy</option> <option value="Peripheral Vascular Disease">Peripheral Vascular Disease</option> <option value="Peritoneal Cancer">Peritoneal Cancer</option> <option value="Peyronie&#039;s Disease">Peyronie&#039;s Disease</option> <option value="Pharyngitis">Pharyngitis</option> <option value="Phenylketonuria">Phenylketonuria</option> <option value="Pleural Diseases">Pleural Diseases</option> <option value="Pleural Effusion">Pleural Effusion</option> <option value="Pneumonia">Pneumonia</option> <option value="Polymyositis (Inflammatory Muscle Disease)">Polymyositis (Inflammatory Muscle Disease)</option> <option value="Polyps">Polyps</option> <option value="Pompe Disease">Pompe Disease</option> <option value="Post Menopause">Post Menopause</option> <option value="Posterior Uveitis">Posterior Uveitis</option> <option value="Postherpetic Neuralgia">Postherpetic Neuralgia</option> <option value="Post&#45;Menopausal Osteopenia">Post&#45;Menopausal Osteopenia</option> <option value="Post&#45;Menopausal Osteoporosis">Post&#45;Menopausal Osteoporosis</option> <option value="Post&#45;Operative Nausea and Vomiting">Post&#45;Operative Nausea and Vomiting</option> <option value="Post&#45;Partum Depression">Post&#45;Partum Depression</option> <option value="Post&#45;Surgical Pain">Post&#45;Surgical Pain</option> <option value="Post&#45;Traumatic Stress Disorders">Post&#45;Traumatic Stress Disorders</option> <option value="Precocious Puberty">Precocious Puberty</option> <option value="Preeclampsia">Preeclampsia</option> <option value="Pregnancy">Pregnancy</option> <option value="Pregnancy Complications">Pregnancy Complications</option> <option value="Premature Ejaculation">Premature Ejaculation</option> <option value="Premenstrual Syndrome">Premenstrual Syndrome</option> <option value="Pressure Ulcer">Pressure Ulcer</option> <option value="Pressure Ulcers">Pressure Ulcers</option> <option value="Prostate Cancer">Prostate Cancer</option> <option value="Prostate Disorders">Prostate Disorders</option> <option value="Proteinuria">Proteinuria</option> <option value="Pseudobulbar Affect">Pseudobulbar Affect</option> <option value="Psoriasis and Psoriatic Disorders">Psoriasis and Psoriatic Disorders</option> <option value="Psoriatic Arthritis">Psoriatic Arthritis</option> <option value="Psychosis">Psychosis</option> <option value="Pulmonary Arterial Hypertension">Pulmonary Arterial Hypertension</option> <option value="Pulmonary Embolism">Pulmonary Embolism</option> <option value="Pulmonary Fibrosis">Pulmonary Fibrosis</option> <option value="Raynaud&#039;s Disease">Raynaud&#039;s Disease</option> <option value="Rectal Cancer">Rectal Cancer</option> <option value="Recurrent Diarrhea">Recurrent Diarrhea</option> <option value="Recurrent Ovarian Cancer">Recurrent Ovarian Cancer</option> <option value="Recurrent Pregnancy Loss">Recurrent Pregnancy Loss</option> <option value="Recurrent Respiratory Papillomatosis">Recurrent Respiratory Papillomatosis</option> <option value="Red Cell Disorders">Red Cell Disorders</option> <option value="Reflex Sympathetic Dystrophy Syndrome (RSDS)">Reflex Sympathetic Dystrophy Syndrome (RSDS)</option> <option value="Renal Anemia">Renal Anemia</option> <option value="Renal Artery Disease">Renal Artery Disease</option> <option value="Renal Cancer">Renal Cancer</option> <option value="Renal Cell Cancer">Renal Cell Cancer</option> <option value="Renal Cell Carcinoma">Renal Cell Carcinoma</option> <option value="Renal Failure">Renal Failure</option> <option value="Respiratory Failure">Respiratory Failure</option> <option value="Respiratory Syncytial Virus (RSV) Infection">Respiratory Syncytial Virus (RSV) Infection</option> <option value="Restless Leg Syndrome">Restless Leg Syndrome</option> <option value="Retinitis Pigmentosa">Retinitis Pigmentosa</option> <option value="Retinoblastoma">Retinoblastoma</option> <option value="Rhabdomyosarcoma">Rhabdomyosarcoma</option> <option value="Rheumatic Fever">Rheumatic Fever</option> <option value="Rheumatoid Arthritis">Rheumatoid Arthritis</option> <option value="Rheumatoid Arthritis (Pediatric)">Rheumatoid Arthritis (Pediatric)</option> <option value="Rhinitis, Allergic, Perennial">Rhinitis, Allergic, Perennial</option> <option value="Rosacea">Rosacea</option> <option value="Rotavirus">Rotavirus</option> <option value="Saliva and Salivary Gland Dysfunction">Saliva and Salivary Gland Dysfunction</option> <option value="Sarcoidosis">Sarcoidosis</option> <option value="Sarcoma">Sarcoma</option> <option value="Sarcoma (Pediatric)">Sarcoma (Pediatric)</option> <option value="Schizophrenia and Schizoaffective Disorders">Schizophrenia and Schizoaffective Disorders</option> <option value="Schizophrenia and Schizoaffective Disorders (Pediatric)">Schizophrenia and Schizoaffective Disorders (Pediatric)</option> <option value="Sciatica">Sciatica</option> <option value="Scleroderma">Scleroderma</option> <option value="Seborrhea">Seborrhea</option> <option value="Seborrheic Dermatitis">Seborrheic Dermatitis</option> <option value="Seizure Disorders">Seizure Disorders</option> <option value="Seizure Disorders (Pediatric)">Seizure Disorders (Pediatric)</option> <option value="Sexual Dysfunction">Sexual Dysfunction</option> <option value="Sexually Transmitted Diseases (STDs)">Sexually Transmitted Diseases (STDs)</option> <option value="Sezary Syndrome">Sezary Syndrome</option> <option value="Shingles">Shingles</option> <option value="Sickle Cell Disease">Sickle Cell Disease</option> <option value="Sinus Infections">Sinus Infections</option> <option value="Sjogren&#039;s Syndrome">Sjogren&#039;s Syndrome</option> <option value="Skin Aging">Skin Aging</option> <option value="Skin Cancer">Skin Cancer</option> <option value="Skin Cell Studies">Skin Cell Studies</option> <option value="Skin Infections/Disorders">Skin Infections/Disorders</option> <option value="Sleep Apnea Syndromes">Sleep Apnea Syndromes</option> <option value="Sleep Disorders">Sleep Disorders</option> <option value="Sleep Disorders (Pediatric)">Sleep Disorders (Pediatric)</option> <option value="Small Cell Lung Cancer">Small Cell Lung Cancer</option> <option value="Smallpox">Smallpox</option> <option value="Smoking Cessation">Smoking Cessation</option> <option value="Social Anxiety Disorder (SAD)">Social Anxiety Disorder (SAD)</option> <option value="Social Phobia">Social Phobia</option> <option value="Soft Tissue Infections">Soft Tissue Infections</option> <option value="Soft Tissue Sarcoma">Soft Tissue Sarcoma</option> <option value="Solid Tumors">Solid Tumors</option> <option value="Spinal Cord Injuries">Spinal Cord Injuries</option> <option value="Spinal Muscular Atrophy">Spinal Muscular Atrophy</option> <option value="Spinal Surgery">Spinal Surgery</option> <option value="Spinocerebellar Disorders">Spinocerebellar Disorders</option> <option value="Sprains">Sprains</option> <option value="Squamous Cell Carcinoma">Squamous Cell Carcinoma</option> <option value="Staphylococcal Infections">Staphylococcal Infections</option> <option value="Staphylococcal Skin Infections">Staphylococcal Skin Infections</option> <option value="Stem Cell Transplant">Stem Cell Transplant</option> <option value="Stent">Stent</option> <option value="Stomach Cancer">Stomach Cancer</option> <option value="Stomach Discomfort">Stomach Discomfort</option> <option value="Strep Throat">Strep Throat</option> <option value="Stress">Stress</option> <option value="Stroke">Stroke</option> <option value="Substance Abuse">Substance Abuse</option> <option value="Sunspot Fungus (Tinea Versicolor)">Sunspot Fungus (Tinea Versicolor)</option> <option value="Surgery">Surgery</option> <option value="Systemic Lupus Erythematosus">Systemic Lupus Erythematosus</option> <option value="Tardive Dyskinesia">Tardive Dyskinesia</option> <option value="T&#45;Cell Lymphoma">T&#45;Cell Lymphoma</option> <option value="Tendon Injuries">Tendon Injuries</option> <option value="Tennis Elbow">Tennis Elbow</option> <option value="Tension Headaches">Tension Headaches</option> <option value="Testicular Cancer">Testicular Cancer</option> <option value="Thalassemia">Thalassemia</option> <option value="Thoracotomy">Thoracotomy</option> <option value="Throat and Tonsil Infections">Throat and Tonsil Infections</option> <option value="Thromboembolism">Thromboembolism</option> <option value="Thrombosis">Thrombosis</option> <option value="Thyroid Cancer">Thyroid Cancer</option> <option value="Tic Disorders">Tic Disorders</option> <option value="Tinnitus">Tinnitus</option> <option value="Toenail Fungus (Onychomycosis)">Toenail Fungus (Onychomycosis)</option> <option value="Tourette&#039;s Syndrome">Tourette&#039;s Syndrome</option> <option value="Transplant Rejection">Transplant Rejection</option> <option value="Traumatic Brain Injury">Traumatic Brain Injury</option> <option value="Trigeminal Neuralgia">Trigeminal Neuralgia</option> <option value="Turner Syndrome">Turner Syndrome</option> <option value="Ulcerative Colitis">Ulcerative Colitis</option> <option value="Ulcers">Ulcers</option> <option value="Urinary Incontinence">Urinary Incontinence</option> <option value="Urinary Tract Infections">Urinary Tract Infections</option> <option value="Urothelial Tract Cancer">Urothelial Tract Cancer</option> <option value="Urticaria">Urticaria</option> <option value="Uterine Cancer">Uterine Cancer</option> <option value="Uterine Fibroids">Uterine Fibroids</option> <option value="Uveitis">Uveitis</option> <option value="Vaccines">Vaccines</option> <option value="Vaginal Atrophy">Vaginal Atrophy</option> <option value="Vaginal Cancer">Vaginal Cancer</option> <option value="Vaginal Infection">Vaginal Infection</option> <option value="Vaginitis">Vaginitis</option> <option value="Varicose Veins">Varicose Veins</option> <option value="Vascular Diseases">Vascular Diseases</option> <option value="Vasomotor Rhinitis">Vasomotor Rhinitis</option> <option value="Venous Leg Ulcers">Venous Leg Ulcers</option> <option value="Venous Thromboembolism">Venous Thromboembolism</option> <option value="Venous Thrombosis">Venous Thrombosis</option> <option value="Vestibular Hypofunction">Vestibular Hypofunction</option> <option value="Viral Infections">Viral Infections</option> <option value="Vitiligo">Vitiligo</option> <option value="Vomiting">Vomiting</option> <option value="Von Willebrand Disease">Von Willebrand Disease</option> <option value="Warts">Warts</option> <option value="Weight Loss">Weight Loss</option> <option value="Wilms&#039; Tumor">Wilms&#039; Tumor</option> <option value="Wilson&#039;s Disease">Wilson&#039;s Disease</option> <option value="Wolman Disease">Wolman Disease</option> <option value="Women&#039;s Health">Women&#039;s Health</option> <option value="Wounds">Wounds</option> <option value="Yeast Infections">Yeast Infections</option> \\n</select>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.SECONDARYCONDITION" for="{UXPRERENDEREDALIAS}.V.R1.SECONDARYCONDITION" title="" class="iOS7DialogLabel" style="display:block;">Secondary Condition of Interest</label>\\n\\n\\t<select \\t\\n\\t\\tsize="2" \\n\\t\\tclass="iOS7Edit"  \\n\\t\\tname="V.R1.SECONDARYCONDITION" \\n\\t\\ttitle=""\\n\\t\\tstyle="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\\n\\t\\tid="{UXPRERENDEREDALIAS}.V.R1.SECONDARYCONDITION"  \\n\\t\\t   >\\n<option value=""></option> <option value="Abdominal Cancer">Abdominal Cancer</option> <option value="Abdominal Surgery">Abdominal Surgery</option> <option value="Acne">Acne</option> <option value="Acquired Immune Deficiency Syndrome (AIDS &#45; Pediatric)">Acquired Immune Deficiency Syndrome (AIDS &#45; Pediatric)</option> <option value="Acromegaly">Acromegaly</option> <option value="Acute Myelogenous Leukemia (AML)">Acute Myelogenous Leukemia (AML)</option> <option value="Acute Myeloid Leukemia">Acute Myeloid Leukemia</option> <option value="Acute Pain">Acute Pain</option> <option value="Acute Respiratory Distress Syndrome (ARDS)">Acute Respiratory Distress Syndrome (ARDS)</option> <option value="Acute Rhinitis">Acute Rhinitis</option> <option value="Addictions">Addictions</option> <option value="Adenocarcinoma">Adenocarcinoma</option> <option value="Adrenal Cancer">Adrenal Cancer</option> <option value="Affective Disorders">Affective Disorders</option> <option value="Age Spots (Solar Lentigines)">Age Spots (Solar Lentigines)</option> <option value="Aging">Aging</option> <option value="AIDS and AIDS related infections">AIDS and AIDS related infections</option> <option value="Alcohol Dependence">Alcohol Dependence</option> <option value="Alcohol Use Disorder">Alcohol Use Disorder</option> <option value="Allergies &amp; Asthma">Allergies &amp; Asthma</option> <option value="Allergy">Allergy</option> <option value="Allergy (Pediatric)">Allergy (Pediatric)</option> <option value="Alopecia">Alopecia</option> <option value="Alpha 1 Antitrypsin Deficiency">Alpha 1 Antitrypsin Deficiency</option> <option value="Alzheimer&#039;s Disease">Alzheimer&#039;s Disease</option> <option value="Amenorrhea">Amenorrhea</option> <option value="Amyloidosis">Amyloidosis</option> <option value="Amyotrophic Lateral Sclerosis (ALS)">Amyotrophic Lateral Sclerosis (ALS)</option> <option value="Anemia">Anemia</option> <option value="Anesthesia">Anesthesia</option> <option value="Aneurysm">Aneurysm</option> <option value="Angina">Angina</option> <option value="Ankylosing Spondylitis">Ankylosing Spondylitis</option> <option value="Anorexia">Anorexia</option> <option value="Anterior Uveitis">Anterior Uveitis</option> <option value="Antiphospholipid Syndrome">Antiphospholipid Syndrome</option> <option value="Anxiety Disorders">Anxiety Disorders</option> <option value="Anxiety Disorders (Pediatric)">Anxiety Disorders (Pediatric)</option> <option value="Aplastic Anemia">Aplastic Anemia</option> <option value="Arrhythmia">Arrhythmia</option> <option value="Arthritis and Arthritic Pain">Arthritis and Arthritic Pain</option> <option value="Asperger&#039;s Disorder">Asperger&#039;s Disorder</option> <option value="Aspergillosis">Aspergillosis</option> <option value="Asthma">Asthma</option> <option value="Asthma (Pediatric)">Asthma (Pediatric)</option> <option value="Astigmatism">Astigmatism</option> <option value="Atherosclerosis">Atherosclerosis</option> <option value="Athlete&#039;s Foot (Tinea Pedis)">Athlete&#039;s Foot (Tinea Pedis)</option> <option value="Athletic Injuries">Athletic Injuries</option> <option value="Atopic Dermatitis">Atopic Dermatitis</option> <option value="Atrial Fibrillation">Atrial Fibrillation</option> <option value="Atrial Flutter">Atrial Flutter</option> <option value="Attention Deficit/Hyperactivity Disorder (ADHD &#45; Adults)">Attention Deficit/Hyperactivity Disorder (ADHD &#45; Adults)</option> <option value="Attention Deficit/Hyperactivity Disorder (ADHD &#45; Pediatric)">Attention Deficit/Hyperactivity Disorder (ADHD &#45; Pediatric)</option> <option value="Autism">Autism</option> <option value="Autonomic Nervous System">Autonomic Nervous System</option> <option value="Bacterial Infections">Bacterial Infections</option> <option value="Barrett&#039;s Esophagus">Barrett&#039;s Esophagus</option> <option value="Benign Prostatic Hyperplasia (Enlarged Prostate)">Benign Prostatic Hyperplasia (Enlarged Prostate)</option> <option value="Biliary Tract Cancer">Biliary Tract Cancer</option> <option value="Binge Eating Disorder">Binge Eating Disorder</option> <option value="Bipolar Disorder">Bipolar Disorder</option> <option value="Bipolar Disorders (Pediatric)">Bipolar Disorders (Pediatric)</option> <option value="Birth Control">Birth Control</option> <option value="Birth Defects">Birth Defects</option> <option value="Bladder Cancer">Bladder Cancer</option> <option value="Bladder Disorders">Bladder Disorders</option> <option value="Blood Cancer">Blood Cancer</option> <option value="Blood Clots">Blood Clots</option> <option value="Body Composition">Body Composition</option> <option value="Bone Density">Bone Density</option> <option value="Bone Diseases">Bone Diseases</option> <option value="Bone Marrow Transplant">Bone Marrow Transplant</option> <option value="Bone Metastases">Bone Metastases</option> <option value="Bowel Dysfunction">Bowel Dysfunction</option> <option value="Brain Cancer">Brain Cancer</option> <option value="Brain Injury">Brain Injury</option> <option value="Brain Metastases">Brain Metastases</option> <option value="Brain Tumor">Brain Tumor</option> <option value="Breast Cancer">Breast Cancer</option> <option value="Breast Cancer &#45; HER2 Positive">Breast Cancer &#45; HER2 Positive</option> <option value="Breast Feeding">Breast Feeding</option> <option value="Breast Fibroadenoma">Breast Fibroadenoma</option> <option value="Breast Implants">Breast Implants</option> <option value="Breast Reconstruction">Breast Reconstruction</option> <option value="Bronchiectasis">Bronchiectasis</option> <option value="Bronchitis">Bronchitis</option> <option value="Bronchoscopy">Bronchoscopy</option> <option value="Bulimia">Bulimia</option> <option value="Cancer (Pediatric)">Cancer (Pediatric)</option> <option value="Cancer Pain">Cancer Pain</option> <option value="Cancer Prevention">Cancer Prevention</option> <option value="Cancer Treatment">Cancer Treatment</option> <option value="Cancer/Tumors">Cancer/Tumors</option> <option value="Cardiac Ischemia">Cardiac Ischemia</option> <option value="Cardiac Surgery">Cardiac Surgery</option> <option value="Cardiomyopathy">Cardiomyopathy</option> <option value="Cardiovascular Abnormalities">Cardiovascular Abnormalities</option> <option value="Carotid Artery Disease">Carotid Artery Disease</option> <option value="Carpal Tunnel Syndrome">Carpal Tunnel Syndrome</option> <option value="Cartilage Injuries">Cartilage Injuries</option> <option value="Cataracts">Cataracts</option> <option value="Celiac Disease">Celiac Disease</option> <option value="Cerebral Arteriovenous Malformations">Cerebral Arteriovenous Malformations</option> <option value="Cerebral Palsy">Cerebral Palsy</option> <option value="Cerebral Palsy (Pediatric)">Cerebral Palsy (Pediatric)</option> <option value="Cervical Cancer">Cervical Cancer</option> <option value="Cervical Dysplasia">Cervical Dysplasia</option> <option value="Cervical Intraepithelial Neoplasia">Cervical Intraepithelial Neoplasia</option> <option value="Chemotherapy">Chemotherapy</option> <option value="Chest Pain">Chest Pain</option> <option value="Chordoma">Chordoma</option> <option value="Chronic Back Pain">Chronic Back Pain</option> <option value="Chronic Bronchitis">Chronic Bronchitis</option> <option value="Chronic Cough">Chronic Cough</option> <option value="Chronic Diarrhea">Chronic Diarrhea</option> <option value="Chronic Fatigue Syndrome">Chronic Fatigue Syndrome</option> <option value="Chronic Inflammatory Demyelinating Polyneuropathy (CIDP)">Chronic Inflammatory Demyelinating Polyneuropathy (CIDP)</option> <option value="Chronic Leg Pain">Chronic Leg Pain</option> <option value="Chronic Lymphocytic Leukemia">Chronic Lymphocytic Leukemia</option> <option value="Chronic Myeloid Leukemia">Chronic Myeloid Leukemia</option> <option value="Chronic Obstructive Lung Disease">Chronic Obstructive Lung Disease</option> <option value="Chronic Pain">Chronic Pain</option> <option value="Chronic Renal Anemia">Chronic Renal Anemia</option> <option value="Claudication">Claudication</option> <option value="Clostridium Difficile&#45;Associated Diarrhea">Clostridium Difficile&#45;Associated Diarrhea</option> <option value="Cold Sores (Herpes Labialis Infections)">Cold Sores (Herpes Labialis Infections)</option> <option value="Colic">Colic</option> <option value="Colon Cancer">Colon Cancer</option> <option value="Colon Cancer Screening">Colon Cancer Screening</option> <option value="Colon Polyps">Colon Polyps</option> <option value="Colorectal Cancer">Colorectal Cancer</option> <option value="Common Cold">Common Cold</option> <option value="Communication Disorders">Communication Disorders</option> <option value="Complex Regional Pain Syndrome&#45; type 1 (CRPS&#45;I)">Complex Regional Pain Syndrome&#45; type 1 (CRPS&#45;I)</option> <option value="Congenital Afibrinogenemia">Congenital Afibrinogenemia</option> <option value="Congenital Heart Disease">Congenital Heart Disease</option> <option value="Congestive Heart Failure">Congestive Heart Failure</option> <option value="Conjunctivitis, Bacterial">Conjunctivitis, Bacterial</option> <option value="Connective Tissue Diseases">Connective Tissue Diseases</option> <option value="Constipation">Constipation</option> <option value="Contact Dermatitis">Contact Dermatitis</option> <option value="Contraception">Contraception</option> <option value="COPD (Chronic Obstructive Pulmonary Disease)">COPD (Chronic Obstructive Pulmonary Disease)</option> <option value="Coronary Artery Disease">Coronary Artery Disease</option> <option value="Crohn&#039;s Disease">Crohn&#039;s Disease</option> <option value="Cushing&#039;s Disease">Cushing&#039;s Disease</option> <option value="Cutaneous Lupus Erythematosus">Cutaneous Lupus Erythematosus</option> <option value="Cutaneous T&#45;Cell Lymphoma">Cutaneous T&#45;Cell Lymphoma</option> <option value="Cystic Fibrosis">Cystic Fibrosis</option> <option value="Cystoid Macular Edema">Cystoid Macular Edema</option> <option value="Cytomegalovirus Infections">Cytomegalovirus Infections</option> <option value="Deafness">Deafness</option> <option value="Deep Vein Thrombosis">Deep Vein Thrombosis</option> <option value="Defibrillator (AICD)">Defibrillator (AICD)</option> <option value="Dementia">Dementia</option> <option value="Depression">Depression</option> <option value="Depression (Adolescent)">Depression (Adolescent)</option> <option value="Depression (Adult and Geriatric)">Depression (Adult and Geriatric)</option> <option value="Depression (Major/Severe)">Depression (Major/Severe)</option> <option value="Depression (Pediatric)">Depression (Pediatric)</option> <option value="Depression (Treatment&#45;Resistant)">Depression (Treatment&#45;Resistant)</option> <option value="Dermatitis, Atopic">Dermatitis, Atopic</option> <option value="Dermatomyositis (Connective Tissue Disease)">Dermatomyositis (Connective Tissue Disease)</option> <option value="Diabetes (Pediatric)">Diabetes (Pediatric)</option> <option value="Diabetes and Hypertension">Diabetes and Hypertension</option> <option value="Diabetes Mellitus Types I and II">Diabetes Mellitus Types I and II</option> <option value="Diabetes Mellitus, Type 1">Diabetes Mellitus, Type 1</option> <option value="Diabetes Mellitus, Type 2">Diabetes Mellitus, Type 2</option> <option value="Diabetes Prevention">Diabetes Prevention</option> <option value="Diabetic Foot Ulcers">Diabetic Foot Ulcers</option> <option value="Diabetic Gastroparesis">Diabetic Gastroparesis</option> <option value="Diabetic Kidney Disease">Diabetic Kidney Disease</option> <option value="Diabetic Macular Edema">Diabetic Macular Edema</option> <option value="Diabetic Neuropathy">Diabetic Neuropathy</option> <option value="Diabetic Retinopathy">Diabetic Retinopathy</option> <option value="Diet and Nutrition">Diet and Nutrition</option> <option value="Digestive System Neoplasms">Digestive System Neoplasms</option> <option value="Discoid Lupus Erythematosus (DLE)">Discoid Lupus Erythematosus (DLE)</option> <option value="Down&#039;s Syndrome">Down&#039;s Syndrome</option> <option value="Dry Eye Disease">Dry Eye Disease</option> <option value="Ductal Carcinoma In Situ (DCIS)">Ductal Carcinoma In Situ (DCIS)</option> <option value="Dysfunctional Uterine Bleeding">Dysfunctional Uterine Bleeding</option> <option value="Dyskinesias">Dyskinesias</option> <option value="Dyslipidemia">Dyslipidemia</option> <option value="Dysmenorrhea (Painful Periods)">Dysmenorrhea (Painful Periods)</option> <option value="Dysrhythmia">Dysrhythmia</option> <option value="Dystonias">Dystonias</option> <option value="Ear Infections">Ear Infections</option> <option value="Ear Infections (Pediatric)">Ear Infections (Pediatric)</option> <option value="Eczema (Atopic Dermatitis &#45; Pediatric)">Eczema (Atopic Dermatitis &#45; Pediatric)</option> <option value="Eczema (Atopic Dermatitis)">Eczema (Atopic Dermatitis)</option> <option value="Effects of Chemotherapy">Effects of Chemotherapy</option> <option value="Elevated Triglycerides (Hypertriglyceridemia)">Elevated Triglycerides (Hypertriglyceridemia)</option> <option value="Emphysema">Emphysema</option> <option value="Endometrial Cancer">Endometrial Cancer</option> <option value="Endometrial Hyperplasia">Endometrial Hyperplasia</option> <option value="Endometriosis">Endometriosis</option> <option value="Epidermolysis Bullosa">Epidermolysis Bullosa</option> <option value="Epilepsy">Epilepsy</option> <option value="Epilepsy (Pediatric)">Epilepsy (Pediatric)</option> <option value="Erectile Dysfunction">Erectile Dysfunction</option> <option value="Esophageal Cancer">Esophageal Cancer</option> <option value="Esophageal Disorders">Esophageal Disorders</option> <option value="Essential Tremor">Essential Tremor</option> <option value="Ewing&#039;s Family Tumors">Ewing&#039;s Family Tumors</option> <option value="Excessive Sweating">Excessive Sweating</option> <option value="Eye Disorders/Infections">Eye Disorders/Infections</option> <option value="Eye Disorders/Infections (Pediatric)">Eye Disorders/Infections (Pediatric)</option> <option value="Fabry Disease">Fabry Disease</option> <option value="Fallopian Tube Cancer">Fallopian Tube Cancer</option> <option value="Familial Chylomicronemia Syndrome">Familial Chylomicronemia Syndrome</option> <option value="Familial Hypercholesterolemia">Familial Hypercholesterolemia</option> <option value="Fast Heart Rate (Tachycardia)">Fast Heart Rate (Tachycardia)</option> <option value="Fecal Incontinence">Fecal Incontinence</option> <option value="Female Hormonal Deficiencies/Abnormalities">Female Hormonal Deficiencies/Abnormalities</option> <option value="Fever">Fever</option> <option value="Fibromyalgia">Fibromyalgia</option> <option value="Follicular Lymphoma">Follicular Lymphoma</option> <option value="Frequent Nighttime Urination (Nocturia)">Frequent Nighttime Urination (Nocturia)</option> <option value="Friedreich&#039;s Ataxia">Friedreich&#039;s Ataxia</option> <option value="Functional Dyspepsia">Functional Dyspepsia</option> <option value="Fungal Infections">Fungal Infections</option> <option value="Gastric Cancer">Gastric Cancer</option> <option value="Gastroenteritis">Gastroenteritis</option> <option value="Gastroesophageal Reflux Disease (GERD)">Gastroesophageal Reflux Disease (GERD)</option> <option value="Gastrointestinal Diseases and Disorders">Gastrointestinal Diseases and Disorders</option> <option value="Gastroparesis">Gastroparesis</option> <option value="Gaucher Disease">Gaucher Disease</option> <option value="Generalized Anxiety Disorder (GAD)">Generalized Anxiety Disorder (GAD)</option> <option value="Genital Warts">Genital Warts</option> <option value="Genitourinary Cancer">Genitourinary Cancer</option> <option value="Genitourinary Prolapse">Genitourinary Prolapse</option> <option value="Germ Cell Tumors">Germ Cell Tumors</option> <option value="Gestational Trophoblastic Neoplasia">Gestational Trophoblastic Neoplasia</option> <option value="Glaucoma">Glaucoma</option> <option value="Glioblastoma multiforme">Glioblastoma multiforme</option> <option value="Gliomas">Gliomas</option> <option value="Glomerulonephritis">Glomerulonephritis</option> <option value="Gout (Hyperuricemia)">Gout (Hyperuricemia)</option> <option value="Graft&#45;Versus&#45;Host Disease (GVHD)">Graft&#45;Versus&#45;Host Disease (GVHD)</option> <option value="Growth Hormone Deficiencies/Abnormalities">Growth Hormone Deficiencies/Abnormalities</option> <option value="Gynecological Infections">Gynecological Infections</option> <option value="Hair Loss">Hair Loss</option> <option value="Hair Removal">Hair Removal</option> <option value="Head and Neck Cancer">Head and Neck Cancer</option> <option value="Headaches">Headaches</option> <option value="Hearing Impairment">Hearing Impairment</option> <option value="Hearing Loss">Hearing Loss</option> <option value="Heart Attack (Myocardial Infarction)">Heart Attack (Myocardial Infarction)</option> <option value="Heart Disease">Heart Disease</option> <option value="Heart Failure">Heart Failure</option> <option value="Heart Transplantation">Heart Transplantation</option> <option value="Heart Valve Disease">Heart Valve Disease</option> <option value="Heartburn">Heartburn</option> <option value="Helicobacter Pylori">Helicobacter Pylori</option> <option value="Hemangioma">Hemangioma</option> <option value="Hematologic Cancer">Hematologic Cancer</option> <option value="Hematologic Neoplasms">Hematologic Neoplasms</option> <option value="Hematological Disorders">Hematological Disorders</option> <option value="Hemodialysis">Hemodialysis</option> <option value="Hemoglobinuria, Paroxysmal">Hemoglobinuria, Paroxysmal</option> <option value="Hemophilia">Hemophilia</option> <option value="Hemorrhage">Hemorrhage</option> <option value="Hemorrhoids">Hemorrhoids</option> <option value="Hepatic Encephalopathy">Hepatic Encephalopathy</option> <option value="Hepatitis">Hepatitis</option> <option value="Hepatitis B">Hepatitis B</option> <option value="Hepatitis C; Chronic">Hepatitis C; Chronic</option> <option value="Hereditary Angioedema">Hereditary Angioedema</option> <option value="Hernia">Hernia</option> <option value="Herpes Simplex Infections">Herpes Simplex Infections</option> <option value="Herpes Zoster Infections">Herpes Zoster Infections</option> <option value="High Blood Pressure (Hypertension &#45; Pediatric)">High Blood Pressure (Hypertension &#45; Pediatric)</option> <option value="High Blood Pressure (Hypertension)">High Blood Pressure (Hypertension)</option> <option value="High Cholesterol (Hyperlipidemia)">High Cholesterol (Hyperlipidemia)</option> <option value="Hip Replacement">Hip Replacement</option> <option value="Histiocytoma">Histiocytoma</option> <option value="HIV">HIV</option> <option value="HIV (Pediatric)">HIV (Pediatric)</option> <option value="HIV Infections">HIV Infections</option> <option value="HIV/AIDS">HIV/AIDS</option> <option value="Hives (Urticaria)">Hives (Urticaria)</option> <option value="Hodgkin&#039;s Disease">Hodgkin&#039;s Disease</option> <option value="Hormone Deficiencies">Hormone Deficiencies</option> <option value="Hormone Replacement Therapy">Hormone Replacement Therapy</option> <option value="Hot Flash">Hot Flash</option> <option value="Human Growth Hormone (HGH)">Human Growth Hormone (HGH)</option> <option value="Human Papilloma Virus (HPV)">Human Papilloma Virus (HPV)</option> <option value="Huntington&#039;s Disease">Huntington&#039;s Disease</option> <option value="Hyperparathyroidism">Hyperparathyroidism</option> <option value="Hypertriglyceridemia">Hypertriglyceridemia</option> <option value="Hypogammaglobulinemia">Hypogammaglobulinemia</option> <option value="Hypogonadism">Hypogonadism</option> <option value="Hyponatremia">Hyponatremia</option> <option value="Idiopathic Inflammatory Myopathies">Idiopathic Inflammatory Myopathies</option> <option value="Idiopathic Membranous Nephropathy">Idiopathic Membranous Nephropathy</option> <option value="Idiopathic Pulmonary Fibrosis">Idiopathic Pulmonary Fibrosis</option> <option value="Idiopathic Short Stature">Idiopathic Short Stature</option> <option value="Ileus">Ileus</option> <option value="Impotence">Impotence</option> <option value="In Vitro Fertilization">In Vitro Fertilization</option> <option value="Infantile Fibrosarcoma">Infantile Fibrosarcoma</option> <option value="Infantile Spasms">Infantile Spasms</option> <option value="Infertility">Infertility</option> <option value="Inflammation">Inflammation</option> <option value="Inflammatory Bowel Disease">Inflammatory Bowel Disease</option> <option value="Influenza">Influenza</option> <option value="Insomnia">Insomnia</option> <option value="Intermittent Claudication">Intermittent Claudication</option> <option value="Intermittent Explosive Disorder">Intermittent Explosive Disorder</option> <option value="Interstitial Cystitis">Interstitial Cystitis</option> <option value="Intra&#45;Abdominal Infections">Intra&#45;Abdominal Infections</option> <option value="Intrauterine Device">Intrauterine Device</option> <option value="Iritis">Iritis</option> <option value="Irritable Bowel Syndrome (IBS)">Irritable Bowel Syndrome (IBS)</option> <option value="Joint Injuries">Joint Injuries</option> <option value="Kaposi&#039;s Sarcoma">Kaposi&#039;s Sarcoma</option> <option value="Kawasaki Disease">Kawasaki Disease</option> <option value="Keratoses">Keratoses</option> <option value="Kidney Cancer">Kidney Cancer</option> <option value="Kidney Disease">Kidney Disease</option> <option value="Kidney Disease (Pediatric)">Kidney Disease (Pediatric)</option> <option value="Kidney Failure">Kidney Failure</option> <option value="Kidney Stones">Kidney Stones</option> <option value="Kidney Transplantation">Kidney Transplantation</option> <option value="Knee Injuries">Knee Injuries</option> <option value="Knee Replacement">Knee Replacement</option> <option value="Knee Surgery">Knee Surgery</option> <option value="Labor/Delivery">Labor/Delivery</option> <option value="Lactose Intolerance">Lactose Intolerance</option> <option value="Leukemia">Leukemia</option> <option value="Leukemia (Pediatric)">Leukemia (Pediatric)</option> <option value="Limb Spasticity">Limb Spasticity</option> <option value="Liposuction">Liposuction</option> <option value="Liver Cancer">Liver Cancer</option> <option value="Liver Disease">Liver Disease</option> <option value="Liver Failure">Liver Failure</option> <option value="Liver Metastases">Liver Metastases</option> <option value="Liver Transplantation">Liver Transplantation</option> <option value="Low Testosterone">Low Testosterone</option> <option value="Lower Back Pain">Lower Back Pain</option> <option value="Lung Cancer">Lung Cancer</option> <option value="Lung Disease">Lung Disease</option> <option value="Lung Injury">Lung Injury</option> <option value="Lupus">Lupus</option> <option value="Lupus Nephritis">Lupus Nephritis</option> <option value="Lymphedema">Lymphedema</option> <option value="Lymphocytic Leukemia, Acute">Lymphocytic Leukemia, Acute</option> <option value="Lymphocytic Leukemia, Chronic">Lymphocytic Leukemia, Chronic</option> <option value="Lymphoma">Lymphoma</option> <option value="Lymphoma, B&#45;Cell">Lymphoma, B&#45;Cell</option> <option value="Lymphoproliferative disorders">Lymphoproliferative disorders</option> <option value="Lysosomal Acid Lipase Deficiency (LAL)">Lysosomal Acid Lipase Deficiency (LAL)</option> <option value="Macular Degeneration">Macular Degeneration</option> <option value="Macular Edema">Macular Edema</option> <option value="Male Pattern Baldness">Male Pattern Baldness</option> <option value="Malignant Melanoma">Malignant Melanoma</option> <option value="Mantle Cell Lymphoma">Mantle Cell Lymphoma</option> <option value="Marginal Zone Lymphoma">Marginal Zone Lymphoma</option> <option value="Mastectomy">Mastectomy</option> <option value="Melanoma">Melanoma</option> <option value="Memory Loss">Memory Loss</option> <option value="Memory Problems">Memory Problems</option> <option value="Meningitis">Meningitis</option> <option value="Menopause">Menopause</option> <option value="Men&#039;s Health">Men&#039;s Health</option> <option value="Menstrual Disorders">Menstrual Disorders</option> <option value="Menstruation">Menstruation</option> <option value="Mesothelioma">Mesothelioma</option> <option value="Metabolic Disorders">Metabolic Disorders</option> <option value="Metabolic Syndrome">Metabolic Syndrome</option> <option value="Metastatic Cancer">Metastatic Cancer</option> <option value="Metastatic Melanoma">Metastatic Melanoma</option> <option value="Migraine (Pediatric)">Migraine (Pediatric)</option> <option value="Migraine and Cluster Headaches">Migraine and Cluster Headaches</option> <option value="Miscarriage">Miscarriage</option> <option value="Mitral Valve Regurgitation">Mitral Valve Regurgitation</option> <option value="Mood Disorders">Mood Disorders</option> <option value="Mucositis">Mucositis</option> <option value="Multiple Myeloma">Multiple Myeloma</option> <option value="Multiple Sclerosis">Multiple Sclerosis</option> <option value="Multiple System Atrophy (MSA)">Multiple System Atrophy (MSA)</option> <option value="Muscle Pain">Muscle Pain</option> <option value="Musculoskeletal Diseases">Musculoskeletal Diseases</option> <option value="Myasthenia Gravis (Chronic Weakness)">Myasthenia Gravis (Chronic Weakness)</option> <option value="Mycosis Fungoides">Mycosis Fungoides</option> <option value="Myelodysplastic Syndromes (MDS)">Myelodysplastic Syndromes (MDS)</option> <option value="Myelofibrosis">Myelofibrosis</option> <option value="Myocardial Ischemia">Myocardial Ischemia</option> <option value="Myopia">Myopia</option> <option value="Myositis">Myositis</option> <option value="Narcolepsy">Narcolepsy</option> <option value="Nasal Obstruction">Nasal Obstruction</option> <option value="Nasopharyngeal Cancer">Nasopharyngeal Cancer</option> <option value="Neck Pain">Neck Pain</option> <option value="Neoplasm Metastasis">Neoplasm Metastasis</option> <option value="Neoplasms">Neoplasms</option> <option value="Nephritis">Nephritis</option> <option value="Nephropathy">Nephropathy</option> <option value="Nerve Injury">Nerve Injury</option> <option value="Neuroblastoma">Neuroblastoma</option> <option value="Neuroendocrine Carcinoma">Neuroendocrine Carcinoma</option> <option value="Neurofibromatosis">Neurofibromatosis</option> <option value="Neurologic Disorders">Neurologic Disorders</option> <option value="Neuropathy">Neuropathy</option> <option value="Neutropenia">Neutropenia</option> <option value="Nocturia">Nocturia</option> <option value="Non&#45;Hodgkin&#039;s Lymphoma">Non&#45;Hodgkin&#039;s Lymphoma</option> <option value="Non&#45;Small Cell Lung Cancer">Non&#45;Small Cell Lung Cancer</option> <option value="Obesity">Obesity</option> <option value="Obsessive&#45;Compulsive Disorder">Obsessive&#45;Compulsive Disorder</option> <option value="Ocular Hypertension">Ocular Hypertension</option> <option value="Opioid Use Disorder">Opioid Use Disorder</option> <option value="Oral Cancer">Oral Cancer</option> <option value="Oral Cavity Cancer">Oral Cavity Cancer</option> <option value="Orthopedic Surgery">Orthopedic Surgery</option> <option value="Orthopedics">Orthopedics</option> <option value="Orthostatic Hypotension">Orthostatic Hypotension</option> <option value="Osteoarthritis">Osteoarthritis</option> <option value="Osteomyelitis">Osteomyelitis</option> <option value="Osteopenia">Osteopenia</option> <option value="Osteoporosis">Osteoporosis</option> <option value="Osteosarcoma">Osteosarcoma</option> <option value="Otitis Externa (Swimmer&#039;s Ear)">Otitis Externa (Swimmer&#039;s Ear)</option> <option value="Otitis Media">Otitis Media</option> <option value="Ovarian Cancer">Ovarian Cancer</option> <option value="Ovulation">Ovulation</option> <option value="Pacemaker (ICD)">Pacemaker (ICD)</option> <option value="Pain">Pain</option> <option value="Pain (Pediatric)">Pain (Pediatric)</option> <option value="Pancreatic Cancer">Pancreatic Cancer</option> <option value="Pancreatic Disorders">Pancreatic Disorders</option> <option value="Pancreatitis">Pancreatitis</option> <option value="Parkinson&#039;s Disease">Parkinson&#039;s Disease</option> <option value="Pediatric Health">Pediatric Health</option> <option value="Pelvic Adhesions">Pelvic Adhesions</option> <option value="Pemphigus Vulgaris (PV)">Pemphigus Vulgaris (PV)</option> <option value="Perimenopause">Perimenopause</option> <option value="Periodontitis">Periodontitis</option> <option value="Peripheral Arterial Disease (PAD)">Peripheral Arterial Disease (PAD)</option> <option value="Peripheral Arterial Occlusive Disease">Peripheral Arterial Occlusive Disease</option> <option value="Peripheral Neuropathy">Peripheral Neuropathy</option> <option value="Peripheral Vascular Disease">Peripheral Vascular Disease</option> <option value="Peritoneal Cancer">Peritoneal Cancer</option> <option value="Peyronie&#039;s Disease">Peyronie&#039;s Disease</option> <option value="Pharyngitis">Pharyngitis</option> <option value="Phenylketonuria">Phenylketonuria</option> <option value="Pleural Diseases">Pleural Diseases</option> <option value="Pleural Effusion">Pleural Effusion</option> <option value="Pneumonia">Pneumonia</option> <option value="Polymyositis (Inflammatory Muscle Disease)">Polymyositis (Inflammatory Muscle Disease)</option> <option value="Polyps">Polyps</option> <option value="Pompe Disease">Pompe Disease</option> <option value="Post Menopause">Post Menopause</option> <option value="Posterior Uveitis">Posterior Uveitis</option> <option value="Postherpetic Neuralgia">Postherpetic Neuralgia</option> <option value="Post&#45;Menopausal Osteopenia">Post&#45;Menopausal Osteopenia</option> <option value="Post&#45;Menopausal Osteoporosis">Post&#45;Menopausal Osteoporosis</option> <option value="Post&#45;Operative Nausea and Vomiting">Post&#45;Operative Nausea and Vomiting</option> <option value="Post&#45;Partum Depression">Post&#45;Partum Depression</option> <option value="Post&#45;Surgical Pain">Post&#45;Surgical Pain</option> <option value="Post&#45;Traumatic Stress Disorders">Post&#45;Traumatic Stress Disorders</option> <option value="Precocious Puberty">Precocious Puberty</option> <option value="Preeclampsia">Preeclampsia</option> <option value="Pregnancy">Pregnancy</option> <option value="Pregnancy Complications">Pregnancy Complications</option> <option value="Premature Ejaculation">Premature Ejaculation</option> <option value="Premenstrual Syndrome">Premenstrual Syndrome</option> <option value="Pressure Ulcer">Pressure Ulcer</option> <option value="Pressure Ulcers">Pressure Ulcers</option> <option value="Prostate Cancer">Prostate Cancer</option> <option value="Prostate Disorders">Prostate Disorders</option> <option value="Proteinuria">Proteinuria</option> <option value="Pseudobulbar Affect">Pseudobulbar Affect</option> <option value="Psoriasis and Psoriatic Disorders">Psoriasis and Psoriatic Disorders</option> <option value="Psoriatic Arthritis">Psoriatic Arthritis</option> <option value="Psychosis">Psychosis</option> <option value="Pulmonary Arterial Hypertension">Pulmonary Arterial Hypertension</option> <option value="Pulmonary Embolism">Pulmonary Embolism</option> <option value="Pulmonary Fibrosis">Pulmonary Fibrosis</option> <option value="Raynaud&#039;s Disease">Raynaud&#039;s Disease</option> <option value="Rectal Cancer">Rectal Cancer</option> <option value="Recurrent Diarrhea">Recurrent Diarrhea</option> <option value="Recurrent Ovarian Cancer">Recurrent Ovarian Cancer</option> <option value="Recurrent Pregnancy Loss">Recurrent Pregnancy Loss</option> <option value="Recurrent Respiratory Papillomatosis">Recurrent Respiratory Papillomatosis</option> <option value="Red Cell Disorders">Red Cell Disorders</option> <option value="Reflex Sympathetic Dystrophy Syndrome (RSDS)">Reflex Sympathetic Dystrophy Syndrome (RSDS)</option> <option value="Renal Anemia">Renal Anemia</option> <option value="Renal Artery Disease">Renal Artery Disease</option> <option value="Renal Cancer">Renal Cancer</option> <option value="Renal Cell Cancer">Renal Cell Cancer</option> <option value="Renal Cell Carcinoma">Renal Cell Carcinoma</option> <option value="Renal Failure">Renal Failure</option> <option value="Respiratory Failure">Respiratory Failure</option> <option value="Respiratory Syncytial Virus (RSV) Infection">Respiratory Syncytial Virus (RSV) Infection</option> <option value="Restless Leg Syndrome">Restless Leg Syndrome</option> <option value="Retinitis Pigmentosa">Retinitis Pigmentosa</option> <option value="Retinoblastoma">Retinoblastoma</option> <option value="Rhabdomyosarcoma">Rhabdomyosarcoma</option> <option value="Rheumatic Fever">Rheumatic Fever</option> <option value="Rheumatoid Arthritis">Rheumatoid Arthritis</option> <option value="Rheumatoid Arthritis (Pediatric)">Rheumatoid Arthritis (Pediatric)</option> <option value="Rhinitis, Allergic, Perennial">Rhinitis, Allergic, Perennial</option> <option value="Rosacea">Rosacea</option> <option value="Rotavirus">Rotavirus</option> <option value="Saliva and Salivary Gland Dysfunction">Saliva and Salivary Gland Dysfunction</option> <option value="Sarcoidosis">Sarcoidosis</option> <option value="Sarcoma">Sarcoma</option> <option value="Sarcoma (Pediatric)">Sarcoma (Pediatric)</option> <option value="Schizophrenia and Schizoaffective Disorders">Schizophrenia and Schizoaffective Disorders</option> <option value="Schizophrenia and Schizoaffective Disorders (Pediatric)">Schizophrenia and Schizoaffective Disorders (Pediatric)</option> <option value="Sciatica">Sciatica</option> <option value="Scleroderma">Scleroderma</option> <option value="Seborrhea">Seborrhea</option> <option value="Seborrheic Dermatitis">Seborrheic Dermatitis</option> <option value="Seizure Disorders">Seizure Disorders</option> <option value="Seizure Disorders (Pediatric)">Seizure Disorders (Pediatric)</option> <option value="Sexual Dysfunction">Sexual Dysfunction</option> <option value="Sexually Transmitted Diseases (STDs)">Sexually Transmitted Diseases (STDs)</option> <option value="Sezary Syndrome">Sezary Syndrome</option> <option value="Shingles">Shingles</option> <option value="Sickle Cell Disease">Sickle Cell Disease</option> <option value="Sinus Infections">Sinus Infections</option> <option value="Sjogren&#039;s Syndrome">Sjogren&#039;s Syndrome</option> <option value="Skin Aging">Skin Aging</option> <option value="Skin Cancer">Skin Cancer</option> <option value="Skin Cell Studies">Skin Cell Studies</option> <option value="Skin Infections/Disorders">Skin Infections/Disorders</option> <option value="Sleep Apnea Syndromes">Sleep Apnea Syndromes</option> <option value="Sleep Disorders">Sleep Disorders</option> <option value="Sleep Disorders (Pediatric)">Sleep Disorders (Pediatric)</option> <option value="Small Cell Lung Cancer">Small Cell Lung Cancer</option> <option value="Smallpox">Smallpox</option> <option value="Smoking Cessation">Smoking Cessation</option> <option value="Social Anxiety Disorder (SAD)">Social Anxiety Disorder (SAD)</option> <option value="Social Phobia">Social Phobia</option> <option value="Soft Tissue Infections">Soft Tissue Infections</option> <option value="Soft Tissue Sarcoma">Soft Tissue Sarcoma</option> <option value="Solid Tumors">Solid Tumors</option> <option value="Spinal Cord Injuries">Spinal Cord Injuries</option> <option value="Spinal Muscular Atrophy">Spinal Muscular Atrophy</option> <option value="Spinal Surgery">Spinal Surgery</option> <option value="Spinocerebellar Disorders">Spinocerebellar Disorders</option> <option value="Sprains">Sprains</option> <option value="Squamous Cell Carcinoma">Squamous Cell Carcinoma</option> <option value="Staphylococcal Infections">Staphylococcal Infections</option> <option value="Staphylococcal Skin Infections">Staphylococcal Skin Infections</option> <option value="Stem Cell Transplant">Stem Cell Transplant</option> <option value="Stent">Stent</option> <option value="Stomach Cancer">Stomach Cancer</option> <option value="Stomach Discomfort">Stomach Discomfort</option> <option value="Strep Throat">Strep Throat</option> <option value="Stress">Stress</option> <option value="Stroke">Stroke</option> <option value="Substance Abuse">Substance Abuse</option> <option value="Sunspot Fungus (Tinea Versicolor)">Sunspot Fungus (Tinea Versicolor)</option> <option value="Surgery">Surgery</option> <option value="Systemic Lupus Erythematosus">Systemic Lupus Erythematosus</option> <option value="Tardive Dyskinesia">Tardive Dyskinesia</option> <option value="T&#45;Cell Lymphoma">T&#45;Cell Lymphoma</option> <option value="Tendon Injuries">Tendon Injuries</option> <option value="Tennis Elbow">Tennis Elbow</option> <option value="Tension Headaches">Tension Headaches</option> <option value="Testicular Cancer">Testicular Cancer</option> <option value="Thalassemia">Thalassemia</option> <option value="Thoracotomy">Thoracotomy</option> <option value="Throat and Tonsil Infections">Throat and Tonsil Infections</option> <option value="Thromboembolism">Thromboembolism</option> <option value="Thrombosis">Thrombosis</option> <option value="Thyroid Cancer">Thyroid Cancer</option> <option value="Tic Disorders">Tic Disorders</option> <option value="Tinnitus">Tinnitus</option> <option value="Toenail Fungus (Onychomycosis)">Toenail Fungus (Onychomycosis)</option> <option value="Tourette&#039;s Syndrome">Tourette&#039;s Syndrome</option> <option value="Transplant Rejection">Transplant Rejection</option> <option value="Traumatic Brain Injury">Traumatic Brain Injury</option> <option value="Trigeminal Neuralgia">Trigeminal Neuralgia</option> <option value="Turner Syndrome">Turner Syndrome</option> <option value="Ulcerative Colitis">Ulcerative Colitis</option> <option value="Ulcers">Ulcers</option> <option value="Urinary Incontinence">Urinary Incontinence</option> <option value="Urinary Tract Infections">Urinary Tract Infections</option> <option value="Urothelial Tract Cancer">Urothelial Tract Cancer</option> <option value="Urticaria">Urticaria</option> <option value="Uterine Cancer">Uterine Cancer</option> <option value="Uterine Fibroids">Uterine Fibroids</option> <option value="Uveitis">Uveitis</option> <option value="Vaccines">Vaccines</option> <option value="Vaginal Atrophy">Vaginal Atrophy</option> <option value="Vaginal Cancer">Vaginal Cancer</option> <option value="Vaginal Infection">Vaginal Infection</option> <option value="Vaginitis">Vaginitis</option> <option value="Varicose Veins">Varicose Veins</option> <option value="Vascular Diseases">Vascular Diseases</option> <option value="Vasomotor Rhinitis">Vasomotor Rhinitis</option> <option value="Venous Leg Ulcers">Venous Leg Ulcers</option> <option value="Venous Thromboembolism">Venous Thromboembolism</option> <option value="Venous Thrombosis">Venous Thrombosis</option> <option value="Vestibular Hypofunction">Vestibular Hypofunction</option> <option value="Viral Infections">Viral Infections</option> <option value="Vitiligo">Vitiligo</option> <option value="Vomiting">Vomiting</option> <option value="Von Willebrand Disease">Von Willebrand Disease</option> <option value="Warts">Warts</option> <option value="Weight Loss">Weight Loss</option> <option value="Wilms&#039; Tumor">Wilms&#039; Tumor</option> <option value="Wilson&#039;s Disease">Wilson&#039;s Disease</option> <option value="Wolman Disease">Wolman Disease</option> <option value="Women&#039;s Health">Women&#039;s Health</option> <option value="Wounds">Wounds</option> <option value="Yeast Infections">Yeast Infections</option> \\n</select>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<textarea\\tid="{UXPRERENDEREDALIAS}.V.R1.MEDICATIONS" class="iOS7Edit" title="" style="width: 100%; height: 75px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;" rows="2" cols="30"    name="V.R1.MEDICATIONS"  ></textarea>\\n\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILE.1.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="email" id="{UXPRERENDEREDALIAS}.V.R1.EMAIL" title=""  autocapitalize="off"  autocorrect="off"     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.EMAIL"    value=""  Placeholder="Email"  />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="tel" id="{UXPRERENDEREDALIAS}.V.R1.MOBILENUMBER" title=""  autocapitalize="off"  autocorrect="off"     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.MOBILENUMBER"    value=""  Placeholder="Mobile Number"  />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: " >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.GENDER" for="{UXPRERENDEREDALIAS}.V.R1.GENDER" title="" class="iOS7DialogLabel" style="display:block;">Gender</label>\\n\\n\\t\\n<div id="{UXPRERENDEREDALIAS}.V.R1.GENDER.CONTROL"  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ; white-space:nowrap;"></div>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.DATEOFBIRTH" for="{UXPRERENDEREDALIAS}.V.R1.DATEOFBIRTH" title="" class="iOS7DialogLabel" style="display:block;">Date Of Birth</label>\\n\\n\\t<table id="{UXPRERENDEREDALIAS}.V.R1.DATEOFBIRTH.CONTAINER" cellspacing="0" cellpadding="0" class="iOS7EditBG" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;; display: inline-table; *display: inline;">\\n<tr>\\n<td style="width:100%">\\n\\n<input  \\tid="{UXPRERENDEREDALIAS}.V.R1.DATEOFBIRTH" name="V.R1.DATEOFBIRTH"  value=""  autocomplete="off"   size="200" class="iOS7EditBGEdit" style="width: 100%; ; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;" />\\n\\n</td>\\n\\t\\t<td class="iOS7EditBGSeparator" >&nbsp;</td>\\n\\t\\t<td id="{UXPRERENDEREDALIAS}.V.R1.DATEOFBIRTH.BUTTON" class="iOS7EditBGButton" style="width: 0%;"><i class="iOS7Icon iOS7IconDown" ></i></td>\\n\\t</tr>\\n</table>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.ADDRESS" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.ADDRESS"    value=""    />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.CITY" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.CITY"    value=""    />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 50%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.COUNTRY" for="{UXPRERENDEREDALIAS}.V.R1.COUNTRY" title="" class="iOS7DialogLabel" style="display:block;">Country</label>\\n\\n\\t<select \\t\\n\\t\\tsize="4" \\n\\t\\tclass="iOS7Edit"  \\n\\t\\tname="V.R1.COUNTRY" \\n\\t\\ttitle=""\\n\\t\\tstyle="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\\n\\t\\tid="{UXPRERENDEREDALIAS}.V.R1.COUNTRY"  \\n\\t\\t   >\\n<option value=""></option> <option value="002">Afghanistan</option> <option value="003">Albania</option> <option value="004">Algeria</option> <option value="005">Andorra</option> <option value="006">Angola</option> <option value="007">Anguilla</option> <option value="008">Antigua &amp; Barbuda</option> <option value="009">Argentina</option> <option value="010">Armenia</option> <option value="011">Aruba</option> <option value="012">Ascension</option> <option value="013">Australia</option> <option value="014">Austria</option> <option value="015">Azerbaijan</option> <option value="016">Bahamas</option> <option value="017">Bahrain</option> <option value="018">Bangladesh</option> <option value="019">Barbados</option> <option value="020">Belarus</option> <option value="021">Belgium</option> <option value="022">Belize</option> <option value="023">Benin</option> <option value="024">Bermuda</option> <option value="025">Bhutan</option> <option value="026">Bolivia</option> <option value="027">Bosnia&#45;Herzegovina</option> <option value="028">Botswana</option> <option value="029">Brazil</option> <option value="030">British Virgin Islands</option> <option value="031">Brunei Darussalam</option> <option value="032">Bulgaria</option> <option value="033">Burkina Faso</option> <option value="034">Burma (Myanmar)</option> <option value="035">Burundi</option> <option value="036">Cambodia</option> <option value="037">Cameroon</option> <option value="038">Canada</option> <option value="039">Cape Verde</option> <option value="040">Cayman Islands</option> <option value="041">Central African Republic</option> <option value="042">Chad</option> <option value="043">Chile</option> <option value="044">China</option> <option value="045">Colombia</option> <option value="046">Comoros</option> <option value="047">Congo, Democratic Republic of the</option> <option value="048">Congo, Republic of the</option> <option value="218">Cook Islands</option> <option value="049">Costa Rica</option> <option value="050">Cote d&#039;Ivoire (Ivory Coast)</option> <option value="051">Croatia</option> <option value="052">Cuba</option> <option value="053">Cyprus</option> <option value="054">Czech Republic</option> <option value="055">Denmark</option> <option value="056">Djibouti</option> <option value="057">Dominica</option> <option value="058">Dominican Republic</option> <option value="059">Ecuador</option> <option value="060">Egypt</option> <option value="061">El Salvador</option> <option value="062">Equatorial Guinea</option> <option value="063">Eritrea</option> <option value="064">Estonia</option> <option value="065">Ethiopia</option> <option value="066">Falkland Islands</option> <option value="067">Faroe Islands</option> <option value="068">Fiji</option> <option value="069">Finland</option> <option value="070">France</option> <option value="071">French Guiana</option> <option value="072">French Polynesia</option> <option value="073">Gabon</option> <option value="074">Gambia</option> <option value="215">Georgia</option> <option value="075">Georgia, Republic of</option> <option value="076">Germany</option> <option value="077">Ghana</option> <option value="078">Gibraltar</option> <option value="079">Great Britain &amp; Northern Ireland</option> <option value="080">Greece</option> <option value="081">Greenland</option> <option value="082">Grenada</option> <option value="083">Guadeloupe</option> <option value="084">Guatemala</option> <option value="085">Guinea</option> <option value="086">Guinea&#45;Bissau</option> <option value="087">Guyana</option> <option value="088">Haiti</option> <option value="089">Honduras</option> <option value="090">Hong Kong</option> <option value="091">Hungary</option> <option value="092">Iceland</option> <option value="093">India</option> <option value="094">Indonesia</option> <option value="095">Iran</option> <option value="096">Iraq</option> <option value="097">Ireland (Eire)</option> <option value="098">Israel</option> <option value="099">Italy</option> <option value="100">Jamaica</option> <option value="101">Japan</option> <option value="102">Jordan</option> <option value="103">Kazakhstan</option> <option value="104">Kenya</option> <option value="105">Kiribati</option> <option value="106">Korea, Democratic People&#039;s Republic</option> <option value="107">Korea, Republic of (South)</option> <option value="108">Kuwait</option> <option value="109">Kyrgyzstan</option> <option value="110">Lao, Peoples Democratic Republic</option> <option value="111">Latvia</option> <option value="112">Lebanon</option> <option value="113">Lesotho</option> <option value="114">Liberia</option> <option value="115">Libya</option> <option value="116">Liechtenstein</option> <option value="117">Lithuania</option> <option value="118">Luxembourg</option> <option value="119">Macao</option> <option value="120">Macedonia, Republic of</option> <option value="121">Madagascar</option> <option value="122">Malawi</option> <option value="123">Malaysia</option> <option value="124">Maldives</option> <option value="125">Mali</option> <option value="126">Malta</option> <option value="127">Martinique</option> <option value="128">Mauritania</option> <option value="129">Mauritius</option> <option value="130">Mexico</option> <option value="131">Moldova</option> <option value="216">Monaco</option> <option value="132">Mongolia</option> <option value="133">Montserrat</option> <option value="134">Morocco</option> <option value="135">Mozambique</option> <option value="136">Namibia</option> <option value="137">Nauru</option> <option value="138">Nepal</option> <option value="139">Netherlands</option> <option value="140">Netherlands Antilles</option> <option value="141">New Caledonia</option> <option value="142">New Zealand</option> <option value="143">Nicaragua</option> <option value="144">Niger</option> <option value="145">Nigeria</option> <option value="146">Norway</option> <option value="147">Oman</option> <option value="148">Pakistan</option> <option value="217">Palau</option> <option value="149">Panama</option> <option value="150">Papua New Guinea</option> <option value="151">Paraguay</option> <option value="152">Peru</option> <option value="153">Philippines</option> <option value="154">Pitcairn Island</option> <option value="155">Poland</option> <option value="156">Portugal</option> <option value="157">Qatar</option> <option value="158">Reunion</option> <option value="159">Romania</option> <option value="160">Russia</option> <option value="161">Rwanda</option> <option value="163">Saint Helena</option> <option value="164">Saint Lucia</option> <option value="165">Saint Pierre &amp; Miquelon</option> <option value="166">Saint Vincent &amp; Grenadines</option> <option value="167">San Marino</option> <option value="168">Sao Tome &amp; Principe</option> <option value="169">Saudi Arabia</option> <option value="170">Senegal</option> <option value="171">Serbia&#45;Montenegro (Yugoslavia)</option> <option value="172">Seychelles</option> <option value="173">Sierra Leone</option> <option value="174">Singapore</option> <option value="175">Slovak Republic (Slovakia)</option> <option value="176">Slovenia</option> <option value="177">Solomon Islands</option> <option value="178">Somalia</option> <option value="179">South Africa</option> <option value="180">Spain</option> <option value="181">Sri Lanka</option> <option value="162">St. Christopher (St. Kitts) &amp; Nevis</option> <option value="182">Sudan</option> <option value="183">Suriname</option> <option value="184">Swaziland</option> <option value="185">Sweden</option> <option value="186">Switzerland</option> <option value="187">Syrian Arab Republic (Syria)</option> <option value="188">Taiwan</option> <option value="189">Tajikistan</option> <option value="190">Tanzania</option> <option value="191">Thailand</option> <option value="192">Togo</option> <option value="193">Tonga</option> <option value="194">Trinidad &amp; Tobago</option> <option value="195">Tristan da Cunha</option> <option value="196">Tunisia</option> <option value="197">Turkey</option> <option value="198">Turkmenistan</option> <option value="199">Turks &amp; Caicos Islands</option> <option value="200">Tuvalu</option> <option value="201">Uganda</option> <option value="202">Ukraine</option> <option value="203">United Arab Emirates</option> <option value="001">United States</option> <option value="204">Uruguay</option> <option value="205">Uzbekistan</option> <option value="206">Vanuatu</option> <option value="207">Vatican City</option> <option value="208">Venezuela</option> <option value="209">Vietnam</option> <option value="210">Wallis &amp; Futuna Islands</option> <option value="211">Western Samoa</option> <option value="212">Yemen</option> <option value="213">Zambia</option> <option value="214">Zimbabwe</option> \\n</select>\\n\\n</div>\\n<div class="A5CWLayout" style="width: 50%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.STATE" for="{UXPRERENDEREDALIAS}.V.R1.STATE" title="" class="iOS7DialogLabel" style="display:block;">State</label>\\n\\n\\t<select \\t\\n\\t\\tsize="4" \\n\\t\\tclass="iOS7Edit"  \\n\\t\\tname="V.R1.STATE" \\n\\t\\ttitle=""\\n\\t\\tstyle="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\\n\\t\\tid="{UXPRERENDEREDALIAS}.V.R1.STATE"  \\n\\t\\t   >\\n<option value=""></option> <option value="AL">Alabama</option> <option value="AK">Alaska</option> <option value="AZ">Arizona</option> <option value="AR">Arkansas</option> <option value="CA">California</option> <option value="CO">Colorado</option> <option value="CT">Connecticut</option> <option value="DE">Delaware</option> <option value="FL">Florida</option> <option value="GA">Georgia</option> <option value="HI">Hawaii</option> <option value="ID">Idaho</option> <option value="IL">Illinois</option> <option value="IN">Indiana</option> <option value="IA">Iowa</option> <option value="KS">Kansas</option> <option value="KY">Kentucky</option> <option value="LA">Louisiana</option> <option value="ME">Maine</option> <option value="MD">Maryland</option> <option value="MA">Massachusetts</option> <option value="MI">Michigan</option> <option value="MN">Minnesota</option> <option value="MS">Mississippi</option> <option value="MO">Missouri</option> <option value="MT">Montana</option> <option value="NE">Nebraska</option> <option value="NV">Nevada</option> <option value="NH">New Hampshire</option> <option value="NJ">New Jersey</option> <option value="NM">New Mexico</option> <option value="NY">New York</option> <option value="NC">North Carolina</option> <option value="ND">North Dakota</option> <option value="OH">Ohio</option> <option value="OK">Oklahoma</option> <option value="OR">Oregon</option> <option value="PA">Pennsylvania</option> <option value="RI">Rhode Island</option> <option value="SC">South Carolina</option> <option value="SD">South Dakota</option> <option value="TN">Tennessee</option> <option value="TX">Texas</option> <option value="UT">Utah</option> <option value="VT">Vermont</option> <option value="VA">Virginia</option> <option value="WA">Washington</option> <option value="WV">West Virginia</option> <option value="WI">Wisconsin</option> <option value="WY">Wyoming</option> <option value="AS">American Samoa</option> <option value="DC">District of Columbia</option> <option value="FM">Federated States of Micronesia</option> <option value="GU">Guam</option> <option value="MH">Marshall Islands</option> <option value="MP">Northern Mariana Islands</option> <option value="PW">Palau</option> <option value="PR">Puerto Rico</option> <option value="VI">Virgin Islands</option> <option value="AE">Armed Forces Africa</option> <option value="AA">Armed Forces Americas</option> <option value="AE">Armed Forces Canada</option> <option value="AE">Armed Forces Europe</option> <option value="AE">Armed Forces Middle East</option> <option value="AP">Armed Forces Pacific</option> <option value="AB">Alberta</option> <option value="BC">British Columbia</option> <option value="MB">Manitoba</option> <option value="NB">New Brunswick</option> <option value="NL">Newfoundland and Labrador</option> <option value="NT">Northwest Territories</option> <option value="NS">Nova Scotia</option> <option value="NU">Nunavut</option> <option value="ON">Ontario</option> <option value="PE">Prince Edward Island</option> <option value="QC">Quebec</option> <option value="SK">Saskatchewan</option> <option value="YT">Yukon</option> <option value="PQ">Quebec</option> \\n</select>\\n\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n</div>\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: "  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_ERRORS" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><br  style="clear:both; " />\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_PROFILE.BREAK"  style="clear:both; " /><div  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_PROFILE.BREAK"  style="height:2px; font: 0pt;"></div>\\n<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_BUTTONS"   \\n\\t\\t\\tclass="A5CWLayout "  style="width: 100%; "  >\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_SAVE"    ></button>\\n</div>\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_RESET"    ></button>\\n</div>\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_BUTTONS.BREAK"  style="clear:both; " />\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'y\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK1"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CENTER"    \\t\\t\\tclass="A5CWLayout "  style=""  > <div style="display: table; margin: auto;"> <div class="A5CWLayout" style="width: " > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.STATICTEXT_PROFILE" title=""  class="iOS7Heading" style="text-shadow: 2px 2px #ccc; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >My Profile</div> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> </div><div style="display:none;"></div>\',',
'\t\tshow: true',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t}',
'})',
'},',
'{',
'\tname: \'PANELCARD_LISTHIDDEN\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div class="A5CWLayout" style="width: 4in" >\\n\\t\\n<div  class="iOS7List"   style="padding:0px; "  >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.LISTHIDDEN.CONTROL"  class="{UXPRERENDEREDALIAS}_LISTHIDDEN" style="overflow: auto; width: 100%; height: 3in; "></div>\\n</div>\\n\\n</div><br  style="clear:both; " />\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: false,',
'\t\tstyle: \'display: none;\'',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:none;"></div>\'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tonSize: function() {;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {var mObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LISTHIDDEN\'); if(mObj) mObj.refresh();}}',
'})',
'}',
'],{',
'\ttype: \'programmatic\',',
'\tflow: \'ltr\',',
'\tloopNavigate: false,',
'\tonPanelActivate: function() {{UXPRERENDEREDALIAS}_DlgObj.refreshClientSideComputations();},',
'\tonSize: function() {;if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule != \'undefined\') { ',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
'\t}',
'}},',
'\ttheme: \'iOS7\',',
'\theader: {',
'\t\tshow: false',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tcontrols: {',
'\t\tprev: {',
'\t\t\thas: false',
'\t\t},',
'\t\tnext: {',
'\t\t\thas: false',
'\t\t},',
'\t\tback: {',
'\t\t\thas: false',
'\t\t},',
'\t\tforward: {',
'\t\t\thas: false',
'\t\t}',
'\t},',
'\tbody: {',
'\t},',
'\tanimation: {',
'\t\ttype: \'fade\',',
'\t\tduration: 400',
'\t}',
'})',
'var ele = window[\'{UXPRERENDEREDALIAS}_PanelObj\'].create(\'{UXPRERENDEREDALIAS}.R1\');',
'\t\tvar panelRootId = \'{UXPRERENDEROUTPUTDIV}\';',
'\t\tvar flagSizeToParent = true;',
'\t\tvar wf_alias = \'{UXPRERENDEREDALIAS}\';',
'\t\tif(panelRootId != \'\') { ',
'\t\t\tif (!$(panelRootId)) panelRootId = \'\';',
'\t\t}',
'\t\tif(panelRootId != \'\') { ',
'\t\t\t$(panelRootId).appendChild(ele);',
'\t\t\tif(flagSizeToParent) { ',
'\t\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'parent\');',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tdocument.body.insertBefore(ele,document.body.firstChild);',
'\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'window\');',
'\t\t}',
'\tA5.u.drag.add(\'{UXPRERENDEREDALIAS}.V.R1.CONTAINER_BUTTONS\',\'scroll\',{axis: \'y\',theme: \'iOS7\',pull: {y: \'auto\',x: \'auto\'},indicator: {show: true,h: {show: true,location: \'right\',offset: \'0px\',left: \'0px\',right: \'0px\'},v: {show: true,location: \'right\',offset: \'0px\',top: \'0px\',bottom: \'0px\'}},stopPropogation: false});',
'{UXPRERENDEREDALIAS}_PanelObj._panelPath = {',
'\tPANELCARD_PROFILE: \'PANELCARD_PROFILE\',',
'\tPANELCARD_LISTHIDDEN: \'PANELCARD_LISTHIDDEN\'',
'}',
'{UXPRERENDEREDALIAS}_PanelObj._displayNames = {',
'PANELCARD_PROFILE : \'PANELCARD_PROFILE\',PANELCARD_LISTHIDDEN : \'PANELCARD_LISTHIDDEN\',PANELNAVIGATOR : \'PANELNAVIGATOR\'',
'};',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {UXPRERENDEREDALIAS}_DlgObj._destroy();',
'window[\'{UXPRERENDEREDALIAS}_DlgObj\'] = new A5.DialogComponentHelper(\'{UXPRERENDEREDALIAS}\',{',
'\tajaxURL: \'{UXPRERENDERAJAXURL}\',',
'\t_embeddedMode: false,',
'\t_livePreviewInBuilder: false,',
'\tcomponentGUID: \'5275eec5-1a83-4163-a89d-410ce881c5b6\',',
'\tcolumnInfo: {\'TRIALALERT\': {info: {controlType: \'Switch\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'FIRSTNAME\': {info: {controlType: \'TextBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'LASTNAME\': {info: {controlType: \'TextBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'POSTALCODE\': {info: {controlType: \'TextBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'N\'  },\'MAXIMUMTRAVEL\': {info: {controlType: \'ButtonList\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'N\'  },\'PRIMARYCONDITION\': {info: {controlType: \'DropdownBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'SECONDARYCONDITION\': {info: {controlType: \'DropdownBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'MEDICATIONS\': {info: {controlType: \'Textarea\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'EMAIL\': {info: {controlType: \'TextBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'MOBILENUMBER\': {info: {controlType: \'TextBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\', validate: function(data,colName,rowNum,instNum) {if(RegExp(\'.*[A-z].*\').test(data)) return \'Value cannot contain letters.\'; return true; }  },\'GENDER\': {info: {controlType: \'ButtonList\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'DATEOFBIRTH\': {info: {controlType: \'TextBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'D\'  },\'ADDRESS\': {info: {controlType: \'TextBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'CITY\': {info: {controlType: \'TextBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'COUNTRY\': {info: {controlType: \'DropDownBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'STATE\': {info: {controlType: \'DropDownBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'LISTHIDDEN\': {info: {controlType: \'List\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  }},',
'\toriginalValues: [{',
'\t\'MAXIMUMTRAVEL\': \'5\',',
'\t\'TRIALALERT\': \'\',',
'\t\'FIRSTNAME\': \'\',',
'\t\'LASTNAME\': \'\',',
'\t\'POSTALCODE\': \'\',',
'\t\'PRIMARYCONDITION\': \'\',',
'\t\'SECONDARYCONDITION\': \'\',',
'\t\'MEDICATIONS\': \'\',',
'\t\'EMAIL\': \'\',',
'\t\'MOBILENUMBER\': \'\',',
'\t\'GENDER\': \'\',',
'\t\'DATEOFBIRTH\': \'\',',
'\t\'ADDRESS\': \'\',',
'\t\'CITY\': \'\',',
'\t\'COUNTRY\': \'\',',
'\t\'STATE\': \'\',',
'\t\'LISTHIDDEN\': \'\'',
'}],',
'\tdefaultValues: {',
'\tMAXIMUMTRAVEL: \'5\',',
'\tTRIALALERT: \'\',',
'\tFIRSTNAME: \'\',',
'\tLASTNAME: \'\',',
'\tPOSTALCODE: \'\',',
'\tPRIMARYCONDITION: \'\',',
'\tSECONDARYCONDITION: \'\',',
'\tMEDICATIONS: \'\',',
'\tEMAIL: \'\',',
'\tMOBILENUMBER: \'\',',
'\tGENDER: \'\',',
'\tDATEOFBIRTH: \'\',',
'\tADDRESS: \'\',',
'\tCITY: \'\',',
'\tCOUNTRY: \'\',',
'\tSTATE: \'\',',
'\tLISTHIDDEN: \'\'',
'},',
'\tdatePickerMonthNames: [\'January\',\'February\',\'March\',\'April\',\'May\',\'June\',\'July\',\'August\',\'September\',\'October\',\'November\',\'December\'],',
'\tdatePickerDayNames: [\'Sun\',\'Mon\',\'Tue\',\'Wed\',\'Thu\',\'Fri\',\'Sat\'],',
'\tdatePickerTodayButton: \'Today\',',
'\tdatePickerCloseButton: \'\',',
'\tdatePickerFirstDayOfWeek: 1,',
'\tresetFormMessage: \'Are you sure you want to reset the form?\',',
'\tresetFormTitle: \'Warning\',',
'\tresetFormIcon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\tdirtyFormMessage: \'You must first save your changes or cancel changes by clicking the Reset button.\',',
'\tdirtyFormTitle: \'Notice\',',
'\tdirtyFormIcon: \'cssIcon=iOS7Icon iOS7IconInfo\',',
'\tdeleteRecordDialogTitle: \'Delete Record\',',
'\tdeleteRecordDialogMessage: \'Are you sure you want to delete this record?\',\t',
'\tssDateFormat: \'MM/dd/yyyy\',',
'\tstyleName: \'iOS7\',',
'\t_fieldHelpers_DIALOG2: [],',
'\tparentComponentAlias: \'\'+go._thisGridAlias+\'\',',
'\tsubmitIfHasClientSideErrors: true, ',
'\trowErrors: {',
'\t\t\t\tshowMessageBox: false,',
'\t\t\t\tmessageBoxTitle: \'Error\',',
'\t\t\t\tstyle: \'color: red; width: 6in; height: 2in;\'',
'\t\t},',
'\tfieldErrors: {',
'\t\ttype: \'block\', ',
'\t\tclassName: \'errorText\',',
'\t\tinputClassName: \'iOS7EditError\',',
'\t\tedit: { ',
'\t\t\tcontainer: { className: \'iOS7EditBGError\'}',
'\t\t},',
'\t\ticon: \'cssIcon=iOS7Icon iOS7IconError\',',
'\t\tglobal: {',
'\t\t\tcontId: \'{UXPRERENDEREDALIAS}.GLOBALERRORS\',',
'\t\t\thoverClassName: \'errorTextHighlight\',',
'\t\t\thoverInputClassName: \'errorInputHighlight\'',
'\t\t}',
'\t},',
'\t\t_canAjaxCallback: function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.showWaitMessage(\'page\',{useCSSAnimation: true,cssAnimationSettings: {size: \'32\'}});',
'\t\t},',
'\t\t__afterAjaxCallbackComplete: function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.hideWaitMessage(\'page\');',
'\t\t}',
'\t});',
'{UXPRERENDEREDALIAS}_DlgObj._onOrientationChange =  function(e) { ;',
'{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
';  };',
'A5.__componentObj = {UXPRERENDEREDALIAS}_DlgObj;',
'{UXPRERENDEREDALIAS}_DlgObj._tabObjects = [\'TAB_PROFILE\'];',
'window[\'{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILEObj\'] = new A5.Tab(\'{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILE\',[',
'{ \thtml: \'Profile\', \tvalue: \'1\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'Demographics\', \tvalue: \'2\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tshow: true, \tdisabled: false }',
'],',
'\t{',
'\tanimation: {',
'\t\tshow: {',
'\t\t\ttype: \'fade\',',
'\t\t\tduration: \'slow\'',
'\t\t},',
'\t\thide: {',
'\t\t\ttype: \'None\',',
'\t\t\tduration: \'slow\'',
'\t\t}',
'\t},',
'\ttheme: \'iOS7\',',
'\tonChange: function() {',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_PROFILE\');}',
'}',
');',
'\twindow[\'{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILEObj\'].select(\'1\');',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'FIRSTNAME\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'First Name\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'LASTNAME\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Last Name\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'POSTALCODE\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Postal Code\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'MEDICATIONS\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Medications\'',
'\t}',
'});',
'if(!{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'DATEOFBIRTH\']) {  {UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'DATEOFBIRTH\'] = new A5.EditDateTime({',
'\ttheme: \'iOS7\',',
'\tdateTime: {',
'\t\tformat: \'MM/dd/yyyy \',',
'\t\tdatePicker: {',
'\t\t\tdays: {UXPRERENDEREDALIAS}_DlgObj.datePickerDayNames,',
'\t\t\tmonths: {UXPRERENDEREDALIAS}_DlgObj.datePickerMonthNames,',
'\t\t\tstartDay: {UXPRERENDEREDALIAS}_DlgObj.datePickerFirstDayOfWeek-1,',
'\t\t\tcalendar: {',
'\t\t\t\tlockColumnWidth: false,',
'\t\t\t\tdaysOfWeek: {',
'\t\t\t\t\tshow: true',
'\t\t\t\t},',
'\t\t\t\tweeksOfYear: {',
'\t\t\t\t\tshow: false',
'\t\t\t\t}',
'\t\t\t},',
'\t\t\tnavigator: {',
'\t\t\t\theader: {',
'\t\t\t\t\ttodayButton: {',
'\t\t\t\t\t\tshow: true,',
'\t\t\t\t\t\thtml: {UXPRERENDEREDALIAS}_DlgObj.datePickerTodayButton,',
'\t\t\t\t\t\ttip: \'\'',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t},',
'\t\t\tdisabledDates: {',
'\t\t\t\tlow: \'\',',
'\t\t\t\thigh: \'\',',
'\t\t\t\tdays: []',
'\t\t\t}',
'\t\t},',
'\t\tswitchYear: 20',
'\t},',
'\twindow: {',
'\t\tautoGenerateButtons: false,',
'\t\tbuttons: {',
'\t\t\titems: [',
'\t\t\t\t{',
'\t\t\t\t\thtml: \'OK\',',
'\t\t\t\t\taction: \'commit\'',
'\t\t\t\t},',
'\t\t\t\t{',
'\t\t\t\t\thtml: \'Cancel\',',
'\t\t\t\t\taction: \'close\'',
'\t\t\t\t}\t\t\t',
']',
'\t\t}',
'\t},',
'\tonSelect: function() {$e.execute(this,\'change\');} ,',
'\tmultiple: {',
'\t\tallow: false',
'\t},',
'\tselectionRequired: false',
'});}',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'ADDRESS\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Address\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'CITY\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'City\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.lookups = {',
'};',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({',
'\t__dialogGuid: \'abae0f9e-c169-447d-81c3-5e2135effca9\',',
'\targumentsBoundToCotrols: \'\',',
'\t__sgr: \'\',',
'\t__dtfmt: \'MM/dd/yyyy\',',
'\t__tfmt: \'\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControlsChildren = [];',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ });',
'A5.msgBox.theme = \'iOS7\';',
'A5.msgBox.buttonWidth = \'1in\';',
'{UXPRERENDEREDALIAS}_DlgObj._defaultWindowTitleDirection = \'ltr\';',
'{UXPRERENDEREDALIAS}_DlgObj._controlContainers = {\'TRIALALERT\' : [{ tab: \'TAB_PROFILE\', pane: 1}],\'FIRSTNAME\' : [{ tab: \'TAB_PROFILE\', pane: 1}],\'LASTNAME\' : [{ tab: \'TAB_PROFILE\', pane: 1}],\'POSTALCODE\' : [{ tab: \'TAB_PROFILE\', pane: 1}],\'MAXIMUMTRAVEL\' : [{ tab: \'TAB_PROFILE\', pane: 1}],\'PRIMARYCONDITION\' : [{ tab: \'TAB_PROFILE\', pane: 1}],\'SECONDARYCONDITION\' : [{ tab: \'TAB_PROFILE\', pane: 1}],\'MEDICATIONS\' : [{ tab: \'TAB_PROFILE\', pane: 1}],\'EMAIL\' : [{ tab: \'TAB_PROFILE\', pane: 2}],\'MOBILENUMBER\' : [{ tab: \'TAB_PROFILE\', pane: 2}],\'GENDER\' : [{ tab: \'TAB_PROFILE\', pane: 2}],\'DATEOFBIRTH\' : [{ tab: \'TAB_PROFILE\', pane: 2}],\'ADDRESS\' : [{ tab: \'TAB_PROFILE\', pane: 2}],\'CITY\' : [{ tab: \'TAB_PROFILE\', pane: 2}],\'COUNTRY\' : [{ tab: \'TAB_PROFILE\', pane: 2}],\'STATE\' : [{ tab: \'TAB_PROFILE\', pane: 2}]}',
'{UXPRERENDEREDALIAS}_DlgObj._panelCardControls = {',
'TRIALALERT:\'PANELCARD_PROFILE\',',
'FIRSTNAME:\'PANELCARD_PROFILE\',',
'LASTNAME:\'PANELCARD_PROFILE\',',
'POSTALCODE:\'PANELCARD_PROFILE\',',
'MAXIMUMTRAVEL:\'PANELCARD_PROFILE\',',
'PRIMARYCONDITION:\'PANELCARD_PROFILE\',',
'SECONDARYCONDITION:\'PANELCARD_PROFILE\',',
'MEDICATIONS:\'PANELCARD_PROFILE\',',
'EMAIL:\'PANELCARD_PROFILE\',',
'MOBILENUMBER:\'PANELCARD_PROFILE\',',
'GENDER:\'PANELCARD_PROFILE\',',
'DATEOFBIRTH:\'PANELCARD_PROFILE\',',
'ADDRESS:\'PANELCARD_PROFILE\',',
'CITY:\'PANELCARD_PROFILE\',',
'COUNTRY:\'PANELCARD_PROFILE\',',
'STATE:\'PANELCARD_PROFILE\',',
'LISTHIDDEN:\'PANELCARD_LISTHIDDEN\'',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._buttons = {};',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK1\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_SAVE\'] = new A5.Button({',
'\tlayout: \'icon text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\ttip: \'Save edits\',',
'\thtml: \'Save\',',
'\ticon: \'cssIcon=iOS7Icon iOS7IconSave\',',
'\tdisabledIcon: \'cssIcon=iOS7Icon iOS7IconDisabled iOS7IconSave\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_RESET\'] = new A5.Button({',
'\tlayout: \'icon text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\ttip: \'Undo edits to profile\',',
'\thtml: \'Reset\',',
'\ticon: \'cssIcon=iOS7Icon iOS7IconUndo\',',
'\tdisabledIcon: \'cssIcon=iOS7Icon iOS7IconDisabled iOS7IconUndo\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK1\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK1\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_SAVE\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_SAVE\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_RESET\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_RESET\');',
'{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LISTHIDDEN\'] = {',
'\t_dataSourceType: \'SQL\',',
'\t_listFields: [',
'\t{',
'\t\tname: \'FirstName\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'FirstName\\\');\'',
'\t},',
'\t{',
'\t\tname: \'LastName\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'LastName\\\');\'',
'\t},',
'\t{',
'\t\tname: \'Email\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Email\\\');\'',
'\t},',
'\t{',
'\t\tname: \'City\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'City\\\');\'',
'\t},',
'\t{',
'\t\tname: \'State\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'State\\\');\'',
'\t},',
'\t{',
'\t\tname: \'Country\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Country\\\');\'',
'\t},',
'\t{',
'\t\tname: \'Gender\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Gender\\\');\'',
'\t},',
'\t{',
'\t\tname: \'PostalCode\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'PostalCode\\\');\'',
'\t},',
'\t{',
'\t\tname: \'Address\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Address\\\');\'',
'\t},',
'\t{',
'\t\tname: \'Medications\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Medications\\\');\'',
'\t},',
'\t{',
'\t\tname: \'PrimaryCondition\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'PrimaryCondition\\\');\'',
'\t},',
'\t{',
'\t\tname: \'SecondaryCondition\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'SecondaryCondition\\\');\'',
'\t},',
'\t{',
'\t\tname: \'MobileNumber\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'MobileNumber\\\');\'',
'\t},',
'\t{',
'\t\tname: \'MaximumTravel\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'MaximumTravel\\\');\'',
'\t},',
'\t{',
'\t\tname: \'DateOfBirth\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'DateOfBirth\\\');\'',
'\t},',
'\t{',
'\t\tname: \'ID\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'ID\\\');\'',
'\t}',
'],',
'\t_searchPartHas: false,',
'\t_mediaFields: [],',
'\t_mediaTypes: {',
'},',
'\t_phoneGap: {',
'\t\tmediaFiles: {',
'\t\t\tprotectedRead: false,',
'\t\t\ttarget: \'server\',',
'\t\t\ttargetFilenameFunction: \'return \\\'<DeviceId>_\\\' +e.object.listFieldName + \\\'_\\\' + A5.ts() + \\\'_\\\' +e.name\',',
'\t\t\tshowProgress: false,',
'\t\t\tdownload: {',
'\t\t\t\tautodownloadFilesOnPullSynch: false,',
'\t\t\t\tdeleteOrphansAfterSync: false,',
'\t\t\t\ttargetFolder: \'_AAFiles\',',
'\t\t\t\tshowProgress: false',
'\t\t\t},',
'\t\t\tonErrorFunction: function(array,fileNumber,error) { }',
'\t\t}',
'\t},',
'\t_dvmode: \'enter\',',
'\t_hasDetailView: true,',
'\t_noRecordInListIsSelectedSettingForDetailView: \'newrecord\',',
'\t_captureLocation: false,',
'\t_detailViewHas: true,',
'\t_submitLocationInfo: false,',
'\t_detailView: {',
'\t\tmethod: \'fieldMap\',',
'\t\tfieldMap: [',
'\t{',
'\t\tfield: \'FirstName\',',
'\t\tcontrol: \'FirstName\'',
'\t},',
'\t{',
'\t\tfield: \'LastName\',',
'\t\tcontrol: \'LastName\'',
'\t},',
'\t{',
'\t\tfield: \'Email\',',
'\t\tcontrol: \'Email\'',
'\t},',
'\t{',
'\t\tfield: \'City\',',
'\t\tcontrol: \'City\'',
'\t},',
'\t{',
'\t\tfield: \'State\',',
'\t\tcontrol: \'State\'',
'\t},',
'\t{',
'\t\tfield: \'Country\',',
'\t\tcontrol: \'Country\'',
'\t},',
'\t{',
'\t\tfield: \'Gender\',',
'\t\tcontrol: \'Gender\'',
'\t},',
'\t{',
'\t\tfield: \'PostalCode\',',
'\t\tcontrol: \'PostalCode\'',
'\t},',
'\t{',
'\t\tfield: \'Address\',',
'\t\tcontrol: \'Address\'',
'\t},',
'\t{',
'\t\tfield: \'Medications\',',
'\t\tcontrol: \'Medications\'',
'\t},',
'\t{',
'\t\tfield: \'PrimaryCondition\',',
'\t\tcontrol: \'PrimaryCondition\'',
'\t},',
'\t{',
'\t\tfield: \'SecondaryCondition\',',
'\t\tcontrol: \'SecondaryCondition\'',
'\t},',
'\t{',
'\t\tfield: \'MobileNumber\',',
'\t\tcontrol: \'MobileNumber\'',
'\t},',
'\t{',
'\t\tfield: \'MaximumTravel\',',
'\t\tcontrol: \'MaximumTravel\'',
'\t},',
'\t{',
'\t\tfield: \'DateOfBirth\',',
'\t\tcontrol: \'DateOfBirth\'',
'\t}',
']',
'\t},',
'\t_detailViewGlobalErrorStyle: \'font-family: Arial; font-size: 10pt; color: red; border: solid 1px red; width: 100%;\',',
'\t_autoCommitDetailView: true,',
'\t_synchBatchSize: 0,',
'\t_resetMediaFileUploadErrorsFlag: function(data) {',
'var r = A5.u.object.each(data,function(name,value,path,result){',
'\tif(name == \'_flagMediaFileUploadError\') {',
'\t\tresult.push({value: false, path: path})',
'\t}',
'});',
'for(var i = 0; i < r.length; i++) {',
'\tA5.u.object.set(data,r[i].path,r[i].value);',
'}',
'},',
'\ttheme: \'iOS7\',',
'\tscroll: {',
'\t\taxis: \'both\',',
'\t\tindicator: {',
'\t\t\tshow: true,',
'\t\t\th: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\tleft: \'0px\',',
'\t\t\t\tright: \'0px\'',
'\t\t\t},',
'\t\t\tv: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\ttop: \'0px\',',
'\t\t\t\tbottom: \'0px\'',
'\t\t\t}',
'\t\t},',
'\t\tmomentum: {',
'\t\t\tallow: true',
'\t\t},',
'\t\tpull: {',
'\t\t\ty: \'auto\',',
'\t\t\tx: \'auto\'',
'\t\t}',
'\t},',
'\tlayout: \'Default\',',
'\tcalculateValue: function(data) {  {var _val = \'\' +data.__primaryKey; if((_val == \'\' ||  _val == \'undefined\'  )&& typeof data[\'*rowGUID\'] != \'undefined\') _val = \'_temporaryValue_\' + data[\'*rowGUID\']; return _val;}},',
'\tlistVariableName: \'LISTHIDDEN\',',
'\tlistVariableNameTrueCase: \'listHidden\',',
'\t_hostComponentId: \'{UXPRERENDEREDALIAS}\',',
'\t_includeCRC: true,',
'\tallParentLists: [],',
'\t__flagPersist: false,',
'\tonPopulate: function(data) {',
'if(this._data.length == 0 || typeof this.selection[0] == \'undefined\') {var lObj = this; setTimeout(function() {lObj.newDetailViewRecord()},10 ) }},',
'\tonBeforeUpdateRow: function(index,data){;},',
'\tonUpdateRow: function(index,data){;},',
'\tonBeforeAddRows: function(data,info){;},',
'\tonAddRows: function(data,info){;},',
'\tonBeforeRemoveRows: function(rows){;},',
'\tonRemoveRows: function(rows){;},',
'\tonListDraw: function(data,startIndex) {',
'if(A5.flags.isMobile) $e.add(this.contId+\'.CONTENT\',\'abstractdown\',function(e) {$e.preventDefault(e);});},',
'\tsynchronizeImmediately: false,',
'\tpushServerEditsToClient: false,',
'\tcustomization: {',
'\t\tdv: {',
'\t\t\tclientSideErrorWarning: \'Cannot save because there are validation errors.\',',
'\t\t\tdirtyDetailViewRecord: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'You must first save or undo the changes you have made to the List\\\'s Detail View.\'',
'\t\t\t},',
'\t\t\tconfirmFormResetWarning: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'Are you sure you want to undo changes made to the List\\\'s Detail View?\'',
'\t\t\t},',
'\t\t\tconfirmRowResetWarning: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'Are you sure you want to undo changes made to this record?\'',
'\t\t\t},',
'\t\t\tconfirmDeleteWarning: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'Are you sure you want to delete this record?\'',
'\t\t\t},',
'\t\t\twriteConflict: {',
'\t\t\t\tuseMineMessage: \'Use mine (\\\'{myvalue}\\\')\',',
'\t\t\t\tuseTheirsMessage: \'Use theirs (\\\'{theirvalue}\\\')\',',
'\t\t\t\tuseMineAll: \'Use mine for all fields\',',
'\t\t\t\tuseTheirsAll: \'Use theirs for all fields\'',
'\t\t\t},',
'\t\t\tdatabaseError: {',
'\t\t\t\tupdate: \'Record was not updated.|More...|Less\',',
'\t\t\t\tinsert: \'Record was not inserted.|More...|Less\',',
'\t\t\t\tdelete: \'Record was not deleted.|More...|Less\'',
'\t\t\t},',
'\t\t\tuseCustomClasses: false,',
'\t\t\tsetClassonEditedRows: true,',
'\t\t\tcss: {',
'\t\t\t}',
'\t\t}',
'\t},',
'\tonItemDraw: function(ele,data,index) {',
'\tvar _dirtyRowClassName = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_dirtyRow\';',
'\tvar _dirtyRowClassNameInherited = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_dirtyRowInherited\';',
'\tvar _dirtyRowStyle = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_dirtyRowStyle\';',
'\tvar _errorRowClassName = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_hasError\';',
'\tvar _errorRowClassNameInherited = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_hasErrorInherited _{UXPRERENDEREDALIAS}_LISTHIDDEN_dirtyRowInherited\';',
'\tvar _errorRowClassNameInherited_1 = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_hasErrorInherited\';',
'\tvar _errorRowClassNameInherited_2 = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_dirtyRowInherited\';',
'\tvar _errorRowStyle = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_hasErrorStyle\';',
'\tvar _newRowClassName = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_newRow\';',
'\tvar _newRowStyle = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_newRowStyle\';',
'\tvar _deletedRowClassName = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_deletedRow\';',
'\tvar _deletedRowStyle = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_deletedRowStyle\';',
'\tvar _deletedRowClassNameInherited = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_deletedRowInherited\';',
'\tvar __d = this._rData[index];',
'\t$rcn(ele,_dirtyRowClassName);',
'\t$rcn(ele,_dirtyRowClassNameInherited);',
'\t$rcn(ele,_dirtyRowStyle);',
'\t$rcn(ele,_errorRowClassName);',
'\t$rcn(ele,_errorRowClassNameInherited);',
'\t$rcn(ele,_errorRowClassNameInherited_1);',
'\t$rcn(ele,_errorRowClassNameInherited_2);',
'\t$rcn(ele,_errorRowStyle);',
'\t$rcn(ele,_newRowClassName);',
'\t$rcn(ele,_newRowStyle);',
'\t$rcn(ele,_deletedRowClassName);',
'\t$rcn(ele,_deletedRowStyle);',
'\tif(data._isDirty && typeof data._isDeleted != \'undefined\' && data._isDeleted) { ',
'\t\t$acn(ele,_deletedRowClassName);',
'\t\t$acn(ele,_deletedRowStyle);',
'\t\t__d.__displayStyle = \'deletedRow\';',
'\t} else if (data._isDirty && typeof data._oldData != \'undefined\' && !data._isNewRow ) { ',
'\t\t$acn(ele,_dirtyRowClassName);',
'\t\t$acn(ele,_dirtyRowStyle);',
'\t\t__d.__displayStyle = \'dirtyRow\';',
'\t} ',
'\tif(data._isDirty && typeof data._oldData == \'undefined\' && ! (data._isNewRow || data._isDeleted) ) { ',
'\t\t$acn(ele,_dirtyRowClassNameInherited);',
'\t\t$acn(ele,_dirtyRowStyle);',
'\t\t__d.__displayStyle = \'dirtyRowInherited\';',
'\t} ',
'\tif(data._isDeleted) { ',
'\t\t$acn(ele,_deletedRowClassName);',
'\t\t$acn(ele,_deletedRowStyle);',
'\t\t__d.__displayStyle = \'deletedRow\';',
'\t} ',
'\tif(data._isNewRow) { ',
'\t\t$acn(ele,_newRowClassName);',
'\t\t$acn(ele,_newRowStyle);',
'\t\t__d.__displayStyle = \'newRow\';',
'\t} ',
'\tvar flagHasGlobalErrors = false;',
'\tif(typeof data._globalErrors != \'undefined\') {',
'\t\tif( data._globalErrors != \'\')  flagHasGlobalErrors = true;',
'\t}',
'\tvar flagHasWriteConflictErrors = false;',
'\tif(typeof data._hasWriteConflictErrors) flagHasWriteConflictErrors = data._hasWriteConflictErrors',
'\tif(data._hasServerSideError || flagHasGlobalErrors || flagHasWriteConflictErrors) {',
'\t\t$acn(ele,_errorRowClassName);',
'\t\t$acn(ele,_errorRowStyle);',
'\t\t__d.__displayStyle = \'errorRow\';',
'\t} else { ',
'\t\tif(data._flagServerSideErrorInChild || data._flagWriteConflictErrorInChild || data._flagGlobalErrorInChild ){',
'\t\t\t if(!data._isNewRow) {',
'\t\t\t \t$acn(ele,_errorRowClassNameInherited);',
'\t\t\t\t __d.__displayStyle = \'errorRowInherited\';',
'\t\t\t} else {',
'\t\t\t\t__d.__displayStyle = \'newRow errorRowInherited\'; ',
'\t\t\t\t$acn(ele, _errorRowClassNameInherited_1);',
'\t\t\t}',
'\t\t}',
'\t}},',
'\tchildLists: [],',
'\tchildListEndpoints: [\'LISTHIDDEN\'],',
'\t_populateAllChildLists: function() { },',
'\tonSelect: function() {this.populateUXControls({ajaxCallback: true, listId: \'LISTHIDDEN\'});',
'this._selectedRow = this.selection[0];',
'{UXPRERENDEREDALIAS}_DlgObj._listRowSelect(\'listHidden\',this);',
'},',
'\tonBeforeSelect: function() {',
'\tvar c = this.childLists;',
'\tvar lObj = \'\';',
'\tif(typeof c != \'undefined\') { ',
'\t\tfor(var i = 0; i < c.length; i++) {',
'\t\t\tlObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(c[i]);',
'\t\t\tif(lObj) {',
'\t\t\t\tvar flag = lObj.onBeforeSelect();',
'\t\t\t\tif(typeof flag != \'undefined\') { ',
'\t\t\t\t\tif(!flag) return false;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dvmode == \'search\') return true;',
'\tif(!this._autoCommitDetailView) { ',
'\t\treturn this._showDirtyDetailViewWarning(); ',
'\t} else { ',
'\t\tif(this.detailViewIsDirty(true)) { ',
'\t\t\tvar result =  this.updateListFromUXControls();  ',
'\t\t\treturn result;',
'\t\t}',
'\t}},',
'\tonClick: function() {',
'{UXPRERENDEREDALIAS}_DlgObj._listSystemOnClick(\'LISTHIDDEN\',this.selection[0]);},',
'\tlayouts: {',
'\t\tDefault: {',
'\t\t\ttype: \'column\',',
'\t\t\tshowColumnTitles: true,',
'\t\t\titem: {',
'\t\t\t},',
'\t\t\tcolumns: [',
'\t\t\t\t{',
'\t\t\t\t\theader: {',
'\t\t\t\t\t\thtml: \'Id\',',
'\t\t\t\t\t\tstyle: \'text-align: right;\'',
'\t\t\t\t\t},',
'\t\t\t\t\tresize: false,',
'\t\t\t\t\tdata: {',
'\t\t\t\t\t\ttemplate: \'<span id="{UXPRERENDEREDALIAS}.LISTHIDDEN.ID.I.{*dataRow}">{ID}</span>&nbsp;\',',
'\t\t\t\t\t\tstyle: \'text-align: right;\'',
'\t\t\t\t\t},',
'\t\t\t\t\torder: \'ID\',',
'\t\t\t\t\twidth: \'flex(1)\'',
'\t\t\t\t},',
'\t\t\t\t{',
'\t\t\t\t\theader: {',
'\t\t\t\t\t\thtml: \'Firstname\'',
'\t\t\t\t\t},',
'\t\t\t\t\tresize: false,',
'\t\t\t\t\tdata: {',
'\t\t\t\t\t\ttemplate: \'<span id="{UXPRERENDEREDALIAS}.LISTHIDDEN.FIRSTNAME.I.{*dataRow}">{FirstName}</span>&nbsp;\'',
'\t\t\t\t\t},',
'\t\t\t\t\torder: \'FirstName\',',
'\t\t\t\t\twidth: \'flex(1)\'',
'\t\t\t\t}\t\t\t',
']',
'\t\t}',
'\t},',
'\tcontent: {',
'\t\theader: {',
'\t\t\tshow: false',
'\t\t},',
'\t\tfooter: {',
'\t\t\tshow: false',
'\t\t}',
'\t},',
'\tsystemEvents: {',
'\t\tonTap: function(e) {},',
'\t\tafterAjaxCallback: function(e) {},',
'\t\tafterClientSideFilter: function(e) {},',
'\t\tbeforeServerSideSort: function(e) {},',
'\t\tafterServerSideSort: function(e) {},',
'\t\tonSwipe: function(e) {},',
'\t\tonScroll: function(e) {},',
'\t\tonPullRelease: function(e) {},',
'\t\tonPull: function(e) {},',
'\t\tonPullEnd: function(e) {},',
'\t\tafterSearchComplete: function(e) {},',
'\t\tbeforeSearch: function(e) {},',
'\t\tonSearchResultTooLarge: function(e) {},',
'\t\tonSearchResultTooLargeForLocalStorage: function(e) {},',
'\t\tonBeforePersistToLocalStorage: function(e) {},',
'\t\tonPersistToLocalStorage: function(e) {},',
'\t\tonRestoreFromLocalStorage: function(e) {},',
'\t\tafterRenderComplete: function(e) {},',
'\t\tbeforeFetchMore: function(e) {},',
'\t\tafterFetchMore: function(e) {},',
'\t\tbeforePageNavigate: function(e) {},',
'\t\tafterPageNavigate: function(e) {},',
'\t\tbeforeRefreshRow: function(e) {},',
'\t\tafterRefreshRow: function(e) {},',
'\t\tafterServerSideSummaryCompute: function(summary) {},',
'\t\tdetailView: {',
'\t\t\tcanUpdateList: function(e) {},',
'\t\t\thasClientSideValidationErrors: function(e) {},',
'\t\t\tafterUpdateList: function(e) {},',
'\t\t\tcanSynchronizeList: function(e) {},',
'\t\t\tafterSynchronizeListBatch: function(e) {},',
'\t\t\tcanCancelBatch: function(e) {},',
'\t\t\tafterCancelBatch: function(e) {},',
'\t\t\tafterSynchronizeList: function(e) {},',
'\t\t\tbeforeSynchronizeListBatchStart: function(e) {},',
'\t\t\tafterSynchronizeListBatchEnd: function(e) {},',
'\t\t\tafterRefreshListIncremental: function(e) {},',
'\t\t\tcanResetRow: function(e) {},',
'\t\t\tcanDeleteRow: function(e) {},',
'\t\t\tcanUndoEdits: function(e) {},',
'\t\t\tafterResetRow: function(e) {},',
'\t\t\tafterDeleteRow: function(e) {},',
'\t\t\tafterUndoEdits: function(e) {},',
'\t\t\tcanNewRecord: function(e) {},',
'\t\t\tafterNewRecord: function(e) {},',
'\t\t\tafterDetailViewPopulate: function(e) {},',
'\t\t\tafterListRowSelectCancelled: function(e) {},',
'\t\t\tmodeChanged: function(e) {},',
'\t\t\tbeforeMediaFilesUploaded: function(e) {},',
'\t\t\tafterMediaFilesUploaded: function(e) {},',
'\t\t\tonMediaFilesUploadErrors: function(e) {},',
'\t\t\tbeforeMediaFilesDownloaded: function(e) {},',
'\t\t\tafterMediaFilesDownloaded: function(e) {},',
'\t\t\tbeforeDeleteOrphanMediaFiles: function(e) {},',
'\t\t\tafterDeleteOrphanMediaFiles: function(e) {}',
'\t\t},',
'\t\t_afterAjaxCallback: function() {this._refreshStateMessages();}',
'\t},',
'\t_clientsideSummary: [],',
'\tcomputeClientSideSummaryValues: function(e) {},',
'\t_executeEvent: function(event,obj) { ',
'\treturn {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LISTHIDDEN\',event,obj);',
'}',
',',
'\t_selectAll: function() {',
'\tvar v = this._values;',
'\tvar v2 = [].concat(v);',
'\tthis.setValue(v2,false);',
'}',
',',
'\tsearchList: function() { ',
'\tif(this._searchPartStyle == \'querybyform\') { ',
'\t\tif(this._dvmode != \'search\') return false;',
'\t}',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse {',
'\t\t\tif(this._dataSourceType.toLowerCase() == \'sql\' || this._dataSourceType.toLowerCase() == \'dbf\') {',
'\t\t\t\tmode = \'serverside\';',
'\t\t\t} else { ',
'\t\t\t\tmode = \'clientside\';',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'search\', searchWhere: mode, listIsDirty: flagDirty});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._searchListServerSide(obj);',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilter();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'search\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_searchListServerSide: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar _d={};',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tif(flagDirty) { ',
'\t\talert(\'Can\\\'t execute server-side search because List has edits that have not yet been synchronized.\');',
'\t\treturn false;',
'\t}',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t_data = _data + \'&\' + A5.ajax.buildURLParam(\'__searchOptions\',JSON.stringify(obj));',
'\tthis.filter = false;',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPart\',\'\',_data);',
'}',
',',
'\tclearSearchList: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse mode = \'serverside\';',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'clear\', searchWhere: mode});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._clearSearchListServerSide();',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilterClear();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'clear\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_clearSearchListServerSide: function() { ',
'\tvar _d={};',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPartClear\',\'\',_data);',
'}',
',',
'\t_str: function(txt) {',
'\ttxt = txt.replace("\'","\\\\\'");',
'\ttxt = \'\\\'\' + txt + \'\\\'\';',
'\treturn txt;',
'}',
',',
'\t_QBF: function(txt) { ',
'\tvar o = {};',
'\to.v2 = \'\';',
'\to.v1 = txt;',
'\to.flag = false;',
'\tif(txt.indexOf(\'>=\') >= 0) {',
'\t\to.op = \'>=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<=\') >= 0 ) { ',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'>\') >= 0 ) {',
'\t\to.op = \'>\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<\') >= 0)  { ',
'\t\to.op = \'<\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') == 0)  {',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if ( txt.indexOf(\'..\', txt.length - \'..\'.length) !== -1 ) { ',
'\t\t//ends with ..',
'\t\to.op = \'>=\';',
'\t\ttxt = txt.split(\'..\')',
'\t\to.v1 = txt[0];',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') > 0 ) {',
'\t\to.op = \'between\'',
'\t\ttxt = txt.split(\'..\');',
'\t\to.v1 = txt[0];',
'\t\to.v2 = txt[1];',
'\t\to.flag = true;',
'\t}',
'\treturn o;',
'}',
',',
'\t_match: function(data,field,val,obj) { ',
'\tvar flagKeyword = false;',
'\tif(typeof obj.flagKeyword != \'undefined\') flagKeyword = obj.flagKeyword;',
'\tif(flagKeyword) { ',
'\t\tvar obj_i = this._searchFieldOptions[field.toUpperCase()];',
'\t\tthis._setSearchOps(obj,obj_i);',
'\t}',
'\tvar _d = \'\';',
'\tvar _v = val;',
'\tvar flagC = false;',
'\tif(obj.type == \'c\') {',
'\t\tflagC = true;',
'\t\tif(!obj.caseSensitive) _v = _v.toLowerCase();',
'\t} else { ',
'\t\t//non mumeric searches are only mode 1 or -1',
'\t\tif(obj.mode > 1) obj.mode = 1;',
'\t\tif(obj.mode < -1) obj.mode = -1;',
'\t}',
'\tvar flag = false;',
'\tobj.usesQBFOperator = false;',
'\tif(obj.qbf) { ',
'\t\t_v = _v.split(\',\');',
'\t} else {',
'\t\t_v = [_v];',
'\t}',
'\tvar o = {}',
'\tvar r = \'\';',
'\tvar _vals = [];',
'\tfor(var i = 0; i < _v.length; i++) { ',
'\t\tif(obj.qbf) {',
'\t\t\to = this._QBF(_v[i]);',
'\t\t} else {',
'\t\t\to.flag = false;',
'\t\t\to.v1 = _v[i];',
'\t\t\to.v2 = \'\';',
'\t\t}',
'\t\tif(typeof data[field] != \'undefined\') {',
'\t\t\tif(data[field] != null) { ',
'\t\t\t\t_d = data[field];',
'\t\t\t\tif(obj.type == \'n\') { ',
'\t\t\t\t\to.v1 = Number(o.v1);',
'\t\t\t\t\to.v2 = Number(o.v2);',
'\t\t\t\t\t_d = Number(_d);',
'\t\t\t\t} else if (obj.type == \'l\') { ',
'\t\t\t\t\to.v1 = $u.s.toBool(o.v1);',
'\t\t\t\t\to.v2 = $u.s.toBool(o.v2);',
'\t\t\t\t\t_d = $u.s.toBool(_d);',
'\t\t\t\t} else if (obj.type == \'d\') { ',
'\t\t\t\t\to.v1 = A5.stringToDate(o.v1,obj.dateFormat);',
'\t\t\t\t\to.v2 = A5.stringToDate(o.v2,obj.dateFormat);',
'\t\t\t\t\tif(typeof _d == \'string\') _d = A5.stringToDate(_d,obj.dateFormat);',
'\t\t\t\t\tif(o.v1 != \'\' && o.v1 != null ) o.v1 = o.v1.getTime();',
'\t\t\t\t\tif(o.v2 != \'\' && o.v2 != null ) o.v2 = o.v2.getTime();',
'\t\t\t\t\tif(_d != \'\' && _d != null ) _d = _d.getTime();',
'\t\t\t\t}',
'\t\t\t\tif(flagC) {if(!obj.caseSensitive && typeof _d == \'string\') _d = _d.toLowerCase();}',
'\t\t\t\tif(o.flag) { ',
'\t\t\t\t\t//has qbf operators',
'\t\t\t\t\tif(o.op == \'between\') {',
'\t\t\t\t\t\tif(flagC) {',
'\t\t\t\t\t\t\tif(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tif(flagC) _d = _d.substr(0,o.v1.length)',
'\t\t\t\t\t\tif(o.op == \'>=\') if( _d >= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<=\') if( _d <= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'>\') if(_d > o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<\') if(_d < o.v1) flag = true;',
'\t\t\t\t\t}',
'\t\t\t\t} else { ',
'\t\t\t\t\tif(obj.mode == 1 || obj.mode == -1 ) {',
'\t\t\t\t\t\tif(obj.mode == 1) if(_d == o.v1) flag = true;; //match',
'\t\t\t\t\t\tif(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match',
'\t\t\t\t\t} else if (obj.mode == 2 || obj.mode == -2) { ',
'\t\t\t\t\t\tif(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains',
'\t\t\t\t\t\tif(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;',
'\t\t\t\t\t} else if (obj.mode == 3 || obj.mode == -3) { ',
'\t\t\t\t\t\tif(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with',
'\t\t\t\t\t\tif(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v1 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v1) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v1);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v2 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v2) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v2);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(flag) { ',
'\t\tif(typeof this._state.highlight == \'undefined\') this._state.highlight = {};',
'\t\tthis._state.highlight[field.toUpperCase()] = _vals;',
'\t} else { ',
'\t\t//this._state.highlight[field.toUpperCase()] = [];',
'\t}',
'\treturn flag;',
'}',
',',
'\t_setSearchOps: function(obj,obj_i) { ',
'\tobj.mode = obj_i.option;',
'\tobj.qbf = obj_i.qbf;',
'\tobj.type = obj_i.type;',
'\t//obj.treatAs = obj_i.treatAs;',
'}',
',',
'\t_searchPartOperator: \'&&\',',
'\t_searchPartSubmit_clientSideFilter: function() { ',
'\tif(!this._searchPartHas) return true;',
'\t//_searchPartStyle: \'individualcontrols\'',
'\tthis._state.highlight = {};',
'\tif(this._searchPartStyle == \'singlekeywordcontrol\') { ',
'\t\tvar searchFor = {UXPRERENDEREDALIAS}_DlgObj.getValue(this._keywordSearchControl);',
'\t\tvar arr = this._keywordSearchFields;',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\t//obj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 1;',
'\t\tobj.flagKeyword = true;',
'\t\tvar objStr = JSON.stringify(obj)',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\texpn_i = \'this._match(data,\' +this._str(arr[i]) + \',\' + this._str(searchFor) + \',\'+objStr+\')\';',
'\t\t\texpn.push(expn_i);',
'\t\t}',
'\t\texpn = expn.join(\'||\');',
'\t\t//alert(expn);',
'\t} else if ( this._searchPartStyle == \'individualcontrols\' || this._searchPartStyle == \'querybyform\'  ) { ',
'\t\tvar map = this._searchPart.fieldMap;',
'\t\tvar val = \'\';',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\tobj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 2;',
'\t\t//var objStr = JSON.stringify(obj)',
'\t\tvar ac = [];',
'\t\tvar aco = {};',
'\t\tvar _highlight = {};',
'\t\tif(this._searchPartStyle == \'individualcontrols\') {',
'\t\t\tfor(var i = 0; i < map.length; i++) { ',
'\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(map[i].control);',
'\t\t\t\tif(val != \'\') {',
'\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(map[i].field) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t} else if (this._searchPartStyle == \'querybyform\' ) { ',
'\t\t\tvar controlName = \'\';',
'\t\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\t\tif(controlName != \'\') {',
'\t\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(controlName);',
'\t\t\t\t\tif(val != \'\') {',
'\t\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(this._listFields[i].name) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t\t\taco.control = controlName;',
'\t\t\t\t\t\taco.value = val;',
'\t\t\t\t\t\tac.push(aco);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis.__queryByFormValues = ac;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\t\t}\t',
'\t\tvar operator = \'&&\';',
'\t\tif(typeof this._searchPartOperator != \'undefined\') operator = this._searchPartOperator;',
'\t\texpn = expn.join(\' \'+operator+\' \');',
'\t} ',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = expn;',
'\t}',
'\t//user did not fill in any search fields',
'\tif(expn == \'\') return true;',
'\tvar fnTxt = \'if(\' + expn + \') {return true;} else { return false;}\'',
'\tvar searchFunction = new Function(\'data\',fnTxt);',
'\tthis.setFilter(searchFunction);',
'\tif(this._rData.length > 0) this.setValue(0);',
'}',
',',
'\t_searchPartSubmit_clientSideFilterClear: function() { ',
'if(!this._searchPartHas) return true;',
'\tthis._state.highlight = {};',
'\tthis.setFilter(false);',
'\tvar map = this._searchPart.fieldMap;',
'\tvar val = \'\';',
'\tvar od = {UXPRERENDEREDALIAS}_DlgObj.originalValues[0];',
'\tfor(var i = 0; i < map.length; i++) {',
'\t\tvar val = od[map[i].control.toUpperCase()];',
'\t\tif(typeof val != \'undefined\') {UXPRERENDEREDALIAS}_DlgObj.setValue(map[i].control,val,false);',
'\t}',
'\tthis.setFilter(false);',
'\tdelete this.__queryByFormValues;',
'\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\tif(this._data.length > 0) this.setValue(0);',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = \'\';',
'\t}',
'}',
',',
'\t_debugListData: function() { \t\tvar debugObj = this._data[this.selection[0]];',
'\t\tif(typeof debugObj == \'undefined\') {alert(\'no active row\'); return false;}',
'\t\t\tvar debugTxt = JSON.stringify(debugObj,\'\',\'\\t\'); ',
'\t\tdebugTxt = debugTxt.split(\'\\t\').join(\'    \'); ',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\'); ',
'\t\tif(ele) {',
'\t\t\tele.innerHTML = \'<div style="color: blue;width: 100%; height: 100%;white-space: pre;border: solid 1px blue; padding: 2px;"></div>\';',
'\t\t\tele.firstChild.innerText = debugTxt; ',
'\t\t\tif(ele.firstChild.innerHTML == \'\')  { ele.firstChild.innerHTML = debugTxt }      ',
'\t\t}',
'},',
'\t_refreshDebugInfo: function() {},',
'\t_showSQL_CRUD: function(txt) { },',
'\t_globalErrorPlaceHolder: \'PLACEHOLDER_ERRORS\',',
'\tflagShowAlerts: true,',
'\tlookupValue: function(key,name,keyValue) {\tvar _d = this._data;',
'\tvar indx = A5FindPropInArray(_d,key,keyValue);',
'\tvar rv = \'\';',
'\tif(indx >=0) {',
'\t\tif(name == \'__rowData__\') return _d[indx];',
'\t\trv =  _d[indx][name];',
'\t} else {',
'\t\t//null out all properties in row',
'\t\tvar _d2 = {};',
'\t\tif(typeof _d[0] == \'undefined\') { return {}} ;',
'\t\tfor(var n in _d[0]) {',
'\t\t\t_d2[n] = \'&nbsp;\';',
'\t\t}',
'\t\trv = _d2;',
'\t}',
'\treturn rv;',
'}',
',',
'\tallowNullSelection: false,',
'\tallowNullDeselection: false,',
'\tloopNavigate: false,',
'\tloopNavigateNullSelection: false,',
'\trefreshChildLists: function() {{UXPRERENDEREDALIAS}_DlgObj._listRefreshCascadingLists(\'LISTHIDDEN\'); },',
'\trowExpander: function(rowNumber) { ',
'\tvar mode = typeof arguments[2] != \'undefined\' ? arguments[2] : \'toggle\';',
'\tif(typeof rowNumber == \'undefined\' || rowNumber == \'\' ) {',
'\t\trowNumber = this.selection[0];',
'\t\tif(typeof rowNumber == \'undefined\') return false;',
'\t}',
'\tvar animObj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\tvar ele = $(this._hostComponentId + \'.\' + this.listVariableName + \'.ROWEXPANDER.\' + rowNumber);',
'\tif(ele) {',
'\t\tif(mode == \'toggle\') A5.u.element.toggle(ele,animObj);',
'\t\tif(mode == \'show\') A5.u.element.show(ele,animObj);',
'\t\tif(mode == \'hide\') A5.u.element.hide(ele,animObj);',
'\t}',
'}',
',',
'\tafterClientSideSummaryCompute: function(csSummary) { },',
'\tselectCurrentLayout: function(name) { ',
'var pl = this.layouts[name];',
'if(typeof pl == \'undefined\') return false;',
'this.setLayout(name);',
'if(pl.type == \'column\') {',
'\tthis.columnLayout.header.show = this.layouts[name].showColumnTitles; ',
'\tthis.refresh();',
'}',
'},',
'\tonFilter: function() { \tvar e = {}; ',
'\te.rowCount = this._values.length;  ',
'\tvar ele = $(\'{UXPRERENDEREDALIAS}.__listId__.RECORDCOUNT\'); ',
'\tif(ele) {ele.innerHTML = e.rowCount;}; ',
'\tif(this.persistToStorage) { this.persistToStorage({});} ',
'\t(function(e) {   })(e);',
'}',
',',
'\tserverSideSort: function(column) {',
'var e = {};',
'e.column = column;',
'var result = this.systemEvents.beforeServerSideSort(e);',
'if(result == false) return false;',
'var obj = {};',
'obj.cmd = \'sort\';',
'obj.column = column;',
'obj.layoutName = this.layout;',
'obj.listState = this._state;',
'var data = \'_listId=LISTHIDDEN&\' + A5.ajax.buildURLParam(\'_cmdObj\',$u.o.toJSON(obj));',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:listServerSideSort\',\'\',data);',
'},',
'\tfilterListClientSide: function(searchFor) {',
'//var result = this.systemEvents.beforeClientSideFilter();',
'//if(result == false) return false;',
'if(searchFor != \'\') {',
'\t//fixes bug in Chrome when searching on dates strings that use forward slashes',
'\tsearchFor = searchFor.replace(/\\//g,\'\\\\/\');',
'\tthis.setFilter({\'FirstName\': RegExp(\'\' + searchFor,\'i\'), \'LastName\': RegExp(\'\' + searchFor,\'i\'), \'Email\': RegExp(\'\' + searchFor,\'i\'), \'City\': RegExp(\'\' + searchFor,\'i\'), \'State\': RegExp(\'\' + searchFor,\'i\'), \'Country\': RegExp(\'\' + searchFor,\'i\'), \'Gender\': RegExp(\'\' + searchFor,\'i\'), \'PostalCode\': RegExp(\'\' + searchFor,\'i\'), \'Address\': RegExp(\'\' + searchFor,\'i\'), \'Medications\': RegExp(\'\' + searchFor,\'i\'), \'PrimaryCondition\': RegExp(\'\' + searchFor,\'i\'), \'SecondaryCondition\': RegExp(\'\' + searchFor,\'i\'), \'MobileNumber\': RegExp(\'\' + searchFor,\'i\'), \'MaximumTravel\': RegExp(\'\' + searchFor,\'i\'), \'DateOfBirth\': RegExp(\'\' + searchFor,\'i\'), \'ID\': RegExp(\'\' + searchFor,\'i\')});',
'} else this.setFilter(false);',
'var rowCount = this._values.length;',
'//var e = {};',
'//e.rowCount = rowCount;',
'//this.systemEvents.afterClientSideFilter(e);',
'var ele = $(\'{UXPRERENDEREDALIAS}.listHidden.RECORDCOUNT\');',
'if(ele) ele.innerHTML = rowCount;',
'}',
',',
'\tscrollToClosestValue: function(val) { \t',
'\tif(typeof val != \'string\') val = val.join(\'\');',
'\tvar flagCI = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\tvar pos = typeof arguments[2] != \'undefined\' ? arguments[2] : \'top\';',
'\tvar anim = typeof arguments[3] != \'undefined\' ? arguments[3] : {}',
'\tvar _d = this._rData;',
'\tvar len = val.length;',
'\tvar _d2;',
'\tvar i2 = -1;',
'\tif(flagCI) val = val.toLowerCase();',
'\tfor(var i = 0 ; i < _d.length; i++) {',
'\t\ti2 = i;',
'\t\t_d2 = String(_d[i][\'*value\']);',
'\t\t_d2 = _d2.substr(0,len);',
'\t\t_d2 = $u.s.pad(_d2,len,\' \',\'l\');',
'\t\tif(flagCI) _d2 = _d2.toLowerCase();',
'\t\tif(val <= _d2){',
'\t\t\t break;',
'\t\t}',
'\t}',
'\tif(i2 > -1) { ',
'\t\tthis.scrollToItem(i2,{mode: pos, animation: anim});',
'\t}',
'}',
',',
'\t_refreshStateMessages: function() {',
'\tvar ele = \'\';',
'\tele = $(\'{UXPRERENDEREDALIAS}.LISTHIDDEN.PAGENUMBER\');',
'\tif(ele) ele.innerHTML = this._state.page;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LISTHIDDEN.PAGECOUNT\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LISTHIDDEN.PAGECOUNT.PAGESELECTOR\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;\t',
'\tele = $(\'{UXPRERENDEREDALIAS}.LISTHIDDEN.LISTSTATE\');',
'\tif(ele) {',
'\t\tvar listState = $u.o.toJSON(this._state);',
'\t\tele.innerHTML = listState;',
'\t}',
'\t//navigation buttons\t',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_NEXT.LISTHIDDEN\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_LAST.LISTHIDDEN\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_FIRST.LISTHIDDEN\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_PREV.LISTHIDDEN\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = $(\'{UXPRERENDEREDALIAS}.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LISTHIDDEN\');',
'\tif(ele) {',
'\t\tvar data = this._recordNavigatorLinks;',
'\t\tif(data) A5.form.populateSelect(ele,this._state.page,data,true);',
'\t}',
'}',
',',
'\t_getRoute: function() { ',
'\tvar obj  = typeof arguments[1] != \'undefined\' ? arguments[1] : [];',
'\tvar mode = typeof arguments[0] != \'undefined\' ? arguments[0] : \'rowNumber\'; //',
'\tif(typeof this.selection[0] == \'undefined\') return false;',
'\tif(typeof this.getData(this.selection[0]) == \'undefined\') return false;',
'\tif(mode == \'rowNumber\') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])[\'*key\']});',
'\telse obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tif(lObj) lObj._getRoute(mode,obj);',
'\t}',
'\treturn obj;',
'}',
',',
'\t_setRoute: function(route) { ',
'\tif(typeof route == \'undefined\') { ',
'\t\troute = this.__currentRoute;',
'\t\tif(typeof route == \'undefined\') return false;',
'\t}',
'\tvar lObj = \'\';',
'\tvar row = \'\';',
'\tfor(var i = 0; i < route.length; i++) {',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(route[i].list);',
'\t\trow = route[i].row;',
'\t\tvar flag = typeof this._restoringList != \'undefined\' ? !this._restoringList : true;',
'\t\tif(typeof row != \'undefined\') {',
'\t\t\tvar rowFixed = \'\';',
'\t\t\tif(typeof lObj._dataMap == \'undefined\') return false;',
'\t\t\t//var msg = JSON.stringify(lObj._dataMap);',
'\t\t\t//alert(\'route[i].row:\' + route[i].row + \' ------ \' + msg);',
'\t\t\trowFixed = lObj._dataMap.indexOf(route[i].row);',
'\t\t\tlObj.setValue(rowFixed,flag);',
'\t\t\tif(this._clearServerSideErrors) this._clearServerSideErrors();',
'\t\t\tif(this._showServerSideErrors) this._showServerSideErrors();',
'\t\t\tif(this._showWriteConflictErrors) this._showWriteConflictErrors();',
'\t\t}',
'\t}',
'}',
',',
'\t_useServerSideSyncLog: false,',
'\t_searchHighlighting: false',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LISTHIDDEN\'] = [];',
';',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ \t__dialogGuid: \'abae0f9e-c169-447d-81c3-5e2135effca9\', \t__dtfmt: \'MM/dd/yyyy\' });',
'{UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'MAXIMUMTRAVEL\'] = [{html: \'5\',value: \'5\',tip: \'\'},{html: \'10\',value: \'10\',tip: \'\'},{html: \'20\',value: \'20\',tip: \'\'},{html: \'30\',value: \'30\',tip: \'\'},{html: \'50\',value: \'50\',tip: \'\'},{html: \'100\',value: \'100\',tip: \'\'},{html: \'ANY\',value: \'ANY\',tip: \'\'}];',
'{UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'GENDER\'] = [{html: \'Male\',value: \'Male\',tip: \'\'},{html: \'Female\',value: \'Female\',tip: \'\'}];',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'LISTHIDDEN\'] =  { type: \'list\',  data: {UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LISTHIDDEN\'],  settings: {UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LISTHIDDEN\'] }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'TRIALALERT\'] = { type: \'switch\',  settings:  {theme: \'iOS7\',flow: \'ltr\',text: {on: \'Yes\',off: \'No\'},values: {on: \'on\',off: \'off\'}} }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'MAXIMUMTRAVEL\'] = { type: \'buttonList\', data: {UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'MAXIMUMTRAVEL\'],  settings:  {theme: \'iOS7\',button: {layout: \'text\',pressedClassName: \'iOS7ButtonDDPressed\',keepPressed: true},allowNullSelection: \'auto\'} }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'GENDER\'] = { type: \'buttonList\', data: {UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'GENDER\'],  settings:  {theme: \'iOS7\',button: {layout: \'text\',keepPressed: true},allowNullSelection: \'auto\'} }',
'{UXPRERENDEREDALIAS}_DlgObj.setVariables({});',
'{UXPRERENDEREDALIAS}_DlgObj._dataBoundControls = [\'FIRSTNAME\',\'LASTNAME\',\'POSTALCODE\',\'MAXIMUMTRAVEL\',\'PRIMARYCONDITION\',\'SECONDARYCONDITION\',\'MEDICATIONS\',\'EMAIL\',\'MOBILENUMBER\',\'GENDER\',\'DATEOFBIRTH\',\'ADDRESS\',\'CITY\',\'COUNTRY\',\'STATE\'];',
'{UXPRERENDEREDALIAS}_DlgObj._primaryTableAlias = \'PEOPLE\';',
'{UXPRERENDEREDALIAS}_DlgObj._listControlsInfo = {};',
'{UXPRERENDEREDALIAS}_DlgObj._functions.__fillContainer_LISTHIDDEN = function() { ',
'\tvar path = {UXPRERENDEREDALIAS}_PanelObj._panelPath[\'PANELCARD_LISTHIDDEN\'];',
'\tif(typeof path != \'undefined\') {',
'\t\tvar panel = {UXPRERENDEREDALIAS}_PanelObj.getPanel(path);',
'\t\tvar id = panel.src.getPanelId(\'body\');',
'\t} else {',
'\t\tvar id = {UXPRERENDEREDALIAS}_PanelObj.getPanelId(\'body\');',
'\t}',
'\t//removing scrolling from the PanelBody since we will be obliterating the Panel with a control that fills the body',
'\tif($(id + \'.SCROLLWRAPPER\')) { ',
'\t\tA5.u.drag.remove(id,\'scroll\');',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LISTHIDDEN\'].containerId = id;',
'\t//blow away any existing content in the panel',
'\t$(id).innerHTML = \'\';',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._functions.__fillContainer_LISTHIDDEN();',
'{UXPRERENDEREDALIAS}_DlgObj._hasPanels = true;',
'{UXPRERENDEREDALIAS}_DlgObj._hasOnSynchronizeEvent = false;',
'A5.__dtfmt = \'MM/dd/yyyy\';A5.__tfmt = \'\';',
'A5.__flagWorkingPreview = false;',
'A5.__flagIIS = false;',
'A5.__flagSimulateIIS = true;',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation = function() { ',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj == \'undefined\') return \'\';',
'\tvar orientation = {UXPRERENDEREDALIAS}_DlgObj.getOrientation();',
'\tif( orientation == \'landscape\') {',
'\t\t\t//landscape',
'\t\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'landscape\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'landscape\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'landscape\'});',
'\t\t\t}',
'\t} else {',
'\t\t//portrait',
'\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'portrait\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'portrait\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'portrait\'});',
'\t\t\t}',
'\t}',
'}',
'\tA5.flags.cordovaLoaded = true;',
'\ttry {',
'\t\tdocument.addEventListener(\'deviceready\', function() { ',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onCordovaReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onPhoneGapReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._cordovaReady = true;',
'\t\t\tnavigator.geolocation.getAccuratePosition = function(geolocationSuccess, geolocationError, options) {',
'\tvar _lastCheckedPosition = null;',
'\tvar _locationEventCount = 0;',
'\toptions = options || {};',
'\toptions.context = this;',
'    function _checkLocation(pos) {',
'        _lastCheckedPosition = pos;',
'        _locationEventCount++;',
'        if ((pos.coords.accuracy <= options.desiredAccuracy) && (_locationEventCount > options.ignoreResultCount)) {',
'            clearTimeout(_timerID);',
'            navigator.geolocation.clearWatch(_watchID);',
'            _foundPosition(pos);',
'        } ',
'    }',
'    function _stopLocationCheck() {',
'    \t var error = {};',
'    \t error.code = 0;',
'    \t error.message = \'Timeout: No results\';',
'        navigator.geolocation.clearWatch(_watchID);',
'        _lastCheckedPosition ? _foundPosition(_lastCheckedPosition) : geolocationError.call(options.context,error);',
'    }',
'    function _onError(error) {',
'        clearTimeout(_timerID);',
'        navigator.geolocation.clearWatch(_watchID);',
'        geolocationError.call(options.context,error);',
'    }',
'    function _foundPosition(pos) {',
'        geolocationSuccess.call(options.context,pos);',
'    }',
'    if (!options.maxWait) {            ',
'    \toptions.maxWait = 10000; ',
'    }\t',
'    if (!options.desiredAccuracy) {',
'    \t  options.desiredAccuracy = 20; ',
'    }',
'    if (!options.timeout) {',
'        options.timeout = options.maxWait;',
'\t }',
'\t if (!options.ignoreResultCount) {',
'\t \t\toptions.ignoreResultCount = 1;',
'\t }',
'    options.maximumAge = 0; ',
'    options.enableHighAccuracy = true; ',
'    var _watchID = navigator.geolocation.watchPosition(_checkLocation, _onError, options);',
'    var _timerID = setTimeout(_stopLocationCheck, options.maxWait); ',
'}',
'\t\t} , false);\t',
'\t}',
'\tcatch(err) {}',
'{UXPRERENDEREDALIAS}_DlgObj._waitGif = \'css/A5System/Images/wait.gif\';',
'var EXIF=(function(){var debug=false;var ExifTags={0x9000:"ExifVersion",0xA000:"FlashpixVersion",0xA001:"ColorSpace",0xA002:"PixelXDimension",0xA003:"PixelYDimension",0x9101:"ComponentsConfiguration",0x9102:"CompressedBitsPerPixel",0x927C:"MakerNote",0x9286:"UserComment",0xA004:"RelatedSoundFile",0x9003:"DateTimeOriginal",0x9004:"DateTimeDigitized",0x9290:"SubsecTime",0x9291:"SubsecTimeOriginal",0x9292:"SubsecTimeDigitized",0x829A:"ExposureTime",0x829D:"FNumber",0x8822:"ExposureProgram",0x8824:"SpectralSensitivity",0x8827:"ISOSpeedRatings",0x8828:"OECF",0x9201:"ShutterSpeedValue",0x9202:"ApertureValue",0x9203:"BrightnessValue",0x9204:"ExposureBias",0x9205:"MaxApertureValue",0x9206:"SubjectDistance",0x9207:"MeteringMode",0x9208:"LightSource",0x9209:"Flash",0x9214:"SubjectArea",0x920A:"FocalLength",0xA20B:"FlashEnergy",0xA20C:"SpatialFrequencyResponse",0xA20E:"FocalPlaneXResolution",0xA20F:"FocalPlaneYResolution",0xA210:"FocalPlaneResolutionUnit",0xA214:"SubjectLocation",0xA215:"ExposureIndex",0xA217:"SensingMethod",0xA300:"FileSource",0xA301:"SceneType",0xA302:"CFAPattern",0xA401:"CustomRendered",0xA402:"ExposureMode",0xA403:"WhiteBalance",0xA404:"DigitalZoomRation",0xA405:"FocalLengthIn35mmFilm",0xA406:"SceneCaptureType",0xA407:"GainControl",0xA408:"Contrast",0xA409:"Saturation",0xA40A:"Sharpness",0xA40B:"DeviceSettingDescription",0xA40C:"SubjectDistanceRange",0xA005:"InteroperabilityIFDPointer",0xA420:"ImageUniqueID"};var TiffTags={0x0100:"ImageWidth",0x0101:"ImageHeight",0x8769:"ExifIFDPointer",0x8825:"GPSInfoIFDPointer",0xA005:"InteroperabilityIFDPointer",0x0102:"BitsPerSample",0x0103:"Compression",0x0106:"PhotometricInterpretation",0x0112:"Orientation",0x0115:"SamplesPerPixel",0x011C:"PlanarConfiguration",0x0212:"YCbCrSubSampling",0x0213:"YCbCrPositioning",0x011A:"XResolution",0x011B:"YResolution",0x0128:"ResolutionUnit",0x0111:"StripOffsets",0x0116:"RowsPerStrip",0x0117:"StripByteCounts",0x0201:"JPEGInterchangeFormat",0x0202:"JPEGInterchangeFormatLength",0x012D:"TransferFunction",0x013E:"WhitePoint",0x013F:"PrimaryChromaticities",0x0211:"YCbCrCoefficients",0x0214:"ReferenceBlackWhite",0x0132:"DateTime",0x010E:"ImageDescription",0x010F:"Make",0x0110:"Model",0x0131:"Software",0x013B:"Artist",0x8298:"Copyright"};var GPSTags={0x0000:"GPSVersionID",0x0001:"GPSLatitudeRef",0x0002:"GPSLatitude",0x0003:"GPSLongitudeRef",0x0004:"GPSLongitude",0x0005:"GPSAltitudeRef",0x0006:"GPSAltitude",0x0007:"GPSTimeStamp",0x0008:"GPSSatellites",0x0009:"GPSStatus",0x000A:"GPSMeasureMode",0x000B:"GPSDOP",0x000C:"GPSSpeedRef",0x000D:"GPSSpeed",0x000E:"GPSTrackRef",0x000F:"GPSTrack",0x0010:"GPSImgDirectionRef",0x0011:"GPSImgDirection",0x0012:"GPSMapDatum",0x0013:"GPSDestLatitudeRef",0x0014:"GPSDestLatitude",0x0015:"GPSDestLongitudeRef",0x0016:"GPSDestLongitude",0x0017:"GPSDestBearingRef",0x0018:"GPSDestBearing",0x0019:"GPSDestDistanceRef",0x001A:"GPSDestDistance",0x001B:"GPSProcessingMethod",0x001C:"GPSAreaInformation",0x001D:"GPSDateStamp",0x001E:"GPSDifferential"};var StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0x0000:"Flash did not fire",0x0001:"Flash fired",0x0005:"Strobe return light not detected",0x0007:"Strobe return light detected",0x0009:"Flash fired, compulsory flash mode",0x000D:"Flash fired, compulsory flash mode, return light not detected",0x000F:"Flash fired, compulsory flash mode, return light detected",0x0010:"Flash did not fire, compulsory flash mode",0x0018:"Flash did not fire, auto mode",0x0019:"Flash fired, auto mode",0x001D:"Flash fired, auto mode, return light not detected",0x001F:"Flash fired, auto mode, return light detected",0x0020:"No flash function",0x0041:"Flash fired, red-eye reduction mode",0x0045:"Flash fired, red-eye reduction mode, return light not detected",0x0047:"Flash fired, red-eye reduction mode, return light detected",0x0049:"Flash fired, compulsory flash mode, red-eye reduction mode",0x004D:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",0x004F:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",0x0059:"Flash fired, auto mode, red-eye reduction mode",0x005D:"Flash fired, auto mode, return light not detected, red-eye reduction mode",0x005F:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function imageHasData(img){return!!(img.exifdata)}function findEXIFinJPEG(file){if(file.getByteAt(0)!=0xFF||file.getByteAt(1)!=0xD8){return false}var offset=2,length=file.getLength(),marker;while(offset<length){if(file.getByteAt(offset)!=0xFF){if(debug)console.log("Not a valid marker at offset "+offset+", found: "+file.getByteAt(offset));return false}marker=file.getByteAt(offset+1);if(marker==22400){if(debug)console.log("Found 0xFFE1 marker");return readEXIFData(file,offset+4,file.getShortAt(offset+2,true)-2)}else if(marker==225){if(debug)console.log("Found 0xFFE1 marker");return readEXIFData(file,offset+4,file.getShortAt(offset+2,true)-2)}else{offset+=2+file.getShortAt(offset+2,true)}}}function readTags(file,tiffStart,dirStart,strings,bigEnd){var entries=file.getShortAt(dirStart,bigEnd),tags={},entryOffset,tag,i;for(i=0;i<entries;i++){entryOffset=dirStart+i*12+2;tag=strings[file.getShortAt(entryOffset,bigEnd)];if(!tag&&debug)console.log("Unknown tag: "+file.getShortAt(entryOffset,bigEnd));tags[tag]=readTagValue(file,entryOffset,tiffStart,dirStart,bigEnd)}return tags}function readTagValue(file,entryOffset,tiffStart,dirStart,bigEnd){var type=file.getShortAt(entryOffset+2,bigEnd),numValues=file.getLongAt(entryOffset+4,bigEnd),valueOffset=file.getLongAt(entryOffset+8,bigEnd)+tiffStart,offset,vals,val,n,numerator,denominator;switch(type){case 1:case 7:if(numValues==1){return file.getByteAt(entryOffset+8,bigEnd)}else{offset=numValues>4?valueOffset:(entryOffset+8);vals=[];for(n=0;n<numValues;n++){vals[n]=file.getByteAt(offset+n)}return vals}case 2:offset=numValues>4?valueOffset:(entryOffset+8);return file.getStringAt(offset,numValues-1);case 3:if(numValues==1){return file.getShortAt(entryOffset+8,bigEnd)}else{offset=numValues>2?valueOffset:(entryOffset+8);vals=[];for(n=0;n<numValues;n++){vals[n]=file.getShortAt(offset+2*n,bigEnd)}return vals}case 4:if(numValues==1){return file.getLongAt(entryOffset+8,bigEnd)}else{vals=[];for(var n=0;n<numValues;n++){vals[n]=file.getLongAt(valueOffset+4*n,bigEnd)}return vals}case 5:if(numValues==1){numerator=file.getLongAt(valueOffset,bigEnd);denominator=file.getLongAt(valueOffset+4,bigEnd);val=new Number(numerator/denominator);val.numerator=numerator;val.denominator=denominator;return val}else{vals=[];for(n=0;n<numValues;n++){numerator=file.getLongAt(valueOffset+8*n,bigEnd);denominator=file.getLongAt(valueOffset+4+8*n,bigEnd);vals[n]=new Number(numerator/denominator);vals[n].numerator=numerator;vals[n].denominator=denominator}return vals}case 9:if(numValues==1){return file.getSLongAt(entryOffset+8,bigEnd)}else{vals=[];for(n=0;n<numValues;n++){vals[n]=file.getSLongAt(valueOffset+4*n,bigEnd)}return vals}case 10:if(numValues==1){return file.getSLongAt(valueOffset,bigEnd)/file.getSLongAt(valueOffset+4,bigEnd)}else{vals=[];for(n=0;n<numValues;n++){vals[n]=file.getSLongAt(valueOffset+8*n,bigEnd)/file.getSLongAt(valueOffset+4+8*n,bigEnd)}return vals}}}function readEXIFData(file,start){if(file.getStringAt(start,4)!="Exif"){if(debug)console.log("Not valid EXIF data! "+file.getStringAt(start,4));return false}var bigEnd,tags,tag,exifData,gpsData,tiffOffset=start+6;if(file.getShortAt(tiffOffset)==0x4949){bigEnd=false}else if(file.getShortAt(tiffOffset)==0x4D4D){bigEnd=true}else{if(debug)console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)");return false}if(file.getShortAt(tiffOffset+2,bigEnd)!=0x002A){if(debug)console.log("Not valid TIFF data! (no 0x002A)");return false}if(file.getLongAt(tiffOffset+4,bigEnd)!=0x00000008){if(debug)console.log("Not valid TIFF data! (First offset not 8)",file.getShortAt(tiffOffset+4,bigEnd));return false}tags=readTags(file,tiffOffset,tiffOffset+8,TiffTags,bigEnd);if(tags.ExifIFDPointer){exifData=readTags(file,tiffOffset,tiffOffset+tags.ExifIFDPointer,ExifTags,bigEnd);for(tag in exifData){switch(tag){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":exifData[tag]=StringValues[tag][exifData[tag]];break;case"ExifVersion":case"FlashpixVersion":exifData[tag]=String.fromCharCode(exifData[tag][0],exifData[tag][1],exifData[tag][2],exifData[tag][3]);break;case"ComponentsConfiguration":exifData[tag]=StringValues.Components[exifData[tag][0]]+StringValues.Components[exifData[tag][1]]+StringValues.Components[exifData[tag][2]]+StringValues.Components[exifData[tag][3]];break}tags[tag]=exifData[tag]}}if(tags.GPSInfoIFDPointer){gpsData=readTags(file,tiffOffset,tiffOffset+tags.GPSInfoIFDPointer,GPSTags,bigEnd);for(tag in gpsData){switch(tag){case"GPSVersionID":gpsData[tag]=gpsData[tag][0]+"."+gpsData[tag][1]+"."+gpsData[tag][2]+"."+gpsData[tag][3];break}tags[tag]=gpsData[tag]}}return tags}function getData(img,callback){if(!img.complete)return false;if(!imageHasData(img)){getImageData(img,callback)}else{if(callback){callback.call(img)}}return true}function getTag(img,tag){if(!imageHasData(img))return;return img.exifdata[tag]}function getAllTags(img){if(!imageHasData(img))return{};var a,data=img.exifdata,tags={};for(a in data){if(data.hasOwnProperty(a)){tags[a]=data[a]}}return tags}function pretty(img){if(!imageHasData(img))return"";var a,data=img.exifdata,strPretty="";for(a in data){if(data.hasOwnProperty(a)){if(typeof data[a]=="object"){if(data[a]instanceof Number){strPretty+=a+" : "+data[a]+" ["+data[a].numerator+"/"+data[a].denominator+"]\\r\\n"}else{strPretty+=a+" : ["+data[a].length+" values]\\r\\n"}}else{strPretty+=a+" : "+data[a]+"\\r\\n"}}}return strPretty}function readFromBinaryFile(file){return findEXIFinJPEG(file)}function BinaryFile(strData,iDataOffset,iDataLength){var data=strData;var dataOffset=iDataOffset||0;var dataLength=0;this.getRawData=function(){return data};if(typeof strData=="string"){dataLength=iDataLength||data.length;this.getByteAt=function(iOffset){return data.charCodeAt(iOffset+dataOffset)&0xFF};this.getBytesAt=function(iOffset,iLength){var aBytes=[];for(var i=0;i<iLength;i++){aBytes[i]=data.charCodeAt((iOffset+i)+dataOffset)&0xFF}return aBytes}}else if(typeof strData=="unknown"){dataLength=iDataLength||IEBinary_getLength(data);this.getByteAt=function(iOffset){return IEBinary_getByteAt(data,iOffset+dataOffset)};this.getBytesAt=function(iOffset,iLength){return new VBArray(IEBinary_getBytesAt(data,iOffset+dataOffset,iLength)).toArray()}}this.getLength=function(){return dataLength};this.getSByteAt=function(iOffset){var iByte=this.getByteAt(iOffset);if(iByte>127)return iByte-256;else return iByte};this.getShortAt=function(iOffset,bBigEndian){var iShort=bBigEndian?(this.getByteAt(iOffset)<<8)+this.getByteAt(iOffset+1):(this.getByteAt(iOffset+1)<<8)+this.getByteAt(iOffset);if(iShort<0)iShort+=65536;return iShort};this.getSShortAt=function(iOffset,bBigEndian){var iUShort=this.getShortAt(iOffset,bBigEndian);if(iUShort>32767)return iUShort-65536;else return iUShort};this.getLongAt=function(iOffset,bBigEndian){var iByte1=this.getByteAt(iOffset),iByte2=this.getByteAt(iOffset+1),iByte3=this.getByteAt(iOffset+2),iByte4=this.getByteAt(iOffset+3);var iLong=bBigEndian?(((((iByte1<<8)+iByte2)<<8)+iByte3)<<8)+iByte4:(((((iByte4<<8)+iByte3)<<8)+iByte2)<<8)+iByte1;if(iLong<0)iLong+=4294967296;return iLong};this.getSLongAt=function(iOffset,bBigEndian){var iULong=this.getLongAt(iOffset,bBigEndian);if(iULong>2147483647)return iULong-4294967296;else return iULong};this.getStringAt=function(iOffset,iLength){var aStr=[];var aBytes=this.getBytesAt(iOffset,iLength);for(var j=0;j<iLength;j++){aStr[j]=String.fromCharCode(aBytes[j])}return aStr.join("")};this.getCharAt=function(iOffset){return String.fromCharCode(this.getByteAt(iOffset))};this.toBase64=function(){return window.btoa(data)};this.fromBase64=function(strBase64){data=window.atob(strBase64)}}return{findEXIFinJPEG:findEXIFinJPEG,pretty:pretty,getTag:getTag,getAllTags:getAllTags,getData:getData,Tags:ExifTags,TiffTags:TiffTags,GPSTags:GPSTags,StringValues:StringValues,BinaryFile:BinaryFile}})();',
'(function(){function detectSubsampling(img){var iw=img.naturalWidth,ih=img.naturalHeight;if(iw*ih>1024*1024){var canvas=document.createElement(\'canvas\');canvas.width=canvas.height=1;var ctx=canvas.getContext(\'2d\');ctx.drawImage(img,-iw+1,0);return ctx.getImageData(0,0,1,1).data[3]===0}else{return false}}function detectVerticalSquash(img,iw,ih){var canvas=document.createElement(\'canvas\');canvas.width=1;canvas.height=ih;var ctx=canvas.getContext(\'2d\');ctx.drawImage(img,0,0);var data=ctx.getImageData(0,0,1,ih).data;var sy=0;var ey=ih;var py=ih;while(py>sy){var alpha=data[(py-1)*4+3];if(alpha===0){ey=py}else{sy=py}py=(ey+sy)>>1}var ratio=(py/ih);return(ratio===0)?1:ratio}function renderImageToDataURL(img,options){var canvas=document.createElement(\'canvas\');renderImageToCanvas(img,canvas,options);return canvas.toDataURL("image/jpeg",options.quality||0.8)}function renderImageToCanvas(img,canvas,options){var iw=img.naturalWidth,ih=img.naturalHeight;var width=options.width,height=options.height;var ctx=canvas.getContext(\'2d\');ctx.save();transformCoordinate(canvas,width,height,options.orientation);var subsampled=detectSubsampling(img);if(subsampled){iw/=2;ih/=2}var d=1024;var tmpCanvas=document.createElement(\'canvas\');tmpCanvas.width=tmpCanvas.height=d;var tmpCtx=tmpCanvas.getContext(\'2d\');var vertSquashRatio=detectVerticalSquash(img,iw,ih);var dw=Math.ceil(d*width/iw);var dh=Math.ceil(d*height/ih/vertSquashRatio);var sy=0;var dy=0;while(sy<ih){var sx=0;var dx=0;while(sx<iw){tmpCtx.clearRect(0,0,d,d);tmpCtx.drawImage(img,-sx,-sy);ctx.drawImage(tmpCanvas,0,0,d,d,dx,dy,dw,dh);sx+=d;dx+=dw}sy+=d;dy+=dh}ctx.restore();tmpCanvas=tmpCtx=null}function transformCoordinate(canvas,width,height,orientation){switch(orientation){case 5:case 6:case 7:case 8:canvas.width=height;canvas.height=width;break;default:canvas.width=width;canvas.height=height}var ctx=canvas.getContext(\'2d\');switch(orientation){case 2:ctx.translate(width,0);ctx.scale(-1,1);break;case 3:ctx.translate(width,height);ctx.rotate(Math.PI);break;case 4:ctx.translate(0,height);ctx.scale(1,-1);break;case 5:ctx.rotate(0.5*Math.PI);ctx.scale(1,-1);break;case 6:ctx.rotate(0.5*Math.PI);ctx.translate(0,-height);break;case 7:ctx.rotate(0.5*Math.PI);ctx.translate(width,-height);ctx.scale(-1,1);break;case 8:ctx.rotate(-0.5*Math.PI);ctx.translate(-width,0);break;default:break}}function MegaPixImage(srcImage){if(srcImage instanceof Blob){var img=new Image();var URL=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!URL){throw Error("No createObjectURL function found to create blob url");}img.src=URL.createObjectURL(srcImage);srcImage=img}if(!srcImage.naturalWidth&&!srcImage.naturalHeight){var _this=this;srcImage.onload=function(){var listeners=_this.imageLoadListeners;if(listeners){_this.imageLoadListeners=null;for(var i=0,len=listeners.length;i<len;i++){listeners[i]()}}};this.imageLoadListeners=[]}this.srcImage=srcImage}MegaPixImage.prototype.render=function(target,options){if(this.imageLoadListeners){var _this=this;this.imageLoadListeners.push(function(){_this.render(target,options)});return}options=options||{};var imgWidth=this.srcImage.naturalWidth,imgHeight=this.srcImage.naturalHeight,width=options.width,height=options.height,maxWidth=options.maxWidth,maxHeight=options.maxHeight;if(width&&!height){height=(imgHeight*width/imgWidth)<<0}else if(height&&!width){width=(imgWidth*height/imgHeight)<<0}else{width=imgWidth;height=imgHeight}if(maxWidth&&width>maxWidth){width=maxWidth;height=(imgHeight*width/imgWidth)<<0}if(maxHeight&&height>maxHeight){height=maxHeight;width=(imgWidth*height/imgHeight)<<0}var opt={width:width,height:height};for(var k in options)opt[k]=options[k];var tagName=target.tagName.toLowerCase();if(tagName===\'img\'){target.src=renderImageToDataURL(this.srcImage,opt)}else if(tagName===\'canvas\'){renderImageToCanvas(this.srcImage,target,opt)}if(typeof this.onrender===\'function\'){this.onrender(target)}};if(typeof define===\'function\'&&define.amd){define([],function(){return MegaPixImage})}else{this.MegaPixImage=MegaPixImage}})();',
'/*',
'Copyright (c) 2001, 2013 Alpha Software Corporation',
'All Rights Reserved.',
'This Javascript library is licensed exclusively for use with Alpha Anywhere, Alpha Five,',
'Alpha Five Application Server, Alpha Anywhere Application Server,',
'Alpha Five Run Engine, and Alpha Anywhere Run Engine. It is specifically',
'not licensed for use on a server that does not have installed on it a',
'licensed copy of the Alpha Five Application Server or the Alpha Anywhere Application Server.',
'*/',
'\t{UXPRERENDEREDALIAS}_DlgObj.imageCaptureUsingCamera = function(options) {',
'\t\toptions.specialMode = \'callback\';',
'\t\tthis.detailViewImageCapture(options);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewImageCapture = function(options) {',
'\t\tif(typeof options.specialMode == \'undefined\') options.specialMode = \'detailview\';',
'\t\tvar flagPhoneGapLoaded = false;',
'\t\tvar flagUseCordova = false;',
'\t\tif (typeof window[\'cordova\'] != \'undefined\') {',
'\t\t\tflagPhoneGapLoaded = true;',
'\t\t\tif(options.captureMethod == \'phonegappreferred\' || options.captureMethod == \'phonegap\') {',
'\t\t\t\tflagUseCordova = true;',
'\t\t\t}',
'\t\t}',
'\t\tif(options.captureMethod == \'phonegap\' && flagPhoneGapLoaded == false) {',
'\t\t\talert(\'PhoneGap not available\'); return false;',
'\t\t}',
'\t\tif(!flagUseCordova) {',
'\t\t\tthis.detailViewImageCaptureHTML5(options);',
'\t\t} else {',
'\t\t\tthis.detailViewImageCapturePhoneGap(options);',
'\t\t}',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewImageCaptureHTML5 = function(options) {',
'\t\tif(typeof options.specialMode == \'undefined\') options.specialMode = \'detailview\';',
'\t\tif(options.onBeforeCaptureJavascript) {',
'\t\t\tvar result = options.onBeforeCaptureJavascript.call();',
'\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\tif(!result) return false;',
'\t\t\t}',
'\t\t}',
'\t\tif(A5.flags.isAndroid == false) {',
'\t\t\tif(A5.flags.isIPhone || A5.flags.isIPad){',
'\t\t\t\tif (typeof A5.flags.iOSVersion != \'undefined\') {',
'\t\t\t\t\tvar majorNum = A5.flags.iOSVersion.split(\'.\')[0];',
'\t\t\t\t\tif(parseInt(majorNum) < 6) {',
'\t\t\t\t\t\talert(\'HTML5 camera access not supported on this version of iOS\');',
'\t\t\t\t\t\treturn false;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(A5.u.css.supportsTransition == false) {',
'\t\t\talert(\'Browser does not support HTML5 camera access\');',
'\t\t\treturn false;',
'\t\t}',
'\t\tif(typeof options.resizePolicyHTML5 == \'undefined\') options.resizePolicyHTML5 = \'Always\';',
'\t\toptions.resizePolicyHTML5 = options.resizePolicyHTML5.toLowerCase();',
'\t\tif(options.resizePolicyHTML5 != \'always\') {',
'\t\t\tvar maxSize = 99999999999;',
'\t\t\tif(typeof options.maxImageSizeHTML5 != \'undefined\') maxSize = Number(options.maxImageSizeHTML5);',
'\t\t}',
'\t\t//if(typeof options.resizeImageHTML5 == \'undefined\') options.resizeImageHTML5 = true;',
'\t\tvar ops = {};',
'\t\tops.dialogObj = this;',
'\t\tif(options.specialMode == \'callback\' ) {',
'\t\t\toptions.controlName = \'\';',
'\t\t}',
'\t \tops.targetImage = options.controlName;',
'\t \tops.targetImage = ops.targetImage.toUpperCase();',
'\t \tops.html5 = {};',
'\t \tops.html5.resizeFlag = options.resizeImageHTML5;',
'\t \tops.html5.compressionFactor = options.imageCompressionHTML5;',
'\t \tops.html5.maxWidth = options.maxImageWidth;',
'\t \tops.html5.maxHeight = options.maxImageHeight;',
'\t \tops.fieldPrefix = this.dialogId + \'.V.R1\';',
'\t \tops.imageFieldName = (ops.fieldPrefix + \'.\' + ops.targetImage).toUpperCase();',
'\t \tops.hiddenFileName =  (ops.fieldPrefix + \'.\' + ops.targetImage + \'_HIDDENA5FN\').toUpperCase();',
' \t\tops.handleFileSelect = function(evt) {',
'\t\t\t// creates a FileList object',
'\t\t\tvar files = evt.target.files;',
'\t\t\t// Even if multiple files are presented, only the first file will be uploaded.',
'\t\t\tif (!files.length){',
'\t\t\t\t// alerts should be ok here when fired by a timer',
'\t\t\t\tsetTimeout(function(){',
'\t\t\t\t\t//alert(\'<a5:r>No files selected.</a5:r>\');',
'\t\t\t\t},50);',
'\t\t\t\treturn false;',
'\t\t\t} else {',
'\t\t\t\t// we\'re processing only 1 file at this point',
'\t\t\t\tvar f = files[0];',
'\t\t\t\tops.updateImage(f);',
'\t\t\t}',
'\t\t}',
'\t\t$e.removeGroup(\'__detailViewImageCapture\')',
'\t\t$e.add($(this.dialogId + \'._GETPHOTO\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__detailViewImageCapture\');',
'\t\tops.updateImage = function(_thisFile) {',
'\t\t\tvar _sourceFileName = _thisFile.name;',
'\t\t\tvar _thisImageName = ops.imageFieldName;',
'\t\t\tvar _thisImage = $(_thisImageName);',
'\t\t\tvar reader = new FileReader();',
'\t\t\treader.onload = function(e) {',
'\t\t\t\tvar flagResize = false;',
'\t\t\t\tif(options.resizePolicyHTML5 == \'always\') {',
'\t\t\t\t\tflagResize = true;',
'\t\t\t\t} else {',
'\t\t\t\t\tif(e.target.result.length > maxSize) {',
'\t\t\t\t\t\tflagResize = true;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(!flagResize) {',
'\t\t\t\t\t//not resizing',
'\t\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t\t_thisImage.src = e.target.result;',
'\t\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\t\tif(eleH) eleH.src = _thisImage.src;',
'\t\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\t\t$sa(eleH,\'a5imageSourceName\',_sourceFileName);',
'\t\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t\t\tif(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : e.target.result});',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\toptions.onCaptureJavascript.call(this, {data : e.target.result});',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\t//resizing',
'\t\t\t\t\tif(options.displaySpinnerWhileResizingImage) {',
'\t\t\t\t\t\t_thisImage.src = options.spinnerURI.replace(/\\|/gi,\'/\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _orientation = ops.parseExifOrientation(e.target.result);',
'\t\t\t\t\tops.renderImgToCanvas(_thisFile,_orientation,_sourceFileName);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\treader.onerror = function(e) {',
'\t\t\t\tsetTimeout(function(){',
'\t\t\t\talert(\'<a5:r>Error reading file.</a5:r>\');',
'\t\t\t\t},0);',
'\t\t\t}',
'\t\t\treader.readAsDataURL(_thisFile);',
'\t\t}',
'\t\tops.parseExifOrientation = function(dataUrl) {',
'\t\t\ttry {',
'\t\t\t\tvar _byteString = atob(dataUrl.split(\',\')[1]);',
'\t\t\t\tvar _binaryFile = new EXIF.BinaryFile(_byteString, 0, _byteString.length);',
'\t\t\t\tvar _exif = EXIF.findEXIFinJPEG(_binaryFile);',
'\t\t\t\t// Store EXIF orientation (if available) in data property.',
'\t\t\t\tif (_exif && _exif[\'Orientation\']) {',
'\t\t\t\t\treturn _exif[\'Orientation\'];',
'\t\t\t\t} else {',
'\t\t\t\t\treturn null;',
'\t\t\t\t}',
'\t\t\t} catch (e) {',
'\t\t\t\t// Error parsing EXIF data.',
'\t\t\t\tconsole.log(\'Error loading EXIF data\', e);',
'\t\t\t}',
'\t\t}',
'\t\tops.renderImgToCanvas = function(_file,_orientation,_sourceFileName) {',
'\t\t\t// using megapix-image.js here which handles(?) sub-sampling issue with large images and Canvas on iOS6 Safari',
'\t\t\tvar mpImg = new MegaPixImage(_file);',
'\t\t\tmpImg.onrender = function(){',
'\t\t\t\t// this timeout required to ensure _thisCanvas render complete',
'\t\t\t\tsetTimeout(function(){',
'\t\t\t\t\tvar dataURL = _thisCanvas.toDataURL(\'image/jpeg\', ops.html5.compressionFactor);',
'\t\t\t\t\t//alert(\'html5 size after resizing image:\' + dataURL.length);',
'\t\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t\tvar ele = $(ops.imageFieldName);',
'\t\t\t\t\t\t//put the scaled image in the element',
'\t\t\t\t\t\tele.src = dataURL;',
'\t\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\t\tif(eleH) eleH.src = dataURL;',
'\t\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\t\t$sa(eleH,\'a5imageSourceName\',_sourceFileName);',
'\t\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t\t\tif(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : dataURL});',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\toptions.onCaptureJavascript.call(this, {data : dataURL});',
'\t\t\t\t\t}',
'\t\t\t\t},0);',
'\t\t\t}',
'\t\t\tvar _thisCanvas = document.createElement(\'canvas\');',
'\t\t\tvar ctx = _thisCanvas.getContext(\'2d\');',
'\t\t\t// adjust based on extracted _orientation',
'\t\t\tif (_orientation) {',
'\t\t\t\tmpImg.render(_thisCanvas,{maxWidth: ops.html5.maxWidth, maxHeight:ops.html5.maxHeight, orientation:_orientation});',
'\t\t\t} else {',
'\t\t\t\tmpImg.render(_thisCanvas,{maxWidth: ops.html5.maxWidth, maxHeight:ops.html5.maxHeight});',
'\t\t\t}',
'\t\t}',
'\t\t//click the hidden image control',
'\t\tvar ele = $(this.dialogId + \'._GETPHOTO\');',
'\t\tif (ele) {',
'\t\t\tele.value = \'\';',
'\t\t\tele.click();',
'\t\t}',
'\t}',
'\t/////\\\\\\\\\\',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewVideoCapturePhoneGap = function(opsIn) {',
'\t\t//ops.fieldPrefix = this.dialogId + \'.V.R1\';',
'\t\t//ops.videoFieldName = (ops.fieldPrefix + \'.\' + ops.controlName).toUpperCase();',
'\t\topsIn.dialogObj = this;',
'\t\tvar options = opsIn.options;',
'\t\tvar onSuccess = function(mediaFiles) { var e = {filename: mediaFiles[0].fullPath};',
'\t\t\tvar e_filename = e.filename;',
'\t\t\tif(e_filename.indexOf(\'file:\') != 0) {',
'\t\t\t\te_filename = e_filename.replace(\'/private\',\'file:\\/\\/\');',
'\t\t\t}',
'\t\t\tif(e_filename.indexOf(\'file:\') != 0 && e_filename.indexOf(\'.wav\') > 0) {',
'\t\t\t\te_filename = \'file:\\/\\/\' + e_filename;',
'\t\t\t\t//alert(e_filename);',
'\t\t\t}',
'\t\t\topsIn.dialogObj.setValue(opsIn.controlName,e_filename);',
'\t\t\t//var ele = $(ops.imageFieldName);',
'\t\t\t//if(ele) ele.src = thisImageURL;',
'\t\t\t//var eleH = $(ops.hiddenFileName);',
'\t\t\t//if(eleH) eleH.src = thisImageURL;',
'\t\t\t//$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\topsIn.dialogObj.refreshClientSideComputations();',
'\t\t};',
'\t\tvar onFailed = function() {',
'\t\t};',
'\t\tvar flagAudio = false;',
'\t\tif(typeof opsIn.audio != \'undefined\') flagAudio = opsIn.audio;',
'\t\tif(!flagAudio) {',
'\t\t\tnavigator.device.capture.captureVideo(onSuccess,onFailed,options);',
'\t\t} else {',
'\t\t\t//alert(\'audio\');',
'\t\t\t//debugger;',
'\t\t\tvar options = { limit: 1, duration: 10 };',
'\t\t\t//navigator.device.capture.captureAudio(captureSuccess, captureError, options);',
'\t\t\t//navigator.device.capture.captureAudio(onSuccess,onFailed,options);',
'\t\t\tvar _media = {',
'\t\t\t\trecorder: null,',
'\t\t\t\trecFile: \'myaudio/myrecording3.amr\'  //if device.platform is \'Android\' then use .amr, otherwise .wav',
'\t\t\t}',
'\t\t\tfunction captureStatus(e) {',
'\t\t\t\tconsole.log(\'status....\' + JSON.stringify(e));',
'\t\t\t}',
'\t\t\tvar onSuccessAudio = function() {',
'\t\t\t\tconsole.log(\'try to play it now\');',
'\t\t\t\tsetTimeout(function() { _media.recorder.play(); },1000);',
'\t\t\t\t//var e_filename = _media.recFile;',
'\t\t\t\t//opsIn.dialogObj.setValue(opsIn.controlName,e_filename);',
'\t\t\t\t//opsIn.dialogObj.refreshClientSideComputations();',
'\t\t\t};',
'\t\t\t_media.recorder = new Media(_media.recFile,onSuccessAudio,onFailed,captureStatus);',
'\t\t\tconsole.log(\'about to record\');',
'\t\t\t_media.recorder.startRecord();',
'\t\t\tconsole.log(\'start\');',
'\t\t\tsetTimeout(function() { console.log(\'stop\'); _media.recorder.stopRecord();  },5000);',
'\t\t\t//_media.recorder.play();',
'\t\t}',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewImageCapturePhoneGap =  function(options) {',
'\t\tvar flagCustomOnError = false;',
'\t\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents != \'undefined\') flagCustomOnError = {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents;',
'\t\tif(!flagCustomOnError) window.onerror = function(err) { alert(\'Unhandled Javascript Error - phoneGapImageCapture:  \' + JSON.stringify(err));}',
'\t\tif(options.onBeforeCaptureJavascript) {',
'\t\t\tvar result = options.onBeforeCaptureJavascript.call();',
'\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\tif(!result) return false;',
'\t\t\t}',
'\t\t}',
'\t\tif (typeof window[\'cordova\'] == \'undefined\') {',
'\t\t\talert(\'PhoneGap not loaded\');',
'\t\t\treturn false;',
'\t\t}',
'\t\tif(typeof options.imageSelectionCanceledMessage == \'undefined\') options.imageSelectionCanceledMessage = \'Image Selection Canceled\';',
'\t\tif(typeof options.imageSelectionCanceledButton == \'undefined\') options.imageSelectionCanceledButton = \'Done\';',
'\t\tif(typeof options.cameraCanceledMessage == \'undefined\') options.cameraCanceledMessage = \'Camera Action Canceled\';',
'\t\tif(typeof options.cameraCanceledButton == \'undefined\') options.cameraCanceledButton = \'Done\';',
'\t\tvar maxSize = -1;',
'\t\tif(typeof options.maxImageSizePhoneGap != \'undefined\') maxSize = Number(options.maxImageSizePhoneGap);',
'\t\tif(maxSize == -1) maxSize = 9999999999;',
'\t\tif(typeof options.specialMode == \'undefined\') options.specialMode = \'detailview\';',
'\t\tvar ops = {};',
'\t\tops.dialogObj = this;',
'\t\tif(options.specialMode == \'callback\') {',
'\t\t\toptions.controlName = \'\';',
'\t\t}',
'\t\tops.targetImage = options.controlName.toUpperCase();',
'\t\tops.cordova = {};',
'\t\tops.cordova.pictureSourceVal = options.pictureSourceVal;',
'\t\tops.cordova.imageQuality = options.imageQualityPhonegap;',
'\t\tops.cordova.allowEdit = options.allowPictureEditing',
'\t\tops.cordova.targetWidth = options.maxImageWidth;',
'\t\tops.cordova.targetHeight = options.maxImageHeight;',
'\t\tops.cordova.saveToPhotoAlbum = options.saveToPhotoAlbum',
'\t\tops.cordova.iPadEleId = \'\';',
'\t\tops.fieldPrefix = this.dialogId + \'.V.R1\';',
'\t\tops.imageFieldName = (ops.fieldPrefix + \'.\' + ops.targetImage).toUpperCase();',
'\t\tops.hiddenFileName = (ops.fieldPrefix + \'.\' + ops.targetImage + \'_HIDDENA5FN\').toUpperCase();',
'\t\tops.onCameraSuccess = function(imageURI) {',
'\t\t\tif(typeof options.captureDataMode == \'undefined\') options.captureDataMode = \'base64\';',
'\t\t\ttry {',
'\t\t\t    var iOps = JSON.parse(imageURI);',
'\t\t\t    var filename = iOps.filename;',
'\t\t\t    var metadata = iOps.json_metadata;',
'\t\t\t    var iMD = JSON.parse(metadata);',
'\t\t\t    if(typeof iMD.GPS != \'undefined\') {',
'\t\t\t    \t//running on iOS',
'\t\t\t    \tvar gpsObj = {};',
'\t\t\t    \tgpsObj.latitude = iMD.GPS.Latitude;',
'\t\t\t    \tgpsObj.longitude = iMD.GPS.Longitude;',
'\t\t\t    \tif(iMD.GPS.LongitudeRef == \'W\') gpsObj.longitude = Number(gpsObj.longitude) * -1;',
'\t\t\t    \tif(iMD.GPS.LatitudeRef == \'S\') gpsObj.latitude = Number(gpsObj.latitude) * -1;',
'\t\t\t    \tgpsObj.altitude = iMD.GPS.Altitude;',
'\t\t\t    \tgpsObj.dateTime = iMD.GPS.DateStamp + \' \' + iMD.GPS.TimeStamp;',
'\t\t\t    \tgpsObj.ExifJSON = metadata;',
'\t\t\t    } else {',
'\t\t\t    \t//android',
'\t\t\t    \tvar latRaw = iMD.gpsLatitude;   //":"42/1,28/1,50093/1000",',
'\t\t\t    \tvar latRef = iMD.gpsLatitudeRef;  //":"N",',
'\t\t\t    \tvar lngRaw = iMD.gpsLongitude; //":"71/1,12/1,16183/1000",',
'\t\t\t    \tvar lngRef = iMD.gpsLongitudeRef; //":"W",',
'\t\t\t    \tvar altRaw = iMD.gpsAltitude;',
'\t\t\t    \tvar altRef = iMD.gpsAltitudeRef;',
'\t\t\t    \tops.fixGPS = function(raw,ref) {',
'\t\t\t    \t\t//alert( \' raw: \' + raw + \' ref: \' + ref);',
'\t\t\t    \t\tif(raw == null) return null;',
'\t\t\t\t\t\tvar lat_d, lat_m, lat_s, lat;',
'\t\t\t\t\t\tlat_d = eval(raw.split(\',\')[0]);',
'\t\t\t\t\t\tlat_m = eval(raw.split(\',\')[1]) * ( 1/60);',
'\t\t\t\t\t\tlat_s = eval(raw.split(\',\')[2]) * ( 1/60);',
'\t\t\t\t\t\tlat = Number(lat_d) + Number(lat_m) + Number(lat_s);',
'\t\t\t\t\t\tif(ref != null) {',
'\t\t\t\t\t\t\tif(ref.toUpperCase() == \'S\') lat = Number(lat) * -1;',
'\t\t\t\t\t\t\tif(ref.toUpperCase() == \'W\') lat = Number(lat) * -1;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\treturn lat;',
'\t\t\t    \t}',
'\t\t\t    \tvar lat = ops.fixGPS(latRaw,latRef);',
'\t\t\t    \tvar lng = ops.fixGPS(lngRaw,lngRef);',
'\t\t\t    \tvar alt = ops.fixGPS(altRaw,altRef);',
'\t\t\t    \tvar gpsObj = {};',
'\t\t\t\t\tgpsObj.latitude = lat;',
'\t\t\t\t\tgpsObj.longitude = lng;',
'\t\t\t\t\tgpsObj.altitude = alt;',
'\t\t\t\t\tgpsObj.dateTime = iMD.datetime;',
'\t\t\t\t\tgpsObj.ExifJSON = metadata;',
'\t\t\t    }',
'\t\t\t    options.EXIF = gpsObj;',
'\t\t\t    ops._moveFile(filename);',
'\t\t\t  \t//gets called by ops._move()',
'\t\t\t    //window.resolveLocalFileSystemURL(filename,ops.fsOK,ops.fsError);',
'\t\t\t} catch(err) {',
'\t\t\t\t//if you get here then you were not using the AA camera plugin, so EXIF info is not available',
'\t\t\t\tops._moveFile(imageURI);',
'\t\t\t\t//gets called by ops._move()',
'\t\t\t    //window.resolveLocalFileSystemURL(imageURI,ops.fsOK,ops.fsError);',
'\t\t\t}',
'\t\t}',
'\t\tops._moveFile = function(filename) {',
'\t\t\tvar flagMove = false;',
'\t\t\tif(typeof options.phonegapMoveFileToPermanentStorage != \'undefined\') flagMove = options.phonegapMoveFileToPermanentStorage;',
'\t\t\tif(flagMove) {',
'\t\t\t\tvar _dir = {UXPRERENDEREDALIAS}_DlgObj.phoneGapGetLocalDirURL(options.phonegapFileSystemType);',
'\t\t\t\tvar _onFolderEnsured = function() {',
'\t\t\t\t\tvar objFn = A5.parseFilename(filename);',
'\t\t\t\t\tvar extension = objFn.name.split(\'.\');',
'\t\t\t\t\textension = extension[extension.length-1];',
'\t\t\t\t\tvar targetName = A5.UUID() + \'.\' + extension;',
'\t\t\t\t\tvar subfolder = \'\';',
'\t\t\t\t\tif(options.phonegapPermanentStorageFolder != \'\') {',
'\t\t\t\t\t\tsubfolder = options.phonegapPermanentStorageFolder + \'/\';',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _moveOK = function() {',
'\t\t\t\t\t\tvar fn = _dir + subfolder + targetName;',
'\t\t\t\t\t\twindow.resolveLocalFileSystemURL(fn,ops.fsOK,ops.fsError);',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _moveFail = function(e) {',
'\t\t\t\t\t\talert(\'Move error: \'+e.code);',
'\t\t\t\t\t}',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapMoveFileURL(filename,_dir, subfolder + targetName,_moveOK,_moveFail)',
'\t\t\t\t}',
'\t\t\t\tvar _onError = function() {',
'\t\t\t\t\talert(\'could not create folder\');',
'\t\t\t\t}',
'\t\t\t\tif(options.phonegapPermanentStorageFolder != \'\') {',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapEnsureDirPathURL(_dir, options.phonegapPermanentStorageFolder, _onFolderEnsured, _onError)',
'\t\t\t\t} else {',
'\t\t\t\t\t//storing in the root of the requested filesystem --',
'\t\t\t\t\t_onFolderEnsured();',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\t//do not need to move the file',
'\t\t\t\twindow.resolveLocalFileSystemURL(filename,ops.fsOK,ops.fsError);',
'\t\t\t}',
'\t\t}',
'\t\tops.onImageSelectFail = function(msg) {',
'\t\t\tnavigator.notification.alert(msg,null,options.imageSelectionCanceledMessage,options.imageSelectionCanceledButton);',
'\t\t}',
'\t\tops.onCameraCaptureFail = function(msg) {',
'\t\t\tnavigator.notification.alert(msg,null,options.cameraCanceledMessage,options.cameraCanceledButton);',
'\t\t}',
'\t\tops.fsOK = function(fileEntry) {',
'\t\t\t// HTML5 File system available as fileEntry',
'\t\t\t// Using standard HTML5 file handling here',
'\t\t\t// get fileEntry URL for upload',
'\t\t\tvar thisImageURL = fileEntry.toURL();',
'\t\t\tif(options.captureDataMode == \'filename\') {',
'\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t//better be - only mode we are supporting for \'filename\'',
'\t\t\t\t\tvar ele = $(ops.imageFieldName);',
'\t\t\t\t\tif(ele) ele.src = thisImageURL;',
'\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\tif(eleH) eleH.src = thisImageURL;',
'\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\tvar exifData = \'\';',
'\t\t\t\t\tif(typeof options.EXIF != \'undefined\') exifData = JSON.stringify(options.EXIF);',
'\t\t\t\t\t$sa(eleH,\'a5EXIF\',exifData);',
'\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\tfileEntry.file(function(file){',
'\t\t\t\t\tvar reader = new FileReader();',
'\t\t\t\t\treader.onloadend = function(e) {',
'\t\t\t\t\t\t// this is Base64 encoded',
'\t\t\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t\t\tvar ele = $(ops.imageFieldName);',
'\t\t\t\t\t\t\tif(ele) ele.src = e.target.result;',
'\t\t\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\t\t\tif(eleH) eleH.src = e.target.result;',
'\t\t\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t\t\t\tif(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : e.target.result, fileSystemURL: fileEntry.nativeURL, options: options});',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\toptions.onCaptureJavascript.call(this, {data : e.target.result, fileSystemURL: fileEntry.nativeURL, options: options});  //pass in options so that the user defined callback js can reference options (which has the exif data in it)',
'\t\t\t\t\t\t}',
'\t\t\t\t\t};',
'\t\t\t\t\treader.onerror = function(e) {',
'\t\t\t\t\t\tnavigator.notification.alert(\'<a5:r>File reader error</a5:r>\');',
'\t\t\t\t\t};',
'\t\t\t\t\treader.readAsDataURL(file);',
'\t\t\t\t},function(error) {',
'\t\t\t\t\tnavigator.notification.alert(\'<a5:r>Image file read error</a5:r>\');',
'\t\t\t\t});',
'\t\t\t}',
'\t\t}',
'\t\tops.fsError = function() {',
'\t\t\tnavigator.notification.alert(\'<a5:r>Local File system unavailable.</a5:r>\');',
'\t\t}',
'\t\t// Calculate positioning for iPad popup menu if applicable',
'\t\tvar cordovaPopoverOptions = null;',
'\t\t\tif (ops.cordova.iPadEleId.length > 0) {',
'\t\t\tvar ele = $(ops.cordova.iPadEleId);',
'\t\t\tif (ele) {',
'\t\t\t\tvar rect = ele.getBoundingClientRect();',
'\t\t\t\tvar x = rect.left;',
'\t\t\t\tvar y = rect.top;',
'\t\t\t\tvar w = rect.right - rect.left;',
'\t\t\t\tvar h = rect.bottom - rect.top;',
'\t\t\t\tcordovaPopoverOptions = new CameraPopoverOptions(x,y,w,h,15);',
'\t\t\t}',
'\t\t}',
'\t\t// These options define all of the objects functionality',
'\t\tvar cordovaOptions = {',
'\t\t\tquality: Number(ops.cordova.imageQuality),',
'\t\t\tallowEdit: ops.cordova.allowEdit,',
'\t\t\tsourceType: Number(ops.cordova.pictureSourceVal),',
'\t\t\tcorrectOrientation: true,',
'\t\t\tdestinationType: 1,',
'\t\t\ttargetWidth: Number(ops.cordova.targetWidth),',
'\t\t\ttargetHeight: Number(ops.cordova.targetHeight),',
'\t\t\tsaveToPhotoAlbum: ops.cordova.saveToPhotoAlbum,',
'\t\t\tpopoverOptions: cordovaPopoverOptions,',
'\t\t\tencodingType: Camera.EncodingType.JPEG',
'\t\t}',
'\t\tif (cordovaOptions.sourceType != 1) {',
'\t\t\tcordovaOptions.saveToPhotoAlbum = false;',
'\t\t\tnavigator.camera.getPicture(ops.onCameraSuccess, ops.onImageSelectFail,cordovaOptions);',
'\t\t} else {',
'\t\t\tnavigator.camera.getPicture(ops.onCameraSuccess, ops.onCameraCaptureFail,cordovaOptions);',
'\t\t}',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj._abortS3Upload = function(__guid,number,rowId) {',
'\t\tvar arrS3 = {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'arrS3\'];',
'\t\tvar options = {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'options\'];',
'\t\tvar _dlgObj = {UXPRERENDEREDALIAS}_DlgObj;',
'\t\tvar _xhr = arrS3[number].xhr;',
'\t\t_xhr.abort();',
'\t\tarrS3[number].aborted = true;',
'\t\tif(typeof rowId != \'undefined\') {',
'\t\t\tvar ele = $(rowId);',
'\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t}',
'\t\t//uploadCompleteFunction',
'\t\tvar ops = {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'ops\'];',
'\t\t//fire the onComplete events',
'\t\tvar flagAllCompleted = false;',
'\t\tvar c = 0;',
'\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\tif(arrS3[i].completed == true || arrS3[i].aborted == true) c = c+1;',
'\t\t}',
'\t\tif(c == arrS3.length) flagAllCompleted = true;',
'\t\tvar f = arrS3[number];',
'\t\tvar e = {',
'\t\t\tname: f.name,',
'\t\t\ttype: f.type,',
'\t\t\tsize: f.size,',
'\t\t\taborted: f.aborted,',
'\t\t\tnumber: number,',
'\t\t\tfileArray: arrS3,',
'\t\t\ttargetName: arrS3[number].targetName',
'\t\t}',
'\t\toptions.onCompleteFile(e);',
'\t\tif(flagAllCompleted) {',
'\t\t\toptions.onCompleteAllFiles(e);',
'\t\t\tif(options.displayProgress) {',
'\t\t\t\tvar eleP = $(_dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder);',
'\t\t\t\tif(eleP) eleP.style.display = \'none\';',
'\t\t\t}',
'\t\t\tdelete {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid];',
'\t\t}',
'\t\t//end onComplete events',
'\t}',
'\t/////////////////////////////////////////////////////////////////////////',
'\t{UXPRERENDEREDALIAS}_DlgObj.fileUploadAmazonS3 = function(options) {',
'\t\tvar eleB = \'\';',
'\t\tvar _dlgObj = this;',
'\t\tvar _part = options.part;',
'\t\tdelete ops;',
'\t\tvar ops = {};',
'\t\tif(typeof options.onBeforeFileSelect == \'function\') {',
'\t\t\tvar result = options.onBeforeFileSelect();',
'\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\tif(!result) return false;',
'\t\t\t}',
'\t\t}',
'\t\tops.formatNum = function(num) {',
'\t\t\tvar suffix = \'Kb\';',
'\t\t \tif(num >= 1000000) {',
'\t\t \t\tnum = num/1000000;',
'\t\t \t\tsuffix = \'Mb\';',
'\t\t\t} else if(num >= 1000) {',
'\t\t\t \tnum = num / 1000;',
'\t\t\t \tsuffix = \'Kb\';',
'\t\t\t} else {',
'\t\t\t   suffix = \'bytes\'',
'\t\t\t  }',
'\t\t\tnum = Math.round(num * 100) / 100;',
'\t\t\tnum = Number(num);',
'\t\t\treturn (num).toLocaleString() + suffix;',
'\t\t}',
'\t\tops.setProgress = function(percent,message,objS3) {',
'\t\t\t//fire system onProgress events',
'\t\t\tif(options.displayProgress) {',
'\t\t\t\tvar i = objS3.number;',
'\t\t\t\t//id_i = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder + \'.\' + (i+1);',
'\t\t\t\tid_i = options.resolvedProgressPlaceholder + \'.\' + (i+1);',
'\t\t\t\tvar ep = $(id_i);',
'\t\t\t\tif(ep) {',
'\t\t\t\t\tif(options.progressStyle == \'text\') ep.innerHTML = percent + \'%\';',
'\t\t\t\t\telse ep.style.width = percent + \'%\';',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tvar e = {',
'\t\t\t\tpercent: percent,',
'\t\t\t\tmessage: message,',
'\t\t\t\tname: objS3.name,',
'\t\t\t\ttargetName: objS3.targetName,',
'\t\t\t\tnumber: objS3.number,',
'\t\t\t\tsize: objS3.size,',
'\t\t\t\ttype: objS3.type',
'\t\t\t}',
'\t\t\tif(typeof objS3.userProgressFunction == \'function\') objS3.userProgressFunction(e);;',
'\t\t}',
'\t\tops.createCORSRequest = function(method, url) {',
'  \t\t\tvar xhr = new XMLHttpRequest();',
'\t\t\t // "withCredentials" only exists on XHR2 objects',
'  \t\t\tif ("withCredentials" in xhr) {',
'  \t\t\t\ttry {',
'    \t\t\t\txhr.open(method, url, true);',
'    \t\t\t} catch(err) {',
'    \t\t\t\talert(\'XHR error - could not open XHR object. This action is not supported in Working Preview if you are using Internet Explorer. Try using Chrome Working Preview.\');',
'    \t\t\t\treturn false;',
'    \t\t\t}',
'\t\t\t} else if (typeof XDomainRequest != "undefined") {',
'\t\t\t    // XDomainRequest only exists in IE',
'    \t\t\txhr = new XDomainRequest();',
'\t\t\t    xhr.open(method, url);',
'  \t\t\t} else {',
'\t\t\t  \t// CORS not supported by this browser',
'    \t\t\txhr = null;',
'\t\t\t  }',
'\t\t  return xhr;',
'\t\t}',
'\t\tops.uploadToS3 = function(file, url, objS3) {',
'\t\t\tvar targetServer = objS3.targetServer;',
'\t\t\tif(typeof targetServer == \'undefined\') targetServer = \'S3\';',
'\t\t\tif(targetServer.toUpperCase() == \'S3\') {',
'\t\t\t\tvar xhr = ops.createCORSRequest(\'PUT\', url);',
'\t\t\t} else {',
'\t\t\t\t//alpha server',
'\t\t\t\tvar additionalInfo = \'\';',
'\t\t\t\tif(typeof options.additionalInfo == \'function\') {',
'\t\t\t\t\tadditionalInfo = options.additionalInfo.call();',
'\t\t\t\t}',
'\t\t\t\tadditionalInfo = A5.ajax.buildURLParam(\'__additionalInfo\',additionalInfo);',
'\t\t\t\tvar AAURI = encodeURI({UXPRERENDEREDALIAS}_DlgObj.ajaxURL + \'&\' + additionalInfo + \'&__Ajax=true&__FormAction=GenericAjaxCallback&_XbasicFunction=system:multifileupload&_xbasic=\' + options.xbasicFunction);',
'\t\t\t\tvar xhr = new XMLHttpRequest();',
'\t\t\t\txhr.open(\'POST\',AAURI,true);',
'\t\t\t}',
'\t\t\tif (!xhr) {',
'\t\t\t\t//ops.setProgress(0, \'CORS not supported\',objS3);',
'\t\t\t\tif(typeof objS3.onError == \'function\') objS3.onError({errorText: \'CORS not supported\', errorCode: -1, fileObject: objS3});',
'\t\t\t  \telse alert(\'CORS not supported\');',
'\t\t\t} else {',
'\t\t\t//capture the xhr object so you can call cancel',
'\t\t\tobjS3.arrS3[objS3.number].xhr = xhr;',
'\t\t\txhr.onload = function() {',
'\t\t\t  if(xhr.status == 200) {',
'\t\t\t\tops.setProgress(100, \'Upload completed.\',objS3);',
'\t\t\t\t//file number is available in objS3.number',
'\t\t\t\tobjS3.uploadCompleteFunction.call(objS3);',
'\t\t\t  } else {',
'\t\t\t\t//ops.setProgress(0, \'Upload error: \' + xhr.status);',
'\t\t\t\tvar responseText = \'\';',
'\t\t\t\tif(typeof xhr.responseText != \'undefined\') responseText = xhr.responseText;',
'\t\t\t\tif(typeof objS3.onError == \'function\') objS3.onError({errorText: \'Upload error\', errorCode: xhr.status, fileObject: objS3, errorText: responseText});',
'\t\t\t  \telse alert(\'XHR error. Reported error:\' + responseText);',
'\t\t\t  }',
'\t\t\t};',
'\t\t\txhr.onerror = function() {',
'\t\t\t  //ops.setProgress(0, \'XHR error.\');',
'\t\t\t  if(typeof objS3.onError == \'function\') objS3.onError({errorText: \'XHR Error\', errorCode: xhr.status, fileObject: objS3});',
'\t\t\t  else alert(\'XHR error\');',
'\t\t\t};',
'\t\t\txhr.upload.onprogress = function(e) {',
'\t\t\t  if (e.lengthComputable) {',
'\t\t\t\tvar percentLoaded = Math.round((e.loaded / e.total) * 100);',
'\t\t\t\tops.setProgress(percentLoaded, percentLoaded == 100 ? \'Finalizing.\' : \'Uploading.\',objS3);',
'\t\t\t  }',
'\t\t\t};',
'\t\t\tif(!options.target) options.target = \'S3\';',
'\t\t\tif(options.target.toUpperCase() == \'S3\') {',
'\t\t\t\txhr.setRequestHeader(\'Content-Type\', file.type);',
'\t\t\t\tif(!objS3.authenticatedRead) {',
'\t\t\t\t\txhr.setRequestHeader(\'x-amz-acl\', \'public-read\');',
'\t\t\t\t} else {',
'\t\t\t\t\txhr.setRequestHeader(\'x-amz-acl\', \'authenticated-read\');',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\t//don\'t bother with headers. they will get set automatically becuase we will be .send()ing a FormData() object',
'\t\t\t}',
'\t\t\tif(targetServer.toUpperCase() == \'S3\') {',
'\t\t\t\txhr.send(file);',
'\t\t\t} else {',
'\t\t\t\t//uploading to alpha server - by using a FormData() object, the content-type headers get set correctly',
'\t\t\t\tvar formData = new FormData();',
'\t\t\t\tformData.append(\'file\',file)',
'\t\t\t\txhr.send(formData);',
'\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tops.handleFileSelect = function(evt) {',
'\t\t\tdelete arrS3;',
'\t\t\tvar arrS3 = [];',
'\t\t\tops.__guid = Number(new Date());',
'\t\t\tvar __guid = ops.__guid;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads = {};',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid] = {};',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'arrS3\'] = arrS3;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'ops\'] = ops;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'options\'] = options;',
'\t\t\tvar files = evt.target.files;',
'\t\t\tvar f = \'\';',
'\t\t\tvar data = \'\';',
'\t\t\tvar targetName = \'\';',
'\t\t\tvar newTargetName = \'\';',
'\t\t\tarrS3.length = 0;',
'\t\t\tfor(var i = 0; i < files.length; i++) {',
'\t\t\t\tf = files[i];',
'\t\t\t\tif(typeof f.name == \'undefined\') {',
'\t\t\t\t\tvar localFileName = \'blobfile.jpg\';',
'\t\t\t\t\tif(typeof options.localFileName != \'undefined\') localFileName = options.localFileName;',
'\t\t\t\t\tf.name = localFileName;',
'\t\t\t\t}',
'\t\t\t\tdelete obji;',
'\t\t\t\tvar obji = {',
'\t\t\t\t\tnumber: i,',
'\t\t\t\t\tname: f.name,',
'\t\t\t\t\tsize: f.size,',
'\t\t\t\t\ttype: f.type,',
'\t\t\t\t\tfile: f,',
'\t\t\t\t\tcompleted: false,',
'\t\t\t\t\taborted: false',
'\t\t\t\t}',
'\t\t\t\tarrS3.push(obji)',
'\t\t\t}',
'\t\t\tvar __guid = ops.__guid;',
'\t\t\t//validate file selection -------------------------------------',
'\t\t\tvar totalSize = 0;',
'\t\t\tif(typeof options.maxFileSize == \'undefined\') options.maxFileSize = -1;',
'\t\t\tvar maxSize = options.maxFileSize;',
'\t\t\tif(maxSize == -1) maxSize = 999999999999999;',
'\t\t\tif(typeof options.maxFileSizeTotal == \'undefined\') options.maxFileSizeTotal = -1;',
'\t\t\tvar maxSizeTotal = options.maxFileSizeTotal;',
'\t\t\tif(maxSizeTotal == -1) maxSizeTotal = 999999999999999;',
'\t\t\tif(typeof options.allowedFileTypes == \'undefined\') options.allowedFileTypes = \'\';',
'\t\t\tvar fileMsg = options.customization.maxFileSize;',
'\t\t\tvar fileTotalMsg = options.customization.totalFileSize;',
'\t\t\tvar typeMsg = options.customization.fileType;',
'\t\t\tvar flagHasValidationFunction = false;',
'\t\t\tif(typeof options.onValidationError == \'function\') flagHasValidationFunction = true;',
'\t\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\t\ttotalSize = totalSize + arrS3[i].size;',
'\t\t\t\t//check size',
'\t\t\t\tif(arrS3[i].size > maxSize) {',
'\t\t\t\t\tif(flagHasValidationFunction) {',
'\t\t\t\t\t\toptions.onValidationError({violationType: \'size\', name: arrS3[i].name, size: arrS3[i].size, type: arrS3[i].type});',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tif(typeof fileMsg != \'undefined\' && fileMsg != \'\') {',
'\t\t\t\t\t\t\tvar msg = fileMsg;',
'\t\t\t\t\t\t\tvar e = arrS3[i];',
'\t\t\t\t\t\t\tmsg = msg.replace(\'[filename]\',e.name);',
'\t\t\t\t\t\t\tmsg = msg.replace(\'[filesize]\',\'\' + e.size);',
'\t\t\t\t\t\t\tmsg = msg.replace(\'[maxfilesize]\',\'\' + maxSize);',
'\t\t\t\t\t\t\talert(msg);',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\talert(\'File exceeds maximum allowed size of \' + maxSize);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\treturn false;',
'\t\t\t\t}',
'\t\t\t\t//check type',
'\t\t\t\tif(options.allowedFileTypes != \'\') {',
'\t\t\t\t\tvar arrT = options.allowedFileTypes.split(\',\');',
'\t\t\t\t\tfor(var i2 = 0; i2 < arrT.length; i2++ ) {',
'\t\t\t\t\t\tarrT[i2] =   $u.s.aTrim(arrT[i2].toLowerCase());',
'\t\t\t\t\t\tarrT[i2] = arrT[i2].replace(\'.\',\'\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar ext = arrS3[i].name.split(\'.\');',
'\t\t\t\t\text = ext[ext.length -1];',
'\t\t\t\t\text = ext.toLowerCase();',
'\t\t\t\t\tvar ia = $u.a.find(arrT,ext);',
'\t\t\t\t\tif(ia == -1) {',
'\t\t\t\t\t\tif(flagHasValidationFunction) {',
'\t\t\t\t\t\t\toptions.onValidationError({violationType: \'type\', name: arrS3[i].name, size: arrS3[i].size, type: arrS3[i].type});',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\tif(typeof typeMsg != \'undefined\' && typeMsg != \'\') {',
'\t\t\t\t\t\t\t\tvar msg = typeMsg;',
'\t\t\t\t\t\t\t\tvar e = arrS3[i];',
'\t\t\t\t\t\t\t\tmsg = msg.replace(\'[filename]\',e.name);',
'\t\t\t\t\t\t\t\tmsg = msg.replace(\'[filetype]\',ext);',
'\t\t\t\t\t\t\t\talert(msg);',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\talert(\'Invalid file type \' + ext);',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\treturn false;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t//check total size',
'\t\t\tif(totalSize > maxSizeTotal) {',
'\t\t\t\t//Selected files ([filecount] files, total size [totalfilesize]) exceed the maximum allowed total file size of [maxtotalfilesize].',
'\t\t\t\tif(flagHasValidationFunction) {',
'\t\t\t\t\toptions.onValidationError({violationType: \'totalSize\', totalSize: totalSize, maxSizeTotal: maxSizeTotal});',
'\t\t\t\t} else {',
'\t\t\t\t\tif(typeof fileTotalMsg != \'undefined\' && fileTotalMsg != \'\') {',
'\t\t\t\t\t\tvar msg = fileTotalMsg;',
'\t\t\t\t\t\tvar e = arrS3[i];',
'\t\t\t\t\t\tmsg = msg.replace(\'[filecount]\',arrS3.length);',
'\t\t\t\t\t\tmsg = msg.replace(\'[totalfilesize]\',\'\' + totalSize);',
'\t\t\t\t\t\tmsg = msg.replace(\'[maxtotalfilesize]\',\'\' + maxSizeTotal);',
'\t\t\t\t\t\talert(msg);',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\talert(\'Files exceeds maximum allowed size of \' + maxSizeTotal);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\treturn false;',
'\t\t\t}',
'\t\t\t//end validate file selection',
'\t\t\tif(typeof options.onAfterFilesSelect == \'function\') {',
'\t\t\t\tvar result = options.onAfterFilesSelect(arrS3);',
'\t\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\t\tif(!result) return false;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tops.__handleFileSelectLow(files,__guid,arrS3)',
'\t\t}',
'\t\tops._generatePlaceholderId = function() {',
'\t\t\tvar txt = options.progressDisplayPlaceholder;',
'\t\t\tvar flagDV = false;',
'\t\t\tif(typeof options.__dv != \'undefined\') flagDV = options.__dv;',
'\t\t\tvar num = txt.split(\'.\')[1];',
'\t\t\tif(!flagDV) {',
'\t\t\t\tvar eleId = _dlgObj.gridId + \'.V.R\'+options.rowNumber+\'._UNBOUND_STATICTEXT_\' + num;',
'\t\t\t} else {',
'\t\t\t\tvar eleId = _dlgObj.gridId + \'.D.V.R\'+options.rowNumber+\'._UNBOUND_STATICTEXT_\' + num;',
'\t\t\t}',
'\t\t\treturn eleId;',
'\t\t}',
'\t\tops.__handleFileSelectLow = function(files,__guid,arrS3) {',
'\t\t\tif(options.displayProgress) {',
'\t\t\t\tif(options.progressDisplayPlaceholder.indexOf(\'ELEMENT:\') == 0) {',
'\t\t\t\t\toptions.resolvedProgressPlaceholder = options.progressDisplayPlaceholder.split(\':\')[1];',
'\t\t\t\t} else {',
'\t\t\t\t\toptions.resolvedProgressPlaceholder = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder',
'\t\t\t\t}',
'\t\t\t\tvar eleP = $(options.resolvedProgressPlaceholder);',
'\t\t\t\tif(options.part == \'grid\') {',
'\t\t\t\t\toptions.resolvedProgressPlaceholder = this._generatePlaceholderId()',
'\t\t\t\t\tvar eleP = $(options.resolvedProgressPlaceholder);',
'\t\t\t\t}',
'\t\t\t\tif(eleP) {',
'\t\t\t\t\teleP.style.display = \'\';',
'\t\t\t\t\tvar arrH = [];',
'\t\t\t\t\tvar id_i = \'\';',
'\t\t\t\t\tvar id_row_i = \'\';',
'\t\t\t\t\tvar html = \'\';',
'\t\t\t\t\tvar html_i = \'\';',
'\t\t\t\t\tvar spanTxt = \'\';',
'\t\t\t\t\tvar flagAllowCancel = options.allowCancel;',
'\t\t\t\t\tif(typeof flagAllowCancel == \'undefined\') flagAllowCancel = false;',
'\t\t\t\t\tif(typeof options.progressStyle == \'undefined\') options.progressStyle = \'bar\';',
'\t\t\t\t\tif(options.progressStyle == \'text\') {',
'\t\t\t\t\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\t\t\t\t\t//id_i = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_i = options.resolvedProgressPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_row_i = id_i + \'.ROW\';',
'\t\t\t\t\t\t\thtml_i = \'\';',
'\t\t\t\t\t\t\thtml_i += \'<tr id="\'+id_row_i+\'">\';',
'\t\t\t\t\t\t\tif(flagAllowCancel) {',
'\t\t\t\t\t\t\t\thtml_i += \'<td><div style="cursor:pointer;padding: 5px;" title="Cancel upload" onclick="{UXPRERENDEREDALIAS}_DlgObj._abortS3Upload(\\\'\'+__guid+\'\\\',\'+i+\',\\\'\'+id_row_i+\'\\\');">X</div></td>\';',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\thtml_i +=\'<td><div>\' + arrS3[i].name + \' (\' + ops.formatNum(arrS3[i].size) + \') <span id=\'+id_i+\'></span> </div></td>\';',
'\t\t\t\t\t\t\thtml_i +=\'</tr>\'',
'\t\t\t\t\t\t\tarrH.push(html_i)',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\thtml = arrH.join(\'\');',
'\t\t\t\t\t\thtml = \'<table>\' + html + \'</table>\'',
'\t\t\t\t\t} else if (options.progressStyle == \'bar\') {',
'\t\t\t\t\t\tvar flagShowFilename = options.showFileNameInProgressBar;',
'\t\t\t\t\t\tif(typeof flagShowFilename == \'undefined\') flagShowFilename = true;',
'\t\t\t\t\t\tvar flagMobile = false;',
'\t\t\t\t\t\tif(typeof options._flagMobile != \'undefined\') flagMobile = options._flagMobile;',
'\t\t\t\t\t\thtml_i = \'\';',
'\t\t\t\t\t\tif(typeof options.progressBarColor == \'undefined\') options.progressBarColor = \'#9fa1e8\';',
'\t\t\t\t\t\tif(typeof options.progressBarWidth == \'undefined\') options.progressBarWidth = \'1.5in\';',
'\t\t\t\t\t\tvar color = options.progressBarColor',
'\t\t\t\t\t\tvar width = options.progressBarWidth;',
'\t\t\t\t\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\t\t\t\t\t//id_i = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_i = options.resolvedProgressPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_row_i = id_i + \'.ROW\';',
'\t\t\t\t\t\t\thtml_i = \'\';',
'\t\t\t\t\t\t\thtml_i += \'<tr id="\'+id_row_i+\'">\';',
'\t\t\t\t\t\t\tif(flagShowFilename) {',
'\t\t\t\t\t\t\t\thtml_i += \'<td>\' + arrS3[i].name + \' (\' + ops.formatNum(arrS3[i].size) + \')</td>\';',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\thtml_i += \'<td>(\' + ops.formatNum(arrS3[i].size) + \')</td>\';',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\thtml_i += \'<td><div style="border: solid 1px \'+color+\'; width: \'+width+\';">\';',
'\t\t\t\t\t\t\thtml_i += \'<div id="\'+id_i+\'"style="width: 0%; height: .05in;  background-color:\'+color+\';"></div></div></td>\';',
'\t\t\t\t\t\t\tif(flagAllowCancel) {',
'\t\t\t\t\t\t\t\thtml_i += \'<td><div style="cursor:pointer;padding: 5px;" title="Cancel upload" onclick="{UXPRERENDEREDALIAS}_DlgObj._abortS3Upload(\\\'\'+__guid+\'\\\',\'+i+\',\\\'\'+id_row_i+\'\\\');">X</div></td>\';',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\thtml_i += \'</tr>\';',
'\t\t\t\t\t\t\tarrH.push(html_i);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\thtml = arrH.join(\'\');',
'\t\t\t\t\t\t//for some reason in ie, this function is getting called a second time and if we don\'t exit here when .length == 0, it will overwrite the progress bar with a null string',
'\t\t\t\t\t\tif(arrH.length == 0) return true;',
'\t\t\t\t\t\thtml = \'<table>\' + html + \'</table>\'',
'\t\t\t\t\t\tif(flagMobile) {',
'\t\t\t\t\t\t\t//mobile upload limited to 1 file and don\'t wrap in table',
'\t\t\t\t\t\t\t//id_i = options.resolvedProgressPlaceholder + \'.\' + (1);',
'\t\t\t\t\t\t\thtml = \'\';',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\teleP.innerHTML = html;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tfor(var i = 0; i < files.length; i++) {',
'\t\t\t\tvar f = files[i];',
'\t\t\t\tvar dataA = [];',
'\t\t\t\tdataA.push(\'_mimeType=\' + f.type);',
'\t\t\t\ttargetName = f.name;',
'\t\t\t\tif(typeof options.targetName == \'function\') {',
'\t\t\t\t\tnewTargetName = options.targetName( f  );',
'\t\t\t\t\tif(typeof newTargetName != \'undefined\') {',
'\t\t\t\t\t\tif(newTargetName != \'\') targetName = newTargetName;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tarrS3[i].targetName = targetName;',
'\t\t\t\tvar targetServer = options.target;',
'\t\t\t\tif(!options.target) targetServer = \'S3\';',
'\t\t\t\tarrS3[i].targetServer = targetServer;',
'\t\t\t\tdataA.push(\'_name=\' + urlencode(targetName));  //name of object in S3',
'\t\t\t\tdataA.push(\'_number=\' + i);',
'\t\t\t\tif(options.specifyCredentials == \'Explicit\') {',
'\t\t\t\t\tdataA.push(\'_xbasicFunctionNameForPropertyValues=\' + options.xbasicFunctionName);',
'\t\t\t\t\tdataA.push(\'_method=explicit\');',
'\t\t\t\t} else {',
'\t\t\t\t\tdataA.push(\'_namedStorageConnectionString=\' + options.connectionString);',
'\t\t\t\t\tdataA.push(\'_method=connectionString\');',
'\t\t\t\t}',
'\t\t\t\tdataA.push(\'_authenticatedRead=\' + options.authenticatedRead);',
'\t\t\t\tdataA.push(\'_part=\' + options.part);',
'\t\t\t\tdata = dataA.join(\'&\');',
'\t\t\t\tif(typeof options.userProgressFunction == \'undefined\') options.userProgressFunction = function(e) {};',
'\t\t\t\tif(typeof options.onCompleteAllFiles == \'undefined\') options.onCompleteAllFiles = function(e) {};',
'\t\t\t\tif(typeof options.onCompleteFile == \'undefined\') options.onCompleteFile = function(e) { };',
'\t\t\t\tvar obj = {',
'\t\t\t\t\t//ajax callback to sign url onComplete',
'\t\t\t\t\tonComplete: function() {',
'\t\t\t\t\t\tvar signedURL = decodeURIComponent(_dlgObj._fileCodedURL);',
'\t\t\t\t\t\tvar num = _dlgObj._fileCodedURLNum;',
'\t\t\t\t\t\tvar fi = arrS3[num].file;',
'\t\t\t\t\t\tvar targetServer = arrS3[num].targetServer;',
'\t\t\t\t\t\tdelete objS3;',
'\t\t\t\t\t\tvar objS3 = {',
'\t\t\t\t\t\t\tuploadCompleteFunction: function() {',
'\t\t\t\t\t\t\t\tthis.arrS3[this.number].completed = true;',
'\t\t\t\t\t\t\t\tvar flagAllCompleted = false;',
'\t\t\t\t\t\t\t\tvar c = 0;',
'\t\t\t\t\t\t\t\tfor(var i = 0; i < this.arrS3.length; i++) {',
'\t\t\t\t\t\t\t\t\tif(this.arrS3[i].completed == true || this.arrS3[i].aborted == true) c = c+1;',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\tif(c == this.arrS3.length) flagAllCompleted = true;',
'\t\t\t\t\t\t\t\tvar e = {',
'\t\t\t\t\t\t\t\t\tname: this.name,',
'\t\t\t\t\t\t\t\t\ttype: this.type,',
'\t\t\t\t\t\t\t\t\tsize: this.size,',
'\t\t\t\t\t\t\t\t\tnumber: this.number,',
'\t\t\t\t\t\t\t\t\tfileArray: this.arrS3,',
'\t\t\t\t\t\t\t\t\ttargetName: arrS3[this.number].targetName',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\toptions.onCompleteFile(e);',
'\t\t\t\t\t\t\t\tif(flagAllCompleted) {',
'\t\t\t\t\t\t\t\t\toptions.onCompleteAllFiles(e);',
'\t\t\t\t\t\t\t\t\tif(options.displayProgress) {',
'\t\t\t\t\t\t\t\t\t\t//var eleP = $(_dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder);',
'\t\t\t\t\t\t\t\t\t\tvar eleP = $(options.resolvedProgressPlaceholder);',
'\t\t\t\t\t\t\t\t\t\tif(eleP) eleP.style.display = \'none\';',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\tdelete {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid];',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t},',
'\t\t\t\t\t\t\tuserProgressFunction: options.userProgressFunction,',
'\t\t\t\t\t\t\tonError: options.onError,',
'\t\t\t\t\t\t\tname: fi.name,',
'\t\t\t\t\t\t\tsize: fi.size,',
'\t\t\t\t\t\t\ttype: fi.type,',
'\t\t\t\t\t\t\tnumber: num,',
'\t\t\t\t\t\t\tarrS3: arrS3,',
'\t\t\t\t\t\t\ttargetName: arrS3[num].targetName,',
'\t\t\t\t\t\t\t__guid: __guid,',
'\t\t\t\t\t\t\tauthenticatedRead: options.authenticatedRead',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tobjS3.targetServer = targetServer;',
'\t\t\t\t\t\tops.uploadToS3(fi,signedURL,objS3);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tops.obj = obj;',
'\t\t\t\tvar reader = new FileReader();',
'\t\t\t\treader.onload = function(e) {',
'\t\t\t\t\tvar eleId = \'\';',
'\t\t\t\t\tvar ele = \'\';',
'\t\t\t\t\tif(typeof options.imageControl != \'undefined\' && options.part == \'ux\') {',
'\t\t\t\t\t\teleId = options.__alias + \'.V.R1.\' + options.imageControl.toUpperCase();',
'\t\t\t\t\t\tele = $(eleId);',
'\t\t\t\t\t\tif(ele) ele.src = e.target.result;',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tvar flagDV = false;',
'\t\t\t\t\t\tif(typeof options.__dv != \'undefined\') flagDV = options.__dv',
'\t\t\t\t\t\tif(flagDV) {',
'\t\t\t\t\t\t\teleId = options.__alias + \'.D.V.R\'+options.rowNumber+\'.\' + options.imageControl.toUpperCase();',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\teleId = options.__alias + \'.V.R\'+options.rowNumber+\'.\' + options.imageControl.toUpperCase();',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tele = $(eleId);',
'\t\t\t\t\t\tif(ele) {',
'\t\t\t\t\t\t\tvar oldSrc = ele.src;',
'\t\t\t\t\t\t\t_dlgObj.__oldImage = oldSrc;',
'\t\t\t\t\t\t\tele.src = e.target.result;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\treader.onerror = function(e) {',
'\t\t\t\t\talert(\'error123\');',
'\t\t\t\t}',
'\t\t\t\tif(typeof options.imageControl != \'undefined\') reader.readAsDataURL(f);',
'\t\t\t\tvar flagTargetIsServer = false;',
'\t\t\t\tif(typeof options.target != \'undefined\') {',
'\t\t\t\t\tif(options.target.toLowerCase() == \'server\') flagTargetIsServer = true;',
'\t\t\t\t}',
'\t\t\t\tif(!flagTargetIsServer) {',
'\t\t\t\t\t_dlgObj.ajaxCallback(\'\',\'\',\'a5DialogHelper_signAmazonS3FileUploadURL\',\'\',data,obj);',
'\t\t\t\t} else {',
'\t\t\t\t\t//no need to sign the url for target = \'alpha\'',
'\t\t\t\t\t_dlgObj._fileCodedURLNum = i;',
'\t\t\t\t\tobj.onComplete();',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\t//$e.add($(this.dialogId + \'._GETFILEMULTI\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__amazonS3fileupload\');',
'\t\t$e.removeGroup(\'__amazonS3fileupload\')',
'\t\t//bind the change event to the file selector',
'\t\tif(options.allowMultipleFiles) {',
'\t\t\tif(typeof this._getFileMultiListenerLoaded == \'undefined\') {',
'\t\t\t\t//this._getFileMultiListenerLoaded = true;',
'\t\t\t\t//$(this.dialogId + \'._GETFILEMULTI\').addEventListener(\'change\',ops.handleFileSelect,false);',
'\t\t\t\t$e.add($(this.dialogId + \'._GETFILEMULTI\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__amazonS3fileupload\');',
'\t\t\t}',
'\t\t\teleB = $(this.dialogId + \'._GETFILEMULTI\');',
'\t\t} else {',
'\t\t\tif(typeof this._getFileListenerLoaded == \'undefined\') {',
'\t\t\t\t//this._getFileListenerLoaded = true;',
'\t\t\t\t//$(this.dialogId + \'._GETFILE\').addEventListener(\'change\',ops.handleFileSelect,false);',
'\t\t\t\t$e.add($(this.dialogId + \'._GETFILE\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__amazonS3fileupload\');',
'\t\t\t}',
'\t\t\teleB = $(this.dialogId + \'._GETFILE\');',
'\t\t}',
'\t\tvar flagFilePassedIn = false;',
'\t\tif(typeof options.flagFilePassedIn != \'undefined\') {',
'\t\t\tflagFilePassedIn = options.flagFilePassedIn',
'\t\t}',
'\t\tif(!flagFilePassedIn) {',
'\t\t\teleB.value = \'\';',
'\t\t\teleB.click();',
'\t\t\teleB.value = \'\';',
'\t\t} else {',
'\t\t\t//options.filePassedIn',
'\t\t\tvar evt = {};',
'\t\t\tevt.target = {};',
'\t\t\tevt.target.files = [];',
'\t\t\tevt.target.files[0] = options.filePassedIn;',
'\t\t\tops.handleFileSelect(evt);',
'\t\t}',
'\t}',
'\t////==== upload PhoneGap /////////////////////////////////////////////////////',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileUpload = function(arr,options) {',
'\t\tvar _dlgObj = this;',
'\t\t//arr is an array of files to upload. arr must have a .filename property in each item',
'\t\tif(typeof LocalFileSystem == \'undefined\') {',
'\t\t\tif(typeof cordova == \'undefined\') {',
'\t\t\t\talert(\'Method not supported when not running in PhoneGap\');',
'\t\t\t} else {',
'\t\t\t\talert(\'Required PhoneGap plugins not loaded.\');',
'\t\t\t}',
'\t\t\treturn false;',
'\t\t}',
'\t\t//initialize variables',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tarr[i].name = arr[i].filename;',
'\t\t\tarr[i].number = i;',
'\t\t\tarr[i].completed = false;',
'\t\t\tarr[i].aborted = false;',
'\t\t\tarr[i].succeeded = false;',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: generateProgressBarsHTML -------------',
'\t\tvar generateProgressBarsHTML = function (ops,count) {',
'\t\t\tvar eleTarget = ops.progressElement;',
'\t\t\teleTarget = eleTarget.toUpperCase();',
'\t\t\tvar html = \'\';',
'\t\t\tvar html_i = \'\';',
'\t\t\tvar name_i = \'\';',
'\t\t\tvar progress_i = \'\';',
'\t\t\tvar idName = \'\';',
'\t\t\tvar idProgress = \'\';',
'\t\t\tif(ops.individualProgress) {',
'\t\t\t\tfor(var  i = 0; i < count; i++) {',
'\t\t\t\t\tname_i = \'Name: \' + i;',
'\t\t\t\t\tprogress_i = \'Progress...\' + i;',
'\t\t\t\t\tidProgress = eleTarget + \'.PROGRESS.\' + i;',
'\t\t\t\t\tidName = eleTarget + \'.NAME.\' + i;',
'\t\t\t\t\tprogress_i = \'<div style="border: solid 1px \'+ops.color+\'; width: \'+ops.width+\';">\';',
'\t\t\t\t\tprogress_i += \'<div id="\'+idProgress+\'"style="width: 0%; height: .05in;  background-color:\'+ops.color+\';"></div></div></td>\';',
'\t\t\t\t\thtml_i = \'<td id="\'+idName+\'">name \'+name_i+\'</td><td>\'+progress_i+\'</td>\';',
'\t\t\t\t\thtml_i = \'<tr>\' + html_i + \'</tr>\';',
'\t\t\t\t\thtml = html + html_i;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(ops.showTotalProgress) {',
'\t\t\t\tidProgress = eleTarget + \'.PROGRESS.TOTAL\';',
'\t\t\t\tidName = eleTarget + \'.NAME.TOTAL\';',
'\t\t\t\tprogress_i = \'<div style="border: solid 1px \'+ops.color+\'; width: \'+ops.width+\';">\';',
'\t\t\t\tprogress_i += \'<div id="\'+idProgress+\'"style="width: 0%; height: .05in;  background-color:\'+ops.color+\';"></div></div></td>\';',
'\t\t\t\thtml_i = \'<td id="\'+idName+\'"></td><td>\'+progress_i+\'</td>\';',
'\t\t\t\thtml_i = \'<tr>\' + html_i + \'</tr>\';',
'\t\t\t\thtml = html + html_i',
'\t\t\t}',
'\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\thtml = \'<div id="\'+idProgress+\'"><table>\' + html + \'</table><div>\';',
'\t\t\t$(eleTarget).innerHTML = html;',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: phoneGapUploadDoWork -------------',
'\t\tvar phoneGapUploadDoWork = function(arr,options) {',
'\t\t\tif(options.target.toLowerCase() == \'s3\') {',
'\t\t\t\t//s3',
'\t\t\t\tvar xbasicFunction = \'a5dialogHelper_systemSignS3Policy\';',
'\t\t\t\tvar data = A5.ajax.buildURLParam(\'_jsonOptions\',JSON.stringify(options));',
'\t\t\t\tvar ajaxObj = {',
'\t\t\t\t\terrorFunction: function() {',
'\t\t\t\t\t\tif(typeof options.onAjaxFailed == \'function\') options.onAjaxFailed();',
'\t\t\t\t\t},',
'\t\t\t\t\tonComplete: function() {',
'\t\t\t\t\t\tvar startUploadLocal = function() {',
'\t\t\t\t\t\t\tvar totalSize = 0;',
'\t\t\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\t\t\ttotalSize = totalSize + Number(arr[i].size);',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tvar _sysObj = {};',
'\t\t\t\t\t\t\t_sysObj.totalBytesToUpload = totalSize;',
'\t\t\t\t\t\t\tvar flagMobile = false;',
'\t\t\t\t\t\t\tif(typeof options._flagMobile != \'undefined\') flagMobile = options._flagMobile;',
'\t\t\t\t\t\t\toptions._flagMobile = flagMobile;',
'\t\t\t\t\t\t\tif(options.showProgress && !flagMobile) generateProgressBarsHTML(options.progress,arr.length);',
'\t\t\t\t\t\t\t//alert(\'ready to start uploading files: total \' + totalSize);',
'\t\t\t\t\t\t\tstartUploadFilesToS3(_sysObj,options);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tvar _sTop = {};',
'\t\t\t\t\t\tgetFileSizesForAllItemsInArray(startUploadLocal,_sTop);',
'\t\t\t\t\t},',
'\t\t\t\t\tdeviceOfflineFunction: function() {',
'\t\t\t\t\t\tif(typeof options.onDeviceOffline == \'function\') options.onDeviceOffline();',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',xbasicFunction,\'\',data,ajaxObj);',
'\t\t\t} else {',
'\t\t\t\t//alpha server',
'\t\t\t\tvar startUploadLocal = function() {',
'\t\t\t\t\tvar totalSize = 0;',
'\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\ttotalSize = totalSize + Number(arr[i].size);',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _sysObj = {};',
'\t\t\t\t\t_sysObj.totalBytesToUpload = totalSize;',
'\t\t\t\t\tif(options.showProgress) generateProgressBarsHTML(options.progress,arr.length);',
'\t\t\t\t\tstartUploadFilesToS3(_sysObj,options);',
'\t\t\t\t}',
'\t\t\t\tvar _sTop = {};',
'\t\t\t\tgetFileSizesForAllItemsInArray(startUploadLocal,_sTop);',
'\t\t\t}',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: getFileSizesForAllItemsInList',
'\t\tvar getFileSizesForAllItemsInArray = function(allDone_GotAllFileSizes_Callback, _sTop)  {',
'\t\t\tvar _s = {count: 0};',
'\t\t\tvar getFileSizesForAllItemsInArrayLow = function (arr,r,count,callback,_s,_sTop) {',
'\t\t\t\tvar rowNumber = r;',
'\t\t\t\tvar url = arr[r].filename;',
'\t\t\t\tvar resolveLocalFileURL_SUCCESS = function(fileEntry) {',
'\t\t\t\t\tvar file_SUCCESS = function(f) {',
'\t\t\t\t\t\tarr[r].size = f.size;',
'\t\t\t\t\t\t_s.count = _s.count + 1;',
'\t\t\t\t\t\tif(_s.count == count) {',
'\t\t\t\t\t\t\tcallback(_sTop);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tfileEntry.file(file_SUCCESS);',
'\t\t\t\t}',
'\t\t\t\t//on iphone, video capture does not return a file with the file:// prefix',
'\t\t\t\tvar urlToResolve = url;',
'\t\t\t\tif(url.indexOf(\'file:\') != 0) {',
'\t\t\t\t\turlToResolve = urlToResolve.replace(\'/private\',\'file:\\/\\/\');',
'\t\t\t\t}',
'\t\t\t\twindow.resolveLocalFileSystemURL(urlToResolve, resolveLocalFileURL_SUCCESS, function() { } );',
'\t\t\t}',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tgetFileSizesForAllItemsInArrayLow(arr,i,arr.length,allDone_GotAllFileSizes_Callback,_s,_sTop)',
'\t\t\t}',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: startUploadFilesToS3',
'\t\tvar startUploadFilesToS3 = function(_sysObj,options) {',
'\t\t\t//_sysObj.totalBytesToUpload;',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tupLoadFilesToS3Work(arr[i].filename,arr,i,_sysObj,options)',
'\t\t\t}',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: s3SignedPolicy',
'\t\tvar s3SignedPolicy = function() {',
'\t\t\tvar obj = {};',
'\t\t\tobj.hasError = {UXPRERENDEREDALIAS}_DlgObj._pgS3.hasError;',
'\t\t\tobj.policyBase64 = {UXPRERENDEREDALIAS}_DlgObj._pgS3.policyBase64;',
'\t\t\tobj.signature = {UXPRERENDEREDALIAS}_DlgObj._pgS3.signature;',
'\t\t\tobj.userKey = {UXPRERENDEREDALIAS}_DlgObj._pgS3.accessKey;',
'\t\t\tobj.acl = {UXPRERENDEREDALIAS}_DlgObj._pgS3.acl;',
'\t\t\tobj.bucket = {UXPRERENDEREDALIAS}_DlgObj._pgS3.bucket;',
'\t\t\treturn obj;',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: uploadFilesToS3Work',
'\t\tvar upLoadFilesToS3Work = function(filenameURI,arr,fileNumber,_sysObj, actionOptions) {',
'\t\t\t//alert(\'actionOptions.target: \' + actionOptions.target);  s3 or alphaanywhere',
'\t\t\tvar fileName = filenameURI.substr(filenameURI.lastIndexOf(\'/\')+1);',
'\t\t\tvar targetName = fileName;',
'\t\t\tif(typeof actionOptions.onComputeS3Filename == \'function\') {',
'\t\t\t\tvar e = {name: targetName, object: arr[fileNumber]};',
'\t\t\t\tvar newTargetName = actionOptions.onComputeS3Filename(e);',
'\t\t\t\tif(typeof newTargetName == \'undefined\') newTargetName = targetName;',
'\t\t\t\tif(newTargetName == \'\') newTargetName = targetName;',
'\t\t\t\ttargetName = newTargetName;',
'\t\t\t}',
'\t\t\t//on iphone video name is always \'capturedvideo.mov\' (in a unique subfolder)',
'\t\t\tif(targetName.toLowerCase() == \'capturedvideo.mov\') {',
'\t\t\t\ttargetName = A5.UUID() + \'_video.MOV\';',
'\t\t\t}',
'\t\t\tarr[fileNumber].targetName = targetName; //use name that event returned',
'\t\t\tvar ft = new FileTransfer();',
'\t\t\tvar options = new FileUploadOptions();',
'\t\t\toptions.fileKey = "file";',
'\t\t\toptions.fileName = targetName;',
'\t\t\toptions.mimeType = "image/jpeg";',
'\t\t\toptions.chunkedMode = false;',
'\t\t\tif(actionOptions.target == \'alphaanywhere\') {',
'\t\t\t\tvar s3URI = encodeURI( $u.s.aTrim({UXPRERENDEREDALIAS}_DlgObj.ajaxURL));',
'\t\t\t\t//s3URI = \'junk\'; //force a file upload error',
'\t\t\t\t//alert(\'remember to turn this off\');',
'\t\t\t\tvar xbasicAfterUpload = actionOptions.xbasicAfterFileUploaded',
'\t\t\t\tvar specialMode = \'\';',
'\t\t\t\tif(typeof actionOptions.specialMode != \'undefined\') specialMode = actionOptions.specialMode;',
'\t\t\t\toptions.params = {',
'\t\t\t\t\t"_XbasicFunction" : "system:phonegapfileupload",',
'\t\t\t\t\t"__Ajax" : "true",',
'\t\t\t\t\t"__FormAction" : "GenericAjaxCallback",',
'\t\t\t\t\t"__FormID" : "",',
'\t\t\t\t\t"__xbasicAfterUpload" : xbasicAfterUpload,',
'\t\t\t\t\t"__arrayIndex" : fileNumber,',
'\t\t\t\t\t"__actionOptions" : JSON.stringify(actionOptions),',
'\t\t\t\t\t"__specialMode" : specialMode,',
'\t\t\t\t\t"__targetName" : targetName,',
'\t\t\t\t\t"__arrayItem" : JSON.stringify(arr[fileNumber]),',
'\t\t\t\t\t"__ajaxURL" : $u.s.aTrim({UXPRERENDEREDALIAS}_DlgObj.ajaxURL)',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\t//s3',
'\t\t\t\tvar obj = s3SignedPolicy();',
'\t\t\t\tvar s3URI = encodeURI(\'https://\' + obj.bucket + \'.s3.amazonaws.com/\'),',
'\t\t\t\t\tpolicyBase64 = obj.policyBase64,',
'\t\t\t\t\tsignature = obj.signature,',
'\t\t\t\t\tawsKey = obj.userKey,',
'\t\t\t\t\tacl = obj.acl;',
'\t\t\t\toptions.params = {',
'\t\t\t\t\t"key": targetName,',
'\t\t\t\t\t"AWSAccessKeyId": awsKey,',
'\t\t\t\t\t"acl": acl,',
'\t\t\t\t\t"policy": policyBase64,',
'\t\t\t\t\t"signature": signature,',
'\t\t\t\t\t"Content-Type": "image/jpeg"',
'\t\t\t\t};',
'\t\t\t}',
'\t\t\tvar setProgress = function(progressId,fileNumber,pctComplete) {',
'\t\t\t\tvar id = \'\';',
'\t\t\t\tvar countCompleted = 0;',
'\t\t\t\tif(fileNumber == \'total\') {',
'\t\t\t\t\tid = progressId + \'.PROGRESS.TOTAL\';',
'\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\tif(arr[i].completed) countCompleted = countCompleted + 1;',
'\t\t\t\t\t}',
'\t\t\t\t\tvar idN = progressId + \'.NAME.TOTAL\';',
'\t\t\t\t\tvar ele = $(idN);',
'\t\t\t\t\t//if(ele) ele.innerHTML = \'Completed: \' + countCompleted +  \' of \' + arr.length;',
'\t\t\t\t} else {',
'\t\t\t\t\tid = progressId + \'.PROGRESS.\' + fileNumber;',
'\t\t\t\t}',
'\t\t\t\tvar ele = $(id);',
'\t\t\t\tif(ele) ele.style.width = pctComplete + \'%\';',
'\t\t\t\tvar idP = progressId + \'.PROGRESSDISPLAY\';',
'\t\t\t\tele = $(idP);',
'\t\t\t\tif(ele) ele.style.display = \'\';',
'\t\t\t}',
'\t\t\tft.onprogress = function(progressEvent) {',
'\t\t\t\tvar totalBytesToTransfer = _sysObj.totalBytesToUpload',
'\t\t\t\tif(typeof _sysObj.workDone == \'undefined\') {',
'\t\t\t\t\t_sysObj.workDone = [];',
'\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\t_sysObj.workDone[i] = 0;',
'\t\t\t\t\t}',
'\t\t\t\t };',
'\t\t\t\t_sysObj.workDone[fileNumber] = progressEvent.loaded;',
'\t\t\t\tvar gTotal = 0;',
'\t\t\t\tfor(var i = 0; i < _sysObj.workDone.length; i++) {',
'\t\t\t\t\tif(typeof _sysObj.workDone[i] != \'undefined\') {',
'\t\t\t\t\t\tgTotal = gTotal + _sysObj.workDone[i];',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar progressId = actionOptions.progress.progressElement;',
'\t\t\t\tif (progressEvent.lengthComputable) {',
'\t\t\t\t\tvar pctComplete = (progressEvent.loaded / progressEvent.total)*100;',
'\t\t\t\t\tif(pctComplete > 100) pctComplete = 100;',
'\t\t\t\t\tpctComplete = $u.n.round(pctComplete,4);',
'\t\t\t\t\tif(actionOptions.showProgress) setProgress(progressId,fileNumber,pctComplete);',
'\t\t\t\t\tif(typeof actionOptions.onProgressEvent == \'function\') {',
'\t\t\t\t\t\tactionOptions.onProgressEvent(arr, fileNumber, pctComplete, progressEvent.loaded, progressEvent.total);',
'\t\t\t\t\t}',
'\t\t\t\t\tvar pctCompleteTotal = (gTotal / totalBytesToTransfer) * 100;',
'\t\t\t\t\tif(pctCompleteTotal > 100) pctCompleteTotal = 100;',
'\t\t\t\t\tpctCompleteTotal = $u.n.round( pctCompleteTotal,4);',
'\t\t\t\t\tif(actionOptions.showProgress) setProgress(progressId,\'total\',pctCompleteTotal);',
'\t\t\t\t\tif(typeof actionOptions.onProgressEvent == \'function\') {',
'\t\t\t\t\t\tactionOptions.onProgressEvent(arr, \'total\', pctCompleteTotal, gTotal, totalBytesToTransfer);',
'\t\t\t\t\t}',
'\t\t\t\t\tif(actionOptions._flagMobile) {',
'\t\t\t\t\t\tif($(\'MOBILEUPLOADPROGRESS.1\')) $(\'MOBILEUPLOADPROGRESS.1\').style.width = pctCompleteTotal + \'%\';',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\t//progress messages not possible -- should never happen',
'\t\t\t\t}',
'\t\t\t};',
'\t\t\tvar _hasCompleted = function() {',
'\t\t\t\tvar flagAllDone = true;',
'\t\t\t\tfor(var i = 0; i < arr.length; i ++) {',
'\t\t\t\t\tif(arr[i].completed == false) {',
'\t\t\t\t\t\tflagAllDone = false;',
'\t\t\t\t\t\tbreak;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\treturn flagAllDone;',
'\t\t\t}',
'\t\t\tvar fileUploadSuccess = function(r) {',
'\t\t\t\tarr[fileNumber].completed = true;',
'\t\t\t\tarr[fileNumber].succeeded = true;',
'\t\t\t\tarr[fileNumber].remoteName = arr[fileNumber].targetName;',
'\t\t\t\t//for uploads to AlphaAnywhere, the Xbasic function that is called can send a response',
'\t\t\t\tif(r.response != \'undefined\') {',
'\t\t\t\t\tif(r.response != \'\') eval(r.response);',
'\t\t\t\t};',
'\t\t\t\t//if the targer is the Alpha server and the Xbasic handler sent a response that set the \'targetFileName\' property',
'\t\t\t\tvar target = actionOptions.target.toLowerCase();',
'\t\t\t\tif(target == \'s3\') {',
'\t\t\t\t\tif(typeof actionOptions.s3.template != \'undefined\') {',
'\t\t\t\t\t\tarr[fileNumber].remoteName = actionOptions.s3.template.replace(\'__name__\',arr[fileNumber].targetName);',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\tif(typeof arr[fileNumber].targetFileName != \'undefined\') {',
'\t\t\t\t\t\tarr[fileNumber].remoteName = arr[fileNumber].targetFileName;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(typeof actionOptions.onCompleteIndividualFile == \'function\') {',
'\t\t\t\t\tactionOptions.onCompleteIndividualFile(arr,fileNumber);',
'\t\t\t\t}',
'\t\t\t\tvar flagAllDone = _hasCompleted();',
'\t\t\t\tif(flagAllDone) {',
'\t\t\t\t\tvar progressId = actionOptions.progress.progressElement;',
'\t\t\t\t\tvar idP = progressId + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\tvar ele = $(idP);',
'\t\t\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t\t\t\tif(typeof actionOptions.onComplete == \'function\') {',
'\t\t\t\t\t\tactionOptions.onComplete(arr);',
'\t\t\t\t\t};',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tvar _hideProgress = function() {',
'\t\t\t\tvar progressId = actionOptions.progress.progressElement;',
'\t\t\t\tvar idP = progressId + \'.PROGRESSDISPLAY\';',
'\t\t\t\tvar ele = $(idP);',
'\t\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t\t}',
'\t\t\tvar fileUploadFailed = function(error) {',
'\t\t\t\tarr[fileNumber].failed = true;',
'\t\t\t\tarr[fileNumber].completed = true;',
'\t\t\t\tif(typeof actionOptions.onError == \'function\') {',
'\t\t\t\t\tactionOptions.onError(arr,fileNumber,error);',
'\t\t\t\t}',
'\t\t\t\tif(typeof actionOptions.onCompleteIndividualFile == \'function\') {',
'\t\t\t\t\tactionOptions.onCompleteIndividualFile(arr,fileNumber);',
'\t\t\t\t}',
'\t\t\t\tvar flagAllDone = _hasCompleted();',
'\t\t\t\tif(flagAllDone) {',
'\t\t\t\t\t_hideProgress();',
'\t\t\t\t\tif(typeof actionOptions.onComplete == \'function\') {',
'\t\t\t\t\t\tactionOptions.onComplete(arr);',
'\t\t\t\t\t}',
'\t\t\t\t};',
'\t\t\t}',
'\t\t\tvar flagOK = true;',
'\t\t\tif(typeof actionOptions.onValidate == \'function\') {',
'\t\t\t\tvar result = actionOptions.onValidate(arr,fileNumber);',
'\t\t\t\tif(typeof result != \'undefined\') flagOK = result;',
'\t\t\t}',
'\t\t\t//do the upload',
'\t\t\tif(flagOK) {',
'\t\t\t\tvar flagTrustAllHosts = false;',
'\t\t\t\tif(typeof _dlgObj != \'undefined\') {',
'\t\t\t\t\tif(typeof _dlgObj._phoneGapTrustAllHosts != \'undefined\') {',
'\t\t\t\t\t\tflagTrustAllHosts = _dlgObj._phoneGapTrustAllHosts;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tft.upload(filenameURI, s3URI, fileUploadSuccess, fileUploadFailed, options,flagTrustAllHosts);',
'\t\t\t} else {',
'\t\t\t\tarr[fileNumber].aborted = true;',
'\t\t\t\tarr[fileNumber].completed = true;',
'\t\t\t}',
'\t\t}',
'\t\tphoneGapUploadDoWork(arr,options);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectory = function(dirName, onComplete, onError) {',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\t//got the filesystem',
'\t\t\tvar onDirCreateSuccess = function(dirEntry) {',
'\t\t\t\tif(typeof onComplete == \'function\') {',
'\t\t\t\t\tonComplete();',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tfs.root.getDirectory(dirName, {create: true},onDirCreateSuccess, onError);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectoryRecurse = function(dirName, onComplete, onError) {',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\tvar prepareWork = function(dir) {',
'\t\t\tvar arr = dir.split(\'/\');',
'\t\t\tvar arr3 = [];',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tvar arr2 = [];',
'\t\t\t\tfor(var k = 0; k < i + 1; k++) {',
'\t\t\t\t\tarr2.push(arr[k]);',
'\t\t\t\t}',
'\t\t\t\tarr3.push(arr2.join(\'/\'));',
'\t\t\t}',
'\t\t\treturn arr3;',
'\t\t}',
'\t\tvar arr = prepareWork(dirName);',
'\t\tvar count = 0;',
'\t\tvar onCompleteLocal = function() {',
'\t\t\tif(count == arr.length) {',
'\t\t\t\tonComplete();',
'\t\t\t} else {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectory(arr[count],onCompleteLocal,onError);',
'\t\t\t\t++count;',
'\t\t\t}',
'\t\t}',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectory(arr[count],onCompleteLocal,onError);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectory = function(dirName, onComplete, onError) {',
'\t\t//calls onComplete with an array of files in the directory',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\t//got filesystem event handler',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tif(dirName.indexOf(\'/\') == 0) dirName = dirName.substring(1);',
'\t\t\t//got the fileSystem',
'\t\t\t//alert(\'got fs - dirName:  \' + dirName);',
'\t\t\tfs.root.getDirectory(dirName,{},function(e) {',
'\t\t\tvar dirReader = e.createReader();',
'\t\t\tvar listFiles = function(entries) {',
'\t\t\t\tvar fileCount = entries.length;',
'\t\t\t\tvar arr = [];',
'\t\t\t\tvar displayName = \'\';',
'\t\t\t\tfor(var i = 0; i < fileCount ; i++) {',
'\t\t\t\t\tif(entries[i].isFile) displayName = entries[i].fullPath + \' [F]\';',
'\t\t\t\t\telse displayName = entries[i].fullPath + \' [D]\';',
'\t\t\t\t\tarr.push( {fullPath: entries[i].fullPath, isFile: entries[i].isFile, display: displayName } );',
'\t\t\t\t}',
'\t\t\t\tif(typeof onComplete == \'function\') {',
'\t\t\t\t\tonComplete(arr);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tdirReader.readEntries(listFiles,onError);',
'\t\t},onError);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectoryRecurse = function(folder, onDirComplete, onDirError) {',
'\t\t//onDirComplete gets called with files, an array of all files. each array entry has a \'fileName\' property.',
'\t\tvar files = [];',
'\t\tvar pending = 0;',
'\t\tvar onComplete = function(array) {',
'\t\t\tfor(var i = 0; i < array.length; i++) {',
'\t\t\t\tif(array[i].isFile) {',
'\t\t\t\t\tfiles.push({fullPath: array[i].fullPath, isFile: true, display: array[i].fullPath + \' [F]\'})',
'\t\t\t\t} else {',
'\t\t\t\t\t++pending;',
'\t\t\t\t\tfiles.push({fullPath: array[i].fullPath, isFile: false, display: array[i].fullPath + \' [D]\'})',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectory(array[i].fullPath,onComplete,onError)',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t--pending;',
'\t\t\tif(pending == 0) {',
'\t\t\t\tonDirComplete(files);',
'\t\t\t}',
'\t\t}',
'\t\tvar onError = function(err) {',
'\t\t\tif(typeof onDirError == \'function\') {',
'\t\t\t\tonDirError(err);',
'\t\t\t\tonDirComplete = function() { } //prevent the all complete from firing',
'\t\t\t}',
'\t\t\telse alert(\'Error\');',
'\t\t}',
'\t\t++pending;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectory(folder,onComplete,onError);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectory = function(dirName,onSuccess,onError,flagRecursive) {',
'\t\tif(typeof flagRecursive == \'undefined\') flagRecursive = false;',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar gotDirectory = function(dirEntry) {',
'\t\t\t\tif(flagRecursive) {',
'\t\t\t\t\tdirEntry.removeRecursively(function() {',
'\t\t\t\t\t\tif(typeof onSuccess == \'function\') onSuccess();',
'\t\t\t\t\t},onError);',
'\t\t\t\t} else {',
'\t\t\t\t\tdirEntry.remove(function() {',
'\t\t\t\t\t\tif(typeof onSuccess == \'function\') onSuccess();',
'\t\t\t\t\t},onError);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t//if you cant find the dir then it is effectively removed, so call onSuccess',
'\t\t\tfs.root.getDirectory(dirName, {}, gotDirectory, onSuccess);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectoryRecurse = function(dirName,onSuccess,onError) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectory(dirName,onSuccess,onError,true);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFile = function(fileName,onSuccess,onError) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tfs.root.getFile(fileName, {create: false}, function(f) {',
'\t\t\t\tf.remove( function() {',
'\t\t\t\t\tif(typeof onSuccess == \'function\') {',
'\t\t\t\t\t\tonSuccess();',
'\t\t\t\t\t}',
'\t\t\t\t}, onError );',
'\t\t\t}, onError);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileExists = function(fileName,onResult,onFailed) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar gotFile = function(f) {',
'\t\t\t\tif(typeof onResult == \'function\') onResult(true);',
'\t\t\t}',
'\t\t\tvar didNotGetFile = function() {',
'\t\t\t\tif(typeof onResult == \'function\') onResult(false);',
'\t\t\t}',
'\t\t\tfs.root.getFile(fileName, {create: false}, gotFile,didNotGetFile);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onFailed );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapReadFile = function(fileName,onReadFile,onReadFileERROR,startAt,endAt) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar readFile = function(f) {',
'\t\t\t\tf.file( function(e) {',
'\t\t\t\t\treader = new FileReader();',
'\t\t\t\t\treader.onloadend = function(e) {',
'\t\t\t\t\t\tif(typeof onReadFile == \'function\') {',
'\t\t\t\t\t\t\tonReadFile(e.target.result);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tif(typeof startAt == \'undefined\' || typeof endAt == \'undefined\') {',
'\t\t\t\t\t\treader.readAsText(e);',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tvar blob = e.slice(startAt,endAt);',
'\t\t\t\t\t\treader.readAsText(blob);',
'\t\t\t\t\t}',
'\t\t\t\t});',
'\t\t\t}',
'\t\t\tfs.root.getFile(fileName, {create: false}, readFile, onReadFileERROR);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onReadFileERROR );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj._phoneGapCreateFile_low = function(fileName,text,onCreatedFile,onCreateFileERROR) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar writeFileData = function(f) {',
'\t\t\t\tvar doFileWrite = function(writerObject) {',
'\t\t\t\t\twriterObject.onwrite = function() {',
'\t\t\t\t\t\tif(typeof onCreatedFile == \'function\') onCreatedFile();',
'\t\t\t\t\t}',
'\t\t\t\t\twriterObject.seek(writerObject.length);',
'\t\t\t\t\tvar blob = new Blob([text], {type: \'text/plain\'});',
'\t\t\t\t\twriterObject.write(blob);',
'\t\t\t\t}',
'\t\t\t\tf.createWriter(doFileWrite);',
'\t\t\t}',
'\t\t\tfs.root.getFile(fileName, {create:true}, writeFileData, onCreateFileERROR);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onCreateFileERROR );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateFile = function(fileName,text,onCreatedFile,onCreateFileERROR,flagAppend) {',
'\t\tif(fileName == \'\') {if(typeof onCreateFileERROR == \'function\') onCreateFileERROR(); return false;}',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tif(!flagAppend) {',
'\t\t\t\tvar onDelete = function() {',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._phoneGapCreateFile_low(fileName,text,onCreatedFile,onCreateFileERROR);',
'\t\t\t\t}',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFile(fileName,onDelete,onDelete)',
'\t\t\t} else {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._phoneGapCreateFile_low(fileName,text,onCreatedFile,onCreateFileERROR)',
'\t\t\t}',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onCreateFileERROR );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileDownload = function(arr,options) {',
'\t\tvar flagCustomOnError = false;',
'\t\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents != \'undefined\') flagCustomOnError = {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents;',
'\t\tif(!flagCustomOnError) window.onerror = function(err) { alert(\'Unhandled Javascript Error - phoneGapFileDownload:  \' + JSON.stringify(err));}',
'\t\tvar _dlgObj = this;',
'\t\tif(typeof LocalFileSystem == \'undefined\') {',
'\t\t\tif(typeof cordova == \'undefined\') {',
'\t\t\t\talert(\'Method not supported when not running in PhoneGap\');',
'\t\t\t} else {',
'\t\t\t\talert(\'Required PhoneGap plugins not loaded.\');',
'\t\t\t}',
'\t\t\treturn false;',
'\t\t}',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\t//got filesystem event handler',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tarr[i].handled = false;',
'\t\t\tarr[i].downloaded = false;',
'\t\t\tarr[i].sourceType = \'server\';',
'\t\t\tif(arr[i].filename.toLowerCase().indexOf(\'http://\') == 0) arr[i].sourceType = \'url\';',
'\t\t\tif(arr[i].filename.toLowerCase().indexOf(\'https://\') == 0) arr[i].sourceType = \'url\';',
'\t\t\tif(arr[i].sourceType == \'url\') {',
'\t\t\t\tarr[i].sourceFilename = arr[i].filename.split(\'/\').pop().split(\'?\')[0];',
'\t\t\t}',
'\t\t}',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar baseDirectory = fs.root.toURL();',
'\t\t\tvar url = {UXPRERENDEREDALIAS}_DlgObj.ajaxURL;',
'\t\t\turl = url.split(\'?\')[0];',
'\t\t\turl = url.split(\'/\');',
'\t\t\turl.pop();',
'\t\t\turl = url.join(\'/\') + \'/\';',
'\t\t\toptions._serverURL = url;',
'\t\t\toptions._baseDirectory = baseDirectory;',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t//arr[i].localFileName = false;',
'\t\t\t}',
'\t\t\tif(options.showProgress) {',
'\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\tvar idProgress = eleTarget;',
'\t\t\t\tvar ele = $(idProgress);',
'\t\t\t\tif(!ele) options.showProgress = false; //set to false or else you will hang iOS',
'\t\t\t}',
'\t\t\tif(options.showProgress) {',
'\t\t\t\tvar ops = options.progress;',
'\t\t\t\tops.totalFileSize = options.totalFileSize;',
'\t\t\t\tvar eleTarget = ops.progressElement;',
'\t\t\t\teleTarget = eleTarget.toUpperCase();',
'\t\t\t\tvar html = \'\';',
'\t\t\t\tvar html_i = \'\';',
'\t\t\t\tvar name_i = \'\';',
'\t\t\t\tvar progress_i = \'\';',
'\t\t\t\tvar idName = \'\';',
'\t\t\t\tvar idProgress = \'\';',
'\t\t\t\tidProgress = eleTarget + \'.PROGRESS.TOTAL\';',
'\t\t\t\tidName = eleTarget + \'.NAME.TOTAL\';',
'\t\t\t\tprogress_i = \'<div style="border: solid 1px \'+ops.color+\'; width: \'+ops.width+\';">\';',
'\t\t\t\tprogress_i += \'<div id="\'+idProgress+\'"style="width: 0%; height: .05in;  background-color:\'+ops.color+\';"></div></div>\';',
'\t\t\t\thtml_i = \'<div id="\'+idName+\'"></div>\'+progress_i;',
'\t\t\t\thtml = html + html_i',
'\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\thtml = \'<div id="\'+idProgress+\'">\' + html + \'<div>\';',
'\t\t\t\tif ($(eleTarget)) $(eleTarget).innerHTML = html;',
'\t\t\t\tvar showProgress = function(pct) {',
'\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESS.TOTAL\';',
'\t\t\t\t\tvar ele = $(idProgress);',
'\t\t\t\t\tif(ele) ele.style.width = pct + \'%\';',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\tvar showProgress = function(pct) { };',
'\t\t\t}',
'\t\t\tvar phoneGapFileDownload_low = function(arr,i,options) {',
'\t\t\t\tvar targetFolder = options.targetFolder;',
'\t\t\t\tif(targetFolder != \'\') targetFolder = targetFolder + \'/\';',
'\t\t\t\tvar fnLocal = options._baseDirectory + targetFolder + arr[i].filename;',
'\t\t\t\tif(arr[i].sourceType == \'url\') {',
'\t\t\t\t\tfnLocal = options._baseDirectory + targetFolder +arr[i].sourceFilename;',
'\t\t\t\t}',
'\t\t\t\t//if the targetFolder is <SQLite>|localdbname.db user is doing a special download to the SQL database folder',
'\t\t\t\tvar flagSQLite = false;',
'\t\t\t\t/*',
'\t\t\t\tif(targetFolder.indexOf(\'<SQLite>\') == 0) {',
'\t\t\t\t\tvar localDBName = targetFolder.split(\'|\')[1];',
'\t\t\t\t\tlocalDBName = localDBName.split(\'/\')[0];',
'\t\t\t\t\tflagSQLite = true;',
'\t\t\t\t\tvar thisPackageName = \'\';',
'\t\t\t\t\tthisPackageName = _phoneGapSettings().appId ;',
'\t\t\t\t\tvar localDbFileUrl = \t{',
'\t\t\t\t\t\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + localDBName,',
'\t\t\t\t\t\t\tios: \'cdvfile://localhost/persistent/\' + localDBName',
'\t\t\t\t\t\t\t//cdvfile://localhost/persistent/sqlite/\' + localDBName',
'\t\t\t\t\t\t};',
'\t\t\t\t\tif(typeof device == \'undefined\') {',
'\t\t\t\t\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar thisDevice = device.platform;',
'\t\t\t\t\tvar fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\t\t\t\t\tconsole.log(\'database location: \' + fileUrl);',
'\t\t\t\t\tfnLocal = fileUrl;',
'\t\t\t\t}',
'\t\t\t\t*/',
'\t\t\t\t///////////////////// new code /////////////////',
'\t\t\t\tif(targetFolder.indexOf(\'<SQLite>\') == 0) {',
'\t\t\t\t\tvar localDBName = targetFolder.split(\'|\')[1];',
'\t\t\t\t\tlocalDBName = localDBName.split(\'/\')[0];',
'\t\t\t\t\tflagSQLite = true;',
'\t\t\t\t\tvar thisPackageName = \'\';',
'\t\t\t\t\tthisPackageName = _phoneGapSettings().appId ;',
'\t\t\t\t\tvar localDbFileUrl = {',
'\t\t\t\t\t\t// Android note: This entry was tested and works on Android 6.01, 5.5.1, 4.4.2',
'\t\t\t\t\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + localDBName,',
'\t\t\t\t\t\t// iOS Note: dataDirectory will point to ..appid/Library/NoCloud',
'\t\t\t\t\t\t// This is not exposed to iTunes or iCloud',
'\t\t\t\t\t\tios: cordova.file.dataDirectory + localDBName',
'\t\t\t\t\t};',
'\t\t\t\t\tif(typeof device == \'undefined\') {',
'\t\t\t\t\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar thisDevice = device.platform;',
'\t\t\t\t\tvar fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\t\t\t\t\tconsole.log(\'.phoneGapFileDownload reports fileUrl: \' + fileUrl);',
'\t\t\t\t\tfnLocal = fileUrl;',
'\t\t\t\t}',
'\t\t\t\t/////////////////// end new code ////////////////',
'\t\t\t\tvar fileFound = function() {',
'\t\t\t\t\tvar forceDownload = false;',
'\t\t\t\t\tforceDownload = options.forceDownloadIfFileExists;',
'\t\t\t\t\tif(typeof forceDownload == \'undefined\') forceDownload = false;',
'\t\t\t\t\tif(forceDownload) {',
'\t\t\t\t\t\tfileNotFound();',
'\t\t\t\t\t\treturn true;',
'\t\t\t\t\t}',
'\t\t\t\t\tarr[i].handled = true;',
'\t\t\t\t\tarr[i].found = true;',
'\t\t\t\t\tarr[i].localFilename = fnLocal;',
'\t\t\t\t\tarr[i].success = true;',
'\t\t\t\t\tvar allHandled = true;',
'\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\tif(!arr[k].handled) {',
'\t\t\t\t\t\t\tallHandled = false;',
'\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tif(allHandled) {',
'\t\t\t\t\t\tif(typeof options.onComplete == \'function\') options.onComplete(arr);',
'\t\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\t\tvar ele = $(idProgress);',
'\t\t\t\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar fileNotFound = function() {',
'\t\t\t\t\t//file was not in the local filesystem so must download it.',
'\t\t\t\t\tarr[i].found = false;',
'\t\t\t\t\tarr[i].localFilename = fnLocal;',
'\t\t\t\t\tvar url2 = options._serverURL + arr[i].filename;',
'\t\t\t\t\tif(arr[i].sourceType == \'url\') {',
'\t\t\t\t\t\turl2 = arr[i].filename;',
'\t\t\t\t\t}',
'\t\t\t\t\tvar ft = new FileTransfer();',
'\t\t\t\t\tft.onprogress = function(progressEvent) {',
'\t\t\t\t\t\tif (progressEvent.lengthComputable) {',
'\t\t\t\t\t\t\tarr[i].totalBytes = progressEvent.total;',
'\t\t\t\t\t\t\tarr[i].bytesLoaded = progressEvent.loaded;',
'\t\t\t\t\t\t\tvar totalSize = -1;',
'\t\t\t\t\t\t\tif(typeof options != \'undefined\') {',
'\t\t\t\t\t\t\t\ttotalSize = options.totalFileSize;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tif(typeof totalSize == \'undefined\') totalSize = -1;',
'\t\t\t\t\t\t\tif(totalSize == -1) {',
'\t\t\t\t\t\t\t\tvar pctComplete = (progressEvent.loaded / progressEvent.total)*100;',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\tvar pctComplete = (progressEvent.loaded / totalSize)*100;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tif(pctComplete > 100) pctComplete = 100;',
'\t\t\t\t\t\t\tpctComplete = $u.n.round(pctComplete,4);',
'\t\t\t\t\t\t\tarr[i].pctComplete = pctComplete;',
'\t\t\t\t\t\t\tvar totalBytes = 0;',
'\t\t\t\t\t\t\tvar loaded = 0;',
'\t\t\t\t\t\t\tvar pctCompleteTotal = 0;',
'\t\t\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\t\t\tif(typeof arr[k].totalBytes != \'undefined\') {',
'\t\t\t\t\t\t\t\t\ttotalBytes = totalBytes + arr[k].totalBytes;',
'\t\t\t\t\t\t\t\t\tloaded = loaded + arr[k].bytesLoaded;',
'\t\t\t\t\t\t\t\t\tpctCompleteTotal = (loaded/totalBytes) * 100;',
'\t\t\t\t\t\t\t\t\tif(totalSize > 0) {',
'\t\t\t\t\t\t\t\t\t\tpctCompleteTotal = (loaded/totalSize) * 100;',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\t//don\'t start showing progress till you have got the size of every file',
'\t\t\t\t\t\t\t\t\t//or else the progress bar will jump around',
'\t\t\t\t\t\t\t\t\tvar flagStartShowingProgress = true;',
'\t\t\t\t\t\t\t\t\t//we don\'t do the inner loop anymore because we are going to start showing progress immediately',
'\t\t\t\t\t\t\t\t\t/*',
'\t\t\t\t\t\t\t\t\tfor(var j = 0; j < arr.length; j++) {',
'\t\t\t\t\t\t\t\t\t\tif(typeof arr[j].totalBytes == \'undefined\') {',
'\t\t\t\t\t\t\t\t\t\t\t//$(\'msg1\').innerHTML = \'not started: \' + arr[j].filename   + \'<br>\' + $(\'msg1\').innerHTML;',
'\t\t\t\t\t\t\t\t\t\t\tflagStartShowingProgress = false;',
'\t\t\t\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\t*/',
'\t\t\t\t\t\t\t\t\tif(flagStartShowingProgress || true ) showProgress(pctCompleteTotal);',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\talert(\'length NOT computable\');',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar flagTrustAllHosts = false;',
'\t\t\t\t\tif(typeof _dlgObj._phoneGapTrustAllHosts != \'undefined\') {',
'\t\t\t\t\t\tflagTrustAllHosts = _dlgObj._phoneGapTrustAllHosts;',
'\t\t\t\t\t}',
'\t\t\t\t\tft.download(url2, fnLocal,',
'\t\t\t\t\t\t\tfunction(entry) {',
'\t\t\t\t\t\t\t\t//alert(\'Success! \' + fnLocal);',
'\t\t\t\t\t\t\t\t//alert(\'number: \' + i );',
'\t\t\t\t\t\t\t\t//alert(JSON.stringify(entry));',
'\t\t\t\t\t\t\t\tarr[i].success = true;',
'\t\t\t\t\t\t\t\tarr[i].handled = true;',
'\t\t\t\t\t\t\t\tarr[i].downloaded = true;',
'\t\t\t\t\t\t\t\t//fileAllDone();',
'\t\t\t\t\t\t\t\tvar allHandled = true;',
'\t\t\t\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\t\t\t\tif(!arr[k].handled) {',
'\t\t\t\t\t\t\t\t\t\tallHandled = false;',
'\t\t\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\tif(allHandled) {',
'\t\t\t\t\t\t\t\t\tif(typeof options.onComplete == \'function\') options.onComplete(arr);',
'\t\t\t\t\t\t\t\t\tif(options.showProgress) {',
'\t\t\t\t\t\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\t\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\t\t\t\t\t\t$(idProgress).style.display = \'none\';',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t},',
'\t\t\t\t\t\t\tfunction(err) {',
'\t\t\t\t\t\t\t\t//alert(\'Error in file transfer: \' + fnLocal);',
'\t\t\t\t\t\t\t\t//debugger;',
'\t\t\t\t\t\t\t\tarr[i].success = false;',
'\t\t\t\t\t\t\t\tarr[i].errorText = JSON.stringify(err);',
'\t\t\t\t\t\t\t\tarr[i].handled = true;',
'\t\t\t\t\t\t\t\t//fileAllDone();',
'\t\t\t\t\t\t\t\tvar allHandled = true;',
'\t\t\t\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\t\t\t\tif(!arr[k].handled) {',
'\t\t\t\t\t\t\t\t\t\tallHandled = false;',
'\t\t\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\tif(allHandled) {',
'\t\t\t\t\t\t\t\t\tif(typeof options.onComplete == \'function\') options.onComplete(arr);',
'\t\t\t\t\t\t\t\t\tif(options.showProgress) {',
'\t\t\t\t\t\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\t\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\t\t\t\t\t\tif($(idProgress)) $(idProgress).style.display = \'none\';',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t},',
'\t\t\t\t\t\t\tflagTrustAllHosts',
'\t\t\t\t\t);',
'\t\t\t\t\t//end fetch file  ---------------------------------------',
'\t\t\t\t\t//true/false -- trustAllHosts parameter',
'\t\t\t\t}',
'\t\t\t\twindow.resolveLocalFileSystemURL(fnLocal, fileFound, fileNotFound);',
'\t\t\t}',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tphoneGapFileDownload_low(arr,i,options)',
'\t\t\t}',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\tA5.ts = function() {',
'\t\tvar d = new Date()',
'\t\treturn d.getTime().toString(36);',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetFileSystemURIForLegacyPersistentStorage = function(ok,fail) {',
'\tvar _ok = ok;',
'\tvar onFSSuccess = function(fs) {',
'\t\tvar uri = fs.root.filesystem.root.nativeURL;',
'\t\t_ok(uri);',
'\t}',
'\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, fail );',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.base64DataToBlob = function(dataURI) {',
'\t//data:image/jpeg;base64,/',
'\t// convert base64/URLEncoded data component to raw binary data held in a string',
'    var byteString;',
'    if (dataURI.split(\',\')[0].indexOf(\'base64\') >= 0)',
'        byteString = atob(dataURI.split(\',\')[1]);',
'    else',
'        byteString = unescape(dataURI.split(\',\')[1]);',
'    // separate out the mime component',
'    var mimeString = dataURI.split(\',\')[0].split(\':\')[1].split(\';\')[0];',
'    // write the bytes of the string to a typed array',
'    var ia = new Uint8Array(byteString.length);',
'    for (var i = 0; i < byteString.length; i++) {',
'        ia[i] = byteString.charCodeAt(i);',
'    }',
'    return new Blob([ia], {type:mimeString});',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteDownloadDatabase = function(SQLiteDBURL,localDBName,onComplete,onError,optionsIn) {',
'\tif(SQLiteDBURL.indexOf(\'http://\') == 0 || SQLiteDBURL.indexOf(\'https://\') == 0) {',
'\t\t//don\'t need to add the baseURL',
'\t} else {',
'\t\tvar url = {UXPRERENDEREDALIAS}_DlgObj.ajaxURL;',
'\t\turl = url.split(\'?\')[0];',
'\t\turl = url.split(\'/\');',
'\t\turl.pop();',
'\t\turl = url.join(\'/\') + \'/\';',
'\t\tSQLiteDBURL =  url + SQLiteDBURL;',
'\t}',
'\tif(typeof onError != \'function\') {',
'\t\tonError = function(error) {',
'\t\t\talert(\'Database Download Failed. File transfer error: \'+error);',
'\t\t}',
'\t}',
'\tif(typeof _phoneGapSettings == \'undefined\') {',
'\t\talert(\'PhoneGap not loaded\');',
'\t\treturn false;',
'\t}',
'\tvar flagSQL = _phoneGapSettings().plugins[\'cordova-sqlite-ext\'];   //com.brodysoft.sqliteplugin',
'\tflagSQL = true;',
'\tif(typeof flagSQL == \'undefined\') flagSQL = false;',
'\tif(!flagSQL) {',
'\t\talert(\'SQLitePluginExt not loaded\');',
'\t\treturn false;',
'\t}',
'\t////////////////////',
'\tif(typeof optionsIn == \'undefined\') {',
'\t\tvar ops = {',
'\t\t\tshowProgress : false,',
'\t\t\tforceDownloadIfFileExists : true',
'\t\t\t}',
'\t} else {',
'\t\tvar ops = optionsIn',
'\t}',
'\tvar arr = [];',
'\tarr.push({filename: SQLiteDBURL});',
'\tvar options = {};',
'\toptions.targetFolder = \'<SQLite>|\' + localDBName;',
'\toptions.onComplete = function() {',
'\t\tonComplete.call();',
'\t}',
'\toptions.onError = function() { onError.call() };',
'\toptions.showProgress = ops.showProgress;',
'\toptions.forceDownloadIfFileExists = ops.forceDownloadIfFileExists;',
'\tif(options.showProgress) {',
'\t\toptions.progress = ops.progress;',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileDownload(arr,options);',
'\t///////////////////////////////////',
'\t/*',
'\tvar thisPackageName = \'\';',
'\tthisPackageName = _phoneGapSettings().appId ;',
'\t//alert(thisPackageName)',
'\tvar localDbFileUrl = \t{',
'\t\t\t\t\t\t\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + localDBName,',
'\t\t\t\t\t\t\t\tios: \'cdvfile://localhost/persistent/\' + localDBName',
'\t\t\t\t\t\t\t};',
'\tif(typeof device == \'undefined\') {',
'\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t}',
'\tvar thisDevice = device.platform;',
'\tvar fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\tvar fileTransfer = new FileTransfer();',
'\tvar uri = encodeURI(SQLiteDBURL);',
'\tvar options = {};',
'\tfileTransfer.download(uri,fileUrl,onComplete,onError,false,options);',
'\t*/',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteExecuteSQL = function(dbName,sql,argumentsIn,onSuccess,onError, onTransactionSuccess, onTransactionError) {',
'\tvar flagCustomOnError = false;',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents != \'undefined\') flagCustomOnError = {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents;',
'\tif(!flagCustomOnError) window.onerror = function(err) { alert(\'Unhandled Javascript Error - SQliteExecuteSQL:  \' + JSON.stringify(err));}',
'\tvar flagSQL = _phoneGapSettings().plugins[\'cordova-sqlite-ext\'];   //com.brodysoft.sqliteplugin',
'\t\tflagSQL = true;',
'\t\tif(typeof flagSQL == \'undefined\') flagSQL = false;',
'\t\tif(!flagSQL) {',
'\t\t\talert(\'SQLitePluginExt not loaded\');',
'\t\t\treturn false;',
'\t}',
'\tif(typeof onSuccess == \'undefined\') onSuccess = false;',
'\tif(typeof onError == \'undefined\') onError = false;',
'\tif(typeof argumentsIn == \'undefined\' || argumentsIn.constructor != Array) argumentsIn = [];',
'\tif(onSuccess.constructor != Array)  {',
'\t\tif(typeof onSuccess != \'function\') {',
'\t\t\tonSuccess = function(tx,result) {',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(onError.constructor != Array)  {',
'\t\tif(typeof onError != \'function\') {',
'\t\t\t\tonError = function(e) {',
'\t\t\t\t}',
'\t\t}',
'\t}',
'\tif(typeof device == \'undefined\') {',
'\t\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t}',
'\tvar flagArrayOfObjects = false;',
'\tif(sql.constructor == Array) {',
'\t\tif(sql[0].constructor == Object) {',
'\t\t\tflagArrayOfObjects = true;',
'\t\t}',
'\t}',
'\tif(flagArrayOfObjects) {',
'\t\tvar a = sql;',
'\t\tdelete sql;',
'\t\tsql = [];',
'\t\targumentsIn = [];',
'\t\tonSuccess = [];',
'\t\tonError = [];',
'\t\tfor(var i = 0; i < a.length; i++) {',
'\t\t\tsql[i] = a[i].sql;',
'\t\t\tif(typeof a[i].arguments != \'undefined\') {',
'\t\t\t\targumentsIn[i] = a[i].arguments;',
'\t\t\t} else {',
'\t\t\t\targumentsIn[i] = [];',
'\t\t\t}',
'\t\t\tif(typeof a[i].onSuccess != \'undefined\') {',
'\t\t\t\tonSuccess[i] = a[i].onSuccess;',
'\t\t\t} else {',
'\t\t\t\tonSuccess[i] = function() { };',
'\t\t\t}',
'\t\t\tif(typeof a[i].onError != \'undefined\') {',
'\t\t\t\tonError[i] = a[i].onError;',
'\t\t\t} else {',
'\t\t\t\tonError[i] = function() { };',
'\t\t\t}',
'\t\t}',
'\t}',
'\t/*',
'\tvar thisDevice = device.platform;',
'\t//var dbFilename = thisDevice == \'Android\' ? dbName:\'files/\' + dbName;',
'\tvar thisPackageName = \'\';',
'\tthisPackageName = _phoneGapSettings().appId ;',
'\tvar localDbFileUrl = \t{',
'\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + dbName,',
'\t\tios: \'cdvfile://localhost/persistent/\' + dbName',
'\t\t//cdvfile://localhost/persistent/sqlite/\' + localDBName',
'\t};',
'\tvar dbFilename = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\tconsole.log(\'database location: \' + dbFilename);',
'\tdelete db;',
'\tif(typeof window.sqlitePlugin == \'undefined\') {',
'\t\talert(\'Error: PhoneGap SQLite plugin not loaded.\');',
'\t}',
'\tvar db = window.sqlitePlugin.openDatabase({name:dbFilename,location:2});',
'\t*/',
'\t///////////////// new code starts here/////////////',
'\t//start here........',
'\tvar thisDevice = device.platform;',
'\tvar dbFilename = thisDevice == \'Android\' ? dbName:\'NoCloud/\' + dbName;   //NoCloud -- no exposed to iTunes and not backed up to iCloud',
'\tconsole.log(\'.SQLiteExecuteSQL: database location = \' + dbFilename);',
'\tif(typeof window.sqlitePlugin == \'undefined\') {',
'\t\talert(\'Error: PhoneGap SQLite plugin not loaded.\');',
'\t}',
'\tvar location = \'download\';',
'\tif( dbName.indexOf(\'root:\') == 0) {',
'\t\tlocation = \'root\';',
'\t\tdbName = dbName.split(\'root:\')[1];',
'\t}',
'\t//this is for a db that is downloaded from the server',
'\tif(location == \'download\') {',
'\t\tvar db = window.sqlitePlugin.openDatabase({name:dbFilename,location:1});',
'\t} else {',
'\t\t//if the db is in the webroot (pre-populated), then use this code',
'\t\tvar db = window.sqlitePlugin.openDatabase({name: dbName , location: 2, createFromLocation: 1});',
'\t}',
'\t///// end here.....',
'\t///////////////////new code ends here ////////////////',
'\tdb.transaction(',
'\t\tfunction(tx) {',
'\t\t\t//array of sql statements or array of array',
'\t\t\tvar flagArrayOfArrays = false;',
'\t\t\ttry{if(argumentsIn[0].constructor == Array) flagArrayOfArrays = true;} catch(e) {}',
'\t\t\tif(sql.constructor == Array || flagArrayOfArrays) {',
'\t\t\t\tif(sql.constructor == Array) {',
'\t\t\t\t\tvar sql_length = sql.length;',
'\t\t\t\t} else {',
'\t\t\t\t\tvar sql_length = argumentsIn.length;',
'\t\t\t\t}',
'\t\t\t\tvar i = 0;',
'\t\t\t\tfunction _lowSQL(transObj) {',
'\t\t\t\t\tif(sql.constructor == Array) {',
'\t\t\t\t\t\tvar sql_i = sql[i];',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tvar sql_i = sql;',
'\t\t\t\t\t}',
'\t\t\t\t\tvar args_i = argumentsIn[i];',
'\t\t\t\t\tif(typeof args_i != \'undefined\') {',
'\t\t\t\t\t\tfor(var j = 0; j < args_i.length; j++) {',
'\t\t\t\t\t\t\tif(typeof args_i[j] == \'function\') {',
'\t\t\t\t\t\t\t\tvar result = args_i[j].call(this,transObj);',
'\t\t\t\t\t\t\t\targs_i[j] = result;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar success_i = function(tx2,result) {',
'\t\t\t\t\t\tvar resultArray = {UXPRERENDEREDALIAS}_DlgObj.SQLiteResultSetToArray(result);',
'\t\t\t\t\t\tif(onSuccess.constructor == Array) {',
'\t\t\t\t\t\t\tonSuccess[i].call(this,tx2,result,resultArray,transObj);',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\tonSuccess.call(this,tx2,result,resultArray,transObj);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\ti++;',
'\t\t\t\t\t\tif(i < sql_length) {',
'\t\t\t\t\t\t\t_lowSQL(transObj);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar error_i = function(e) {',
'\t\t\t\t\t\tif(onError.constructor == Array) {',
'\t\t\t\t\t\t\tonError[i].call(this,e);',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\tonError.call(this,e);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\ttx.executeSql(sql_i,args_i,success_i,error_i);',
'\t\t\t\t}',
'\t\t\t\t_lowSQL({});',
'\t\t\t} else {',
'\t\t\t\t//single sql statement',
'\t\t\t\ttx.executeSql(sql,argumentsIn,function(tx,result) {',
'\t\t\t\t\tvar resultArray = {UXPRERENDEREDALIAS}_DlgObj.SQLiteResultSetToArray(result);',
'\t\t\t\t\tonSuccess.call(this,tx,result,resultArray);',
'\t\t\t\t}, function(e) {onError.call(this,e); });',
'\t\t\t}',
'\t\t},',
'\t\tfunction(e) { /*transaction failure*/ if(typeof onTransactionError == \'function\') { onTransactionError.call(this);} db.close(); },',
'\t\tfunction() { /*transaction success*/ if(typeof onTransactionSuccess == \'function\') { onTransactionSuccess.call(this);} db.close();  }',
'\t);',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteResultSetToArray = function(result) {',
'\tvar array = [];',
'\tif (result !=null && result.rows != null){',
'\t\tfor (var i = 0; i < result.rows.length; i++) {',
'\t\t\tarray.push(result.rows.item(i));',
'\t\t}',
'\t}',
'\treturn array;',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteDeleteDatabase = function(dbName,successCB,errorCB,location) {',
'\tvar flagSQL = _phoneGapSettings().plugins[\'cordova-sqlite-ext\'];   //com.brodysoft.sqliteplugin',
'\t\tflagSQL = true;',
'\t\tif(typeof flagSQL == \'undefined\') flagSQL = false;',
'\t\tif(!flagSQL) {',
'\t\t\talert(\'SQLitePluginExt not loaded\');',
'\t\t\treturn false;',
'\t}',
'\t/*',
'\tif(typeof location == \'undefined\') location = 2;',
'\t*/',
'\t///// new code /////',
'\tif(typeof location == \'undefined\') location = 1;',
'\t///// end new code /////',
'\twindow.sqlitePlugin.deleteDatabase({name: dbName, location: location}, successCB, errorCB);',
'}',
'////////////////////////////////////////',
'{UXPRERENDEREDALIAS}_DlgObj.submitListDataAndMediaFiles = function(listName,xbCallbackFunction,ajaxObject,mediaFileUploadObject) {',
'\t//first, upload media files, then upload dirty records in a list and then call xbCallbackFunction on the server side. Uploaded data will be in e._listData in the Xbasic function',
'\t/*',
'\tExample syntax:',
'\tvar ajaxObject = {',
'\t\terrorFunction: function() { alert(\'failed ajax\'); },',
'\t\tonComplete: function() { alert(\'ajax done\');},',
'\t\tdeviceOfflineFunction: function() { alert(\'offline \');  }',
'\t}',
'\tvar objUpload = {',
'\t\ttarget: \'alphaanywhere\',',
'\t\tshowProgress: true,',
'\t\tonComplete: function(array) {},',
'\t\tonMediaUploadErrors: function(array) { alert(\'there were media upload errors\');},',
'\t\txbasicAfterFileUploaded: \'xbAfterUpload\',',
'\t\tprogress: {',
'\t\t\tcolor: \'#9fa1e8\',',
'\t\t\twidth: \'300px\',',
'\t\t\tindividualProgress: false,',
'\t\t\tshowTotalProgress: true,',
'\t\t\tallowCancel: false,',
'\t\t\tprogressElement: \'{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_2\'',
'\t\t}',
'\t}',
'\t//to upload to s3',
'\ttarget: \'s3\',',
'\t\ts3: {',
'\t\t\tconnectionString: \'alphamediacapture\',',
'\t\t\tprotectedRead: false,',
'\t\t\ttemplate: \'https://alphamediacapture.s3.amazonaws.com/__name__\'',
'\t},',
'\t///////',
'\t{UXPRERENDEREDALIAS}_DlgObj.submitListDataAndMediaFiles(\'list1\',xbName,ajaxObject,objUpload);',
'\t*/',
'\tvar lObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(listName);',
'\tif(!lObj) return false;',
'\tvar objAjax = {};',
'\tif(typeof arguments[2] == \'object\') objAjax = arguments[2];',
'\tvar objUpload = {};',
'\tif(typeof arguments[3] == \'object\') objUpload = arguments[3]; //this is the object that defines the upload target (s3/alphaanywhere), showProgress, etc',
'\tvar _userOnComplete = objUpload.onComplete;',
'\tobjUpload.onComplete = function(array) {',
'\t\t_userOnComplete.call(this,array)',
'\t\tpushRemoteMediaNamesToArray(array,_data);',
'\t}',
'\tvar xbasicFunction = xbCallbackFunction;',
'\t//define local functions',
'\tvar _ajaxUpload = function(data,xbasicFunction,objAjax) {',
'\t\tvar listData = JSON.stringify(data,\'\',\'\\t\');',
'\t\tlistData = A5.ajax.buildURLParam(\'_listData\',listData);',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',xbasicFunction,\'\',listData, objAjax);',
'\t}',
'\tvar pushRemoteMediaNamesToArray = function(mediaFiles,_data) {',
'\t\tvar _data2 = [];',
'\t\t$u.o.assign(_data2,_data);',
'\t\t//media files have been uploaded and the mediaFiles[] array has these properties of interest',
'\t\t//listFieldName -- name of the field in the data array that had the media field',
'\t\t//route -- an array that looks like [{table: \'_top_\', row: 1}]',
'\t\t//remoteName -- the name of the alpha server or s3',
'\t\t//succeeded',
'\t\tvar r = \'\';',
'\t\tvar table = \'\';',
'\t\tvar _di = \'\';',
'\t\tvar _diTop = \'\';',
'\t\tfor(var i = 0; i < mediaFiles.length; i++) {',
'\t\t\tmediaFiles[i].routeObj = JSON.parse(mediaFiles[i].route);',
'\t\t\tr = mediaFiles[i].routeObj[0].row',
'\t\t\tfor(var j = 0; j < mediaFiles[i].routeObj.length; j ++) {',
'\t\t\t\ttable = mediaFiles[i].routeObj[j].table;',
'\t\t\t\tr = mediaFiles[i].routeObj[j].row',
'\t\t\t\tif(table == \'_top_\') {',
'\t\t\t\t\t_di = _data2[r];',
'\t\t\t\t\t_diTop = _di;',
'\t\t\t\t} else {',
'\t\t\t\t\t_di = _di[table][r];',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(typeof _di != \'undefined\') {',
'\t\t\t\t//need to add a check to see if the success flag is true',
'\t\t\t\tif(mediaFiles[i].succeeded) {',
'\t\t\t\t\t _di[mediaFiles[i].listFieldName] = mediaFiles[i].remoteName;',
'\t\t\t\t} else {',
'\t\t\t\t\t_diTop.__flagHasMediaFileUploadError = true;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\t//harvest rows that are dirty and also do not have media upload errors - these rows will be pushed to the server',
'\t\tvar _data3 = [];',
'\t\tvar _mErr = [];',
'\t\tvar flagPush = false;',
'\t\tvar flagHasMediaUploadError = false;',
'\t\tfor(var i = 0; i < _data2.length; i++) {',
'\t\t\tflagPush = true;',
'\t\t\tif(typeof _data2[i].__flagHasMediaFileUploadError != \'undefined\' && _data2[i].__flagHasMediaFileUploadError) {',
'\t\t\t\tflagPush = false;',
'\t\t\t\tflagHasMediaUploadError = true;',
'\t\t\t\t_mErr.push(_data2[i]);',
'\t\t\t}',
'\t\t\tif(flagPush) {',
'\t\t\t\tif(typeof _data2[i]._isDirty == \'undefined\') {',
'\t\t\t\t\tflagPush = false;',
'\t\t\t\t} else if(_data2[i]._isDirty == false) {',
'\t\t\t\t\tflagPush = false;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(flagPush) {',
'\t\t\t\t_data3.push(_data2[i]);',
'\t\t\t}',
'\t\t}',
'\t\tif(flagHasMediaUploadError) {',
'\t\t\tif(typeof objUpload.onMediaUploadErrors == \'function\') {',
'\t\t\t\tobjUpload.onMediaUploadErrors.call(this,_mErr);',
'\t\t\t}',
'\t\t}',
'\t\t_ajaxUpload(_data3,xbasicFunction,objAjax) //do the ajax callback to upload the fixed data array',
'\t}',
'\t//end local functions',
'\tvar _data = lObj.harvestList();',
'\tif(_data.length == 0) {',
'\t\treturn false;',
'\t}',
'\tvar arr = lObj._harvestMediaFields();',
'\talert(JSON.stringify(arr));',
'\tif(arr.length == 0) {',
'\t\t//no media fields -- just make the ajax callback',
'\t\t_ajaxUpload(_data,xbasicFunction,objAjax);',
'\t\treturn true;',
'\t} else {',
'\t\t//upload the media files -- the onComplete event will make the ajax callback',
'\t\t//objUpload._dataToUpload = _data;',
'\t\t_data = lObj._data;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileUpload(arr,objUpload);',
'\t}',
'}',
'// File manipulation',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()',
'//',
'// Returns true if there is a local file system and PhoneGap is running.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable = function() {',
'   if(typeof LocalFileSystem == \'undefined\') {',
'      if(typeof cordova == \'undefined\') {',
'         return false;',
'      }',
'      return false;',
'   }',
'   return true;',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapGetLocalDirURL(type)',
'//',
'// type: "temp", "private", "saved", "public"',
'// On iOS, saved and public may be backed up to iCloud',
'//',
'// Returns URL of base for the requested part of the file system.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetLocalDirURL = function(type) {',
'   var dir = "";',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) return dir;',
'   if (device.platform == \'iOS\') {',
'      switch (type) {',
'         case "temp":',
'            dir = cordova.file.tempDirectory;',
'            break;',
'         case "private":',
'            dir = cordova.file.dataDirectory;',
'            break;',
'         case "saved":',
'            dir = cordova.file.syncedDataDirectory;',
'            break;',
'         case "public":',
'            dir = cordova.file.documentsDirectory;',
'            break;',
'      }',
'   }',
'   else {',
'      switch (type) {',
'         case "temp":',
'            dir = cordova.file.externalCacheDirectory || cordova.file.cacheDirectory;',
'            break;',
'         case "private":',
'            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;',
'            break;',
'         case "saved":',
'            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;',
'            break;',
'         case "public":',
'            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;',
'            break;',
'      }',
'   }',
'   return dir;',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapReadFileURL(filepath, onReadSuccess, onError, startAt, endAt)',
'//',
'// filepath is the local file URL of the desired file.',
'// If startAt and endAt are present, returns just those positions in the file.',
'//',
'// onReadSuccess(result) returns the contents read.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapReadFileURL = function(filepath, onReadSuccess, onError, startAt, endAt) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               var doReadFunction =',
'                  function(file) {',
'                     var reader = new FileReader();',
'                     reader.onloadend =',
'                        function(e) {',
'                           onReadSuccess(this.result);',
'                        };',
'                     if (typeof startAt==\'undefined\' || typeof endAt==\'undefined\') {',
'                        reader.readAsText(file);',
'                     }',
'                     else {',
'                        var blob = file.slice(startAt, endAt);',
'                        reader.readAsText(blob);',
'                     }',
'                  };',
'               fileEntry.file(doReadFunction);',
'            };',
'         fsEntry.getFile(filename, {}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapWriteFileURL(filepath, text, onWriteSuccess, onError, append)',
'//',
'// filepath is the local file URL of the desired file. The directory must',
'// exist, but the file need not.',
'// If append is true, appends to current contents.',
'// Truncates (if file existed) to end of what is written.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapWriteFileURL = function(filepath, text, onWriteSuccess, onError, append) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               var writerFunction =',
'                  function(fileWriter) {',
'                     fileWriter.onwriteend =',
'                        function(e) {',
'                           onWriteSuccess();',
'                        };',
'                     fileWriter.onerror = onError;',
'                     if (append) {',
'                        fileWriter.seek(fileWriter.length);',
'                     }',
'                     var blob = new Blob([text], {type:\'text/plain\'});',
'                     fileWriter.write(blob);',
'                  };',
'               fileEntry.createWriter(writerFunction, onError);',
'            };',
'         fsEntry.getFile(filename, {create: true}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapFileExistsURLfilepath, onResult, onError)',
'//',
'// filepath is the local file URL of the desired file.',
'// onResult(properties) will be called with false if file does not exist.',
'// If file does exist, properties will be:',
'//',
'//    {',
'//       name:file\'s name,',
'//       lastModifiedDate:lastModifiedDate object,',
'//       size:size in bytes,',
'//       type:MIME type if known(not on iOS now, but yes on Android)',
'//    }',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileExistsURL = function(filepath, onResult, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               fileEntry.file(function(fileObj) {',
'                  onResult({name:fileObj.name, lastModifiedDate:fileObj.lastModifiedDate,',
'                     size:fileObj.size, type:fileObj.type});',
'                  },',
'                  onError);',
'            };',
'         var onDidNotGetFile =',
'            function() {',
'               onResult(false);',
'            };',
'         fsEntry.getFile(filename, {create: false}, onGotFile, onDidNotGetFile);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFileURL(filepath, onDeleteSuccess, onError)',
'//',
'// filepath is the local file URL of the file to be deleted.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFileURL = function(filepath, onDeleteSuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               fileEntry.remove(onDeleteSuccess, onError);',
'            };',
'         fsEntry.getFile(filename, {create: false}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapCopyFileURL(srcpath, destdirpath, destname, onCopySuccess, onError)',
'//',
'// srcpath is the local file URL of the file to be copied.',
'// destdirpath is the URL of the directory into which to copy the file.',
'// destname is the name to be given to the copied file. If null, the source filename will be used.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapCopyFileURL = function(srcpath, destdirpath, destname, onCopySuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = srcpath.lastIndexOf("/");',
'   var dirpath = srcpath.substring(0,pos);',
'   var filename = srcpath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               window.resolveLocalFileSystemURL(destdirpath,',
'                  function(destDirEntry) {',
'                     fileEntry.copyTo(destDirEntry, destname, onCopySuccess, onError);',
'                  },',
'                  onError);',
'            };',
'         fsEntry.getFile(filename, {}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapMoveFileURL(srcpath, destdirpath, destname, onMoveSuccess, onError)',
'//',
'// srcpath is the local file URL of the file to be moved.',
'// destdirpath is the URL of the directory into which to move the file, replacing any existing file with the name.',
'// destname is the name to be given to the copied file. If null, the source filename will be used.',
'// If moved into the same directory, the file will be renamed.',
'// A move of a directory on top of an existing empty directory replaces that directory.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapMoveFileURL = function(srcpath, destdirpath, destname, onMoveSuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = srcpath.lastIndexOf("/");',
'   var dirpath = srcpath.substring(0,pos);',
'   var filename = srcpath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               window.resolveLocalFileSystemURL(destdirpath,',
'                  function(destDirEntry) {',
'                     fileEntry.moveTo(destDirEntry, destname, onMoveSuccess, onError);',
'                  },',
'                  onError);',
'            };',
'         fsEntry.getFile(filename, {}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectoryRecurseURL(dirpath, onRemoveSuccess, onError)',
'//',
'// dirpath is the file URL of the directory to be deleted.',
'// Deletes the specified directory and all of its contents, including other directories and',
'// their contents.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectoryRecurseURL = function(dirpath, onRemoveSuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var onResolvedURL =',
'      function(dirEntry) {',
'         dirEntry.removeRecursively(onRemoveSuccess, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapEnsureDirPathURL(rootpath, subdirpath, onCompletion, onError)',
'//',
'// rootpath is the file URL of the existing directory that will contain the directories that are needed.',
'// subdirpath is a path of directories to ensure exist below rootpath. They will be created',
'// if they don\'t exist.',
'//',
'// For example, if rootpath is "file://root/public/", subdirpath may be "toplevel/subdir1".',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapEnsureDirPathURL = function(rootpath, subdirpath, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var dirs = subdirpath.split(\'/\') || [];',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var ensureDirFunction =',
'            function(dirEntry) { // function to recurse',
'               if (dirs.length>0) {',
'                  if (dirs[0]==\'.\' || dirs[0]==\'\') {',
'                     dirs = dirs.slice(1); // remove null dir',
'                  }',
'               }',
'               if (dirs.length==0) {',
'                  onCompletion();',
'                  return;',
'               }',
'               dirEntry.getDirectory(dirs[0], {create: true},',
'                  function(subdirEntry) {',
'                     dirs = dirs.slice(1); // do next',
'                     ensureDirFunction(subdirEntry);',
'                  },',
'                  onError);',
'               };',
'         ensureDirFunction(fsEntry); // do first',
'      };',
'   window.resolveLocalFileSystemURL(rootpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesRecurseURL(rootpath, onCompletion, onError)',
'//',
'// rootpath is the file URL of the directory whose contents will be listed.',
'// onCompletion(filelist) will contain an array of strings representing each file',
'// and directory down the hierarchy. Directories end in "/".',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesRecurseURL = function(rootpath, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var filelist = [];',
'   var pathprefix = "";',
'   var pending = 0;',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var processDirFunction =',
'            function(subdirpath, listingObj) {',
'               var files = listingObj.files;',
'               var i;',
'               var fpath;',
'               var prefix = subdirpath.slice(pathprefix.length);',
'               for (i=0; i<files.length; i++) {',
'                  fpath = prefix+files[i];',
'                  filelist.push(fpath);',
'               }',
'               var dirs = listingObj.dirs;',
'               if (dirs.length==0) {',
'                  if (pending==0) {',
'                     onCompletion(filelist);',
'                  }',
'                  return;',
'               }',
'               for (i=0; i<dirs.length; i++) {',
'                  fpath = dirs[i].fullPath.slice(pathprefix.length);',
'                  filelist.push(fpath);',
'                  pending++;',
'                  dirs[i].filesystem.root.getDirectory(dirs[i].fullPath, {create: false},',
'                     function(dirEntry) {',
'                        listDirFunction(dirEntry);',
'                     },',
'                     function(e){pending--;onError(e);});',
'               }',
'            };',
'         var listDirFunction =',
'            function(dirEntry) { // function to recurse on subdirs',
'               var dirReader = dirEntry.createReader();',
'               var listingObj = {files:[], dirs:[]};',
'               var readDirEntries = function() {',
'                  dirReader.readEntries( // start an async reading of entries',
'                     function(entries) { // more entries read, or done',
'                        if (!entries || entries.length==0) {',
'                           pending--;',
'                           processDirFunction(dirEntry.fullPath, listingObj);',
'                           return;',
'                        }',
'                        var entry;',
'                        for (var i=0; i<entries.length; i++) {',
'                           entry = entries[i];',
'                           if (entry.isFile) {',
'                              listingObj.files.push(entry.name);',
'                           }',
'                           else {',
'                              listingObj.dirs.push(entry);',
'                           }',
'                        }',
'                        readDirEntries(); // recurse to call dirReader.readEntries again',
'                     },',
'                     onError);',
'                  };',
'               readDirEntries(); // do first reading of entries',
'            };',
'         pending++;',
'         pathprefix = fsEntry.fullPath; // get prefix',
'         listDirFunction(fsEntry); // do first list getting',
'      };',
'   window.resolveLocalFileSystemURL(rootpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesURL(dirpath, matchRegex, onCompletion, onError)',
'//',
'// dirpath is the file URL of the directory whose contents will be listed (only files).',
'// matchRegex, if non-null, will need to match file names found for them to be listed.',
'// onCompletion(filelist) will contain an array of strings representing each file.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesURL = function(dirpath, matchRegex, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var filelist = [];',
'         var dirReader = fsEntry.createReader();',
'         var readEntriesFunction =',
'            function() { // function to recurse to call repeatedly after each completion until no result',
'               dirReader.readEntries( // start an async reading of entries',
'                  function(entries) { // more entries read, or done',
'                     if (!entries || entries.length==0) {',
'                        onCompletion(filelist);',
'                        return;',
'                     }',
'                     var name;',
'                     for (var i=0; i<entries.length; i++) {',
'                        name = entries[i].name;',
'                        if (!matchRegex || name.match(matchRegex)) {',
'                           filelist.push(name);',
'                        }',
'                     }',
'                     readEntriesFunction(); // recurse to call dirReader.readEntries again',
'                  },',
'                  onError);',
'               };',
'         readEntriesFunction(); // do first reading',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFilesNotInListURL(dirpath, matchRegex, keepList, onCompletion, onError)',
'//',
'// dirpath is the file URL of the directory whose contents will be examined (only files).',
'// matchRegex, if non-null, will need to match file names found for them to be considered for deletion.',
'// Any file name which is in the array keepList will not be considered even if it matches.',
'// All remaining files found (those matched and not in keepList) will be deleted.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFilesNotInListURL = function(dirpath, matchRegex, keepList, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var keepnames = {}; // fill object with all the names as attributes',
'   for (var j=0; j<keepList.length; j++) {',
'      keepnames[keepList[j]] = true;',
'   }',
'   var filelist = []; // list of files to delete',
'   var totalDeleted = 0;',
'   var deleteFromFileList = function() { // called repeatedly by itself on successes until all deleted',
'      if (filelist.length==0) { // no more to delete',
'         onCompletion(totalDeleted);',
'         return;',
'      }',
'      var todelete = filelist.pop(); // pop one from list and delete it, leaving list shorter',
'      totalDeleted += 1;',
'      todelete.remove(deleteFromFileList, onError);',
'   };',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var dirReader = fsEntry.createReader();',
'         var readEntriesFunction =',
'            function() { // function to recurse to call repeatedly after each completion until no result',
'               dirReader.readEntries( // start an async reading of entries',
'                  function(entries) { // more entries read, or done',
'                     if (!entries || entries.length==0) {',
'                        deleteFromFileList(); // got all - now start deleting them',
'                        return;',
'                     }',
'                     var name;',
'                     for (var i=0; i<entries.length; i++) {',
'                        name = entries[i].name;',
'                        if (!matchRegex || name.match(matchRegex)) { // must match regex',
'                           if (!keepnames[name]) { // and not be on keep list',
'                              filelist.push(entries[i]); // add one to delete to list',
'                           }',
'                        }',
'                     }',
'                     readEntriesFunction(); // recurse to call dirReader.readEntries again',
'                  },',
'                  onError);',
'               };',
'         readEntriesFunction(); // do first reading',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._layoutMode = \'containerwidth\';',
'{UXPRERENDEREDALIAS}_DlgObj._responsiveRulesMode = \'firsttrue\';',
'{UXPRERENDEREDALIAS}_DlgObj.__controlNesting = {',
'PANELHEADER: [\'container:LEFT_BUTTONS\',\'container:CONTAINER_CENTER\'],',
'LEFT_BUTTONS: [],',
'CONTAINER_CENTER: [],',
'CONTAINER_PROFILE: [\'tabControl:TAB_PROFILE\'],',
'TAB_PROFILE: [\'tabPane:TAB_PROFILE#1\',\'tabPane:TAB_PROFILE#2\'],',
'"TAB_PROFILE#1": [\'TrialAlert\',\'FirstName\',\'LastName\',\'PostalCode\',\'MaximumTravel\',\'PrimaryCondition\',\'SecondaryCondition\',\'Medications\'],',
'"TAB_PROFILE#2": [\'Email\',\'MobileNumber\',\'Gender\',\'DateOfBirth\',\'Address\',\'City\',\'Country\',\'State\'],',
'CONTAINER_BUTTONS: []',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._listsDV = [\'LISTHIDDEN\'];',
'//Add methods to the List prototype for Lists with Detail Views',
'$u.o.assign(A5.ListBox.prototype,',
'{',
'\t_controlDefaultValueForListField:  function(fieldName) { ',
'\tvar controlName = this._getUXDetailViewControlName(fieldName);',
'\tif(controlName == \'\') return \'\';',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
' \treturn _dlgObj.defaultValues[controlName.toUpperCase()];',
'}',
',',
'\tqueryByFormClearControls: function() { ',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar controlName;',
'\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\tif(controlName != \'\') {',
'\t\t\tval = \'\';',
'\t\t\t_dlgObj.setValue(controlName,val,false);',
'\t\t}',
'\t}',
'}',
',',
'\tremoveRowFromListByKey: function(rowKey) {',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar curVal = this.value[0];',
'\tthis.nullOutDetailViewRecord();',
'\t_dlgObj.persistVariablesToLocalStorage();',
'\tif(curVal != rowKey) { ',
'\t\tthis.removeRows([rowKey]);',
'\t\tif(typeof curVal != \'undefined\') {',
'\t\t\tthis.setValue(curVal,false);',
'\t\t\tthis._selectedRow = curVal;',
'\t\t}',
'\t\tthis.__currentRoute = this._getRoute();',
'\t} else { ',
'\t\tvar index = this.indexFromValue(curVal);',
'\t\tvar newIndex = \'\';',
'\t\tif( (index+1) < this._dataMap.length) {',
'\t\t\tnewIndex = index;',
'\t\t} else { ',
'\t\t\tnewIndex = index -1;',
'\t\t}',
'\t\tthis.removeRows([rowKey]);',
'\t\tthis.setValue(newIndex,false);',
'\t\tthis._selectedRow = newIndex;',
'\t\tthis.__currentRoute = this._getRoute();',
'\t}',
'\t_dlgObj.refreshClientSideComputations();',
'\tvar lObj = this;',
'\tif (this._data.length == 0) {',
'\t\tthis.setValue(0,false);',
'\t\tthis._selectedRow = -1;',
'\t\tvar mode = this._noRecordInListIsSelectedSettingForDetailView;',
'\t\tif(mode == \'newrecord\') { ',
'\t\t\tvar lObj = this;',
'\t\t\tsetTimeout(function() {lObj.newDetailViewRecord();},10);',
'\t\t} else if (mode == \'disabledetailview\') { ',
'\t\t\tvar lObj = this;',
'\t\t\tsetTimeout(function() {lObj.disableDetailView();},10);',
'\t\t}',
'\t}',
'\t_dlgObj._listRowSelect(this.listVariableName);',
'}',
',',
'\tsearchModeOff: function() { ',
'\tif(this._dvmode != \'search\') return true;',
'\tvar val = this._searchModeReturnValue;',
'\tif(typeof val != \'undefined\') { ',
'\t\tif(val != \'\') {',
'\t\t\tthis.setValue(this._searchModeReturnValue);',
'\t\t} else {',
'\t\t\tthis.newDetailViewRecord();',
'\t\t}',
'\t} else { ',
'\t\tthis.newDetailViewRecord();',
'\t}',
'}',
',',
'\tsearchModeOn: function() { ',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tif(this.detailViewIsDirty()) { ',
'\t\talert(\'cannot switch to search mode because detail view is dirty\');',
'\t\treturn false;',
'\t}',
'\tthis._dvmode = \'search\';',
'\tthis._searchModeReturnValue = this.value;',
'\tthis._deselectAll();',
'\tthis.queryByFormClearControls();',
'\tif(typeof this.__queryByFormValues != \'undefined\') {',
'\t\tfor(var i = 0; i < this.__queryByFormValues.length; i++) { ',
'\t\t\t_dlgObj.setValue(this.__queryByFormValues[i].control,this.__queryByFormValues[i].value,false);',
'\t\t}',
'\t}',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.modeChanged\',{mode: \'search\'});',
'\t_dlgObj.refreshClientSideComputations();',
'}',
',',
'\tpopulateUXControls: function() { ',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tops.listVariableName = this.listVariableName;',
'\tops.listObj = this;',
'\tif(this._detailView.method == \'fieldMap\') argIn = this._detailView.fieldMap;',
'\telse argIn = this._detailView.container;',
'\tvar _d = this.selectionData[0];',
'\tvar n = \'\';',
'\tvar b64prefix = \'\'',
'\tthis._currentDetailViewKey = undefined;',
'\tif(typeof _d == \'undefined\') {',
'\t\tthis.nullOutDetailViewRecord();',
'\t\treturn false; ',
'\t}',
'\tthis._currentDetailViewKey = _d[\'*key\'];',
'\twindow[this._hostComponentId + \'_DlgObj\']._populateUXControlsWithListData(_d,argIn,ops);',
'\tthis._clearServerSideErrors();',
'\tthis._showServerSideErrors();',
'\tthis._showWriteConflictErrors();',
'\tthis._dvmode = \'edit\';',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.modeChanged\',{mode: \'edit\'});',
'\t_dlgObj.refreshClientSideComputations();',
'\tthis._setParentIsDeletedOnChildren();',
'\tif(!this._restoringList) _dlgObj.persistVariablesToLocalStorage();',
'\tif(typeof _d._flagViewed != \'undefined\') { ',
'\t\tif(_d._flagViewed == false) {',
'\t\t\t_d._flagViewed = true;',
'\t\t\tthis.updateRow(this.selection[0],_d);',
'\t\t}',
'\t}',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.afterDetailViewPopulate\',{});',
'}',
',',
'\t_setParentIsDeletedOnChildren: function() { ',
'\t\tvar _d = this.selectionData[0];',
'\t\tif(typeof _d == \'undefined\') return false;',
'\t\tvar flagDel = false;',
'\t\tif(typeof _d[\'_isDeleted\'] != \'undefined\') flagDel = _d[\'_isDeleted\'];',
'\t\tif(!flagDel) {',
'\t\t\tvar flagParentIsDeleted = false;',
'\t\t\tvar pData = \'\';',
'\t\t\tif(this.allParentLists.length > 0) { ',
'\t\t\t\tfor(var i = 0; i < this.allParentLists.length; i++) {',
'\t\t\t\t\tpObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.allParentLists[i]);',
'\t\t\t\t\tif(typeof pObj.selection[0] != \'undefined\') {',
'\t\t\t\t\t\tpData = pObj.getData(pObj.selection[0]);',
'\t\t\t\t\t\tif(typeof pData._isDeleted != \'undefined\') {',
'\t\t\t\t\t\t\tif(pData._isDeleted) {',
'\t\t\t\t\t\t\t\tflagParentIsDeleted = true;',
'\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(flagParentIsDeleted) flagDel = true;',
'\t\t}',
'\t\tvar flagParentIsDeleted = false;',
'\t\tif(typeof this._parentIsDeleted != \'undefined\') flagParentIsDeleted =  this._parentIsDeleted;',
'\t\tthis.disableDetailView(flagDel || flagParentIsDeleted);',
'\t\tvar lChildObj = \'\';',
'\t\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\t\tlChildObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\t\tif(lChildObj) {',
'\t\t\t\tlChildObj.disableDetailView(flagDel);',
'\t\t\t\tif(flagDel) $acn(lChildObj.contId,\'parentIsDeleted\');',
'\t\t\t\telse $rcn(lChildObj.contId,\'parentIsDeleted\');',
'\t\t\t\tlChildObj._parentIsDeleted = flagDel;',
'\t\t\t\tlChildObj._setParentIsDeletedOnChildren();',
'\t\t\t}',
'\t\t}',
'\t}',
',',
'\tupdateListFromUXControls: function() { \t\t',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar arr = this._getControlsInDv()',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t_dlgObj.clientSideValidateField(arr[i],1,null);',
'\t\t}',
'\t\tvar flagCSE = this._hasClientSideError();',
'\t\tif(flagCSE) {',
'\t\t\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.hasClientSideValidationErrors\',{});',
'\t\t\tvar msg = this.customization.dv.clientSideErrorWarning;',
'\t\t\tif(typeof msg != \'undefined\' && msg != \'\') this._showGlobalError(msg);',
'\t\t\treturn false;',
'\t\t} else { ',
'\t\t\tthis._clearGlobalError();',
'\t\t}',
'\t\tvar _route = this._getRoute();',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar flagGetLocationData = this._captureLocation;',
'\t\tif( _dlgObj._embeddedMode || _dlgObj._livePreviewInBuilder) flagGetLocationData = false;',
'\t\tvar that = this;',
'\t\tif(flagGetLocationData) { ',
'\t\t\tvar _locationHighAccuracy = _dlgObj.locationHighAccuracy;',
'\t\t\tvar _locationTimeout = _dlgObj.locationTimeout;',
'\t\t\tvar _locationMaximumAge = _dlgObj.locationMaximumAge;',
'\t\t\tvar classInst = this;',
'\t\t\tnavigator.geolocation.getCurrentPosition(',
'\t\t\t\tfunction(pos) {',
'\t\t\t\t\tif(typeof _dlgObj._location == \'undefined\') _dlgObj._location = {};',
'\t\t\t\t\t_dlgObj._location.lat = pos.coords.latitude;',
'\t\t\t\t\t_dlgObj._location.lng = pos.coords.longitude;',
'\t\t\t\t\tclassInst._updateListFromUXControlsLow();',
'\t\t\t\t\tdelete classInst;',
'\t\t\t\t\tif(that.synchronizeImmediately) { ',
'\t\t\t\t\t\tvar flagOnLine = _dlgObj._getOnlineStatus();',
'\t\t\t\t\t\tif (flagOnLine) {',
'\t\t\t\t\t\t\t\t_dlgObj.saveListEdits(that.listVariableName)',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar dirtyClass = \'\';',
'\t\t\t\t\tif(typeof that.dirtyControlClassName != \'undefined\') dirtyClass = that.dirtyControlClassName;',
'\t\t\t\t\tif(dirtyClass != \'\') that.populateUXControls();',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t\tif(!that._restoringList)  _dlgObj.persistVariablesToLocalStorage();',
'\t\t\t\t\t_dlgObj.refreshClientSideComputations();',
'\t\t\t\t\treturn true;',
'\t\t\t\t},',
'\t\t\t\tfunction(error) { ',
'\t\t\t\t\tdelete _dlgObj._location;  ',
'\t\t\t\t\tclassInst._updateListFromUXControlsLow();',
'\t\t\t\t\tdelete classInst;',
'\t\t\t\t\treturn true;',
' \t\t\t} ,\t{enableHighAccuracy : _locationHighAccuracy, timeout: _locationTimeout, maximumAge: _locationMaximumAge}) \t',
' \t\t\treturn true;\t',
'\t\t} else { ',
'\t\t\tthis._updateListFromUXControlsLow();',
'\t\t}',
'\t\tthis._setRoute(_route);',
'\t\tif(!this._restoringList)  _dlgObj.persistVariablesToLocalStorage();',
'\t\t_dlgObj.refreshClientSideComputations();',
'\t\tif(this.synchronizeImmediately) { ',
'\t\t\tvar flagOnLine = _dlgObj._getOnlineStatus();',
'\t\t\tif (flagOnLine) {',
'\t\t\t\t\t_dlgObj.saveListEdits(this.listVariableName)',
'\t\t\t}',
'\t\t}',
'\t\tvar dirtyClass = \'\';',
'\t\tif(typeof this.dirtyControlClassName != \'undefined\') dirtyClass = this.dirtyControlClassName;',
'\t\tif(dirtyClass != \'\') this.populateUXControls();',
'\t}',
'\t,',
'\t_updateListFromUXControlsLow: function() { \t',
'\tvar flagCSE = this._hasClientSideError();',
'\tif(flagCSE) {',
'\t\tvar msg = this.customization.dv.clientSideErrorWarning;',
'\t\tif(msg != \'\') this._showGlobalError(msg);',
'\t\treturn false;',
'\t} else { ',
'\t\tthis._clearGlobalError();',
'\t}',
'\tflagAllParentListsHaveActiveRow = true;',
'\tvar pObj = \'\';',
'\tif(this.allParentLists.length > 0) { ',
'\t\tfor(var i = 0; i < this.allParentLists.length; i++) {',
'\t\t\tpObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.allParentLists[i]);',
'\t\t\tif(typeof pObj.selection[0] == \'undefined\') {',
'\t\t\t\tflagAllParentListsHaveActiveRow = false;',
'\t\t\t\talert(\'Can\\\'t save record because there is no active record in the parent List. Parent list id: \\\'\'+this.allParentLists[i]+\'\\\'\');',
'\t\t\t\tbreak;',
'\t\t\t}',
'\t\t}',
'\t}',
'\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar flagSynchronize = this.synchronizeImmediately;',
'\tif(typeof ops.synchronize == \'undefined\') {',
'\t\tops.synchronize = flagSynchronize;',
'\t}',
'\tif(this._detailView.method == \'fieldMap\') {',
'\t\tvar res = window[this._hostComponentId + \'_DlgObj\']._updateListDataFromUXControls(this.listVariableName,this._detailView.fieldMap,ops); this._refreshDebugInfo(); ',
'\t} else {',
'\t\tvar res = window[this._hostComponentId + \'_DlgObj\']._updateListDataFromUXControls(this.listVariableName,this._detailView.container,ops); this._refreshDebugInfo(); ',
'\t}',
'\tvar parentListName = this.parentList;',
'\tif(typeof parentListName != \'undefined\') {',
'\t\tvar thisData = this.getData(this.selection[0]);',
'\t\tvar flagIsNewRow = false;',
'\t\tif(typeof thisData._isNewRow != \'undefined\') flagIsNewRow = thisData._isNewRow;',
'\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\tif(plObj._setDirtyByChild) {',
'\t\t\tif (flagIsNewRow == false)  \tplObj._setDirtyByChild(false);',
'\t\t\telse plObj._setDirtyByChild(true,thisData,this.listVariableName);',
'\t\t}',
'\t}',
'\tthis._populateMyChildren();',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.afterUpdateList\',{});',
'\treturn res;',
'},',
'\t_setDirtyByChild: function(flagNewRow) { \t\t',
'\t\tvar rn = this.selection[0];',
'\t\tif(typeof rn == \'undefined\') rn = 0;',
'\t\tif(flagNewRow) {',
'\t\t\tvar newData = arguments[1];',
'\t\t\tvar listName = arguments[2];',
'\t\t\tthis.setRowDirty(rn,true,newData,listName);',
'\t\t} else {',
'\t\t\tthis.setRowDirty(rn,false);',
'\t\t}',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') { ',
'\t\t\tif(parentListName != \'\') {',
'\t\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentListName);',
'\t\t\t\tif(plObj._setDirtyByChild) \tplObj._setDirtyByChild(false);',
'\t\t\t}',
'\t\t}',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t}',
'\t,',
'\t_getChildData: function(existingData,childListName) {\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar clObj = _dlgObj.getControl(childListName);',
'\t\tif(!clObj) return false;',
'\t\tif(clObj._dataSourceType.toLowerCase() == \'sql\') { ',
'\t\t\treturn existingData[\'__LIST__\' + childListName];',
'\t\t} else { ',
'\t\t\treturn existingData[clObj._objectNameInParentListForData];',
'\t\t}',
'\t}',
'\t,',
'\t_getChildDataObjectName: function(childListName) { \t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar clObj = _dlgObj.getControl(childListName);',
'\t\tif(!clObj) return \'__LIST__\' + childListName.toUpperCase();',
'\t\tif(clObj._dataSourceType.toLowerCase() == \'sql\') { ',
'\t\t\treturn \'__LIST__\' + childListName.toUpperCase();',
'\t\t} else { ',
'\t\t\treturn clObj._objectNameInParentListForData',
'\t\t}',
'\t}',
'\t,',
'\tsetRowDirty: function(rn,flagNewRow) {\t\tvar existingData = this.getData(rn);',
'\t\texistingData._isDirty = true;',
'\t\tif(flagNewRow) { ',
'\t\t\tvar newData = arguments[2];',
'\t\t\tvar listName = arguments[3];',
'\t\t\tvar childData = this._getChildData(existingData,listName);',
'\t\t\tif(typeof childData == \'undefined\') return false;',
'\t\t\tvar childDataObjectName = this._getChildDataObjectName(listName);',
'\t\t\tvar n = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(childData,\'*key\',newData[\'*key\']);',
'\t\t\tif(n == -1) {',
'\t\t\t\tif(existingData[childDataObjectName].constructor == Array) {',
'\t\t\t\t\texistingData[childDataObjectName].push(newData);',
'\t\t\t\t} else { ',
'\t\t\t\t\texistingData[childDataObjectName] =  [];',
'\t\t\t\t\texistingData[childDataObjectName].push(newData);',
'\t\t\t\t}',
'\t\t\t} else { ',
'\t\t\t}',
'\t\t}',
'\t\tthis.updateRow(rn,existingData);',
'\t}',
'\t,',
'\t_showDirtyDetailViewWarning: function() {',
'\t\tif(!this.detailViewIsDirty(true)) return true;',
'\t\telse {',
'\t\t\tvar obj = {};',
'\t\t\tobj.thisListName = this.listVariableName;',
'\t\t\tobj.dirtyListName = this._nameOfListWithDirtyDetailView;',
'\t\t\tobj.handled = false;',
'\t\t\twindow[this._hostComponentId + \'_DlgObj\']._list_executeEvent(this.listVariableName,\'detailView.afterListRowSelectCancelled\',obj);',
'\t\t\tif(obj.handled) return false;',
'\t\t\tvar msg = this.customization.dv.dirtyDetailViewRecord.message;',
'\t\t\tvar image = this.customization.dv.dirtyDetailViewRecord.icon;',
'\t\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\t\tvar flagThisListHasDirtyDv = false;',
'\t\t\tif(this.listVariableName == this._nameOfListWithDirtyDetailView) flagThisListHasDirtyDv = true;;',
'\t\t\tif(!flagThisListHasDirtyDv) {',
'\t\t\t\tmsg = msg + \'<br>(List with dirty Detail View: \\\'\' + this._nameOfListWithDirtyDetailView + \'\\\')\';',
'\t\t\t}',
'\t\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\t\tvar title = this.customization.dv.dirtyDetailViewRecord.title;',
'\t\t\tA5.msgBox.show(title,msg,\'O\',function() {} );',
'\t\t\treturn false;',
'\t\t}',
'\t}',
'\t,',
'\t_getListFieldFromControl: function(ctrl) {\t\tvar indx = \'\';',
'\t\tif(this._detailView.method == \'fieldMap\') {',
'\t\t\tvar map = this._detailView.fieldMap;',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(map,\'control\',ctrl);',
'\t\t\tif(indx > -1) return map[indx].field',
'\t\t} else {',
'\t\t\tctrl = ctrl.toUpperCase();',
'\t\t\tvar la = this._listFields;',
'\t\t\tfor(var i = 0; i < la.length; i++) { ',
'\t\t\t\tif(la[i].name.toUpperCase() == ctrl) return la[i].name;',
'\t\t\t}',
'\t\t\treturn false;',
'\t\t}',
'\t}',
'\t,',
'\tdisableDetailView: function() { \t\tvar flag = typeof arguments[0] != \'undefined\' ? arguments[0] : true;',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].setDisabled(this._getControlsInDv(),flag);',
'\t}',
'\t,',
'\t_getControlsInDv: function() {\t\tif(typeof this._controlsInDV != \'undefined\') {',
'\t\t\treturn this._controlsInDV;',
'\t\t}',
'\t\tvar arr = [];',
'\t\tif(typeof this._detailView == \'undefined\') return \'\';',
'\t\tif(typeof this._detailView.method == \'undefined\') return \'\';',
'\t\tif(this._detailView.method == \'fieldMap\') { ',
'\t\t\tvar ele = \'\';',
'\t\t\tfor (var i = 0; i < this._detailView.fieldMap.length; i++) {',
'\t\t\t\tele = $(this._hostComponentId + \'.V.R1.\' + this._detailView.fieldMap[i].control.toUpperCase());',
'\t\t\t\tif(ele) arr.push(this._detailView.fieldMap[i].control.toUpperCase());',
'\t\t\t}',
'\t\t\tthis._controlsInDV = arr;',
'\t\t\treturn arr;',
'\t\t} else { ',
'\t\t\tvar indx = -1;',
'\t\t\tvar ctrlList = window[this._hostComponentId + \'_DlgObj\'].getControlsInContainer(this._detailView.container);',
'\t\t\tfor(var c = 0; c < ctrlList.length; c++) {',
'\t\t\t\tfor(var i = 0; i < this._listFields.length; i++) {',
'\t\t\t\t\tif(this._listFields[i].name.toLowerCase() == ctrlList[c].toLowerCase()) arr.push(ctrlList[c].toUpperCase());',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis._controlsInDV = arr;',
'\t\t\treturn arr;',
'\t\t}',
'\t}',
'\t,',
'\t_stripCleanBase64Data: function(_d) { \t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar _dc = {}',
'\t\tvar cn = \'\';',
'\t\tvar ct = \'\';',
'\t\tvar flagDirty = \'\';',
'\t\tvar flagCapture = \'\';',
'\t\tvar ix = \'\';',
'\t\tvar flagEmbeddedImage = \'\';',
'\t\tfor(var prop in _d) {',
'\t\t\tflagCapture = true; ',
'\t\t\tcn = this._getUXDetailViewControlName(prop);',
'\t\t\tif(cn != \'\') {',
'\t\t\t\tct = _dlgObj._getControlType(cn).toLowerCase();',
'\t\t\t\tif(ct == \'signaturecapture\' || ct == \'image\') {',
'\t\t\t\t\tflagCapture = false;',
'\t\t\t\t\tvar _dirtyImages = _d[\'_dirtyImages\'];',
'\t\t\t\t\tvar flagImageDirty = false;',
'\t\t\t\t\tif(typeof _dirtyImages != \'undefined\') {',
'\t\t\t\t\t\tflagImageDirty = _dirtyImages[prop];',
'\t\t\t\t\t\tif(typeof flagImageDirty != \'undefined\') flagCapture = true;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(flagCapture) _dc[prop] = _d[prop];',
'\t\t}',
'\t\treturn _dc;',
'\t}\t',
'\t,',
'\t_getData2: function(row) { \t\t',
'\t\tvar _d = this.getData(row);',
'\t\treturn this._stripCleanBase64Data(_d);',
'\t}',
'\t,',
'\tharvestListRow: function() { \t\t',
'\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tvar obj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\t\tvar flagSumbmitAllChildRecords = false;',
'\t\tif(typeof obj.flagSumbmitAllChildRecords != \'undefined\') flagSumbmitAllChildRecords = obj.flagSumbmitAllChildRecords;',
'\t\tif(typeof rn != \'number\') {',
'\t\t\tif(!rn._isNewRow){',
'\t\t\t\tvar existingData = this._stripCleanBase64Data(rn);',
'\t\t\t} else {',
'\t\t\t\tvar existingData = rn;',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tif(rn > -1) {',
'\t\t\t\tvar existingData = this._getData2(rn); ',
'\t\t\t} else {',
'\t\t\t\tif(this.selection[0] != \'undefined\') var existingData = this._getData2(this.selection[0]); ',
'\t\t\t}',
'\t\t}',
'\t\tif(typeof existingData == \'undefined\') return {};',
'\t\tvar flagDirty = false;',
'\t\tvar flagNewRow = false;',
'\t\tif(typeof existingData._isDirty != \'undefined\') flagDirty = existingData._isDirty;',
'\t\tif(typeof existingData._isNewRow != \'undefined\') flagNewRow = existingData._isNewRow;',
'\t\tdelete existingData._previousData;',
'\t\tif(flagDirty || flagNewRow) {',
'\t\t\tif(!flagSumbmitAllChildRecords) {',
'\t\t\t\tvar dirtyDataOnly = this._trimNonDirtyData(existingData);',
'\t\t\t\treturn dirtyDataOnly;',
'\t\t\t} else {',
'\t\t\t\treturn existingData;',
'\t\t\t}',
'\t\t}',
'\t\treturn {};',
'\t}',
'\t,',
'\tfieldIsDirty: function(field) { \t\tvar rSel = this.selection[0];',
'\t\tvar rn = typeof arguments[1] != \'undefined\' ? arguments[1] : rSel;',
'\t\tif(typeof rSel == \'undefined\') return false;',
'\t\tvar _d = this.getData(rn);',
'\t\tvar _dv = _d[field];',
'\t\tvar flagNewRow = _d[\'_isNewRow\'];',
'\t\tif(typeof flagNewRow == \'undefined\') flagNewRow = false;',
'\t\tif(flagNewRow) { ',
'\t\t\tif(_dv == \'\') return false;',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar _od = _d[\'_oldData\'];',
'\t\tif(typeof _od == \'undefined\') return false;',
'\t\tvar _odv = _od[field];',
'\t\tif(typeof _dv == \'undefined\') return false;',
'\t\tif(typeof _odv == \'undefined\') return false;',
'\t\tif(_dv == _odv ) return false;',
'\t\telse return true;',
'\t}',
'\t,',
'\t_trimNonDirtyData: function(data) { \t\tvar data2 = {};',
'\t\tvar tData = [];',
'\t\tfor(var prop in data) {',
'\t\t\tif(data[prop] != null) {\t\t\t',
'\t\t\t\tif(data[prop].constructor == Array) {',
'\t\t\t\t\ttData = [];',
'\t\t\t\t\tfor(var i = 0; i < data[prop].length; i++) {',
'\t\t\t\t\t\tif(data[prop][i]._isNewRow || data[prop][i]._isDirty ) {',
'\t\t\t\t\t\t\ttData.push(this._trimNonDirtyData(data[prop][i]));',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tdata2[prop] = tData;',
'\t\t\t\t} else {',
'\t\t\t\t\tdata2[prop] = data[prop];',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\tdata2[prop] = null;',
'\t\t\t}',
'\t\t}',
'\t\treturn data2;',
'\t}',
'\t,',
'\t_logicalRow2PhysicalRow: function(rn) { \t\tif(typeof rn != \'number\') {',
'\t\t\treturn rn;',
'\t\t}',
'\t\tvar u = this._dataMap;',
'\t\treturn $u.a.find(u,rn);',
'\t}',
'\t,',
'\tharvestListKeys: function() { \t\tvar existingData = {};',
'\t\tvar arr = [];',
'\t\tvar key = \'\';',
'\t\tfor (var i = 0; i < this._data.length; i++) { ',
'\t\t\texistingData = this._data[i];',
'\t\t\tif(typeof existingData.__primaryKey != \'undefined\') {',
'\t\t\t\tkey = existingData.__primaryKey;',
'\t\t\t} else {',
'\t\t\t\tkey = existingData[\'*value\']',
'\t\t\t}',
'\t\t\tif(key != \'\') arr.push(key);',
'\t\t}',
'\t\treturn arr;',
'\t}',
'\t,',
'\t_hasMediaFileUploadErrors: function(data) {\t\t',
'\t\tvar flag = false;',
'\t\tvar r = A5.u.object.each(data,function(name,value,path,result){',
'\t\t\tif(name == \'_flagMediaFileUploadError\'){',
'\t\t\t\tif(value) flag =  true;',
' \t\t   }',
'\t\t});',
'\t\treturn flag;',
'\t}',
',',
'\tharvestList: function() { \t\t',
'\t\tvar flagPKOnly = typeof arguments[0] != \'undefined\' ? arguments[0] : false;',
'\t\tvar obj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\t\tvar startingRow = 1;',
'\t\tvar batchSize = 0;',
'\t\tvar flagSumbmitAllChildRecords = false;',
'\t\tif(typeof obj.batchSize != \'undefined\') batchSize = obj.batchSize;',
'\t\tif(typeof obj.startingRow != \'undefined\') startingRow = obj.startingRow;',
'\t\tif(typeof obj.flagSumbmitAllChildRecords != \'undefined\') flagSumbmitAllChildRecords = obj.flagSumbmitAllChildRecords;',
'\t\tvar flagDirty = false;',
'\t\tvar flagNewRow = false;',
'\t\tvar flagHasMediaFileUploadError = false;',
'\t\tvar existingData = \'\';',
'\t\tvar arr = [];',
'\t\tvar _tempData = \'\';',
'\t\tif(batchSize > 0 && startingRow > 1 && flagPKOnly == false) { ',
'\t\t\tvar arr2 = [];',
'\t\t\tvar count = 0;',
'\t\t\tfor(var i = startingRow -1; i < this.__arrDirtyRows.length; i++) { ',
'\t\t\t\trowToGet = this.__arrDirtyRows[i]; ',
'\t\t\t\texistingData = this._data[rowToGet];',
'\t\t\t\t_tempData = this.harvestListRow(existingData, {flagSumbmitAllChildRecords: flagSumbmitAllChildRecords});',
'\t\t\t\tarr2.push(_tempData);',
'\t\t\t\tcount = count + 1;',
'\t\t\t\tif(count >= batchSize) break;',
'\t\t\t}',
'\t\t\treturn arr2;',
'\t\t}',
'\t\tthis.__arrDirtyRows = [];',
'\t\tfor (var i = 0; i < this._data.length; i++) { ',
'\t\t\texistingData = this._data[i];',
'\t\t\tflagDirty = false; flagNewRow = false;',
'\t\t\tif(typeof existingData._isDirty != \'undefined\') flagDirty = existingData._isDirty;',
'\t\t\tif(typeof existingData._isNewRow != \'undefined\') flagNewRow = existingData._isNewRow;',
'\t\t\tif(flagDirty || flagNewRow) {',
'\t\t\t\tflagHasMediaFileUploadError = this._hasMediaFileUploadErrors(existingData);',
'\t\t\t}',
'\t\t\tif( (flagDirty || flagNewRow) && !flagHasMediaFileUploadError ) {',
'\t\t\t\tif(flagPKOnly == false)\t{',
'\t\t\t\t\t_tempData = this.harvestListRow(existingData, {flagSumbmitAllChildRecords: flagSumbmitAllChildRecords});',
'\t\t\t\t\tarr.push(_tempData);',
'\t\t\t\t} else {',
'\t\t\t\t\tif(typeof existingData.__primaryKey != \'undefined\') {',
'\t\t\t\t\t\tarr.push(existingData.__primaryKey);',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tarr.push(existingData[\'*value\']);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(batchSize > 0 && startingRow == 1 && flagPKOnly == false)  {',
'\t\t\t\t\tif(flagPKOnly == false) {',
'\t\t\t\t\t\tthis.__arrDirtyRows.push(existingData[\'*key\']);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(batchSize > 0 && flagPKOnly == false) {',
'\t\t\tvar arr2 = [];',
'\t\t\tvar count = 0;',
'\t\t\tfor(var i = startingRow -1; i < this.__arrDirtyRows.length; i++) { ',
'\t\t\t\trowToGet = this.__arrDirtyRows[i];',
'\t\t\t\tarr2.push(this._getRowByKey(arr,rowToGet));',
'\t\t\t\tcount = count + 1;',
'\t\t\t\tif(count >= batchSize) break;',
'\t\t\t}',
'\t\t\treturn arr2',
'\t\t}',
'\t\treturn arr;',
'\t}',
'\t,',
'\t_getRowByKey: function(arr,key) {\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif(arr[i][\'*key\'] == key) return arr[i];',
'\t\t}',
'\t\treturn false; ',
'\t}',
',',
'\tlistRowIsDirty: function() {\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tvar flagNewRow = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\t\tif(rn > -1) {',
'\t\t\tvar existingData = this.getData(rn);',
'\t\t} else {',
'\t\t\tvar existingData = this.getData(this.selection[0]);',
'\t\t}',
'\t\tif(typeof existingData == \'undefined\') return false;',
'\t\tif(!flagNewRow) {',
'\t\t\tif(typeof existingData._isDirty != \'undefined\') return existingData._isDirty;',
'\t\t\telse return false;',
'\t\t} else { ',
'\t\t\tif(typeof existingData._isNewRow != \'undefined\') return existingData._isNewRow;',
'\t\t\telse return false;',
'\t\t}',
'\t}',
'\t,',
'\tlistRowIsNew: function() {\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\treturn this.listRowIsDirty(rn,true);',
'\t}',
'\t,',
'\t_getDataFromRoute: function(route) { \t\tvar rn = [].concat(route);',
'\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\tif(typeof topParent == \'undefined\') var lObj = this;',
'\t\telse var lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\tvar _td = lObj._data;',
'\t\tfor(var i = 0; i < rn.length; i++) { ',
'\t\t   _td = _td[ rn[i] ];',
'\t\t}',
'\t\treturn _td;',
'\t}',
'\t,',
'\t_isRowInRouteVisible: function(route) { \t\tvar rn = [].concat(route);',
'\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\tif(typeof topParent == \'undefined\') var lObj = this;',
'\t\telse var lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\tvar index = 0;',
'\t\twhile(rn.length >1) {',
'\t\t\tindex = lObj._logicalRow2PhysicalRow(rn.shift());',
'\t\t\tif(lObj.selection[0] != index) return false;',
'\t\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(rn.shift().replace(\'__LIST__\',\'\'));',
'\t\t}',
'\t\treturn true;\t\t',
'\t}',
'\t,',
'\t_isRouteBranchDirty: function(route) { \t\tvar rn = [].concat(route);',
'\t\tif( typeof  rn[rn.length-1] == \'number\' ) rn.pop();',
'\t\tvar _d = this._getDataFromRoute(rn);',
'\t\tfor(var i = 0; i < _d.length; i++) { ',
'\t\t\tif( _d[i]._isDirty || _d[i]._isNewRow || _d[i]._isDeletedRow) return true;',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_routeBranchHasServerSideError: function(route) { \t\tvar rn = [].concat(route);',
'\t\tif( typeof  rn[rn.length-1] == \'number\' ) rn.pop();',
'\t\tvar _d = this._getDataFromRoute(rn);',
'\t\tfor(var i = 0; i < _d.length; i++) { ',
'\t\t\tif(  _d[i]._hasServerSideError ||  _d[i]._flagServerSideErrorInChild  || _d[i]._hasWriteConflictErrors ||  _d[i]._flagWriteConflictErrorInChild      ) return true;',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_responseStart: function() {\t\tdelete this._rowGUIDS;',
'\t\tthis._rowGUIDS = [];',
'\t}',
',',
'\t_responseEnd: function() {\t\t',
'\t\tvar flagUsingSyncLog = false;',
'\t\tflagUsingSyncLog = this._useServerSideSyncLog;',
'\t\tif(typeof flagUsingSyncLog == \'undefined\') flagUsingSyncLog = false;',
'\t\tif(flagUsingSyncLog) {',
'\t\t\tvar flagClearLog = this._clearServerSideSyncLog;',
'\t\t\tif(typeof flagClearLog == \'undefined\') flagClearLog = true;',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\tif(flagClearLog) {',
'\t\t\t\t_dlgObj.synchronizeComplete(this._rowGUIDS);',
'\t\t\t}',
'\t\t}',
'\t}',
',',
'\t_getTopParentList: function() { \t\t',
'\t\tvar allParentLists = this.allParentLists;',
'\t\tif(typeof allParentLists == \'undefined\') return this.listVariableName;',
'\t\tif(allParentLists.length == 0) return this.listVariableName;',
'\t\treturn allParentLists[allParentLists.length -1];',
'\t}',
',',
'\tsetRowCleanPreserveState: function() {\t\tthis.setRowClean(arguments[0],-1,true);',
'\t}',
',',
'\tsetRowClean: function() {\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tvar mode = typeof arguments[1] != \'undefined\' ? arguments[1] : -1;',
'\t\tvar flagPreserveState = typeof arguments[2] != \'undefined\' ? arguments[2] : false;',
'\t\tvar flagRouteArray = false;',
'\t\tif(rn.constructor == Array) { ',
'\t\t\tflagRouteArray = true;',
'\t\t\tvar existingData = this._getDataFromRoute(rn);',
'\t\t\tvar _row = rn[rn.length -1];',
'\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t} else {',
'\t\t\tvar _row = \'\';',
'\t\t\tvar existingData = this.getData(this.selection[0]);',
'\t\t\tif(rn > -1) {',
'\t\t\t\t_row = rn;',
'\t\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t\t} else _row = existingData[\'*key\'];',
'\t\t\tvar existingData = this.getData(_row);',
'\t\t}',
'\t\tif(mode == 1 ) {',
'\t\t\tif(typeof existingData._oldData != \'undefined\') return false;',
'\t\t}',
'\t\tif(!flagPreserveState) {',
'\t\t\texistingData._isDirty = false;',
'\t\t\texistingData._isNewRow = false;',
'\t\t}',
'\t\texistingData._hasServerSideError = false;',
'\t\texistingData._serverSideErrors = false;',
'\t\texistingData._flagServerSideErrorInChild = false;',
'\t\texistingData._hasWriteConflictErrors = false;',
'\t\texistingData._hasGlobalErrors = false;',
'\t\texistingData._flagWriteConflictErrorInChild = false;',
'\t\texistingData._flagGlobalErrorInChild = false;',
'\t\texistingData._dirtyImages = false;',
'\t\tvar topParentList = this._getTopParentList();',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar lTop = _dlgObj.getControl(topParentList);',
'\t\tif(typeof lTop._rowGUIDS == \'undefined\') lTop._rowGUIDS = [];',
'\t\tlTop._rowGUIDS.push(existingData[\'*rowGUID\']);',
'\t\tdelete existingData[\'*rowGUID\'];',
'\t\texistingData._writeConflictErrors = false;',
'\t\tif(!flagPreserveState) delete existingData._oldData;',
'\t\tdelete existingData._globalErrors;',
'\t\tdelete existingData._globalErrorsRaw;',
'\t\tif(flagRouteArray) {',
'\t\t\tif(this._isRowInRouteVisible(rn)) this.updateRow(_row,existingData);',
'\t\t} else {',
'\t\t\tthis.updateRow(_row,existingData);',
'\t\t}',
'\t\tvar parentList = this.parentList;',
'\t\tif(typeof parentList != \'undefined\') {',
'\t\t\tif(flagRouteArray) var flagListIsDirty =  this._isRouteBranchDirty(rn);  ',
'\t\t\telse var flagListIsDirty = this.listIsDirty();',
'\t\t\tif (flagListIsDirty == false) { ',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\t\t\tif(flagRouteArray) {',
'\t\t\t\t\trn.pop();',
'\t\t\t\t\trn.pop();',
'\t\t\t\t\tlObj.setRowClean(rn,1);',
'\t\t\t\t} else {',
'\t\t\t\t\tlObj.setRowClean(-1,1);',
'\t\t\t\t}',
'\t\t\t} else { ',
'\t\t\t\tif(flagPreserveState) {',
'\t\t\t\t\tthis._setRouteDirty(rn);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\t_setRouteDirty: function(route) { \t\troute.pop();',
'\t\troute.pop();',
'\t\tvar flagLoop = true;',
'\t\tif(route.length == 0) flagLoop = false;',
'\t\twhile(flagLoop) { ',
'\t\t\tvar existingData = this._getDataFromRoute(route);',
'\t\t\texistingData._isDirty = true;',
'\t\t\troute.pop();',
'\t\t\troute.pop();',
'\t\t\tif(route.length == 0) break;',
'\t\t}',
'\t}',
',',
'\t_showError: function(id,moreTxt,lessTxt) { \t\tvar e = $(id);',
'\t\tvar e2 = $(id + \'.LINK\');',
'\t\tif(e.style.display == \'\') { ',
'\t\t\te.style.display = \'none\';',
'\t\t\te2.innerHTML = moreTxt;',
'\t\t} else { ',
'\t\t\te.style.display = \'\';',
'\t\t\te2.innerHTML = lessTxt;',
'\t\t}',
'\t}',
'\t,',
'\t_setGlobalCRUDErrors: function(rowNum,txt,mode) { \t\t',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar ePH =  this._globalErrorPlaceHolder;',
'\t\tif(typeof ePH == \'undefined\') ePH = \'\';',
'\t\tvar flagPH = $(ePH);',
'\t\tif(typeof mode == \'undefined\') mode = \'\';',
'\t\tvar txtRaw = txt;',
'\t\tif(mode != \'\' && ePH != \'\' && flagPH) {',
'\t\t\tvar customMessage = this.customization.dv.databaseError[mode];',
'\t\t\tcustomMessage = customMessage.split(\'|\');',
'\t\t\ttxt = \'<div onclick="window[\\\'\'+this._hostComponentId + \'_DlgObj\\\'].getControl(\\\'\'+this.listVariableName+\'\\\')._showError(\\\'\'+this.listVariableName +\'.GLOBALERROR\\\',\\\'\'+customMessage[1]+\'\\\',\\\'\'+customMessage[2]+\'\\\');">\' + customMessage[0] + \'&nbsp;<a id="\'+this._hostComponentId+\'.\'+this.listVariableName + \'.GLOBALERROR.LINK" class="iOS7Link" style="cursor: pointer;color:red; font-size: 8pt;" href=\\\'#\\\'>\'+customMessage[1]+\'</a>\' + \'<div id="\'+this.listVariableName+\'.GLOBALERROR" style="display: none; font-size: 8pt;">\'+txt+\'</div></div>\';',
'\t\t}',
'\t\tif(rowNum.constructor == Array) { ',
'\t\t\tthis.setServerSideError(true,rowNum,txt,\'ge\',txtRaw);',
'\t\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar _d = this._getRowData(rowNum);',
'\t\t_d._globalErrors = txt;',
'\t\t_d._globalErrorsRaw = txtRaw;',
'\t\t_d._hasServerSideError = false;',
'\t\t_d._serverSideErrors = false;',
'\t\tthis.updateRow(rowNum,_d);',
'\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t}',
'\t,',
'\tgetAllErrors: function() { \t\tvar lObj = this;',
'\t\tvar data = lObj._data;',
'\t\tvar r = A5.u.object.each(data,function(name,value,path,result){',
'\t\t\tpath = path.splice(0,path.length -1);',
'\t\t\tvar _dr = data;',
'\t\t\tfor(var i = 0; i < path.length; i++) { ',
'\t\t\t\tvar _dr = _dr[path[i]];',
'\t\t\t}',
'\t\t\tif(name == \'_hasServerSideError\') { ',
'\t\t\t\tif(value) { ',
'\t\t\t\t\tresult.push({errorType: \'serverSide\', path:path, error: _dr[\'_serverSideErrors\']});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(name == \'_hasWriteConflictErrors\') { ',
'\t\t\t\tif(value) { ',
'\t\t\t\t\tvar _wc = _dr[\'_writeConflictErrors\'];',
'\t\t\t\t\tvar _wc2 = [];',
'\t\t\t\t\t$u.o.assign(_wc2,_wc);',
'\t\t\t\t\tfor(var i = 0; i < _wc2.length; i++) {',
'\t\t\t\t\t\tdelete _wc2[i].errorText;',
'\t\t\t\t\t}',
'\t\t\t\t\tresult.push({errorType: \'writeConflict\', path: path, error: _wc2});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(name == \'_hasGlobalErrors\') { ',
'\t\t\t\tif(value) { ',
'\t\t\t\t\tresult.push({errorType: \'globalError\', path: path, error: _dr[\'_globalErrorsRaw\']});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t})',
'\t\treturn r;',
'\t}',
'\t,',
'\t_setWriteConflictErrors: function(rowNum,eArr) {\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tif(rowNum.constructor == Array) { ',
'\t\t\tthis.setServerSideError(true,rowNum,eArr,\'wc\');',
'\t\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t\t\treturn true;',
'\t\t}',
'\t\trowNum = this._logicalRow2PhysicalRow(rowNum);',
'\t\tvar _d = this._getRowData(rowNum);',
'\t\t_d._writeConflictErrors = eArr;',
'\t\t_d._hasWriteConflictErrors = true;',
'\t\t_d._hasServerSideError = false;',
'\t\t_d._serverSideErrors = false;',
'\t\tthis.updateRow(rowNum,_d);',
'\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t}',
'\t,',
'\t_setGenericByChild: function(rn,mode) { \t',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') { ',
'\t\t\tif(parentListName != \'\') {',
'\t\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentListName);',
'\t\t\t\tvar existingData = plObj._getDataFromRoute(rn);',
'\t\t\t\tif(mode == \'sse\') {',
'\t\t\t\t\texistingData._flagServerSideErrorInChild = true;',
'\t\t\t\t\texistingData._isDirty = true;',
'\t\t\t\t} else if (mode == \'wc\') { ',
'\t\t\t\t\texistingData._flagWriteConflictErrorInChild = true;',
'\t\t\t\t\texistingData._isDirty = true;',
'\t\t\t\t} else if (mode == \'ge\') {',
'\t\t\t\t\texistingData._flagGlobalErrorInChild = true;',
'\t\t\t\t\texistingData._isDirty = true;',
'\t\t\t\t}',
'\t\t\t\tvar _row = rn[rn.length -1];',
'\t\t\t\t_row = plObj._logicalRow2PhysicalRow(_row);',
'\t\t\t\tif(plObj._isRowInRouteVisible(rn)) plObj.updateRow(_row,existingData);',
'\t\t\t\trn.pop();',
'\t\t\t\trn.pop();',
'\t\t\t\tplObj._setGenericByChild(rn,mode)',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\tsetServerSideError: function(flag) { \t\t',
'\t\tvar rn = typeof arguments[1] != \'undefined\' ? arguments[1] : -1;',
'\t\tvar flagRouteArray = false;',
'\t\tif(rn.constructor == Array) { ',
'\t\t\tflagRouteArray = true;',
'\t\t}',
'\t\tvar errObj =  typeof arguments[2] != \'undefined\' ? arguments[2] : {};',
'\t\tif(flag == false) {',
'\t\t\terrObj = false;',
'\t\t}',
'\t\tvar mode = typeof arguments[3] != \'undefined\' ? arguments[3] : \'sse\' ',
'\t\tvar txtRaw = typeof arguments[4] != \'undefined\' ? arguments[4] : \'\';',
'\t\tvar _row = \'\';',
'\t\tif(flagRouteArray) { ',
'\t\t\tvar existingData = this._getDataFromRoute(rn);',
'\t\t\tvar _row = rn[rn.length -1];',
'\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t} else { ',
'\t\t\tvar existingData = this.getData(this.selection[0]);',
'\t\t\tif(rn > -1) {',
'\t\t\t\t_row = rn;',
'\t\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t\t} else _row = existingData[\'*key\'];',
'\t\t\tvar existingData = this.getData(_row);',
'\t\t}',
'\t\tif(mode == \'sse\') {',
'\t\t\texistingData._hasServerSideError = flag;',
'\t\t\texistingData._serverSideErrors = errObj;',
'\t\t\texistingData._globalErrors = false;',
'\t\t\texistingData._globalErrorsRaw = \'\'',
'\t\t\texistingData._hasGlobalErrors = false;',
'\t\t\texistingData._hasWriteConflictErrors = false;',
'\t\t\texistingData._writeConflictErrors = false;',
'\t\t} else if (mode == \'wc\') { ',
'\t\t\texistingData._hasWriteConflictErrors = flag;',
'\t\t\texistingData._writeConflictErrors = errObj;',
'\t\t\texistingData._hasServerSideError = false;',
'\t\t\texistingData._serverSideErrors = false;',
'\t\t} else if (mode == \'ge\') { ',
'\t\t\texistingData._globalErrors = errObj;',
'\t\t\texistingData._globalErrorsRaw = txtRaw;',
'\t\t\texistingData._hasGlobalErrors = flag;',
'\t\t\texistingData._hasServerSideError = false;',
'\t\t\texistingData._serverSideErrors = false;',
'\t\t}',
'\t\tif(flagRouteArray) {',
'\t\t\tif(this._isRowInRouteVisible(rn)) this.updateRow(_row,existingData);',
'\t\t\tif(this._setGenericByChild) {',
'\t\t\t\trn.pop();',
'\t\t\t\trn.pop();',
'\t\t\t\tthis._setGenericByChild(rn,mode);',
'\t\t\t}',
'\t\t} else {',
'\t\t\tthis.updateRow(_row,existingData);',
'\t\t}',
'\t}',
'\t,',
'\t_showWCErrorMore: function(varName,eleIn,infoIn) { \t\tvar info = {};',
'\t\tif(typeof infoIn != \'undefined\') { ',
'\t\t\tinfo = infoIn;',
'\t\t}',
'\t\tif(typeof eleIn == \'undefined\') eleIn = false;',
'\t\tvar row = this.selection[0];',
'\t\tthis._wceVarname = varName;',
'\t\tvar myValue = window[this._hostComponentId + \'_DlgObj\'].getValue(varName);',
'\t\tvar _d = this._getRowData(row)',
'\t\tvar wce = _d._writeConflictErrors;',
'\t\tvar wcCount = wce.length;',
'\t\tvar indx = \'\';',
'\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',varName);',
'\t\tif(indx == -1) return false ',
'\t\twce = wce[indx];',
'\t\tvar mTheirs = this.customization.dv.writeConflict.useTheirsMessage;',
'\t\tvar mMine   = this.customization.dv.writeConflict.useMineMessage;',
'\t\tvar mTheirsAll = this.customization.dv.writeConflict.useTheirsAll;',
'\t\tvar mMineAll   = this.customization.dv.writeConflict.useMineAll;',
'\t\tmTheirs = mTheirs.replace(\'{theirvalue}\',this._stripHTML(wce.oldValueCurrent,30));',
'\t\tmMine = mMine.replace(\'{myvalue}\',this._stripHTML(myValue,30));',
'\t\tvar ctxt = this;\t\t\t\t',
'\t\tvar mD = [];',
'\t\tmD.push({html: mMine, value: \'mine\'});',
'\t\tmD.push({html: mTheirs, value: \'theirs\'});',
'\t\tif(wcCount > 1) {',
'\t\t\tmD.push(\'-\');',
'\t\t\tmD.push({html: mMineAll , value: \'mineAll\'});',
'\t\t\tmD.push({html: mTheirsAll, value: \'theirsAll\' });',
'\t\t}',
'\t\tvar mS = {',
'\t\t\ttheme: \'iOS7\',',
'\t\t\t_hostComponentId : this._hostComponentId,',
'\t\t\tlistVariableName: this.listVariableName,',
'\t\t\ticonColumn: {show: false},',
'\t\t\tpointer: {show: true,location: \'auto\'},',
'\t\t\tanimation: {show: {type: \'css-slide\',duration: \'fast\'}, hide: {type: \'none\',duration: \'fast\'}},',
'\t\t\tonHide: function() {  $(this._eleWCM).style.visibility = \'\';},',
'\t\t\tonClick: function(item) { ',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.listVariableName);',
'\t\t\t\tif(item.value == \'mine\') lObj._useMine(this._varName);',
'\t\t\t\tif(item.value == \'mineAll\') lObj._useMineAll(); ',
'\t\t\t\tif(item.value == \'theirs\') lObj._useTheirs(this._varName);',
'\t\t\t\tif(item.value == \'theirsAll\') lObj._useTheirsAll(); ',
'\t\t\t}',
'\t\t};',
'\t\tvar eleWCM = this._hostComponentId +\'.WCM.\'+this.listVariableName+ \'.\' +  varName.toUpperCase();',
'\t\t$(eleWCM).style.visibility = \'hidden\';',
'\t\tif(typeof this._menu == \'undefined\') {',
'\t\t\tthis._menu = new A5.Menu(mD,mS);',
'\t\t} else {',
'\t\t\tthis._menu.populate(mD);',
'\t\t}',
'\t\tthis._menu._varName = varName;',
'\t\tthis._menu._eleWCM = eleWCM;',
'\t\tvar ele = \'\';',
'\t\tif(eleIn == false) {',
'\t\t\tele = window[this._hostComponentId + \'_DlgObj\'].getPointer(varName);',
'\t\t} else { ',
'\t\t\tele = eleIn;',
'\t\t}',
'\t\tthis._menu.show(\'dropdown\',ele);  ',
'\t}',
'\t,',
'\t_useMine: function(varName) { \t\tthis.resolveConflictUsingMine(varName);',
'\t}',
'\t,',
'\t_useTheirs: function(varName) { \t\tthis.resolveConflictUsingTheirs(varName);',
'\t}',
'\t,',
'\t_useMineAll: function() { \t\tthis.resolveConflictUsingMine();',
'\t}',
'\t,',
'\t_useTheirsAll: function() { \t\tthis.resolveConflictUsingTheirs();',
'\t}',
'\t,',
'\tresolveConflictUsingMine: function() { \t\t',
'\t\tvar control = typeof arguments[0] != \'undefined\' ? arguments[0] : \'__all__\';',
'\t\tvar row = this.selection[0];',
'\t\tvar _d = this._getRowData(row)',
'\t\tvar wce = _d._writeConflictErrors;',
'\t\tif(typeof wce == \'undefined\') return false;',
'\t\tvar arr = [];',
'\t\tif(control == \'__all__\') arr = this._getControlsInDv();',
'\t\telse arr.push(control);',
'\t\tvar myValue = \'\';',
'\t\tvar indx = \'\';',
'\t\tvar fn = \'\';',
'\t\tvar ix2 = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tmyValue = window[this._hostComponentId + \'_DlgObj\'].getValue(arr[i]);',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\tif(indx >0 -1) {',
'\t\t\t\tix2 = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\t\tif(ix2 == -1) return false ',
'\t\t\t\tfn = this._getListFieldFromControl(arr[i]);',
'\t\t\t\t_d._oldData[fn] = wce[ix2].oldValueCurrent;',
'\t\t\t\twce.splice(indx,1);',
'\t\t\t}',
'\t\t}',
'\t\tif(wce.length == 0) {',
'\t\t\t_d._writeConflictErrors = false;',
'\t\t\t_d._hasWriteConflictErrors = false;',
'\t\t\tthis.updateRow(row,_d);',
'\t\t};',
'\t\tif(_d._hasWriteConflictErrors == false) { ',
'\t\t\tvar parentList = this.parentList;',
'\t\t\tif(typeof parentList != \'undefined\') {',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\t\t\tlObj._setChildHasWriteConflictFlag();',
'\t\t\t}',
'\t\t}',
'\t\tthis._clearServerSideErrors();',
'\t\tthis._showWriteConflictErrors();',
'\t}',
'\t,',
'\tresolveConflictUsingTheirs: function() { \t\t',
'\t\tvar control = typeof arguments[0] != \'undefined\' ? arguments[0] : \'__all__\';',
'\t\tvar row = this.selection[0];',
'\t\tvar _d = this._getRowData(row)',
'\t\tvar wce = _d._writeConflictErrors;',
'\t\tif(typeof wce == \'undefined\') return false;',
'\t\tvar arr = [];',
'\t\tif(control == \'__all__\') {',
'\t\t\tarr = this._getControlsInDv();',
'\t\t} else { ',
'\t\t\tif(control.constructor == Array) { ',
'\t\t\t\tarr = control;',
'\t\t\t} else { ',
'\t\t\t\tarr.push(control);',
'\t\t\t}',
'\t\t}',
'\t\tvar myValue = \'\';',
'\t\tvar indx = \'\';',
'\t\tvar fn = \'\';',
'\t\tvar ix2 = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tmyValue = window[this._hostComponentId + \'_DlgObj\'].getValue(arr[i]);',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\tif(indx >0 -1) {',
'\t\t\t\tix2 = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\t\tif(ix2 == -1) return false ',
'\t\t\t\tfn = this._getListFieldFromControl(arr[i]);',
'\t\t\t\t_d[fn] = wce[ix2].oldValueCurrent;',
'\t\t\t\t_d._oldData[fn] = wce[ix2].oldValueCurrent;',
'\t\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setValue(arr[i], wce[ix2].oldValueCurrent,false);',
'\t\t\t\twce.splice(indx,1);',
'\t\t\t}',
'\t\t}',
'\t\tif(wce.length == 0) {',
'\t\t\t_d._writeConflictErrors = false;',
'\t\t\t_d._hasWriteConflictErrors = false;',
'\t\t};',
'\t\tvar allArr = this._getControlsInDv();',
'\t\t_d._isDirty = false;',
'\t\tvar tempData = \'\';',
'\t\tfor(var i = 0; i < allArr.length; i++) {',
'\t\t\tfn = this._getListFieldFromControl(allArr[i]);',
'\t\t\ttempData = _d._oldData[fn];',
'\t\t\tif(tempData == null) tempData = \'\';',
'\t\t\tif( _d[fn] != tempData ) {',
'\t\t\t\t_d._isDirty = true;',
'\t\t\t\tbreak;',
'\t\t\t}',
'\t\t}',
'\t\tthis.updateRow(row,_d);',
'\t\tthis._clearServerSideErrors();',
'\t\tthis._showWriteConflictErrors();\t',
'\t\tif(_d._hasWriteConflictErrors == false) { ',
'\t\t\tvar parentList = this.parentList;',
'\t\t\tif(typeof parentList != \'undefined\') {',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\t\t\tlObj._setChildHasWriteConflictFlag(); ',
'\t\t\t}',
'\t\t}',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t}',
'\t,',
'\t_stripHTML: function(txt,length) { \t\tvar ele = document.createElement(\'div\');',
'\t\tele.innerHTML = txt;',
'\t\tvar txt2 = ele.textContent;',
'\t\tvar txt3 = txt2.substr(0,length);',
'\t\tif(txt3.length < txt2.length) txt3 = txt3 + \'...\';',
'\t\tdelete ele;\t\t',
'\t\treturn txt2;',
'\t}',
'\t,',
'\t_showWriteConflictErrors: function(row) { \t\tvar _d = this._getRowData(row);',
'\t\tif(typeof _d == \'undefined\') return false; ',
'\t\tif(typeof _d._writeConflictErrors == \'undefined\') return false;',
'\t\tif(typeof _d._hasWriteConflictErrors == \'undefined\') return false;',
'\t\tif(_d._hasWriteConflictErrors == false) return false;',
'\t\t_e = _d._writeConflictErrors',
'\t\tvar arr = [];',
'\t\tfor(var i = 0; i < _e.length; i++) {',
'\t\t\tdelete obj;',
'\t\t\tvar obj = {};',
'\t\t\tobj.id =  this._hostComponentId +  \'.V.R1.\' + _e[i].varName.toUpperCase();',
'\t\t\tobj.message = _e[i].errorText;',
'\t\t\tarr.push(obj);',
'\t\t}',
'\t\tvar arrFix = [];',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif($(arr[i].id)) arrFix.push(arr[i]);',
'\t\t}',
'\t\tif(arrFix.length > 0) window[this._hostComponentId + \'_DlgObj\'].setErrors(arr);;',
'\t}',
'\t,',
'\t_showServerSideErrors: function(row) { \t\tvar _d = this._getRowData();',
'\t\tif(typeof _d == \'undefined\') return false; ',
'\t\tif(typeof _d._globalErrors != \'undefined\') {',
'\t\t\tif(_d._globalErrors != \'\') {',
'\t\t\t\tthis._showGlobalError(_d._globalErrors);',
'\t\t\t}',
'\t\t}',
'\t\tif(typeof _d._serverSideErrors == \'undefined\') return false;',
'\t\tif(typeof _d._hasServerSideError == \'undefined\') return false;',
'\t\tif(_d._hasServerSideError == false) return false;',
'\t\t_e = _d._serverSideErrors;',
'\t\tvar arr = [];',
'\t\tfor(var i = 0; i < _e.length; i++) {',
'\t\t\tdelete obj;',
'\t\t\tvar obj = {};',
'\t\t\tif(typeof _e[i].varName != \'undefined\') { ',
'\t\t\t\tobj.id = this._hostComponentId + \'.V.R1.\' + _e[i].varName.toUpperCase();',
'\t\t\t\tobj.message = _e[i].errorText;',
'\t\t\t\tobj.errorType = \'serverside\';',
'\t\t\t\tarr.push(obj);',
'\t\t\t}',
'\t\t}',
'\t\tvar arrFix = [];',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif($(arr[i].id)) arrFix.push(arr[i]);',
'\t\t}',
'\t\tif(arrFix.length > 0) window[this._hostComponentId + \'_DlgObj\'].setErrors(arr);;',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t}',
'\t,',
'\t_clearServerSideErrors: function() {\t\tvar ea = window[this._hostComponentId + \'_DlgObj\']._eh._e;',
'\t\tif(typeof ea == \'undefined\') return false;',
'\t\tvar arr = this._getControlsInDv();',
'\t\tvar fa = [];',
'\t\tvar id = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tid = this._hostComponentId + \'.V.R1.\' + arr[i].toUpperCase()',
'\t\t\tif(window[this._hostComponentId + \'_DlgObj\']._findArrayProp(ea,\'id\',id) >= 0) fa.push(id);',
'\t\t}',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].clearErrors(fa);',
'\t\tthis._clearGlobalError();',
'\t}',
'\t,',
'\t_hasClientSideError: function() { \t\tvar ea = window[this._hostComponentId + \'_DlgObj\']._eh._e;',
'\t\tif(typeof ea == \'undefined\') return false;',
'\t\tvar arr = this._getControlsInDv();',
'\t\tvar indx = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tid = this._hostComponentId + \'.V.R1.\' + arr[i].toUpperCase()',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(ea,\'id\',id);',
'\t\t\tif(indx >= 0) {',
'\t\t\t\tif( ea[indx].clientSide == true) {',
'\t\t\t\t\treturn true;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_getRowData: function() { \t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tif(rn > -1) return this.getData(rn);',
'\t\telse return this.getData(this.selection[0]);',
'\t}',
'\t,',
'\tsetListClean: function() {\t\tfor(var i = 0; i < this._data.length; i++) { ',
'\t\t\tthis.setRowClean(i);',
'\t\t}',
'\t}',
'\t,',
'\tdeleteRow: function() { \t\t',
'\t\tvar _rn = this.selection[0];',
'\t\tif(typeof _rn == \'undefined\') return false;',
'\t\tif(this._executeEvent(\'detailView.canDeleteRow\',{}) == false) return false;',
'\t\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\t\tvar flagPrompt = typeof ops.prompt != \'undefined\' ? ops.prompt : true;',
'\t\tif(!flagPrompt) {',
'\t\t\tthis._deleteRowLow();',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar classInst = this;',
'\t\tif(typeof this.customization == \'undefined\') return false;',
'\t\tvar msg = this.customization.dv.confirmDeleteWarning.message;',
'\t\tvar image = this.customization.dv.confirmDeleteWarning.icon;',
'\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\tvar title = this.customization.dv.confirmDeleteWarning.title;',
'\t\tA5.msgBox.show(title,msg,\'yn\',function(button) {',
'\t\t\tif(button == \'yes\'){',
'\t\t\t\tclassInst._deleteRowLow();    ',
'\t\t    } else if(button == \'no\'){',
'   \t\t\t}',
'   \t\t\tdelete classInst;',
'\t\t} );',
'\t}',
'\t,',
'\tresetRow: function() { \t\tif(this._executeEvent(\'detailView.canResetRow\',{}) == false) return false;',
'\t\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\t\tvar flagPrompt = typeof ops.prompt != \'undefined\' ? ops.prompt : true;',
'\t\tif(!flagPrompt) {',
'\t\t\tthis._resetRowLow();',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar classInst = this;',
'\t\tvar msg = this.customization.dv.confirmRowResetWarning.message;',
'\t\tvar image = this.customization.dv.confirmRowResetWarning.icon;',
'\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\tvar title = this.customization.dv.confirmRowResetWarning.title;',
'\t\tA5.msgBox.show(title,msg,\'yn\',function(button) {',
'\t\t\tif(button == \'yes\'){',
'\t\t\t\tclassInst._resetRowLow();    ',
'\t\t    } else if(button == \'no\'){',
'   \t\t\t}',
'   \t\t\tdelete classInst;',
'\t\t} );',
'\t}',
'\t,',
'\t_resetRowLow: function() { \t\tvar existingData = this.getData(this.selection[0]);',
'\t\tif(typeof existingData == \'undefined\') return false;',
'\t\tif(typeof existingData._oldData == \'undefined\') return false;',
'\t\tvar data = {};',
'\t\t$u.o.assign(data,existingData._oldData);',
'\t\tdata._isDirty = false;',
'\t\tdata._isDeleted = false;',
'\t\tdata._hasServerSideError = false;',
'\t\tdata._serverSideErrors = false;',
'\t\tdata._hasWriteConflictErrors = false;',
'\t\tdata._writeConflictErrors = false;',
'\t\tdata._oldData = false;',
'\t\tdelete data._globalErrors;',
'\t\tdelete data._globalErrorsRaw;',
'\t\tthis.updateRow(this.selection[0],data);',
'\t\tvar existingData = this.getData(this.selection[0]);',
'\t\tdelete existingData._globalErrors;',
'\t\tdelete existingData._globalErrorsRaw;',
'\t\tthis.updateRow(this.selection[0],existingData);',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t\tthis.populateUXControls();',
'\t\tthis._refreshDebugInfo();',
'\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\tif(typeof topParent != \'undefined\') { ',
'\t\t\tvar lObjTP = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\t\tvar _r = lObjTP._getRoute();',
'\t\t\tvar _ra = this.__routeToArray(_r)',
'\t\t\tthis.setRowCleanPreserveState(_ra);',
'\t\t}',
'\t\tthis._executeEvent(\'detailView.afterResetRow\',{});',
'\t}',
'\t,',
'\t__routeToArray: function(_r) { \t\tvar arr = [];',
'\t\tfor(var i = 0; i < _r.length; i++) { ',
'\t\t\tif(i==0) {',
'\t\t\t\tarr.push(_r[i].row);',
'\t\t\t} else { ',
'\t\t\t\tarr.push(\'__LIST__\' +_r[i].list);',
'\t\t\t\tarr.push(_r[i].row);',
'\t\t\t}',
'\t\t}',
'\t\treturn arr; ',
'\t}',
',',
'\t_arrayIsDirty: function(arr) { \t\tvar flag = false;',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif(arr[i]._isDirty) { ',
'\t\t\t\treturn true;',
'\t\t\t}',
'\t\t}',
'\t\treturn false;',
'\t}',
',',
'\t_deleteRowLow: function() { \t\t',
'\t\tvar data = this.getData(this.selection[0]);',
'\t\tif(typeof data == \'undefined\') return false;',
'\t\tvar flagNewRow = \'\';',
'\t\tif(typeof data._isNewRow != \'undefined\') flagNewRow = data._isNewRow;',
'\t\tif(flagNewRow) { ',
'\t\t\tvar _rn = this.selection[0];',
'\t\t\tvar _newRow = _rn;',
'\t\t\tif( (_newRow +1) > (this._dataMap.length-1) ) _newRow = _newRow -1;',
'\t\t\tthis.nullOutDetailViewRecord();',
'\t\t\tthis.removeRows([_rn]);',
'\t\t\tvar flagListIsClean = !this._arrayIsDirty(this._data);',
'\t\t\tdata._isDeleted = true;',
'\t\t\tvar parentListName = this.parentList;',
'\t\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\t\tvar flagIsNewRow = false;',
'\t\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\t\tvar parentData = plObj.getData(plObj.selection[0]);',
'\t\t\t\tvar parentData2 = parentData;',
'\t\t\t\tvar parentDataSublist = parentData[\'__LIST__\' + this.listVariableName];',
'\t\t\t\tvar indx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(parentDataSublist,\'*key\',data[\'*key\']);',
'\t\t\t\tparentDataSublist.splice(indx,1);',
'\t\t\t\tvar flagLoop = true;',
'\t\t\t\tvar parentList = plObj;',
'\t\t\t\twhile(flagLoop && flagListIsClean) { ',
'\t\t\t\t\tif( (typeof parentData[\'_oldData\'] == \'undefined\' || !parentData[\'_oldData\']) && (typeof parentData._isNewRecord != \'undefined\' || !parentData._isRewRecord)    ) {',
'\t\t\t\t\t\tparentData._isDirty = false;',
'\t\t\t\t\t\tparentData._flagGlobalErrorInChild = false;',
'\t\t\t\t\t\tif(typeof parentList.parentList == \'undefined\') break;',
'\t\t\t\t\t\tparentList = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList.parentList);',
'\t\t\t\t\t\tif(parentList) { ',
'\t\t\t\t\t\t\tparentData = parentList.getData(parentList.selection[0]);',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tbreak;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\t\t\tvar lTop = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\t\t\tvar topParentData = lTop.getData(lTop.selection[0]);',
'\t\t\t\tlTop._resetFlags(topParentData);',
'\t\t\t\tlTop._refreshListRecursive();',
'\t\t\t}',
'\t\t\tthis.setValue(_newRow);',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\t_dlgObj.persistVariablesToLocalStorage();',
'\t\t\tthis._executeEvent(\'detailView.afterDeleteRow\',{})',
'\t\t\treturn false;',
'\t\t}',
'\t\tdata._isDirty = true;',
'\t\tdata._hasServerSideError = false;',
'\t\tdata._serverSideErrors = false;',
'\t\tdata._hasWriteConflictErrors = false;',
'\t\tdata._writeConflictErrors = false;',
'\t\tdata._oldData = false;',
'\t\tdata._isDeleted = true;',
'\t\tdata = this._base64Prefix(data,true);',
'\t\tthis.updateRow(this.selection[0],data);',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t\tthis.populateUXControls();',
'\t\tthis._refreshDebugInfo();',
'\t\tthis._executeEvent(\'detailView.afterDeleteRow\',{});',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\tvar flagIsNewRow = false;',
'\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\tif(plObj._setDirtyByChild) {',
'\t\t\t\tplObj._setDirtyByChild(false);',
'\t\t\t}',
'\t\t}',
'\t\tif(this.synchronizeImmediately) { ',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\tvar flagOnLine = _dlgObj._getOnlineStatus();',
'\t\t\tif (flagOnLine) _dlgObj.saveListEdits(this.listVariableName);',
'\t\t}',
'\t}',
'\t,',
'\t_base64Prefix: function(_d,flagRemove) { \t\tvar n = \'\';',
'\t\tvar b64prefix = \'\'',
'\t\tfor(var i = 0; i < this._listFields.length; i++) {',
'\t\t\tif(typeof this._listFields[i].base64Prefix !== \'undefined\') { ',
'\t\t\t\tn = this._listFields[i].name;',
'\t\t\t\tb64prefix = this._listFields[i].base64Prefix;',
'\t\t\t\t_d[n] = _d[n].replace(b64prefix,\'\');',
'\t\t\t\tif(!flagRemove) _d[n] = b64prefix + _d[n];',
'\t\t\t}',
'\t\t}',
'\t\treturn _d;',
'\t}',
'\t,',
'\t_resetFlags: function(_d) { \t',
'\tvar r = A5.u.object.each(_d,function(name,value,path,result) {',
'\t\tif(name == \'_isDirty\'|| name == \'_isNewRow\' ){',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_isDirty\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_isDirty\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(name == \'_hasServerSideError\' || name == \'_flagServerSideErrorInChild\' ) { ',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_flagServerSideErrorInChild\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_flagServerSideErrorInChild\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(name == \'_hasGlobalErrors\' || name == \'_flagGlobalErrorInChild\' ) { ',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_flagGlobalErrorInChild\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_flagGlobalErrorInChild\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(name == \'_hasWriteConflictErrors\' || name == \'_flagWriteConflictErrorInChild\' ) { ',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_flagWriteConflictErrorInChild\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_flagWriteConflictErrorInChild\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t});',
'\tvar _d2 = \'\';',
'\tvar path = \'\';',
'\tvar property = \'\';',
'\tfor(var i = 0; i < r.length; i++) { ',
' \t\t _d2 = _d',
' \t\tpath = JSON.parse(r[i].path)',
' \t\tproperty = r[i].property',
' \t\tfor(var j = 0; j < path.length; j++) { ',
' \t\t\t_d2 = _d2[path[j]];',
' \t\t}',
' \t\t_d2[property] = true;',
'\t}',
'}',
',',
'\tresetForm: function() { \t\tif(this._executeEvent(\'detailView.canUndoEdits\',{}) == false) return false;',
'\t\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\t\tvar flagPrompt = typeof ops.prompt != \'undefined\' ? ops.prompt : true;',
'\t\tif(!flagPrompt) {',
'\t\t\tthis._resetFormLow();',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar classInst = this;',
'\t\tvar msg = this.customization.dv.confirmFormResetWarning.message;',
'\t\tvar image = this.customization.dv.confirmFormResetWarning.icon;',
'\t\tvar title = this.customization.dv.confirmFormResetWarning.title;',
'\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\tA5.msgBox.show(title,msg,\'yn\',function(button) {',
'\t\t\tif(button == \'yes\'){',
'\t\t\t\tclassInst._resetFormLow();    ',
'\t\t    } else if(button == \'no\'){',
'   \t\t\t}',
'   \t\t\tdelete classInst;',
'\t\t} );',
'\t}',
'\t,',
'\t_resetFormLow: function() {\t\tthis.populateUXControls();',
'\t\tvar ctrls = this._getControlsInDv();',
'\t\tvar eleId = \'\';',
'\t\tvar arr = [];',
'\t\tvar indx = -1;',
'\t\tfor(var i = 0; i < ctrls.length; i++) {',
'\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setControlDirty(ctrls[i],false);',
'\t\t\tif( window[this._hostComponentId + \'_DlgObj\']._eh._e.length > 0) {',
'\t\t\t\teleId = this._hostComponentId +  \'.V.R1.\' + ctrls[i].toUpperCase();',
'\t\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(window[this._hostComponentId + \'_DlgObj\']._eh._e,\'id\',eleId);',
'\t\t\t\tif(indx >= 0 ) arr.push(eleId);',
'\t\t\t}',
'\t\t}',
'\t\tif(arr.length > 0) window[this._hostComponentId + \'_DlgObj\'].clearErrors(arr);',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj.refreshClientSideComputations();',
'\t\tthis._executeEvent(\'detailView.afterUndoEdits\',{});',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj.persistVariablesToLocalStorage();',
'\t}',
'\t,',
'\tdetailViewIsDirty: function() {\t\t',
'\t\tvar flagDrillDown = typeof arguments[0] != \'undefined\' ? arguments[0] : false;',
'\t\tvar isDirty = false;',
'\t\tthis._nameOfListWithDirtyDetailView = \'\';',
'\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\tif(window[this._hostComponentId + \'_DlgObj\'].getControlDirty(controlName.toUpperCase())) {',
'\t\t\t\tisDirty =  true;',
'\t\t\t\tthis._nameOfListWithDirtyDetailView = this.listVariableName;',
'\t\t\t\tbreak;',
'\t\t\t}',
'\t\t}',
'\t\tthis._dvIsDirty = isDirty;',
'\t\tif(isDirty == false && flagDrillDown) {',
'\t\t\tvar lObj = \'\';',
'\t\t\tfor(var i = 0; i < this.childLists.length; i++) {',
'\t\t\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\t\t\tif(lObj) {',
'\t\t\t\t\tisDirty = lObj.detailViewIsDirty(flagDrillDown);',
'\t\t\t\t\tif(isDirty) {',
'\t\t\t\t\t\tthis._nameOfListWithDirtyDetailView = lObj._nameOfListWithDirtyDetailView;',
'\t\t\t\t\t\t$(\'msg1\').innerHTML = this._nameOfListWithDirtyDetailView ;',
'\t\t\t\t\t}',
'\t\t\t\t\tif(isDirty) break;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\treturn isDirty;',
'\t}',
'\t,',
'\tlistIsDirty: function() {\t\t',
'\t\tfor(var i = 0; i < this._data.length; i++) { ',
'\t\t\tif(typeof this._data[i]._isDirty != \'undefined\') { ',
'\t\t\t\tif(this._data[i]._isDirty) { ',
'\t\t\t\t\treturn true;',
'\t\t\t\t }',
'\t\t\t}',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_parentListHasActiveRow: function() {\t\tvar pl = this.parentList;',
'\t\tif(typeof pl == \'undefined\') {',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar l = window[this._hostComponentId + \'_DlgObj\'].getControl(pl);',
'\t\tvar s = l.selection[0];',
'\t\tif(typeof s == \'undefined\') return false;',
'\t\treturn true;',
'\t}',
'\t,',
'\tnullOutDetailViewRecord: function() {\t\tvar flagDisable = typeof arguments[0] != \'undefined\' ? arguments[0] : false;',
'\t\tvar val = \'\';',
'\t\tvar flagParentListHasActiveRow = this._parentListHasActiveRow();',
'\t\tif(flagDisable) {',
'\t\t\tif(flagParentListHasActiveRow) flagDisable = false;',
'\t\t}',
'\t\tvar debugMsg = \'CurrentList: \' + this.listVariableName + \' - flagDisable is set to: \' + flagDisable + \' my parentList has active row: \' +  this._parentListHasActiveRow();',
'\t\tvar controlName = \'\';',
'\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setValue(controlName,val,false);',
'\t\t}',
'\t\tthis._deselectAll();',
'\t\tthis._clearServerSideErrors();',
'\t\tif(flagDisable) this.disableDetailView(true);',
'\t\telse this.disableDetailView(false)',
'\t}',
'\t,',
'\tnewDetailViewRecord: function() {\t\tvar flagParentIsDeleted = false;',
'\t\tvar pData = \'\';',
'\t\tif(this.allParentLists.length > 0) { ',
'\t\t\tfor(var i = 0; i < this.allParentLists.length; i++) {',
'\t\t\t\tpObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.allParentLists[i]);',
'\t\t\t\tif(typeof pObj.selection[0] != \'undefined\') {',
'\t\t\t\t\tpData = pObj.getData(pObj.selection[0]);',
'\t\t\t\t\tif(typeof pData._isDeleted != \'undefined\') {',
'\t\t\t\t\t\tif(pData._isDeleted) {',
'\t\t\t\t\t\t\tflagParentIsDeleted = true;',
'\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(this._executeEvent(\'detailView.canNewRecord\',{}) == false) return false;',
'\t\tvar val = \'\';',
'\t\tvar controlName = \'\';',
'\t\tvar defaultJS = \'\';',
'\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\tdefaultJS = this._listFields[i].defaultValue;',
'\t\t\tif(defaultJS != \'\') {',
'\t\t\t\tval = Function(this._listFields[i].defaultValue).call(this);',
'\t\t\t} else { ',
'\t\t\t\tval = \'\';',
'\t\t\t}',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\t_dlgObj.setValue(controlName,val,false);',
'\t\t\tvar controlType = _dlgObj._getControlType(controlName).toLowerCase();',
'\t\t\tif(controlType == \'signaturecapture\') { ',
'\t\t\t\t_dlgObj._functions._toggleCanvas(controlName.toUpperCase(),\'canvas\');',
'\t\t\t\t_dlgObj._functions._clearCanvas(controlName.toUpperCase())',
'\t\t\t}',
'\t\t}',
'\t\tthis._deselectAll();',
'\t\tthis._clearServerSideErrors();',
'\t\tthis._executeEvent(\'detailView.afterNewRecord\',{});',
'\t\tthis._emptyAllChildLists();',
'\t\tif(flagParentIsDeleted) this.disableDetailView(true);',
'\t\telse this.disableDetailView(false);',
'\t\tthis._dvmode = \'enter\';',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.modeChanged\',{mode: \'enter\'});',
'\t\t_dlgObj.refreshClientSideComputations();',
'\t\tthis._selectedRow = -1;',
'\t\tthis._currentDetailViewKey = undefined;',
'\t}',
'\t,',
'\t_emptyAllChildLists: function() { \t\tfor(var i = 0; i < this.childLists.length; i++) {',
'\t\t\tvar lobj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\t\tif(lobj) {',
'\t\t\t\tlobj._emptyList();',
'\t\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setValue(lobj.listVariableName,false);',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\t_emptyChildList: function(row) { \t',
'\t\tvar _d = this.getData(row);',
'\t\tvar lName = \'\';',
'\t\tfor(var name in _d) {',
'\t\t\tif(_d[name] != null) {',
'\t\t\t\tif(_d[name].constructor == Array) {',
'\t\t\t\t\tlName = name.split(\'__LIST__\')[1];',
'\t\t\t\t\tif(typeof lName != \'undefined\') {',
'\t\t\t\t\t\t_d[name] = [];',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\t_getUXDetailViewControlName: function(field) {\t\tif(!this._hasDetailView) {',
'\t\t\treturn \'\';',
'\t\t}',
'\t\tif(this._detailView.method == \'fieldMap\') {',
'\t\t\tfor(var i = 0; i < this._detailView.fieldMap.length; i++) { ',
'\t\t\t\tif(this._detailView.fieldMap[i].field == field) {',
'\t\t\t\t\treturn this._detailView.fieldMap[i].control;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\treturn \'\';',
'\t\t} else { ',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\tvar controlsInContainer = _dlgObj.__controlNesting[this._detailView.container];',
'\t\t\tvar indx = controlsInContainer.indexOf(field);',
'\t\t\tif(indx == -1 ) return \'\'; ',
'\t\t\telse return field;',
'\t\t}',
'\t}',
'\t,',
'\t_showGlobalError: function(txt) {\t\tvar flagShowAlerts = this.flagShowAlerts;',
'\t\tif(typeof flagShowAlerts == \'undefined\') flagShowAlerts = true;',
'\t\tvar gph = this._hostComponentId + \'.V.R1.\' + this._globalErrorPlaceHolder;',
'\t\tvar ele = $(gph);',
'\t\tif(!ele) {',
'\t\t\tif(flagShowAlerts) alert(txt);',
'\t\t\treturn false;',
'\t\t}',
'\t\tvar cssTxt = this._detailViewGlobalErrorStyle;',
'\t\tcssTxt = cssTxt + \'; display: ;\'',
'\t\tele.style.cssText = cssTxt;',
'\t\tele.innerHTML = txt;',
'\t}',
'\t,',
'\t_clearGlobalError: function() {\t\tvar gph = this._hostComponentId + \'.V.R1.\' + this._globalErrorPlaceHolder;',
'\t\tele = $(gph);',
'\t\tif(ele) {',
'\t\t\tele.style.display = \'none\';',
'\t\t\tele.innerHTML = \'\';',
'\t\t}',
'\t}',
'\t,',
'\tupdateTableRow: function(primaryKeyOrRowNumber,dataObj,options) {\t\tif(typeof options == \'undefined\') options = {};',
'\t\tif(typeof options.setFocusToTargetRow == \'undefind\') options.setFocusToTargetRow = false;',
'\t\tvar obj = {};',
'\t\tobj.programmatic = true;',
'\t\tobj.data = {};',
'\t\t$u.o.assign(obj.data,dataObj);',
'\t\tobj.primaryKeyOrRowNumber = primaryKeyOrRowNumber;',
'\t\tobj.setFocusToTargetRow = options.setFocusToTargetRow;',
'\t\twindow[this._hostComponentId + \'_DlgObj\']._updateListDataFromUXControls(this.listVariableName,null,obj);',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\tvar thisData = obj.data;',
'\t\t\tvar flagIsNewRow = false;',
'\t\t\tif(typeof thisData._isNewRow != \'undefined\') flagIsNewRow = thisData._isNewRow;',
'\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\tif(plObj._setDirtyByChild) {',
'\t\t\t\tif (flagIsNewRow == false)  \tplObj._setDirtyByChild(false);',
'\t\t\t\telse plObj._setDirtyByChild(true,thisData,this.listVariableName);',
'\t\t\t}',
'\t\t}\t',
'\t}',
'\t,',
'\taddTableRow: function(dataObj,options) {\t\tvar flagRefresh = false;',
'\t\tif(typeof options == \'undefined\') {',
'\t\t\toptions = {};',
'\t\t}',
'\t\tif(typeof options.setFocusToTargetRow == \'undefind\') options.setFocusToTargetRow = false;',
'\t\tvar obj = {};',
'\t\tobj.programmatic = true;',
'\t\tobj.data = {};',
'\t\t$u.o.assign(obj.data,dataObj);',
'\t\tobj.primaryKeyOrRowNumber = null;',
'\t\tobj.setFocusToTargetRow = options.setFocusToTargetRow;',
'\t\tif(typeof options.insertRow == \'undefined\') options.insertRow = false;\t\t',
'\t\tobj.insertRow = options.insertRow;',
'\t\tobj.insertRowPosition = options.insertPosition;',
'\t\tvar _dlg = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlg._updateListDataFromUXControls(this.listVariableName,null,obj);',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\tvar thisData = obj.data;',
'\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\tif(plObj._setDirtyByChild) {',
'\t\t\t\tplObj._setDirtyByChild(true,thisData,this.listVariableName);',
'\t\t\t}',
'\t\t}',
'\t\t_dlg.refreshClientSideComputations();',
'\t}',
'\t,',
'\t_setChildHasWriteConflictFlag: function() { ',
'\tvar _d = this.getData(this.selection[0]);',
'\tvar flag = this._hasChildWithWriteConflict(); ',
'\t_d._flagWriteConflictErrorInChild = flag;',
'\tif(typeof _d._oldData == \'undefined\') { ',
'\t\tvar flag = this._hasChildWithDirtyData()',
'\t\t_d._isDirty = flag; ',
'\t}',
'\tthis.updateRow(this.selection[0],_d);',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') { ',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\tlObj._setChildHasWriteConflictFlag();',
'\t}',
'\treturn false;',
'}',
',',
'\t_hasChildWithDirtyData: function() {',
'\tvar flag = false;',
'\tvar lObj = \'\';',
'\tvar data = \'\';',
'\tfor (var i = 0; i < this.childLists.length; i++) { ',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\tdata = lObj.getData(lObj.selection[0]);',
'\t\tif(typeof data._isDirty != \'undefined\') {',
'\t\t\tif(data._isDirty) flag = true;',
'\t\t}',
'\t\tif(flag == false) { ',
'\t\t\tvar flag2 = lObj._hasChildWithDirtyData();',
'\t\t\tif(flag2) flag = true;',
'\t\t}',
'\t}',
'\treturn flag;',
'}',
',',
'\t_hasChildWithWriteConflict: function() {',
'\tvar flag = false;',
'\tvar lObj = \'\';',
'\tvar data = \'\';',
'\tfor (var i = 0; i < this.childLists.length; i++) { ',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\tdata = lObj.getData(lObj.selection[0]);',
'\t\tif(typeof data._hasWriteConflictErrors != \'undefined\') {',
'\t\t\tif(data._hasWriteConflictErrors) flag = true;',
'\t\t}',
'\t\tif(typeof data._flagWriteConflictErrorInChild != \'undefined\') {',
'\t\t\tif(data._flagWriteConflictErrorInChild) flag = true;',
'\t\t}',
'\t\tif(flag == false) { ',
'\t\t\tvar flag2 = lObj._hasChildWithWriteConflict();',
'\t\t\tif(flag2) flag = true;',
'\t\t}',
'\t}',
'\treturn flag;',
'}',
',',
'\t_populateMyChildren: function() {',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tthis._populateChildList(lname);',
'\t}',
'}',
',',
'\t_emptyList: function() { ',
'\tthis.populate([]);',
'\tthis._currentDetailViewKey = undefined;',
'\tthis._selectedRow = -1;',
'\tvar e = $(this._hostComponentId + \'.\' + this.listVariableNameTrueCase + \'.RECORDCOUNT\');',
'\tif(e) e.innerHTML = \'0\';',
'\tthis.nullOutDetailViewRecord(true); ',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lobj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tlobj._emptyList();',
'\t}',
'}',
',',
'\t_populateChildList: function(list) {',
'\tvar flagParentIsDeleted = false;',
'\tlChildObj = window[this._hostComponentId + \'_DlgObj\'].getControl(list);',
'\tif(typeof lChildObj._parentIsDeleted != \'undefined\') flagParentIsDeleted = lChildObj._parentIsDeleted;',
'\tvar _d = this.selectionData[0];',
'\tvar flagClearChildLists = false;',
'\tif(typeof _d == \'undefined\') {',
'\t\tflagClearChildLists = true;',
'\t}',
'\tif(typeof _d == \'undefined\') {',
'\t\tflagClearChildLists = true;',
'\t}',
'\tif(flagClearChildLists) { ',
'\t\tthis._emptyAllChildLists()',
'\t\treturn false;',
'\t}',
'\tvar childDataObjectName = this._getChildDataObjectName(list);',
'\tvar _rd = _d[childDataObjectName];',
'\tif(_rd == null) { ',
'\t\t_rd = [];',
'\t}',
'\tif(typeof _rd == \'undefined\' || _rd.length == 0) {',
'\t\t_d[childDataObjectName] = [];',
'\t\t_rd = _d[childDataObjectName]',
'\t}',
'\tvar lobj = window[this._hostComponentId + \'_DlgObj\'].getControl(list);',
'\tif(lobj) {',
'\t\tlobj.populate(_rd);',
'\t\tvar e = $(this._hostComponentId + \'.\' + lobj.listVariableNameTrueCase + \'.RECORDCOUNT\');',
'\t\tif(e) e.innerHTML = _rd.length;',
'\t\tlobj.disableDetailView(false);',
'\t\tif(lobj.allowNullSelection) {',
'\t\t\tif(lobj.nullOutDetailViewRecord) lobj.nullOutDetailViewRecord(true); ',
'\t\t\tfor(var i = 0; i < lobj.childLists.length; i++) { ',
'\t\t\t\tvar lname = lobj.childLists[i];',
'\t\t\t\tlobj._populateChildList(lname);',
'\t\t\t}',
'\t\t}',
'\t}',
'\tthis._currentSelection = this.selection[0];',
'\tif(flagParentIsDeleted) lobj.disableDetailView(true);',
'}',
',',
'\t_setSynchProgress: function(pct) {',
'\tvar x = \'\';',
'\tif(Number(pct) == 0) x = \'none\';',
'\tvar eleO = $(\'SYNCHPROGRESS.\' + this.listVariableName);',
'\tif(eleO) eleO.style.display = \'\';',
'\tvar eleI = $(\'SYNCHPROGRESS.\' + this.listVariableName + \'.SLIDER\');',
'\tif(eleI) {',
'\t\teleI.style.display = x;',
'\t\teleI.style.width = \'\' + pct + \'%\';',
'\t}',
'}',
',',
'\t_hideSynchProgress: function(pct) {',
'\tvar eleO = $(\'SYNCHPROGRESS.\' + this.listVariableName);',
'\tif(eleO) eleO.style.display = \'none\';',
'}',
',',
'\t_cancelBatchSynchronize: function() { ',
'\tvar flag = this._executeEvent(\'detailView.canCancelBatch\',{});',
'\tif(!flag) { ',
'\t\treturn false;',
'\t}',
'\tthis._flagCancelBatchSynchronize = true;',
'}',
',',
'\t_harvestMediaFields_low: function(arr,objListName,objState,data,options) {',
'\tvar _mediaMap = \'\';;',
'\tvar _mediaFields = \'\';',
'\tvar listName = \'\';',
'\tvar lObj = \'\';',
'\tvar flagNested = false;',
'\tvar objDirty = false;',
'\tvar fieldDirty = false;',
'\tvar lName = \'\';',
'\tvar flagCheck = \'\';',
'\tvar flagIsMediaField = false;',
'\tvar mode = options.mode;',
'\tif(typeof mode == \'undefined\') mode = \'\';',
'\tvar flagCapture = false;',
'\tvar flagCapture2 = false;',
'\tvar flagChildTable = false;',
'\tfor(var prop in data) { ',
'\t\tif(prop == \'_dirtyImages\') continue;',
'\t\tif( data[prop] != null && data[prop].constructor == Array) { ',
'\t\t\tif(data[prop].length > 0) { ',
'\t\t\t\tobjListName.push({table: prop, nested: true});',
'\t\t\t\tfor(var i = 0; i < data[prop].length; i++) { ',
'\t\t\t\t\tobjState.push( {table: objListName[  objListName.length -1][\'table\'], row: i}) ;',
'\t\t\t\t\tthis._harvestMediaFields_low(arr,objListName,objState,data[prop][i],options);',
'\t\t\t\t\tobjState.pop();',
'\t\t\t\t}',
'\t\t\t\tobjListName.pop();',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tif(objListName.length == 0) { ',
'\t\t\t\tcontinue;',
'\t\t\t}',
'\t\t\tlistName   = objListName[objListName.length -1][\'table\'];',
'\t\t\tflagNested = objListName[objListName.length -1][\'nested\'];',
'\t\t\tif(listName == \'_top_\') {',
'\t\t\t\tlObj = this;',
'\t\t\t\tflagChildTable = false;',
'\t\t\t} else { ',
'\t\t\t\tlistName = listName.split(\'__LIST__\')[1];',
'\t\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\t\tlObj = _dlgObj.getControl(listName);',
'\t\t\t\tflagChildTable = true;',
'\t\t\t}',
'\t\t\tif(lObj) { ',
'\t\t\t\tflagCheck = true;',
'\t\t\t\t_mediaMap = lObj._mediaFields;  ',
'\t\t\t\tflagIsMediaField = false;',
'\t\t\t\tif(!options.flagDirtyOnly) {',
'\t\t\t\t\tif(_mediaMap.indexOf(prop) > -1) flagIsMediaField = true;',
'\t\t\t\t\tif(flagIsMediaField) { ',
'\t\t\t\t\t\tlName = objListName[objListName.length -1][\'table\'];',
'\t\t\t\t\t\tif(lName == \'_top_\') lName = lObj.listVariableName;',
'\t\t\t\t\t\tflagCapture = false;',
'\t\t\t\t\t\tif(mode == \'\') { ',
'\t\t\t\t\t\t\tif(data[prop] != null && data[prop] != \'\' && data[prop].toLowerCase().indexOf(\'file:\') != 0) flagCapture = true;',
'\t\t\t\t\t\t} else if(mode == \'file\') { ',
'\t\t\t\t\t\t\tif(data[prop] != null && data[prop] != \'\' && data[prop].toLowerCase().indexOf(\'file:\') == 0) flagCapture = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tif(flagCapture) {',
'\t\t\t\t\t\t\tarr.push({',
'\t\t\t\t\t\t\t\tlistFieldName: prop, ',
'\t\t\t\t\t\t\t\tfilename: data[prop], ',
'\t\t\t\t\t\t\t\tlistName: lName, ',
'\t\t\t\t\t\t\t\troute: JSON.stringify(objState),',
'\t\t\t\t\t\t\t\tflagChildTable: flagChildTable',
'\t\t\t\t\t\t\t\t});',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\tif(flagCheck) {',
'\t\t\t\t\t\tfieldDirty = false;',
'\t\t\t\t\t\tif(typeof data._dirtyImages != \'undefined\') {',
'\t\t\t\t\t\t\tobjDirty = data._dirtyImages[prop];',
'\t\t\t\t\t\t\tfieldDirty = false;',
'\t\t\t\t\t\t\tif(typeof objDirty != \'undefined\') fieldDirty = objDirty;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(data._isNewRow) {',
'\t\t\t\t\t\t\t\tfieldDirty = true;',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\tif(typeof data._oldData != \'undefined\') { ',
'\t\t\t\t\t\t\t\t\tif(data[prop] != data._oldData[prop]) fieldDirty = true;',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\t_mediaMap = lObj._mediaFields;',
'\t\t\t\t\t\tif(_mediaMap.indexOf(prop) > -1) flagIsMediaField = true;',
'\t\t\t\t\t\tif(flagIsMediaField) { ',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tflagCapture2 = false;',
'\t\t\t\t\t\tif(options.flagCleanOnly) { ',
'\t\t\t\t\t\t\tif(!fieldDirty) {',
'\t\t\t\t\t\t\t\tif(flagIsMediaField) flagCapture2 = true;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(fieldDirty) { ',
'\t\t\t\t\t\t\t\tif(flagIsMediaField) flagCapture2 = true;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tif( ( ( flagCapture2 )   && data[prop] != null &&  data[prop].toLowerCase().indexOf(\'file:\') == 0 ) ) {',
'\t\t\t\t\t\t\tlName = objListName[objListName.length -1][\'table\'];',
'\t\t\t\t\t\t\tif(lName == \'_top_\') {',
'\t\t\t\t\t\t\t\tlName = lObj.listVariableName;',
'\t\t\t\t\t\t\t\tflagChildTable = false;',
'\t\t\t\t\t\t\t} else  { ',
'\t\t\t\t\t\t\t\tflagChildTable = true;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tarr.push({',
'\t\t\t\t\t\t\t\tlistFieldName: prop, ',
'\t\t\t\t\t\t\t\tfilename: data[prop], ',
'\t\t\t\t\t\t\t\tlistName: lName, ',
'\t\t\t\t\t\t\t\troute: JSON.stringify(objState),',
'\t\t\t\t\t\t\t\tflagChildTable: flagChildTable',
'\t\t\t\t\t\t\t\t});',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'}',
',',
'\t_harvestMediaFields: function() {   ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return [];',
'\tvar ops = arguments[0];',
'\tif(typeof ops == \'undefined\') ops = {};',
'\tif(typeof ops.dirtyOnly == \'undefined\') ops.dirtyOnly = true;',
'\tif(typeof ops.cleanOnly == \'undefined\') ops.cleanOnly = false;',
'\tif(typeof ops.mode == \'undefined\') ops.mode = \'\';',
'\tvar _r = ops.row;',
'\tif(typeof _r == \'undefined\') _r = -1;',
'\tvar arr = [];',
'\tvar objListName = [];',
'\tvar objState = [];',
'\tvar flagRowIsDirty = \'\';',
'\tvar flagDirtyOnly = ops.dirtyOnly;',
'\tvar options = {',
'\t\tflagDirtyOnly: flagDirtyOnly,',
'\t\tmode: ops.mode,',
'\t\tflagCleanOnly: ops.cleanOnly',
'\t};',
'\tvar flagSingleRow = false;',
'\tif(_r == -1) {',
'\t\tvar _d = this._data;',
'\t} else { ',
'\t\tvar _d = [this._data[_r]];',
'\t\tflagSingleRow = true;',
'\t}',
'\tvar _row = \'\';',
'\tobjListName.push({table: \'_top_\', nested: false});\t',
'\tfor(var i = 0; i < _d.length; i++) { ',
'\t\tflagRowIsDirty = false;',
'\t\tif(typeof _d[i]._isDirty != \'undefined\') flagRowIsDirty = _d[i]._isDirty;',
'\t\tif(flagRowIsDirty || !flagDirtyOnly || ops.cleanOnly ) { ',
'\t\t\t_row = i;',
'\t\t\tif(flagSingleRow) _row = _r;',
'\t\t\tobjState.push( {table: objListName[  objListName.length -1][\'table\'], row: _row})  ',
'\t\t\tthis._harvestMediaFields_low(arr,objListName,objState,_d[i],options);',
'\t\t\tobjState.pop();\t\t',
'\t\t}',
'\t}\t',
'\tif (!ops.cleanOnly) this._mediaFieldsArray = arr;',
'\treturn arr;',
'}',
',',
'\t_pushMediaFieldArrayToList: function(arr) { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar flagUnFix = false;',
'\tif(typeof arguments[1] != \'undefined\') flagUnFix = arguments[1];',
'\tvar lObj = this;',
'\tvar _data = lObj._data;',
'\tvar _di = \'\';',
'\tvar r = \'\';',
'\tvar table = \'\';',
'\tfor(var i = 0; i < arr.length; i++) { ',
'\t\tarr[i].routeObj = JSON.parse(arr[i].route);',
'\t\tr = arr[i].routeObj[0].row',
'\t\tfor(var j = 0; j < arr[i].routeObj.length; j ++) { ',
'\t\t\ttable = arr[i].routeObj[j].table;',
'\t\t\tr = arr[i].routeObj[j].row',
'\t\t\tif(table == \'_top_\') { ',
'\t\t\t\t_di = _data[r];',
'\t\t\t} else { ',
'\t\t\t\t_di = _di[table][r];',
'\t\t\t}',
'\t\t}',
'\t\tif(typeof _di == \'undefined\') return false;',
'\t\t_di._flagMediaFileUploadError = false;',
'\t\tif(!flagUnFix) {',
'\t\t\tif(typeof arr[i].modifiedValue != \'undefined\') {',
'\t\t\t\t_di[arr[i].listFieldName] = arr[i].modifiedValue;',
'\t\t\t} else { ',
'\t\t\t\t_di._flagMediaFileUploadError = true;',
'\t\t\t}',
'\t\t} else { ',
'\t\t\t_di[arr[i].listFieldName] = arr[i].filename;',
'\t\t}',
'\t}',
'\tvar _route = lObj._getRoute();',
'\tlObj.refresh();',
'\tthis._setRoute(_route);',
'\tif(flagUnFix) {',
'\t\tthis.populateUXControls();',
'\t}',
'}',
',',
'\t_unFixMediaFields: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar arr = this._mediaFieldsArray;',
'\tif(typeof arr == \'undefined\') return false;',
'\tthis._pushMediaFieldArrayToList(arr,true);',
'\tdelete this._mediaFieldsArray;',
'}',
',',
'\t_syncMediaFiles: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar _list = this._mediaFiles;',
'\tvar listName = this.listVariableName;',
'\tvar componentAlias = this._hostComponentId;',
'\tvar target = this._phoneGap.mediaFiles.target.toLowerCase();',
'\tif(target == \'s3\') {',
'\t\tvar S3ConnectionString = this._phoneGap.mediaFiles.s3.connectionString;',
'\t} else { ',
'\t\ttarget = \'alphaanywhere\';',
'\t}',
'\tvar targetFileNameFunction = this._phoneGap.mediaFiles.targetFilenameFunction;',
'\tvar protectedRead = this._phoneGap.mediaFiles.protectedRead;',
'\tvar fileNameTemplate = this._phoneGap.mediaFiles.template;',
'\tvar instanceId = A5.ts();',
'\tif(typeof device != \'undefined\') {',
'\t\tif(typeof device.uuid != \'undefined\') instanceId = device.uuid;',
'\t}',
'\ttargetFileNameFunction = targetFileNameFunction.replace(\'<DeviceId>\',instanceId);',
'\tvar showProgress = this._phoneGap.mediaFiles.showProgress;',
'\tvar onErrorFunction = this._phoneGap.mediaFiles.onErrorFunction;',
'\tvar pColor = \'\';',
'\tvar pElement = \'\';',
'\tvar pWidth = \'\';',
'\tif(showProgress) { ',
'\t\tpColor = this._phoneGap.mediaFiles.progress.color;',
'\t\tpElement = this._phoneGap.mediaFiles.progress.element;',
'\t\tpWidth = this._phoneGap.mediaFiles.progress.width;',
'\t}',
'\tvar arr = _list;',
'\tvar s3Obj = {};',
'\tvar aaObj = {}',
'\tif(target == \'s3\') {',
'\t\ts3Obj.connectionString = S3ConnectionString;',
'\t\ts3Obj.protectedRead = false;',
'\t} else { ',
'\t}',
'\tvar options = {',
'\t\tspecialMode: \'detailViewMediaUpload\',',
'\t\ttarget: target,',
'\t\tlistName: listName,',
'\t\tcomponentAlias: componentAlias,',
'\t\tAAServerOptions: aaObj,',
'\t\ts3: s3Obj,',
'\t\tshowProgress: showProgress,',
'\t\tonComputeS3Filename: Function(\'e\',targetFileNameFunction),',
'\t\tfileNameTemplate: fileNameTemplate,',
'\t\tonComplete: function(array) { ',
'\t\t\tif(target == \'alphaanywhere\') {',
'\t\t\t} else {',
'\t\t\t\tvar mVal = \'\';',
'\t\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\t\tmVal = this.fileNameTemplate.replace(\'__name__\',array[i].targetName);',
'\t\t\t\t\tarray[i].modifiedValue = mVal;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tvar _dlgObj = window[this.componentAlias + \'_DlgObj\'];',
'\t\t\tvar lObj = _dlgObj.getControl(listName);',
'\t\t\tlObj._pushMediaFieldArrayToList(array);',
'\t\t\tvar _dlgObj = window[options.componentAlias + \'_DlgObj\'];',
'\t\t\t_dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesUploaded\',{array:array});',
'\t\t\tvar countSucceeded = 0;',
'\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\tif(array[i].succeeded) countSucceeded = countSucceeded + 1;',
'\t\t\t}',
'\t\t\tif(countSucceeded < array.length) { ',
'\t\t\t\tvar errorCount = array.length - countSucceeded;',
'\t\t\t\t_dlgObj._list_executeEvent(listName,\'detailView.onMediaFilesUploadErrors\',{array:array, errorCount: errorCount})',
'\t\t\t}',
'\t\t\t_dlgObj.saveListEdits(options.listName,{rows: \'allRows\', checkForMediaFiles: false, fixMediaFileReferences: true, resetMediaFileUploadErrors: false});',
'\t\t},',
'\t\tprogress: {',
'\t\t\tcolor: pColor,',
'\t\t\twidth: pWidth,',
'\t\t\tindividualProgress: false,',
'\t\t\tshowTotalProgress: true,',
'\t\t\tallowCancel: false,',
'\t\t\tprogressElement: pElement',
'\t\t},',
'\t\tonError : onErrorFunction',
'\t}',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar result = _dlgObj._list_executeEvent(listName,\'detailView.beforeMediaFilesUploaded\',{array:arr});',
'\tif(!result) return false;',
'\t_dlgObj.phoneGapFileUpload(arr,options);',
'}',
',',
'\t_fetchMediaFiles: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tif (typeof this._mediaFields == \'undefined\') return false;',
'\tvar _route = arguments[1];',
'\tif(typeof _route == \'undefined\') _route = false;',
'\tvar _r = arguments[0];',
'\tif(typeof  _r == \'undefined\') _r = -1; ',
'\tvar flagFetchMediaFiles = false;',
'\tif(typeof this._phoneGap != \'undefined\') { ',
'\t\tif(typeof this._phoneGap.mediaFiles != \'undefined\') { ',
'\t\t\tif(typeof this._phoneGap.mediaFiles.download != \'undefined\') {',
'\t\t\t\tif(typeof this._phoneGap.mediaFiles.download.autodownloadFilesOnPullSynch != \'undefined\') { ',
'\t\t\t\t\tflagFetchMediaFiles = this._phoneGap.mediaFiles.download.autodownloadFilesOnPullSynch;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(!flagFetchMediaFiles) return false;',
'\tvar folder = this._phoneGap.mediaFiles.download.targetFolder;',
'\tif(folder == \'\') { ',
'\t\talert(\'You have not specified the file download settings in the List builder. Edit the settings for List \'+this.listVariableName+\' and go to \\\'Detail View\\\' pane, \\\'PhoneGap Properties\\\'.\');',
'\t\treturn false;',
'\t}',
'\tthis._flagFetchMediaHasRun = true;',
'\tfolder = folder + \'/\' + this.listVariableName;',
'\tvar listName = this.listVariableName;',
'\tvar showProgress = this._phoneGap.mediaFiles.download.showProgress;',
'\tvar pColor = \'\';',
'\tvar pElement = \'\';',
'\tvar pWidth = \'\';',
'\tif(showProgress) { ',
'\t\tpColor = this._phoneGap.mediaFiles.download.progress.color;',
'\t\tpElement = this._phoneGap.mediaFiles.download.progress.element;',
'\t\tpWidth = this._phoneGap.mediaFiles.download.progress.width;',
'\t}',
'\tvar flagDeleteOrphans = false;',
'\tif(typeof this._phoneGap.mediaFiles.download.deleteOrphansAfterSync != \'undefined\') flagDeleteOrphans =this._phoneGap.mediaFiles.download.deleteOrphansAfterSync;',
'\tvar arr = this._harvestMediaFields({dirtyOnly: false, row: _r});',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar result = _dlgObj._list_executeEvent(listName,\'detailView.beforeMediaFilesDownloaded\',{array:arr});',
'\tif(!result) { ',
'\t\t_dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesDownloaded\',{array:array, aborted: true});',
'\t\treturn false;',
'\t}',
'\tif(arr.length > 0 ) { ',
'\t\tvar lObj = this;',
'\t\tvar _dlgObj = _dlgObj;',
'\t\tvar that = this;',
'\t\tvar options = {',
'\t\t\ttargetFolder: folder,',
'\t\t\tshowProgress: showProgress,',
'\t\t\tonComplete: function(array) { ',
'\t\t\t\tvar arr = [];',
'\t\t\t\tvar _d = lObj._data;',
'\t\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\t\tif(array[i].success) {',
'\t\t\t\t\t\tarray[i].modifiedValue = array[i].localFilename;',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tarray[i].modifiedValue = array[i].filename;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar result = _dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesDownloaded\',{array:array, aborted: false});',
'\t\t\t\tif(!result) return false;',
'\t\t\t\tlObj._pushMediaFieldArrayToList(array);',
'\t\t\t\tif(flagDeleteOrphans) { ',
'\t\t\t\t\tthat._deleteOrphanMediaFiles()',
'\t\t\t\t}',
'\t\t\t\tthat.populateUXControls();',
'\t\t\t\tif(_route) {',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t\tthat.populateUXControls();',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t\tthat._populateAllChildLists();',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t}',
'\t\t\t},',
'\t\t\tprogress: {',
'\t\t\t\tcolor: pColor,',
'\t\t\t\twidth: pWidth,',
'\t\t\t\tallowCancel: false,',
'\t\t\t\tprogressElement: pElement',
'\t\t\t}',
'\t\t}',
'\t\t_dlgObj.phoneGapFileDownload(arr,options);\t',
'\t} else { ',
'\t\t _dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesDownloaded\',{array:arr});',
'\t}',
'}',
',',
'\tresolveFieldConflict: function(route,fieldName,oldValueCurrent,newValueMine) { ',
'\tvar _d = this._getDataFromRoute(route);',
'\tvar _routeCapture = this._getRoute();',
'\tif(!_d) return false;',
'\tif(typeof _d[fieldName] == \'undefined\') return false;',
'\tif(typeof _d[\'_oldData\'] == \'undefined\') return false;',
'\t_d[\'_oldData\'][fieldName] = oldValueCurrent;',
'\tif(typeof newValueMine != \'undefined\') {',
'\t\t_d[fieldName] = newValueMine;',
'\t} else { ',
'\t\t_d[fieldName] = oldValueCurrent;',
'\t}',
'\tif(typeof _d[\'_writeConflictErrors\'] != \'undefined\') { ',
'\t\tvar _wce = _d[\'_writeConflictErrors\'];',
'\t\tfor(var i = 0; i < _wce.length; i++)  { ',
'\t\t\tif(_wce[i].fieldName == fieldName) { ',
'\t\t\t\t_wce.splice(i,1);',
'\t\t\t}',
'\t\t}',
'\t\tif(_wce.length == 0) { ',
'\t\t\t_d[\'_hasWriteConflictErrors\'] = false;',
'\t\t\t_d[\'_writeConflictErrors\'] = false;',
'\t\t}\t',
'\t}',
'\tvar flagClean = true;',
'\tfor(var n in _d[\'_oldData\']) {',
'\t\tif(_d[\'_oldData\'][n] != _d[n]) {',
'\t\t\tflagClean = false;',
'\t\t\tbreak;',
'\t\t}',
'\t}',
'\tif(flagClean) { ',
'\t\tdelete _d[\'_oldData\'];',
'\t\tdelete _d.__displayStyle;',
'\t\t_d._isDirty = false;',
'\t\tvar flagLoop = true;',
'\t\twhile(flagLoop) { ',
'\t\t\troute.pop();',
'\t\t\troute.pop();',
'\t\t\tif(route.length == 0) {',
'\t\t\t\tbreak;',
'\t\t\t};',
'\t\t\tvar _dp = this._getDataFromRoute(route);',
'\t\t\tif(typeof _dp[\'_oldData\'] == \'undefined\') { ',
'\t\t\t\t_dp._isDirty = false;',
'\t\t\t\tdelete _dp.__displayStyle;',
'\t\t\t}',
'\t\t}',
'\t\tthis._refreshListRecursive();',
'\t}',
'}',
',',
'\t_refreshListRecursive: function() { ',
'\tthis.refresh();',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tlObj = _dlgObj.getControl(this.childLists[i]);',
'\t\tif(lObj) lObj._refreshListRecursive();',
'\t}',
'}',
',',
'\t_deleteOrphanMediaFiles: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar folder = this._phoneGap.mediaFiles.download.targetFolder;',
'\tif(folder == \'\') { ',
'\t\talert(\'You have not specified the file download settings in the List builder. Edit the settings for List \'+this.listVariableName+\' and go to \\\'Detail View\\\' pane, \\\'PhoneGap Properties\\\'.\');',
'\t\treturn false;',
'\t}',
'\tif(typeof this._flagFetchMediaHasRun == \'undefined\' || this._flagFetchMediaHasRun == false ) { ',
'\t\talert(\'Sync media files method has not yet been run\');',
'\t\treturn false;',
'\t}',
'\tif(folder.substring(0,1) == \'/\') folder = folder.substring(1);',
'\tif(folder.substr( folder.length -1,1) == \'/\') { ',
'\t\tfolder = folder.substring(0,folder.length -1);',
'\t}',
'\tfolder = folder + \'/\' + this.listVariableName;',
'\tvar that = this;',
'\tvar listName = this.listVariableName;',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar onFSSuccess = function(fs) { ',
'\t\tvar baseDirectory = fs.root.toURL();',
'\t\tbaseDirectory = baseDirectory + folder;',
'\t\tvar arr = that._harvestMediaFields({dirtyOnly: false, mode: \'file\'});',
'\t\tvar fr = []; ',
'\t\tfor( var i = 0; i < arr.length; i++) { ',
'\t\t\tfr.push(\'/\' + folder +  arr[i].filename.replace(baseDirectory,\'\'));',
'\t\t}',
'\t\tfr.sort();',
'\t\tvar _dlgObj = window[that._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj.phoneGapGetDirectoryRecurse(folder,function(array) { ',
'\t\t\tvar ff = [];',
'\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\tif(array[i].isFile) { ',
'\t\t\t\t\tff.push(array[i].fullPath);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tff.sort();',
'\t\t\tvar fd = []; ',
'\t\t\tfor(var i = 0; i < ff.length; i++) { ',
'\t\t\t\tif(fr.indexOf(ff[i]) < 0) { ',
'\t\t\t\t\tfd.push(ff[i]);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t var result = _dlgObj._list_executeEvent(listName,\'detailView.beforeDeleteOrphanMediaFiles\',{array:fd});',
'\t\t\t if(!result) return false;',
'\t\t\tvar countDeleted = 0;',
'\t\t\tvar countToDelete = fd.length;',
'\t\t\tfor(var i = 0 ; i < fd.length; i++) {\t',
'\t\t\t\tvar fn = fd[i];',
'\t\t\t\tif(fn.substring(0,1) == \'/\') fn = fn.substring(1);',
'\t\t\t\t_dlgObj.phoneGapDeleteFile(fn,function() { ',
'\t\t\t\t\tcountDeleted = countDeleted + 1;',
'\t\t\t\t\tif(countDeleted == countToDelete) { ',
'\t\t\t\t\t\t_dlgObj._list_executeEvent(listName,\'detailView.afterDeleteOrphanMediaFiles\',{array:fd});',
'\t\t\t\t\t}',
'\t\t\t\t})',
'\t\t\t}',
'\t\t});',
'\t}',
'\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess);',
'\treturn false;',
'}',
'}',
')',
'//End section - Add methods to List prototype',
'{UXPRERENDEREDALIAS}_DlgObj._listControls = [\'listHidden\']',
'{UXPRERENDEREDALIAS}_DlgObj._localStorageSettings = {namespace: \'ALPHA_CWMyProfile\',friendlyName: \'CenterWatch profile\',description: \'Profile\',persistVariableValues: false,__version: 1,persistComponentState: false,workingPreviewTestingFolder: \'\',restore: {variables: false,data: false,state: false},compressData: true,minify: true,variablesToNotPersist: \'\',workingPreviewTestingMode: \'Browser\',compressListData: true}',
'{UXPRERENDEREDALIAS}_DlgObj.__r = [\'3rkeltoSdQc=\']',
'{UXPRERENDEREDALIAS}_DlgObj._staticHTMLMode = false',
'{UXPRERENDEREDALIAS}_DlgObj._EDITOR_EDITORSET = {};',
'{UXPRERENDEREDALIAS}_DlgObj.styleName = \'iOS7\';',
'{UXPRERENDEREDALIAS}_DlgObj.styleVersion = 3',
'{UXPRERENDEREDALIAS}_DlgObj.framesInfo = {',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._noPersist = []',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK1\',A5.d.evnts.click,function(e) {',
'CWApp.goBackToMainMenu({UXPRERENDEREDALIAS}_DlgObj);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK1\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_SAVE\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.submit();',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_SAVE\');',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_RESET\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.resetForm();',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_RESET\');',
'',
'{UXPRERENDEREDALIAS}_DlgObj.prepare();{UXPRERENDEREDALIAS}_DlgObj.populate({UXPRERENDEREDALIAS}_DlgObj.originalValues[0]);',
'{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);',
'',
'',
'if(!A5.flags.isMobile) $e.add(window,\'resize\',{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation);',
'else $e.add(window,\'orientationchange\',{UXPRERENDEREDALIAS}_DlgObj._orientationChangeHandler,{UXPRERENDEREDALIAS}_DlgObj,true);',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation();',
'',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_PROFILE\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var listObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LISTHIDDEN\');',
'if(listObj) listObj._state.recordCount = 0;',
'if(listObj) listObj._state.recordCountFormatted = \'0\';',
'if(listObj) listObj._state.lastBreakValue = \'<None>\';',
'if(listObj) listObj._state.pageCount = -0;',
'if(listObj) listObj._state.pageSize = 20;',
'if(listObj) {var ele = $(\'{UXPRERENDEREDALIAS}.listHidden.RECORDCOUNT\'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};',
'if(listObj) listObj._state.paginated = false;',
'if(listObj) listObj._state._optimizedJSON = true;',
'if(listObj) listObj._state.filter = \'1=2\';',
'if(listObj) listObj._state.having = \'\';',
'if(listObj) listObj._state.order = \'\';',
'if(listObj) listObj._state.filterParameters = \'\';',
'if(listObj) listObj._state.highlight = {  };',
'if(listObj) listObj._state.whereClause = \'ID = 1  AND  1 = 2\';',
'if(listObj) listObj._state.whereParameters = \'\';',
'\t\t',
'\t\tvar flagPersist = false;',
'\t\tif(typeof listObj._flagPersistDataOK != \'undefined\') { ',
'\t\t\tif(listObj._flagPersistDataOK) { ',
'\t\t\t\tvar data = listObj._data;',
'\t\t\t\tlistObj.persistToStorage({mode:\'populate\', data: data});',
'\t\t\t}',
'\t\t}',
'\t\t',
'\t\t',
';',
'if(listObj) listObj._state.pageCount = -0;',
'{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LISTHIDDEN\',\'afterRenderComplete\',{});',
'',
'if(listObj._refreshStateMessages) listObj._refreshStateMessages();',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'setTimeout(function() { },0);',
'{UXPRERENDEREDALIAS}_DlgObj._listsWithJSFuncDataSource = {};',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onInitializeComplete\');',
'{UXPRERENDEREDALIAS}_DlgObj.initialized = true;',
'',
'',
'',
'',
'',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._onRenderComplete = function() { {UXPRERENDEREDALIAS}_DlgObj._runJSOnLoad(); {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule(); }; ',
'',
'setTimeout(function() { var p = {UXPRERENDEREDALIAS}_DlgObj.panelGet(\'PANELNAVIGATOR\'); if(p._sizing == \'window\') { p._sizeWindow();} else { p.refresh(); } },100);',
'setTimeout(function() {{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onRenderComplete\'); {UXPRERENDEREDALIAS}_DlgObj.flagRenderComplete = true;  {UXPRERENDEREDALIAS}_DlgObj._restoreFromLocalStorage(); },1);',
'',
'var o2 = \'portrait\';',
'if(window.innerHeight < window.innerWidth) o2 = \'landscape\';',
'{UXPRERENDEREDALIAS}_DlgObj._screen = {h: window.innerHeight, w: window.innerWidth, o: o2};',
'',
'{UXPRERENDEREDALIAS}_DlgObj._getOnlineStatus();',
'try {',
'window.addEventListener("offline",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'window.addEventListener("online",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'} catch(err){}',
'',
'',
'setTimeout(function() {$e.execute(\'device.screen\',\'a5resize\')},1);',
'setTimeout(function() { },10);;',
'{UXPRERENDEREDALIAS}_DlgObj._activeLanguage = \'\';',
''].join('\n');
jsout = jsout.replace(/\{UXPRERENDERAJAXURL\}/g,'http://69.7.228.180/centerappv1/MYPROFILE.a5wcmp?__virtualPage=__a5runDialog.a5w&__dialogFilename=MYPROFILE&__alias={UXPRERENDEREDALIAS}&__unsaved=no');
jsout = jsout.replace(/\{UXPRERENDEREDALIAS\}/g,go.alias);
jsout = jsout.replace(/\{UXPRERENDEROUTPUTDIV\}/g,go.dialog2Div);
;return jsout}; 
function PRECOMPUTEDUX_ca3fc5e77df74fdab7ea57dc3f913f9f_FindByCondition(go) { 
var jsout = [
'A5.u.element.setContent(\'{UXPRERENDEROUTPUTDIV}\',\'<style type="text/css">\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRow { position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRow:before { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid orange;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_newRow {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_newRow:before { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid blue;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_hasError {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_hasError:after { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\tbottom: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid red;\\n\\tborder-bottom-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-top-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRow {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRow:before { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid purple;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited { position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid orange;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRowInherited { position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRowInherited:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid purple;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_newRowInherited {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_newRowInherited:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid blue;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorInherited {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorInherited:after { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\tbottom: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid red;\\n\\tborder-bottom-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-top-color: transparent;\\nopacity: .3;\\n}\\n.parentDeleted { \\n\\tposition:relative;\\n}\\n.parentIsDeleted .parentDeleted:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid purple;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n</style>\\n<style>\\n</style><iframe style="display:none;" id="{UXPRERENDEREDALIAS}.__IFRAME1"></iframe>\\n<input type="hidden" value="" id="{UXPRERENDEREDALIAS}.PARAMETERBUCKET"/>\\n<input type="file" style="position:absolute; top:-1000px;visibility:hidden;" accept="image/*" id="{UXPRERENDEREDALIAS}._GETPHOTO"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" multiple = "" id="{UXPRERENDEREDALIAS}._GETFILEMULTI"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" id="{UXPRERENDEREDALIAS}._GETFILE"/><input type="hidden" id="{UXPRERENDEREDALIAS}.V.R1.LIST_CONDITIONS" name="V.R1.LIST_CONDITIONS" />\\n<input type="hidden" id="{UXPRERENDEREDALIAS}.V.R1.LIST_TRIALS" name="V.R1.LIST_TRIALS" />\\n<input id="{UXPRERENDEREDALIAS}.V.R1.SLIDER_AGE_RANGE" name="V.R1.SLIDER_AGE_RANGE" type="hidden"/>\\n<input id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_GENDER" name="V.R1.BUTTON_LIST_GENDER" type="hidden"/>\\n<input id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_STUDY_STATUS" name="V.R1.BUTTON_LIST_STUDY_STATUS" type="hidden"/>\\n<input id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_STUDY_TYPE" name="V.R1.BUTTON_LIST_STUDY_TYPE" type="hidden"/>\\n<input id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_PHASE" name="V.R1.BUTTON_LIST_PHASE" type="hidden"/>\\n<div \\tid="{UXPRERENDEREDALIAS}.V.R1.WINDOW_REFINE"   \\n\\t\\t\\tclass=""  style="; display: none;"  >\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.SITE" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.SITE"    value=""    />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.TREATMENT" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.TREATMENT"    value=""    />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.SLIDER_AGE_RANGE" for="{UXPRERENDEREDALIAS}.V.R1.SLIDER_AGE_RANGE" title="" class="iOS7DialogLabel" style="display:block;">Age</label>\\n\\n\\t<input id="{UXPRERENDEREDALIAS}.V.R1.SLIDER_AGE_RANGE" name="V.R1.SLIDER_AGE_RANGE" type="hidden"/>\\n\\n<div id="{UXPRERENDEREDALIAS}.V.R1.SLIDER_AGE_RANGE.CONTROL"  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; "></div>\\n\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: " >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.STATICTEXT_0" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >0</div>\\n</div>\\n<div class="A5CWLayout" style="width: " >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.STATICTEXT_85" title=""  class="" style="border-width: 0px; padding: 0px; margin: 0px; position: absolute; right: 2px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >85+</div>\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: " >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.BUTTON_LIST_GENDER" for="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_GENDER" title="" class="iOS7DialogLabel" style="display:block;">Gender</label>\\n\\n\\t<input id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_GENDER" name="V.R1.BUTTON_LIST_GENDER" type="hidden"/>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_GENDER.CONTROL"  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ; white-space:nowrap;"></div>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: " >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.BUTTON_LIST_STUDY_STATUS" for="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_STUDY_STATUS" title="" class="iOS7DialogLabel" style="display:block;">Status</label>\\n\\n\\t<input id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_STUDY_STATUS" name="V.R1.BUTTON_LIST_STUDY_STATUS" type="hidden"/>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_STUDY_STATUS.CONTROL"  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ; white-space:nowrap;"></div>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.BUTTON_LIST_STUDY_TYPE" for="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_STUDY_TYPE" title="" class="iOS7DialogLabel" style="display:block;">Study Type</label>\\n\\n\\t<input id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_STUDY_TYPE" name="V.R1.BUTTON_LIST_STUDY_TYPE" type="hidden"/>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_STUDY_TYPE.CONTROL"  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ; white-space:nowrap;"></div>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.BUTTON_LIST_PHASE" for="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_PHASE" title="" class="iOS7DialogLabel" style="display:block;">Trial Phase</label>\\n\\n\\t<input id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_PHASE" name="V.R1.BUTTON_LIST_PHASE" type="hidden"/>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_LIST_PHASE.CONTROL"  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ; white-space:nowrap;"></div>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.INVESTIGATOR" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.INVESTIGATOR"    value=""    />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 2in" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.SPONSOR" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.SPONSOR"    value=""    />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_APPLY"    ></button>\\n</div>\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_CANCEL"    ></button>\\n</div>\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n\\n\\n<div \\tid="{UXPRERENDEREDALIAS}.V.R1.WINDOW_MAP"   \\n\\t\\t\\tclass=""  style="; display: none;"  >\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.MAP_TRIALS.CONTROL"  style="width: 100%; height: 6in; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; "></div>\\n\\n</div>\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n\\n\\n\');',
'',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {',
'\t{UXPRERENDEREDALIAS}_DlgObj._destroy();',
'\ttry {',
'\t\tdelete {UXPRERENDEREDALIAS}_DlgObj;',
'\t} catch(e) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj = undefined;',
'\t}',
'};',
';if(typeof {UXPRERENDEREDALIAS}_PanelObj != \'undefined\') {',
'\tvar ele = $({UXPRERENDEREDALIAS}_PanelObj.getPanelId());',
'\tif(ele) {',
'\t\tif(ele.parentNode) ele.parentNode.removeChild(ele);',
'\t}',
'\tdelete {UXPRERENDEREDALIAS}_PanelObj;',
'}',
';window[\'{UXPRERENDEREDALIAS}_PanelObj\'] = new A5.PanelNavigator([',
'{',
'\tname: \'PANELCARD_CONDITION\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n\\n<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CONDITIONSEARCH"   \\n\\t\\t\\tclass="A5CWLayout "  style="margin-bottom: 0px; width: 100%; "  >\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.LIST_CONDITIONS_KEYWORDSEARCH" title=""  autocapitalize="off"  autocorrect="off"     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"  onkeyup="{UXPRERENDEREDALIAS}_DlgObj.getControl(\\\'LIST_CONDITIONS\\\').searchList({searchMode : \\\'auto\\\'});"   name="V.R1.LIST_CONDITIONS_KEYWORDSEARCH"    value=""    />\\n\\n</div>\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CONDITIONSEARCH.BREAK"  style="clear:both; " /><div  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CONDITIONSEARCH.BREAK"  style="height:0px; font: 0pt;"></div>\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t\\n<div  class="iOS7List"   style="padding:0px; border: 0px; "  >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.LIST_CONDITIONS.CONTROL"  class="{UXPRERENDEREDALIAS}_LIST_CONDITIONS" style="overflow: auto; width: 100%; "></div>\\n</div>\\n\\n</div>\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'both\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: false,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: false,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS_CONDITION"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK1"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CENTER_CONDITION"    \\t\\t\\tclass="A5CWLayout "  style=""  > <div style="display: table; margin: auto;"> <div class="A5CWLayout" style="width: " > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.STATICTEXT_CONDITIONS" title=""  class="iOS7Heading" style="text-shadow: 2px 2px #ccc; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >Conditions</div> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.RIGHT_BUTTONS_CONDITION"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; right: 2px; "  > <div style="float: right;"> <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_REFINE"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> </div><div style="display:none;"></div>\',',
'\t\tshow: true,',
'\t\tstyle: \'height: 40px; min-height: 40px; \'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tonSize: function() {;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {var mObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_CONDITIONS\'); if(mObj) mObj.refresh();}}',
'})',
'},',
'{',
'\tname: \'PANELCARD_TRIALLIST\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div class="A5CWLayout" style="width: 100%" >\\n\\t\\n<div  class="iOS7List"   style="padding:0px; margin:0 px; border: 0px; padding: 0px; "  >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.LIST_TRIALS.CONTROL"  class="{UXPRERENDEREDALIAS}_LIST_TRIALS" style="overflow: auto; width: 100%; "></div>\\n</div>\\n\\n</div>\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'y\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS_TRIALS"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACKTRIALS"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CENTER_TRIALS"    \\t\\t\\tclass="A5CWLayout "  style=""  > <div style="display: table; margin: auto;"> <div class="A5CWLayout" style="width: " > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.TEXT_CONDITION" title=""  class="iOS7Heading" style="text-shadow: 2px 2px #ccc; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >Trials</div> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.RIGHT_BUTTONS_TRIALS"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; right: 2px; "  > <div style="float: right;"> <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_MAP"    ></button> </div><br  style="clear:both; " /> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.WINDOW_MAP"    \\t\\t\\tclass=""  style="; display: none;"  > <div class="A5CWLayout" style="width: 100%" > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.MAP_TRIALS.CONTROL"  style="width: 100%; height: 6in; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; "></div>  </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> </div><div style="display:none;"></div>\',',
'\t\tshow: true,',
'\t\tstyle: \'height: 40px; min-height: 40px; \'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tonSize: function() {;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {var mObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\'); if(mObj) mObj.refresh();}}',
'})',
'},',
'{',
'\tname: \'PANELCARD_TRIALDETAILS\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_QUALIFY_DETAILS"   \\n\\t\\t\\tclass="A5CWLayout "  style="width: 100%; "  >\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_QUALIFY"    ></button>\\n</div>\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS"    ></button>\\n</div><br  style="clear:both; " />\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_QUALIFY_DETAILS.BREAK"  style="clear:both; " /><div  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_QUALIFY_DETAILS.BREAK"  style="height:10px; font: 0pt;"></div>\\n<div style="width:100%;" class="A5CWLayout iOS7TabT" id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES">\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.TABBAND" class="iOS7TabTBand">\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.0.TAB" class="" href="#">Overview</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.1.TAB" class="" href="#">Eligibility</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.2.TAB" class="" href="#">More Info</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.3.TAB" class="" href="#">Contact</a>\\n\\t<br style="clear: both;" />\\n\\t</div>\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.PANES" class="iOS7TabTPanes">\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.0.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_OVERVIEW" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.1.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_ELIGIBILITY" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.2.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_MOREINFO" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.3.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_CONTACT" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n</div>\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: "  id="{UXPRERENDEREDALIAS}.V.R1.LISTCLINICALTRIALS_GLOBALERRORS" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><br  style="clear:both; " />\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: false',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS_TRIALDETAILS"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CENTER_TRIALS1"    \\t\\t\\tclass="A5CWLayout "  style=""  > <div style="display: table; margin: auto;"> <div class="A5CWLayout" style="width: " > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.TEXT_DETAILS" title=""  class="iOS7Heading" style="text-shadow: 2px 2px #ccc; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >Details</div> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> </div><div style="display:none;"></div>\',',
'\t\tshow: true,',
'\t\tstyle: \'height: 40px; min-height: 40px; \'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t}',
'})',
'},',
'{',
'\tname: \'PANEL_SCREENER\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div class="A5CWLayout">\\n\\t<td valign="top"><div><a class="iOS7NavigatorLink" id="f4d801e3-5494-4197-9494-8304891db18e_CLOSEBUTTON" href="#" onclick="$(\\\'{UXPRERENDEREDALIAS}_DIVCONTAINER_f4d801e3_5494_4197_9494_8304891db18e\\\').innerHTML = \\\'\\\'; $(\\\'f4d801e3-5494-4197-9494-8304891db18e_CLOSEBUTTON\\\').style.display = \\\'none\\\';" style="display:none;">Close</a></div><div id="{UXPRERENDEREDALIAS}_DIVCONTAINER_f4d801e3_5494_4197_9494_8304891db18e"></div></td>\\n</div><br  style="clear:both; " />\\n\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: false',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:none;"></div>\'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t}',
'})',
'}',
'],{',
'\ttype: \'programmatic\',',
'\tflow: \'ltr\',',
'\tloopNavigate: false,',
'\tonPanelActivate: function() {if(this.state.activePanel == \'PANELCARD_TRIALLIST\') {  setTimeout(function() { {UXPRERENDEREDALIAS}_DlgObj._initialListRender(\'LIST_TRIALS\');},5);    }',
'var panelName = this.state.activePanel;',
'if(panelName == \'PANEL_SCREENER\') {',
'\t{UXPRERENDEREDALIAS}_DlgObj._functions.runAction_f4d801e3_5494_4197_9494_8304891db18e();;',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.refreshClientSideComputations();},',
'\tonPanelActivateComplete: function() {if(this.state.activePanel == \'PANEL_SCREENER\') { ',
'\tvar pChild = {UXPRERENDEREDALIAS}_DlgObj.getChildObject(\'<DEFAULTALIAS>\',\'UX\');',
'\tif(pChild) pChild._executeEvent(\'onPanelActivate\');',
'};},',
'\tonSize: function() {;if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule != \'undefined\') { ',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
'\t}',
'}},',
'\tonCreate: function() {if(this.state.activePanel == \'PANELCARD_TRIALLIST\') {  setTimeout(function() { {UXPRERENDEREDALIAS}_DlgObj._initialListRender(\'LIST_TRIALS\');},5);    }},',
'\ttheme: \'iOS7\',',
'\theader: {',
'\t\tshow: false',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tcontrols: {',
'\t\tprev: {',
'\t\t\thas: false',
'\t\t},',
'\t\tnext: {',
'\t\t\thas: false',
'\t\t},',
'\t\tback: {',
'\t\t\thas: false',
'\t\t},',
'\t\tforward: {',
'\t\t\thas: false',
'\t\t}',
'\t},',
'\tbody: {',
'\t},',
'\tanimation: {',
'\t\ttype: \'fade\',',
'\t\tduration: 400',
'\t}',
'})',
'var ele = window[\'{UXPRERENDEREDALIAS}_PanelObj\'].create(\'{UXPRERENDEREDALIAS}.R1\');',
'\t\tvar panelRootId = \'{UXPRERENDEROUTPUTDIV}\';',
'\t\tvar flagSizeToParent = true;',
'\t\tvar wf_alias = \'{UXPRERENDEREDALIAS}\';',
'\t\tif(panelRootId != \'\') { ',
'\t\t\tif (!$(panelRootId)) panelRootId = \'\';',
'\t\t}',
'\t\tif(panelRootId != \'\') { ',
'\t\t\t$(panelRootId).appendChild(ele);',
'\t\t\tif(flagSizeToParent) { ',
'\t\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'parent\');',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tdocument.body.insertBefore(ele,document.body.firstChild);',
'\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'window\');',
'\t\t}',
'{UXPRERENDEREDALIAS}_PanelObj._panelPath = {',
'\tPANELCARD_CONDITION: \'PANELCARD_CONDITION\',',
'\tPANELCARD_TRIALLIST: \'PANELCARD_TRIALLIST\',',
'\tPANELCARD_TRIALDETAILS: \'PANELCARD_TRIALDETAILS\',',
'\tPANEL_SCREENER: \'PANEL_SCREENER\'',
'}',
'{UXPRERENDEREDALIAS}_PanelObj._displayNames = {',
'PANELCARD_CONDITION : \'PANELCARD_CONDITION\',PANELCARD_TRIALLIST : \'PANELCARD_TRIALLIST\',PANELCARD_TRIALDETAILS : \'PANELCARD_TRIALDETAILS\',PANEL_SCREENER : \'PANEL_SCREENER\',PANELNAVIGATOR : \'PANELNAVIGATOR\'',
'};',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {UXPRERENDEREDALIAS}_DlgObj._destroy();',
'window[\'{UXPRERENDEREDALIAS}_DlgObj\'] = new A5.DialogComponentHelper(\'{UXPRERENDEREDALIAS}\',{',
'\tajaxURL: \'{UXPRERENDERAJAXURL}\',',
'\t_embeddedMode: false,',
'\t_livePreviewInBuilder: false,',
'\tcomponentGUID: \'45792ffe-6841-40c0-b32d-7f4a8f9e75c7\',',
'\tcolumnInfo: {\'SITE\': {info: {controlType: \'Textbox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'TREATMENT\': {info: {controlType: \'Textbox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'SLIDER_AGE_RANGE\': {info: {controlType: \'Slider\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'N\'  },\'BUTTON_LIST_GENDER\': {info: {controlType: \'ButtonList\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'BUTTON_LIST_STUDY_STATUS\': {info: {controlType: \'ButtonList\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'BUTTON_LIST_STUDY_TYPE\': {info: {controlType: \'ButtonList\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'BUTTON_LIST_PHASE\': {info: {controlType: \'ButtonList\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'INVESTIGATOR\': {info: {controlType: \'Textbox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'SPONSOR\': {info: {controlType: \'Textbox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'LIST_CONDITIONS_KEYWORDSEARCH\': {info: {controlType: \'textbox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'LIST_CONDITIONS\': {info: {controlType: \'List\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'\'  },\'MAP_TRIALS\': {info: {controlType: \'Map\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'LIST_TRIALS\': {info: {controlType: \'List\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  }},',
'\toriginalValues: [{',
'\t\'SLIDER_AGE_RANGE\': \'18\',',
'\t\'SITE\': \'\',',
'\t\'TREATMENT\': \'\',',
'\t\'BUTTON_LIST_GENDER\': \'\',',
'\t\'BUTTON_LIST_STUDY_STATUS\': \'\',',
'\t\'BUTTON_LIST_STUDY_TYPE\': \'\',',
'\t\'BUTTON_LIST_PHASE\': \'\',',
'\t\'INVESTIGATOR\': \'\',',
'\t\'SPONSOR\': \'\',',
'\t\'LIST_CONDITIONS_KEYWORDSEARCH\': \'\',',
'\t\'LIST_CONDITIONS\': \'\',',
'\t\'MAP_TRIALS\': \'\',',
'\t\'LIST_TRIALS\': \'\'',
'}],',
'\tdefaultValues: {',
'\tSLIDER_AGE_RANGE: \'18\',',
'\tSITE: \'\',',
'\tTREATMENT: \'\',',
'\tBUTTON_LIST_GENDER: \'\',',
'\tBUTTON_LIST_STUDY_STATUS: \'\',',
'\tBUTTON_LIST_STUDY_TYPE: \'\',',
'\tBUTTON_LIST_PHASE: \'\',',
'\tINVESTIGATOR: \'\',',
'\tSPONSOR: \'\',',
'\tLIST_CONDITIONS_KEYWORDSEARCH: \'\',',
'\tLIST_CONDITIONS: \'\',',
'\tMAP_TRIALS: \'\',',
'\tLIST_TRIALS: \'\'',
'},',
'\tdatePickerMonthNames: [\'January\',\'February\',\'March\',\'April\',\'May\',\'June\',\'July\',\'August\',\'September\',\'October\',\'November\',\'December\'],',
'\tdatePickerDayNames: [\'Sun\',\'Mon\',\'Tue\',\'Wed\',\'Thu\',\'Fri\',\'Sat\'],',
'\tdatePickerTodayButton: \'Today\',',
'\tdatePickerCloseButton: \'\',',
'\tdatePickerFirstDayOfWeek: 1,',
'\tresetFormMessage: \'Are you sure you want to reset the form?\',',
'\tresetFormTitle: \'Warning\',',
'\tresetFormIcon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\tdirtyFormMessage: \'You must first save your changes or cancel changes by clicking the Reset button.\',',
'\tdirtyFormTitle: \'Notice\',',
'\tdirtyFormIcon: \'cssIcon=iOS7Icon iOS7IconInfo\',',
'\tdeleteRecordDialogTitle: \'Delete Record\',',
'\tdeleteRecordDialogMessage: \'Are you sure you want to delete this record?\',\t',
'\tssDateFormat: \'MM/dd/yyyy\',',
'\tstyleName: \'iOS7\',',
'\t_fieldHelpers_DIALOG2: [],',
'\tparentComponentAlias: \'\'+go._thisGridAlias+\'\',',
'\tsubmitIfHasClientSideErrors: true, ',
'\trowErrors: {',
'\t\t\t\tshowMessageBox: false,',
'\t\t\t\tmessageBoxTitle: \'Error\',',
'\t\t\t\tstyle: \'color: red; width: 6in; height: 2in;\'',
'\t\t},',
'\tfieldErrors: {',
'\t\ttype: \'block\', ',
'\t\tclassName: \'errorText\',',
'\t\tinputClassName: \'iOS7EditError\',',
'\t\tedit: { ',
'\t\t\tcontainer: { className: \'iOS7EditBGError\'}',
'\t\t},',
'\t\ticon: \'cssIcon=iOS7Icon iOS7IconError\',',
'\t\tglobal: {',
'\t\t\tcontId: \'{UXPRERENDEREDALIAS}.GLOBALERRORS\',',
'\t\t\thoverClassName: \'errorTextHighlight\',',
'\t\t\thoverInputClassName: \'errorInputHighlight\'',
'\t\t}',
'\t},',
'\t\tafterPopulateFromTable: function(e) {',
'if ({UXPRERENDEREDALIAS}_DlgObj.showTrialDetails) {',
'\t{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_TRIALDETAILS\', true);',
'\t{UXPRERENDEREDALIAS}_DlgObj.showTrialDetails = false;',
'}',
'\t\t}',
'\t});',
'{UXPRERENDEREDALIAS}_DlgObj._onOrientationChange =  function(e) { ;',
'{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
';  };',
'A5.__componentObj = {UXPRERENDEREDALIAS}_DlgObj;',
'A5.map._fn=\'http://maps.googleapis.com/maps/api/js?key=AIzaSyD8GWVtKDpUf7gW-a3qAojbBGxL3F8o2ng&libraries=geometry&callback=A5.map.init\';',
'{UXPRERENDEREDALIAS}_DlgObj._tabObjects = [\'TAB_PANES\'];',
'{UXPRERENDEREDALIAS}_DlgObj._functions.runAction_f4d801e3_5494_4197_9494_8304891db18e = function() {',
'\t\tvar go = new Object();',
'\t\tgo.dialog2Name = \'Screener\';',
'\tgo.type = \'dialog2\';',
'\tgo.alias = \'{UXPRERENDEREDALIAS}_SCREENER_16635BBUF\';',
'\tgo.workingMessage = \'<img src="loading.gif" />\';',
'\tgo.flagTimer = \'F\';',
'\tgo.flagQueryEcho = \'F\';',
'\tgo.flagDebugMode = \'F\';',
'\tgo.userFilter = \'\';',
'\tgo.baseFilter = \'\';',
'\tgo.userOrder = \'\';',
'\tgo.overrideSettings = \'style_name=`iOS7`\'+\'||\';',
'\tgo.arguments = \'\';',
'\tgo.localArguments = \'whatCondition|Character|RUNTIMEBINDING|Null|Null|\'+{UXPRERENDEREDALIAS}_DlgObj.getValue(\'LIST_CONDITIONS\')+\'\';',
'\tgo.linkDefinition = \'\';',
'\tgo.placeHolderValues = \'\';',
'\tgo.parameterBucket = $gvs(\'{UXPRERENDEREDALIAS}.PARAMETERBUCKET\');',
'\tgo.argumentValueBucket = $gvs(\'{UXPRERENDEREDALIAS}.ARGUMENTVALUES\');',
'\tgo.a5_default_path = \'C_colon_|A5Webroot|livepreview\';',
'\tgo.onLoadCompleteJavascript = \'\';',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.gridId != \'undefined\') go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.gridId;',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.dialogId != \'undefined\') go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.dialogId;',
'\tvar panelCardId = {UXPRERENDEREDALIAS}_DlgObj.panelGetId(\'PANEL_SCREENER\',\'body\');',
'if($(panelCardId + \'.SCROLLWRAPPER\')) panelCardId = panelCardId + \'.SCROLLWRAPPER\';',
'go.dialog2Div = panelCardId;',
'\tA5.component.runGenericComponent(go);',
'}',
'window[\'{UXPRERENDEREDALIAS}.V.R1.TAB_PANESObj\'] = new A5.Tab(\'{UXPRERENDEREDALIAS}.V.R1.TAB_PANES\',[',
'{ \thtml: \'Overview\', \tvalue: \'1\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'Eligibility\', \tvalue: \'2\', \tpaneClassName: \'+tab-pane\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'More Info\', \tvalue: \'3\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'Contact\', \tvalue: \'4\', \tonDynamicLoadDelay: 0, \tshow: true, \tdisabled: false }',
'],',
'\t{',
'\ttheme: \'iOS7\',',
'\tonChange: function() {',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_PANES\');},',
'\tpaneHeight: \'100%\'',
'}',
');',
'\twindow[\'{UXPRERENDEREDALIAS}.V.R1.TAB_PANESObj\'].select(\'1\');',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'SITE\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Site e.g. Johns Hopkins\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'TREATMENT\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Treatment e.g. Chemotherapy\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'INVESTIGATOR\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Investigator\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'SPONSOR\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Sponsor\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'LIST_CONDITIONS_KEYWORDSEARCH\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Search for a condition e.g. Lung Cancer\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.lookups = {',
'};',
'window[\'{UXPRERENDEREDALIAS}_O_B10C9F8A4D6E4F38BC2F82FB8A3A17CA\'] = function(rowNum,rowId,objEle) {',
'var windowName = \'WINDOW_bfe46e12_0bc0_4bfb_b0e7_770e6d49d275\';',
'var currWindow = {UXPRERENDEREDALIAS}_DlgObj.getWindow(windowName);',
'var go = new Object();',
'go.ajaxFailedMessage = \'\';',
'go.ajaxCallbackTimeout = {UXPRERENDEREDALIAS}_DlgObj.ajaxCallbackTimeout;',
'go.objectId = objEle.id;',
'go.dialog2Name = \'SiteMap\';',
'go.type = \'dialog2\';',
'go.alias = \'SITEMAP\';',
'go.submitCurrentFieldValues = true;',
'go.sourceGridPart = \'O\';',
'go.sourceGridRowNumber = \'1\';',
'go.workingMessage = \'<img src=\\\'loading.gif\\\' />\';',
'go.placeholderValues = \'\';',
'go.argumentBinding = \'\';',
'go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.gridId;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj.gridId != \'undefined\') go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.gridId;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj.dialogId != \'undefined\') {',
'\tgo._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.dialogId;',
'}',
'go._thisGridGUID = {UXPRERENDEREDALIAS}_DlgObj.componentGUID;',
'go._gridCurrentFilter = {UXPRERENDEREDALIAS}_DlgObj._gridFilter;',
'go._gridCurrentOrder = {UXPRERENDEREDALIAS}_DlgObj._gridOrder;',
'go._gridCurrentArguments = {UXPRERENDEREDALIAS}_DlgObj._gridArguments;',
'go._gridCurrentDBType = {UXPRERENDEREDALIAS}_DlgObj._gridDBType;',
'go.overrideSettings = \'Style_name = `iOS7`||Style_name = `iOS7`\'+\'||a5SetSessionVar(`var X`, `function() {return {UXPRERENDEREDALIAS}_DlgObj.getValue();}  ()`)\';',
'go.a5_default_path = \'C_colon_|A5Webroot|livepreview\';',
'go.windowName = windowName;',
'go.showWindowParameters = \'\';',
'var runMethod = \'ajax\';',
'if(runMethod == \'ajax\') {',
'go.ajaxFailedMessage = \'\';',
'go.ajaxCallbackTimeout = {UXPRERENDEREDALIAS}_DlgObj.ajaxCallbackTimeout;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj._onlineStatus != \'undefined\') { ',
'\tif({UXPRERENDEREDALIAS}_DlgObj._onlineStatus == \'offline\') { ',
'\t\t( function() {  }() );',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onAjaxCallbackNotAvailable\', {xbasicFunctionName: \'\', ajaxEvent: \'OpenComponent\'})',
'\t\treturn false;',
'\t}',
'}\t\t',
'};',
'if(!currWindow) {',
'\tcurrWindow = {UXPRERENDEREDALIAS}_DlgObj.createWindow(windowName,\'modeless-resizable\',',
'\t{',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'blank\',',
'\t\t\telementId: \'~\'',
'\t\t}',
'\t},',
'\theight: \'5in\',',
'\twidth: \'8in\',',
'\ttitle: {',
'\t\thtml: \'&nbsp;\',',
'\t\tlocation: \'top\',',
'\t\tdirection: \'ltr\',',
'\t\tshow: true',
'\t},',
'\tdisableMove: false,',
'\ttheme: \'iOS7\',',
'\tpointer: {',
'\t\tshow: true,',
'\t\tlocation: \'auto\'',
'\t},',
'\tonBeforeShow: function() {var cs = AUI.u.getVPSize();',
'cs.width = cs.width - 10;',
'cs.height = cs.height - 10;',
'this.setSize(cs.width+\'px\',cs.height+\'px\');',
'this.setPosition(\'center\');},',
'\tanimation: {',
'\t\tshow: {',
'\t\t\ttype: \'fade\',',
'\t\t\tduration: \'slow\'',
'\t\t},',
'\t\thide: {',
'\t\t\ttype: \'none\',',
'\t\t\tduration: \'fast\'',
'\t\t}',
'\t}',
'}',
'\t);\t\t',
'\tgo.dialog2Div  = currWindow.getWindowId(\'body\')+\'_INNERCONTENT\';',
'\tgo.dialog2Div = currWindow.getWindowId(\'body\')+\'_INNERCONTENT\';',
'\tvar arrHTML = [];',
'\tarrHTML.push(\'\');',
'\tarrHTML.push(\'<table style="width:100%;height:100%;">\');',
'\tarrHTML.push(\'<tr><td  align="center"  valign="middle"  >\');',
'\tarrHTML.push(\'<div id="\'+go.dialog2Div+\'"></div>\');',
'\tarrHTML.push(\'</td>\');',
'\tarrHTML.push(\'</tr>\');',
'\tarrHTML.push(\'</table>\');',
'\t$(currWindow.getWindowId(\'body\')).innerHTML = arrHTML.join(\'\\n\');',
'A5.component.runGenericComponent(go)',
'\tcurrWindow.show();',
'} else {',
'\t\tvar ele = \'SITEMAP.GRID_PART.FORM_CONTAINER_DIV\';',
'\tvar pele = $(ele);',
'\tif(pele) pele.innerHTML = \'<img src=\\\'loading.gif\\\' /> \';',
'\tgo.dialog2Div  = currWindow.getWindowId(\'body\')+\'_INNERCONTENT\';',
'\tgo.parentGridId = \'{UXPRERENDEREDALIAS}\';',
'\tA5.component.runGenericComponent(go)',
'\tcurrWindow.show();',
'};',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({',
'\t__dialogGuid: \'48dc3849-b97b-4e9e-85d1-cab3c0cc4c61\',',
'\targumentsBoundToCotrols: \'whatCondition|Character={LIST_CONDITIONS}\\n\',',
'\t__sgr: \'\',',
'\t__dtfmt: \'MM/dd/yyyy\',',
'\t__tfmt: \'\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControlsChildren = [];',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ \t__args_C_whatCondition: \'\' });',
'A5.msgBox.theme = \'iOS7\';',
'A5.msgBox.buttonWidth = \'1in\';',
'{UXPRERENDEREDALIAS}_DlgObj._defaultWindowTitleDirection = \'ltr\';',
'{UXPRERENDEREDALIAS}_DlgObj._controlContainers = {}',
'{UXPRERENDEREDALIAS}_DlgObj._panelCardControls = {',
'SITE:\'PANELCARD_CONDITION\',',
'TREATMENT:\'PANELCARD_CONDITION\',',
'SLIDER_AGE_RANGE:\'PANELCARD_CONDITION\',',
'BUTTON_LIST_GENDER:\'PANELCARD_CONDITION\',',
'BUTTON_LIST_STUDY_STATUS:\'PANELCARD_CONDITION\',',
'BUTTON_LIST_STUDY_TYPE:\'PANELCARD_CONDITION\',',
'BUTTON_LIST_PHASE:\'PANELCARD_CONDITION\',',
'INVESTIGATOR:\'PANELCARD_CONDITION\',',
'SPONSOR:\'PANELCARD_CONDITION\',',
'LIST_CONDITIONS_KEYWORDSEARCH:\'PANELCARD_CONDITION\',',
'LIST_CONDITIONS:\'PANELCARD_CONDITION\',',
'MAP_TRIALS:\'PANELCARD_TRIALLIST\',',
'LIST_TRIALS:\'PANELCARD_TRIALLIST\'',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._buttons = {};',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK1\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_REFINE\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Refine\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_APPLY\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Apply\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_CANCEL\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Cancel\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACKTRIALS\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_MAP\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Map\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_TRIALDETAILS\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_QUALIFY\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'See if I qualify\',',
'\tonClick: function() { /* actionJavascript:ad58af78-0a4f-48bc-95da-7fe98f7066b3 */',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANEL_SCREENER\',true);',
'},',
'\ttheme: \'iOS7\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_DIRECTIONS\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Directions to Site\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:base\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK1\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK1\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_REFINE\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_REFINE\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_APPLY\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_APPLY\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_CANCEL\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_CANCEL\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACKTRIALS\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACKTRIALS\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_MAP\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_MAP\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_TRIALDETAILS\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_QUALIFY\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_QUALIFY\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_DIRECTIONS\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS\');',
'{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_CONDITIONS\'] = {',
'\t_dataSourceType: \'Static\',',
'\t_listFields: [',
'\t{',
'\t\tname: \'Condition\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Condition\\\');\'',
'\t}',
'],',
'\t_searchPartHas: true,',
'\t_searchPart: {',
'\t\tfieldMap: [',
']',
'\t},',
'\t_searchPartStyle: \'singlekeywordcontrol\',',
'\t_keywordSearchFields: [\'Condition\'],',
'\t_keywordSearchControl: \'LIST_CONDITIONS_KEYWORDSEARCH\',',
'\t_searchFieldOptions: {',
'"CONDITION" : {option: 2,qbf: false,type: \'c\'}',
'},',
'\t_showSearchDebugInfo: false,',
'\t_mediaFields: [],',
'\t_mediaTypes: {',
'},',
'\t_phoneGap: {',
'\t\tmediaFiles: {',
'\t\t\tprotectedRead: false,',
'\t\t\ttarget: \'server\',',
'\t\t\ttargetFilenameFunction: \'return \\\'<DeviceId>_\\\' +e.object.listFieldName + \\\'_\\\' + A5.ts() + \\\'_\\\' +e.name\',',
'\t\t\tshowProgress: false,',
'\t\t\tdownload: {',
'\t\t\t\tautodownloadFilesOnPullSynch: false,',
'\t\t\t\tdeleteOrphansAfterSync: false,',
'\t\t\t\ttargetFolder: \'_AAFiles\',',
'\t\t\t\tshowProgress: false',
'\t\t\t},',
'\t\t\tonErrorFunction: function(array,fileNumber,error) { }',
'\t\t}',
'\t},',
'\t_dvmode: \'enter\',',
'\t_hasDetailView: false,',
'\ttheme: \'iOS7\',',
'\tscroll: {',
'\t\taxis: \'y\',',
'\t\tindicator: {',
'\t\t\tshow: true,',
'\t\t\th: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\tleft: \'0px\',',
'\t\t\t\tright: \'0px\'',
'\t\t\t},',
'\t\t\tv: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\ttop: \'0px\',',
'\t\t\t\tbottom: \'0px\'',
'\t\t\t}',
'\t\t},',
'\t\tmomentum: {',
'\t\t\tallow: true',
'\t\t},',
'\t\tpull: {',
'\t\t\ty: \'auto\',',
'\t\t\tx: \'auto\'',
'\t\t}',
'\t},',
'\tlayout: \'Default\',',
'\tcalculateValue: function(data) {  {var _val = \'\' +A5RemoveHTMLWrapper(data.Condition); if((_val == \'\' ||  _val == \'undefined\'  )&& typeof data[\'*rowGUID\'] != \'undefined\') _val = \'_temporaryValue_\' + data[\'*rowGUID\']; return _val;}},',
'\tlistVariableName: \'LIST_CONDITIONS\',',
'\tlistVariableNameTrueCase: \'LIST_CONDITIONS\',',
'\t_hostComponentId: \'{UXPRERENDEREDALIAS}\',',
'\t_includeCRC: false,',
'\tallParentLists: [],',
'\t__flagPersist: false,',
'\tonBeforeUpdateRow: function(index,data){;},',
'\tonUpdateRow: function(index,data){;},',
'\tonBeforeAddRows: function(data,info){;},',
'\tonAddRows: function(data,info){;},',
'\tonBeforeRemoveRows: function(rows){;},',
'\tonRemoveRows: function(rows){;},',
'\tonListDraw: function(data,startIndex) {var id = this.contId +\'.NORECORDSINLIST\';',
'var e = $(this.contId + \'.CONTENT\');',
'if(data.length == 0) {',
'\tvar e = $(this.contId + \'.CONTENT\');',
'\tvar eleHeight = ($(this.contId + \'.CONTENTWRAPPER\').offsetHeight /2 ) -12;',
'\te.innerHTML = \'<div id="\'+id +\'" style="text-align: center;padding-top: \' + eleHeight + \'px;">Search for a condition</div>\';',
'} else {\t',
'\tvar ele = $(id);',
'\tif(ele) {',
'\t\te.removeChild(ele);',
'\t}',
'}',
'if(A5.flags.isMobile) $e.add(this.contId+\'.CONTENT\',\'abstractdown\',function(e) {$e.preventDefault(e);});},',
'\tchildLists: [],',
'\tchildListEndpoints: [\'LIST_CONDITIONS\'],',
'\t_populateAllChildLists: function() { },',
'\tonSelect: function() {{UXPRERENDEREDALIAS}_DlgObj._listRowSelect(\'LIST_CONDITIONS\',this);',
';',
'this._selectedRow = this.selection[0];},',
'\tonClick: function() {',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'G\',\'1:all\',\'populateList\',\'\',\'\',{deviceOfflineFunction: function() {   }});',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_TRIALLIST\', true);',
'{UXPRERENDEREDALIAS}_DlgObj.setValue(\'CONTAINER_CENTER_TRIALS:TEXT_CONDITION\',',
'  CWApp.abbreviate(this.selectionData[0].Condition, 23, \'...\'));',
'{UXPRERENDEREDALIAS}_DlgObj._listSystemOnClick(\'LIST_CONDITIONS\',this.selection[0]);},',
'\tlayouts: {',
'\t\tDefault: {',
'\t\t\ttype: \'template\',',
'\t\t\titem: {',
'\t\t\t},',
'\t\t\ttemplate: [',
'\t\t\t\t\'<b>{Condition}</b>\'\t\t\t',
']',
'\t\t}',
'\t},',
'\tcontent: {',
'\t\theader: {',
'\t\t\tshow: false',
'\t\t},',
'\t\tfooter: {',
'\t\t\tshow: false',
'\t\t}',
'\t},',
'\tsystemEvents: {',
'\t\tonTap: function(e) {},',
'\t\tafterAjaxCallback: function(e) {},',
'\t\tafterClientSideFilter: function(e) {},',
'\t\tbeforeServerSideSort: function(e) {},',
'\t\tafterServerSideSort: function(e) {},',
'\t\tonSwipe: function(e) {},',
'\t\tonScroll: function(e) {},',
'\t\tonPullRelease: function(e) {},',
'\t\tonPull: function(e) {},',
'\t\tonPullEnd: function(e) {},',
'\t\tafterSearchComplete: function(e) {},',
'\t\tbeforeSearch: function(e) {},',
'\t\tonSearchResultTooLarge: function(e) {},',
'\t\tonSearchResultTooLargeForLocalStorage: function(e) {},',
'\t\tonBeforePersistToLocalStorage: function(e) {},',
'\t\tonPersistToLocalStorage: function(e) {},',
'\t\tonRestoreFromLocalStorage: function(e) {},',
'\t\tafterRenderComplete: function(e) {},',
'\t\tbeforeFetchMore: function(e) {},',
'\t\tafterFetchMore: function(e) {},',
'\t\tbeforePageNavigate: function(e) {},',
'\t\tafterPageNavigate: function(e) {},',
'\t\tbeforeRefreshRow: function(e) {},',
'\t\tafterRefreshRow: function(e) {},',
'\t\tafterServerSideSummaryCompute: function(summary) {},',
'\t\t_afterAjaxCallback: function() {this._refreshStateMessages();}',
'\t},',
'\t_clientsideSummary: [],',
'\tcomputeClientSideSummaryValues: function(e) {},',
'\t_executeEvent: function(event,obj) { ',
'\treturn {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_CONDITIONS\',event,obj);',
'}',
',',
'\t_selectAll: function() {',
'\tvar v = this._values;',
'\tvar v2 = [].concat(v);',
'\tthis.setValue(v2,false);',
'}',
',',
'\tsearchList: function() { ',
'\tif(this._searchPartStyle == \'querybyform\') { ',
'\t\tif(this._dvmode != \'search\') return false;',
'\t}',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse {',
'\t\t\tif(this._dataSourceType.toLowerCase() == \'sql\' || this._dataSourceType.toLowerCase() == \'dbf\') {',
'\t\t\t\tmode = \'serverside\';',
'\t\t\t} else { ',
'\t\t\t\tmode = \'clientside\';',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'search\', searchWhere: mode, listIsDirty: flagDirty});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._searchListServerSide(obj);',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilter();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'search\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_searchListServerSide: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar _d={};',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tif(flagDirty) { ',
'\t\talert(\'Can\\\'t execute server-side search because List has edits that have not yet been synchronized.\');',
'\t\treturn false;',
'\t}',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t_data = _data + \'&\' + A5.ajax.buildURLParam(\'__searchOptions\',JSON.stringify(obj));',
'\tthis.filter = false;',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPart\',\'\',_data);',
'}',
',',
'\tclearSearchList: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse mode = \'serverside\';',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'clear\', searchWhere: mode});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._clearSearchListServerSide();',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilterClear();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'clear\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_clearSearchListServerSide: function() { ',
'\tvar _d={};',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPartClear\',\'\',_data);',
'}',
',',
'\t_str: function(txt) {',
'\ttxt = txt.replace("\'","\\\\\'");',
'\ttxt = \'\\\'\' + txt + \'\\\'\';',
'\treturn txt;',
'}',
',',
'\t_QBF: function(txt) { ',
'\tvar o = {};',
'\to.v2 = \'\';',
'\to.v1 = txt;',
'\to.flag = false;',
'\tif(txt.indexOf(\'>=\') >= 0) {',
'\t\to.op = \'>=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<=\') >= 0 ) { ',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'>\') >= 0 ) {',
'\t\to.op = \'>\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<\') >= 0)  { ',
'\t\to.op = \'<\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') == 0)  {',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if ( txt.indexOf(\'..\', txt.length - \'..\'.length) !== -1 ) { ',
'\t\t//ends with ..',
'\t\to.op = \'>=\';',
'\t\ttxt = txt.split(\'..\')',
'\t\to.v1 = txt[0];',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') > 0 ) {',
'\t\to.op = \'between\'',
'\t\ttxt = txt.split(\'..\');',
'\t\to.v1 = txt[0];',
'\t\to.v2 = txt[1];',
'\t\to.flag = true;',
'\t}',
'\treturn o;',
'}',
',',
'\t_match: function(data,field,val,obj) { ',
'\tvar flagKeyword = false;',
'\tif(typeof obj.flagKeyword != \'undefined\') flagKeyword = obj.flagKeyword;',
'\tif(flagKeyword) { ',
'\t\tvar obj_i = this._searchFieldOptions[field.toUpperCase()];',
'\t\tthis._setSearchOps(obj,obj_i);',
'\t}',
'\tvar _d = \'\';',
'\tvar _v = val;',
'\tvar flagC = false;',
'\tif(obj.type == \'c\') {',
'\t\tflagC = true;',
'\t\tif(!obj.caseSensitive) _v = _v.toLowerCase();',
'\t} else { ',
'\t\t//non mumeric searches are only mode 1 or -1',
'\t\tif(obj.mode > 1) obj.mode = 1;',
'\t\tif(obj.mode < -1) obj.mode = -1;',
'\t}',
'\tvar flag = false;',
'\tobj.usesQBFOperator = false;',
'\tif(obj.qbf) { ',
'\t\t_v = _v.split(\',\');',
'\t} else {',
'\t\t_v = [_v];',
'\t}',
'\tvar o = {}',
'\tvar r = \'\';',
'\tvar _vals = [];',
'\tfor(var i = 0; i < _v.length; i++) { ',
'\t\tif(obj.qbf) {',
'\t\t\to = this._QBF(_v[i]);',
'\t\t} else {',
'\t\t\to.flag = false;',
'\t\t\to.v1 = _v[i];',
'\t\t\to.v2 = \'\';',
'\t\t}',
'\t\tif(typeof data[field] != \'undefined\') {',
'\t\t\tif(data[field] != null) { ',
'\t\t\t\t_d = data[field];',
'\t\t\t\tif(obj.type == \'n\') { ',
'\t\t\t\t\to.v1 = Number(o.v1);',
'\t\t\t\t\to.v2 = Number(o.v2);',
'\t\t\t\t\t_d = Number(_d);',
'\t\t\t\t} else if (obj.type == \'l\') { ',
'\t\t\t\t\to.v1 = $u.s.toBool(o.v1);',
'\t\t\t\t\to.v2 = $u.s.toBool(o.v2);',
'\t\t\t\t\t_d = $u.s.toBool(_d);',
'\t\t\t\t} else if (obj.type == \'d\') { ',
'\t\t\t\t\to.v1 = A5.stringToDate(o.v1,obj.dateFormat);',
'\t\t\t\t\to.v2 = A5.stringToDate(o.v2,obj.dateFormat);',
'\t\t\t\t\tif(typeof _d == \'string\') _d = A5.stringToDate(_d,obj.dateFormat);',
'\t\t\t\t\tif(o.v1 != \'\' && o.v1 != null ) o.v1 = o.v1.getTime();',
'\t\t\t\t\tif(o.v2 != \'\' && o.v2 != null ) o.v2 = o.v2.getTime();',
'\t\t\t\t\tif(_d != \'\' && _d != null ) _d = _d.getTime();',
'\t\t\t\t}',
'\t\t\t\tif(flagC) {if(!obj.caseSensitive && typeof _d == \'string\') _d = _d.toLowerCase();}',
'\t\t\t\tif(o.flag) { ',
'\t\t\t\t\t//has qbf operators',
'\t\t\t\t\tif(o.op == \'between\') {',
'\t\t\t\t\t\tif(flagC) {',
'\t\t\t\t\t\t\tif(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tif(flagC) _d = _d.substr(0,o.v1.length)',
'\t\t\t\t\t\tif(o.op == \'>=\') if( _d >= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<=\') if( _d <= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'>\') if(_d > o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<\') if(_d < o.v1) flag = true;',
'\t\t\t\t\t}',
'\t\t\t\t} else { ',
'\t\t\t\t\tif(obj.mode == 1 || obj.mode == -1 ) {',
'\t\t\t\t\t\tif(obj.mode == 1) if(_d == o.v1) flag = true;; //match',
'\t\t\t\t\t\tif(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match',
'\t\t\t\t\t} else if (obj.mode == 2 || obj.mode == -2) { ',
'\t\t\t\t\t\tif(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains',
'\t\t\t\t\t\tif(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;',
'\t\t\t\t\t} else if (obj.mode == 3 || obj.mode == -3) { ',
'\t\t\t\t\t\tif(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with',
'\t\t\t\t\t\tif(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v1 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v1) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v1);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v2 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v2) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v2);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(flag) { ',
'\t\tif(typeof this._state.highlight == \'undefined\') this._state.highlight = {};',
'\t\tthis._state.highlight[field.toUpperCase()] = _vals;',
'\t} else { ',
'\t\t//this._state.highlight[field.toUpperCase()] = [];',
'\t}',
'\treturn flag;',
'}',
',',
'\t_setSearchOps: function(obj,obj_i) { ',
'\tobj.mode = obj_i.option;',
'\tobj.qbf = obj_i.qbf;',
'\tobj.type = obj_i.type;',
'\t//obj.treatAs = obj_i.treatAs;',
'}',
',',
'\t_searchPartOperator: \'&&\',',
'\t_searchPartSubmit_clientSideFilter: function() { ',
'\tif(!this._searchPartHas) return true;',
'\t//_searchPartStyle: \'individualcontrols\'',
'\tthis._state.highlight = {};',
'\tif(this._searchPartStyle == \'singlekeywordcontrol\') { ',
'\t\tvar searchFor = {UXPRERENDEREDALIAS}_DlgObj.getValue(this._keywordSearchControl);',
'\t\tvar arr = this._keywordSearchFields;',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\t//obj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 1;',
'\t\tobj.flagKeyword = true;',
'\t\tvar objStr = JSON.stringify(obj)',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\texpn_i = \'this._match(data,\' +this._str(arr[i]) + \',\' + this._str(searchFor) + \',\'+objStr+\')\';',
'\t\t\texpn.push(expn_i);',
'\t\t}',
'\t\texpn = expn.join(\'||\');',
'\t\t//alert(expn);',
'\t} else if ( this._searchPartStyle == \'individualcontrols\' || this._searchPartStyle == \'querybyform\'  ) { ',
'\t\tvar map = this._searchPart.fieldMap;',
'\t\tvar val = \'\';',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\tobj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 2;',
'\t\t//var objStr = JSON.stringify(obj)',
'\t\tvar ac = [];',
'\t\tvar aco = {};',
'\t\tvar _highlight = {};',
'\t\tif(this._searchPartStyle == \'individualcontrols\') {',
'\t\t\tfor(var i = 0; i < map.length; i++) { ',
'\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(map[i].control);',
'\t\t\t\tif(val != \'\') {',
'\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(map[i].field) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t} else if (this._searchPartStyle == \'querybyform\' ) { ',
'\t\t\tvar controlName = \'\';',
'\t\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\t\tif(controlName != \'\') {',
'\t\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(controlName);',
'\t\t\t\t\tif(val != \'\') {',
'\t\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(this._listFields[i].name) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t\t\taco.control = controlName;',
'\t\t\t\t\t\taco.value = val;',
'\t\t\t\t\t\tac.push(aco);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis.__queryByFormValues = ac;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\t\t}\t',
'\t\tvar operator = \'&&\';',
'\t\tif(typeof this._searchPartOperator != \'undefined\') operator = this._searchPartOperator;',
'\t\texpn = expn.join(\' \'+operator+\' \');',
'\t} ',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = expn;',
'\t}',
'\t//user did not fill in any search fields',
'\tif(expn == \'\') return true;',
'\tvar fnTxt = \'if(\' + expn + \') {return true;} else { return false;}\'',
'\tvar searchFunction = new Function(\'data\',fnTxt);',
'\tthis.setFilter(searchFunction);',
'\tif(this._rData.length > 0) this.setValue(0);',
'}',
',',
'\t_searchPartSubmit_clientSideFilterClear: function() { ',
'if(!this._searchPartHas) return true;',
'\tthis._state.highlight = {};',
'\tthis.setFilter(false);',
'\tvar map = this._searchPart.fieldMap;',
'\tvar val = \'\';',
'\tvar od = {UXPRERENDEREDALIAS}_DlgObj.originalValues[0];',
'\tfor(var i = 0; i < map.length; i++) {',
'\t\tvar val = od[map[i].control.toUpperCase()];',
'\t\tif(typeof val != \'undefined\') {UXPRERENDEREDALIAS}_DlgObj.setValue(map[i].control,val,false);',
'\t}',
'\tthis.setFilter(false);',
'\tdelete this.__queryByFormValues;',
'\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\tif(this._data.length > 0) this.setValue(0);',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = \'\';',
'\t}',
'}',
',',
'\tdetailViewIsDirty: function() { return false; },',
'\tpopulateUXControls: function() { return true; },',
'\tlistIsDirty: function() { return false; },',
'\tlookupValue: function(key,name,keyValue) {\tvar _d = this._data;',
'\tvar indx = A5FindPropInArray(_d,key,keyValue);',
'\tvar rv = \'\';',
'\tif(indx >=0) {',
'\t\tif(name == \'__rowData__\') return _d[indx];',
'\t\trv =  _d[indx][name];',
'\t} else {',
'\t\t//null out all properties in row',
'\t\tvar _d2 = {};',
'\t\tif(typeof _d[0] == \'undefined\') { return {}} ;',
'\t\tfor(var n in _d[0]) {',
'\t\t\t_d2[n] = \'&nbsp;\';',
'\t\t}',
'\t\trv = _d2;',
'\t}',
'\treturn rv;',
'}',
',',
'\tallowNullSelection: false,',
'\tallowNullDeselection: false,',
'\tloopNavigate: false,',
'\tloopNavigateNullSelection: false,',
'\trefreshChildLists: function() {{UXPRERENDEREDALIAS}_DlgObj._listRefreshCascadingLists(\'LIST_CONDITIONS\'); },',
'\trowExpander: function(rowNumber) { ',
'\tvar mode = typeof arguments[2] != \'undefined\' ? arguments[2] : \'toggle\';',
'\tif(typeof rowNumber == \'undefined\' || rowNumber == \'\' ) {',
'\t\trowNumber = this.selection[0];',
'\t\tif(typeof rowNumber == \'undefined\') return false;',
'\t}',
'\tvar animObj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\tvar ele = $(this._hostComponentId + \'.\' + this.listVariableName + \'.ROWEXPANDER.\' + rowNumber);',
'\tif(ele) {',
'\t\tif(mode == \'toggle\') A5.u.element.toggle(ele,animObj);',
'\t\tif(mode == \'show\') A5.u.element.show(ele,animObj);',
'\t\tif(mode == \'hide\') A5.u.element.hide(ele,animObj);',
'\t}',
'}',
',',
'\tafterClientSideSummaryCompute: function(csSummary) { },',
'\tselectCurrentLayout: function(name) { ',
'var pl = this.layouts[name];',
'if(typeof pl == \'undefined\') return false;',
'this.setLayout(name);',
'if(pl.type == \'column\') {',
'\tthis.columnLayout.header.show = this.layouts[name].showColumnTitles; ',
'\tthis.refresh();',
'}',
'},',
'\tonFilter: function() { \tvar e = {}; ',
'\te.rowCount = this._values.length;  ',
'\tvar ele = $(\'{UXPRERENDEREDALIAS}.__listId__.RECORDCOUNT\'); ',
'\tif(ele) {ele.innerHTML = e.rowCount;}; ',
'\tif(this.persistToStorage) { this.persistToStorage({});} ',
'\t(function(e) {   })(e);',
'}',
',',
'\tserverSideSort: function(column) {',
'var e = {};',
'e.column = column;',
'var result = this.systemEvents.beforeServerSideSort(e);',
'if(result == false) return false;',
'var obj = {};',
'obj.cmd = \'sort\';',
'obj.column = column;',
'obj.layoutName = this.layout;',
'obj.listState = this._state;',
'var data = \'_listId=LIST_CONDITIONS&\' + A5.ajax.buildURLParam(\'_cmdObj\',$u.o.toJSON(obj));',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:listServerSideSort\',\'\',data);',
'},',
'\tfilterListClientSide: function(searchFor) {',
'//var result = this.systemEvents.beforeClientSideFilter();',
'//if(result == false) return false;',
'if(searchFor != \'\') {',
'\t//fixes bug in Chrome when searching on dates strings that use forward slashes',
'\tsearchFor = searchFor.replace(/\\//g,\'\\\\/\');',
'\tthis.setFilter({\'Condition\': RegExp(\'\' + searchFor,\'i\')});',
'} else this.setFilter(false);',
'var rowCount = this._values.length;',
'//var e = {};',
'//e.rowCount = rowCount;',
'//this.systemEvents.afterClientSideFilter(e);',
'var ele = $(\'{UXPRERENDEREDALIAS}.LIST_CONDITIONS.RECORDCOUNT\');',
'if(ele) ele.innerHTML = rowCount;',
'}',
',',
'\tscrollToClosestValue: function(val) { \t',
'\tif(typeof val != \'string\') val = val.join(\'\');',
'\tvar flagCI = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\tvar pos = typeof arguments[2] != \'undefined\' ? arguments[2] : \'top\';',
'\tvar anim = typeof arguments[3] != \'undefined\' ? arguments[3] : {}',
'\tvar _d = this._rData;',
'\tvar len = val.length;',
'\tvar _d2;',
'\tvar i2 = -1;',
'\tif(flagCI) val = val.toLowerCase();',
'\tfor(var i = 0 ; i < _d.length; i++) {',
'\t\ti2 = i;',
'\t\t_d2 = String(_d[i][\'*value\']);',
'\t\t_d2 = _d2.substr(0,len);',
'\t\t_d2 = $u.s.pad(_d2,len,\' \',\'l\');',
'\t\tif(flagCI) _d2 = _d2.toLowerCase();',
'\t\tif(val <= _d2){',
'\t\t\t break;',
'\t\t}',
'\t}',
'\tif(i2 > -1) { ',
'\t\tthis.scrollToItem(i2,{mode: pos, animation: anim});',
'\t}',
'}',
',',
'\t_refreshStateMessages: function() {',
'\tvar ele = \'\';',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_CONDITIONS.PAGENUMBER\');',
'\tif(ele) ele.innerHTML = this._state.page;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_CONDITIONS.PAGECOUNT\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_CONDITIONS.PAGECOUNT.PAGESELECTOR\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;\t',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_CONDITIONS.LISTSTATE\');',
'\tif(ele) {',
'\t\tvar listState = $u.o.toJSON(this._state);',
'\t\tele.innerHTML = listState;',
'\t}',
'\t//navigation buttons\t',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_NEXT.LIST_CONDITIONS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_LAST.LIST_CONDITIONS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_FIRST.LIST_CONDITIONS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_PREV.LIST_CONDITIONS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = $(\'{UXPRERENDEREDALIAS}.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LIST_CONDITIONS\');',
'\tif(ele) {',
'\t\tvar data = this._recordNavigatorLinks;',
'\t\tif(data) A5.form.populateSelect(ele,this._state.page,data,true);',
'\t}',
'}',
',',
'\tview: {',
'\t\ttype: \'dynamic\',',
'\t\tsize: 15,',
'\t\tmaxSize: 0,',
'\t\toffset: 5,',
'\t\tnavigation: {',
'\t\t\tpull: {',
'\t\t\t\tallow: true,',
'\t\t\t\tsize: 15',
'\t\t\t},',
'\t\t\tprev: {',
'\t\t\t\thtml: \'Previous\'',
'\t\t\t},',
'\t\t\tnext: {',
'\t\t\t\thtml: \'Next\'',
'\t\t\t}',
'\t\t}',
'\t},',
'\tscroller: {',
'\t\thas: true,',
'\t\tflow: \'ttb\',',
'\t\tlocation: \'after\',',
'\t\toffset: {',
'\t\t\ttop: \'0px\',',
'\t\t\tbottom: \'0px\',',
'\t\t\tleft: \'0px\',',
'\t\t\tright: \'0px\'',
'\t\t},',
'\t\tslider: {',
'\t\t\thandle: {',
'\t\t\t},',
'\t\t\tshadow: {',
'\t\t\t\tshow: true',
'\t\t\t},',
'\t\t\tmessage: {',
'\t\t\t\tshow: \'auto\',',
'\t\t\t\tlowSwitch: 75,',
'\t\t\t\thighSwitch: 75',
'\t\t\t}',
'\t\t},',
'\t\tdial: {',
'\t\t\tshow: \'drag\',',
'\t\t\tinvertDrag: false,',
'\t\t\tmessage: {',
'\t\t\t},',
'\t\t\tpixelStep: 4,',
'\t\t\tsize: 2',
'\t\t},',
'\t\tshow: true',
'\t},',
'\t_getRoute: function() { ',
'\tvar obj  = typeof arguments[1] != \'undefined\' ? arguments[1] : [];',
'\tvar mode = typeof arguments[0] != \'undefined\' ? arguments[0] : \'rowNumber\'; //',
'\tif(typeof this.selection[0] == \'undefined\') return false;',
'\tif(typeof this.getData(this.selection[0]) == \'undefined\') return false;',
'\tif(mode == \'rowNumber\') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])[\'*key\']});',
'\telse obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tif(lObj) lObj._getRoute(mode,obj);',
'\t}',
'\treturn obj;',
'}',
',',
'\t_setRoute: function(route) { ',
'\tif(typeof route == \'undefined\') { ',
'\t\troute = this.__currentRoute;',
'\t\tif(typeof route == \'undefined\') return false;',
'\t}',
'\tvar lObj = \'\';',
'\tvar row = \'\';',
'\tfor(var i = 0; i < route.length; i++) {',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(route[i].list);',
'\t\trow = route[i].row;',
'\t\tvar flag = typeof this._restoringList != \'undefined\' ? !this._restoringList : true;',
'\t\tif(typeof row != \'undefined\') {',
'\t\t\tvar rowFixed = \'\';',
'\t\t\tif(typeof lObj._dataMap == \'undefined\') return false;',
'\t\t\t//var msg = JSON.stringify(lObj._dataMap);',
'\t\t\t//alert(\'route[i].row:\' + route[i].row + \' ------ \' + msg);',
'\t\t\trowFixed = lObj._dataMap.indexOf(route[i].row);',
'\t\t\tlObj.setValue(rowFixed,flag);',
'\t\t\tif(this._clearServerSideErrors) this._clearServerSideErrors();',
'\t\t\tif(this._showServerSideErrors) this._showServerSideErrors();',
'\t\t\tif(this._showWriteConflictErrors) this._showWriteConflictErrors();',
'\t\t}',
'\t}',
'}',
',',
'\t_useServerSideSyncLog: false,',
'\t_searchHighlighting: true,',
'\t_searchHighlightStyle: \'color: red;\'',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_TRIALS\'] = {',
'\t_dataSourceType: \'SQL\',',
'\t_listFields: [',
'\t{',
'\t\tname: \'location\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'location\\\');\'',
'\t},',
'\t{',
'\t\tname: \'summary\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'summary\\\');\'',
'\t},',
'\t{',
'\t\tname: \'purpose\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'purpose\\\');\'',
'\t},',
'\t{',
'\t\tname: \'overview\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'overview\\\');\'',
'\t},',
'\t{',
'\t\tname: \'eligibility\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'eligibility\\\');\'',
'\t},',
'\t{',
'\t\tname: \'moreinfo\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'moreinfo\\\');\'',
'\t},',
'\t{',
'\t\tname: \'contact\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'contact\\\');\'',
'\t},',
'\t{',
'\t\tname: \'latitude\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'latitude\\\');\'',
'\t},',
'\t{',
'\t\tname: \'longitude\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'longitude\\\');\'',
'\t},',
'\t{',
'\t\tname: \'Miles\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Miles\\\');\'',
'\t},',
'\t{',
'\t\tname: \'CWID\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'CWID\\\');\'',
'\t}',
'],',
'\t_searchPartHas: false,',
'\t_mediaFields: [],',
'\t_mediaTypes: {',
'},',
'\t_phoneGap: {',
'\t\tmediaFiles: {',
'\t\t\tprotectedRead: false,',
'\t\t\ttarget: \'server\',',
'\t\t\ttargetFilenameFunction: \'return \\\'<DeviceId>_\\\' +e.object.listFieldName + \\\'_\\\' + A5.ts() + \\\'_\\\' +e.name\',',
'\t\t\tshowProgress: false,',
'\t\t\tdownload: {',
'\t\t\t\tautodownloadFilesOnPullSynch: false,',
'\t\t\t\tdeleteOrphansAfterSync: false,',
'\t\t\t\ttargetFolder: \'_AAFiles\',',
'\t\t\t\tshowProgress: false',
'\t\t\t},',
'\t\t\tonErrorFunction: function(array,fileNumber,error) { }',
'\t\t}',
'\t},',
'\t_dvmode: \'enter\',',
'\t_hasDetailView: true,',
'\t_noRecordInListIsSelectedSettingForDetailView: \'none\',',
'\t_captureLocation: false,',
'\t_detailViewHas: true,',
'\t_submitLocationInfo: false,',
'\t_detailView: {',
'\t\tmethod: \'fieldMap\',',
'\t\tfieldMap: [',
']',
'\t},',
'\t_detailViewGlobalErrorStyle: \'font-family: Arial; font-size: 10pt; color: red; border: solid 1px red; width: 100%;\',',
'\t_autoCommitDetailView: false,',
'\t_synchBatchSize: 0,',
'\t_resetMediaFileUploadErrorsFlag: function(data) {',
'var r = A5.u.object.each(data,function(name,value,path,result){',
'\tif(name == \'_flagMediaFileUploadError\') {',
'\t\tresult.push({value: false, path: path})',
'\t}',
'});',
'for(var i = 0; i < r.length; i++) {',
'\tA5.u.object.set(data,r[i].path,r[i].value);',
'}',
'},',
'\ttheme: \'iOS7\',',
'\tscroll: {',
'\t\taxis: \'y\',',
'\t\tindicator: {',
'\t\t\tshow: true,',
'\t\t\th: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\tleft: \'0px\',',
'\t\t\t\tright: \'0px\'',
'\t\t\t},',
'\t\t\tv: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\ttop: \'0px\',',
'\t\t\t\tbottom: \'0px\'',
'\t\t\t}',
'\t\t},',
'\t\tmomentum: {',
'\t\t\tallow: true',
'\t\t},',
'\t\tpull: {',
'\t\t\ty: \'auto\',',
'\t\t\tx: \'auto\'',
'\t\t}',
'\t},',
'\tlayout: \'Default\',',
'\tcalculateValue: function(data) {  {var _val = \'\' +data.__primaryKey; if((_val == \'\' ||  _val == \'undefined\'  )&& typeof data[\'*rowGUID\'] != \'undefined\') _val = \'_temporaryValue_\' + data[\'*rowGUID\']; return _val;}},',
'\tlistVariableName: \'LIST_TRIALS\',',
'\tlistVariableNameTrueCase: \'LIST_TRIALS\',',
'\t_hostComponentId: \'{UXPRERENDEREDALIAS}\',',
'\t_includeCRC: true,',
'\tallParentLists: [],',
'\t__flagPersist: false,',
'\tonBeforeUpdateRow: function(index,data){;},',
'\tonUpdateRow: function(index,data){;},',
'\tonBeforeAddRows: function(data,info){;},',
'\tonAddRows: function(data,info){;},',
'\tonBeforeRemoveRows: function(rows){;},',
'\tonRemoveRows: function(rows){;},',
'\tonListDraw: function(data,startIndex) {',
'if(A5.flags.isMobile) $e.add(this.contId+\'.CONTENT\',\'abstractdown\',function(e) {$e.preventDefault(e);});},',
'\tsynchronizeImmediately: false,',
'\tpushServerEditsToClient: false,',
'\tcustomization: {',
'\t\tdv: {',
'\t\t\tclientSideErrorWarning: \'Cannot save because there are validation errors.\',',
'\t\t\tdirtyDetailViewRecord: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'You must first save or undo the changes you have made to the List\\\'s Detail View.\'',
'\t\t\t},',
'\t\t\tconfirmFormResetWarning: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'Are you sure you want to undo changes made to the List\\\'s Detail View?\'',
'\t\t\t},',
'\t\t\tconfirmRowResetWarning: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'Are you sure you want to undo changes made to this record?\'',
'\t\t\t},',
'\t\t\tconfirmDeleteWarning: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'Are you sure you want to delete this record?\'',
'\t\t\t},',
'\t\t\twriteConflict: {',
'\t\t\t\tuseMineMessage: \'Use mine (\\\'{myvalue}\\\')\',',
'\t\t\t\tuseTheirsMessage: \'Use theirs (\\\'{theirvalue}\\\')\',',
'\t\t\t\tuseMineAll: \'Use mine for all fields\',',
'\t\t\t\tuseTheirsAll: \'Use theirs for all fields\'',
'\t\t\t},',
'\t\t\tdatabaseError: {',
'\t\t\t\tupdate: \'Record was not updated.|More...|Less\',',
'\t\t\t\tinsert: \'Record was not inserted.|More...|Less\',',
'\t\t\t\tdelete: \'Record was not deleted.|More...|Less\'',
'\t\t\t},',
'\t\t\tuseCustomClasses: false,',
'\t\t\tsetClassonEditedRows: true,',
'\t\t\tcss: {',
'\t\t\t}',
'\t\t}',
'\t},',
'\tonItemDraw: function(ele,data,index) {',
'\tvar _dirtyRowClassName = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRow\';',
'\tvar _dirtyRowClassNameInherited = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited\';',
'\tvar _dirtyRowStyle = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowStyle\';',
'\tvar _errorRowClassName = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_hasError\';',
'\tvar _errorRowClassNameInherited = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorInherited _{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited\';',
'\tvar _errorRowClassNameInherited_1 = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorInherited\';',
'\tvar _errorRowClassNameInherited_2 = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited\';',
'\tvar _errorRowStyle = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorStyle\';',
'\tvar _newRowClassName = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_newRow\';',
'\tvar _newRowStyle = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_newRowStyle\';',
'\tvar _deletedRowClassName = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRow\';',
'\tvar _deletedRowStyle = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRowStyle\';',
'\tvar _deletedRowClassNameInherited = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRowInherited\';',
'\tvar __d = this._rData[index];',
'\t$rcn(ele,_dirtyRowClassName);',
'\t$rcn(ele,_dirtyRowClassNameInherited);',
'\t$rcn(ele,_dirtyRowStyle);',
'\t$rcn(ele,_errorRowClassName);',
'\t$rcn(ele,_errorRowClassNameInherited);',
'\t$rcn(ele,_errorRowClassNameInherited_1);',
'\t$rcn(ele,_errorRowClassNameInherited_2);',
'\t$rcn(ele,_errorRowStyle);',
'\t$rcn(ele,_newRowClassName);',
'\t$rcn(ele,_newRowStyle);',
'\t$rcn(ele,_deletedRowClassName);',
'\t$rcn(ele,_deletedRowStyle);',
'\tif(data._isDirty && typeof data._isDeleted != \'undefined\' && data._isDeleted) { ',
'\t\t$acn(ele,_deletedRowClassName);',
'\t\t$acn(ele,_deletedRowStyle);',
'\t\t__d.__displayStyle = \'deletedRow\';',
'\t} else if (data._isDirty && typeof data._oldData != \'undefined\' && !data._isNewRow ) { ',
'\t\t$acn(ele,_dirtyRowClassName);',
'\t\t$acn(ele,_dirtyRowStyle);',
'\t\t__d.__displayStyle = \'dirtyRow\';',
'\t} ',
'\tif(data._isDirty && typeof data._oldData == \'undefined\' && ! (data._isNewRow || data._isDeleted) ) { ',
'\t\t$acn(ele,_dirtyRowClassNameInherited);',
'\t\t$acn(ele,_dirtyRowStyle);',
'\t\t__d.__displayStyle = \'dirtyRowInherited\';',
'\t} ',
'\tif(data._isDeleted) { ',
'\t\t$acn(ele,_deletedRowClassName);',
'\t\t$acn(ele,_deletedRowStyle);',
'\t\t__d.__displayStyle = \'deletedRow\';',
'\t} ',
'\tif(data._isNewRow) { ',
'\t\t$acn(ele,_newRowClassName);',
'\t\t$acn(ele,_newRowStyle);',
'\t\t__d.__displayStyle = \'newRow\';',
'\t} ',
'\tvar flagHasGlobalErrors = false;',
'\tif(typeof data._globalErrors != \'undefined\') {',
'\t\tif( data._globalErrors != \'\')  flagHasGlobalErrors = true;',
'\t}',
'\tvar flagHasWriteConflictErrors = false;',
'\tif(typeof data._hasWriteConflictErrors) flagHasWriteConflictErrors = data._hasWriteConflictErrors',
'\tif(data._hasServerSideError || flagHasGlobalErrors || flagHasWriteConflictErrors) {',
'\t\t$acn(ele,_errorRowClassName);',
'\t\t$acn(ele,_errorRowStyle);',
'\t\t__d.__displayStyle = \'errorRow\';',
'\t} else { ',
'\t\tif(data._flagServerSideErrorInChild || data._flagWriteConflictErrorInChild || data._flagGlobalErrorInChild ){',
'\t\t\t if(!data._isNewRow) {',
'\t\t\t \t$acn(ele,_errorRowClassNameInherited);',
'\t\t\t\t __d.__displayStyle = \'errorRowInherited\';',
'\t\t\t} else {',
'\t\t\t\t__d.__displayStyle = \'newRow errorRowInherited\'; ',
'\t\t\t\t$acn(ele, _errorRowClassNameInherited_1);',
'\t\t\t}',
'\t\t}',
'\t}},',
'\tchildLists: [],',
'\tchildListEndpoints: [\'LIST_TRIALS\'],',
'\t_populateAllChildLists: function() { },',
'\tonSelect: function() { this.populateUXControls();',
'this._selectedRow = this.selection[0];',
'{UXPRERENDEREDALIAS}_DlgObj._listRowSelect(\'LIST_TRIALS\',this);',
'},',
'\tonBeforeSelect: function() {',
'\tvar c = this.childLists;',
'\tvar lObj = \'\';',
'\tif(typeof c != \'undefined\') { ',
'\t\tfor(var i = 0; i < c.length; i++) {',
'\t\t\tlObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(c[i]);',
'\t\t\tif(lObj) {',
'\t\t\t\tvar flag = lObj.onBeforeSelect();',
'\t\t\t\tif(typeof flag != \'undefined\') { ',
'\t\t\t\t\tif(!flag) return false;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dvmode == \'search\') return true;',
'\tif(!this._autoCommitDetailView) { ',
'\t\treturn this._showDirtyDetailViewWarning(); ',
'\t} else { ',
'\t\tif(this.detailViewIsDirty(true)) { ',
'\t\t\tvar result =  this.updateListFromUXControls();  ',
'\t\t\treturn result;',
'\t\t}',
'\t}},',
'\tonClick: function() {',
'CWApp.populateDetailTabs({UXPRERENDEREDALIAS}_DlgObj);',
'{UXPRERENDEREDALIAS}_DlgObj.showTrialDetails = true;',
'{UXPRERENDEREDALIAS}_DlgObj._listSystemOnClick(\'LIST_TRIALS\',this.selection[0]);},',
'\tlayouts: {',
'\t\tDefault: {',
'\t\t\ttype: \'template\',',
'\t\t\titem: {',
'\t\t\t\tstyle: \'color: #646464\'',
'\t\t\t},',
'\t\t\ttemplate: [',
'\t\t\t\t\'<b><span id="{UXPRERENDEREDALIAS}.LIST_TRIALS.LOCATION.I.{*dataRow}">{location}</span></b> Distance: <b><span id="{UXPRERENDEREDALIAS}.LIST_TRIALS.MILES.I.{*dataRow}">{Miles}</span> miles</b>  <br>\',',
'\t\t\t\t\'<br>\',',
'\t\t\t\t\'<span style="color: #646464;"> <span id="{UXPRERENDEREDALIAS}.LIST_TRIALS.SUMMARY.I.{*dataRow}">{summary}</span> </span>\'\t\t\t',
']',
'\t\t}',
'\t},',
'\tcontent: {',
'\t\theader: {',
'\t\t\tshow: false',
'\t\t},',
'\t\tfooter: {',
'\t\t\tshow: false',
'\t\t}',
'\t},',
'\tsystemEvents: {',
'\t\tonTap: function(e) {},',
'\t\tafterAjaxCallback: function(e) {},',
'\t\tafterClientSideFilter: function(e) {},',
'\t\tbeforeServerSideSort: function(e) {},',
'\t\tafterServerSideSort: function(e) {},',
'\t\tonSwipe: function(e) {},',
'\t\tonScroll: function(e) {},',
'\t\tonPullRelease: function(e) {},',
'\t\tonPull: function(e) {},',
'\t\tonPullEnd: function(e) {},',
'\t\tafterSearchComplete: function(e) {},',
'\t\tbeforeSearch: function(e) {},',
'\t\tonSearchResultTooLarge: function(e) {},',
'\t\tonSearchResultTooLargeForLocalStorage: function(e) {},',
'\t\tonBeforePersistToLocalStorage: function(e) {},',
'\t\tonPersistToLocalStorage: function(e) {},',
'\t\tonRestoreFromLocalStorage: function(e) {},',
'\t\tafterRenderComplete: function(e) {},',
'\t\tbeforeFetchMore: function(e) {},',
'\t\tafterFetchMore: function(e) {},',
'\t\tbeforePageNavigate: function(e) {},',
'\t\tafterPageNavigate: function(e) {},',
'\t\tbeforeRefreshRow: function(e) {},',
'\t\tafterRefreshRow: function(e) {},',
'\t\tafterServerSideSummaryCompute: function(summary) {},',
'\t\tdetailView: {',
'\t\t\tcanUpdateList: function(e) {},',
'\t\t\thasClientSideValidationErrors: function(e) {},',
'\t\t\tafterUpdateList: function(e) {},',
'\t\t\tcanSynchronizeList: function(e) {},',
'\t\t\tafterSynchronizeListBatch: function(e) {},',
'\t\t\tcanCancelBatch: function(e) {},',
'\t\t\tafterCancelBatch: function(e) {},',
'\t\t\tafterSynchronizeList: function(e) {},',
'\t\t\tbeforeSynchronizeListBatchStart: function(e) {},',
'\t\t\tafterSynchronizeListBatchEnd: function(e) {},',
'\t\t\tafterRefreshListIncremental: function(e) {},',
'\t\t\tcanResetRow: function(e) {},',
'\t\t\tcanDeleteRow: function(e) {},',
'\t\t\tcanUndoEdits: function(e) {},',
'\t\t\tafterResetRow: function(e) {},',
'\t\t\tafterDeleteRow: function(e) {},',
'\t\t\tafterUndoEdits: function(e) {},',
'\t\t\tcanNewRecord: function(e) {},',
'\t\t\tafterNewRecord: function(e) {},',
'\t\t\tafterDetailViewPopulate: function(e) {},',
'\t\t\tafterListRowSelectCancelled: function(e) {},',
'\t\t\tmodeChanged: function(e) {},',
'\t\t\tbeforeMediaFilesUploaded: function(e) {},',
'\t\t\tafterMediaFilesUploaded: function(e) {},',
'\t\t\tonMediaFilesUploadErrors: function(e) {},',
'\t\t\tbeforeMediaFilesDownloaded: function(e) {},',
'\t\t\tafterMediaFilesDownloaded: function(e) {},',
'\t\t\tbeforeDeleteOrphanMediaFiles: function(e) {},',
'\t\t\tafterDeleteOrphanMediaFiles: function(e) {}',
'\t\t},',
'\t\t_afterAjaxCallback: function() {this._refreshStateMessages();}',
'\t},',
'\t_clientsideSummary: [],',
'\tcomputeClientSideSummaryValues: function(e) {},',
'\t_executeEvent: function(event,obj) { ',
'\treturn {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_TRIALS\',event,obj);',
'}',
',',
'\t_selectAll: function() {',
'\tvar v = this._values;',
'\tvar v2 = [].concat(v);',
'\tthis.setValue(v2,false);',
'}',
',',
'\tsearchList: function() { ',
'\tif(this._searchPartStyle == \'querybyform\') { ',
'\t\tif(this._dvmode != \'search\') return false;',
'\t}',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse {',
'\t\t\tif(this._dataSourceType.toLowerCase() == \'sql\' || this._dataSourceType.toLowerCase() == \'dbf\') {',
'\t\t\t\tmode = \'serverside\';',
'\t\t\t} else { ',
'\t\t\t\tmode = \'clientside\';',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'search\', searchWhere: mode, listIsDirty: flagDirty});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._searchListServerSide(obj);',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilter();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'search\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_searchListServerSide: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar _d={};',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tif(flagDirty) { ',
'\t\talert(\'Can\\\'t execute server-side search because List has edits that have not yet been synchronized.\');',
'\t\treturn false;',
'\t}',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t_data = _data + \'&\' + A5.ajax.buildURLParam(\'__searchOptions\',JSON.stringify(obj));',
'\tthis.filter = false;',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPart\',\'\',_data);',
'}',
',',
'\tclearSearchList: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse mode = \'serverside\';',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'clear\', searchWhere: mode});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._clearSearchListServerSide();',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilterClear();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'clear\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_clearSearchListServerSide: function() { ',
'\tvar _d={};',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPartClear\',\'\',_data);',
'}',
',',
'\t_str: function(txt) {',
'\ttxt = txt.replace("\'","\\\\\'");',
'\ttxt = \'\\\'\' + txt + \'\\\'\';',
'\treturn txt;',
'}',
',',
'\t_QBF: function(txt) { ',
'\tvar o = {};',
'\to.v2 = \'\';',
'\to.v1 = txt;',
'\to.flag = false;',
'\tif(txt.indexOf(\'>=\') >= 0) {',
'\t\to.op = \'>=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<=\') >= 0 ) { ',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'>\') >= 0 ) {',
'\t\to.op = \'>\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<\') >= 0)  { ',
'\t\to.op = \'<\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') == 0)  {',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if ( txt.indexOf(\'..\', txt.length - \'..\'.length) !== -1 ) { ',
'\t\t//ends with ..',
'\t\to.op = \'>=\';',
'\t\ttxt = txt.split(\'..\')',
'\t\to.v1 = txt[0];',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') > 0 ) {',
'\t\to.op = \'between\'',
'\t\ttxt = txt.split(\'..\');',
'\t\to.v1 = txt[0];',
'\t\to.v2 = txt[1];',
'\t\to.flag = true;',
'\t}',
'\treturn o;',
'}',
',',
'\t_match: function(data,field,val,obj) { ',
'\tvar flagKeyword = false;',
'\tif(typeof obj.flagKeyword != \'undefined\') flagKeyword = obj.flagKeyword;',
'\tif(flagKeyword) { ',
'\t\tvar obj_i = this._searchFieldOptions[field.toUpperCase()];',
'\t\tthis._setSearchOps(obj,obj_i);',
'\t}',
'\tvar _d = \'\';',
'\tvar _v = val;',
'\tvar flagC = false;',
'\tif(obj.type == \'c\') {',
'\t\tflagC = true;',
'\t\tif(!obj.caseSensitive) _v = _v.toLowerCase();',
'\t} else { ',
'\t\t//non mumeric searches are only mode 1 or -1',
'\t\tif(obj.mode > 1) obj.mode = 1;',
'\t\tif(obj.mode < -1) obj.mode = -1;',
'\t}',
'\tvar flag = false;',
'\tobj.usesQBFOperator = false;',
'\tif(obj.qbf) { ',
'\t\t_v = _v.split(\',\');',
'\t} else {',
'\t\t_v = [_v];',
'\t}',
'\tvar o = {}',
'\tvar r = \'\';',
'\tvar _vals = [];',
'\tfor(var i = 0; i < _v.length; i++) { ',
'\t\tif(obj.qbf) {',
'\t\t\to = this._QBF(_v[i]);',
'\t\t} else {',
'\t\t\to.flag = false;',
'\t\t\to.v1 = _v[i];',
'\t\t\to.v2 = \'\';',
'\t\t}',
'\t\tif(typeof data[field] != \'undefined\') {',
'\t\t\tif(data[field] != null) { ',
'\t\t\t\t_d = data[field];',
'\t\t\t\tif(obj.type == \'n\') { ',
'\t\t\t\t\to.v1 = Number(o.v1);',
'\t\t\t\t\to.v2 = Number(o.v2);',
'\t\t\t\t\t_d = Number(_d);',
'\t\t\t\t} else if (obj.type == \'l\') { ',
'\t\t\t\t\to.v1 = $u.s.toBool(o.v1);',
'\t\t\t\t\to.v2 = $u.s.toBool(o.v2);',
'\t\t\t\t\t_d = $u.s.toBool(_d);',
'\t\t\t\t} else if (obj.type == \'d\') { ',
'\t\t\t\t\to.v1 = A5.stringToDate(o.v1,obj.dateFormat);',
'\t\t\t\t\to.v2 = A5.stringToDate(o.v2,obj.dateFormat);',
'\t\t\t\t\tif(typeof _d == \'string\') _d = A5.stringToDate(_d,obj.dateFormat);',
'\t\t\t\t\tif(o.v1 != \'\' && o.v1 != null ) o.v1 = o.v1.getTime();',
'\t\t\t\t\tif(o.v2 != \'\' && o.v2 != null ) o.v2 = o.v2.getTime();',
'\t\t\t\t\tif(_d != \'\' && _d != null ) _d = _d.getTime();',
'\t\t\t\t}',
'\t\t\t\tif(flagC) {if(!obj.caseSensitive && typeof _d == \'string\') _d = _d.toLowerCase();}',
'\t\t\t\tif(o.flag) { ',
'\t\t\t\t\t//has qbf operators',
'\t\t\t\t\tif(o.op == \'between\') {',
'\t\t\t\t\t\tif(flagC) {',
'\t\t\t\t\t\t\tif(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tif(flagC) _d = _d.substr(0,o.v1.length)',
'\t\t\t\t\t\tif(o.op == \'>=\') if( _d >= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<=\') if( _d <= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'>\') if(_d > o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<\') if(_d < o.v1) flag = true;',
'\t\t\t\t\t}',
'\t\t\t\t} else { ',
'\t\t\t\t\tif(obj.mode == 1 || obj.mode == -1 ) {',
'\t\t\t\t\t\tif(obj.mode == 1) if(_d == o.v1) flag = true;; //match',
'\t\t\t\t\t\tif(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match',
'\t\t\t\t\t} else if (obj.mode == 2 || obj.mode == -2) { ',
'\t\t\t\t\t\tif(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains',
'\t\t\t\t\t\tif(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;',
'\t\t\t\t\t} else if (obj.mode == 3 || obj.mode == -3) { ',
'\t\t\t\t\t\tif(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with',
'\t\t\t\t\t\tif(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v1 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v1) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v1);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v2 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v2) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v2);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(flag) { ',
'\t\tif(typeof this._state.highlight == \'undefined\') this._state.highlight = {};',
'\t\tthis._state.highlight[field.toUpperCase()] = _vals;',
'\t} else { ',
'\t\t//this._state.highlight[field.toUpperCase()] = [];',
'\t}',
'\treturn flag;',
'}',
',',
'\t_setSearchOps: function(obj,obj_i) { ',
'\tobj.mode = obj_i.option;',
'\tobj.qbf = obj_i.qbf;',
'\tobj.type = obj_i.type;',
'\t//obj.treatAs = obj_i.treatAs;',
'}',
',',
'\t_searchPartOperator: \'&&\',',
'\t_searchPartSubmit_clientSideFilter: function() { ',
'\tif(!this._searchPartHas) return true;',
'\t//_searchPartStyle: \'individualcontrols\'',
'\tthis._state.highlight = {};',
'\tif(this._searchPartStyle == \'singlekeywordcontrol\') { ',
'\t\tvar searchFor = {UXPRERENDEREDALIAS}_DlgObj.getValue(this._keywordSearchControl);',
'\t\tvar arr = this._keywordSearchFields;',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\t//obj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 1;',
'\t\tobj.flagKeyword = true;',
'\t\tvar objStr = JSON.stringify(obj)',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\texpn_i = \'this._match(data,\' +this._str(arr[i]) + \',\' + this._str(searchFor) + \',\'+objStr+\')\';',
'\t\t\texpn.push(expn_i);',
'\t\t}',
'\t\texpn = expn.join(\'||\');',
'\t\t//alert(expn);',
'\t} else if ( this._searchPartStyle == \'individualcontrols\' || this._searchPartStyle == \'querybyform\'  ) { ',
'\t\tvar map = this._searchPart.fieldMap;',
'\t\tvar val = \'\';',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\tobj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 2;',
'\t\t//var objStr = JSON.stringify(obj)',
'\t\tvar ac = [];',
'\t\tvar aco = {};',
'\t\tvar _highlight = {};',
'\t\tif(this._searchPartStyle == \'individualcontrols\') {',
'\t\t\tfor(var i = 0; i < map.length; i++) { ',
'\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(map[i].control);',
'\t\t\t\tif(val != \'\') {',
'\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(map[i].field) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t} else if (this._searchPartStyle == \'querybyform\' ) { ',
'\t\t\tvar controlName = \'\';',
'\t\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\t\tif(controlName != \'\') {',
'\t\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(controlName);',
'\t\t\t\t\tif(val != \'\') {',
'\t\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(this._listFields[i].name) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t\t\taco.control = controlName;',
'\t\t\t\t\t\taco.value = val;',
'\t\t\t\t\t\tac.push(aco);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis.__queryByFormValues = ac;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\t\t}\t',
'\t\tvar operator = \'&&\';',
'\t\tif(typeof this._searchPartOperator != \'undefined\') operator = this._searchPartOperator;',
'\t\texpn = expn.join(\' \'+operator+\' \');',
'\t} ',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = expn;',
'\t}',
'\t//user did not fill in any search fields',
'\tif(expn == \'\') return true;',
'\tvar fnTxt = \'if(\' + expn + \') {return true;} else { return false;}\'',
'\tvar searchFunction = new Function(\'data\',fnTxt);',
'\tthis.setFilter(searchFunction);',
'\tif(this._rData.length > 0) this.setValue(0);',
'}',
',',
'\t_searchPartSubmit_clientSideFilterClear: function() { ',
'if(!this._searchPartHas) return true;',
'\tthis._state.highlight = {};',
'\tthis.setFilter(false);',
'\tvar map = this._searchPart.fieldMap;',
'\tvar val = \'\';',
'\tvar od = {UXPRERENDEREDALIAS}_DlgObj.originalValues[0];',
'\tfor(var i = 0; i < map.length; i++) {',
'\t\tvar val = od[map[i].control.toUpperCase()];',
'\t\tif(typeof val != \'undefined\') {UXPRERENDEREDALIAS}_DlgObj.setValue(map[i].control,val,false);',
'\t}',
'\tthis.setFilter(false);',
'\tdelete this.__queryByFormValues;',
'\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\tif(this._data.length > 0) this.setValue(0);',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = \'\';',
'\t}',
'}',
',',
'\t_debugListData: function() { \t\tvar debugObj = this._data[this.selection[0]];',
'\t\tif(typeof debugObj == \'undefined\') {alert(\'no active row\'); return false;}',
'\t\t\tvar debugTxt = JSON.stringify(debugObj,\'\',\'\\t\'); ',
'\t\tdebugTxt = debugTxt.split(\'\\t\').join(\'    \'); ',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\'); ',
'\t\tif(ele) {',
'\t\t\tele.innerHTML = \'<div style="color: blue;width: 100%; height: 100%;white-space: pre;border: solid 1px blue; padding: 2px;"></div>\';',
'\t\t\tele.firstChild.innerText = debugTxt; ',
'\t\t\tif(ele.firstChild.innerHTML == \'\')  { ele.firstChild.innerHTML = debugTxt }      ',
'\t\t}',
'},',
'\t_refreshDebugInfo: function() {},',
'\t_showSQL_CRUD: function(txt) { },',
'\tflagShowAlerts: true,',
'\tlookupValue: function(key,name,keyValue) {\tvar _d = this._data;',
'\tvar indx = A5FindPropInArray(_d,key,keyValue);',
'\tvar rv = \'\';',
'\tif(indx >=0) {',
'\t\tif(name == \'__rowData__\') return _d[indx];',
'\t\trv =  _d[indx][name];',
'\t} else {',
'\t\t//null out all properties in row',
'\t\tvar _d2 = {};',
'\t\tif(typeof _d[0] == \'undefined\') { return {}} ;',
'\t\tfor(var n in _d[0]) {',
'\t\t\t_d2[n] = \'&nbsp;\';',
'\t\t}',
'\t\trv = _d2;',
'\t}',
'\treturn rv;',
'}',
',',
'\tallowNullSelection: true,',
'\tallowNullDeselection: false,',
'\tloopNavigate: false,',
'\tloopNavigateNullSelection: false,',
'\trefreshChildLists: function() {{UXPRERENDEREDALIAS}_DlgObj._listRefreshCascadingLists(\'LIST_TRIALS\'); },',
'\trowExpander: function(rowNumber) { ',
'\tvar mode = typeof arguments[2] != \'undefined\' ? arguments[2] : \'toggle\';',
'\tif(typeof rowNumber == \'undefined\' || rowNumber == \'\' ) {',
'\t\trowNumber = this.selection[0];',
'\t\tif(typeof rowNumber == \'undefined\') return false;',
'\t}',
'\tvar animObj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\tvar ele = $(this._hostComponentId + \'.\' + this.listVariableName + \'.ROWEXPANDER.\' + rowNumber);',
'\tif(ele) {',
'\t\tif(mode == \'toggle\') A5.u.element.toggle(ele,animObj);',
'\t\tif(mode == \'show\') A5.u.element.show(ele,animObj);',
'\t\tif(mode == \'hide\') A5.u.element.hide(ele,animObj);',
'\t}',
'}',
',',
'\tafterClientSideSummaryCompute: function(csSummary) { },',
'\tselectCurrentLayout: function(name) { ',
'var pl = this.layouts[name];',
'if(typeof pl == \'undefined\') return false;',
'this.setLayout(name);',
'if(pl.type == \'column\') {',
'\tthis.columnLayout.header.show = this.layouts[name].showColumnTitles; ',
'\tthis.refresh();',
'}',
'},',
'\tonFilter: function() { \tvar e = {}; ',
'\te.rowCount = this._values.length;  ',
'\tvar ele = $(\'{UXPRERENDEREDALIAS}.__listId__.RECORDCOUNT\'); ',
'\tif(ele) {ele.innerHTML = e.rowCount;}; ',
'\tif(this.persistToStorage) { this.persistToStorage({});} ',
'\t(function(e) {   })(e);',
'}',
',',
'\tserverSideSort: function(column) {',
'var e = {};',
'e.column = column;',
'var result = this.systemEvents.beforeServerSideSort(e);',
'if(result == false) return false;',
'var obj = {};',
'obj.cmd = \'sort\';',
'obj.column = column;',
'obj.layoutName = this.layout;',
'obj.listState = this._state;',
'var data = \'_listId=LIST_TRIALS&\' + A5.ajax.buildURLParam(\'_cmdObj\',$u.o.toJSON(obj));',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:listServerSideSort\',\'\',data);',
'},',
'\tfilterListClientSide: function(searchFor) {',
'//var result = this.systemEvents.beforeClientSideFilter();',
'//if(result == false) return false;',
'if(searchFor != \'\') {',
'\t//fixes bug in Chrome when searching on dates strings that use forward slashes',
'\tsearchFor = searchFor.replace(/\\//g,\'\\\\/\');',
'\tthis.setFilter({\'location\': RegExp(\'\' + searchFor,\'i\'), \'summary\': RegExp(\'\' + searchFor,\'i\'), \'purpose\': RegExp(\'\' + searchFor,\'i\'), \'overview\': RegExp(\'\' + searchFor,\'i\'), \'eligibility\': RegExp(\'\' + searchFor,\'i\'), \'moreinfo\': RegExp(\'\' + searchFor,\'i\'), \'contact\': RegExp(\'\' + searchFor,\'i\'), \'latitude\': RegExp(\'\' + searchFor,\'i\'), \'longitude\': RegExp(\'\' + searchFor,\'i\'), \'Miles\': RegExp(\'\' + searchFor,\'i\'), \'CWID\': RegExp(\'\' + searchFor,\'i\')});',
'} else this.setFilter(false);',
'var rowCount = this._values.length;',
'//var e = {};',
'//e.rowCount = rowCount;',
'//this.systemEvents.afterClientSideFilter(e);',
'var ele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.RECORDCOUNT\');',
'if(ele) ele.innerHTML = rowCount;',
'}',
',',
'\tscrollToClosestValue: function(val) { \t',
'\tif(typeof val != \'string\') val = val.join(\'\');',
'\tvar flagCI = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\tvar pos = typeof arguments[2] != \'undefined\' ? arguments[2] : \'top\';',
'\tvar anim = typeof arguments[3] != \'undefined\' ? arguments[3] : {}',
'\tvar _d = this._rData;',
'\tvar len = val.length;',
'\tvar _d2;',
'\tvar i2 = -1;',
'\tif(flagCI) val = val.toLowerCase();',
'\tfor(var i = 0 ; i < _d.length; i++) {',
'\t\ti2 = i;',
'\t\t_d2 = String(_d[i][\'*value\']);',
'\t\t_d2 = _d2.substr(0,len);',
'\t\t_d2 = $u.s.pad(_d2,len,\' \',\'l\');',
'\t\tif(flagCI) _d2 = _d2.toLowerCase();',
'\t\tif(val <= _d2){',
'\t\t\t break;',
'\t\t}',
'\t}',
'\tif(i2 > -1) { ',
'\t\tthis.scrollToItem(i2,{mode: pos, animation: anim});',
'\t}',
'}',
',',
'\t_refreshStateMessages: function() {',
'\tvar ele = \'\';',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.PAGENUMBER\');',
'\tif(ele) ele.innerHTML = this._state.page;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.PAGECOUNT\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.PAGECOUNT.PAGESELECTOR\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;\t',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.LISTSTATE\');',
'\tif(ele) {',
'\t\tvar listState = $u.o.toJSON(this._state);',
'\t\tele.innerHTML = listState;',
'\t}',
'\t//navigation buttons\t',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_NEXT.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_LAST.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_FIRST.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_PREV.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = $(\'{UXPRERENDEREDALIAS}.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LIST_TRIALS\');',
'\tif(ele) {',
'\t\tvar data = this._recordNavigatorLinks;',
'\t\tif(data) A5.form.populateSelect(ele,this._state.page,data,true);',
'\t}',
'}',
',',
'\tview: {',
'\t\ttype: \'dynamic\',',
'\t\tsize: 15,',
'\t\tmaxSize: 0,',
'\t\toffset: 5,',
'\t\tnavigation: {',
'\t\t\tpull: {',
'\t\t\t\tallow: true,',
'\t\t\t\tsize: 15',
'\t\t\t},',
'\t\t\tprev: {',
'\t\t\t\thtml: \'Previous\'',
'\t\t\t},',
'\t\t\tnext: {',
'\t\t\t\thtml: \'Next\'',
'\t\t\t}',
'\t\t}',
'\t},',
'\tscroller: {',
'\t\thas: true,',
'\t\tflow: \'ttb\',',
'\t\tlocation: \'after\',',
'\t\toffset: {',
'\t\t\ttop: \'0px\',',
'\t\t\tbottom: \'0px\',',
'\t\t\tleft: \'0px\',',
'\t\t\tright: \'0px\'',
'\t\t},',
'\t\tslider: {',
'\t\t\thandle: {',
'\t\t\t},',
'\t\t\tshadow: {',
'\t\t\t\tshow: true',
'\t\t\t},',
'\t\t\tmessage: {',
'\t\t\t\tshow: \'auto\',',
'\t\t\t\tlowSwitch: 75,',
'\t\t\t\thighSwitch: 75',
'\t\t\t}',
'\t\t},',
'\t\tdial: {',
'\t\t\tshow: \'drag\',',
'\t\t\tinvertDrag: false,',
'\t\t\tmessage: {',
'\t\t\t},',
'\t\t\tpixelStep: 4,',
'\t\t\tsize: 2',
'\t\t},',
'\t\tshow: true',
'\t},',
'\t_getRoute: function() { ',
'\tvar obj  = typeof arguments[1] != \'undefined\' ? arguments[1] : [];',
'\tvar mode = typeof arguments[0] != \'undefined\' ? arguments[0] : \'rowNumber\'; //',
'\tif(typeof this.selection[0] == \'undefined\') return false;',
'\tif(typeof this.getData(this.selection[0]) == \'undefined\') return false;',
'\tif(mode == \'rowNumber\') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])[\'*key\']});',
'\telse obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tif(lObj) lObj._getRoute(mode,obj);',
'\t}',
'\treturn obj;',
'}',
',',
'\t_setRoute: function(route) { ',
'\tif(typeof route == \'undefined\') { ',
'\t\troute = this.__currentRoute;',
'\t\tif(typeof route == \'undefined\') return false;',
'\t}',
'\tvar lObj = \'\';',
'\tvar row = \'\';',
'\tfor(var i = 0; i < route.length; i++) {',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(route[i].list);',
'\t\trow = route[i].row;',
'\t\tvar flag = typeof this._restoringList != \'undefined\' ? !this._restoringList : true;',
'\t\tif(typeof row != \'undefined\') {',
'\t\t\tvar rowFixed = \'\';',
'\t\t\tif(typeof lObj._dataMap == \'undefined\') return false;',
'\t\t\t//var msg = JSON.stringify(lObj._dataMap);',
'\t\t\t//alert(\'route[i].row:\' + route[i].row + \' ------ \' + msg);',
'\t\t\trowFixed = lObj._dataMap.indexOf(route[i].row);',
'\t\t\tlObj.setValue(rowFixed,flag);',
'\t\t\tif(this._clearServerSideErrors) this._clearServerSideErrors();',
'\t\t\tif(this._showServerSideErrors) this._showServerSideErrors();',
'\t\t\tif(this._showWriteConflictErrors) this._showWriteConflictErrors();',
'\t\t}',
'\t}',
'}',
',',
'\t_useServerSideSyncLog: false,',
'\t_searchHighlighting: false',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_CONDITIONS\'] = [',
'{"Condition" : "Healthy Children Studies"},',
'{"Condition" : "Healthy Patient Studies"},',
'{"Condition" : "Abdominal Cancer"},',
'{"Condition" : "Abdominal Surgery"},',
'{"Condition" : "Abnormal Blood Vessels (Arteriovenous Malformations)"},',
'{"Condition" : "Achalasia"},',
'{"Condition" : "Acne"},',
'{"Condition" : "Acquired Immune Deficiency Syndrome (AIDS - Pediatric)"},',
'{"Condition" : "Acromegaly"},',
'{"Condition" : "Acute and Chronic Dental Pain"},',
'{"Condition" : "Acute Myelogenous Leukemia (AML)"},',
'{"Condition" : "Acute Myeloid Leukemia"},',
'{"Condition" : "Acute Pain"},',
'{"Condition" : "Acute Respiratory Distress Syndrome (ARDS)"},',
'{"Condition" : "Acute Rhinitis"},',
'{"Condition" : "Addictions"},',
'{"Condition" : "Adenocarcinoma"},',
'{"Condition" : "Adrenal Cancer"},',
'{"Condition" : "Adverse Effects, Drugs"},',
'{"Condition" : "Affective Disorders"},',
'{"Condition" : "Age Spots (Solar Lentigines)"},',
'{"Condition" : "Aging"},',
'{"Condition" : "Agoraphobia (Fear of Crowds)"},',
'{"Condition" : "AIDS and AIDS related infections"},',
'{"Condition" : "Alcohol Dependence"},',
'{"Condition" : "Alcohol Use Disorder"},',
'{"Condition" : "Allergies & Asthma"},',
'{"Condition" : "Allergy"},',
'{"Condition" : "Allergy (Pediatric)"},',
'{"Condition" : "Alopecia"},',
'{"Condition" : "Alpha 1 Antitrypsin Deficiency"},',
'{"Condition" : "Alternative Medicine"},',
'{"Condition" : "Alzheimer\'s Disease"},',
'{"Condition" : "Amenorrhea"},',
'{"Condition" : "Amyloidosis"},',
'{"Condition" : "Amyotrophic Lateral Sclerosis (ALS)"},',
'{"Condition" : "Anal Dysplasia"},',
'{"Condition" : "Anal Fissures"},',
'{"Condition" : "Anemia"},',
'{"Condition" : "Anemia; Non-Hodgkins Lymphoma"},',
'{"Condition" : "Anemia; Non-Small-Cell Lung Cancer"},',
'{"Condition" : "Anemic Cancer"},',
'{"Condition" : "Anesthesia"},',
'{"Condition" : "Anesthesia (Local)"},',
'{"Condition" : "Aneurysm"},',
'{"Condition" : "Anger"},',
'{"Condition" : "Angina"},',
'{"Condition" : "Ankylosing Spondylitis"},',
'{"Condition" : "Anorexia"},',
'{"Condition" : "Anterior Uveitis"},',
'{"Condition" : "Antiphospholipid Syndrome"},',
'{"Condition" : "Antithrombin Deficiency"},',
'{"Condition" : "Anxiety Disorders"},',
'{"Condition" : "Anxiety Disorders (Pediatric)"},',
'{"Condition" : "Aplastic Anemia"},',
'{"Condition" : "Appendicitis"},',
'{"Condition" : "Arrhythmia"},',
'{"Condition" : "Arthritis and Arthritic Pain"},',
'{"Condition" : "Arthritis and Arthritic Pain (Pediatric)"},',
'{"Condition" : "Asperger\'s Disorder"},',
'{"Condition" : "Aspergillosis"},',
'{"Condition" : "Asthma"},',
'{"Condition" : "Asthma (Pediatric)"},',
'{"Condition" : "Astigmatism"},',
'{"Condition" : "Atherosclerosis"},',
'{"Condition" : "Athlete\'s Foot (Tinea Pedis)"},',
'{"Condition" : "Athletic Injuries"},',
'{"Condition" : "Atopic Dermatitis"},',
'{"Condition" : "Atrial Fibrillation"},',
'{"Condition" : "Atrial Fibrillation (Pediatric)"},',
'{"Condition" : "Atrial Flutter"},',
'{"Condition" : "Attention Deficit\\/Hyperactivity Disorder (ADHD - Adults)"},',
'{"Condition" : "Attention Deficit\\/Hyperactivity Disorder (ADHD - Pediatric)"},',
'{"Condition" : "Auditory Loss and Deafness"},',
'{"Condition" : "Auditory Stimulation"},',
'{"Condition" : "Autism"},',
'{"Condition" : "Autonomic Nervous System"},',
'{"Condition" : "Bacterial Infections"},',
'{"Condition" : "Barrett\'s Esophagus"},',
'{"Condition" : "Batten Disease"},',
'{"Condition" : "Bed Sores (Decubitus Ulcers)"},',
'{"Condition" : "Benign Prostatic Hyperplasia (Enlarged Prostate)"},',
'{"Condition" : "Biliary Tract Cancer"},',
'{"Condition" : "Binge Eating Disorder"},',
'{"Condition" : "Bipolar Disorder"},',
'{"Condition" : "Bipolar Disorders (Pediatric)"},',
'{"Condition" : "Birth Control"},',
'{"Condition" : "Birth Defects"},',
'{"Condition" : "Bladder Cancer"},',
'{"Condition" : "Bladder Disorders"},',
'{"Condition" : "Blood Cancer"},',
'{"Condition" : "Blood Clots"},',
'{"Condition" : "Blood Transfusions"},',
'{"Condition" : "Body Composition"},',
'{"Condition" : "Body Dysmorphic Disorder"},',
'{"Condition" : "Bone Density"},',
'{"Condition" : "Bone Diseases"},',
'{"Condition" : "Bone Fractures"},',
'{"Condition" : "Bone Marrow Transplant"},',
'{"Condition" : "Bone Metastases"},',
'{"Condition" : "Bone Neoplasm"},',
'{"Condition" : "Borderline Personality Disorder"},',
'{"Condition" : "Bowel Dysfunction"},',
'{"Condition" : "Brain Cancer"},',
'{"Condition" : "Brain Injury"},',
'{"Condition" : "Brain Metastases"},',
'{"Condition" : "Brain Tumor"},',
'{"Condition" : "Brain Tumor (Pediatric)"},',
'{"Condition" : "Breast Cancer"},',
'{"Condition" : "Breast Cancer - HER2 Positive"},',
'{"Condition" : "Breast Feeding"},',
'{"Condition" : "Breast Fibroadenoma"},',
'{"Condition" : "Breast Implants"},',
'{"Condition" : "Breast Pain"},',
'{"Condition" : "Breast Reconstruction"},',
'{"Condition" : "Bronchiectasis"},',
'{"Condition" : "Bronchiolo-Alveolar Carcinoma (BAC)"},',
'{"Condition" : "Bronchitis"},',
'{"Condition" : "Bronchitis (Pediatric)"},',
'{"Condition" : "Bronchoscopy"},',
'{"Condition" : "Bulimia"},',
'{"Condition" : "Bunion"},',
'{"Condition" : "Burns and Burn Infections"},',
'{"Condition" : "Bursitis"},',
'{"Condition" : "Cancer (Pediatric)"},',
'{"Condition" : "Cancer Pain"},',
'{"Condition" : "Cancer Prevention"},',
'{"Condition" : "Cancer Treatment"},',
'{"Condition" : "Cancer\\/Tumors"},',
'{"Condition" : "Candidemia\\/Candidiasis"},',
'{"Condition" : "Canker Sores"},',
'{"Condition" : "Cardiac Ischemia"},',
'{"Condition" : "Cardiac Surgery"},',
'{"Condition" : "Cardiomyopathy"},',
'{"Condition" : "Cardiovascular Abnormalities"},',
'{"Condition" : "Carotid Artery Disease"},',
'{"Condition" : "Carpal Tunnel Syndrome"},',
'{"Condition" : "Cartilage Injuries"},',
'{"Condition" : "Cataracts"},',
'{"Condition" : "Catheter Complications"},',
'{"Condition" : "Celiac Disease"},',
'{"Condition" : "Ceramic Inlay\\/Onlay"},',
'{"Condition" : "Cerebral Arteriovenous Malformations"},',
'{"Condition" : "Cerebral Ischemia"},',
'{"Condition" : "Cerebral Palsy"},',
'{"Condition" : "Cerebral Palsy (Pediatric)"},',
'{"Condition" : "Cervical Cancer"},',
'{"Condition" : "Cervical Dysplasia"},',
'{"Condition" : "Cervical Intraepithelial Neoplasia"},',
'{"Condition" : "Chemotherapy"},',
'{"Condition" : "Chest Pain"},',
'{"Condition" : "Chest Trauma"},',
'{"Condition" : "Chickenpox (Varicella Zoster Infection)"},',
'{"Condition" : "Cholesterol Ester Storage Disease (CESD)"},',
'{"Condition" : "Chordoma"},',
'{"Condition" : "Chronic Back Pain"},',
'{"Condition" : "Chronic Bronchitis"},',
'{"Condition" : "Chronic Cough"},',
'{"Condition" : "Chronic Diarrhea"},',
'{"Condition" : "Chronic Fatigue Syndrome"},',
'{"Condition" : "Chronic Inflammatory Demyelinating Polyneuropathy (CIDP)"},',
'{"Condition" : "Chronic Leg Pain"},',
'{"Condition" : "Chronic Lymphocytic Leukemia"},',
'{"Condition" : "Chronic Myeloid Leukemia"},',
'{"Condition" : "Chronic Obstructive Lung Disease"},',
'{"Condition" : "Chronic Pain"},',
'{"Condition" : "Chronic Pelvic Pain"},',
'{"Condition" : "Chronic Renal Anemia"},',
'{"Condition" : "Chronic Shoulder Pain"},',
'{"Condition" : "Circulation Disorders"},',
'{"Condition" : "Claudication"},',
'{"Condition" : "Clostridium Difficile-Associated Diarrhea"},',
'{"Condition" : "Cold Sores (Herpes Labialis Infections)"},',
'{"Condition" : "Colic"},',
'{"Condition" : "Collagen Vascular Diseases"},',
'{"Condition" : "Colon Cancer"},',
'{"Condition" : "Colon Cancer Screening"},',
'{"Condition" : "Colon cancer; rectal cancer"},',
'{"Condition" : "Colon Polyps"},',
'{"Condition" : "Colorectal Cancer"},',
'{"Condition" : "Common Cold"},',
'{"Condition" : "Common Cold (Pediatric)"},',
'{"Condition" : "Common Variable Immunodeficiency (CVID)"},',
'{"Condition" : "Communication Disorders"},',
'{"Condition" : "Complex Regional Pain Syndrome- type 1 (CRPS-I)"},',
'{"Condition" : "Complicated Grief"},',
'{"Condition" : "Congenital Adrenal Hyperplasia"},',
'{"Condition" : "Congenital Afibrinogenemia"},',
'{"Condition" : "Congenital Heart Disease"},',
'{"Condition" : "Congenital Lactic Acidosis (CLA)"},',
'{"Condition" : "Congenital Skin Diseases"},',
'{"Condition" : "Congestive Heart Failure"},',
'{"Condition" : "Conjunctivitis, Bacterial"},',
'{"Condition" : "Connective Tissue Diseases"},',
'{"Condition" : "Constipation"},',
'{"Condition" : "Contact Dermatitis"},',
'{"Condition" : "Continuous Positive Airway Pressure (CPAP)"},',
'{"Condition" : "Contraception"},',
'{"Condition" : "COPD (Chronic Obstructive Pulmonary Disease)"},',
'{"Condition" : "Coronary Artery Disease"},',
'{"Condition" : "Crohn\'s Disease"},',
'{"Condition" : "Crohn\'s Disease (Pediatric)"},',
'{"Condition" : "Cushing\'s Disease"},',
'{"Condition" : "Cutaneous Candidiasis"},',
'{"Condition" : "Cutaneous Lupus Erythematosus"},',
'{"Condition" : "Cutaneous T-Cell Lymphoma"},',
'{"Condition" : "Cystic Fibrosis"},',
'{"Condition" : "Cystoid Macular Edema"},',
'{"Condition" : "Cytomegalovirus (CMV) Retinitis"},',
'{"Condition" : "Cytomegalovirus Infections"},',
'{"Condition" : "Deafness"},',
'{"Condition" : "Deep Vein Thrombosis"},',
'{"Condition" : "Defibrillator (AICD)"},',
'{"Condition" : "Dementia"},',
'{"Condition" : "Dental Filling"},',
'{"Condition" : "Depression"},',
'{"Condition" : "Depression (Adolescent)"},',
'{"Condition" : "Depression (Adult and Geriatric)"},',
'{"Condition" : "Depression (Major\\/Severe)"},',
'{"Condition" : "Depression (Pediatric)"},',
'{"Condition" : "Depression (Treatment-Resistant)"},',
'{"Condition" : "Dermatitis, Atopic"},',
'{"Condition" : "Dermatomyositis (Connective Tissue Disease)"},',
'{"Condition" : "Desmoid Tumors"},',
'{"Condition" : "Diabetes (Pediatric)"},',
'{"Condition" : "Diabetes and Hypertension"},',
'{"Condition" : "Diabetes Mellitus Types I and II"},',
'{"Condition" : "Diabetes Mellitus, Type 1"},',
'{"Condition" : "Diabetes Mellitus, Type 2"},',
'{"Condition" : "Diabetes Prevention"},',
'{"Condition" : "Diabetic Foot Ulcers"},',
'{"Condition" : "Diabetic Gastroparesis"},',
'{"Condition" : "Diabetic Kidney Disease"},',
'{"Condition" : "Diabetic Macular Edema"},',
'{"Condition" : "Diabetic Neuropathy"},',
'{"Condition" : "Diabetic Retinopathy"},',
'{"Condition" : "Diabetic Vitreous Hemorrhage"},',
'{"Condition" : "Diet and Nutrition"},',
'{"Condition" : "Digestive System Neoplasms"},',
'{"Condition" : "Discoid Lupus Erythematosus (DLE)"},',
'{"Condition" : "Dizzy\\/Fainting Spells"},',
'{"Condition" : "Down\'s Syndrome"},',
'{"Condition" : "Dry Eye Disease"},',
'{"Condition" : "Ductal Carcinoma In Situ (DCIS)"},',
'{"Condition" : "Duodenal Ulcers"},',
'{"Condition" : "Dupuytren\'s Disease"},',
'{"Condition" : "Dysfunctional Uterine Bleeding"},',
'{"Condition" : "Dyskinesias"},',
'{"Condition" : "Dyslexia"},',
'{"Condition" : "Dyslipidemia"},',
'{"Condition" : "Dysmenorrhea (Painful Periods)"},',
'{"Condition" : "Dysrhythmia"},',
'{"Condition" : "Dystonias"},',
'{"Condition" : "Ear Infections"},',
'{"Condition" : "Ear Infections (Pediatric)"},',
'{"Condition" : "Ear, Nose, and Throat (ENT) Surgeries"},',
'{"Condition" : "Eczema (Atopic Dermatitis - Pediatric)"},',
'{"Condition" : "Eczema (Atopic Dermatitis)"},',
'{"Condition" : "Effects of Chemotherapy"},',
'{"Condition" : "Elevated Triglycerides (Hypertriglyceridemia)"},',
'{"Condition" : "Emotional Processing"},',
'{"Condition" : "Emphysema"},',
'{"Condition" : "Endometrial Cancer"},',
'{"Condition" : "Endometrial Hyperplasia"},',
'{"Condition" : "Endometriosis"},',
'{"Condition" : "Endotracheal Intubation"},',
'{"Condition" : "Enuresis"},',
'{"Condition" : "Epidermolysis Bullosa"},',
'{"Condition" : "Epilepsy"},',
'{"Condition" : "Epilepsy (Pediatric)"},',
'{"Condition" : "Erectile Dysfunction"},',
'{"Condition" : "Esophageal Cancer"},',
'{"Condition" : "Esophageal Disorders"},',
'{"Condition" : "Essential Tremor"},',
'{"Condition" : "Ewing\'s Family Tumors"},',
'{"Condition" : "Excessive Sweating"},',
'{"Condition" : "Extraction"},',
'{"Condition" : "Eye Disorders\\/Infections"},',
'{"Condition" : "Eye Disorders\\/Infections (Pediatric)"},',
'{"Condition" : "Fabry Disease"},',
'{"Condition" : "Fallopian Tube Cancer"},',
'{"Condition" : "Familial Chylomicronemia Syndrome"},',
'{"Condition" : "Familial Hypercholesterolemia"},',
'{"Condition" : "Fast Heart Rate (Tachycardia)"},',
'{"Condition" : "Fecal Incontinence"},',
'{"Condition" : "Female Hormonal Deficiencies\\/Abnormalities"},',
'{"Condition" : "Fever"},',
'{"Condition" : "Fibrocystic Breast Disease"},',
'{"Condition" : "Fibromyalgia"},',
'{"Condition" : "Follicular Lymphoma"},',
'{"Condition" : "Fredrickson Type III Hyperlipoproteinemia"},',
'{"Condition" : "Frequent Nighttime Urination (Nocturia)"},',
'{"Condition" : "Friedreich\'s Ataxia"},',
'{"Condition" : "Frozen Shoulder (Adhesive Capsulitis)"},',
'{"Condition" : "Functional Dyspepsia"},',
'{"Condition" : "Fungal Infections"},',
'{"Condition" : "Gall Bladder Cancer"},',
'{"Condition" : "Gall Bladder Disorders"},',
'{"Condition" : "Gambling Problems"},',
'{"Condition" : "Gastric Cancer"},',
'{"Condition" : "Gastric Ulcers"},',
'{"Condition" : "Gastroenteritis"},',
'{"Condition" : "Gastroesophageal Reflux Disease (GERD)"},',
'{"Condition" : "Gastrointestinal Diseases and Disorders"},',
'{"Condition" : "Gastroparesis"},',
'{"Condition" : "Gaucher Disease"},',
'{"Condition" : "Generalized Anxiety Disorder (GAD - Pediatric)"},',
'{"Condition" : "Generalized Anxiety Disorder (GAD)"},',
'{"Condition" : "Genital Herpes"},',
'{"Condition" : "Genital Warts"},',
'{"Condition" : "Genitourinary Cancer"},',
'{"Condition" : "Genitourinary Prolapse"},',
'{"Condition" : "Germ Cell Tumors"},',
'{"Condition" : "Gestational Trophoblastic Neoplasia"},',
'{"Condition" : "Glaucoma"},',
'{"Condition" : "Glioblastoma multiforme"},',
'{"Condition" : "Gliomas"},',
'{"Condition" : "Glomerulonephritis"},',
'{"Condition" : "Glomerulosclerosis"},',
'{"Condition" : "Gout (Hyperuricemia)"},',
'{"Condition" : "Graft-Versus-Host Disease (GVHD)"},',
'{"Condition" : "Growth Hormone Deficiencies\\/Abnormalities"},',
'{"Condition" : "Gynecological Infections"},',
'{"Condition" : "Gynecomastia (breast enlargement)"},',
'{"Condition" : "Gynecomastia (breast enlargement) - Pediatrics"},',
'{"Condition" : "Habit Reversal"},',
'{"Condition" : "Hair Loss"},',
'{"Condition" : "Hair Removal"},',
'{"Condition" : "Hand Dermatitis"},',
'{"Condition" : "Head and Neck Cancer"},',
'{"Condition" : "Head Lice"},',
'{"Condition" : "Headaches"},',
'{"Condition" : "Hearing Aid"},',
'{"Condition" : "Hearing Impairment"},',
'{"Condition" : "Hearing Loss"},',
'{"Condition" : "Heart Attack (Myocardial Infarction)"},',
'{"Condition" : "Heart Defect"},',
'{"Condition" : "Heart Disease"},',
'{"Condition" : "Heart Failure"},',
'{"Condition" : "Heart Transplantation"},',
'{"Condition" : "Heart Valve Disease"},',
'{"Condition" : "Heartburn"},',
'{"Condition" : "Heartburn (Pediatric)"},',
'{"Condition" : "Helicobacter Pylori"},',
'{"Condition" : "Hemangioma"},',
'{"Condition" : "Hematologic Cancer"},',
'{"Condition" : "Hematologic Neoplasms"},',
'{"Condition" : "Hematological Disorders"},',
'{"Condition" : "Hemifacial Spasm"},',
'{"Condition" : "Hemodialysis"},',
'{"Condition" : "Hemoglobinuria, Paroxysmal"},',
'{"Condition" : "Hemophilia"},',
'{"Condition" : "Hemorrhage"},',
'{"Condition" : "Hemorrhoids"},',
'{"Condition" : "Hepatic Encephalopathy"},',
'{"Condition" : "Hepatitis"},',
'{"Condition" : "Hepatitis B"},',
'{"Condition" : "Hepatitis C; Chronic"},',
'{"Condition" : "Hepatoblastoma"},',
'{"Condition" : "Hereditary Angioedema"},',
'{"Condition" : "Hereditary Cancer Syndromes"},',
'{"Condition" : "Hernia"},',
'{"Condition" : "Herpes Simplex Infections"},',
'{"Condition" : "Herpes Zoster Infections"},',
'{"Condition" : "Herpetic Neuralgia"},',
'{"Condition" : "High Blood Pressure (Hypertension - Pediatric)"},',
'{"Condition" : "High Blood Pressure (Hypertension)"},',
'{"Condition" : "High Cholesterol (Hyperlipidemia)"},',
'{"Condition" : "Hip Replacement"},',
'{"Condition" : "Histiocytoma"},',
'{"Condition" : "HIV"},',
'{"Condition" : "HIV (Pediatric)"},',
'{"Condition" : "HIV Infections"},',
'{"Condition" : "HIV\\/AIDS"},',
'{"Condition" : "Hives (Urticaria)"},',
'{"Condition" : "Hodgkin\'s Disease"},',
'{"Condition" : "Holoprosencephaly"},',
'{"Condition" : "Hormone Deficiencies"},',
'{"Condition" : "Hormone Replacement Therapy"},',
'{"Condition" : "Hot Flash"},',
'{"Condition" : "Human Growth Hormone (HGH)"},',
'{"Condition" : "Human Papilloma Virus (HPV)"},',
'{"Condition" : "Hunter Syndrome (MPS II)"},',
'{"Condition" : "Huntington\'s Disease"},',
'{"Condition" : "Hypercalcemia"},',
'{"Condition" : "Hyperparathyroidism"},',
'{"Condition" : "Hyperparathyroidism (Pediatric)"},',
'{"Condition" : "Hypertriglyceridemia"},',
'{"Condition" : "Hypochondriasis"},',
'{"Condition" : "Hypogammaglobulinemia"},',
'{"Condition" : "Hypogonadism"},',
'{"Condition" : "Hyponatremia"},',
'{"Condition" : "Ichthyosis"},',
'{"Condition" : "Idiopathic Inflammatory Myopathies"},',
'{"Condition" : "Idiopathic Membranous Nephropathy"},',
'{"Condition" : "Idiopathic Pulmonary Fibrosis"},',
'{"Condition" : "Idiopathic Short Stature"},',
'{"Condition" : "Idiopathic Thrombocytopenic Purpura (ITP)"},',
'{"Condition" : "Ileus"},',
'{"Condition" : "Immune (Idiopathic) Thrombocytopenic Purpura (ITP)"},',
'{"Condition" : "Impotence"},',
'{"Condition" : "In Vitro Fertilization"},',
'{"Condition" : "Indikation: Diabetes - Typ II"},',
'{"Condition" : "Infantile Fibrosarcoma"},',
'{"Condition" : "Infantile Neuronal Ceroid Lipofuscinosis"},',
'{"Condition" : "Infantile Spasms"},',
'{"Condition" : "Infectious Colitis"},',
'{"Condition" : "Infertility"},',
'{"Condition" : "Inflammation"},',
'{"Condition" : "Inflammatory Bowel Disease"},',
'{"Condition" : "Influenza"},',
'{"Condition" : "Injection Port"},',
'{"Condition" : "Insomnia"},',
'{"Condition" : "Intermittent Claudication"},',
'{"Condition" : "Intermittent Explosive Disorder"},',
'{"Condition" : "Interstitial Cystitis"},',
'{"Condition" : "Intra-Abdominal Infections"},',
'{"Condition" : "Intrauterine Device"},',
'{"Condition" : "Iritis"},',
'{"Condition" : "Iron Overload (Hemachromatosis)"},',
'{"Condition" : "Irritable Bowel Syndrome (IBS- Pediatric)"},',
'{"Condition" : "Irritable Bowel Syndrome (IBS)"},',
'{"Condition" : "Ischemic Foot Ulcers"},',
'{"Condition" : "Islet Ce417ll Cancer"},',
'{"Condition" : "Joint Injuries"},',
'{"Condition" : "Kaposi\'s Sarcoma"},',
'{"Condition" : "Kawasaki Disease"},',
'{"Condition" : "Keratoses"},',
'{"Condition" : "Kidney Cancer"},',
'{"Condition" : "Kidney Disease"},',
'{"Condition" : "Kidney Disease (Pediatric)"},',
'{"Condition" : "Kidney Failure"},',
'{"Condition" : "Kidney Failure (Pediatric)"},',
'{"Condition" : "Kidney Stones"},',
'{"Condition" : "Kidney Transplantation"},',
'{"Condition" : "Kleptomania"},',
'{"Condition" : "Knee Injuries"},',
'{"Condition" : "Knee Replacement"},',
'{"Condition" : "Knee Surgery"},',
'{"Condition" : "Kronisk bronkitis (KOL)\\/ Rygerlunger"},',
'{"Condition" : "Labor\\/Delivery"},',
'{"Condition" : "Lactation Insufficiency"},',
'{"Condition" : "Lactose Intolerance"},',
'{"Condition" : "Late Infantile Neuronal Ceroid Lipfuscinsosis"},',
'{"Condition" : "Learning Disorders"},',
'{"Condition" : "Leber\'s Hereditary Optic Neuropathy (LHON)"},',
'{"Condition" : "Leukemia"},',
'{"Condition" : "Leukemia (Pediatric)"},',
'{"Condition" : "Limb Preservation and Amputation"},',
'{"Condition" : "Limb Spasticity"},',
'{"Condition" : "Liposuction"},',
'{"Condition" : "Liver Cancer"},',
'{"Condition" : "Liver Disease"},',
'{"Condition" : "Liver Disorders"},',
'{"Condition" : "Liver Failure"},',
'{"Condition" : "Liver Metastases"},',
'{"Condition" : "Liver Transplantation"},',
'{"Condition" : "Low Blood Pressure (Hypotension)"},',
'{"Condition" : "Low Blood Sodium (Hyponatremia)"},',
'{"Condition" : "Low Testosterone"},',
'{"Condition" : "Lower Back Pain"},',
'{"Condition" : "Lung Cancer"},',
'{"Condition" : "Lung Disease"},',
'{"Condition" : "Lung Injury"},',
'{"Condition" : "Lupus"},',
'{"Condition" : "Lupus Nephritis"},',
'{"Condition" : "Lyme Disease"},',
'{"Condition" : "Lymphedema"},',
'{"Condition" : "Lymphocytic Leukemia, Acute"},',
'{"Condition" : "Lymphocytic Leukemia, Chronic"},',
'{"Condition" : "Lymphoma"},',
'{"Condition" : "Lymphoma, B-Cell"},',
'{"Condition" : "Lymphoproliferative disorders"},',
'{"Condition" : "Lysosomal Acid Lipase Deficiency  (LAL)"},',
'{"Condition" : "MAC Infection (Mycobacterium Avium Complex)"},',
'{"Condition" : "Macular Degeneration"},',
'{"Condition" : "Macular Edema"},',
'{"Condition" : "Male Hormonal Deficiencies\\/Abnormalities"},',
'{"Condition" : "Male Pattern Baldness"},',
'{"Condition" : "Malignant Adenoma"},',
'{"Condition" : "Malignant Ascites"},',
'{"Condition" : "Malignant Melanoma"},',
'{"Condition" : "Malignant Pheochromocytoma\\/Paraganglioma"},',
'{"Condition" : "Manic Disorders"},',
'{"Condition" : "Mantle Cell Lymphoma"},',
'{"Condition" : "Marginal Zone Lymphoma"},',
'{"Condition" : "Mastectomy"},',
'{"Condition" : "McCune-Albright Syndrome"},',
'{"Condition" : "Medical Prosthetics"},',
'{"Condition" : "Melanoma"},',
'{"Condition" : "Memory Loss"},',
'{"Condition" : "Memory Problems"},',
'{"Condition" : "Meningiomas"},',
'{"Condition" : "Meningitis"},',
'{"Condition" : "Menopause"},',
'{"Condition" : "Men\'s Health"},',
'{"Condition" : "Menstrual Disorders"},',
'{"Condition" : "Menstruation"},',
'{"Condition" : "Mental Disability"},',
'{"Condition" : "Mesothelioma"},',
'{"Condition" : "Metabolic Disorders"},',
'{"Condition" : "Metabolic Syndrome"},',
'{"Condition" : "Metastatic Cancer"},',
'{"Condition" : "Metastatic Melanoma"},',
'{"Condition" : "Migraine (Pediatric)"},',
'{"Condition" : "Migraine and Cluster Headaches"},',
'{"Condition" : "Miscarriage"},',
'{"Condition" : "Mitral Valve Regurgitation"},',
'{"Condition" : "Molluscum Contagiosum"},',
'{"Condition" : "Molluscum Contagiosum (Pediatric)"},',
'{"Condition" : "Mood Disorders"},',
'{"Condition" : "Mood Disorders (Pediatric)"},',
'{"Condition" : "Moyamoya Syndrome"},',
'{"Condition" : "Mucositis"},',
'{"Condition" : "Multiple Myeloma"},',
'{"Condition" : "Multiple Sclerosis"},',
'{"Condition" : "Multiple System Atrophy (MSA)"},',
'{"Condition" : "Muscle Pain"},',
'{"Condition" : "Muscular Dystrophy"},',
'{"Condition" : "Musculoskeletal Diseases"},',
'{"Condition" : "Myasthenia Gravis (Chronic Weakness)"},',
'{"Condition" : "Myasthenia Gravis generalised"},',
'{"Condition" : "Mycosis Fungoides"},',
'{"Condition" : "Myelodysplastic Syndromes (MDS)"},',
'{"Condition" : "Myelofibrosis"},',
'{"Condition" : "Myocardial Ischemia"},',
'{"Condition" : "Myopia"},',
'{"Condition" : "Myopic Macular Degeneration"},',
'{"Condition" : "Myositis"},',
'{"Condition" : "Narcolepsy"},',
'{"Condition" : "Nasal Obstruction"},',
'{"Condition" : "Nasopharyngeal Cancer"},',
'{"Condition" : "Near-Sighted Corrective Surgery"},',
'{"Condition" : "Neck Pain"},',
'{"Condition" : "Neoplasm Metastasis"},',
'{"Condition" : "Neoplasms"},',
'{"Condition" : "Nephritis"},',
'{"Condition" : "Nephropathy"},',
'{"Condition" : "Nerve Injury"},',
'{"Condition" : "Neurectoderma"},',
'{"Condition" : "Neuroblastoma"},',
'{"Condition" : "Neuroendocrine Carcinoma"},',
'{"Condition" : "Neurofibromatosis"},',
'{"Condition" : "Neurologic Disorders"},',
'{"Condition" : "Neuronal Ceroid Lipofuscinoses (NCL)"},',
'{"Condition" : "Neuropathic Facial Pain"},',
'{"Condition" : "Neuropathy"},',
'{"Condition" : "Neutropenia"},',
'{"Condition" : "Nocturia"},',
'{"Condition" : "Non-Erosive Reflux Disease (NERD)"},',
'{"Condition" : "Non-Hodgkin\'s Lymphoma"},',
'{"Condition" : "Non-Small Cell Lung Cancer"},',
'{"Condition" : "Non-Ulcer Dyspepsia (NUD)"},',
'{"Condition" : "Obesity"},',
'{"Condition" : "Obsessive-Compulsive Disorder"},',
'{"Condition" : "Occlusions"},',
'{"Condition" : "Ocular Hypertension"},',
'{"Condition" : "Open Heart Surgery"},',
'{"Condition" : "Opioid Use Disorder"},',
'{"Condition" : "Oppositional Defiant Disorder (ODD)"},',
'{"Condition" : "Oral Cancer"},',
'{"Condition" : "Oral Candidiasis"},',
'{"Condition" : "Oral Cavity Cancer"},',
'{"Condition" : "Oral Facial Pain"},',
'{"Condition" : "Oral Medicine"},',
'{"Condition" : "Organ Transplant"},',
'{"Condition" : "Organ Transplant - Pediatric"},',
'{"Condition" : "Orthopedic Surgery"},',
'{"Condition" : "Orthopedics"},',
'{"Condition" : "Orthostatic Hypotension"},',
'{"Condition" : "Osteoarthritis"},',
'{"Condition" : "Osteomyelitis"},',
'{"Condition" : "Osteopenia"},',
'{"Condition" : "Osteoporosis"},',
'{"Condition" : "Osteosarcoma"},',
'{"Condition" : "Otitis (Pediatric)"},',
'{"Condition" : "Otitis Externa (Swimmer\'s Ear)"},',
'{"Condition" : "Otitis Media"},',
'{"Condition" : "Ovarian Cancer"},',
'{"Condition" : "Ovarian Cysts"},',
'{"Condition" : "Ovarian Function"},',
'{"Condition" : "Ovulation"},',
'{"Condition" : "Pacemaker (ICD)"},',
'{"Condition" : "Paget\'s Disease"},',
'{"Condition" : "Pain"},',
'{"Condition" : "Pain (Pediatric)"},',
'{"Condition" : "Pain; Bone Neoplasms; Neoplasm Metastasis"},',
'{"Condition" : "Pancreatic Cancer"},',
'{"Condition" : "Pancreatic Disorders"},',
'{"Condition" : "Pancreatitis"},',
'{"Condition" : "Panic Disorders"},',
'{"Condition" : "Panic Disorders (Pediatric)"},',
'{"Condition" : "Parathyroid Cancer"},',
'{"Condition" : "Parathyroid Disease"},',
'{"Condition" : "Parathyroid Disorders"},',
'{"Condition" : "Parkinson\'s Disease"},',
'{"Condition" : "Partial Medial Meniscectomy"},',
'{"Condition" : "Pediatric Health"},',
'{"Condition" : "Pelvic Adhesions"},',
'{"Condition" : "Pelvic Cancer"},',
'{"Condition" : "Pemphigus Vulgaris (PV)"},',
'{"Condition" : "Perimenopause"},',
'{"Condition" : "Periodontitis"},',
'{"Condition" : "Peripheral Arterial Disease (PAD)"},',
'{"Condition" : "Peripheral Arterial Occlusive Disease"},',
'{"Condition" : "Peripheral Neuropathy"},',
'{"Condition" : "Peripheral Vascular Disease"},',
'{"Condition" : "Peritoneal Cancer"},',
'{"Condition" : "Peyronie\'s Disease"},',
'{"Condition" : "Pharyngitis"},',
'{"Condition" : "Phenylketonuria"},',
'{"Condition" : "Pituitary Disorders"},',
'{"Condition" : "Platelet Deficiencies"},',
'{"Condition" : "Platelet Disorders"},',
'{"Condition" : "Pleural Diseases"},',
'{"Condition" : "Pleural Effusion"},',
'{"Condition" : "Pneumonia"},',
'{"Condition" : "Pneumonia (Pediatric)"},',
'{"Condition" : "Polycystic Ovarian Syndrome"},',
'{"Condition" : "Polymyalgia Rheumatica (PMR)"},',
'{"Condition" : "Polymyositis (Inflammatory Muscle Disease)"},',
'{"Condition" : "Polyps"},',
'{"Condition" : "Pompe Disease"},',
'{"Condition" : "Post Menopause"},',
'{"Condition" : "Posterior Uveitis"},',
'{"Condition" : "Postherpetic Neuralgia"},',
'{"Condition" : "Post-Menopausal Osteopenia"},',
'{"Condition" : "Post-Menopausal Osteoporosis"},',
'{"Condition" : "Post-Operative Nausea and Vomiting"},',
'{"Condition" : "Post-Partum Depression"},',
'{"Condition" : "Post-Surgical Pain"},',
'{"Condition" : "Post-Traumatic Stress Disorders"},',
'{"Condition" : "Precancerous condition"},',
'{"Condition" : "Precocious Puberty"},',
'{"Condition" : "Preeclampsia"},',
'{"Condition" : "Pregnancy"},',
'{"Condition" : "Pregnancy Complications"},',
'{"Condition" : "Pregnant women with Multiple Sclerosis (MS)"},',
'{"Condition" : "Premature Ejaculation"},',
'{"Condition" : "Premenstrual Dysphoric Disorder (PMDD)"},',
'{"Condition" : "Premenstrual Syndrome"},',
'{"Condition" : "Pressure Ulcer"},',
'{"Condition" : "Pressure Ulcers"},',
'{"Condition" : "Primary Immunodeficiency Disorders"},',
'{"Condition" : "Primary Insulin Hypersecretion"},',
'{"Condition" : "Progressive Multifocal Leukoencephalopathy (PML)"},',
'{"Condition" : "Prostate Cancer"},',
'{"Condition" : "Prostate Cancer, Early, Recurrent"},',
'{"Condition" : "Prostate Disorders"},',
'{"Condition" : "Prostatic Intraepithelial Neoplasia"},',
'{"Condition" : "Proteinuria"},',
'{"Condition" : "Pseudobulbar Affect"},',
'{"Condition" : "Psoriasis and Psoriatic Disorders"},',
'{"Condition" : "Psoriatic Arthritis"},',
'{"Condition" : "Psychosis"},',
'{"Condition" : "Pulmonary Arterial Hypertension"},',
'{"Condition" : "Pulmonary Embolism"},',
'{"Condition" : "Pulmonary Fibrosis"},',
'{"Condition" : "Rash"},',
'{"Condition" : "Raynaud\'s Disease"},',
'{"Condition" : "Razor Bumps (Pseudofolliculitis Barbae)"},',
'{"Condition" : "Rectal Cancer"},',
'{"Condition" : "Rectal Disorders"},',
'{"Condition" : "Recurrent Diarrhea"},',
'{"Condition" : "Recurrent Ovarian Cancer"},',
'{"Condition" : "Recurrent Pregnancy Loss"},',
'{"Condition" : "Recurrent Respiratory Papillomatosis"},',
'{"Condition" : "Red Cell Disorders"},',
'{"Condition" : "Reflex Sympathetic Dystrophy Syndrome (RSDS)"},',
'{"Condition" : "Reiter\'s Syndrome"},',
'{"Condition" : "Renal Anemia"},',
'{"Condition" : "Renal Artery Disease"},',
'{"Condition" : "Renal Cancer"},',
'{"Condition" : "Renal Cell Cancer"},',
'{"Condition" : "Renal Cell Carcinoma"},',
'{"Condition" : "Renal Failure"},',
'{"Condition" : "Reproductive Health"},',
'{"Condition" : "Respiratory Failure"},',
'{"Condition" : "Respiratory Syncytial Virus (RSV) Infection"},',
'{"Condition" : "Restless Leg Syndrome"},',
'{"Condition" : "Retinitis Pigmentosa"},',
'{"Condition" : "Retinoblastoma"},',
'{"Condition" : "Rhabdomyosarcoma"},',
'{"Condition" : "Rheumatic Fever"},',
'{"Condition" : "Rheumatoid Arthritis"},',
'{"Condition" : "Rheumatoid Arthritis (Pediatric)"},',
'{"Condition" : "Rhinitis, Allergic, Perennial"},',
'{"Condition" : "Rosacea"},',
'{"Condition" : "Rotavirus"},',
'{"Condition" : "Saliva and Salivary Gland Dysfunction"},',
'{"Condition" : "Sarcoidosis"},',
'{"Condition" : "Sarcoma"},',
'{"Condition" : "Sarcoma (Pediatric)"},',
'{"Condition" : "Scalp Disorders"},',
'{"Condition" : "Scar Tissue"},',
'{"Condition" : "Schizophrenia and Schizoaffective Disorders"},',
'{"Condition" : "Schizophrenia and Schizoaffective Disorders (Pediatric)"},',
'{"Condition" : "Schizotypal Personality Disorder (SPD)"},',
'{"Condition" : "Sciatica"},',
'{"Condition" : "Scleroderma"},',
'{"Condition" : "Seasonal Affective Disorder (SAD)"},',
'{"Condition" : "Seborrhea"},',
'{"Condition" : "Seborrheic Dermatitis"},',
'{"Condition" : "Seizure Disorders"},',
'{"Condition" : "Seizure Disorders (Pediatric)"},',
'{"Condition" : "Sepsis and Septicemia"},',
'{"Condition" : "Serial Evaluation of Ductal Epithelium"},',
'{"Condition" : "Severe Premenstrual Symptom"},',
'{"Condition" : "Severe Short Stature"},',
'{"Condition" : "Sexual Dysfunction"},',
'{"Condition" : "Sexually Transmitted Diseases (STDs)"},',
'{"Condition" : "Sezary Syndrome"},',
'{"Condition" : "Shingles"},',
'{"Condition" : "Sickle Cell Disease"},',
'{"Condition" : "Sinus Infections"},',
'{"Condition" : "Sjgren-Larsson Syndrome"},',
'{"Condition" : "Sjogren\'s Syndrome"},',
'{"Condition" : "Skin Aging"},',
'{"Condition" : "Skin Cancer"},',
'{"Condition" : "Skin Cell Studies"},',
'{"Condition" : "Skin Infections\\/Disorders"},',
'{"Condition" : "Skin Lipomas"},',
'{"Condition" : "Skin Wounds"},',
'{"Condition" : "Sleep Apnea Syndromes"},',
'{"Condition" : "Sleep Disorders"},',
'{"Condition" : "Sleep Disorders (Pediatric)"},',
'{"Condition" : "Small Cell Lung Cancer"},',
'{"Condition" : "Smallpox"},',
'{"Condition" : "Smoking Cessation"},',
'{"Condition" : "Social Anxiety Disorder (SAD)"},',
'{"Condition" : "Social Phobia"},',
'{"Condition" : "Soft Tissue Infections"},',
'{"Condition" : "Soft Tissue Sarcoma"},',
'{"Condition" : "Solid Tumors"},',
'{"Condition" : "Somatoform and Dissociative Disorders"},',
'{"Condition" : "Speech Disorders"},',
'{"Condition" : "Spinal Cord Disorders"},',
'{"Condition" : "Spinal Cord Injuries"},',
'{"Condition" : "Spinal Cord Malignancy"},',
'{"Condition" : "Spinal Muscular Atrophy"},',
'{"Condition" : "Spinal Surgery"},',
'{"Condition" : "Spine Athroplasty"},',
'{"Condition" : "Spinocerebellar Disorders"},',
'{"Condition" : "Sporotrichosis"},',
'{"Condition" : "Sprains"},',
'{"Condition" : "Squamous Cell Carcinoma"},',
'{"Condition" : "Staphylococcal Infections"},',
'{"Condition" : "Staphylococcal Skin Infections"},',
'{"Condition" : "Stasis Dermatitis"},',
'{"Condition" : "Stem Cell Transplant"},',
'{"Condition" : "Stent"},',
'{"Condition" : "Sterilization"},',
'{"Condition" : "Stimulant Use Disorder"},',
'{"Condition" : "Stomach Cancer"},',
'{"Condition" : "Stomach Discomfort"},',
'{"Condition" : "Strep Throat"},',
'{"Condition" : "Stress"},',
'{"Condition" : "Stretch Marks"},',
'{"Condition" : "Stroke"},',
'{"Condition" : "Substance Abuse"},',
'{"Condition" : "Suicide"},',
'{"Condition" : "Sun Poisoning"},',
'{"Condition" : "Sunspot Fungus (Tinea Versicolor)"},',
'{"Condition" : "Surgery"},',
'{"Condition" : "Surviving Abuse"},',
'{"Condition" : "Systemic Candidiasis"},',
'{"Condition" : "Systemic Fungal Infections"},',
'{"Condition" : "Systemic Lupus Erythematosus"},',
'{"Condition" : "Tardive Dyskinesia"},',
'{"Condition" : "T-Cell Lymphoma"},',
'{"Condition" : "Tendon Injuries"},',
'{"Condition" : "Tennis Elbow"},',
'{"Condition" : "Tension Headaches"},',
'{"Condition" : "Test Category"},',
'{"Condition" : "Testicular Cancer"},',
'{"Condition" : "Testotoxicosis"},',
'{"Condition" : "Testotoxikose"},',
'{"Condition" : "Thalassemia"},',
'{"Condition" : "Thoracotomy"},',
'{"Condition" : "Throat and Tonsil Infections"},',
'{"Condition" : "Thrombocytopenia and Thrombocytopenia Prevention"},',
'{"Condition" : "Thrombocytopenic"},',
'{"Condition" : "Thromboembolism"},',
'{"Condition" : "Thrombosis"},',
'{"Condition" : "Thymomas"},',
'{"Condition" : "Thyroid Cancer"},',
'{"Condition" : "Thyroid Disease"},',
'{"Condition" : "Thyroid Disorders"},',
'{"Condition" : "Tic Disorders"},',
'{"Condition" : "Tinea Capitis (Ringworm of the Scalp)"},',
'{"Condition" : "Tinnitus"},',
'{"Condition" : "Tobacco Use Disorder"},',
'{"Condition" : "Toenail Fungus (Onychomycosis)"},',
'{"Condition" : "Tourette\'s Syndrome"},',
'{"Condition" : "Transdermal Continuous Oxygen Therapy (TCOT)"},',
'{"Condition" : "Transplant Rejection"},',
'{"Condition" : "Traumatic Brain Injury"},',
'{"Condition" : "Trigeminal Neuralgia"},',
'{"Condition" : "Turner Syndrome"},',
'{"Condition" : "Tyrosinemia"},',
'{"Condition" : "Ulcerative Colitis"},',
'{"Condition" : "Ulcerative Colitis (Pediatric)"},',
'{"Condition" : "Ulcers"},',
'{"Condition" : "Unverricht-Lundborg Syndrome"},',
'{"Condition" : "Urethral Strictures"},',
'{"Condition" : "Urinary Incontinence"},',
'{"Condition" : "Urinary Tract Infections"},',
'{"Condition" : "Urothelial Tract Cancer"},',
'{"Condition" : "Urticaria"},',
'{"Condition" : "Uterine Cancer"},',
'{"Condition" : "Uterine Disorders"},',
'{"Condition" : "Uterine Fibroids"},',
'{"Condition" : "Uveitis"},',
'{"Condition" : "Vaccines"},',
'{"Condition" : "Vaginal Atrophy"},',
'{"Condition" : "Vaginal Cancer"},',
'{"Condition" : "Vaginal Infection"},',
'{"Condition" : "Vaginitis"},',
'{"Condition" : "Vancomycin Resistant Enterococci (VRE)"},',
'{"Condition" : "Varicose Veins"},',
'{"Condition" : "Vascular Diseases"},',
'{"Condition" : "Vasomotor Rhinitis"},',
'{"Condition" : "Venous Leg Ulcers"},',
'{"Condition" : "Venous Thromboembolism"},',
'{"Condition" : "Venous Thrombosis"},',
'{"Condition" : "Vestibular Hypofunction"},',
'{"Condition" : "Viral Infections"},',
'{"Condition" : "Vitamin Deficiency"},',
'{"Condition" : "Vitiligo"},',
'{"Condition" : "Vitreous Hemorrhage"},',
'{"Condition" : "Vomiting"},',
'{"Condition" : "Von Willebrand Disease"},',
'{"Condition" : "Vulvar Dysplasia and Carcinoma"},',
'{"Condition" : "Warts"},',
'{"Condition" : "Weight Loss"},',
'{"Condition" : "West Nile Virus"},',
'{"Condition" : "White Cell Disorders"},',
'{"Condition" : "Wilms\' Tumor"},',
'{"Condition" : "Wilson\'s Disease"},',
'{"Condition" : "Wolman Disease"},',
'{"Condition" : "Women\'s Health"},',
'{"Condition" : "Wounds"},',
'{"Condition" : "Yeast Infections"}',
']; ',
'{UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_TRIALS\'] = [];',
';',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ \t__dialogGuid: \'48dc3849-b97b-4e9e-85d1-cab3c0cc4c61\', \targumentsBoundToCotrols: \'whatCondition|Character={LIST_CONDITIONS}\\n\', \t__dtfmt: \'MM/dd/yyyy\' });',
'{UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'BUTTON_LIST_GENDER\'] = [{html: \'All\',value: \'All\',tip: \'\'},{html: \'Female\',value: \'Female\',tip: \'\'},{html: \'Male\',value: \'Male\',tip: \'\'}];',
'{UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'BUTTON_LIST_STUDY_STATUS\'] = [{html: \'Not yet recruiting\',value: \'Not yet recruiting\',tip: \'\'},{html: \'Recruiting\',value: \'Recruiting\',tip: \'\'}];',
'{UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'BUTTON_LIST_STUDY_TYPE\'] = [{html: \'Observational\',value: \'Observational\',tip: \'\'},{html: \'Interventional\',value: \'Interventional\',tip: \'\'}];',
'{UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'BUTTON_LIST_PHASE\'] = [{html: \'1\',value: \'1\',tip: \'\'},{html: \'2\',value: \'2\',tip: \'\'},{html: \'3\',value: \'3\',tip: \'\'},{html: \'4\',value: \'4\',tip: \'\'}];',
'{UXPRERENDEREDALIAS}_DlgObj._mapSettings[\'MAP_TRIALS\'] = {theme: \'iOS7\',ui: {overviewMap: false,draggable: true,zoomOnDblClick: true,panControl: false,scale: false,streetViewControl: false,zoomControl: false,mapTypeControl: false},route: {draggable: false,avoid: {highways: false,tolls: false},travelMode: \'Driving\',units: \'Default\',optimizeOrder: false,directionsPanel: \'\'},type: \'ROADMAP\',onZoomChange: function(data) { },onInitialize: function(data) { var options = {',
'  enableHighAccuracy: true,',
'  timeout: 5000,',
'  maximumAge: 0',
'};',
'function onSuccess(pos) {',
'  var crd = pos.coords;',
'  {UXPRERENDEREDALIAS}_DlgObj.getControl(\'MAP_TRIALS\').setCenter([crd.latitude, crd.longitude], true);',
'  console.log(\'Your current position is:\');',
'  console.log(\'Latitude : \' + crd.latitude);',
'  console.log(\'Longitude: \' + crd.longitude);',
'};',
'function onError(err) {',
'  console.warn(\'ERROR(\' + err.code + \'): \' + err.message);',
'};',
'if ("geolocation" in navigator) {',
'\tnavigator.geolocation.getCurrentPosition(onSuccess, onError, options);',
'} else {',
'  console.log(\'Unable to determine your location.\');',
'}}};',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'LIST_CONDITIONS\'] =  { type: \'list\',  data: {UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_CONDITIONS\'],  settings: {UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_CONDITIONS\'] }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'LIST_TRIALS\'] =  { type: \'list\',  data: {UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_TRIALS\'],  settings: {UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_TRIALS\'] }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'SLIDER_AGE_RANGE\'] = { type: \'slider\',  settings:  {theme: \'iOS7\',handle: {show: true},type: \'range\',min: 0,max: 85,step: 1} }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'MAP_TRIALS\'] = { type: \'map\', onInitialize: function() {  var mapObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'MAP_TRIALS\');',
'mapObj.setZoom(13);;} ,   settings:  {UXPRERENDEREDALIAS}_DlgObj._mapSettings[\'MAP_TRIALS\'] }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'BUTTON_LIST_GENDER\'] = { type: \'buttonList\', data: {UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'BUTTON_LIST_GENDER\'],  settings:  {theme: \'iOS7\',button: {layout: \'text\',keepPressed: true},allowNullSelection: \'auto\'} }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'BUTTON_LIST_STUDY_STATUS\'] = { type: \'buttonList\', data: {UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'BUTTON_LIST_STUDY_STATUS\'],  settings:  {theme: \'iOS7\',button: {layout: \'text\',keepPressed: true},allowNullSelection: \'auto\'} }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'BUTTON_LIST_STUDY_TYPE\'] = { type: \'buttonList\', data: {UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'BUTTON_LIST_STUDY_TYPE\'],  settings:  {theme: \'iOS7\',button: {layout: \'text\',keepPressed: true},allowNullSelection: \'auto\'} }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'BUTTON_LIST_PHASE\'] = { type: \'buttonList\', data: {UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'BUTTON_LIST_PHASE\'],  settings:  {theme: \'iOS7\',button: {layout: \'text\',keepPressed: true},allowNullSelection: \'auto\'} }',
'{UXPRERENDEREDALIAS}_DlgObj.setVariables({});',
'{UXPRERENDEREDALIAS}_DlgObj._dataBoundControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._primaryTableAlias = \'\';',
'{UXPRERENDEREDALIAS}_DlgObj._listControlsInfo = {};',
'{UXPRERENDEREDALIAS}_DlgObj.createWindow(\'{UXPRERENDEREDALIAS}_CONTAINERWINDOW_WINDOW_REFINE\',\'modalpopup-resizable\',',
'\t{',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'element\',',
'\t\t\telementId: \'{UXPRERENDEREDALIAS}.V.R1.WINDOW_REFINE\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'both\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t},',
'\t\tstyle: \'background-color: #ffffff;\'',
'\t},',
'\theight: \'100%\',',
'\twidth: \'100%\',',
'\ttitle: {',
'\t\thtml: \'Refine Search\',',
'\t\tshow: true,',
'\t\tlocation: \'top\',',
'\t\tdirection: \'ltr\'',
'\t},',
'\tdisableMove: false,',
'\ttheme: \'iOS7\',',
'\tanimation: {',
'\t\tshow: {',
'\t\t\ttype: \'fade\',',
'\t\t\tduration: \'slow\'',
'\t\t},',
'\t\thide: {',
'\t\t\ttype: \'none\',',
'\t\t\tduration: \'fast\'',
'\t\t}',
'\t}',
'}',
'\t);',
'{UXPRERENDEREDALIAS}_DlgObj._functions._showContainerWindow_WINDOW_REFINE = function(objEle) {',
'\tvar currWindow = {UXPRERENDEREDALIAS}_DlgObj.getWindow(\'{UXPRERENDEREDALIAS}_CONTAINERWINDOW_WINDOW_REFINE\');',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj._openWindows == \'undefined\') {UXPRERENDEREDALIAS}_DlgObj._openWindows = {};',
'\t{UXPRERENDEREDALIAS}_DlgObj._openWindows[\'WINDOW_REFINE\'] = currWindow;',
'\tcurrWindow.show();',
'\t}\t',
'{UXPRERENDEREDALIAS}_DlgObj.createWindow(\'{UXPRERENDEREDALIAS}_CONTAINERWINDOW_WINDOW_MAP\',\'modalpopup-resizable\',',
'\t{',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'element\',',
'\t\t\telementId: \'{UXPRERENDEREDALIAS}.V.R1.WINDOW_MAP\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'both\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t},',
'\t\tstyle: \'\'',
'\t},',
'\theight: \'100%\',',
'\twidth: \'100%\',',
'\ttitle: {',
'\t\thtml: \'&nbsp;\',',
'\t\tshow: true,',
'\t\tlocation: \'top\',',
'\t\tdirection: \'ltr\'',
'\t},',
'\tdisableMove: false,',
'\ttheme: \'iOS7\',',
'\tonShow: function() {var obj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'MAP_TRIALS\');',
'obj.refresh();',
';},',
'\tonResize: function() {var obj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'MAP_TRIALS\');',
'obj.refresh();',
';},',
'\tanimation: {',
'\t\tshow: {',
'\t\t\ttype: \'fade\',',
'\t\t\tduration: \'slow\'',
'\t\t},',
'\t\thide: {',
'\t\t\ttype: \'none\',',
'\t\t\tduration: \'fast\'',
'\t\t}',
'\t}',
'}',
'\t);',
'{UXPRERENDEREDALIAS}_DlgObj._functions._showContainerWindow_WINDOW_MAP = function(objEle) {',
'\tvar currWindow = {UXPRERENDEREDALIAS}_DlgObj.getWindow(\'{UXPRERENDEREDALIAS}_CONTAINERWINDOW_WINDOW_MAP\');',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj._openWindows == \'undefined\') {UXPRERENDEREDALIAS}_DlgObj._openWindows = {};',
'\t{UXPRERENDEREDALIAS}_DlgObj._openWindows[\'WINDOW_MAP\'] = currWindow;',
'\tcurrWindow.show();',
'\t}',
'{UXPRERENDEREDALIAS}_DlgObj._hasPanels = true;',
'varId = \'{UXPRERENDEREDALIAS}.V.R1.MAP_TRIALS.CONTROL\';',
'A5.u.drag.add(varId,\'prevent\');',
'{UXPRERENDEREDALIAS}_DlgObj._hasOnSynchronizeEvent = false;',
'A5.__dtfmt = \'MM/dd/yyyy\';A5.__tfmt = \'\';',
'A5.__flagWorkingPreview = false;',
'A5.__flagIIS = false;',
'A5.__flagSimulateIIS = true;',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation = function() { ',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj == \'undefined\') return \'\';',
'\tvar orientation = {UXPRERENDEREDALIAS}_DlgObj.getOrientation();',
'\tif( orientation == \'landscape\') {',
'\t\t\t//landscape',
'\t\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'landscape\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'landscape\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'landscape\'});',
'\t\t\t}',
'\t} else {',
'\t\t//portrait',
'\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'portrait\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'portrait\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'portrait\'});',
'\t\t\t}',
'\t}',
'}',
'\tA5.flags.cordovaLoaded = true;',
'\ttry {',
'\t\tdocument.addEventListener(\'deviceready\', function() { ',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onCordovaReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onPhoneGapReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._cordovaReady = true;',
'\t\t\tnavigator.geolocation.getAccuratePosition = function(geolocationSuccess, geolocationError, options) {',
'\tvar _lastCheckedPosition = null;',
'\tvar _locationEventCount = 0;',
'\toptions = options || {};',
'\toptions.context = this;',
'    function _checkLocation(pos) {',
'        _lastCheckedPosition = pos;',
'        _locationEventCount++;',
'        if ((pos.coords.accuracy <= options.desiredAccuracy) && (_locationEventCount > options.ignoreResultCount)) {',
'            clearTimeout(_timerID);',
'            navigator.geolocation.clearWatch(_watchID);',
'            _foundPosition(pos);',
'        } ',
'    }',
'    function _stopLocationCheck() {',
'    \t var error = {};',
'    \t error.code = 0;',
'    \t error.message = \'Timeout: No results\';',
'        navigator.geolocation.clearWatch(_watchID);',
'        _lastCheckedPosition ? _foundPosition(_lastCheckedPosition) : geolocationError.call(options.context,error);',
'    }',
'    function _onError(error) {',
'        clearTimeout(_timerID);',
'        navigator.geolocation.clearWatch(_watchID);',
'        geolocationError.call(options.context,error);',
'    }',
'    function _foundPosition(pos) {',
'        geolocationSuccess.call(options.context,pos);',
'    }',
'    if (!options.maxWait) {            ',
'    \toptions.maxWait = 10000; ',
'    }\t',
'    if (!options.desiredAccuracy) {',
'    \t  options.desiredAccuracy = 20; ',
'    }',
'    if (!options.timeout) {',
'        options.timeout = options.maxWait;',
'\t }',
'\t if (!options.ignoreResultCount) {',
'\t \t\toptions.ignoreResultCount = 1;',
'\t }',
'    options.maximumAge = 0; ',
'    options.enableHighAccuracy = true; ',
'    var _watchID = navigator.geolocation.watchPosition(_checkLocation, _onError, options);',
'    var _timerID = setTimeout(_stopLocationCheck, options.maxWait); ',
'}',
'\t\t} , false);\t',
'\t}',
'\tcatch(err) {}',
'{UXPRERENDEREDALIAS}_DlgObj._waitGif = \'css/A5System/Images/wait.gif\';',
'var EXIF=(function(){var debug=false;var ExifTags={0x9000:"ExifVersion",0xA000:"FlashpixVersion",0xA001:"ColorSpace",0xA002:"PixelXDimension",0xA003:"PixelYDimension",0x9101:"ComponentsConfiguration",0x9102:"CompressedBitsPerPixel",0x927C:"MakerNote",0x9286:"UserComment",0xA004:"RelatedSoundFile",0x9003:"DateTimeOriginal",0x9004:"DateTimeDigitized",0x9290:"SubsecTime",0x9291:"SubsecTimeOriginal",0x9292:"SubsecTimeDigitized",0x829A:"ExposureTime",0x829D:"FNumber",0x8822:"ExposureProgram",0x8824:"SpectralSensitivity",0x8827:"ISOSpeedRatings",0x8828:"OECF",0x9201:"ShutterSpeedValue",0x9202:"ApertureValue",0x9203:"BrightnessValue",0x9204:"ExposureBias",0x9205:"MaxApertureValue",0x9206:"SubjectDistance",0x9207:"MeteringMode",0x9208:"LightSource",0x9209:"Flash",0x9214:"SubjectArea",0x920A:"FocalLength",0xA20B:"FlashEnergy",0xA20C:"SpatialFrequencyResponse",0xA20E:"FocalPlaneXResolution",0xA20F:"FocalPlaneYResolution",0xA210:"FocalPlaneResolutionUnit",0xA214:"SubjectLocation",0xA215:"ExposureIndex",0xA217:"SensingMethod",0xA300:"FileSource",0xA301:"SceneType",0xA302:"CFAPattern",0xA401:"CustomRendered",0xA402:"ExposureMode",0xA403:"WhiteBalance",0xA404:"DigitalZoomRation",0xA405:"FocalLengthIn35mmFilm",0xA406:"SceneCaptureType",0xA407:"GainControl",0xA408:"Contrast",0xA409:"Saturation",0xA40A:"Sharpness",0xA40B:"DeviceSettingDescription",0xA40C:"SubjectDistanceRange",0xA005:"InteroperabilityIFDPointer",0xA420:"ImageUniqueID"};var TiffTags={0x0100:"ImageWidth",0x0101:"ImageHeight",0x8769:"ExifIFDPointer",0x8825:"GPSInfoIFDPointer",0xA005:"InteroperabilityIFDPointer",0x0102:"BitsPerSample",0x0103:"Compression",0x0106:"PhotometricInterpretation",0x0112:"Orientation",0x0115:"SamplesPerPixel",0x011C:"PlanarConfiguration",0x0212:"YCbCrSubSampling",0x0213:"YCbCrPositioning",0x011A:"XResolution",0x011B:"YResolution",0x0128:"ResolutionUnit",0x0111:"StripOffsets",0x0116:"RowsPerStrip",0x0117:"StripByteCounts",0x0201:"JPEGInterchangeFormat",0x0202:"JPEGInterchangeFormatLength",0x012D:"TransferFunction",0x013E:"WhitePoint",0x013F:"PrimaryChromaticities",0x0211:"YCbCrCoefficients",0x0214:"ReferenceBlackWhite",0x0132:"DateTime",0x010E:"ImageDescription",0x010F:"Make",0x0110:"Model",0x0131:"Software",0x013B:"Artist",0x8298:"Copyright"};var GPSTags={0x0000:"GPSVersionID",0x0001:"GPSLatitudeRef",0x0002:"GPSLatitude",0x0003:"GPSLongitudeRef",0x0004:"GPSLongitude",0x0005:"GPSAltitudeRef",0x0006:"GPSAltitude",0x0007:"GPSTimeStamp",0x0008:"GPSSatellites",0x0009:"GPSStatus",0x000A:"GPSMeasureMode",0x000B:"GPSDOP",0x000C:"GPSSpeedRef",0x000D:"GPSSpeed",0x000E:"GPSTrackRef",0x000F:"GPSTrack",0x0010:"GPSImgDirectionRef",0x0011:"GPSImgDirection",0x0012:"GPSMapDatum",0x0013:"GPSDestLatitudeRef",0x0014:"GPSDestLatitude",0x0015:"GPSDestLongitudeRef",0x0016:"GPSDestLongitude",0x0017:"GPSDestBearingRef",0x0018:"GPSDestBearing",0x0019:"GPSDestDistanceRef",0x001A:"GPSDestDistance",0x001B:"GPSProcessingMethod",0x001C:"GPSAreaInformation",0x001D:"GPSDateStamp",0x001E:"GPSDifferential"};var StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0x0000:"Flash did not fire",0x0001:"Flash fired",0x0005:"Strobe return light not detected",0x0007:"Strobe return light detected",0x0009:"Flash fired, compulsory flash mode",0x000D:"Flash fired, compulsory flash mode, return light not detected",0x000F:"Flash fired, compulsory flash mode, return light detected",0x0010:"Flash did not fire, compulsory flash mode",0x0018:"Flash did not fire, auto mode",0x0019:"Flash fired, auto mode",0x001D:"Flash fired, auto mode, return light not detected",0x001F:"Flash fired, auto mode, return light detected",0x0020:"No flash function",0x0041:"Flash fired, red-eye reduction mode",0x0045:"Flash fired, red-eye reduction mode, return light not detected",0x0047:"Flash fired, red-eye reduction mode, return light detected",0x0049:"Flash fired, compulsory flash mode, red-eye reduction mode",0x004D:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",0x004F:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",0x0059:"Flash fired, auto mode, red-eye reduction mode",0x005D:"Flash fired, auto mode, return light not detected, red-eye reduction mode",0x005F:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function imageHasData(img){return!!(img.exifdata)}function findEXIFinJPEG(file){if(file.getByteAt(0)!=0xFF||file.getByteAt(1)!=0xD8){return false}var offset=2,length=file.getLength(),marker;while(offset<length){if(file.getByteAt(offset)!=0xFF){if(debug)console.log("Not a valid marker at offset "+offset+", found: "+file.getByteAt(offset));return false}marker=file.getByteAt(offset+1);if(marker==22400){if(debug)console.log("Found 0xFFE1 marker");return readEXIFData(file,offset+4,file.getShortAt(offset+2,true)-2)}else if(marker==225){if(debug)console.log("Found 0xFFE1 marker");return readEXIFData(file,offset+4,file.getShortAt(offset+2,true)-2)}else{offset+=2+file.getShortAt(offset+2,true)}}}function readTags(file,tiffStart,dirStart,strings,bigEnd){var entries=file.getShortAt(dirStart,bigEnd),tags={},entryOffset,tag,i;for(i=0;i<entries;i++){entryOffset=dirStart+i*12+2;tag=strings[file.getShortAt(entryOffset,bigEnd)];if(!tag&&debug)console.log("Unknown tag: "+file.getShortAt(entryOffset,bigEnd));tags[tag]=readTagValue(file,entryOffset,tiffStart,dirStart,bigEnd)}return tags}function readTagValue(file,entryOffset,tiffStart,dirStart,bigEnd){var type=file.getShortAt(entryOffset+2,bigEnd),numValues=file.getLongAt(entryOffset+4,bigEnd),valueOffset=file.getLongAt(entryOffset+8,bigEnd)+tiffStart,offset,vals,val,n,numerator,denominator;switch(type){case 1:case 7:if(numValues==1){return file.getByteAt(entryOffset+8,bigEnd)}else{offset=numValues>4?valueOffset:(entryOffset+8);vals=[];for(n=0;n<numValues;n++){vals[n]=file.getByteAt(offset+n)}return vals}case 2:offset=numValues>4?valueOffset:(entryOffset+8);return file.getStringAt(offset,numValues-1);case 3:if(numValues==1){return file.getShortAt(entryOffset+8,bigEnd)}else{offset=numValues>2?valueOffset:(entryOffset+8);vals=[];for(n=0;n<numValues;n++){vals[n]=file.getShortAt(offset+2*n,bigEnd)}return vals}case 4:if(numValues==1){return file.getLongAt(entryOffset+8,bigEnd)}else{vals=[];for(var n=0;n<numValues;n++){vals[n]=file.getLongAt(valueOffset+4*n,bigEnd)}return vals}case 5:if(numValues==1){numerator=file.getLongAt(valueOffset,bigEnd);denominator=file.getLongAt(valueOffset+4,bigEnd);val=new Number(numerator/denominator);val.numerator=numerator;val.denominator=denominator;return val}else{vals=[];for(n=0;n<numValues;n++){numerator=file.getLongAt(valueOffset+8*n,bigEnd);denominator=file.getLongAt(valueOffset+4+8*n,bigEnd);vals[n]=new Number(numerator/denominator);vals[n].numerator=numerator;vals[n].denominator=denominator}return vals}case 9:if(numValues==1){return file.getSLongAt(entryOffset+8,bigEnd)}else{vals=[];for(n=0;n<numValues;n++){vals[n]=file.getSLongAt(valueOffset+4*n,bigEnd)}return vals}case 10:if(numValues==1){return file.getSLongAt(valueOffset,bigEnd)/file.getSLongAt(valueOffset+4,bigEnd)}else{vals=[];for(n=0;n<numValues;n++){vals[n]=file.getSLongAt(valueOffset+8*n,bigEnd)/file.getSLongAt(valueOffset+4+8*n,bigEnd)}return vals}}}function readEXIFData(file,start){if(file.getStringAt(start,4)!="Exif"){if(debug)console.log("Not valid EXIF data! "+file.getStringAt(start,4));return false}var bigEnd,tags,tag,exifData,gpsData,tiffOffset=start+6;if(file.getShortAt(tiffOffset)==0x4949){bigEnd=false}else if(file.getShortAt(tiffOffset)==0x4D4D){bigEnd=true}else{if(debug)console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)");return false}if(file.getShortAt(tiffOffset+2,bigEnd)!=0x002A){if(debug)console.log("Not valid TIFF data! (no 0x002A)");return false}if(file.getLongAt(tiffOffset+4,bigEnd)!=0x00000008){if(debug)console.log("Not valid TIFF data! (First offset not 8)",file.getShortAt(tiffOffset+4,bigEnd));return false}tags=readTags(file,tiffOffset,tiffOffset+8,TiffTags,bigEnd);if(tags.ExifIFDPointer){exifData=readTags(file,tiffOffset,tiffOffset+tags.ExifIFDPointer,ExifTags,bigEnd);for(tag in exifData){switch(tag){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":exifData[tag]=StringValues[tag][exifData[tag]];break;case"ExifVersion":case"FlashpixVersion":exifData[tag]=String.fromCharCode(exifData[tag][0],exifData[tag][1],exifData[tag][2],exifData[tag][3]);break;case"ComponentsConfiguration":exifData[tag]=StringValues.Components[exifData[tag][0]]+StringValues.Components[exifData[tag][1]]+StringValues.Components[exifData[tag][2]]+StringValues.Components[exifData[tag][3]];break}tags[tag]=exifData[tag]}}if(tags.GPSInfoIFDPointer){gpsData=readTags(file,tiffOffset,tiffOffset+tags.GPSInfoIFDPointer,GPSTags,bigEnd);for(tag in gpsData){switch(tag){case"GPSVersionID":gpsData[tag]=gpsData[tag][0]+"."+gpsData[tag][1]+"."+gpsData[tag][2]+"."+gpsData[tag][3];break}tags[tag]=gpsData[tag]}}return tags}function getData(img,callback){if(!img.complete)return false;if(!imageHasData(img)){getImageData(img,callback)}else{if(callback){callback.call(img)}}return true}function getTag(img,tag){if(!imageHasData(img))return;return img.exifdata[tag]}function getAllTags(img){if(!imageHasData(img))return{};var a,data=img.exifdata,tags={};for(a in data){if(data.hasOwnProperty(a)){tags[a]=data[a]}}return tags}function pretty(img){if(!imageHasData(img))return"";var a,data=img.exifdata,strPretty="";for(a in data){if(data.hasOwnProperty(a)){if(typeof data[a]=="object"){if(data[a]instanceof Number){strPretty+=a+" : "+data[a]+" ["+data[a].numerator+"/"+data[a].denominator+"]\\r\\n"}else{strPretty+=a+" : ["+data[a].length+" values]\\r\\n"}}else{strPretty+=a+" : "+data[a]+"\\r\\n"}}}return strPretty}function readFromBinaryFile(file){return findEXIFinJPEG(file)}function BinaryFile(strData,iDataOffset,iDataLength){var data=strData;var dataOffset=iDataOffset||0;var dataLength=0;this.getRawData=function(){return data};if(typeof strData=="string"){dataLength=iDataLength||data.length;this.getByteAt=function(iOffset){return data.charCodeAt(iOffset+dataOffset)&0xFF};this.getBytesAt=function(iOffset,iLength){var aBytes=[];for(var i=0;i<iLength;i++){aBytes[i]=data.charCodeAt((iOffset+i)+dataOffset)&0xFF}return aBytes}}else if(typeof strData=="unknown"){dataLength=iDataLength||IEBinary_getLength(data);this.getByteAt=function(iOffset){return IEBinary_getByteAt(data,iOffset+dataOffset)};this.getBytesAt=function(iOffset,iLength){return new VBArray(IEBinary_getBytesAt(data,iOffset+dataOffset,iLength)).toArray()}}this.getLength=function(){return dataLength};this.getSByteAt=function(iOffset){var iByte=this.getByteAt(iOffset);if(iByte>127)return iByte-256;else return iByte};this.getShortAt=function(iOffset,bBigEndian){var iShort=bBigEndian?(this.getByteAt(iOffset)<<8)+this.getByteAt(iOffset+1):(this.getByteAt(iOffset+1)<<8)+this.getByteAt(iOffset);if(iShort<0)iShort+=65536;return iShort};this.getSShortAt=function(iOffset,bBigEndian){var iUShort=this.getShortAt(iOffset,bBigEndian);if(iUShort>32767)return iUShort-65536;else return iUShort};this.getLongAt=function(iOffset,bBigEndian){var iByte1=this.getByteAt(iOffset),iByte2=this.getByteAt(iOffset+1),iByte3=this.getByteAt(iOffset+2),iByte4=this.getByteAt(iOffset+3);var iLong=bBigEndian?(((((iByte1<<8)+iByte2)<<8)+iByte3)<<8)+iByte4:(((((iByte4<<8)+iByte3)<<8)+iByte2)<<8)+iByte1;if(iLong<0)iLong+=4294967296;return iLong};this.getSLongAt=function(iOffset,bBigEndian){var iULong=this.getLongAt(iOffset,bBigEndian);if(iULong>2147483647)return iULong-4294967296;else return iULong};this.getStringAt=function(iOffset,iLength){var aStr=[];var aBytes=this.getBytesAt(iOffset,iLength);for(var j=0;j<iLength;j++){aStr[j]=String.fromCharCode(aBytes[j])}return aStr.join("")};this.getCharAt=function(iOffset){return String.fromCharCode(this.getByteAt(iOffset))};this.toBase64=function(){return window.btoa(data)};this.fromBase64=function(strBase64){data=window.atob(strBase64)}}return{findEXIFinJPEG:findEXIFinJPEG,pretty:pretty,getTag:getTag,getAllTags:getAllTags,getData:getData,Tags:ExifTags,TiffTags:TiffTags,GPSTags:GPSTags,StringValues:StringValues,BinaryFile:BinaryFile}})();',
'(function(){function detectSubsampling(img){var iw=img.naturalWidth,ih=img.naturalHeight;if(iw*ih>1024*1024){var canvas=document.createElement(\'canvas\');canvas.width=canvas.height=1;var ctx=canvas.getContext(\'2d\');ctx.drawImage(img,-iw+1,0);return ctx.getImageData(0,0,1,1).data[3]===0}else{return false}}function detectVerticalSquash(img,iw,ih){var canvas=document.createElement(\'canvas\');canvas.width=1;canvas.height=ih;var ctx=canvas.getContext(\'2d\');ctx.drawImage(img,0,0);var data=ctx.getImageData(0,0,1,ih).data;var sy=0;var ey=ih;var py=ih;while(py>sy){var alpha=data[(py-1)*4+3];if(alpha===0){ey=py}else{sy=py}py=(ey+sy)>>1}var ratio=(py/ih);return(ratio===0)?1:ratio}function renderImageToDataURL(img,options){var canvas=document.createElement(\'canvas\');renderImageToCanvas(img,canvas,options);return canvas.toDataURL("image/jpeg",options.quality||0.8)}function renderImageToCanvas(img,canvas,options){var iw=img.naturalWidth,ih=img.naturalHeight;var width=options.width,height=options.height;var ctx=canvas.getContext(\'2d\');ctx.save();transformCoordinate(canvas,width,height,options.orientation);var subsampled=detectSubsampling(img);if(subsampled){iw/=2;ih/=2}var d=1024;var tmpCanvas=document.createElement(\'canvas\');tmpCanvas.width=tmpCanvas.height=d;var tmpCtx=tmpCanvas.getContext(\'2d\');var vertSquashRatio=detectVerticalSquash(img,iw,ih);var dw=Math.ceil(d*width/iw);var dh=Math.ceil(d*height/ih/vertSquashRatio);var sy=0;var dy=0;while(sy<ih){var sx=0;var dx=0;while(sx<iw){tmpCtx.clearRect(0,0,d,d);tmpCtx.drawImage(img,-sx,-sy);ctx.drawImage(tmpCanvas,0,0,d,d,dx,dy,dw,dh);sx+=d;dx+=dw}sy+=d;dy+=dh}ctx.restore();tmpCanvas=tmpCtx=null}function transformCoordinate(canvas,width,height,orientation){switch(orientation){case 5:case 6:case 7:case 8:canvas.width=height;canvas.height=width;break;default:canvas.width=width;canvas.height=height}var ctx=canvas.getContext(\'2d\');switch(orientation){case 2:ctx.translate(width,0);ctx.scale(-1,1);break;case 3:ctx.translate(width,height);ctx.rotate(Math.PI);break;case 4:ctx.translate(0,height);ctx.scale(1,-1);break;case 5:ctx.rotate(0.5*Math.PI);ctx.scale(1,-1);break;case 6:ctx.rotate(0.5*Math.PI);ctx.translate(0,-height);break;case 7:ctx.rotate(0.5*Math.PI);ctx.translate(width,-height);ctx.scale(-1,1);break;case 8:ctx.rotate(-0.5*Math.PI);ctx.translate(-width,0);break;default:break}}function MegaPixImage(srcImage){if(srcImage instanceof Blob){var img=new Image();var URL=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!URL){throw Error("No createObjectURL function found to create blob url");}img.src=URL.createObjectURL(srcImage);srcImage=img}if(!srcImage.naturalWidth&&!srcImage.naturalHeight){var _this=this;srcImage.onload=function(){var listeners=_this.imageLoadListeners;if(listeners){_this.imageLoadListeners=null;for(var i=0,len=listeners.length;i<len;i++){listeners[i]()}}};this.imageLoadListeners=[]}this.srcImage=srcImage}MegaPixImage.prototype.render=function(target,options){if(this.imageLoadListeners){var _this=this;this.imageLoadListeners.push(function(){_this.render(target,options)});return}options=options||{};var imgWidth=this.srcImage.naturalWidth,imgHeight=this.srcImage.naturalHeight,width=options.width,height=options.height,maxWidth=options.maxWidth,maxHeight=options.maxHeight;if(width&&!height){height=(imgHeight*width/imgWidth)<<0}else if(height&&!width){width=(imgWidth*height/imgHeight)<<0}else{width=imgWidth;height=imgHeight}if(maxWidth&&width>maxWidth){width=maxWidth;height=(imgHeight*width/imgWidth)<<0}if(maxHeight&&height>maxHeight){height=maxHeight;width=(imgWidth*height/imgHeight)<<0}var opt={width:width,height:height};for(var k in options)opt[k]=options[k];var tagName=target.tagName.toLowerCase();if(tagName===\'img\'){target.src=renderImageToDataURL(this.srcImage,opt)}else if(tagName===\'canvas\'){renderImageToCanvas(this.srcImage,target,opt)}if(typeof this.onrender===\'function\'){this.onrender(target)}};if(typeof define===\'function\'&&define.amd){define([],function(){return MegaPixImage})}else{this.MegaPixImage=MegaPixImage}})();',
'/*',
'Copyright (c) 2001, 2013 Alpha Software Corporation',
'All Rights Reserved.',
'This Javascript library is licensed exclusively for use with Alpha Anywhere, Alpha Five,',
'Alpha Five Application Server, Alpha Anywhere Application Server,',
'Alpha Five Run Engine, and Alpha Anywhere Run Engine. It is specifically',
'not licensed for use on a server that does not have installed on it a',
'licensed copy of the Alpha Five Application Server or the Alpha Anywhere Application Server.',
'*/',
'\t{UXPRERENDEREDALIAS}_DlgObj.imageCaptureUsingCamera = function(options) {',
'\t\toptions.specialMode = \'callback\';',
'\t\tthis.detailViewImageCapture(options);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewImageCapture = function(options) {',
'\t\tif(typeof options.specialMode == \'undefined\') options.specialMode = \'detailview\';',
'\t\tvar flagPhoneGapLoaded = false;',
'\t\tvar flagUseCordova = false;',
'\t\tif (typeof window[\'cordova\'] != \'undefined\') {',
'\t\t\tflagPhoneGapLoaded = true;',
'\t\t\tif(options.captureMethod == \'phonegappreferred\' || options.captureMethod == \'phonegap\') {',
'\t\t\t\tflagUseCordova = true;',
'\t\t\t}',
'\t\t}',
'\t\tif(options.captureMethod == \'phonegap\' && flagPhoneGapLoaded == false) {',
'\t\t\talert(\'PhoneGap not available\'); return false;',
'\t\t}',
'\t\tif(!flagUseCordova) {',
'\t\t\tthis.detailViewImageCaptureHTML5(options);',
'\t\t} else {',
'\t\t\tthis.detailViewImageCapturePhoneGap(options);',
'\t\t}',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewImageCaptureHTML5 = function(options) {',
'\t\tif(typeof options.specialMode == \'undefined\') options.specialMode = \'detailview\';',
'\t\tif(options.onBeforeCaptureJavascript) {',
'\t\t\tvar result = options.onBeforeCaptureJavascript.call();',
'\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\tif(!result) return false;',
'\t\t\t}',
'\t\t}',
'\t\tif(A5.flags.isAndroid == false) {',
'\t\t\tif(A5.flags.isIPhone || A5.flags.isIPad){',
'\t\t\t\tif (typeof A5.flags.iOSVersion != \'undefined\') {',
'\t\t\t\t\tvar majorNum = A5.flags.iOSVersion.split(\'.\')[0];',
'\t\t\t\t\tif(parseInt(majorNum) < 6) {',
'\t\t\t\t\t\talert(\'HTML5 camera access not supported on this version of iOS\');',
'\t\t\t\t\t\treturn false;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(A5.u.css.supportsTransition == false) {',
'\t\t\talert(\'Browser does not support HTML5 camera access\');',
'\t\t\treturn false;',
'\t\t}',
'\t\tif(typeof options.resizePolicyHTML5 == \'undefined\') options.resizePolicyHTML5 = \'Always\';',
'\t\toptions.resizePolicyHTML5 = options.resizePolicyHTML5.toLowerCase();',
'\t\tif(options.resizePolicyHTML5 != \'always\') {',
'\t\t\tvar maxSize = 99999999999;',
'\t\t\tif(typeof options.maxImageSizeHTML5 != \'undefined\') maxSize = Number(options.maxImageSizeHTML5);',
'\t\t}',
'\t\t//if(typeof options.resizeImageHTML5 == \'undefined\') options.resizeImageHTML5 = true;',
'\t\tvar ops = {};',
'\t\tops.dialogObj = this;',
'\t\tif(options.specialMode == \'callback\' ) {',
'\t\t\toptions.controlName = \'\';',
'\t\t}',
'\t \tops.targetImage = options.controlName;',
'\t \tops.targetImage = ops.targetImage.toUpperCase();',
'\t \tops.html5 = {};',
'\t \tops.html5.resizeFlag = options.resizeImageHTML5;',
'\t \tops.html5.compressionFactor = options.imageCompressionHTML5;',
'\t \tops.html5.maxWidth = options.maxImageWidth;',
'\t \tops.html5.maxHeight = options.maxImageHeight;',
'\t \tops.fieldPrefix = this.dialogId + \'.V.R1\';',
'\t \tops.imageFieldName = (ops.fieldPrefix + \'.\' + ops.targetImage).toUpperCase();',
'\t \tops.hiddenFileName =  (ops.fieldPrefix + \'.\' + ops.targetImage + \'_HIDDENA5FN\').toUpperCase();',
' \t\tops.handleFileSelect = function(evt) {',
'\t\t\t// creates a FileList object',
'\t\t\tvar files = evt.target.files;',
'\t\t\t// Even if multiple files are presented, only the first file will be uploaded.',
'\t\t\tif (!files.length){',
'\t\t\t\t// alerts should be ok here when fired by a timer',
'\t\t\t\tsetTimeout(function(){',
'\t\t\t\t\t//alert(\'<a5:r>No files selected.</a5:r>\');',
'\t\t\t\t},50);',
'\t\t\t\treturn false;',
'\t\t\t} else {',
'\t\t\t\t// we\'re processing only 1 file at this point',
'\t\t\t\tvar f = files[0];',
'\t\t\t\tops.updateImage(f);',
'\t\t\t}',
'\t\t}',
'\t\t$e.removeGroup(\'__detailViewImageCapture\')',
'\t\t$e.add($(this.dialogId + \'._GETPHOTO\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__detailViewImageCapture\');',
'\t\tops.updateImage = function(_thisFile) {',
'\t\t\tvar _sourceFileName = _thisFile.name;',
'\t\t\tvar _thisImageName = ops.imageFieldName;',
'\t\t\tvar _thisImage = $(_thisImageName);',
'\t\t\tvar reader = new FileReader();',
'\t\t\treader.onload = function(e) {',
'\t\t\t\tvar flagResize = false;',
'\t\t\t\tif(options.resizePolicyHTML5 == \'always\') {',
'\t\t\t\t\tflagResize = true;',
'\t\t\t\t} else {',
'\t\t\t\t\tif(e.target.result.length > maxSize) {',
'\t\t\t\t\t\tflagResize = true;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(!flagResize) {',
'\t\t\t\t\t//not resizing',
'\t\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t\t_thisImage.src = e.target.result;',
'\t\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\t\tif(eleH) eleH.src = _thisImage.src;',
'\t\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\t\t$sa(eleH,\'a5imageSourceName\',_sourceFileName);',
'\t\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t\t\tif(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : e.target.result});',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\toptions.onCaptureJavascript.call(this, {data : e.target.result});',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\t//resizing',
'\t\t\t\t\tif(options.displaySpinnerWhileResizingImage) {',
'\t\t\t\t\t\t_thisImage.src = options.spinnerURI.replace(/\\|/gi,\'/\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _orientation = ops.parseExifOrientation(e.target.result);',
'\t\t\t\t\tops.renderImgToCanvas(_thisFile,_orientation,_sourceFileName);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\treader.onerror = function(e) {',
'\t\t\t\tsetTimeout(function(){',
'\t\t\t\talert(\'<a5:r>Error reading file.</a5:r>\');',
'\t\t\t\t},0);',
'\t\t\t}',
'\t\t\treader.readAsDataURL(_thisFile);',
'\t\t}',
'\t\tops.parseExifOrientation = function(dataUrl) {',
'\t\t\ttry {',
'\t\t\t\tvar _byteString = atob(dataUrl.split(\',\')[1]);',
'\t\t\t\tvar _binaryFile = new EXIF.BinaryFile(_byteString, 0, _byteString.length);',
'\t\t\t\tvar _exif = EXIF.findEXIFinJPEG(_binaryFile);',
'\t\t\t\t// Store EXIF orientation (if available) in data property.',
'\t\t\t\tif (_exif && _exif[\'Orientation\']) {',
'\t\t\t\t\treturn _exif[\'Orientation\'];',
'\t\t\t\t} else {',
'\t\t\t\t\treturn null;',
'\t\t\t\t}',
'\t\t\t} catch (e) {',
'\t\t\t\t// Error parsing EXIF data.',
'\t\t\t\tconsole.log(\'Error loading EXIF data\', e);',
'\t\t\t}',
'\t\t}',
'\t\tops.renderImgToCanvas = function(_file,_orientation,_sourceFileName) {',
'\t\t\t// using megapix-image.js here which handles(?) sub-sampling issue with large images and Canvas on iOS6 Safari',
'\t\t\tvar mpImg = new MegaPixImage(_file);',
'\t\t\tmpImg.onrender = function(){',
'\t\t\t\t// this timeout required to ensure _thisCanvas render complete',
'\t\t\t\tsetTimeout(function(){',
'\t\t\t\t\tvar dataURL = _thisCanvas.toDataURL(\'image/jpeg\', ops.html5.compressionFactor);',
'\t\t\t\t\t//alert(\'html5 size after resizing image:\' + dataURL.length);',
'\t\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t\tvar ele = $(ops.imageFieldName);',
'\t\t\t\t\t\t//put the scaled image in the element',
'\t\t\t\t\t\tele.src = dataURL;',
'\t\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\t\tif(eleH) eleH.src = dataURL;',
'\t\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\t\t$sa(eleH,\'a5imageSourceName\',_sourceFileName);',
'\t\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t\t\tif(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : dataURL});',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\toptions.onCaptureJavascript.call(this, {data : dataURL});',
'\t\t\t\t\t}',
'\t\t\t\t},0);',
'\t\t\t}',
'\t\t\tvar _thisCanvas = document.createElement(\'canvas\');',
'\t\t\tvar ctx = _thisCanvas.getContext(\'2d\');',
'\t\t\t// adjust based on extracted _orientation',
'\t\t\tif (_orientation) {',
'\t\t\t\tmpImg.render(_thisCanvas,{maxWidth: ops.html5.maxWidth, maxHeight:ops.html5.maxHeight, orientation:_orientation});',
'\t\t\t} else {',
'\t\t\t\tmpImg.render(_thisCanvas,{maxWidth: ops.html5.maxWidth, maxHeight:ops.html5.maxHeight});',
'\t\t\t}',
'\t\t}',
'\t\t//click the hidden image control',
'\t\tvar ele = $(this.dialogId + \'._GETPHOTO\');',
'\t\tif (ele) {',
'\t\t\tele.value = \'\';',
'\t\t\tele.click();',
'\t\t}',
'\t}',
'\t/////\\\\\\\\\\',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewVideoCapturePhoneGap = function(opsIn) {',
'\t\t//ops.fieldPrefix = this.dialogId + \'.V.R1\';',
'\t\t//ops.videoFieldName = (ops.fieldPrefix + \'.\' + ops.controlName).toUpperCase();',
'\t\topsIn.dialogObj = this;',
'\t\tvar options = opsIn.options;',
'\t\tvar onSuccess = function(mediaFiles) { var e = {filename: mediaFiles[0].fullPath};',
'\t\t\tvar e_filename = e.filename;',
'\t\t\tif(e_filename.indexOf(\'file:\') != 0) {',
'\t\t\t\te_filename = e_filename.replace(\'/private\',\'file:\\/\\/\');',
'\t\t\t}',
'\t\t\tif(e_filename.indexOf(\'file:\') != 0 && e_filename.indexOf(\'.wav\') > 0) {',
'\t\t\t\te_filename = \'file:\\/\\/\' + e_filename;',
'\t\t\t\t//alert(e_filename);',
'\t\t\t}',
'\t\t\topsIn.dialogObj.setValue(opsIn.controlName,e_filename);',
'\t\t\t//var ele = $(ops.imageFieldName);',
'\t\t\t//if(ele) ele.src = thisImageURL;',
'\t\t\t//var eleH = $(ops.hiddenFileName);',
'\t\t\t//if(eleH) eleH.src = thisImageURL;',
'\t\t\t//$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\topsIn.dialogObj.refreshClientSideComputations();',
'\t\t};',
'\t\tvar onFailed = function() {',
'\t\t};',
'\t\tvar flagAudio = false;',
'\t\tif(typeof opsIn.audio != \'undefined\') flagAudio = opsIn.audio;',
'\t\tif(!flagAudio) {',
'\t\t\tnavigator.device.capture.captureVideo(onSuccess,onFailed,options);',
'\t\t} else {',
'\t\t\t//alert(\'audio\');',
'\t\t\t//debugger;',
'\t\t\tvar options = { limit: 1, duration: 10 };',
'\t\t\t//navigator.device.capture.captureAudio(captureSuccess, captureError, options);',
'\t\t\t//navigator.device.capture.captureAudio(onSuccess,onFailed,options);',
'\t\t\tvar _media = {',
'\t\t\t\trecorder: null,',
'\t\t\t\trecFile: \'myaudio/myrecording3.amr\'  //if device.platform is \'Android\' then use .amr, otherwise .wav',
'\t\t\t}',
'\t\t\tfunction captureStatus(e) {',
'\t\t\t\tconsole.log(\'status....\' + JSON.stringify(e));',
'\t\t\t}',
'\t\t\tvar onSuccessAudio = function() {',
'\t\t\t\tconsole.log(\'try to play it now\');',
'\t\t\t\tsetTimeout(function() { _media.recorder.play(); },1000);',
'\t\t\t\t//var e_filename = _media.recFile;',
'\t\t\t\t//opsIn.dialogObj.setValue(opsIn.controlName,e_filename);',
'\t\t\t\t//opsIn.dialogObj.refreshClientSideComputations();',
'\t\t\t};',
'\t\t\t_media.recorder = new Media(_media.recFile,onSuccessAudio,onFailed,captureStatus);',
'\t\t\tconsole.log(\'about to record\');',
'\t\t\t_media.recorder.startRecord();',
'\t\t\tconsole.log(\'start\');',
'\t\t\tsetTimeout(function() { console.log(\'stop\'); _media.recorder.stopRecord();  },5000);',
'\t\t\t//_media.recorder.play();',
'\t\t}',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewImageCapturePhoneGap =  function(options) {',
'\t\tvar flagCustomOnError = false;',
'\t\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents != \'undefined\') flagCustomOnError = {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents;',
'\t\tif(!flagCustomOnError) window.onerror = function(err) { alert(\'Unhandled Javascript Error - phoneGapImageCapture:  \' + JSON.stringify(err));}',
'\t\tif(options.onBeforeCaptureJavascript) {',
'\t\t\tvar result = options.onBeforeCaptureJavascript.call();',
'\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\tif(!result) return false;',
'\t\t\t}',
'\t\t}',
'\t\tif (typeof window[\'cordova\'] == \'undefined\') {',
'\t\t\talert(\'PhoneGap not loaded\');',
'\t\t\treturn false;',
'\t\t}',
'\t\tif(typeof options.imageSelectionCanceledMessage == \'undefined\') options.imageSelectionCanceledMessage = \'Image Selection Canceled\';',
'\t\tif(typeof options.imageSelectionCanceledButton == \'undefined\') options.imageSelectionCanceledButton = \'Done\';',
'\t\tif(typeof options.cameraCanceledMessage == \'undefined\') options.cameraCanceledMessage = \'Camera Action Canceled\';',
'\t\tif(typeof options.cameraCanceledButton == \'undefined\') options.cameraCanceledButton = \'Done\';',
'\t\tvar maxSize = -1;',
'\t\tif(typeof options.maxImageSizePhoneGap != \'undefined\') maxSize = Number(options.maxImageSizePhoneGap);',
'\t\tif(maxSize == -1) maxSize = 9999999999;',
'\t\tif(typeof options.specialMode == \'undefined\') options.specialMode = \'detailview\';',
'\t\tvar ops = {};',
'\t\tops.dialogObj = this;',
'\t\tif(options.specialMode == \'callback\') {',
'\t\t\toptions.controlName = \'\';',
'\t\t}',
'\t\tops.targetImage = options.controlName.toUpperCase();',
'\t\tops.cordova = {};',
'\t\tops.cordova.pictureSourceVal = options.pictureSourceVal;',
'\t\tops.cordova.imageQuality = options.imageQualityPhonegap;',
'\t\tops.cordova.allowEdit = options.allowPictureEditing',
'\t\tops.cordova.targetWidth = options.maxImageWidth;',
'\t\tops.cordova.targetHeight = options.maxImageHeight;',
'\t\tops.cordova.saveToPhotoAlbum = options.saveToPhotoAlbum',
'\t\tops.cordova.iPadEleId = \'\';',
'\t\tops.fieldPrefix = this.dialogId + \'.V.R1\';',
'\t\tops.imageFieldName = (ops.fieldPrefix + \'.\' + ops.targetImage).toUpperCase();',
'\t\tops.hiddenFileName = (ops.fieldPrefix + \'.\' + ops.targetImage + \'_HIDDENA5FN\').toUpperCase();',
'\t\tops.onCameraSuccess = function(imageURI) {',
'\t\t\tif(typeof options.captureDataMode == \'undefined\') options.captureDataMode = \'base64\';',
'\t\t\ttry {',
'\t\t\t    var iOps = JSON.parse(imageURI);',
'\t\t\t    var filename = iOps.filename;',
'\t\t\t    var metadata = iOps.json_metadata;',
'\t\t\t    var iMD = JSON.parse(metadata);',
'\t\t\t    if(typeof iMD.GPS != \'undefined\') {',
'\t\t\t    \t//running on iOS',
'\t\t\t    \tvar gpsObj = {};',
'\t\t\t    \tgpsObj.latitude = iMD.GPS.Latitude;',
'\t\t\t    \tgpsObj.longitude = iMD.GPS.Longitude;',
'\t\t\t    \tif(iMD.GPS.LongitudeRef == \'W\') gpsObj.longitude = Number(gpsObj.longitude) * -1;',
'\t\t\t    \tif(iMD.GPS.LatitudeRef == \'S\') gpsObj.latitude = Number(gpsObj.latitude) * -1;',
'\t\t\t    \tgpsObj.altitude = iMD.GPS.Altitude;',
'\t\t\t    \tgpsObj.dateTime = iMD.GPS.DateStamp + \' \' + iMD.GPS.TimeStamp;',
'\t\t\t    \tgpsObj.ExifJSON = metadata;',
'\t\t\t    } else {',
'\t\t\t    \t//android',
'\t\t\t    \tvar latRaw = iMD.gpsLatitude;   //":"42/1,28/1,50093/1000",',
'\t\t\t    \tvar latRef = iMD.gpsLatitudeRef;  //":"N",',
'\t\t\t    \tvar lngRaw = iMD.gpsLongitude; //":"71/1,12/1,16183/1000",',
'\t\t\t    \tvar lngRef = iMD.gpsLongitudeRef; //":"W",',
'\t\t\t    \tvar altRaw = iMD.gpsAltitude;',
'\t\t\t    \tvar altRef = iMD.gpsAltitudeRef;',
'\t\t\t    \tops.fixGPS = function(raw,ref) {',
'\t\t\t    \t\t//alert( \' raw: \' + raw + \' ref: \' + ref);',
'\t\t\t    \t\tif(raw == null) return null;',
'\t\t\t\t\t\tvar lat_d, lat_m, lat_s, lat;',
'\t\t\t\t\t\tlat_d = eval(raw.split(\',\')[0]);',
'\t\t\t\t\t\tlat_m = eval(raw.split(\',\')[1]) * ( 1/60);',
'\t\t\t\t\t\tlat_s = eval(raw.split(\',\')[2]) * ( 1/60);',
'\t\t\t\t\t\tlat = Number(lat_d) + Number(lat_m) + Number(lat_s);',
'\t\t\t\t\t\tif(ref != null) {',
'\t\t\t\t\t\t\tif(ref.toUpperCase() == \'S\') lat = Number(lat) * -1;',
'\t\t\t\t\t\t\tif(ref.toUpperCase() == \'W\') lat = Number(lat) * -1;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\treturn lat;',
'\t\t\t    \t}',
'\t\t\t    \tvar lat = ops.fixGPS(latRaw,latRef);',
'\t\t\t    \tvar lng = ops.fixGPS(lngRaw,lngRef);',
'\t\t\t    \tvar alt = ops.fixGPS(altRaw,altRef);',
'\t\t\t    \tvar gpsObj = {};',
'\t\t\t\t\tgpsObj.latitude = lat;',
'\t\t\t\t\tgpsObj.longitude = lng;',
'\t\t\t\t\tgpsObj.altitude = alt;',
'\t\t\t\t\tgpsObj.dateTime = iMD.datetime;',
'\t\t\t\t\tgpsObj.ExifJSON = metadata;',
'\t\t\t    }',
'\t\t\t    options.EXIF = gpsObj;',
'\t\t\t    ops._moveFile(filename);',
'\t\t\t  \t//gets called by ops._move()',
'\t\t\t    //window.resolveLocalFileSystemURL(filename,ops.fsOK,ops.fsError);',
'\t\t\t} catch(err) {',
'\t\t\t\t//if you get here then you were not using the AA camera plugin, so EXIF info is not available',
'\t\t\t\tops._moveFile(imageURI);',
'\t\t\t\t//gets called by ops._move()',
'\t\t\t    //window.resolveLocalFileSystemURL(imageURI,ops.fsOK,ops.fsError);',
'\t\t\t}',
'\t\t}',
'\t\tops._moveFile = function(filename) {',
'\t\t\tvar flagMove = false;',
'\t\t\tif(typeof options.phonegapMoveFileToPermanentStorage != \'undefined\') flagMove = options.phonegapMoveFileToPermanentStorage;',
'\t\t\tif(flagMove) {',
'\t\t\t\tvar _dir = {UXPRERENDEREDALIAS}_DlgObj.phoneGapGetLocalDirURL(options.phonegapFileSystemType);',
'\t\t\t\tvar _onFolderEnsured = function() {',
'\t\t\t\t\tvar objFn = A5.parseFilename(filename);',
'\t\t\t\t\tvar extension = objFn.name.split(\'.\');',
'\t\t\t\t\textension = extension[extension.length-1];',
'\t\t\t\t\tvar targetName = A5.UUID() + \'.\' + extension;',
'\t\t\t\t\tvar subfolder = \'\';',
'\t\t\t\t\tif(options.phonegapPermanentStorageFolder != \'\') {',
'\t\t\t\t\t\tsubfolder = options.phonegapPermanentStorageFolder + \'/\';',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _moveOK = function() {',
'\t\t\t\t\t\tvar fn = _dir + subfolder + targetName;',
'\t\t\t\t\t\twindow.resolveLocalFileSystemURL(fn,ops.fsOK,ops.fsError);',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _moveFail = function(e) {',
'\t\t\t\t\t\talert(\'Move error: \'+e.code);',
'\t\t\t\t\t}',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapMoveFileURL(filename,_dir, subfolder + targetName,_moveOK,_moveFail)',
'\t\t\t\t}',
'\t\t\t\tvar _onError = function() {',
'\t\t\t\t\talert(\'could not create folder\');',
'\t\t\t\t}',
'\t\t\t\tif(options.phonegapPermanentStorageFolder != \'\') {',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapEnsureDirPathURL(_dir, options.phonegapPermanentStorageFolder, _onFolderEnsured, _onError)',
'\t\t\t\t} else {',
'\t\t\t\t\t//storing in the root of the requested filesystem --',
'\t\t\t\t\t_onFolderEnsured();',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\t//do not need to move the file',
'\t\t\t\twindow.resolveLocalFileSystemURL(filename,ops.fsOK,ops.fsError);',
'\t\t\t}',
'\t\t}',
'\t\tops.onImageSelectFail = function(msg) {',
'\t\t\tnavigator.notification.alert(msg,null,options.imageSelectionCanceledMessage,options.imageSelectionCanceledButton);',
'\t\t}',
'\t\tops.onCameraCaptureFail = function(msg) {',
'\t\t\tnavigator.notification.alert(msg,null,options.cameraCanceledMessage,options.cameraCanceledButton);',
'\t\t}',
'\t\tops.fsOK = function(fileEntry) {',
'\t\t\t// HTML5 File system available as fileEntry',
'\t\t\t// Using standard HTML5 file handling here',
'\t\t\t// get fileEntry URL for upload',
'\t\t\tvar thisImageURL = fileEntry.toURL();',
'\t\t\tif(options.captureDataMode == \'filename\') {',
'\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t//better be - only mode we are supporting for \'filename\'',
'\t\t\t\t\tvar ele = $(ops.imageFieldName);',
'\t\t\t\t\tif(ele) ele.src = thisImageURL;',
'\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\tif(eleH) eleH.src = thisImageURL;',
'\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\tvar exifData = \'\';',
'\t\t\t\t\tif(typeof options.EXIF != \'undefined\') exifData = JSON.stringify(options.EXIF);',
'\t\t\t\t\t$sa(eleH,\'a5EXIF\',exifData);',
'\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\tfileEntry.file(function(file){',
'\t\t\t\t\tvar reader = new FileReader();',
'\t\t\t\t\treader.onloadend = function(e) {',
'\t\t\t\t\t\t// this is Base64 encoded',
'\t\t\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t\t\tvar ele = $(ops.imageFieldName);',
'\t\t\t\t\t\t\tif(ele) ele.src = e.target.result;',
'\t\t\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\t\t\tif(eleH) eleH.src = e.target.result;',
'\t\t\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t\t\t\tif(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : e.target.result, fileSystemURL: fileEntry.nativeURL, options: options});',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\toptions.onCaptureJavascript.call(this, {data : e.target.result, fileSystemURL: fileEntry.nativeURL, options: options});  //pass in options so that the user defined callback js can reference options (which has the exif data in it)',
'\t\t\t\t\t\t}',
'\t\t\t\t\t};',
'\t\t\t\t\treader.onerror = function(e) {',
'\t\t\t\t\t\tnavigator.notification.alert(\'<a5:r>File reader error</a5:r>\');',
'\t\t\t\t\t};',
'\t\t\t\t\treader.readAsDataURL(file);',
'\t\t\t\t},function(error) {',
'\t\t\t\t\tnavigator.notification.alert(\'<a5:r>Image file read error</a5:r>\');',
'\t\t\t\t});',
'\t\t\t}',
'\t\t}',
'\t\tops.fsError = function() {',
'\t\t\tnavigator.notification.alert(\'<a5:r>Local File system unavailable.</a5:r>\');',
'\t\t}',
'\t\t// Calculate positioning for iPad popup menu if applicable',
'\t\tvar cordovaPopoverOptions = null;',
'\t\t\tif (ops.cordova.iPadEleId.length > 0) {',
'\t\t\tvar ele = $(ops.cordova.iPadEleId);',
'\t\t\tif (ele) {',
'\t\t\t\tvar rect = ele.getBoundingClientRect();',
'\t\t\t\tvar x = rect.left;',
'\t\t\t\tvar y = rect.top;',
'\t\t\t\tvar w = rect.right - rect.left;',
'\t\t\t\tvar h = rect.bottom - rect.top;',
'\t\t\t\tcordovaPopoverOptions = new CameraPopoverOptions(x,y,w,h,15);',
'\t\t\t}',
'\t\t}',
'\t\t// These options define all of the objects functionality',
'\t\tvar cordovaOptions = {',
'\t\t\tquality: Number(ops.cordova.imageQuality),',
'\t\t\tallowEdit: ops.cordova.allowEdit,',
'\t\t\tsourceType: Number(ops.cordova.pictureSourceVal),',
'\t\t\tcorrectOrientation: true,',
'\t\t\tdestinationType: 1,',
'\t\t\ttargetWidth: Number(ops.cordova.targetWidth),',
'\t\t\ttargetHeight: Number(ops.cordova.targetHeight),',
'\t\t\tsaveToPhotoAlbum: ops.cordova.saveToPhotoAlbum,',
'\t\t\tpopoverOptions: cordovaPopoverOptions,',
'\t\t\tencodingType: Camera.EncodingType.JPEG',
'\t\t}',
'\t\tif (cordovaOptions.sourceType != 1) {',
'\t\t\tcordovaOptions.saveToPhotoAlbum = false;',
'\t\t\tnavigator.camera.getPicture(ops.onCameraSuccess, ops.onImageSelectFail,cordovaOptions);',
'\t\t} else {',
'\t\t\tnavigator.camera.getPicture(ops.onCameraSuccess, ops.onCameraCaptureFail,cordovaOptions);',
'\t\t}',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj._abortS3Upload = function(__guid,number,rowId) {',
'\t\tvar arrS3 = {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'arrS3\'];',
'\t\tvar options = {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'options\'];',
'\t\tvar _dlgObj = {UXPRERENDEREDALIAS}_DlgObj;',
'\t\tvar _xhr = arrS3[number].xhr;',
'\t\t_xhr.abort();',
'\t\tarrS3[number].aborted = true;',
'\t\tif(typeof rowId != \'undefined\') {',
'\t\t\tvar ele = $(rowId);',
'\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t}',
'\t\t//uploadCompleteFunction',
'\t\tvar ops = {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'ops\'];',
'\t\t//fire the onComplete events',
'\t\tvar flagAllCompleted = false;',
'\t\tvar c = 0;',
'\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\tif(arrS3[i].completed == true || arrS3[i].aborted == true) c = c+1;',
'\t\t}',
'\t\tif(c == arrS3.length) flagAllCompleted = true;',
'\t\tvar f = arrS3[number];',
'\t\tvar e = {',
'\t\t\tname: f.name,',
'\t\t\ttype: f.type,',
'\t\t\tsize: f.size,',
'\t\t\taborted: f.aborted,',
'\t\t\tnumber: number,',
'\t\t\tfileArray: arrS3,',
'\t\t\ttargetName: arrS3[number].targetName',
'\t\t}',
'\t\toptions.onCompleteFile(e);',
'\t\tif(flagAllCompleted) {',
'\t\t\toptions.onCompleteAllFiles(e);',
'\t\t\tif(options.displayProgress) {',
'\t\t\t\tvar eleP = $(_dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder);',
'\t\t\t\tif(eleP) eleP.style.display = \'none\';',
'\t\t\t}',
'\t\t\tdelete {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid];',
'\t\t}',
'\t\t//end onComplete events',
'\t}',
'\t/////////////////////////////////////////////////////////////////////////',
'\t{UXPRERENDEREDALIAS}_DlgObj.fileUploadAmazonS3 = function(options) {',
'\t\tvar eleB = \'\';',
'\t\tvar _dlgObj = this;',
'\t\tvar _part = options.part;',
'\t\tdelete ops;',
'\t\tvar ops = {};',
'\t\tif(typeof options.onBeforeFileSelect == \'function\') {',
'\t\t\tvar result = options.onBeforeFileSelect();',
'\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\tif(!result) return false;',
'\t\t\t}',
'\t\t}',
'\t\tops.formatNum = function(num) {',
'\t\t\tvar suffix = \'Kb\';',
'\t\t \tif(num >= 1000000) {',
'\t\t \t\tnum = num/1000000;',
'\t\t \t\tsuffix = \'Mb\';',
'\t\t\t} else if(num >= 1000) {',
'\t\t\t \tnum = num / 1000;',
'\t\t\t \tsuffix = \'Kb\';',
'\t\t\t} else {',
'\t\t\t   suffix = \'bytes\'',
'\t\t\t  }',
'\t\t\tnum = Math.round(num * 100) / 100;',
'\t\t\tnum = Number(num);',
'\t\t\treturn (num).toLocaleString() + suffix;',
'\t\t}',
'\t\tops.setProgress = function(percent,message,objS3) {',
'\t\t\t//fire system onProgress events',
'\t\t\tif(options.displayProgress) {',
'\t\t\t\tvar i = objS3.number;',
'\t\t\t\t//id_i = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder + \'.\' + (i+1);',
'\t\t\t\tid_i = options.resolvedProgressPlaceholder + \'.\' + (i+1);',
'\t\t\t\tvar ep = $(id_i);',
'\t\t\t\tif(ep) {',
'\t\t\t\t\tif(options.progressStyle == \'text\') ep.innerHTML = percent + \'%\';',
'\t\t\t\t\telse ep.style.width = percent + \'%\';',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tvar e = {',
'\t\t\t\tpercent: percent,',
'\t\t\t\tmessage: message,',
'\t\t\t\tname: objS3.name,',
'\t\t\t\ttargetName: objS3.targetName,',
'\t\t\t\tnumber: objS3.number,',
'\t\t\t\tsize: objS3.size,',
'\t\t\t\ttype: objS3.type',
'\t\t\t}',
'\t\t\tif(typeof objS3.userProgressFunction == \'function\') objS3.userProgressFunction(e);;',
'\t\t}',
'\t\tops.createCORSRequest = function(method, url) {',
'  \t\t\tvar xhr = new XMLHttpRequest();',
'\t\t\t // "withCredentials" only exists on XHR2 objects',
'  \t\t\tif ("withCredentials" in xhr) {',
'  \t\t\t\ttry {',
'    \t\t\t\txhr.open(method, url, true);',
'    \t\t\t} catch(err) {',
'    \t\t\t\talert(\'XHR error - could not open XHR object. This action is not supported in Working Preview if you are using Internet Explorer. Try using Chrome Working Preview.\');',
'    \t\t\t\treturn false;',
'    \t\t\t}',
'\t\t\t} else if (typeof XDomainRequest != "undefined") {',
'\t\t\t    // XDomainRequest only exists in IE',
'    \t\t\txhr = new XDomainRequest();',
'\t\t\t    xhr.open(method, url);',
'  \t\t\t} else {',
'\t\t\t  \t// CORS not supported by this browser',
'    \t\t\txhr = null;',
'\t\t\t  }',
'\t\t  return xhr;',
'\t\t}',
'\t\tops.uploadToS3 = function(file, url, objS3) {',
'\t\t\tvar targetServer = objS3.targetServer;',
'\t\t\tif(typeof targetServer == \'undefined\') targetServer = \'S3\';',
'\t\t\tif(targetServer.toUpperCase() == \'S3\') {',
'\t\t\t\tvar xhr = ops.createCORSRequest(\'PUT\', url);',
'\t\t\t} else {',
'\t\t\t\t//alpha server',
'\t\t\t\tvar additionalInfo = \'\';',
'\t\t\t\tif(typeof options.additionalInfo == \'function\') {',
'\t\t\t\t\tadditionalInfo = options.additionalInfo.call();',
'\t\t\t\t}',
'\t\t\t\tadditionalInfo = A5.ajax.buildURLParam(\'__additionalInfo\',additionalInfo);',
'\t\t\t\tvar AAURI = encodeURI({UXPRERENDEREDALIAS}_DlgObj.ajaxURL + \'&\' + additionalInfo + \'&__Ajax=true&__FormAction=GenericAjaxCallback&_XbasicFunction=system:multifileupload&_xbasic=\' + options.xbasicFunction);',
'\t\t\t\tvar xhr = new XMLHttpRequest();',
'\t\t\t\txhr.open(\'POST\',AAURI,true);',
'\t\t\t}',
'\t\t\tif (!xhr) {',
'\t\t\t\t//ops.setProgress(0, \'CORS not supported\',objS3);',
'\t\t\t\tif(typeof objS3.onError == \'function\') objS3.onError({errorText: \'CORS not supported\', errorCode: -1, fileObject: objS3});',
'\t\t\t  \telse alert(\'CORS not supported\');',
'\t\t\t} else {',
'\t\t\t//capture the xhr object so you can call cancel',
'\t\t\tobjS3.arrS3[objS3.number].xhr = xhr;',
'\t\t\txhr.onload = function() {',
'\t\t\t  if(xhr.status == 200) {',
'\t\t\t\tops.setProgress(100, \'Upload completed.\',objS3);',
'\t\t\t\t//file number is available in objS3.number',
'\t\t\t\tobjS3.uploadCompleteFunction.call(objS3);',
'\t\t\t  } else {',
'\t\t\t\t//ops.setProgress(0, \'Upload error: \' + xhr.status);',
'\t\t\t\tvar responseText = \'\';',
'\t\t\t\tif(typeof xhr.responseText != \'undefined\') responseText = xhr.responseText;',
'\t\t\t\tif(typeof objS3.onError == \'function\') objS3.onError({errorText: \'Upload error\', errorCode: xhr.status, fileObject: objS3, errorText: responseText});',
'\t\t\t  \telse alert(\'XHR error. Reported error:\' + responseText);',
'\t\t\t  }',
'\t\t\t};',
'\t\t\txhr.onerror = function() {',
'\t\t\t  //ops.setProgress(0, \'XHR error.\');',
'\t\t\t  if(typeof objS3.onError == \'function\') objS3.onError({errorText: \'XHR Error\', errorCode: xhr.status, fileObject: objS3});',
'\t\t\t  else alert(\'XHR error\');',
'\t\t\t};',
'\t\t\txhr.upload.onprogress = function(e) {',
'\t\t\t  if (e.lengthComputable) {',
'\t\t\t\tvar percentLoaded = Math.round((e.loaded / e.total) * 100);',
'\t\t\t\tops.setProgress(percentLoaded, percentLoaded == 100 ? \'Finalizing.\' : \'Uploading.\',objS3);',
'\t\t\t  }',
'\t\t\t};',
'\t\t\tif(!options.target) options.target = \'S3\';',
'\t\t\tif(options.target.toUpperCase() == \'S3\') {',
'\t\t\t\txhr.setRequestHeader(\'Content-Type\', file.type);',
'\t\t\t\tif(!objS3.authenticatedRead) {',
'\t\t\t\t\txhr.setRequestHeader(\'x-amz-acl\', \'public-read\');',
'\t\t\t\t} else {',
'\t\t\t\t\txhr.setRequestHeader(\'x-amz-acl\', \'authenticated-read\');',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\t//don\'t bother with headers. they will get set automatically becuase we will be .send()ing a FormData() object',
'\t\t\t}',
'\t\t\tif(targetServer.toUpperCase() == \'S3\') {',
'\t\t\t\txhr.send(file);',
'\t\t\t} else {',
'\t\t\t\t//uploading to alpha server - by using a FormData() object, the content-type headers get set correctly',
'\t\t\t\tvar formData = new FormData();',
'\t\t\t\tformData.append(\'file\',file)',
'\t\t\t\txhr.send(formData);',
'\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tops.handleFileSelect = function(evt) {',
'\t\t\tdelete arrS3;',
'\t\t\tvar arrS3 = [];',
'\t\t\tops.__guid = Number(new Date());',
'\t\t\tvar __guid = ops.__guid;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads = {};',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid] = {};',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'arrS3\'] = arrS3;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'ops\'] = ops;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'options\'] = options;',
'\t\t\tvar files = evt.target.files;',
'\t\t\tvar f = \'\';',
'\t\t\tvar data = \'\';',
'\t\t\tvar targetName = \'\';',
'\t\t\tvar newTargetName = \'\';',
'\t\t\tarrS3.length = 0;',
'\t\t\tfor(var i = 0; i < files.length; i++) {',
'\t\t\t\tf = files[i];',
'\t\t\t\tif(typeof f.name == \'undefined\') {',
'\t\t\t\t\tvar localFileName = \'blobfile.jpg\';',
'\t\t\t\t\tif(typeof options.localFileName != \'undefined\') localFileName = options.localFileName;',
'\t\t\t\t\tf.name = localFileName;',
'\t\t\t\t}',
'\t\t\t\tdelete obji;',
'\t\t\t\tvar obji = {',
'\t\t\t\t\tnumber: i,',
'\t\t\t\t\tname: f.name,',
'\t\t\t\t\tsize: f.size,',
'\t\t\t\t\ttype: f.type,',
'\t\t\t\t\tfile: f,',
'\t\t\t\t\tcompleted: false,',
'\t\t\t\t\taborted: false',
'\t\t\t\t}',
'\t\t\t\tarrS3.push(obji)',
'\t\t\t}',
'\t\t\tvar __guid = ops.__guid;',
'\t\t\t//validate file selection -------------------------------------',
'\t\t\tvar totalSize = 0;',
'\t\t\tif(typeof options.maxFileSize == \'undefined\') options.maxFileSize = -1;',
'\t\t\tvar maxSize = options.maxFileSize;',
'\t\t\tif(maxSize == -1) maxSize = 999999999999999;',
'\t\t\tif(typeof options.maxFileSizeTotal == \'undefined\') options.maxFileSizeTotal = -1;',
'\t\t\tvar maxSizeTotal = options.maxFileSizeTotal;',
'\t\t\tif(maxSizeTotal == -1) maxSizeTotal = 999999999999999;',
'\t\t\tif(typeof options.allowedFileTypes == \'undefined\') options.allowedFileTypes = \'\';',
'\t\t\tvar fileMsg = options.customization.maxFileSize;',
'\t\t\tvar fileTotalMsg = options.customization.totalFileSize;',
'\t\t\tvar typeMsg = options.customization.fileType;',
'\t\t\tvar flagHasValidationFunction = false;',
'\t\t\tif(typeof options.onValidationError == \'function\') flagHasValidationFunction = true;',
'\t\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\t\ttotalSize = totalSize + arrS3[i].size;',
'\t\t\t\t//check size',
'\t\t\t\tif(arrS3[i].size > maxSize) {',
'\t\t\t\t\tif(flagHasValidationFunction) {',
'\t\t\t\t\t\toptions.onValidationError({violationType: \'size\', name: arrS3[i].name, size: arrS3[i].size, type: arrS3[i].type});',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tif(typeof fileMsg != \'undefined\' && fileMsg != \'\') {',
'\t\t\t\t\t\t\tvar msg = fileMsg;',
'\t\t\t\t\t\t\tvar e = arrS3[i];',
'\t\t\t\t\t\t\tmsg = msg.replace(\'[filename]\',e.name);',
'\t\t\t\t\t\t\tmsg = msg.replace(\'[filesize]\',\'\' + e.size);',
'\t\t\t\t\t\t\tmsg = msg.replace(\'[maxfilesize]\',\'\' + maxSize);',
'\t\t\t\t\t\t\talert(msg);',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\talert(\'File exceeds maximum allowed size of \' + maxSize);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\treturn false;',
'\t\t\t\t}',
'\t\t\t\t//check type',
'\t\t\t\tif(options.allowedFileTypes != \'\') {',
'\t\t\t\t\tvar arrT = options.allowedFileTypes.split(\',\');',
'\t\t\t\t\tfor(var i2 = 0; i2 < arrT.length; i2++ ) {',
'\t\t\t\t\t\tarrT[i2] =   $u.s.aTrim(arrT[i2].toLowerCase());',
'\t\t\t\t\t\tarrT[i2] = arrT[i2].replace(\'.\',\'\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar ext = arrS3[i].name.split(\'.\');',
'\t\t\t\t\text = ext[ext.length -1];',
'\t\t\t\t\text = ext.toLowerCase();',
'\t\t\t\t\tvar ia = $u.a.find(arrT,ext);',
'\t\t\t\t\tif(ia == -1) {',
'\t\t\t\t\t\tif(flagHasValidationFunction) {',
'\t\t\t\t\t\t\toptions.onValidationError({violationType: \'type\', name: arrS3[i].name, size: arrS3[i].size, type: arrS3[i].type});',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\tif(typeof typeMsg != \'undefined\' && typeMsg != \'\') {',
'\t\t\t\t\t\t\t\tvar msg = typeMsg;',
'\t\t\t\t\t\t\t\tvar e = arrS3[i];',
'\t\t\t\t\t\t\t\tmsg = msg.replace(\'[filename]\',e.name);',
'\t\t\t\t\t\t\t\tmsg = msg.replace(\'[filetype]\',ext);',
'\t\t\t\t\t\t\t\talert(msg);',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\talert(\'Invalid file type \' + ext);',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\treturn false;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t//check total size',
'\t\t\tif(totalSize > maxSizeTotal) {',
'\t\t\t\t//Selected files ([filecount] files, total size [totalfilesize]) exceed the maximum allowed total file size of [maxtotalfilesize].',
'\t\t\t\tif(flagHasValidationFunction) {',
'\t\t\t\t\toptions.onValidationError({violationType: \'totalSize\', totalSize: totalSize, maxSizeTotal: maxSizeTotal});',
'\t\t\t\t} else {',
'\t\t\t\t\tif(typeof fileTotalMsg != \'undefined\' && fileTotalMsg != \'\') {',
'\t\t\t\t\t\tvar msg = fileTotalMsg;',
'\t\t\t\t\t\tvar e = arrS3[i];',
'\t\t\t\t\t\tmsg = msg.replace(\'[filecount]\',arrS3.length);',
'\t\t\t\t\t\tmsg = msg.replace(\'[totalfilesize]\',\'\' + totalSize);',
'\t\t\t\t\t\tmsg = msg.replace(\'[maxtotalfilesize]\',\'\' + maxSizeTotal);',
'\t\t\t\t\t\talert(msg);',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\talert(\'Files exceeds maximum allowed size of \' + maxSizeTotal);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\treturn false;',
'\t\t\t}',
'\t\t\t//end validate file selection',
'\t\t\tif(typeof options.onAfterFilesSelect == \'function\') {',
'\t\t\t\tvar result = options.onAfterFilesSelect(arrS3);',
'\t\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\t\tif(!result) return false;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tops.__handleFileSelectLow(files,__guid,arrS3)',
'\t\t}',
'\t\tops._generatePlaceholderId = function() {',
'\t\t\tvar txt = options.progressDisplayPlaceholder;',
'\t\t\tvar flagDV = false;',
'\t\t\tif(typeof options.__dv != \'undefined\') flagDV = options.__dv;',
'\t\t\tvar num = txt.split(\'.\')[1];',
'\t\t\tif(!flagDV) {',
'\t\t\t\tvar eleId = _dlgObj.gridId + \'.V.R\'+options.rowNumber+\'._UNBOUND_STATICTEXT_\' + num;',
'\t\t\t} else {',
'\t\t\t\tvar eleId = _dlgObj.gridId + \'.D.V.R\'+options.rowNumber+\'._UNBOUND_STATICTEXT_\' + num;',
'\t\t\t}',
'\t\t\treturn eleId;',
'\t\t}',
'\t\tops.__handleFileSelectLow = function(files,__guid,arrS3) {',
'\t\t\tif(options.displayProgress) {',
'\t\t\t\tif(options.progressDisplayPlaceholder.indexOf(\'ELEMENT:\') == 0) {',
'\t\t\t\t\toptions.resolvedProgressPlaceholder = options.progressDisplayPlaceholder.split(\':\')[1];',
'\t\t\t\t} else {',
'\t\t\t\t\toptions.resolvedProgressPlaceholder = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder',
'\t\t\t\t}',
'\t\t\t\tvar eleP = $(options.resolvedProgressPlaceholder);',
'\t\t\t\tif(options.part == \'grid\') {',
'\t\t\t\t\toptions.resolvedProgressPlaceholder = this._generatePlaceholderId()',
'\t\t\t\t\tvar eleP = $(options.resolvedProgressPlaceholder);',
'\t\t\t\t}',
'\t\t\t\tif(eleP) {',
'\t\t\t\t\teleP.style.display = \'\';',
'\t\t\t\t\tvar arrH = [];',
'\t\t\t\t\tvar id_i = \'\';',
'\t\t\t\t\tvar id_row_i = \'\';',
'\t\t\t\t\tvar html = \'\';',
'\t\t\t\t\tvar html_i = \'\';',
'\t\t\t\t\tvar spanTxt = \'\';',
'\t\t\t\t\tvar flagAllowCancel = options.allowCancel;',
'\t\t\t\t\tif(typeof flagAllowCancel == \'undefined\') flagAllowCancel = false;',
'\t\t\t\t\tif(typeof options.progressStyle == \'undefined\') options.progressStyle = \'bar\';',
'\t\t\t\t\tif(options.progressStyle == \'text\') {',
'\t\t\t\t\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\t\t\t\t\t//id_i = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_i = options.resolvedProgressPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_row_i = id_i + \'.ROW\';',
'\t\t\t\t\t\t\thtml_i = \'\';',
'\t\t\t\t\t\t\thtml_i += \'<tr id="\'+id_row_i+\'">\';',
'\t\t\t\t\t\t\tif(flagAllowCancel) {',
'\t\t\t\t\t\t\t\thtml_i += \'<td><div style="cursor:pointer;padding: 5px;" title="Cancel upload" onclick="{UXPRERENDEREDALIAS}_DlgObj._abortS3Upload(\\\'\'+__guid+\'\\\',\'+i+\',\\\'\'+id_row_i+\'\\\');">X</div></td>\';',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\thtml_i +=\'<td><div>\' + arrS3[i].name + \' (\' + ops.formatNum(arrS3[i].size) + \') <span id=\'+id_i+\'></span> </div></td>\';',
'\t\t\t\t\t\t\thtml_i +=\'</tr>\'',
'\t\t\t\t\t\t\tarrH.push(html_i)',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\thtml = arrH.join(\'\');',
'\t\t\t\t\t\thtml = \'<table>\' + html + \'</table>\'',
'\t\t\t\t\t} else if (options.progressStyle == \'bar\') {',
'\t\t\t\t\t\tvar flagShowFilename = options.showFileNameInProgressBar;',
'\t\t\t\t\t\tif(typeof flagShowFilename == \'undefined\') flagShowFilename = true;',
'\t\t\t\t\t\tvar flagMobile = false;',
'\t\t\t\t\t\tif(typeof options._flagMobile != \'undefined\') flagMobile = options._flagMobile;',
'\t\t\t\t\t\thtml_i = \'\';',
'\t\t\t\t\t\tif(typeof options.progressBarColor == \'undefined\') options.progressBarColor = \'#9fa1e8\';',
'\t\t\t\t\t\tif(typeof options.progressBarWidth == \'undefined\') options.progressBarWidth = \'1.5in\';',
'\t\t\t\t\t\tvar color = options.progressBarColor',
'\t\t\t\t\t\tvar width = options.progressBarWidth;',
'\t\t\t\t\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\t\t\t\t\t//id_i = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_i = options.resolvedProgressPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_row_i = id_i + \'.ROW\';',
'\t\t\t\t\t\t\thtml_i = \'\';',
'\t\t\t\t\t\t\thtml_i += \'<tr id="\'+id_row_i+\'">\';',
'\t\t\t\t\t\t\tif(flagShowFilename) {',
'\t\t\t\t\t\t\t\thtml_i += \'<td>\' + arrS3[i].name + \' (\' + ops.formatNum(arrS3[i].size) + \')</td>\';',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\thtml_i += \'<td>(\' + ops.formatNum(arrS3[i].size) + \')</td>\';',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\thtml_i += \'<td><div style="border: solid 1px \'+color+\'; width: \'+width+\';">\';',
'\t\t\t\t\t\t\thtml_i += \'<div id="\'+id_i+\'"style="width: 0%; height: .05in;  background-color:\'+color+\';"></div></div></td>\';',
'\t\t\t\t\t\t\tif(flagAllowCancel) {',
'\t\t\t\t\t\t\t\thtml_i += \'<td><div style="cursor:pointer;padding: 5px;" title="Cancel upload" onclick="{UXPRERENDEREDALIAS}_DlgObj._abortS3Upload(\\\'\'+__guid+\'\\\',\'+i+\',\\\'\'+id_row_i+\'\\\');">X</div></td>\';',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\thtml_i += \'</tr>\';',
'\t\t\t\t\t\t\tarrH.push(html_i);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\thtml = arrH.join(\'\');',
'\t\t\t\t\t\t//for some reason in ie, this function is getting called a second time and if we don\'t exit here when .length == 0, it will overwrite the progress bar with a null string',
'\t\t\t\t\t\tif(arrH.length == 0) return true;',
'\t\t\t\t\t\thtml = \'<table>\' + html + \'</table>\'',
'\t\t\t\t\t\tif(flagMobile) {',
'\t\t\t\t\t\t\t//mobile upload limited to 1 file and don\'t wrap in table',
'\t\t\t\t\t\t\t//id_i = options.resolvedProgressPlaceholder + \'.\' + (1);',
'\t\t\t\t\t\t\thtml = \'\';',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\teleP.innerHTML = html;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tfor(var i = 0; i < files.length; i++) {',
'\t\t\t\tvar f = files[i];',
'\t\t\t\tvar dataA = [];',
'\t\t\t\tdataA.push(\'_mimeType=\' + f.type);',
'\t\t\t\ttargetName = f.name;',
'\t\t\t\tif(typeof options.targetName == \'function\') {',
'\t\t\t\t\tnewTargetName = options.targetName( f  );',
'\t\t\t\t\tif(typeof newTargetName != \'undefined\') {',
'\t\t\t\t\t\tif(newTargetName != \'\') targetName = newTargetName;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tarrS3[i].targetName = targetName;',
'\t\t\t\tvar targetServer = options.target;',
'\t\t\t\tif(!options.target) targetServer = \'S3\';',
'\t\t\t\tarrS3[i].targetServer = targetServer;',
'\t\t\t\tdataA.push(\'_name=\' + urlencode(targetName));  //name of object in S3',
'\t\t\t\tdataA.push(\'_number=\' + i);',
'\t\t\t\tif(options.specifyCredentials == \'Explicit\') {',
'\t\t\t\t\tdataA.push(\'_xbasicFunctionNameForPropertyValues=\' + options.xbasicFunctionName);',
'\t\t\t\t\tdataA.push(\'_method=explicit\');',
'\t\t\t\t} else {',
'\t\t\t\t\tdataA.push(\'_namedStorageConnectionString=\' + options.connectionString);',
'\t\t\t\t\tdataA.push(\'_method=connectionString\');',
'\t\t\t\t}',
'\t\t\t\tdataA.push(\'_authenticatedRead=\' + options.authenticatedRead);',
'\t\t\t\tdataA.push(\'_part=\' + options.part);',
'\t\t\t\tdata = dataA.join(\'&\');',
'\t\t\t\tif(typeof options.userProgressFunction == \'undefined\') options.userProgressFunction = function(e) {};',
'\t\t\t\tif(typeof options.onCompleteAllFiles == \'undefined\') options.onCompleteAllFiles = function(e) {};',
'\t\t\t\tif(typeof options.onCompleteFile == \'undefined\') options.onCompleteFile = function(e) { };',
'\t\t\t\tvar obj = {',
'\t\t\t\t\t//ajax callback to sign url onComplete',
'\t\t\t\t\tonComplete: function() {',
'\t\t\t\t\t\tvar signedURL = decodeURIComponent(_dlgObj._fileCodedURL);',
'\t\t\t\t\t\tvar num = _dlgObj._fileCodedURLNum;',
'\t\t\t\t\t\tvar fi = arrS3[num].file;',
'\t\t\t\t\t\tvar targetServer = arrS3[num].targetServer;',
'\t\t\t\t\t\tdelete objS3;',
'\t\t\t\t\t\tvar objS3 = {',
'\t\t\t\t\t\t\tuploadCompleteFunction: function() {',
'\t\t\t\t\t\t\t\tthis.arrS3[this.number].completed = true;',
'\t\t\t\t\t\t\t\tvar flagAllCompleted = false;',
'\t\t\t\t\t\t\t\tvar c = 0;',
'\t\t\t\t\t\t\t\tfor(var i = 0; i < this.arrS3.length; i++) {',
'\t\t\t\t\t\t\t\t\tif(this.arrS3[i].completed == true || this.arrS3[i].aborted == true) c = c+1;',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\tif(c == this.arrS3.length) flagAllCompleted = true;',
'\t\t\t\t\t\t\t\tvar e = {',
'\t\t\t\t\t\t\t\t\tname: this.name,',
'\t\t\t\t\t\t\t\t\ttype: this.type,',
'\t\t\t\t\t\t\t\t\tsize: this.size,',
'\t\t\t\t\t\t\t\t\tnumber: this.number,',
'\t\t\t\t\t\t\t\t\tfileArray: this.arrS3,',
'\t\t\t\t\t\t\t\t\ttargetName: arrS3[this.number].targetName',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\toptions.onCompleteFile(e);',
'\t\t\t\t\t\t\t\tif(flagAllCompleted) {',
'\t\t\t\t\t\t\t\t\toptions.onCompleteAllFiles(e);',
'\t\t\t\t\t\t\t\t\tif(options.displayProgress) {',
'\t\t\t\t\t\t\t\t\t\t//var eleP = $(_dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder);',
'\t\t\t\t\t\t\t\t\t\tvar eleP = $(options.resolvedProgressPlaceholder);',
'\t\t\t\t\t\t\t\t\t\tif(eleP) eleP.style.display = \'none\';',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\tdelete {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid];',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t},',
'\t\t\t\t\t\t\tuserProgressFunction: options.userProgressFunction,',
'\t\t\t\t\t\t\tonError: options.onError,',
'\t\t\t\t\t\t\tname: fi.name,',
'\t\t\t\t\t\t\tsize: fi.size,',
'\t\t\t\t\t\t\ttype: fi.type,',
'\t\t\t\t\t\t\tnumber: num,',
'\t\t\t\t\t\t\tarrS3: arrS3,',
'\t\t\t\t\t\t\ttargetName: arrS3[num].targetName,',
'\t\t\t\t\t\t\t__guid: __guid,',
'\t\t\t\t\t\t\tauthenticatedRead: options.authenticatedRead',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tobjS3.targetServer = targetServer;',
'\t\t\t\t\t\tops.uploadToS3(fi,signedURL,objS3);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tops.obj = obj;',
'\t\t\t\tvar reader = new FileReader();',
'\t\t\t\treader.onload = function(e) {',
'\t\t\t\t\tvar eleId = \'\';',
'\t\t\t\t\tvar ele = \'\';',
'\t\t\t\t\tif(typeof options.imageControl != \'undefined\' && options.part == \'ux\') {',
'\t\t\t\t\t\teleId = options.__alias + \'.V.R1.\' + options.imageControl.toUpperCase();',
'\t\t\t\t\t\tele = $(eleId);',
'\t\t\t\t\t\tif(ele) ele.src = e.target.result;',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tvar flagDV = false;',
'\t\t\t\t\t\tif(typeof options.__dv != \'undefined\') flagDV = options.__dv',
'\t\t\t\t\t\tif(flagDV) {',
'\t\t\t\t\t\t\teleId = options.__alias + \'.D.V.R\'+options.rowNumber+\'.\' + options.imageControl.toUpperCase();',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\teleId = options.__alias + \'.V.R\'+options.rowNumber+\'.\' + options.imageControl.toUpperCase();',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tele = $(eleId);',
'\t\t\t\t\t\tif(ele) {',
'\t\t\t\t\t\t\tvar oldSrc = ele.src;',
'\t\t\t\t\t\t\t_dlgObj.__oldImage = oldSrc;',
'\t\t\t\t\t\t\tele.src = e.target.result;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\treader.onerror = function(e) {',
'\t\t\t\t\talert(\'error123\');',
'\t\t\t\t}',
'\t\t\t\tif(typeof options.imageControl != \'undefined\') reader.readAsDataURL(f);',
'\t\t\t\tvar flagTargetIsServer = false;',
'\t\t\t\tif(typeof options.target != \'undefined\') {',
'\t\t\t\t\tif(options.target.toLowerCase() == \'server\') flagTargetIsServer = true;',
'\t\t\t\t}',
'\t\t\t\tif(!flagTargetIsServer) {',
'\t\t\t\t\t_dlgObj.ajaxCallback(\'\',\'\',\'a5DialogHelper_signAmazonS3FileUploadURL\',\'\',data,obj);',
'\t\t\t\t} else {',
'\t\t\t\t\t//no need to sign the url for target = \'alpha\'',
'\t\t\t\t\t_dlgObj._fileCodedURLNum = i;',
'\t\t\t\t\tobj.onComplete();',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\t//$e.add($(this.dialogId + \'._GETFILEMULTI\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__amazonS3fileupload\');',
'\t\t$e.removeGroup(\'__amazonS3fileupload\')',
'\t\t//bind the change event to the file selector',
'\t\tif(options.allowMultipleFiles) {',
'\t\t\tif(typeof this._getFileMultiListenerLoaded == \'undefined\') {',
'\t\t\t\t//this._getFileMultiListenerLoaded = true;',
'\t\t\t\t//$(this.dialogId + \'._GETFILEMULTI\').addEventListener(\'change\',ops.handleFileSelect,false);',
'\t\t\t\t$e.add($(this.dialogId + \'._GETFILEMULTI\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__amazonS3fileupload\');',
'\t\t\t}',
'\t\t\teleB = $(this.dialogId + \'._GETFILEMULTI\');',
'\t\t} else {',
'\t\t\tif(typeof this._getFileListenerLoaded == \'undefined\') {',
'\t\t\t\t//this._getFileListenerLoaded = true;',
'\t\t\t\t//$(this.dialogId + \'._GETFILE\').addEventListener(\'change\',ops.handleFileSelect,false);',
'\t\t\t\t$e.add($(this.dialogId + \'._GETFILE\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__amazonS3fileupload\');',
'\t\t\t}',
'\t\t\teleB = $(this.dialogId + \'._GETFILE\');',
'\t\t}',
'\t\tvar flagFilePassedIn = false;',
'\t\tif(typeof options.flagFilePassedIn != \'undefined\') {',
'\t\t\tflagFilePassedIn = options.flagFilePassedIn',
'\t\t}',
'\t\tif(!flagFilePassedIn) {',
'\t\t\teleB.value = \'\';',
'\t\t\teleB.click();',
'\t\t\teleB.value = \'\';',
'\t\t} else {',
'\t\t\t//options.filePassedIn',
'\t\t\tvar evt = {};',
'\t\t\tevt.target = {};',
'\t\t\tevt.target.files = [];',
'\t\t\tevt.target.files[0] = options.filePassedIn;',
'\t\t\tops.handleFileSelect(evt);',
'\t\t}',
'\t}',
'\t////==== upload PhoneGap /////////////////////////////////////////////////////',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileUpload = function(arr,options) {',
'\t\tvar _dlgObj = this;',
'\t\t//arr is an array of files to upload. arr must have a .filename property in each item',
'\t\tif(typeof LocalFileSystem == \'undefined\') {',
'\t\t\tif(typeof cordova == \'undefined\') {',
'\t\t\t\talert(\'Method not supported when not running in PhoneGap\');',
'\t\t\t} else {',
'\t\t\t\talert(\'Required PhoneGap plugins not loaded.\');',
'\t\t\t}',
'\t\t\treturn false;',
'\t\t}',
'\t\t//initialize variables',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tarr[i].name = arr[i].filename;',
'\t\t\tarr[i].number = i;',
'\t\t\tarr[i].completed = false;',
'\t\t\tarr[i].aborted = false;',
'\t\t\tarr[i].succeeded = false;',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: generateProgressBarsHTML -------------',
'\t\tvar generateProgressBarsHTML = function (ops,count) {',
'\t\t\tvar eleTarget = ops.progressElement;',
'\t\t\teleTarget = eleTarget.toUpperCase();',
'\t\t\tvar html = \'\';',
'\t\t\tvar html_i = \'\';',
'\t\t\tvar name_i = \'\';',
'\t\t\tvar progress_i = \'\';',
'\t\t\tvar idName = \'\';',
'\t\t\tvar idProgress = \'\';',
'\t\t\tif(ops.individualProgress) {',
'\t\t\t\tfor(var  i = 0; i < count; i++) {',
'\t\t\t\t\tname_i = \'Name: \' + i;',
'\t\t\t\t\tprogress_i = \'Progress...\' + i;',
'\t\t\t\t\tidProgress = eleTarget + \'.PROGRESS.\' + i;',
'\t\t\t\t\tidName = eleTarget + \'.NAME.\' + i;',
'\t\t\t\t\tprogress_i = \'<div style="border: solid 1px \'+ops.color+\'; width: \'+ops.width+\';">\';',
'\t\t\t\t\tprogress_i += \'<div id="\'+idProgress+\'"style="width: 0%; height: .05in;  background-color:\'+ops.color+\';"></div></div></td>\';',
'\t\t\t\t\thtml_i = \'<td id="\'+idName+\'">name \'+name_i+\'</td><td>\'+progress_i+\'</td>\';',
'\t\t\t\t\thtml_i = \'<tr>\' + html_i + \'</tr>\';',
'\t\t\t\t\thtml = html + html_i;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(ops.showTotalProgress) {',
'\t\t\t\tidProgress = eleTarget + \'.PROGRESS.TOTAL\';',
'\t\t\t\tidName = eleTarget + \'.NAME.TOTAL\';',
'\t\t\t\tprogress_i = \'<div style="border: solid 1px \'+ops.color+\'; width: \'+ops.width+\';">\';',
'\t\t\t\tprogress_i += \'<div id="\'+idProgress+\'"style="width: 0%; height: .05in;  background-color:\'+ops.color+\';"></div></div></td>\';',
'\t\t\t\thtml_i = \'<td id="\'+idName+\'"></td><td>\'+progress_i+\'</td>\';',
'\t\t\t\thtml_i = \'<tr>\' + html_i + \'</tr>\';',
'\t\t\t\thtml = html + html_i',
'\t\t\t}',
'\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\thtml = \'<div id="\'+idProgress+\'"><table>\' + html + \'</table><div>\';',
'\t\t\t$(eleTarget).innerHTML = html;',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: phoneGapUploadDoWork -------------',
'\t\tvar phoneGapUploadDoWork = function(arr,options) {',
'\t\t\tif(options.target.toLowerCase() == \'s3\') {',
'\t\t\t\t//s3',
'\t\t\t\tvar xbasicFunction = \'a5dialogHelper_systemSignS3Policy\';',
'\t\t\t\tvar data = A5.ajax.buildURLParam(\'_jsonOptions\',JSON.stringify(options));',
'\t\t\t\tvar ajaxObj = {',
'\t\t\t\t\terrorFunction: function() {',
'\t\t\t\t\t\tif(typeof options.onAjaxFailed == \'function\') options.onAjaxFailed();',
'\t\t\t\t\t},',
'\t\t\t\t\tonComplete: function() {',
'\t\t\t\t\t\tvar startUploadLocal = function() {',
'\t\t\t\t\t\t\tvar totalSize = 0;',
'\t\t\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\t\t\ttotalSize = totalSize + Number(arr[i].size);',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tvar _sysObj = {};',
'\t\t\t\t\t\t\t_sysObj.totalBytesToUpload = totalSize;',
'\t\t\t\t\t\t\tvar flagMobile = false;',
'\t\t\t\t\t\t\tif(typeof options._flagMobile != \'undefined\') flagMobile = options._flagMobile;',
'\t\t\t\t\t\t\toptions._flagMobile = flagMobile;',
'\t\t\t\t\t\t\tif(options.showProgress && !flagMobile) generateProgressBarsHTML(options.progress,arr.length);',
'\t\t\t\t\t\t\t//alert(\'ready to start uploading files: total \' + totalSize);',
'\t\t\t\t\t\t\tstartUploadFilesToS3(_sysObj,options);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tvar _sTop = {};',
'\t\t\t\t\t\tgetFileSizesForAllItemsInArray(startUploadLocal,_sTop);',
'\t\t\t\t\t},',
'\t\t\t\t\tdeviceOfflineFunction: function() {',
'\t\t\t\t\t\tif(typeof options.onDeviceOffline == \'function\') options.onDeviceOffline();',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',xbasicFunction,\'\',data,ajaxObj);',
'\t\t\t} else {',
'\t\t\t\t//alpha server',
'\t\t\t\tvar startUploadLocal = function() {',
'\t\t\t\t\tvar totalSize = 0;',
'\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\ttotalSize = totalSize + Number(arr[i].size);',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _sysObj = {};',
'\t\t\t\t\t_sysObj.totalBytesToUpload = totalSize;',
'\t\t\t\t\tif(options.showProgress) generateProgressBarsHTML(options.progress,arr.length);',
'\t\t\t\t\tstartUploadFilesToS3(_sysObj,options);',
'\t\t\t\t}',
'\t\t\t\tvar _sTop = {};',
'\t\t\t\tgetFileSizesForAllItemsInArray(startUploadLocal,_sTop);',
'\t\t\t}',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: getFileSizesForAllItemsInList',
'\t\tvar getFileSizesForAllItemsInArray = function(allDone_GotAllFileSizes_Callback, _sTop)  {',
'\t\t\tvar _s = {count: 0};',
'\t\t\tvar getFileSizesForAllItemsInArrayLow = function (arr,r,count,callback,_s,_sTop) {',
'\t\t\t\tvar rowNumber = r;',
'\t\t\t\tvar url = arr[r].filename;',
'\t\t\t\tvar resolveLocalFileURL_SUCCESS = function(fileEntry) {',
'\t\t\t\t\tvar file_SUCCESS = function(f) {',
'\t\t\t\t\t\tarr[r].size = f.size;',
'\t\t\t\t\t\t_s.count = _s.count + 1;',
'\t\t\t\t\t\tif(_s.count == count) {',
'\t\t\t\t\t\t\tcallback(_sTop);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tfileEntry.file(file_SUCCESS);',
'\t\t\t\t}',
'\t\t\t\t//on iphone, video capture does not return a file with the file:// prefix',
'\t\t\t\tvar urlToResolve = url;',
'\t\t\t\tif(url.indexOf(\'file:\') != 0) {',
'\t\t\t\t\turlToResolve = urlToResolve.replace(\'/private\',\'file:\\/\\/\');',
'\t\t\t\t}',
'\t\t\t\twindow.resolveLocalFileSystemURL(urlToResolve, resolveLocalFileURL_SUCCESS, function() { } );',
'\t\t\t}',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tgetFileSizesForAllItemsInArrayLow(arr,i,arr.length,allDone_GotAllFileSizes_Callback,_s,_sTop)',
'\t\t\t}',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: startUploadFilesToS3',
'\t\tvar startUploadFilesToS3 = function(_sysObj,options) {',
'\t\t\t//_sysObj.totalBytesToUpload;',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tupLoadFilesToS3Work(arr[i].filename,arr,i,_sysObj,options)',
'\t\t\t}',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: s3SignedPolicy',
'\t\tvar s3SignedPolicy = function() {',
'\t\t\tvar obj = {};',
'\t\t\tobj.hasError = {UXPRERENDEREDALIAS}_DlgObj._pgS3.hasError;',
'\t\t\tobj.policyBase64 = {UXPRERENDEREDALIAS}_DlgObj._pgS3.policyBase64;',
'\t\t\tobj.signature = {UXPRERENDEREDALIAS}_DlgObj._pgS3.signature;',
'\t\t\tobj.userKey = {UXPRERENDEREDALIAS}_DlgObj._pgS3.accessKey;',
'\t\t\tobj.acl = {UXPRERENDEREDALIAS}_DlgObj._pgS3.acl;',
'\t\t\tobj.bucket = {UXPRERENDEREDALIAS}_DlgObj._pgS3.bucket;',
'\t\t\treturn obj;',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: uploadFilesToS3Work',
'\t\tvar upLoadFilesToS3Work = function(filenameURI,arr,fileNumber,_sysObj, actionOptions) {',
'\t\t\t//alert(\'actionOptions.target: \' + actionOptions.target);  s3 or alphaanywhere',
'\t\t\tvar fileName = filenameURI.substr(filenameURI.lastIndexOf(\'/\')+1);',
'\t\t\tvar targetName = fileName;',
'\t\t\tif(typeof actionOptions.onComputeS3Filename == \'function\') {',
'\t\t\t\tvar e = {name: targetName, object: arr[fileNumber]};',
'\t\t\t\tvar newTargetName = actionOptions.onComputeS3Filename(e);',
'\t\t\t\tif(typeof newTargetName == \'undefined\') newTargetName = targetName;',
'\t\t\t\tif(newTargetName == \'\') newTargetName = targetName;',
'\t\t\t\ttargetName = newTargetName;',
'\t\t\t}',
'\t\t\t//on iphone video name is always \'capturedvideo.mov\' (in a unique subfolder)',
'\t\t\tif(targetName.toLowerCase() == \'capturedvideo.mov\') {',
'\t\t\t\ttargetName = A5.UUID() + \'_video.MOV\';',
'\t\t\t}',
'\t\t\tarr[fileNumber].targetName = targetName; //use name that event returned',
'\t\t\tvar ft = new FileTransfer();',
'\t\t\tvar options = new FileUploadOptions();',
'\t\t\toptions.fileKey = "file";',
'\t\t\toptions.fileName = targetName;',
'\t\t\toptions.mimeType = "image/jpeg";',
'\t\t\toptions.chunkedMode = false;',
'\t\t\tif(actionOptions.target == \'alphaanywhere\') {',
'\t\t\t\tvar s3URI = encodeURI( $u.s.aTrim({UXPRERENDEREDALIAS}_DlgObj.ajaxURL));',
'\t\t\t\t//s3URI = \'junk\'; //force a file upload error',
'\t\t\t\t//alert(\'remember to turn this off\');',
'\t\t\t\tvar xbasicAfterUpload = actionOptions.xbasicAfterFileUploaded',
'\t\t\t\tvar specialMode = \'\';',
'\t\t\t\tif(typeof actionOptions.specialMode != \'undefined\') specialMode = actionOptions.specialMode;',
'\t\t\t\toptions.params = {',
'\t\t\t\t\t"_XbasicFunction" : "system:phonegapfileupload",',
'\t\t\t\t\t"__Ajax" : "true",',
'\t\t\t\t\t"__FormAction" : "GenericAjaxCallback",',
'\t\t\t\t\t"__FormID" : "",',
'\t\t\t\t\t"__xbasicAfterUpload" : xbasicAfterUpload,',
'\t\t\t\t\t"__arrayIndex" : fileNumber,',
'\t\t\t\t\t"__actionOptions" : JSON.stringify(actionOptions),',
'\t\t\t\t\t"__specialMode" : specialMode,',
'\t\t\t\t\t"__targetName" : targetName,',
'\t\t\t\t\t"__arrayItem" : JSON.stringify(arr[fileNumber]),',
'\t\t\t\t\t"__ajaxURL" : $u.s.aTrim({UXPRERENDEREDALIAS}_DlgObj.ajaxURL)',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\t//s3',
'\t\t\t\tvar obj = s3SignedPolicy();',
'\t\t\t\tvar s3URI = encodeURI(\'https://\' + obj.bucket + \'.s3.amazonaws.com/\'),',
'\t\t\t\t\tpolicyBase64 = obj.policyBase64,',
'\t\t\t\t\tsignature = obj.signature,',
'\t\t\t\t\tawsKey = obj.userKey,',
'\t\t\t\t\tacl = obj.acl;',
'\t\t\t\toptions.params = {',
'\t\t\t\t\t"key": targetName,',
'\t\t\t\t\t"AWSAccessKeyId": awsKey,',
'\t\t\t\t\t"acl": acl,',
'\t\t\t\t\t"policy": policyBase64,',
'\t\t\t\t\t"signature": signature,',
'\t\t\t\t\t"Content-Type": "image/jpeg"',
'\t\t\t\t};',
'\t\t\t}',
'\t\t\tvar setProgress = function(progressId,fileNumber,pctComplete) {',
'\t\t\t\tvar id = \'\';',
'\t\t\t\tvar countCompleted = 0;',
'\t\t\t\tif(fileNumber == \'total\') {',
'\t\t\t\t\tid = progressId + \'.PROGRESS.TOTAL\';',
'\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\tif(arr[i].completed) countCompleted = countCompleted + 1;',
'\t\t\t\t\t}',
'\t\t\t\t\tvar idN = progressId + \'.NAME.TOTAL\';',
'\t\t\t\t\tvar ele = $(idN);',
'\t\t\t\t\t//if(ele) ele.innerHTML = \'Completed: \' + countCompleted +  \' of \' + arr.length;',
'\t\t\t\t} else {',
'\t\t\t\t\tid = progressId + \'.PROGRESS.\' + fileNumber;',
'\t\t\t\t}',
'\t\t\t\tvar ele = $(id);',
'\t\t\t\tif(ele) ele.style.width = pctComplete + \'%\';',
'\t\t\t\tvar idP = progressId + \'.PROGRESSDISPLAY\';',
'\t\t\t\tele = $(idP);',
'\t\t\t\tif(ele) ele.style.display = \'\';',
'\t\t\t}',
'\t\t\tft.onprogress = function(progressEvent) {',
'\t\t\t\tvar totalBytesToTransfer = _sysObj.totalBytesToUpload',
'\t\t\t\tif(typeof _sysObj.workDone == \'undefined\') {',
'\t\t\t\t\t_sysObj.workDone = [];',
'\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\t_sysObj.workDone[i] = 0;',
'\t\t\t\t\t}',
'\t\t\t\t };',
'\t\t\t\t_sysObj.workDone[fileNumber] = progressEvent.loaded;',
'\t\t\t\tvar gTotal = 0;',
'\t\t\t\tfor(var i = 0; i < _sysObj.workDone.length; i++) {',
'\t\t\t\t\tif(typeof _sysObj.workDone[i] != \'undefined\') {',
'\t\t\t\t\t\tgTotal = gTotal + _sysObj.workDone[i];',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar progressId = actionOptions.progress.progressElement;',
'\t\t\t\tif (progressEvent.lengthComputable) {',
'\t\t\t\t\tvar pctComplete = (progressEvent.loaded / progressEvent.total)*100;',
'\t\t\t\t\tif(pctComplete > 100) pctComplete = 100;',
'\t\t\t\t\tpctComplete = $u.n.round(pctComplete,4);',
'\t\t\t\t\tif(actionOptions.showProgress) setProgress(progressId,fileNumber,pctComplete);',
'\t\t\t\t\tif(typeof actionOptions.onProgressEvent == \'function\') {',
'\t\t\t\t\t\tactionOptions.onProgressEvent(arr, fileNumber, pctComplete, progressEvent.loaded, progressEvent.total);',
'\t\t\t\t\t}',
'\t\t\t\t\tvar pctCompleteTotal = (gTotal / totalBytesToTransfer) * 100;',
'\t\t\t\t\tif(pctCompleteTotal > 100) pctCompleteTotal = 100;',
'\t\t\t\t\tpctCompleteTotal = $u.n.round( pctCompleteTotal,4);',
'\t\t\t\t\tif(actionOptions.showProgress) setProgress(progressId,\'total\',pctCompleteTotal);',
'\t\t\t\t\tif(typeof actionOptions.onProgressEvent == \'function\') {',
'\t\t\t\t\t\tactionOptions.onProgressEvent(arr, \'total\', pctCompleteTotal, gTotal, totalBytesToTransfer);',
'\t\t\t\t\t}',
'\t\t\t\t\tif(actionOptions._flagMobile) {',
'\t\t\t\t\t\tif($(\'MOBILEUPLOADPROGRESS.1\')) $(\'MOBILEUPLOADPROGRESS.1\').style.width = pctCompleteTotal + \'%\';',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\t//progress messages not possible -- should never happen',
'\t\t\t\t}',
'\t\t\t};',
'\t\t\tvar _hasCompleted = function() {',
'\t\t\t\tvar flagAllDone = true;',
'\t\t\t\tfor(var i = 0; i < arr.length; i ++) {',
'\t\t\t\t\tif(arr[i].completed == false) {',
'\t\t\t\t\t\tflagAllDone = false;',
'\t\t\t\t\t\tbreak;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\treturn flagAllDone;',
'\t\t\t}',
'\t\t\tvar fileUploadSuccess = function(r) {',
'\t\t\t\tarr[fileNumber].completed = true;',
'\t\t\t\tarr[fileNumber].succeeded = true;',
'\t\t\t\tarr[fileNumber].remoteName = arr[fileNumber].targetName;',
'\t\t\t\t//for uploads to AlphaAnywhere, the Xbasic function that is called can send a response',
'\t\t\t\tif(r.response != \'undefined\') {',
'\t\t\t\t\tif(r.response != \'\') eval(r.response);',
'\t\t\t\t};',
'\t\t\t\t//if the targer is the Alpha server and the Xbasic handler sent a response that set the \'targetFileName\' property',
'\t\t\t\tvar target = actionOptions.target.toLowerCase();',
'\t\t\t\tif(target == \'s3\') {',
'\t\t\t\t\tif(typeof actionOptions.s3.template != \'undefined\') {',
'\t\t\t\t\t\tarr[fileNumber].remoteName = actionOptions.s3.template.replace(\'__name__\',arr[fileNumber].targetName);',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\tif(typeof arr[fileNumber].targetFileName != \'undefined\') {',
'\t\t\t\t\t\tarr[fileNumber].remoteName = arr[fileNumber].targetFileName;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(typeof actionOptions.onCompleteIndividualFile == \'function\') {',
'\t\t\t\t\tactionOptions.onCompleteIndividualFile(arr,fileNumber);',
'\t\t\t\t}',
'\t\t\t\tvar flagAllDone = _hasCompleted();',
'\t\t\t\tif(flagAllDone) {',
'\t\t\t\t\tvar progressId = actionOptions.progress.progressElement;',
'\t\t\t\t\tvar idP = progressId + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\tvar ele = $(idP);',
'\t\t\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t\t\t\tif(typeof actionOptions.onComplete == \'function\') {',
'\t\t\t\t\t\tactionOptions.onComplete(arr);',
'\t\t\t\t\t};',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tvar _hideProgress = function() {',
'\t\t\t\tvar progressId = actionOptions.progress.progressElement;',
'\t\t\t\tvar idP = progressId + \'.PROGRESSDISPLAY\';',
'\t\t\t\tvar ele = $(idP);',
'\t\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t\t}',
'\t\t\tvar fileUploadFailed = function(error) {',
'\t\t\t\tarr[fileNumber].failed = true;',
'\t\t\t\tarr[fileNumber].completed = true;',
'\t\t\t\tif(typeof actionOptions.onError == \'function\') {',
'\t\t\t\t\tactionOptions.onError(arr,fileNumber,error);',
'\t\t\t\t}',
'\t\t\t\tif(typeof actionOptions.onCompleteIndividualFile == \'function\') {',
'\t\t\t\t\tactionOptions.onCompleteIndividualFile(arr,fileNumber);',
'\t\t\t\t}',
'\t\t\t\tvar flagAllDone = _hasCompleted();',
'\t\t\t\tif(flagAllDone) {',
'\t\t\t\t\t_hideProgress();',
'\t\t\t\t\tif(typeof actionOptions.onComplete == \'function\') {',
'\t\t\t\t\t\tactionOptions.onComplete(arr);',
'\t\t\t\t\t}',
'\t\t\t\t};',
'\t\t\t}',
'\t\t\tvar flagOK = true;',
'\t\t\tif(typeof actionOptions.onValidate == \'function\') {',
'\t\t\t\tvar result = actionOptions.onValidate(arr,fileNumber);',
'\t\t\t\tif(typeof result != \'undefined\') flagOK = result;',
'\t\t\t}',
'\t\t\t//do the upload',
'\t\t\tif(flagOK) {',
'\t\t\t\tvar flagTrustAllHosts = false;',
'\t\t\t\tif(typeof _dlgObj != \'undefined\') {',
'\t\t\t\t\tif(typeof _dlgObj._phoneGapTrustAllHosts != \'undefined\') {',
'\t\t\t\t\t\tflagTrustAllHosts = _dlgObj._phoneGapTrustAllHosts;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tft.upload(filenameURI, s3URI, fileUploadSuccess, fileUploadFailed, options,flagTrustAllHosts);',
'\t\t\t} else {',
'\t\t\t\tarr[fileNumber].aborted = true;',
'\t\t\t\tarr[fileNumber].completed = true;',
'\t\t\t}',
'\t\t}',
'\t\tphoneGapUploadDoWork(arr,options);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectory = function(dirName, onComplete, onError) {',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\t//got the filesystem',
'\t\t\tvar onDirCreateSuccess = function(dirEntry) {',
'\t\t\t\tif(typeof onComplete == \'function\') {',
'\t\t\t\t\tonComplete();',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tfs.root.getDirectory(dirName, {create: true},onDirCreateSuccess, onError);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectoryRecurse = function(dirName, onComplete, onError) {',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\tvar prepareWork = function(dir) {',
'\t\t\tvar arr = dir.split(\'/\');',
'\t\t\tvar arr3 = [];',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tvar arr2 = [];',
'\t\t\t\tfor(var k = 0; k < i + 1; k++) {',
'\t\t\t\t\tarr2.push(arr[k]);',
'\t\t\t\t}',
'\t\t\t\tarr3.push(arr2.join(\'/\'));',
'\t\t\t}',
'\t\t\treturn arr3;',
'\t\t}',
'\t\tvar arr = prepareWork(dirName);',
'\t\tvar count = 0;',
'\t\tvar onCompleteLocal = function() {',
'\t\t\tif(count == arr.length) {',
'\t\t\t\tonComplete();',
'\t\t\t} else {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectory(arr[count],onCompleteLocal,onError);',
'\t\t\t\t++count;',
'\t\t\t}',
'\t\t}',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectory(arr[count],onCompleteLocal,onError);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectory = function(dirName, onComplete, onError) {',
'\t\t//calls onComplete with an array of files in the directory',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\t//got filesystem event handler',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tif(dirName.indexOf(\'/\') == 0) dirName = dirName.substring(1);',
'\t\t\t//got the fileSystem',
'\t\t\t//alert(\'got fs - dirName:  \' + dirName);',
'\t\t\tfs.root.getDirectory(dirName,{},function(e) {',
'\t\t\tvar dirReader = e.createReader();',
'\t\t\tvar listFiles = function(entries) {',
'\t\t\t\tvar fileCount = entries.length;',
'\t\t\t\tvar arr = [];',
'\t\t\t\tvar displayName = \'\';',
'\t\t\t\tfor(var i = 0; i < fileCount ; i++) {',
'\t\t\t\t\tif(entries[i].isFile) displayName = entries[i].fullPath + \' [F]\';',
'\t\t\t\t\telse displayName = entries[i].fullPath + \' [D]\';',
'\t\t\t\t\tarr.push( {fullPath: entries[i].fullPath, isFile: entries[i].isFile, display: displayName } );',
'\t\t\t\t}',
'\t\t\t\tif(typeof onComplete == \'function\') {',
'\t\t\t\t\tonComplete(arr);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tdirReader.readEntries(listFiles,onError);',
'\t\t},onError);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectoryRecurse = function(folder, onDirComplete, onDirError) {',
'\t\t//onDirComplete gets called with files, an array of all files. each array entry has a \'fileName\' property.',
'\t\tvar files = [];',
'\t\tvar pending = 0;',
'\t\tvar onComplete = function(array) {',
'\t\t\tfor(var i = 0; i < array.length; i++) {',
'\t\t\t\tif(array[i].isFile) {',
'\t\t\t\t\tfiles.push({fullPath: array[i].fullPath, isFile: true, display: array[i].fullPath + \' [F]\'})',
'\t\t\t\t} else {',
'\t\t\t\t\t++pending;',
'\t\t\t\t\tfiles.push({fullPath: array[i].fullPath, isFile: false, display: array[i].fullPath + \' [D]\'})',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectory(array[i].fullPath,onComplete,onError)',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t--pending;',
'\t\t\tif(pending == 0) {',
'\t\t\t\tonDirComplete(files);',
'\t\t\t}',
'\t\t}',
'\t\tvar onError = function(err) {',
'\t\t\tif(typeof onDirError == \'function\') {',
'\t\t\t\tonDirError(err);',
'\t\t\t\tonDirComplete = function() { } //prevent the all complete from firing',
'\t\t\t}',
'\t\t\telse alert(\'Error\');',
'\t\t}',
'\t\t++pending;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectory(folder,onComplete,onError);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectory = function(dirName,onSuccess,onError,flagRecursive) {',
'\t\tif(typeof flagRecursive == \'undefined\') flagRecursive = false;',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar gotDirectory = function(dirEntry) {',
'\t\t\t\tif(flagRecursive) {',
'\t\t\t\t\tdirEntry.removeRecursively(function() {',
'\t\t\t\t\t\tif(typeof onSuccess == \'function\') onSuccess();',
'\t\t\t\t\t},onError);',
'\t\t\t\t} else {',
'\t\t\t\t\tdirEntry.remove(function() {',
'\t\t\t\t\t\tif(typeof onSuccess == \'function\') onSuccess();',
'\t\t\t\t\t},onError);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t//if you cant find the dir then it is effectively removed, so call onSuccess',
'\t\t\tfs.root.getDirectory(dirName, {}, gotDirectory, onSuccess);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectoryRecurse = function(dirName,onSuccess,onError) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectory(dirName,onSuccess,onError,true);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFile = function(fileName,onSuccess,onError) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tfs.root.getFile(fileName, {create: false}, function(f) {',
'\t\t\t\tf.remove( function() {',
'\t\t\t\t\tif(typeof onSuccess == \'function\') {',
'\t\t\t\t\t\tonSuccess();',
'\t\t\t\t\t}',
'\t\t\t\t}, onError );',
'\t\t\t}, onError);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileExists = function(fileName,onResult,onFailed) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar gotFile = function(f) {',
'\t\t\t\tif(typeof onResult == \'function\') onResult(true);',
'\t\t\t}',
'\t\t\tvar didNotGetFile = function() {',
'\t\t\t\tif(typeof onResult == \'function\') onResult(false);',
'\t\t\t}',
'\t\t\tfs.root.getFile(fileName, {create: false}, gotFile,didNotGetFile);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onFailed );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapReadFile = function(fileName,onReadFile,onReadFileERROR,startAt,endAt) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar readFile = function(f) {',
'\t\t\t\tf.file( function(e) {',
'\t\t\t\t\treader = new FileReader();',
'\t\t\t\t\treader.onloadend = function(e) {',
'\t\t\t\t\t\tif(typeof onReadFile == \'function\') {',
'\t\t\t\t\t\t\tonReadFile(e.target.result);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tif(typeof startAt == \'undefined\' || typeof endAt == \'undefined\') {',
'\t\t\t\t\t\treader.readAsText(e);',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tvar blob = e.slice(startAt,endAt);',
'\t\t\t\t\t\treader.readAsText(blob);',
'\t\t\t\t\t}',
'\t\t\t\t});',
'\t\t\t}',
'\t\t\tfs.root.getFile(fileName, {create: false}, readFile, onReadFileERROR);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onReadFileERROR );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj._phoneGapCreateFile_low = function(fileName,text,onCreatedFile,onCreateFileERROR) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar writeFileData = function(f) {',
'\t\t\t\tvar doFileWrite = function(writerObject) {',
'\t\t\t\t\twriterObject.onwrite = function() {',
'\t\t\t\t\t\tif(typeof onCreatedFile == \'function\') onCreatedFile();',
'\t\t\t\t\t}',
'\t\t\t\t\twriterObject.seek(writerObject.length);',
'\t\t\t\t\tvar blob = new Blob([text], {type: \'text/plain\'});',
'\t\t\t\t\twriterObject.write(blob);',
'\t\t\t\t}',
'\t\t\t\tf.createWriter(doFileWrite);',
'\t\t\t}',
'\t\t\tfs.root.getFile(fileName, {create:true}, writeFileData, onCreateFileERROR);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onCreateFileERROR );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateFile = function(fileName,text,onCreatedFile,onCreateFileERROR,flagAppend) {',
'\t\tif(fileName == \'\') {if(typeof onCreateFileERROR == \'function\') onCreateFileERROR(); return false;}',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tif(!flagAppend) {',
'\t\t\t\tvar onDelete = function() {',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._phoneGapCreateFile_low(fileName,text,onCreatedFile,onCreateFileERROR);',
'\t\t\t\t}',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFile(fileName,onDelete,onDelete)',
'\t\t\t} else {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._phoneGapCreateFile_low(fileName,text,onCreatedFile,onCreateFileERROR)',
'\t\t\t}',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onCreateFileERROR );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileDownload = function(arr,options) {',
'\t\tvar flagCustomOnError = false;',
'\t\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents != \'undefined\') flagCustomOnError = {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents;',
'\t\tif(!flagCustomOnError) window.onerror = function(err) { alert(\'Unhandled Javascript Error - phoneGapFileDownload:  \' + JSON.stringify(err));}',
'\t\tvar _dlgObj = this;',
'\t\tif(typeof LocalFileSystem == \'undefined\') {',
'\t\t\tif(typeof cordova == \'undefined\') {',
'\t\t\t\talert(\'Method not supported when not running in PhoneGap\');',
'\t\t\t} else {',
'\t\t\t\talert(\'Required PhoneGap plugins not loaded.\');',
'\t\t\t}',
'\t\t\treturn false;',
'\t\t}',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\t//got filesystem event handler',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tarr[i].handled = false;',
'\t\t\tarr[i].downloaded = false;',
'\t\t\tarr[i].sourceType = \'server\';',
'\t\t\tif(arr[i].filename.toLowerCase().indexOf(\'http://\') == 0) arr[i].sourceType = \'url\';',
'\t\t\tif(arr[i].filename.toLowerCase().indexOf(\'https://\') == 0) arr[i].sourceType = \'url\';',
'\t\t\tif(arr[i].sourceType == \'url\') {',
'\t\t\t\tarr[i].sourceFilename = arr[i].filename.split(\'/\').pop().split(\'?\')[0];',
'\t\t\t}',
'\t\t}',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar baseDirectory = fs.root.toURL();',
'\t\t\tvar url = {UXPRERENDEREDALIAS}_DlgObj.ajaxURL;',
'\t\t\turl = url.split(\'?\')[0];',
'\t\t\turl = url.split(\'/\');',
'\t\t\turl.pop();',
'\t\t\turl = url.join(\'/\') + \'/\';',
'\t\t\toptions._serverURL = url;',
'\t\t\toptions._baseDirectory = baseDirectory;',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t//arr[i].localFileName = false;',
'\t\t\t}',
'\t\t\tif(options.showProgress) {',
'\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\tvar idProgress = eleTarget;',
'\t\t\t\tvar ele = $(idProgress);',
'\t\t\t\tif(!ele) options.showProgress = false; //set to false or else you will hang iOS',
'\t\t\t}',
'\t\t\tif(options.showProgress) {',
'\t\t\t\tvar ops = options.progress;',
'\t\t\t\tops.totalFileSize = options.totalFileSize;',
'\t\t\t\tvar eleTarget = ops.progressElement;',
'\t\t\t\teleTarget = eleTarget.toUpperCase();',
'\t\t\t\tvar html = \'\';',
'\t\t\t\tvar html_i = \'\';',
'\t\t\t\tvar name_i = \'\';',
'\t\t\t\tvar progress_i = \'\';',
'\t\t\t\tvar idName = \'\';',
'\t\t\t\tvar idProgress = \'\';',
'\t\t\t\tidProgress = eleTarget + \'.PROGRESS.TOTAL\';',
'\t\t\t\tidName = eleTarget + \'.NAME.TOTAL\';',
'\t\t\t\tprogress_i = \'<div style="border: solid 1px \'+ops.color+\'; width: \'+ops.width+\';">\';',
'\t\t\t\tprogress_i += \'<div id="\'+idProgress+\'"style="width: 0%; height: .05in;  background-color:\'+ops.color+\';"></div></div>\';',
'\t\t\t\thtml_i = \'<div id="\'+idName+\'"></div>\'+progress_i;',
'\t\t\t\thtml = html + html_i',
'\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\thtml = \'<div id="\'+idProgress+\'">\' + html + \'<div>\';',
'\t\t\t\tif ($(eleTarget)) $(eleTarget).innerHTML = html;',
'\t\t\t\tvar showProgress = function(pct) {',
'\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESS.TOTAL\';',
'\t\t\t\t\tvar ele = $(idProgress);',
'\t\t\t\t\tif(ele) ele.style.width = pct + \'%\';',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\tvar showProgress = function(pct) { };',
'\t\t\t}',
'\t\t\tvar phoneGapFileDownload_low = function(arr,i,options) {',
'\t\t\t\tvar targetFolder = options.targetFolder;',
'\t\t\t\tif(targetFolder != \'\') targetFolder = targetFolder + \'/\';',
'\t\t\t\tvar fnLocal = options._baseDirectory + targetFolder + arr[i].filename;',
'\t\t\t\tif(arr[i].sourceType == \'url\') {',
'\t\t\t\t\tfnLocal = options._baseDirectory + targetFolder +arr[i].sourceFilename;',
'\t\t\t\t}',
'\t\t\t\t//if the targetFolder is <SQLite>|localdbname.db user is doing a special download to the SQL database folder',
'\t\t\t\tvar flagSQLite = false;',
'\t\t\t\t/*',
'\t\t\t\tif(targetFolder.indexOf(\'<SQLite>\') == 0) {',
'\t\t\t\t\tvar localDBName = targetFolder.split(\'|\')[1];',
'\t\t\t\t\tlocalDBName = localDBName.split(\'/\')[0];',
'\t\t\t\t\tflagSQLite = true;',
'\t\t\t\t\tvar thisPackageName = \'\';',
'\t\t\t\t\tthisPackageName = _phoneGapSettings().appId ;',
'\t\t\t\t\tvar localDbFileUrl = \t{',
'\t\t\t\t\t\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + localDBName,',
'\t\t\t\t\t\t\tios: \'cdvfile://localhost/persistent/\' + localDBName',
'\t\t\t\t\t\t\t//cdvfile://localhost/persistent/sqlite/\' + localDBName',
'\t\t\t\t\t\t};',
'\t\t\t\t\tif(typeof device == \'undefined\') {',
'\t\t\t\t\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar thisDevice = device.platform;',
'\t\t\t\t\tvar fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\t\t\t\t\tconsole.log(\'database location: \' + fileUrl);',
'\t\t\t\t\tfnLocal = fileUrl;',
'\t\t\t\t}',
'\t\t\t\t*/',
'\t\t\t\t///////////////////// new code /////////////////',
'\t\t\t\tif(targetFolder.indexOf(\'<SQLite>\') == 0) {',
'\t\t\t\t\tvar localDBName = targetFolder.split(\'|\')[1];',
'\t\t\t\t\tlocalDBName = localDBName.split(\'/\')[0];',
'\t\t\t\t\tflagSQLite = true;',
'\t\t\t\t\tvar thisPackageName = \'\';',
'\t\t\t\t\tthisPackageName = _phoneGapSettings().appId ;',
'\t\t\t\t\tvar localDbFileUrl = {',
'\t\t\t\t\t\t// Android note: This entry was tested and works on Android 6.01, 5.5.1, 4.4.2',
'\t\t\t\t\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + localDBName,',
'\t\t\t\t\t\t// iOS Note: dataDirectory will point to ..appid/Library/NoCloud',
'\t\t\t\t\t\t// This is not exposed to iTunes or iCloud',
'\t\t\t\t\t\tios: cordova.file.dataDirectory + localDBName',
'\t\t\t\t\t};',
'\t\t\t\t\tif(typeof device == \'undefined\') {',
'\t\t\t\t\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar thisDevice = device.platform;',
'\t\t\t\t\tvar fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\t\t\t\t\tconsole.log(\'.phoneGapFileDownload reports fileUrl: \' + fileUrl);',
'\t\t\t\t\tfnLocal = fileUrl;',
'\t\t\t\t}',
'\t\t\t\t/////////////////// end new code ////////////////',
'\t\t\t\tvar fileFound = function() {',
'\t\t\t\t\tvar forceDownload = false;',
'\t\t\t\t\tforceDownload = options.forceDownloadIfFileExists;',
'\t\t\t\t\tif(typeof forceDownload == \'undefined\') forceDownload = false;',
'\t\t\t\t\tif(forceDownload) {',
'\t\t\t\t\t\tfileNotFound();',
'\t\t\t\t\t\treturn true;',
'\t\t\t\t\t}',
'\t\t\t\t\tarr[i].handled = true;',
'\t\t\t\t\tarr[i].found = true;',
'\t\t\t\t\tarr[i].localFilename = fnLocal;',
'\t\t\t\t\tarr[i].success = true;',
'\t\t\t\t\tvar allHandled = true;',
'\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\tif(!arr[k].handled) {',
'\t\t\t\t\t\t\tallHandled = false;',
'\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tif(allHandled) {',
'\t\t\t\t\t\tif(typeof options.onComplete == \'function\') options.onComplete(arr);',
'\t\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\t\tvar ele = $(idProgress);',
'\t\t\t\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar fileNotFound = function() {',
'\t\t\t\t\t//file was not in the local filesystem so must download it.',
'\t\t\t\t\tarr[i].found = false;',
'\t\t\t\t\tarr[i].localFilename = fnLocal;',
'\t\t\t\t\tvar url2 = options._serverURL + arr[i].filename;',
'\t\t\t\t\tif(arr[i].sourceType == \'url\') {',
'\t\t\t\t\t\turl2 = arr[i].filename;',
'\t\t\t\t\t}',
'\t\t\t\t\tvar ft = new FileTransfer();',
'\t\t\t\t\tft.onprogress = function(progressEvent) {',
'\t\t\t\t\t\tif (progressEvent.lengthComputable) {',
'\t\t\t\t\t\t\tarr[i].totalBytes = progressEvent.total;',
'\t\t\t\t\t\t\tarr[i].bytesLoaded = progressEvent.loaded;',
'\t\t\t\t\t\t\tvar totalSize = -1;',
'\t\t\t\t\t\t\tif(typeof options != \'undefined\') {',
'\t\t\t\t\t\t\t\ttotalSize = options.totalFileSize;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tif(typeof totalSize == \'undefined\') totalSize = -1;',
'\t\t\t\t\t\t\tif(totalSize == -1) {',
'\t\t\t\t\t\t\t\tvar pctComplete = (progressEvent.loaded / progressEvent.total)*100;',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\tvar pctComplete = (progressEvent.loaded / totalSize)*100;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tif(pctComplete > 100) pctComplete = 100;',
'\t\t\t\t\t\t\tpctComplete = $u.n.round(pctComplete,4);',
'\t\t\t\t\t\t\tarr[i].pctComplete = pctComplete;',
'\t\t\t\t\t\t\tvar totalBytes = 0;',
'\t\t\t\t\t\t\tvar loaded = 0;',
'\t\t\t\t\t\t\tvar pctCompleteTotal = 0;',
'\t\t\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\t\t\tif(typeof arr[k].totalBytes != \'undefined\') {',
'\t\t\t\t\t\t\t\t\ttotalBytes = totalBytes + arr[k].totalBytes;',
'\t\t\t\t\t\t\t\t\tloaded = loaded + arr[k].bytesLoaded;',
'\t\t\t\t\t\t\t\t\tpctCompleteTotal = (loaded/totalBytes) * 100;',
'\t\t\t\t\t\t\t\t\tif(totalSize > 0) {',
'\t\t\t\t\t\t\t\t\t\tpctCompleteTotal = (loaded/totalSize) * 100;',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\t//don\'t start showing progress till you have got the size of every file',
'\t\t\t\t\t\t\t\t\t//or else the progress bar will jump around',
'\t\t\t\t\t\t\t\t\tvar flagStartShowingProgress = true;',
'\t\t\t\t\t\t\t\t\t//we don\'t do the inner loop anymore because we are going to start showing progress immediately',
'\t\t\t\t\t\t\t\t\t/*',
'\t\t\t\t\t\t\t\t\tfor(var j = 0; j < arr.length; j++) {',
'\t\t\t\t\t\t\t\t\t\tif(typeof arr[j].totalBytes == \'undefined\') {',
'\t\t\t\t\t\t\t\t\t\t\t//$(\'msg1\').innerHTML = \'not started: \' + arr[j].filename   + \'<br>\' + $(\'msg1\').innerHTML;',
'\t\t\t\t\t\t\t\t\t\t\tflagStartShowingProgress = false;',
'\t\t\t\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\t*/',
'\t\t\t\t\t\t\t\t\tif(flagStartShowingProgress || true ) showProgress(pctCompleteTotal);',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\talert(\'length NOT computable\');',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar flagTrustAllHosts = false;',
'\t\t\t\t\tif(typeof _dlgObj._phoneGapTrustAllHosts != \'undefined\') {',
'\t\t\t\t\t\tflagTrustAllHosts = _dlgObj._phoneGapTrustAllHosts;',
'\t\t\t\t\t}',
'\t\t\t\t\tft.download(url2, fnLocal,',
'\t\t\t\t\t\t\tfunction(entry) {',
'\t\t\t\t\t\t\t\t//alert(\'Success! \' + fnLocal);',
'\t\t\t\t\t\t\t\t//alert(\'number: \' + i );',
'\t\t\t\t\t\t\t\t//alert(JSON.stringify(entry));',
'\t\t\t\t\t\t\t\tarr[i].success = true;',
'\t\t\t\t\t\t\t\tarr[i].handled = true;',
'\t\t\t\t\t\t\t\tarr[i].downloaded = true;',
'\t\t\t\t\t\t\t\t//fileAllDone();',
'\t\t\t\t\t\t\t\tvar allHandled = true;',
'\t\t\t\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\t\t\t\tif(!arr[k].handled) {',
'\t\t\t\t\t\t\t\t\t\tallHandled = false;',
'\t\t\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\tif(allHandled) {',
'\t\t\t\t\t\t\t\t\tif(typeof options.onComplete == \'function\') options.onComplete(arr);',
'\t\t\t\t\t\t\t\t\tif(options.showProgress) {',
'\t\t\t\t\t\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\t\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\t\t\t\t\t\t$(idProgress).style.display = \'none\';',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t},',
'\t\t\t\t\t\t\tfunction(err) {',
'\t\t\t\t\t\t\t\t//alert(\'Error in file transfer: \' + fnLocal);',
'\t\t\t\t\t\t\t\t//debugger;',
'\t\t\t\t\t\t\t\tarr[i].success = false;',
'\t\t\t\t\t\t\t\tarr[i].errorText = JSON.stringify(err);',
'\t\t\t\t\t\t\t\tarr[i].handled = true;',
'\t\t\t\t\t\t\t\t//fileAllDone();',
'\t\t\t\t\t\t\t\tvar allHandled = true;',
'\t\t\t\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\t\t\t\tif(!arr[k].handled) {',
'\t\t\t\t\t\t\t\t\t\tallHandled = false;',
'\t\t\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\tif(allHandled) {',
'\t\t\t\t\t\t\t\t\tif(typeof options.onComplete == \'function\') options.onComplete(arr);',
'\t\t\t\t\t\t\t\t\tif(options.showProgress) {',
'\t\t\t\t\t\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\t\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\t\t\t\t\t\tif($(idProgress)) $(idProgress).style.display = \'none\';',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t},',
'\t\t\t\t\t\t\tflagTrustAllHosts',
'\t\t\t\t\t);',
'\t\t\t\t\t//end fetch file  ---------------------------------------',
'\t\t\t\t\t//true/false -- trustAllHosts parameter',
'\t\t\t\t}',
'\t\t\t\twindow.resolveLocalFileSystemURL(fnLocal, fileFound, fileNotFound);',
'\t\t\t}',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tphoneGapFileDownload_low(arr,i,options)',
'\t\t\t}',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\tA5.ts = function() {',
'\t\tvar d = new Date()',
'\t\treturn d.getTime().toString(36);',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetFileSystemURIForLegacyPersistentStorage = function(ok,fail) {',
'\tvar _ok = ok;',
'\tvar onFSSuccess = function(fs) {',
'\t\tvar uri = fs.root.filesystem.root.nativeURL;',
'\t\t_ok(uri);',
'\t}',
'\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, fail );',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.base64DataToBlob = function(dataURI) {',
'\t//data:image/jpeg;base64,/',
'\t// convert base64/URLEncoded data component to raw binary data held in a string',
'    var byteString;',
'    if (dataURI.split(\',\')[0].indexOf(\'base64\') >= 0)',
'        byteString = atob(dataURI.split(\',\')[1]);',
'    else',
'        byteString = unescape(dataURI.split(\',\')[1]);',
'    // separate out the mime component',
'    var mimeString = dataURI.split(\',\')[0].split(\':\')[1].split(\';\')[0];',
'    // write the bytes of the string to a typed array',
'    var ia = new Uint8Array(byteString.length);',
'    for (var i = 0; i < byteString.length; i++) {',
'        ia[i] = byteString.charCodeAt(i);',
'    }',
'    return new Blob([ia], {type:mimeString});',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteDownloadDatabase = function(SQLiteDBURL,localDBName,onComplete,onError,optionsIn) {',
'\tif(SQLiteDBURL.indexOf(\'http://\') == 0 || SQLiteDBURL.indexOf(\'https://\') == 0) {',
'\t\t//don\'t need to add the baseURL',
'\t} else {',
'\t\tvar url = {UXPRERENDEREDALIAS}_DlgObj.ajaxURL;',
'\t\turl = url.split(\'?\')[0];',
'\t\turl = url.split(\'/\');',
'\t\turl.pop();',
'\t\turl = url.join(\'/\') + \'/\';',
'\t\tSQLiteDBURL =  url + SQLiteDBURL;',
'\t}',
'\tif(typeof onError != \'function\') {',
'\t\tonError = function(error) {',
'\t\t\talert(\'Database Download Failed. File transfer error: \'+error);',
'\t\t}',
'\t}',
'\tif(typeof _phoneGapSettings == \'undefined\') {',
'\t\talert(\'PhoneGap not loaded\');',
'\t\treturn false;',
'\t}',
'\tvar flagSQL = _phoneGapSettings().plugins[\'cordova-sqlite-ext\'];   //com.brodysoft.sqliteplugin',
'\tflagSQL = true;',
'\tif(typeof flagSQL == \'undefined\') flagSQL = false;',
'\tif(!flagSQL) {',
'\t\talert(\'SQLitePluginExt not loaded\');',
'\t\treturn false;',
'\t}',
'\t////////////////////',
'\tif(typeof optionsIn == \'undefined\') {',
'\t\tvar ops = {',
'\t\t\tshowProgress : false,',
'\t\t\tforceDownloadIfFileExists : true',
'\t\t\t}',
'\t} else {',
'\t\tvar ops = optionsIn',
'\t}',
'\tvar arr = [];',
'\tarr.push({filename: SQLiteDBURL});',
'\tvar options = {};',
'\toptions.targetFolder = \'<SQLite>|\' + localDBName;',
'\toptions.onComplete = function() {',
'\t\tonComplete.call();',
'\t}',
'\toptions.onError = function() { onError.call() };',
'\toptions.showProgress = ops.showProgress;',
'\toptions.forceDownloadIfFileExists = ops.forceDownloadIfFileExists;',
'\tif(options.showProgress) {',
'\t\toptions.progress = ops.progress;',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileDownload(arr,options);',
'\t///////////////////////////////////',
'\t/*',
'\tvar thisPackageName = \'\';',
'\tthisPackageName = _phoneGapSettings().appId ;',
'\t//alert(thisPackageName)',
'\tvar localDbFileUrl = \t{',
'\t\t\t\t\t\t\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + localDBName,',
'\t\t\t\t\t\t\t\tios: \'cdvfile://localhost/persistent/\' + localDBName',
'\t\t\t\t\t\t\t};',
'\tif(typeof device == \'undefined\') {',
'\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t}',
'\tvar thisDevice = device.platform;',
'\tvar fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\tvar fileTransfer = new FileTransfer();',
'\tvar uri = encodeURI(SQLiteDBURL);',
'\tvar options = {};',
'\tfileTransfer.download(uri,fileUrl,onComplete,onError,false,options);',
'\t*/',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteExecuteSQL = function(dbName,sql,argumentsIn,onSuccess,onError, onTransactionSuccess, onTransactionError) {',
'\tvar flagCustomOnError = false;',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents != \'undefined\') flagCustomOnError = {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents;',
'\tif(!flagCustomOnError) window.onerror = function(err) { alert(\'Unhandled Javascript Error - SQliteExecuteSQL:  \' + JSON.stringify(err));}',
'\tvar flagSQL = _phoneGapSettings().plugins[\'cordova-sqlite-ext\'];   //com.brodysoft.sqliteplugin',
'\t\tflagSQL = true;',
'\t\tif(typeof flagSQL == \'undefined\') flagSQL = false;',
'\t\tif(!flagSQL) {',
'\t\t\talert(\'SQLitePluginExt not loaded\');',
'\t\t\treturn false;',
'\t}',
'\tif(typeof onSuccess == \'undefined\') onSuccess = false;',
'\tif(typeof onError == \'undefined\') onError = false;',
'\tif(typeof argumentsIn == \'undefined\' || argumentsIn.constructor != Array) argumentsIn = [];',
'\tif(onSuccess.constructor != Array)  {',
'\t\tif(typeof onSuccess != \'function\') {',
'\t\t\tonSuccess = function(tx,result) {',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(onError.constructor != Array)  {',
'\t\tif(typeof onError != \'function\') {',
'\t\t\t\tonError = function(e) {',
'\t\t\t\t}',
'\t\t}',
'\t}',
'\tif(typeof device == \'undefined\') {',
'\t\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t}',
'\tvar flagArrayOfObjects = false;',
'\tif(sql.constructor == Array) {',
'\t\tif(sql[0].constructor == Object) {',
'\t\t\tflagArrayOfObjects = true;',
'\t\t}',
'\t}',
'\tif(flagArrayOfObjects) {',
'\t\tvar a = sql;',
'\t\tdelete sql;',
'\t\tsql = [];',
'\t\targumentsIn = [];',
'\t\tonSuccess = [];',
'\t\tonError = [];',
'\t\tfor(var i = 0; i < a.length; i++) {',
'\t\t\tsql[i] = a[i].sql;',
'\t\t\tif(typeof a[i].arguments != \'undefined\') {',
'\t\t\t\targumentsIn[i] = a[i].arguments;',
'\t\t\t} else {',
'\t\t\t\targumentsIn[i] = [];',
'\t\t\t}',
'\t\t\tif(typeof a[i].onSuccess != \'undefined\') {',
'\t\t\t\tonSuccess[i] = a[i].onSuccess;',
'\t\t\t} else {',
'\t\t\t\tonSuccess[i] = function() { };',
'\t\t\t}',
'\t\t\tif(typeof a[i].onError != \'undefined\') {',
'\t\t\t\tonError[i] = a[i].onError;',
'\t\t\t} else {',
'\t\t\t\tonError[i] = function() { };',
'\t\t\t}',
'\t\t}',
'\t}',
'\t/*',
'\tvar thisDevice = device.platform;',
'\t//var dbFilename = thisDevice == \'Android\' ? dbName:\'files/\' + dbName;',
'\tvar thisPackageName = \'\';',
'\tthisPackageName = _phoneGapSettings().appId ;',
'\tvar localDbFileUrl = \t{',
'\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + dbName,',
'\t\tios: \'cdvfile://localhost/persistent/\' + dbName',
'\t\t//cdvfile://localhost/persistent/sqlite/\' + localDBName',
'\t};',
'\tvar dbFilename = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\tconsole.log(\'database location: \' + dbFilename);',
'\tdelete db;',
'\tif(typeof window.sqlitePlugin == \'undefined\') {',
'\t\talert(\'Error: PhoneGap SQLite plugin not loaded.\');',
'\t}',
'\tvar db = window.sqlitePlugin.openDatabase({name:dbFilename,location:2});',
'\t*/',
'\t///////////////// new code starts here/////////////',
'\t//start here........',
'\tvar thisDevice = device.platform;',
'\tvar dbFilename = thisDevice == \'Android\' ? dbName:\'NoCloud/\' + dbName;   //NoCloud -- no exposed to iTunes and not backed up to iCloud',
'\tconsole.log(\'.SQLiteExecuteSQL: database location = \' + dbFilename);',
'\tif(typeof window.sqlitePlugin == \'undefined\') {',
'\t\talert(\'Error: PhoneGap SQLite plugin not loaded.\');',
'\t}',
'\tvar location = \'download\';',
'\tif( dbName.indexOf(\'root:\') == 0) {',
'\t\tlocation = \'root\';',
'\t\tdbName = dbName.split(\'root:\')[1];',
'\t}',
'\t//this is for a db that is downloaded from the server',
'\tif(location == \'download\') {',
'\t\tvar db = window.sqlitePlugin.openDatabase({name:dbFilename,location:1});',
'\t} else {',
'\t\t//if the db is in the webroot (pre-populated), then use this code',
'\t\tvar db = window.sqlitePlugin.openDatabase({name: dbName , location: 2, createFromLocation: 1});',
'\t}',
'\t///// end here.....',
'\t///////////////////new code ends here ////////////////',
'\tdb.transaction(',
'\t\tfunction(tx) {',
'\t\t\t//array of sql statements or array of array',
'\t\t\tvar flagArrayOfArrays = false;',
'\t\t\ttry{if(argumentsIn[0].constructor == Array) flagArrayOfArrays = true;} catch(e) {}',
'\t\t\tif(sql.constructor == Array || flagArrayOfArrays) {',
'\t\t\t\tif(sql.constructor == Array) {',
'\t\t\t\t\tvar sql_length = sql.length;',
'\t\t\t\t} else {',
'\t\t\t\t\tvar sql_length = argumentsIn.length;',
'\t\t\t\t}',
'\t\t\t\tvar i = 0;',
'\t\t\t\tfunction _lowSQL(transObj) {',
'\t\t\t\t\tif(sql.constructor == Array) {',
'\t\t\t\t\t\tvar sql_i = sql[i];',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tvar sql_i = sql;',
'\t\t\t\t\t}',
'\t\t\t\t\tvar args_i = argumentsIn[i];',
'\t\t\t\t\tif(typeof args_i != \'undefined\') {',
'\t\t\t\t\t\tfor(var j = 0; j < args_i.length; j++) {',
'\t\t\t\t\t\t\tif(typeof args_i[j] == \'function\') {',
'\t\t\t\t\t\t\t\tvar result = args_i[j].call(this,transObj);',
'\t\t\t\t\t\t\t\targs_i[j] = result;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar success_i = function(tx2,result) {',
'\t\t\t\t\t\tvar resultArray = {UXPRERENDEREDALIAS}_DlgObj.SQLiteResultSetToArray(result);',
'\t\t\t\t\t\tif(onSuccess.constructor == Array) {',
'\t\t\t\t\t\t\tonSuccess[i].call(this,tx2,result,resultArray,transObj);',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\tonSuccess.call(this,tx2,result,resultArray,transObj);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\ti++;',
'\t\t\t\t\t\tif(i < sql_length) {',
'\t\t\t\t\t\t\t_lowSQL(transObj);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar error_i = function(e) {',
'\t\t\t\t\t\tif(onError.constructor == Array) {',
'\t\t\t\t\t\t\tonError[i].call(this,e);',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\tonError.call(this,e);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\ttx.executeSql(sql_i,args_i,success_i,error_i);',
'\t\t\t\t}',
'\t\t\t\t_lowSQL({});',
'\t\t\t} else {',
'\t\t\t\t//single sql statement',
'\t\t\t\ttx.executeSql(sql,argumentsIn,function(tx,result) {',
'\t\t\t\t\tvar resultArray = {UXPRERENDEREDALIAS}_DlgObj.SQLiteResultSetToArray(result);',
'\t\t\t\t\tonSuccess.call(this,tx,result,resultArray);',
'\t\t\t\t}, function(e) {onError.call(this,e); });',
'\t\t\t}',
'\t\t},',
'\t\tfunction(e) { /*transaction failure*/ if(typeof onTransactionError == \'function\') { onTransactionError.call(this);} db.close(); },',
'\t\tfunction() { /*transaction success*/ if(typeof onTransactionSuccess == \'function\') { onTransactionSuccess.call(this);} db.close();  }',
'\t);',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteResultSetToArray = function(result) {',
'\tvar array = [];',
'\tif (result !=null && result.rows != null){',
'\t\tfor (var i = 0; i < result.rows.length; i++) {',
'\t\t\tarray.push(result.rows.item(i));',
'\t\t}',
'\t}',
'\treturn array;',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteDeleteDatabase = function(dbName,successCB,errorCB,location) {',
'\tvar flagSQL = _phoneGapSettings().plugins[\'cordova-sqlite-ext\'];   //com.brodysoft.sqliteplugin',
'\t\tflagSQL = true;',
'\t\tif(typeof flagSQL == \'undefined\') flagSQL = false;',
'\t\tif(!flagSQL) {',
'\t\t\talert(\'SQLitePluginExt not loaded\');',
'\t\t\treturn false;',
'\t}',
'\t/*',
'\tif(typeof location == \'undefined\') location = 2;',
'\t*/',
'\t///// new code /////',
'\tif(typeof location == \'undefined\') location = 1;',
'\t///// end new code /////',
'\twindow.sqlitePlugin.deleteDatabase({name: dbName, location: location}, successCB, errorCB);',
'}',
'////////////////////////////////////////',
'{UXPRERENDEREDALIAS}_DlgObj.submitListDataAndMediaFiles = function(listName,xbCallbackFunction,ajaxObject,mediaFileUploadObject) {',
'\t//first, upload media files, then upload dirty records in a list and then call xbCallbackFunction on the server side. Uploaded data will be in e._listData in the Xbasic function',
'\t/*',
'\tExample syntax:',
'\tvar ajaxObject = {',
'\t\terrorFunction: function() { alert(\'failed ajax\'); },',
'\t\tonComplete: function() { alert(\'ajax done\');},',
'\t\tdeviceOfflineFunction: function() { alert(\'offline \');  }',
'\t}',
'\tvar objUpload = {',
'\t\ttarget: \'alphaanywhere\',',
'\t\tshowProgress: true,',
'\t\tonComplete: function(array) {},',
'\t\tonMediaUploadErrors: function(array) { alert(\'there were media upload errors\');},',
'\t\txbasicAfterFileUploaded: \'xbAfterUpload\',',
'\t\tprogress: {',
'\t\t\tcolor: \'#9fa1e8\',',
'\t\t\twidth: \'300px\',',
'\t\t\tindividualProgress: false,',
'\t\t\tshowTotalProgress: true,',
'\t\t\tallowCancel: false,',
'\t\t\tprogressElement: \'{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_2\'',
'\t\t}',
'\t}',
'\t//to upload to s3',
'\ttarget: \'s3\',',
'\t\ts3: {',
'\t\t\tconnectionString: \'alphamediacapture\',',
'\t\t\tprotectedRead: false,',
'\t\t\ttemplate: \'https://alphamediacapture.s3.amazonaws.com/__name__\'',
'\t},',
'\t///////',
'\t{UXPRERENDEREDALIAS}_DlgObj.submitListDataAndMediaFiles(\'list1\',xbName,ajaxObject,objUpload);',
'\t*/',
'\tvar lObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(listName);',
'\tif(!lObj) return false;',
'\tvar objAjax = {};',
'\tif(typeof arguments[2] == \'object\') objAjax = arguments[2];',
'\tvar objUpload = {};',
'\tif(typeof arguments[3] == \'object\') objUpload = arguments[3]; //this is the object that defines the upload target (s3/alphaanywhere), showProgress, etc',
'\tvar _userOnComplete = objUpload.onComplete;',
'\tobjUpload.onComplete = function(array) {',
'\t\t_userOnComplete.call(this,array)',
'\t\tpushRemoteMediaNamesToArray(array,_data);',
'\t}',
'\tvar xbasicFunction = xbCallbackFunction;',
'\t//define local functions',
'\tvar _ajaxUpload = function(data,xbasicFunction,objAjax) {',
'\t\tvar listData = JSON.stringify(data,\'\',\'\\t\');',
'\t\tlistData = A5.ajax.buildURLParam(\'_listData\',listData);',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',xbasicFunction,\'\',listData, objAjax);',
'\t}',
'\tvar pushRemoteMediaNamesToArray = function(mediaFiles,_data) {',
'\t\tvar _data2 = [];',
'\t\t$u.o.assign(_data2,_data);',
'\t\t//media files have been uploaded and the mediaFiles[] array has these properties of interest',
'\t\t//listFieldName -- name of the field in the data array that had the media field',
'\t\t//route -- an array that looks like [{table: \'_top_\', row: 1}]',
'\t\t//remoteName -- the name of the alpha server or s3',
'\t\t//succeeded',
'\t\tvar r = \'\';',
'\t\tvar table = \'\';',
'\t\tvar _di = \'\';',
'\t\tvar _diTop = \'\';',
'\t\tfor(var i = 0; i < mediaFiles.length; i++) {',
'\t\t\tmediaFiles[i].routeObj = JSON.parse(mediaFiles[i].route);',
'\t\t\tr = mediaFiles[i].routeObj[0].row',
'\t\t\tfor(var j = 0; j < mediaFiles[i].routeObj.length; j ++) {',
'\t\t\t\ttable = mediaFiles[i].routeObj[j].table;',
'\t\t\t\tr = mediaFiles[i].routeObj[j].row',
'\t\t\t\tif(table == \'_top_\') {',
'\t\t\t\t\t_di = _data2[r];',
'\t\t\t\t\t_diTop = _di;',
'\t\t\t\t} else {',
'\t\t\t\t\t_di = _di[table][r];',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(typeof _di != \'undefined\') {',
'\t\t\t\t//need to add a check to see if the success flag is true',
'\t\t\t\tif(mediaFiles[i].succeeded) {',
'\t\t\t\t\t _di[mediaFiles[i].listFieldName] = mediaFiles[i].remoteName;',
'\t\t\t\t} else {',
'\t\t\t\t\t_diTop.__flagHasMediaFileUploadError = true;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\t//harvest rows that are dirty and also do not have media upload errors - these rows will be pushed to the server',
'\t\tvar _data3 = [];',
'\t\tvar _mErr = [];',
'\t\tvar flagPush = false;',
'\t\tvar flagHasMediaUploadError = false;',
'\t\tfor(var i = 0; i < _data2.length; i++) {',
'\t\t\tflagPush = true;',
'\t\t\tif(typeof _data2[i].__flagHasMediaFileUploadError != \'undefined\' && _data2[i].__flagHasMediaFileUploadError) {',
'\t\t\t\tflagPush = false;',
'\t\t\t\tflagHasMediaUploadError = true;',
'\t\t\t\t_mErr.push(_data2[i]);',
'\t\t\t}',
'\t\t\tif(flagPush) {',
'\t\t\t\tif(typeof _data2[i]._isDirty == \'undefined\') {',
'\t\t\t\t\tflagPush = false;',
'\t\t\t\t} else if(_data2[i]._isDirty == false) {',
'\t\t\t\t\tflagPush = false;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(flagPush) {',
'\t\t\t\t_data3.push(_data2[i]);',
'\t\t\t}',
'\t\t}',
'\t\tif(flagHasMediaUploadError) {',
'\t\t\tif(typeof objUpload.onMediaUploadErrors == \'function\') {',
'\t\t\t\tobjUpload.onMediaUploadErrors.call(this,_mErr);',
'\t\t\t}',
'\t\t}',
'\t\t_ajaxUpload(_data3,xbasicFunction,objAjax) //do the ajax callback to upload the fixed data array',
'\t}',
'\t//end local functions',
'\tvar _data = lObj.harvestList();',
'\tif(_data.length == 0) {',
'\t\treturn false;',
'\t}',
'\tvar arr = lObj._harvestMediaFields();',
'\talert(JSON.stringify(arr));',
'\tif(arr.length == 0) {',
'\t\t//no media fields -- just make the ajax callback',
'\t\t_ajaxUpload(_data,xbasicFunction,objAjax);',
'\t\treturn true;',
'\t} else {',
'\t\t//upload the media files -- the onComplete event will make the ajax callback',
'\t\t//objUpload._dataToUpload = _data;',
'\t\t_data = lObj._data;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileUpload(arr,objUpload);',
'\t}',
'}',
'// File manipulation',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()',
'//',
'// Returns true if there is a local file system and PhoneGap is running.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable = function() {',
'   if(typeof LocalFileSystem == \'undefined\') {',
'      if(typeof cordova == \'undefined\') {',
'         return false;',
'      }',
'      return false;',
'   }',
'   return true;',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapGetLocalDirURL(type)',
'//',
'// type: "temp", "private", "saved", "public"',
'// On iOS, saved and public may be backed up to iCloud',
'//',
'// Returns URL of base for the requested part of the file system.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetLocalDirURL = function(type) {',
'   var dir = "";',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) return dir;',
'   if (device.platform == \'iOS\') {',
'      switch (type) {',
'         case "temp":',
'            dir = cordova.file.tempDirectory;',
'            break;',
'         case "private":',
'            dir = cordova.file.dataDirectory;',
'            break;',
'         case "saved":',
'            dir = cordova.file.syncedDataDirectory;',
'            break;',
'         case "public":',
'            dir = cordova.file.documentsDirectory;',
'            break;',
'      }',
'   }',
'   else {',
'      switch (type) {',
'         case "temp":',
'            dir = cordova.file.externalCacheDirectory || cordova.file.cacheDirectory;',
'            break;',
'         case "private":',
'            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;',
'            break;',
'         case "saved":',
'            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;',
'            break;',
'         case "public":',
'            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;',
'            break;',
'      }',
'   }',
'   return dir;',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapReadFileURL(filepath, onReadSuccess, onError, startAt, endAt)',
'//',
'// filepath is the local file URL of the desired file.',
'// If startAt and endAt are present, returns just those positions in the file.',
'//',
'// onReadSuccess(result) returns the contents read.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapReadFileURL = function(filepath, onReadSuccess, onError, startAt, endAt) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               var doReadFunction =',
'                  function(file) {',
'                     var reader = new FileReader();',
'                     reader.onloadend =',
'                        function(e) {',
'                           onReadSuccess(this.result);',
'                        };',
'                     if (typeof startAt==\'undefined\' || typeof endAt==\'undefined\') {',
'                        reader.readAsText(file);',
'                     }',
'                     else {',
'                        var blob = file.slice(startAt, endAt);',
'                        reader.readAsText(blob);',
'                     }',
'                  };',
'               fileEntry.file(doReadFunction);',
'            };',
'         fsEntry.getFile(filename, {}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapWriteFileURL(filepath, text, onWriteSuccess, onError, append)',
'//',
'// filepath is the local file URL of the desired file. The directory must',
'// exist, but the file need not.',
'// If append is true, appends to current contents.',
'// Truncates (if file existed) to end of what is written.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapWriteFileURL = function(filepath, text, onWriteSuccess, onError, append) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               var writerFunction =',
'                  function(fileWriter) {',
'                     fileWriter.onwriteend =',
'                        function(e) {',
'                           onWriteSuccess();',
'                        };',
'                     fileWriter.onerror = onError;',
'                     if (append) {',
'                        fileWriter.seek(fileWriter.length);',
'                     }',
'                     var blob = new Blob([text], {type:\'text/plain\'});',
'                     fileWriter.write(blob);',
'                  };',
'               fileEntry.createWriter(writerFunction, onError);',
'            };',
'         fsEntry.getFile(filename, {create: true}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapFileExistsURLfilepath, onResult, onError)',
'//',
'// filepath is the local file URL of the desired file.',
'// onResult(properties) will be called with false if file does not exist.',
'// If file does exist, properties will be:',
'//',
'//    {',
'//       name:file\'s name,',
'//       lastModifiedDate:lastModifiedDate object,',
'//       size:size in bytes,',
'//       type:MIME type if known(not on iOS now, but yes on Android)',
'//    }',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileExistsURL = function(filepath, onResult, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               fileEntry.file(function(fileObj) {',
'                  onResult({name:fileObj.name, lastModifiedDate:fileObj.lastModifiedDate,',
'                     size:fileObj.size, type:fileObj.type});',
'                  },',
'                  onError);',
'            };',
'         var onDidNotGetFile =',
'            function() {',
'               onResult(false);',
'            };',
'         fsEntry.getFile(filename, {create: false}, onGotFile, onDidNotGetFile);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFileURL(filepath, onDeleteSuccess, onError)',
'//',
'// filepath is the local file URL of the file to be deleted.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFileURL = function(filepath, onDeleteSuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               fileEntry.remove(onDeleteSuccess, onError);',
'            };',
'         fsEntry.getFile(filename, {create: false}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapCopyFileURL(srcpath, destdirpath, destname, onCopySuccess, onError)',
'//',
'// srcpath is the local file URL of the file to be copied.',
'// destdirpath is the URL of the directory into which to copy the file.',
'// destname is the name to be given to the copied file. If null, the source filename will be used.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapCopyFileURL = function(srcpath, destdirpath, destname, onCopySuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = srcpath.lastIndexOf("/");',
'   var dirpath = srcpath.substring(0,pos);',
'   var filename = srcpath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               window.resolveLocalFileSystemURL(destdirpath,',
'                  function(destDirEntry) {',
'                     fileEntry.copyTo(destDirEntry, destname, onCopySuccess, onError);',
'                  },',
'                  onError);',
'            };',
'         fsEntry.getFile(filename, {}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapMoveFileURL(srcpath, destdirpath, destname, onMoveSuccess, onError)',
'//',
'// srcpath is the local file URL of the file to be moved.',
'// destdirpath is the URL of the directory into which to move the file, replacing any existing file with the name.',
'// destname is the name to be given to the copied file. If null, the source filename will be used.',
'// If moved into the same directory, the file will be renamed.',
'// A move of a directory on top of an existing empty directory replaces that directory.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapMoveFileURL = function(srcpath, destdirpath, destname, onMoveSuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = srcpath.lastIndexOf("/");',
'   var dirpath = srcpath.substring(0,pos);',
'   var filename = srcpath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               window.resolveLocalFileSystemURL(destdirpath,',
'                  function(destDirEntry) {',
'                     fileEntry.moveTo(destDirEntry, destname, onMoveSuccess, onError);',
'                  },',
'                  onError);',
'            };',
'         fsEntry.getFile(filename, {}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectoryRecurseURL(dirpath, onRemoveSuccess, onError)',
'//',
'// dirpath is the file URL of the directory to be deleted.',
'// Deletes the specified directory and all of its contents, including other directories and',
'// their contents.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectoryRecurseURL = function(dirpath, onRemoveSuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var onResolvedURL =',
'      function(dirEntry) {',
'         dirEntry.removeRecursively(onRemoveSuccess, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapEnsureDirPathURL(rootpath, subdirpath, onCompletion, onError)',
'//',
'// rootpath is the file URL of the existing directory that will contain the directories that are needed.',
'// subdirpath is a path of directories to ensure exist below rootpath. They will be created',
'// if they don\'t exist.',
'//',
'// For example, if rootpath is "file://root/public/", subdirpath may be "toplevel/subdir1".',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapEnsureDirPathURL = function(rootpath, subdirpath, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var dirs = subdirpath.split(\'/\') || [];',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var ensureDirFunction =',
'            function(dirEntry) { // function to recurse',
'               if (dirs.length>0) {',
'                  if (dirs[0]==\'.\' || dirs[0]==\'\') {',
'                     dirs = dirs.slice(1); // remove null dir',
'                  }',
'               }',
'               if (dirs.length==0) {',
'                  onCompletion();',
'                  return;',
'               }',
'               dirEntry.getDirectory(dirs[0], {create: true},',
'                  function(subdirEntry) {',
'                     dirs = dirs.slice(1); // do next',
'                     ensureDirFunction(subdirEntry);',
'                  },',
'                  onError);',
'               };',
'         ensureDirFunction(fsEntry); // do first',
'      };',
'   window.resolveLocalFileSystemURL(rootpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesRecurseURL(rootpath, onCompletion, onError)',
'//',
'// rootpath is the file URL of the directory whose contents will be listed.',
'// onCompletion(filelist) will contain an array of strings representing each file',
'// and directory down the hierarchy. Directories end in "/".',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesRecurseURL = function(rootpath, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var filelist = [];',
'   var pathprefix = "";',
'   var pending = 0;',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var processDirFunction =',
'            function(subdirpath, listingObj) {',
'               var files = listingObj.files;',
'               var i;',
'               var fpath;',
'               var prefix = subdirpath.slice(pathprefix.length);',
'               for (i=0; i<files.length; i++) {',
'                  fpath = prefix+files[i];',
'                  filelist.push(fpath);',
'               }',
'               var dirs = listingObj.dirs;',
'               if (dirs.length==0) {',
'                  if (pending==0) {',
'                     onCompletion(filelist);',
'                  }',
'                  return;',
'               }',
'               for (i=0; i<dirs.length; i++) {',
'                  fpath = dirs[i].fullPath.slice(pathprefix.length);',
'                  filelist.push(fpath);',
'                  pending++;',
'                  dirs[i].filesystem.root.getDirectory(dirs[i].fullPath, {create: false},',
'                     function(dirEntry) {',
'                        listDirFunction(dirEntry);',
'                     },',
'                     function(e){pending--;onError(e);});',
'               }',
'            };',
'         var listDirFunction =',
'            function(dirEntry) { // function to recurse on subdirs',
'               var dirReader = dirEntry.createReader();',
'               var listingObj = {files:[], dirs:[]};',
'               var readDirEntries = function() {',
'                  dirReader.readEntries( // start an async reading of entries',
'                     function(entries) { // more entries read, or done',
'                        if (!entries || entries.length==0) {',
'                           pending--;',
'                           processDirFunction(dirEntry.fullPath, listingObj);',
'                           return;',
'                        }',
'                        var entry;',
'                        for (var i=0; i<entries.length; i++) {',
'                           entry = entries[i];',
'                           if (entry.isFile) {',
'                              listingObj.files.push(entry.name);',
'                           }',
'                           else {',
'                              listingObj.dirs.push(entry);',
'                           }',
'                        }',
'                        readDirEntries(); // recurse to call dirReader.readEntries again',
'                     },',
'                     onError);',
'                  };',
'               readDirEntries(); // do first reading of entries',
'            };',
'         pending++;',
'         pathprefix = fsEntry.fullPath; // get prefix',
'         listDirFunction(fsEntry); // do first list getting',
'      };',
'   window.resolveLocalFileSystemURL(rootpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesURL(dirpath, matchRegex, onCompletion, onError)',
'//',
'// dirpath is the file URL of the directory whose contents will be listed (only files).',
'// matchRegex, if non-null, will need to match file names found for them to be listed.',
'// onCompletion(filelist) will contain an array of strings representing each file.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesURL = function(dirpath, matchRegex, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var filelist = [];',
'         var dirReader = fsEntry.createReader();',
'         var readEntriesFunction =',
'            function() { // function to recurse to call repeatedly after each completion until no result',
'               dirReader.readEntries( // start an async reading of entries',
'                  function(entries) { // more entries read, or done',
'                     if (!entries || entries.length==0) {',
'                        onCompletion(filelist);',
'                        return;',
'                     }',
'                     var name;',
'                     for (var i=0; i<entries.length; i++) {',
'                        name = entries[i].name;',
'                        if (!matchRegex || name.match(matchRegex)) {',
'                           filelist.push(name);',
'                        }',
'                     }',
'                     readEntriesFunction(); // recurse to call dirReader.readEntries again',
'                  },',
'                  onError);',
'               };',
'         readEntriesFunction(); // do first reading',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFilesNotInListURL(dirpath, matchRegex, keepList, onCompletion, onError)',
'//',
'// dirpath is the file URL of the directory whose contents will be examined (only files).',
'// matchRegex, if non-null, will need to match file names found for them to be considered for deletion.',
'// Any file name which is in the array keepList will not be considered even if it matches.',
'// All remaining files found (those matched and not in keepList) will be deleted.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFilesNotInListURL = function(dirpath, matchRegex, keepList, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var keepnames = {}; // fill object with all the names as attributes',
'   for (var j=0; j<keepList.length; j++) {',
'      keepnames[keepList[j]] = true;',
'   }',
'   var filelist = []; // list of files to delete',
'   var totalDeleted = 0;',
'   var deleteFromFileList = function() { // called repeatedly by itself on successes until all deleted',
'      if (filelist.length==0) { // no more to delete',
'         onCompletion(totalDeleted);',
'         return;',
'      }',
'      var todelete = filelist.pop(); // pop one from list and delete it, leaving list shorter',
'      totalDeleted += 1;',
'      todelete.remove(deleteFromFileList, onError);',
'   };',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var dirReader = fsEntry.createReader();',
'         var readEntriesFunction =',
'            function() { // function to recurse to call repeatedly after each completion until no result',
'               dirReader.readEntries( // start an async reading of entries',
'                  function(entries) { // more entries read, or done',
'                     if (!entries || entries.length==0) {',
'                        deleteFromFileList(); // got all - now start deleting them',
'                        return;',
'                     }',
'                     var name;',
'                     for (var i=0; i<entries.length; i++) {',
'                        name = entries[i].name;',
'                        if (!matchRegex || name.match(matchRegex)) { // must match regex',
'                           if (!keepnames[name]) { // and not be on keep list',
'                              filelist.push(entries[i]); // add one to delete to list',
'                           }',
'                        }',
'                     }',
'                     readEntriesFunction(); // recurse to call dirReader.readEntries again',
'                  },',
'                  onError);',
'               };',
'         readEntriesFunction(); // do first reading',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._embeddedUXComponents = {',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._layoutMode = \'containerwidth\';',
'{UXPRERENDEREDALIAS}_DlgObj._responsiveRulesMode = \'firsttrue\';',
'{UXPRERENDEREDALIAS}_DlgObj.__controlNesting = {',
'PANELHEADER_CONDITION: [\'container:LEFT_BUTTONS_CONDITION\',\'container:CONTAINER_CENTER_CONDITION\',\'container:RIGHT_BUTTONS_CONDITION\'],',
'LEFT_BUTTONS_CONDITION: [],',
'CONTAINER_CENTER_CONDITION: [],',
'RIGHT_BUTTONS_CONDITION: [],',
'WINDOW_REFINE: [\'SITE\',\'TREATMENT\',\'SLIDER_AGE_RANGE\',\'BUTTON_LIST_GENDER\',\'BUTTON_LIST_STUDY_STATUS\',\'BUTTON_LIST_STUDY_TYPE\',\'BUTTON_LIST_PHASE\',\'INVESTIGATOR\',\'SPONSOR\'],',
'CONTAINER_CONDITIONSEARCH: [\'LIST_CONDITIONS_KEYWORDSEARCH\'],',
'PANELHEADER_TRIALS: [\'container:LEFT_BUTTONS_TRIALS\',\'container:CONTAINER_CENTER_TRIALS\',\'container:RIGHT_BUTTONS_TRIALS\'],',
'LEFT_BUTTONS_TRIALS: [],',
'CONTAINER_CENTER_TRIALS: [],',
'RIGHT_BUTTONS_TRIALS: [\'container:WINDOW_MAP\'],',
'WINDOW_MAP: [\'MAP_TRIALS\'],',
'PANELHEADER_TRIALDETAILS: [\'container:LEFT_BUTTONS_TRIALDETAILS\',\'container:CONTAINER_CENTER_TRIALS1\'],',
'LEFT_BUTTONS_TRIALDETAILS: [],',
'CONTAINER_CENTER_TRIALS1: [],',
'CONTAINER_QUALIFY_DETAILS: [],',
'TAB_PANES: [\'tabPane:TAB_PANES#1\',\'tabPane:TAB_PANES#2\',\'tabPane:TAB_PANES#3\',\'tabPane:TAB_PANES#4\'],',
'"TAB_PANES#1": [],',
'"TAB_PANES#2": [],',
'"TAB_PANES#3": [],',
'"TAB_PANES#4": []',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._listsDV = [\'LIST_TRIALS\'];',
'//Add methods to the List prototype for Lists with Detail Views',
'$u.o.assign(A5.ListBox.prototype,',
'{',
'\t_controlDefaultValueForListField:  function(fieldName) { ',
'\tvar controlName = this._getUXDetailViewControlName(fieldName);',
'\tif(controlName == \'\') return \'\';',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
' \treturn _dlgObj.defaultValues[controlName.toUpperCase()];',
'}',
',',
'\tqueryByFormClearControls: function() { ',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar controlName;',
'\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\tif(controlName != \'\') {',
'\t\t\tval = \'\';',
'\t\t\t_dlgObj.setValue(controlName,val,false);',
'\t\t}',
'\t}',
'}',
',',
'\tremoveRowFromListByKey: function(rowKey) {',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar curVal = this.value[0];',
'\tthis.nullOutDetailViewRecord();',
'\t_dlgObj.persistVariablesToLocalStorage();',
'\tif(curVal != rowKey) { ',
'\t\tthis.removeRows([rowKey]);',
'\t\tif(typeof curVal != \'undefined\') {',
'\t\t\tthis.setValue(curVal,false);',
'\t\t\tthis._selectedRow = curVal;',
'\t\t}',
'\t\tthis.__currentRoute = this._getRoute();',
'\t} else { ',
'\t\tvar index = this.indexFromValue(curVal);',
'\t\tvar newIndex = \'\';',
'\t\tif( (index+1) < this._dataMap.length) {',
'\t\t\tnewIndex = index;',
'\t\t} else { ',
'\t\t\tnewIndex = index -1;',
'\t\t}',
'\t\tthis.removeRows([rowKey]);',
'\t\tthis.setValue(newIndex,false);',
'\t\tthis._selectedRow = newIndex;',
'\t\tthis.__currentRoute = this._getRoute();',
'\t}',
'\t_dlgObj.refreshClientSideComputations();',
'\tvar lObj = this;',
'\tif (this._data.length == 0) {',
'\t\tthis.setValue(0,false);',
'\t\tthis._selectedRow = -1;',
'\t\tvar mode = this._noRecordInListIsSelectedSettingForDetailView;',
'\t\tif(mode == \'newrecord\') { ',
'\t\t\tvar lObj = this;',
'\t\t\tsetTimeout(function() {lObj.newDetailViewRecord();},10);',
'\t\t} else if (mode == \'disabledetailview\') { ',
'\t\t\tvar lObj = this;',
'\t\t\tsetTimeout(function() {lObj.disableDetailView();},10);',
'\t\t}',
'\t}',
'\t_dlgObj._listRowSelect(this.listVariableName);',
'}',
',',
'\tsearchModeOff: function() { ',
'\tif(this._dvmode != \'search\') return true;',
'\tvar val = this._searchModeReturnValue;',
'\tif(typeof val != \'undefined\') { ',
'\t\tif(val != \'\') {',
'\t\t\tthis.setValue(this._searchModeReturnValue);',
'\t\t} else {',
'\t\t\tthis.newDetailViewRecord();',
'\t\t}',
'\t} else { ',
'\t\tthis.newDetailViewRecord();',
'\t}',
'}',
',',
'\tsearchModeOn: function() { ',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tif(this.detailViewIsDirty()) { ',
'\t\talert(\'cannot switch to search mode because detail view is dirty\');',
'\t\treturn false;',
'\t}',
'\tthis._dvmode = \'search\';',
'\tthis._searchModeReturnValue = this.value;',
'\tthis._deselectAll();',
'\tthis.queryByFormClearControls();',
'\tif(typeof this.__queryByFormValues != \'undefined\') {',
'\t\tfor(var i = 0; i < this.__queryByFormValues.length; i++) { ',
'\t\t\t_dlgObj.setValue(this.__queryByFormValues[i].control,this.__queryByFormValues[i].value,false);',
'\t\t}',
'\t}',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.modeChanged\',{mode: \'search\'});',
'\t_dlgObj.refreshClientSideComputations();',
'}',
',',
'\tpopulateUXControls: function() { ',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tops.listVariableName = this.listVariableName;',
'\tops.listObj = this;',
'\tif(this._detailView.method == \'fieldMap\') argIn = this._detailView.fieldMap;',
'\telse argIn = this._detailView.container;',
'\tvar _d = this.selectionData[0];',
'\tvar n = \'\';',
'\tvar b64prefix = \'\'',
'\tthis._currentDetailViewKey = undefined;',
'\tif(typeof _d == \'undefined\') {',
'\t\tthis.nullOutDetailViewRecord();',
'\t\treturn false; ',
'\t}',
'\tthis._currentDetailViewKey = _d[\'*key\'];',
'\twindow[this._hostComponentId + \'_DlgObj\']._populateUXControlsWithListData(_d,argIn,ops);',
'\tthis._clearServerSideErrors();',
'\tthis._showServerSideErrors();',
'\tthis._showWriteConflictErrors();',
'\tthis._dvmode = \'edit\';',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.modeChanged\',{mode: \'edit\'});',
'\t_dlgObj.refreshClientSideComputations();',
'\tthis._setParentIsDeletedOnChildren();',
'\tif(!this._restoringList) _dlgObj.persistVariablesToLocalStorage();',
'\tif(typeof _d._flagViewed != \'undefined\') { ',
'\t\tif(_d._flagViewed == false) {',
'\t\t\t_d._flagViewed = true;',
'\t\t\tthis.updateRow(this.selection[0],_d);',
'\t\t}',
'\t}',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.afterDetailViewPopulate\',{});',
'}',
',',
'\t_setParentIsDeletedOnChildren: function() { ',
'\t\tvar _d = this.selectionData[0];',
'\t\tif(typeof _d == \'undefined\') return false;',
'\t\tvar flagDel = false;',
'\t\tif(typeof _d[\'_isDeleted\'] != \'undefined\') flagDel = _d[\'_isDeleted\'];',
'\t\tif(!flagDel) {',
'\t\t\tvar flagParentIsDeleted = false;',
'\t\t\tvar pData = \'\';',
'\t\t\tif(this.allParentLists.length > 0) { ',
'\t\t\t\tfor(var i = 0; i < this.allParentLists.length; i++) {',
'\t\t\t\t\tpObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.allParentLists[i]);',
'\t\t\t\t\tif(typeof pObj.selection[0] != \'undefined\') {',
'\t\t\t\t\t\tpData = pObj.getData(pObj.selection[0]);',
'\t\t\t\t\t\tif(typeof pData._isDeleted != \'undefined\') {',
'\t\t\t\t\t\t\tif(pData._isDeleted) {',
'\t\t\t\t\t\t\t\tflagParentIsDeleted = true;',
'\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(flagParentIsDeleted) flagDel = true;',
'\t\t}',
'\t\tvar flagParentIsDeleted = false;',
'\t\tif(typeof this._parentIsDeleted != \'undefined\') flagParentIsDeleted =  this._parentIsDeleted;',
'\t\tthis.disableDetailView(flagDel || flagParentIsDeleted);',
'\t\tvar lChildObj = \'\';',
'\t\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\t\tlChildObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\t\tif(lChildObj) {',
'\t\t\t\tlChildObj.disableDetailView(flagDel);',
'\t\t\t\tif(flagDel) $acn(lChildObj.contId,\'parentIsDeleted\');',
'\t\t\t\telse $rcn(lChildObj.contId,\'parentIsDeleted\');',
'\t\t\t\tlChildObj._parentIsDeleted = flagDel;',
'\t\t\t\tlChildObj._setParentIsDeletedOnChildren();',
'\t\t\t}',
'\t\t}',
'\t}',
',',
'\tupdateListFromUXControls: function() { \t\t',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar arr = this._getControlsInDv()',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t_dlgObj.clientSideValidateField(arr[i],1,null);',
'\t\t}',
'\t\tvar flagCSE = this._hasClientSideError();',
'\t\tif(flagCSE) {',
'\t\t\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.hasClientSideValidationErrors\',{});',
'\t\t\tvar msg = this.customization.dv.clientSideErrorWarning;',
'\t\t\tif(typeof msg != \'undefined\' && msg != \'\') this._showGlobalError(msg);',
'\t\t\treturn false;',
'\t\t} else { ',
'\t\t\tthis._clearGlobalError();',
'\t\t}',
'\t\tvar _route = this._getRoute();',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar flagGetLocationData = this._captureLocation;',
'\t\tif( _dlgObj._embeddedMode || _dlgObj._livePreviewInBuilder) flagGetLocationData = false;',
'\t\tvar that = this;',
'\t\tif(flagGetLocationData) { ',
'\t\t\tvar _locationHighAccuracy = _dlgObj.locationHighAccuracy;',
'\t\t\tvar _locationTimeout = _dlgObj.locationTimeout;',
'\t\t\tvar _locationMaximumAge = _dlgObj.locationMaximumAge;',
'\t\t\tvar classInst = this;',
'\t\t\tnavigator.geolocation.getCurrentPosition(',
'\t\t\t\tfunction(pos) {',
'\t\t\t\t\tif(typeof _dlgObj._location == \'undefined\') _dlgObj._location = {};',
'\t\t\t\t\t_dlgObj._location.lat = pos.coords.latitude;',
'\t\t\t\t\t_dlgObj._location.lng = pos.coords.longitude;',
'\t\t\t\t\tclassInst._updateListFromUXControlsLow();',
'\t\t\t\t\tdelete classInst;',
'\t\t\t\t\tif(that.synchronizeImmediately) { ',
'\t\t\t\t\t\tvar flagOnLine = _dlgObj._getOnlineStatus();',
'\t\t\t\t\t\tif (flagOnLine) {',
'\t\t\t\t\t\t\t\t_dlgObj.saveListEdits(that.listVariableName)',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar dirtyClass = \'\';',
'\t\t\t\t\tif(typeof that.dirtyControlClassName != \'undefined\') dirtyClass = that.dirtyControlClassName;',
'\t\t\t\t\tif(dirtyClass != \'\') that.populateUXControls();',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t\tif(!that._restoringList)  _dlgObj.persistVariablesToLocalStorage();',
'\t\t\t\t\t_dlgObj.refreshClientSideComputations();',
'\t\t\t\t\treturn true;',
'\t\t\t\t},',
'\t\t\t\tfunction(error) { ',
'\t\t\t\t\tdelete _dlgObj._location;  ',
'\t\t\t\t\tclassInst._updateListFromUXControlsLow();',
'\t\t\t\t\tdelete classInst;',
'\t\t\t\t\treturn true;',
' \t\t\t} ,\t{enableHighAccuracy : _locationHighAccuracy, timeout: _locationTimeout, maximumAge: _locationMaximumAge}) \t',
' \t\t\treturn true;\t',
'\t\t} else { ',
'\t\t\tthis._updateListFromUXControlsLow();',
'\t\t}',
'\t\tthis._setRoute(_route);',
'\t\tif(!this._restoringList)  _dlgObj.persistVariablesToLocalStorage();',
'\t\t_dlgObj.refreshClientSideComputations();',
'\t\tif(this.synchronizeImmediately) { ',
'\t\t\tvar flagOnLine = _dlgObj._getOnlineStatus();',
'\t\t\tif (flagOnLine) {',
'\t\t\t\t\t_dlgObj.saveListEdits(this.listVariableName)',
'\t\t\t}',
'\t\t}',
'\t\tvar dirtyClass = \'\';',
'\t\tif(typeof this.dirtyControlClassName != \'undefined\') dirtyClass = this.dirtyControlClassName;',
'\t\tif(dirtyClass != \'\') this.populateUXControls();',
'\t}',
'\t,',
'\t_updateListFromUXControlsLow: function() { \t',
'\tvar flagCSE = this._hasClientSideError();',
'\tif(flagCSE) {',
'\t\tvar msg = this.customization.dv.clientSideErrorWarning;',
'\t\tif(msg != \'\') this._showGlobalError(msg);',
'\t\treturn false;',
'\t} else { ',
'\t\tthis._clearGlobalError();',
'\t}',
'\tflagAllParentListsHaveActiveRow = true;',
'\tvar pObj = \'\';',
'\tif(this.allParentLists.length > 0) { ',
'\t\tfor(var i = 0; i < this.allParentLists.length; i++) {',
'\t\t\tpObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.allParentLists[i]);',
'\t\t\tif(typeof pObj.selection[0] == \'undefined\') {',
'\t\t\t\tflagAllParentListsHaveActiveRow = false;',
'\t\t\t\talert(\'Can\\\'t save record because there is no active record in the parent List. Parent list id: \\\'\'+this.allParentLists[i]+\'\\\'\');',
'\t\t\t\tbreak;',
'\t\t\t}',
'\t\t}',
'\t}',
'\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar flagSynchronize = this.synchronizeImmediately;',
'\tif(typeof ops.synchronize == \'undefined\') {',
'\t\tops.synchronize = flagSynchronize;',
'\t}',
'\tif(this._detailView.method == \'fieldMap\') {',
'\t\tvar res = window[this._hostComponentId + \'_DlgObj\']._updateListDataFromUXControls(this.listVariableName,this._detailView.fieldMap,ops); this._refreshDebugInfo(); ',
'\t} else {',
'\t\tvar res = window[this._hostComponentId + \'_DlgObj\']._updateListDataFromUXControls(this.listVariableName,this._detailView.container,ops); this._refreshDebugInfo(); ',
'\t}',
'\tvar parentListName = this.parentList;',
'\tif(typeof parentListName != \'undefined\') {',
'\t\tvar thisData = this.getData(this.selection[0]);',
'\t\tvar flagIsNewRow = false;',
'\t\tif(typeof thisData._isNewRow != \'undefined\') flagIsNewRow = thisData._isNewRow;',
'\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\tif(plObj._setDirtyByChild) {',
'\t\t\tif (flagIsNewRow == false)  \tplObj._setDirtyByChild(false);',
'\t\t\telse plObj._setDirtyByChild(true,thisData,this.listVariableName);',
'\t\t}',
'\t}',
'\tthis._populateMyChildren();',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.afterUpdateList\',{});',
'\treturn res;',
'},',
'\t_setDirtyByChild: function(flagNewRow) { \t\t',
'\t\tvar rn = this.selection[0];',
'\t\tif(typeof rn == \'undefined\') rn = 0;',
'\t\tif(flagNewRow) {',
'\t\t\tvar newData = arguments[1];',
'\t\t\tvar listName = arguments[2];',
'\t\t\tthis.setRowDirty(rn,true,newData,listName);',
'\t\t} else {',
'\t\t\tthis.setRowDirty(rn,false);',
'\t\t}',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') { ',
'\t\t\tif(parentListName != \'\') {',
'\t\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentListName);',
'\t\t\t\tif(plObj._setDirtyByChild) \tplObj._setDirtyByChild(false);',
'\t\t\t}',
'\t\t}',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t}',
'\t,',
'\t_getChildData: function(existingData,childListName) {\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar clObj = _dlgObj.getControl(childListName);',
'\t\tif(!clObj) return false;',
'\t\tif(clObj._dataSourceType.toLowerCase() == \'sql\') { ',
'\t\t\treturn existingData[\'__LIST__\' + childListName];',
'\t\t} else { ',
'\t\t\treturn existingData[clObj._objectNameInParentListForData];',
'\t\t}',
'\t}',
'\t,',
'\t_getChildDataObjectName: function(childListName) { \t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar clObj = _dlgObj.getControl(childListName);',
'\t\tif(!clObj) return \'__LIST__\' + childListName.toUpperCase();',
'\t\tif(clObj._dataSourceType.toLowerCase() == \'sql\') { ',
'\t\t\treturn \'__LIST__\' + childListName.toUpperCase();',
'\t\t} else { ',
'\t\t\treturn clObj._objectNameInParentListForData',
'\t\t}',
'\t}',
'\t,',
'\tsetRowDirty: function(rn,flagNewRow) {\t\tvar existingData = this.getData(rn);',
'\t\texistingData._isDirty = true;',
'\t\tif(flagNewRow) { ',
'\t\t\tvar newData = arguments[2];',
'\t\t\tvar listName = arguments[3];',
'\t\t\tvar childData = this._getChildData(existingData,listName);',
'\t\t\tif(typeof childData == \'undefined\') return false;',
'\t\t\tvar childDataObjectName = this._getChildDataObjectName(listName);',
'\t\t\tvar n = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(childData,\'*key\',newData[\'*key\']);',
'\t\t\tif(n == -1) {',
'\t\t\t\tif(existingData[childDataObjectName].constructor == Array) {',
'\t\t\t\t\texistingData[childDataObjectName].push(newData);',
'\t\t\t\t} else { ',
'\t\t\t\t\texistingData[childDataObjectName] =  [];',
'\t\t\t\t\texistingData[childDataObjectName].push(newData);',
'\t\t\t\t}',
'\t\t\t} else { ',
'\t\t\t}',
'\t\t}',
'\t\tthis.updateRow(rn,existingData);',
'\t}',
'\t,',
'\t_showDirtyDetailViewWarning: function() {',
'\t\tif(!this.detailViewIsDirty(true)) return true;',
'\t\telse {',
'\t\t\tvar obj = {};',
'\t\t\tobj.thisListName = this.listVariableName;',
'\t\t\tobj.dirtyListName = this._nameOfListWithDirtyDetailView;',
'\t\t\tobj.handled = false;',
'\t\t\twindow[this._hostComponentId + \'_DlgObj\']._list_executeEvent(this.listVariableName,\'detailView.afterListRowSelectCancelled\',obj);',
'\t\t\tif(obj.handled) return false;',
'\t\t\tvar msg = this.customization.dv.dirtyDetailViewRecord.message;',
'\t\t\tvar image = this.customization.dv.dirtyDetailViewRecord.icon;',
'\t\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\t\tvar flagThisListHasDirtyDv = false;',
'\t\t\tif(this.listVariableName == this._nameOfListWithDirtyDetailView) flagThisListHasDirtyDv = true;;',
'\t\t\tif(!flagThisListHasDirtyDv) {',
'\t\t\t\tmsg = msg + \'<br>(List with dirty Detail View: \\\'\' + this._nameOfListWithDirtyDetailView + \'\\\')\';',
'\t\t\t}',
'\t\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\t\tvar title = this.customization.dv.dirtyDetailViewRecord.title;',
'\t\t\tA5.msgBox.show(title,msg,\'O\',function() {} );',
'\t\t\treturn false;',
'\t\t}',
'\t}',
'\t,',
'\t_getListFieldFromControl: function(ctrl) {\t\tvar indx = \'\';',
'\t\tif(this._detailView.method == \'fieldMap\') {',
'\t\t\tvar map = this._detailView.fieldMap;',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(map,\'control\',ctrl);',
'\t\t\tif(indx > -1) return map[indx].field',
'\t\t} else {',
'\t\t\tctrl = ctrl.toUpperCase();',
'\t\t\tvar la = this._listFields;',
'\t\t\tfor(var i = 0; i < la.length; i++) { ',
'\t\t\t\tif(la[i].name.toUpperCase() == ctrl) return la[i].name;',
'\t\t\t}',
'\t\t\treturn false;',
'\t\t}',
'\t}',
'\t,',
'\tdisableDetailView: function() { \t\tvar flag = typeof arguments[0] != \'undefined\' ? arguments[0] : true;',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].setDisabled(this._getControlsInDv(),flag);',
'\t}',
'\t,',
'\t_getControlsInDv: function() {\t\tif(typeof this._controlsInDV != \'undefined\') {',
'\t\t\treturn this._controlsInDV;',
'\t\t}',
'\t\tvar arr = [];',
'\t\tif(typeof this._detailView == \'undefined\') return \'\';',
'\t\tif(typeof this._detailView.method == \'undefined\') return \'\';',
'\t\tif(this._detailView.method == \'fieldMap\') { ',
'\t\t\tvar ele = \'\';',
'\t\t\tfor (var i = 0; i < this._detailView.fieldMap.length; i++) {',
'\t\t\t\tele = $(this._hostComponentId + \'.V.R1.\' + this._detailView.fieldMap[i].control.toUpperCase());',
'\t\t\t\tif(ele) arr.push(this._detailView.fieldMap[i].control.toUpperCase());',
'\t\t\t}',
'\t\t\tthis._controlsInDV = arr;',
'\t\t\treturn arr;',
'\t\t} else { ',
'\t\t\tvar indx = -1;',
'\t\t\tvar ctrlList = window[this._hostComponentId + \'_DlgObj\'].getControlsInContainer(this._detailView.container);',
'\t\t\tfor(var c = 0; c < ctrlList.length; c++) {',
'\t\t\t\tfor(var i = 0; i < this._listFields.length; i++) {',
'\t\t\t\t\tif(this._listFields[i].name.toLowerCase() == ctrlList[c].toLowerCase()) arr.push(ctrlList[c].toUpperCase());',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis._controlsInDV = arr;',
'\t\t\treturn arr;',
'\t\t}',
'\t}',
'\t,',
'\t_stripCleanBase64Data: function(_d) { \t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar _dc = {}',
'\t\tvar cn = \'\';',
'\t\tvar ct = \'\';',
'\t\tvar flagDirty = \'\';',
'\t\tvar flagCapture = \'\';',
'\t\tvar ix = \'\';',
'\t\tvar flagEmbeddedImage = \'\';',
'\t\tfor(var prop in _d) {',
'\t\t\tflagCapture = true; ',
'\t\t\tcn = this._getUXDetailViewControlName(prop);',
'\t\t\tif(cn != \'\') {',
'\t\t\t\tct = _dlgObj._getControlType(cn).toLowerCase();',
'\t\t\t\tif(ct == \'signaturecapture\' || ct == \'image\') {',
'\t\t\t\t\tflagCapture = false;',
'\t\t\t\t\tvar _dirtyImages = _d[\'_dirtyImages\'];',
'\t\t\t\t\tvar flagImageDirty = false;',
'\t\t\t\t\tif(typeof _dirtyImages != \'undefined\') {',
'\t\t\t\t\t\tflagImageDirty = _dirtyImages[prop];',
'\t\t\t\t\t\tif(typeof flagImageDirty != \'undefined\') flagCapture = true;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(flagCapture) _dc[prop] = _d[prop];',
'\t\t}',
'\t\treturn _dc;',
'\t}\t',
'\t,',
'\t_getData2: function(row) { \t\t',
'\t\tvar _d = this.getData(row);',
'\t\treturn this._stripCleanBase64Data(_d);',
'\t}',
'\t,',
'\tharvestListRow: function() { \t\t',
'\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tvar obj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\t\tvar flagSumbmitAllChildRecords = false;',
'\t\tif(typeof obj.flagSumbmitAllChildRecords != \'undefined\') flagSumbmitAllChildRecords = obj.flagSumbmitAllChildRecords;',
'\t\tif(typeof rn != \'number\') {',
'\t\t\tif(!rn._isNewRow){',
'\t\t\t\tvar existingData = this._stripCleanBase64Data(rn);',
'\t\t\t} else {',
'\t\t\t\tvar existingData = rn;',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tif(rn > -1) {',
'\t\t\t\tvar existingData = this._getData2(rn); ',
'\t\t\t} else {',
'\t\t\t\tif(this.selection[0] != \'undefined\') var existingData = this._getData2(this.selection[0]); ',
'\t\t\t}',
'\t\t}',
'\t\tif(typeof existingData == \'undefined\') return {};',
'\t\tvar flagDirty = false;',
'\t\tvar flagNewRow = false;',
'\t\tif(typeof existingData._isDirty != \'undefined\') flagDirty = existingData._isDirty;',
'\t\tif(typeof existingData._isNewRow != \'undefined\') flagNewRow = existingData._isNewRow;',
'\t\tdelete existingData._previousData;',
'\t\tif(flagDirty || flagNewRow) {',
'\t\t\tif(!flagSumbmitAllChildRecords) {',
'\t\t\t\tvar dirtyDataOnly = this._trimNonDirtyData(existingData);',
'\t\t\t\treturn dirtyDataOnly;',
'\t\t\t} else {',
'\t\t\t\treturn existingData;',
'\t\t\t}',
'\t\t}',
'\t\treturn {};',
'\t}',
'\t,',
'\tfieldIsDirty: function(field) { \t\tvar rSel = this.selection[0];',
'\t\tvar rn = typeof arguments[1] != \'undefined\' ? arguments[1] : rSel;',
'\t\tif(typeof rSel == \'undefined\') return false;',
'\t\tvar _d = this.getData(rn);',
'\t\tvar _dv = _d[field];',
'\t\tvar flagNewRow = _d[\'_isNewRow\'];',
'\t\tif(typeof flagNewRow == \'undefined\') flagNewRow = false;',
'\t\tif(flagNewRow) { ',
'\t\t\tif(_dv == \'\') return false;',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar _od = _d[\'_oldData\'];',
'\t\tif(typeof _od == \'undefined\') return false;',
'\t\tvar _odv = _od[field];',
'\t\tif(typeof _dv == \'undefined\') return false;',
'\t\tif(typeof _odv == \'undefined\') return false;',
'\t\tif(_dv == _odv ) return false;',
'\t\telse return true;',
'\t}',
'\t,',
'\t_trimNonDirtyData: function(data) { \t\tvar data2 = {};',
'\t\tvar tData = [];',
'\t\tfor(var prop in data) {',
'\t\t\tif(data[prop] != null) {\t\t\t',
'\t\t\t\tif(data[prop].constructor == Array) {',
'\t\t\t\t\ttData = [];',
'\t\t\t\t\tfor(var i = 0; i < data[prop].length; i++) {',
'\t\t\t\t\t\tif(data[prop][i]._isNewRow || data[prop][i]._isDirty ) {',
'\t\t\t\t\t\t\ttData.push(this._trimNonDirtyData(data[prop][i]));',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tdata2[prop] = tData;',
'\t\t\t\t} else {',
'\t\t\t\t\tdata2[prop] = data[prop];',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\tdata2[prop] = null;',
'\t\t\t}',
'\t\t}',
'\t\treturn data2;',
'\t}',
'\t,',
'\t_logicalRow2PhysicalRow: function(rn) { \t\tif(typeof rn != \'number\') {',
'\t\t\treturn rn;',
'\t\t}',
'\t\tvar u = this._dataMap;',
'\t\treturn $u.a.find(u,rn);',
'\t}',
'\t,',
'\tharvestListKeys: function() { \t\tvar existingData = {};',
'\t\tvar arr = [];',
'\t\tvar key = \'\';',
'\t\tfor (var i = 0; i < this._data.length; i++) { ',
'\t\t\texistingData = this._data[i];',
'\t\t\tif(typeof existingData.__primaryKey != \'undefined\') {',
'\t\t\t\tkey = existingData.__primaryKey;',
'\t\t\t} else {',
'\t\t\t\tkey = existingData[\'*value\']',
'\t\t\t}',
'\t\t\tif(key != \'\') arr.push(key);',
'\t\t}',
'\t\treturn arr;',
'\t}',
'\t,',
'\t_hasMediaFileUploadErrors: function(data) {\t\t',
'\t\tvar flag = false;',
'\t\tvar r = A5.u.object.each(data,function(name,value,path,result){',
'\t\t\tif(name == \'_flagMediaFileUploadError\'){',
'\t\t\t\tif(value) flag =  true;',
' \t\t   }',
'\t\t});',
'\t\treturn flag;',
'\t}',
',',
'\tharvestList: function() { \t\t',
'\t\tvar flagPKOnly = typeof arguments[0] != \'undefined\' ? arguments[0] : false;',
'\t\tvar obj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\t\tvar startingRow = 1;',
'\t\tvar batchSize = 0;',
'\t\tvar flagSumbmitAllChildRecords = false;',
'\t\tif(typeof obj.batchSize != \'undefined\') batchSize = obj.batchSize;',
'\t\tif(typeof obj.startingRow != \'undefined\') startingRow = obj.startingRow;',
'\t\tif(typeof obj.flagSumbmitAllChildRecords != \'undefined\') flagSumbmitAllChildRecords = obj.flagSumbmitAllChildRecords;',
'\t\tvar flagDirty = false;',
'\t\tvar flagNewRow = false;',
'\t\tvar flagHasMediaFileUploadError = false;',
'\t\tvar existingData = \'\';',
'\t\tvar arr = [];',
'\t\tvar _tempData = \'\';',
'\t\tif(batchSize > 0 && startingRow > 1 && flagPKOnly == false) { ',
'\t\t\tvar arr2 = [];',
'\t\t\tvar count = 0;',
'\t\t\tfor(var i = startingRow -1; i < this.__arrDirtyRows.length; i++) { ',
'\t\t\t\trowToGet = this.__arrDirtyRows[i]; ',
'\t\t\t\texistingData = this._data[rowToGet];',
'\t\t\t\t_tempData = this.harvestListRow(existingData, {flagSumbmitAllChildRecords: flagSumbmitAllChildRecords});',
'\t\t\t\tarr2.push(_tempData);',
'\t\t\t\tcount = count + 1;',
'\t\t\t\tif(count >= batchSize) break;',
'\t\t\t}',
'\t\t\treturn arr2;',
'\t\t}',
'\t\tthis.__arrDirtyRows = [];',
'\t\tfor (var i = 0; i < this._data.length; i++) { ',
'\t\t\texistingData = this._data[i];',
'\t\t\tflagDirty = false; flagNewRow = false;',
'\t\t\tif(typeof existingData._isDirty != \'undefined\') flagDirty = existingData._isDirty;',
'\t\t\tif(typeof existingData._isNewRow != \'undefined\') flagNewRow = existingData._isNewRow;',
'\t\t\tif(flagDirty || flagNewRow) {',
'\t\t\t\tflagHasMediaFileUploadError = this._hasMediaFileUploadErrors(existingData);',
'\t\t\t}',
'\t\t\tif( (flagDirty || flagNewRow) && !flagHasMediaFileUploadError ) {',
'\t\t\t\tif(flagPKOnly == false)\t{',
'\t\t\t\t\t_tempData = this.harvestListRow(existingData, {flagSumbmitAllChildRecords: flagSumbmitAllChildRecords});',
'\t\t\t\t\tarr.push(_tempData);',
'\t\t\t\t} else {',
'\t\t\t\t\tif(typeof existingData.__primaryKey != \'undefined\') {',
'\t\t\t\t\t\tarr.push(existingData.__primaryKey);',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tarr.push(existingData[\'*value\']);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(batchSize > 0 && startingRow == 1 && flagPKOnly == false)  {',
'\t\t\t\t\tif(flagPKOnly == false) {',
'\t\t\t\t\t\tthis.__arrDirtyRows.push(existingData[\'*key\']);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(batchSize > 0 && flagPKOnly == false) {',
'\t\t\tvar arr2 = [];',
'\t\t\tvar count = 0;',
'\t\t\tfor(var i = startingRow -1; i < this.__arrDirtyRows.length; i++) { ',
'\t\t\t\trowToGet = this.__arrDirtyRows[i];',
'\t\t\t\tarr2.push(this._getRowByKey(arr,rowToGet));',
'\t\t\t\tcount = count + 1;',
'\t\t\t\tif(count >= batchSize) break;',
'\t\t\t}',
'\t\t\treturn arr2',
'\t\t}',
'\t\treturn arr;',
'\t}',
'\t,',
'\t_getRowByKey: function(arr,key) {\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif(arr[i][\'*key\'] == key) return arr[i];',
'\t\t}',
'\t\treturn false; ',
'\t}',
',',
'\tlistRowIsDirty: function() {\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tvar flagNewRow = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\t\tif(rn > -1) {',
'\t\t\tvar existingData = this.getData(rn);',
'\t\t} else {',
'\t\t\tvar existingData = this.getData(this.selection[0]);',
'\t\t}',
'\t\tif(typeof existingData == \'undefined\') return false;',
'\t\tif(!flagNewRow) {',
'\t\t\tif(typeof existingData._isDirty != \'undefined\') return existingData._isDirty;',
'\t\t\telse return false;',
'\t\t} else { ',
'\t\t\tif(typeof existingData._isNewRow != \'undefined\') return existingData._isNewRow;',
'\t\t\telse return false;',
'\t\t}',
'\t}',
'\t,',
'\tlistRowIsNew: function() {\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\treturn this.listRowIsDirty(rn,true);',
'\t}',
'\t,',
'\t_getDataFromRoute: function(route) { \t\tvar rn = [].concat(route);',
'\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\tif(typeof topParent == \'undefined\') var lObj = this;',
'\t\telse var lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\tvar _td = lObj._data;',
'\t\tfor(var i = 0; i < rn.length; i++) { ',
'\t\t   _td = _td[ rn[i] ];',
'\t\t}',
'\t\treturn _td;',
'\t}',
'\t,',
'\t_isRowInRouteVisible: function(route) { \t\tvar rn = [].concat(route);',
'\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\tif(typeof topParent == \'undefined\') var lObj = this;',
'\t\telse var lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\tvar index = 0;',
'\t\twhile(rn.length >1) {',
'\t\t\tindex = lObj._logicalRow2PhysicalRow(rn.shift());',
'\t\t\tif(lObj.selection[0] != index) return false;',
'\t\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(rn.shift().replace(\'__LIST__\',\'\'));',
'\t\t}',
'\t\treturn true;\t\t',
'\t}',
'\t,',
'\t_isRouteBranchDirty: function(route) { \t\tvar rn = [].concat(route);',
'\t\tif( typeof  rn[rn.length-1] == \'number\' ) rn.pop();',
'\t\tvar _d = this._getDataFromRoute(rn);',
'\t\tfor(var i = 0; i < _d.length; i++) { ',
'\t\t\tif( _d[i]._isDirty || _d[i]._isNewRow || _d[i]._isDeletedRow) return true;',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_routeBranchHasServerSideError: function(route) { \t\tvar rn = [].concat(route);',
'\t\tif( typeof  rn[rn.length-1] == \'number\' ) rn.pop();',
'\t\tvar _d = this._getDataFromRoute(rn);',
'\t\tfor(var i = 0; i < _d.length; i++) { ',
'\t\t\tif(  _d[i]._hasServerSideError ||  _d[i]._flagServerSideErrorInChild  || _d[i]._hasWriteConflictErrors ||  _d[i]._flagWriteConflictErrorInChild      ) return true;',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_responseStart: function() {\t\tdelete this._rowGUIDS;',
'\t\tthis._rowGUIDS = [];',
'\t}',
',',
'\t_responseEnd: function() {\t\t',
'\t\tvar flagUsingSyncLog = false;',
'\t\tflagUsingSyncLog = this._useServerSideSyncLog;',
'\t\tif(typeof flagUsingSyncLog == \'undefined\') flagUsingSyncLog = false;',
'\t\tif(flagUsingSyncLog) {',
'\t\t\tvar flagClearLog = this._clearServerSideSyncLog;',
'\t\t\tif(typeof flagClearLog == \'undefined\') flagClearLog = true;',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\tif(flagClearLog) {',
'\t\t\t\t_dlgObj.synchronizeComplete(this._rowGUIDS);',
'\t\t\t}',
'\t\t}',
'\t}',
',',
'\t_getTopParentList: function() { \t\t',
'\t\tvar allParentLists = this.allParentLists;',
'\t\tif(typeof allParentLists == \'undefined\') return this.listVariableName;',
'\t\tif(allParentLists.length == 0) return this.listVariableName;',
'\t\treturn allParentLists[allParentLists.length -1];',
'\t}',
',',
'\tsetRowCleanPreserveState: function() {\t\tthis.setRowClean(arguments[0],-1,true);',
'\t}',
',',
'\tsetRowClean: function() {\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tvar mode = typeof arguments[1] != \'undefined\' ? arguments[1] : -1;',
'\t\tvar flagPreserveState = typeof arguments[2] != \'undefined\' ? arguments[2] : false;',
'\t\tvar flagRouteArray = false;',
'\t\tif(rn.constructor == Array) { ',
'\t\t\tflagRouteArray = true;',
'\t\t\tvar existingData = this._getDataFromRoute(rn);',
'\t\t\tvar _row = rn[rn.length -1];',
'\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t} else {',
'\t\t\tvar _row = \'\';',
'\t\t\tvar existingData = this.getData(this.selection[0]);',
'\t\t\tif(rn > -1) {',
'\t\t\t\t_row = rn;',
'\t\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t\t} else _row = existingData[\'*key\'];',
'\t\t\tvar existingData = this.getData(_row);',
'\t\t}',
'\t\tif(mode == 1 ) {',
'\t\t\tif(typeof existingData._oldData != \'undefined\') return false;',
'\t\t}',
'\t\tif(!flagPreserveState) {',
'\t\t\texistingData._isDirty = false;',
'\t\t\texistingData._isNewRow = false;',
'\t\t}',
'\t\texistingData._hasServerSideError = false;',
'\t\texistingData._serverSideErrors = false;',
'\t\texistingData._flagServerSideErrorInChild = false;',
'\t\texistingData._hasWriteConflictErrors = false;',
'\t\texistingData._hasGlobalErrors = false;',
'\t\texistingData._flagWriteConflictErrorInChild = false;',
'\t\texistingData._flagGlobalErrorInChild = false;',
'\t\texistingData._dirtyImages = false;',
'\t\tvar topParentList = this._getTopParentList();',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar lTop = _dlgObj.getControl(topParentList);',
'\t\tif(typeof lTop._rowGUIDS == \'undefined\') lTop._rowGUIDS = [];',
'\t\tlTop._rowGUIDS.push(existingData[\'*rowGUID\']);',
'\t\tdelete existingData[\'*rowGUID\'];',
'\t\texistingData._writeConflictErrors = false;',
'\t\tif(!flagPreserveState) delete existingData._oldData;',
'\t\tdelete existingData._globalErrors;',
'\t\tdelete existingData._globalErrorsRaw;',
'\t\tif(flagRouteArray) {',
'\t\t\tif(this._isRowInRouteVisible(rn)) this.updateRow(_row,existingData);',
'\t\t} else {',
'\t\t\tthis.updateRow(_row,existingData);',
'\t\t}',
'\t\tvar parentList = this.parentList;',
'\t\tif(typeof parentList != \'undefined\') {',
'\t\t\tif(flagRouteArray) var flagListIsDirty =  this._isRouteBranchDirty(rn);  ',
'\t\t\telse var flagListIsDirty = this.listIsDirty();',
'\t\t\tif (flagListIsDirty == false) { ',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\t\t\tif(flagRouteArray) {',
'\t\t\t\t\trn.pop();',
'\t\t\t\t\trn.pop();',
'\t\t\t\t\tlObj.setRowClean(rn,1);',
'\t\t\t\t} else {',
'\t\t\t\t\tlObj.setRowClean(-1,1);',
'\t\t\t\t}',
'\t\t\t} else { ',
'\t\t\t\tif(flagPreserveState) {',
'\t\t\t\t\tthis._setRouteDirty(rn);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\t_setRouteDirty: function(route) { \t\troute.pop();',
'\t\troute.pop();',
'\t\tvar flagLoop = true;',
'\t\tif(route.length == 0) flagLoop = false;',
'\t\twhile(flagLoop) { ',
'\t\t\tvar existingData = this._getDataFromRoute(route);',
'\t\t\texistingData._isDirty = true;',
'\t\t\troute.pop();',
'\t\t\troute.pop();',
'\t\t\tif(route.length == 0) break;',
'\t\t}',
'\t}',
',',
'\t_showError: function(id,moreTxt,lessTxt) { \t\tvar e = $(id);',
'\t\tvar e2 = $(id + \'.LINK\');',
'\t\tif(e.style.display == \'\') { ',
'\t\t\te.style.display = \'none\';',
'\t\t\te2.innerHTML = moreTxt;',
'\t\t} else { ',
'\t\t\te.style.display = \'\';',
'\t\t\te2.innerHTML = lessTxt;',
'\t\t}',
'\t}',
'\t,',
'\t_setGlobalCRUDErrors: function(rowNum,txt,mode) { \t\t',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar ePH =  this._globalErrorPlaceHolder;',
'\t\tif(typeof ePH == \'undefined\') ePH = \'\';',
'\t\tvar flagPH = $(ePH);',
'\t\tif(typeof mode == \'undefined\') mode = \'\';',
'\t\tvar txtRaw = txt;',
'\t\tif(mode != \'\' && ePH != \'\' && flagPH) {',
'\t\t\tvar customMessage = this.customization.dv.databaseError[mode];',
'\t\t\tcustomMessage = customMessage.split(\'|\');',
'\t\t\ttxt = \'<div onclick="window[\\\'\'+this._hostComponentId + \'_DlgObj\\\'].getControl(\\\'\'+this.listVariableName+\'\\\')._showError(\\\'\'+this.listVariableName +\'.GLOBALERROR\\\',\\\'\'+customMessage[1]+\'\\\',\\\'\'+customMessage[2]+\'\\\');">\' + customMessage[0] + \'&nbsp;<a id="\'+this._hostComponentId+\'.\'+this.listVariableName + \'.GLOBALERROR.LINK" class="iOS7Link" style="cursor: pointer;color:red; font-size: 8pt;" href=\\\'#\\\'>\'+customMessage[1]+\'</a>\' + \'<div id="\'+this.listVariableName+\'.GLOBALERROR" style="display: none; font-size: 8pt;">\'+txt+\'</div></div>\';',
'\t\t}',
'\t\tif(rowNum.constructor == Array) { ',
'\t\t\tthis.setServerSideError(true,rowNum,txt,\'ge\',txtRaw);',
'\t\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar _d = this._getRowData(rowNum);',
'\t\t_d._globalErrors = txt;',
'\t\t_d._globalErrorsRaw = txtRaw;',
'\t\t_d._hasServerSideError = false;',
'\t\t_d._serverSideErrors = false;',
'\t\tthis.updateRow(rowNum,_d);',
'\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t}',
'\t,',
'\tgetAllErrors: function() { \t\tvar lObj = this;',
'\t\tvar data = lObj._data;',
'\t\tvar r = A5.u.object.each(data,function(name,value,path,result){',
'\t\t\tpath = path.splice(0,path.length -1);',
'\t\t\tvar _dr = data;',
'\t\t\tfor(var i = 0; i < path.length; i++) { ',
'\t\t\t\tvar _dr = _dr[path[i]];',
'\t\t\t}',
'\t\t\tif(name == \'_hasServerSideError\') { ',
'\t\t\t\tif(value) { ',
'\t\t\t\t\tresult.push({errorType: \'serverSide\', path:path, error: _dr[\'_serverSideErrors\']});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(name == \'_hasWriteConflictErrors\') { ',
'\t\t\t\tif(value) { ',
'\t\t\t\t\tvar _wc = _dr[\'_writeConflictErrors\'];',
'\t\t\t\t\tvar _wc2 = [];',
'\t\t\t\t\t$u.o.assign(_wc2,_wc);',
'\t\t\t\t\tfor(var i = 0; i < _wc2.length; i++) {',
'\t\t\t\t\t\tdelete _wc2[i].errorText;',
'\t\t\t\t\t}',
'\t\t\t\t\tresult.push({errorType: \'writeConflict\', path: path, error: _wc2});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(name == \'_hasGlobalErrors\') { ',
'\t\t\t\tif(value) { ',
'\t\t\t\t\tresult.push({errorType: \'globalError\', path: path, error: _dr[\'_globalErrorsRaw\']});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t})',
'\t\treturn r;',
'\t}',
'\t,',
'\t_setWriteConflictErrors: function(rowNum,eArr) {\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tif(rowNum.constructor == Array) { ',
'\t\t\tthis.setServerSideError(true,rowNum,eArr,\'wc\');',
'\t\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t\t\treturn true;',
'\t\t}',
'\t\trowNum = this._logicalRow2PhysicalRow(rowNum);',
'\t\tvar _d = this._getRowData(rowNum);',
'\t\t_d._writeConflictErrors = eArr;',
'\t\t_d._hasWriteConflictErrors = true;',
'\t\t_d._hasServerSideError = false;',
'\t\t_d._serverSideErrors = false;',
'\t\tthis.updateRow(rowNum,_d);',
'\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t}',
'\t,',
'\t_setGenericByChild: function(rn,mode) { \t',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') { ',
'\t\t\tif(parentListName != \'\') {',
'\t\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentListName);',
'\t\t\t\tvar existingData = plObj._getDataFromRoute(rn);',
'\t\t\t\tif(mode == \'sse\') {',
'\t\t\t\t\texistingData._flagServerSideErrorInChild = true;',
'\t\t\t\t\texistingData._isDirty = true;',
'\t\t\t\t} else if (mode == \'wc\') { ',
'\t\t\t\t\texistingData._flagWriteConflictErrorInChild = true;',
'\t\t\t\t\texistingData._isDirty = true;',
'\t\t\t\t} else if (mode == \'ge\') {',
'\t\t\t\t\texistingData._flagGlobalErrorInChild = true;',
'\t\t\t\t\texistingData._isDirty = true;',
'\t\t\t\t}',
'\t\t\t\tvar _row = rn[rn.length -1];',
'\t\t\t\t_row = plObj._logicalRow2PhysicalRow(_row);',
'\t\t\t\tif(plObj._isRowInRouteVisible(rn)) plObj.updateRow(_row,existingData);',
'\t\t\t\trn.pop();',
'\t\t\t\trn.pop();',
'\t\t\t\tplObj._setGenericByChild(rn,mode)',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\tsetServerSideError: function(flag) { \t\t',
'\t\tvar rn = typeof arguments[1] != \'undefined\' ? arguments[1] : -1;',
'\t\tvar flagRouteArray = false;',
'\t\tif(rn.constructor == Array) { ',
'\t\t\tflagRouteArray = true;',
'\t\t}',
'\t\tvar errObj =  typeof arguments[2] != \'undefined\' ? arguments[2] : {};',
'\t\tif(flag == false) {',
'\t\t\terrObj = false;',
'\t\t}',
'\t\tvar mode = typeof arguments[3] != \'undefined\' ? arguments[3] : \'sse\' ',
'\t\tvar txtRaw = typeof arguments[4] != \'undefined\' ? arguments[4] : \'\';',
'\t\tvar _row = \'\';',
'\t\tif(flagRouteArray) { ',
'\t\t\tvar existingData = this._getDataFromRoute(rn);',
'\t\t\tvar _row = rn[rn.length -1];',
'\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t} else { ',
'\t\t\tvar existingData = this.getData(this.selection[0]);',
'\t\t\tif(rn > -1) {',
'\t\t\t\t_row = rn;',
'\t\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t\t} else _row = existingData[\'*key\'];',
'\t\t\tvar existingData = this.getData(_row);',
'\t\t}',
'\t\tif(mode == \'sse\') {',
'\t\t\texistingData._hasServerSideError = flag;',
'\t\t\texistingData._serverSideErrors = errObj;',
'\t\t\texistingData._globalErrors = false;',
'\t\t\texistingData._globalErrorsRaw = \'\'',
'\t\t\texistingData._hasGlobalErrors = false;',
'\t\t\texistingData._hasWriteConflictErrors = false;',
'\t\t\texistingData._writeConflictErrors = false;',
'\t\t} else if (mode == \'wc\') { ',
'\t\t\texistingData._hasWriteConflictErrors = flag;',
'\t\t\texistingData._writeConflictErrors = errObj;',
'\t\t\texistingData._hasServerSideError = false;',
'\t\t\texistingData._serverSideErrors = false;',
'\t\t} else if (mode == \'ge\') { ',
'\t\t\texistingData._globalErrors = errObj;',
'\t\t\texistingData._globalErrorsRaw = txtRaw;',
'\t\t\texistingData._hasGlobalErrors = flag;',
'\t\t\texistingData._hasServerSideError = false;',
'\t\t\texistingData._serverSideErrors = false;',
'\t\t}',
'\t\tif(flagRouteArray) {',
'\t\t\tif(this._isRowInRouteVisible(rn)) this.updateRow(_row,existingData);',
'\t\t\tif(this._setGenericByChild) {',
'\t\t\t\trn.pop();',
'\t\t\t\trn.pop();',
'\t\t\t\tthis._setGenericByChild(rn,mode);',
'\t\t\t}',
'\t\t} else {',
'\t\t\tthis.updateRow(_row,existingData);',
'\t\t}',
'\t}',
'\t,',
'\t_showWCErrorMore: function(varName,eleIn,infoIn) { \t\tvar info = {};',
'\t\tif(typeof infoIn != \'undefined\') { ',
'\t\t\tinfo = infoIn;',
'\t\t}',
'\t\tif(typeof eleIn == \'undefined\') eleIn = false;',
'\t\tvar row = this.selection[0];',
'\t\tthis._wceVarname = varName;',
'\t\tvar myValue = window[this._hostComponentId + \'_DlgObj\'].getValue(varName);',
'\t\tvar _d = this._getRowData(row)',
'\t\tvar wce = _d._writeConflictErrors;',
'\t\tvar wcCount = wce.length;',
'\t\tvar indx = \'\';',
'\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',varName);',
'\t\tif(indx == -1) return false ',
'\t\twce = wce[indx];',
'\t\tvar mTheirs = this.customization.dv.writeConflict.useTheirsMessage;',
'\t\tvar mMine   = this.customization.dv.writeConflict.useMineMessage;',
'\t\tvar mTheirsAll = this.customization.dv.writeConflict.useTheirsAll;',
'\t\tvar mMineAll   = this.customization.dv.writeConflict.useMineAll;',
'\t\tmTheirs = mTheirs.replace(\'{theirvalue}\',this._stripHTML(wce.oldValueCurrent,30));',
'\t\tmMine = mMine.replace(\'{myvalue}\',this._stripHTML(myValue,30));',
'\t\tvar ctxt = this;\t\t\t\t',
'\t\tvar mD = [];',
'\t\tmD.push({html: mMine, value: \'mine\'});',
'\t\tmD.push({html: mTheirs, value: \'theirs\'});',
'\t\tif(wcCount > 1) {',
'\t\t\tmD.push(\'-\');',
'\t\t\tmD.push({html: mMineAll , value: \'mineAll\'});',
'\t\t\tmD.push({html: mTheirsAll, value: \'theirsAll\' });',
'\t\t}',
'\t\tvar mS = {',
'\t\t\ttheme: \'iOS7\',',
'\t\t\t_hostComponentId : this._hostComponentId,',
'\t\t\tlistVariableName: this.listVariableName,',
'\t\t\ticonColumn: {show: false},',
'\t\t\tpointer: {show: true,location: \'auto\'},',
'\t\t\tanimation: {show: {type: \'css-slide\',duration: \'fast\'}, hide: {type: \'none\',duration: \'fast\'}},',
'\t\t\tonHide: function() {  $(this._eleWCM).style.visibility = \'\';},',
'\t\t\tonClick: function(item) { ',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.listVariableName);',
'\t\t\t\tif(item.value == \'mine\') lObj._useMine(this._varName);',
'\t\t\t\tif(item.value == \'mineAll\') lObj._useMineAll(); ',
'\t\t\t\tif(item.value == \'theirs\') lObj._useTheirs(this._varName);',
'\t\t\t\tif(item.value == \'theirsAll\') lObj._useTheirsAll(); ',
'\t\t\t}',
'\t\t};',
'\t\tvar eleWCM = this._hostComponentId +\'.WCM.\'+this.listVariableName+ \'.\' +  varName.toUpperCase();',
'\t\t$(eleWCM).style.visibility = \'hidden\';',
'\t\tif(typeof this._menu == \'undefined\') {',
'\t\t\tthis._menu = new A5.Menu(mD,mS);',
'\t\t} else {',
'\t\t\tthis._menu.populate(mD);',
'\t\t}',
'\t\tthis._menu._varName = varName;',
'\t\tthis._menu._eleWCM = eleWCM;',
'\t\tvar ele = \'\';',
'\t\tif(eleIn == false) {',
'\t\t\tele = window[this._hostComponentId + \'_DlgObj\'].getPointer(varName);',
'\t\t} else { ',
'\t\t\tele = eleIn;',
'\t\t}',
'\t\tthis._menu.show(\'dropdown\',ele);  ',
'\t}',
'\t,',
'\t_useMine: function(varName) { \t\tthis.resolveConflictUsingMine(varName);',
'\t}',
'\t,',
'\t_useTheirs: function(varName) { \t\tthis.resolveConflictUsingTheirs(varName);',
'\t}',
'\t,',
'\t_useMineAll: function() { \t\tthis.resolveConflictUsingMine();',
'\t}',
'\t,',
'\t_useTheirsAll: function() { \t\tthis.resolveConflictUsingTheirs();',
'\t}',
'\t,',
'\tresolveConflictUsingMine: function() { \t\t',
'\t\tvar control = typeof arguments[0] != \'undefined\' ? arguments[0] : \'__all__\';',
'\t\tvar row = this.selection[0];',
'\t\tvar _d = this._getRowData(row)',
'\t\tvar wce = _d._writeConflictErrors;',
'\t\tif(typeof wce == \'undefined\') return false;',
'\t\tvar arr = [];',
'\t\tif(control == \'__all__\') arr = this._getControlsInDv();',
'\t\telse arr.push(control);',
'\t\tvar myValue = \'\';',
'\t\tvar indx = \'\';',
'\t\tvar fn = \'\';',
'\t\tvar ix2 = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tmyValue = window[this._hostComponentId + \'_DlgObj\'].getValue(arr[i]);',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\tif(indx >0 -1) {',
'\t\t\t\tix2 = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\t\tif(ix2 == -1) return false ',
'\t\t\t\tfn = this._getListFieldFromControl(arr[i]);',
'\t\t\t\t_d._oldData[fn] = wce[ix2].oldValueCurrent;',
'\t\t\t\twce.splice(indx,1);',
'\t\t\t}',
'\t\t}',
'\t\tif(wce.length == 0) {',
'\t\t\t_d._writeConflictErrors = false;',
'\t\t\t_d._hasWriteConflictErrors = false;',
'\t\t\tthis.updateRow(row,_d);',
'\t\t};',
'\t\tif(_d._hasWriteConflictErrors == false) { ',
'\t\t\tvar parentList = this.parentList;',
'\t\t\tif(typeof parentList != \'undefined\') {',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\t\t\tlObj._setChildHasWriteConflictFlag();',
'\t\t\t}',
'\t\t}',
'\t\tthis._clearServerSideErrors();',
'\t\tthis._showWriteConflictErrors();',
'\t}',
'\t,',
'\tresolveConflictUsingTheirs: function() { \t\t',
'\t\tvar control = typeof arguments[0] != \'undefined\' ? arguments[0] : \'__all__\';',
'\t\tvar row = this.selection[0];',
'\t\tvar _d = this._getRowData(row)',
'\t\tvar wce = _d._writeConflictErrors;',
'\t\tif(typeof wce == \'undefined\') return false;',
'\t\tvar arr = [];',
'\t\tif(control == \'__all__\') {',
'\t\t\tarr = this._getControlsInDv();',
'\t\t} else { ',
'\t\t\tif(control.constructor == Array) { ',
'\t\t\t\tarr = control;',
'\t\t\t} else { ',
'\t\t\t\tarr.push(control);',
'\t\t\t}',
'\t\t}',
'\t\tvar myValue = \'\';',
'\t\tvar indx = \'\';',
'\t\tvar fn = \'\';',
'\t\tvar ix2 = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tmyValue = window[this._hostComponentId + \'_DlgObj\'].getValue(arr[i]);',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\tif(indx >0 -1) {',
'\t\t\t\tix2 = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\t\tif(ix2 == -1) return false ',
'\t\t\t\tfn = this._getListFieldFromControl(arr[i]);',
'\t\t\t\t_d[fn] = wce[ix2].oldValueCurrent;',
'\t\t\t\t_d._oldData[fn] = wce[ix2].oldValueCurrent;',
'\t\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setValue(arr[i], wce[ix2].oldValueCurrent,false);',
'\t\t\t\twce.splice(indx,1);',
'\t\t\t}',
'\t\t}',
'\t\tif(wce.length == 0) {',
'\t\t\t_d._writeConflictErrors = false;',
'\t\t\t_d._hasWriteConflictErrors = false;',
'\t\t};',
'\t\tvar allArr = this._getControlsInDv();',
'\t\t_d._isDirty = false;',
'\t\tvar tempData = \'\';',
'\t\tfor(var i = 0; i < allArr.length; i++) {',
'\t\t\tfn = this._getListFieldFromControl(allArr[i]);',
'\t\t\ttempData = _d._oldData[fn];',
'\t\t\tif(tempData == null) tempData = \'\';',
'\t\t\tif( _d[fn] != tempData ) {',
'\t\t\t\t_d._isDirty = true;',
'\t\t\t\tbreak;',
'\t\t\t}',
'\t\t}',
'\t\tthis.updateRow(row,_d);',
'\t\tthis._clearServerSideErrors();',
'\t\tthis._showWriteConflictErrors();\t',
'\t\tif(_d._hasWriteConflictErrors == false) { ',
'\t\t\tvar parentList = this.parentList;',
'\t\t\tif(typeof parentList != \'undefined\') {',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\t\t\tlObj._setChildHasWriteConflictFlag(); ',
'\t\t\t}',
'\t\t}',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t}',
'\t,',
'\t_stripHTML: function(txt,length) { \t\tvar ele = document.createElement(\'div\');',
'\t\tele.innerHTML = txt;',
'\t\tvar txt2 = ele.textContent;',
'\t\tvar txt3 = txt2.substr(0,length);',
'\t\tif(txt3.length < txt2.length) txt3 = txt3 + \'...\';',
'\t\tdelete ele;\t\t',
'\t\treturn txt2;',
'\t}',
'\t,',
'\t_showWriteConflictErrors: function(row) { \t\tvar _d = this._getRowData(row);',
'\t\tif(typeof _d == \'undefined\') return false; ',
'\t\tif(typeof _d._writeConflictErrors == \'undefined\') return false;',
'\t\tif(typeof _d._hasWriteConflictErrors == \'undefined\') return false;',
'\t\tif(_d._hasWriteConflictErrors == false) return false;',
'\t\t_e = _d._writeConflictErrors',
'\t\tvar arr = [];',
'\t\tfor(var i = 0; i < _e.length; i++) {',
'\t\t\tdelete obj;',
'\t\t\tvar obj = {};',
'\t\t\tobj.id =  this._hostComponentId +  \'.V.R1.\' + _e[i].varName.toUpperCase();',
'\t\t\tobj.message = _e[i].errorText;',
'\t\t\tarr.push(obj);',
'\t\t}',
'\t\tvar arrFix = [];',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif($(arr[i].id)) arrFix.push(arr[i]);',
'\t\t}',
'\t\tif(arrFix.length > 0) window[this._hostComponentId + \'_DlgObj\'].setErrors(arr);;',
'\t}',
'\t,',
'\t_showServerSideErrors: function(row) { \t\tvar _d = this._getRowData();',
'\t\tif(typeof _d == \'undefined\') return false; ',
'\t\tif(typeof _d._globalErrors != \'undefined\') {',
'\t\t\tif(_d._globalErrors != \'\') {',
'\t\t\t\tthis._showGlobalError(_d._globalErrors);',
'\t\t\t}',
'\t\t}',
'\t\tif(typeof _d._serverSideErrors == \'undefined\') return false;',
'\t\tif(typeof _d._hasServerSideError == \'undefined\') return false;',
'\t\tif(_d._hasServerSideError == false) return false;',
'\t\t_e = _d._serverSideErrors;',
'\t\tvar arr = [];',
'\t\tfor(var i = 0; i < _e.length; i++) {',
'\t\t\tdelete obj;',
'\t\t\tvar obj = {};',
'\t\t\tif(typeof _e[i].varName != \'undefined\') { ',
'\t\t\t\tobj.id = this._hostComponentId + \'.V.R1.\' + _e[i].varName.toUpperCase();',
'\t\t\t\tobj.message = _e[i].errorText;',
'\t\t\t\tobj.errorType = \'serverside\';',
'\t\t\t\tarr.push(obj);',
'\t\t\t}',
'\t\t}',
'\t\tvar arrFix = [];',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif($(arr[i].id)) arrFix.push(arr[i]);',
'\t\t}',
'\t\tif(arrFix.length > 0) window[this._hostComponentId + \'_DlgObj\'].setErrors(arr);;',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t}',
'\t,',
'\t_clearServerSideErrors: function() {\t\tvar ea = window[this._hostComponentId + \'_DlgObj\']._eh._e;',
'\t\tif(typeof ea == \'undefined\') return false;',
'\t\tvar arr = this._getControlsInDv();',
'\t\tvar fa = [];',
'\t\tvar id = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tid = this._hostComponentId + \'.V.R1.\' + arr[i].toUpperCase()',
'\t\t\tif(window[this._hostComponentId + \'_DlgObj\']._findArrayProp(ea,\'id\',id) >= 0) fa.push(id);',
'\t\t}',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].clearErrors(fa);',
'\t\tthis._clearGlobalError();',
'\t}',
'\t,',
'\t_hasClientSideError: function() { \t\tvar ea = window[this._hostComponentId + \'_DlgObj\']._eh._e;',
'\t\tif(typeof ea == \'undefined\') return false;',
'\t\tvar arr = this._getControlsInDv();',
'\t\tvar indx = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tid = this._hostComponentId + \'.V.R1.\' + arr[i].toUpperCase()',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(ea,\'id\',id);',
'\t\t\tif(indx >= 0) {',
'\t\t\t\tif( ea[indx].clientSide == true) {',
'\t\t\t\t\treturn true;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_getRowData: function() { \t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tif(rn > -1) return this.getData(rn);',
'\t\telse return this.getData(this.selection[0]);',
'\t}',
'\t,',
'\tsetListClean: function() {\t\tfor(var i = 0; i < this._data.length; i++) { ',
'\t\t\tthis.setRowClean(i);',
'\t\t}',
'\t}',
'\t,',
'\tdeleteRow: function() { \t\t',
'\t\tvar _rn = this.selection[0];',
'\t\tif(typeof _rn == \'undefined\') return false;',
'\t\tif(this._executeEvent(\'detailView.canDeleteRow\',{}) == false) return false;',
'\t\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\t\tvar flagPrompt = typeof ops.prompt != \'undefined\' ? ops.prompt : true;',
'\t\tif(!flagPrompt) {',
'\t\t\tthis._deleteRowLow();',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar classInst = this;',
'\t\tif(typeof this.customization == \'undefined\') return false;',
'\t\tvar msg = this.customization.dv.confirmDeleteWarning.message;',
'\t\tvar image = this.customization.dv.confirmDeleteWarning.icon;',
'\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\tvar title = this.customization.dv.confirmDeleteWarning.title;',
'\t\tA5.msgBox.show(title,msg,\'yn\',function(button) {',
'\t\t\tif(button == \'yes\'){',
'\t\t\t\tclassInst._deleteRowLow();    ',
'\t\t    } else if(button == \'no\'){',
'   \t\t\t}',
'   \t\t\tdelete classInst;',
'\t\t} );',
'\t}',
'\t,',
'\tresetRow: function() { \t\tif(this._executeEvent(\'detailView.canResetRow\',{}) == false) return false;',
'\t\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\t\tvar flagPrompt = typeof ops.prompt != \'undefined\' ? ops.prompt : true;',
'\t\tif(!flagPrompt) {',
'\t\t\tthis._resetRowLow();',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar classInst = this;',
'\t\tvar msg = this.customization.dv.confirmRowResetWarning.message;',
'\t\tvar image = this.customization.dv.confirmRowResetWarning.icon;',
'\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\tvar title = this.customization.dv.confirmRowResetWarning.title;',
'\t\tA5.msgBox.show(title,msg,\'yn\',function(button) {',
'\t\t\tif(button == \'yes\'){',
'\t\t\t\tclassInst._resetRowLow();    ',
'\t\t    } else if(button == \'no\'){',
'   \t\t\t}',
'   \t\t\tdelete classInst;',
'\t\t} );',
'\t}',
'\t,',
'\t_resetRowLow: function() { \t\tvar existingData = this.getData(this.selection[0]);',
'\t\tif(typeof existingData == \'undefined\') return false;',
'\t\tif(typeof existingData._oldData == \'undefined\') return false;',
'\t\tvar data = {};',
'\t\t$u.o.assign(data,existingData._oldData);',
'\t\tdata._isDirty = false;',
'\t\tdata._isDeleted = false;',
'\t\tdata._hasServerSideError = false;',
'\t\tdata._serverSideErrors = false;',
'\t\tdata._hasWriteConflictErrors = false;',
'\t\tdata._writeConflictErrors = false;',
'\t\tdata._oldData = false;',
'\t\tdelete data._globalErrors;',
'\t\tdelete data._globalErrorsRaw;',
'\t\tthis.updateRow(this.selection[0],data);',
'\t\tvar existingData = this.getData(this.selection[0]);',
'\t\tdelete existingData._globalErrors;',
'\t\tdelete existingData._globalErrorsRaw;',
'\t\tthis.updateRow(this.selection[0],existingData);',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t\tthis.populateUXControls();',
'\t\tthis._refreshDebugInfo();',
'\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\tif(typeof topParent != \'undefined\') { ',
'\t\t\tvar lObjTP = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\t\tvar _r = lObjTP._getRoute();',
'\t\t\tvar _ra = this.__routeToArray(_r)',
'\t\t\tthis.setRowCleanPreserveState(_ra);',
'\t\t}',
'\t\tthis._executeEvent(\'detailView.afterResetRow\',{});',
'\t}',
'\t,',
'\t__routeToArray: function(_r) { \t\tvar arr = [];',
'\t\tfor(var i = 0; i < _r.length; i++) { ',
'\t\t\tif(i==0) {',
'\t\t\t\tarr.push(_r[i].row);',
'\t\t\t} else { ',
'\t\t\t\tarr.push(\'__LIST__\' +_r[i].list);',
'\t\t\t\tarr.push(_r[i].row);',
'\t\t\t}',
'\t\t}',
'\t\treturn arr; ',
'\t}',
',',
'\t_arrayIsDirty: function(arr) { \t\tvar flag = false;',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif(arr[i]._isDirty) { ',
'\t\t\t\treturn true;',
'\t\t\t}',
'\t\t}',
'\t\treturn false;',
'\t}',
',',
'\t_deleteRowLow: function() { \t\t',
'\t\tvar data = this.getData(this.selection[0]);',
'\t\tif(typeof data == \'undefined\') return false;',
'\t\tvar flagNewRow = \'\';',
'\t\tif(typeof data._isNewRow != \'undefined\') flagNewRow = data._isNewRow;',
'\t\tif(flagNewRow) { ',
'\t\t\tvar _rn = this.selection[0];',
'\t\t\tvar _newRow = _rn;',
'\t\t\tif( (_newRow +1) > (this._dataMap.length-1) ) _newRow = _newRow -1;',
'\t\t\tthis.nullOutDetailViewRecord();',
'\t\t\tthis.removeRows([_rn]);',
'\t\t\tvar flagListIsClean = !this._arrayIsDirty(this._data);',
'\t\t\tdata._isDeleted = true;',
'\t\t\tvar parentListName = this.parentList;',
'\t\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\t\tvar flagIsNewRow = false;',
'\t\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\t\tvar parentData = plObj.getData(plObj.selection[0]);',
'\t\t\t\tvar parentData2 = parentData;',
'\t\t\t\tvar parentDataSublist = parentData[\'__LIST__\' + this.listVariableName];',
'\t\t\t\tvar indx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(parentDataSublist,\'*key\',data[\'*key\']);',
'\t\t\t\tparentDataSublist.splice(indx,1);',
'\t\t\t\tvar flagLoop = true;',
'\t\t\t\tvar parentList = plObj;',
'\t\t\t\twhile(flagLoop && flagListIsClean) { ',
'\t\t\t\t\tif( (typeof parentData[\'_oldData\'] == \'undefined\' || !parentData[\'_oldData\']) && (typeof parentData._isNewRecord != \'undefined\' || !parentData._isRewRecord)    ) {',
'\t\t\t\t\t\tparentData._isDirty = false;',
'\t\t\t\t\t\tparentData._flagGlobalErrorInChild = false;',
'\t\t\t\t\t\tif(typeof parentList.parentList == \'undefined\') break;',
'\t\t\t\t\t\tparentList = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList.parentList);',
'\t\t\t\t\t\tif(parentList) { ',
'\t\t\t\t\t\t\tparentData = parentList.getData(parentList.selection[0]);',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tbreak;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\t\t\tvar lTop = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\t\t\tvar topParentData = lTop.getData(lTop.selection[0]);',
'\t\t\t\tlTop._resetFlags(topParentData);',
'\t\t\t\tlTop._refreshListRecursive();',
'\t\t\t}',
'\t\t\tthis.setValue(_newRow);',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\t_dlgObj.persistVariablesToLocalStorage();',
'\t\t\tthis._executeEvent(\'detailView.afterDeleteRow\',{})',
'\t\t\treturn false;',
'\t\t}',
'\t\tdata._isDirty = true;',
'\t\tdata._hasServerSideError = false;',
'\t\tdata._serverSideErrors = false;',
'\t\tdata._hasWriteConflictErrors = false;',
'\t\tdata._writeConflictErrors = false;',
'\t\tdata._oldData = false;',
'\t\tdata._isDeleted = true;',
'\t\tdata = this._base64Prefix(data,true);',
'\t\tthis.updateRow(this.selection[0],data);',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t\tthis.populateUXControls();',
'\t\tthis._refreshDebugInfo();',
'\t\tthis._executeEvent(\'detailView.afterDeleteRow\',{});',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\tvar flagIsNewRow = false;',
'\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\tif(plObj._setDirtyByChild) {',
'\t\t\t\tplObj._setDirtyByChild(false);',
'\t\t\t}',
'\t\t}',
'\t\tif(this.synchronizeImmediately) { ',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\tvar flagOnLine = _dlgObj._getOnlineStatus();',
'\t\t\tif (flagOnLine) _dlgObj.saveListEdits(this.listVariableName);',
'\t\t}',
'\t}',
'\t,',
'\t_base64Prefix: function(_d,flagRemove) { \t\tvar n = \'\';',
'\t\tvar b64prefix = \'\'',
'\t\tfor(var i = 0; i < this._listFields.length; i++) {',
'\t\t\tif(typeof this._listFields[i].base64Prefix !== \'undefined\') { ',
'\t\t\t\tn = this._listFields[i].name;',
'\t\t\t\tb64prefix = this._listFields[i].base64Prefix;',
'\t\t\t\t_d[n] = _d[n].replace(b64prefix,\'\');',
'\t\t\t\tif(!flagRemove) _d[n] = b64prefix + _d[n];',
'\t\t\t}',
'\t\t}',
'\t\treturn _d;',
'\t}',
'\t,',
'\t_resetFlags: function(_d) { \t',
'\tvar r = A5.u.object.each(_d,function(name,value,path,result) {',
'\t\tif(name == \'_isDirty\'|| name == \'_isNewRow\' ){',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_isDirty\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_isDirty\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(name == \'_hasServerSideError\' || name == \'_flagServerSideErrorInChild\' ) { ',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_flagServerSideErrorInChild\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_flagServerSideErrorInChild\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(name == \'_hasGlobalErrors\' || name == \'_flagGlobalErrorInChild\' ) { ',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_flagGlobalErrorInChild\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_flagGlobalErrorInChild\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(name == \'_hasWriteConflictErrors\' || name == \'_flagWriteConflictErrorInChild\' ) { ',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_flagWriteConflictErrorInChild\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_flagWriteConflictErrorInChild\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t});',
'\tvar _d2 = \'\';',
'\tvar path = \'\';',
'\tvar property = \'\';',
'\tfor(var i = 0; i < r.length; i++) { ',
' \t\t _d2 = _d',
' \t\tpath = JSON.parse(r[i].path)',
' \t\tproperty = r[i].property',
' \t\tfor(var j = 0; j < path.length; j++) { ',
' \t\t\t_d2 = _d2[path[j]];',
' \t\t}',
' \t\t_d2[property] = true;',
'\t}',
'}',
',',
'\tresetForm: function() { \t\tif(this._executeEvent(\'detailView.canUndoEdits\',{}) == false) return false;',
'\t\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\t\tvar flagPrompt = typeof ops.prompt != \'undefined\' ? ops.prompt : true;',
'\t\tif(!flagPrompt) {',
'\t\t\tthis._resetFormLow();',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar classInst = this;',
'\t\tvar msg = this.customization.dv.confirmFormResetWarning.message;',
'\t\tvar image = this.customization.dv.confirmFormResetWarning.icon;',
'\t\tvar title = this.customization.dv.confirmFormResetWarning.title;',
'\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\tA5.msgBox.show(title,msg,\'yn\',function(button) {',
'\t\t\tif(button == \'yes\'){',
'\t\t\t\tclassInst._resetFormLow();    ',
'\t\t    } else if(button == \'no\'){',
'   \t\t\t}',
'   \t\t\tdelete classInst;',
'\t\t} );',
'\t}',
'\t,',
'\t_resetFormLow: function() {\t\tthis.populateUXControls();',
'\t\tvar ctrls = this._getControlsInDv();',
'\t\tvar eleId = \'\';',
'\t\tvar arr = [];',
'\t\tvar indx = -1;',
'\t\tfor(var i = 0; i < ctrls.length; i++) {',
'\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setControlDirty(ctrls[i],false);',
'\t\t\tif( window[this._hostComponentId + \'_DlgObj\']._eh._e.length > 0) {',
'\t\t\t\teleId = this._hostComponentId +  \'.V.R1.\' + ctrls[i].toUpperCase();',
'\t\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(window[this._hostComponentId + \'_DlgObj\']._eh._e,\'id\',eleId);',
'\t\t\t\tif(indx >= 0 ) arr.push(eleId);',
'\t\t\t}',
'\t\t}',
'\t\tif(arr.length > 0) window[this._hostComponentId + \'_DlgObj\'].clearErrors(arr);',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj.refreshClientSideComputations();',
'\t\tthis._executeEvent(\'detailView.afterUndoEdits\',{});',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj.persistVariablesToLocalStorage();',
'\t}',
'\t,',
'\tdetailViewIsDirty: function() {\t\t',
'\t\tvar flagDrillDown = typeof arguments[0] != \'undefined\' ? arguments[0] : false;',
'\t\tvar isDirty = false;',
'\t\tthis._nameOfListWithDirtyDetailView = \'\';',
'\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\tif(window[this._hostComponentId + \'_DlgObj\'].getControlDirty(controlName.toUpperCase())) {',
'\t\t\t\tisDirty =  true;',
'\t\t\t\tthis._nameOfListWithDirtyDetailView = this.listVariableName;',
'\t\t\t\tbreak;',
'\t\t\t}',
'\t\t}',
'\t\tthis._dvIsDirty = isDirty;',
'\t\tif(isDirty == false && flagDrillDown) {',
'\t\t\tvar lObj = \'\';',
'\t\t\tfor(var i = 0; i < this.childLists.length; i++) {',
'\t\t\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\t\t\tif(lObj) {',
'\t\t\t\t\tisDirty = lObj.detailViewIsDirty(flagDrillDown);',
'\t\t\t\t\tif(isDirty) {',
'\t\t\t\t\t\tthis._nameOfListWithDirtyDetailView = lObj._nameOfListWithDirtyDetailView;',
'\t\t\t\t\t\t$(\'msg1\').innerHTML = this._nameOfListWithDirtyDetailView ;',
'\t\t\t\t\t}',
'\t\t\t\t\tif(isDirty) break;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\treturn isDirty;',
'\t}',
'\t,',
'\tlistIsDirty: function() {\t\t',
'\t\tfor(var i = 0; i < this._data.length; i++) { ',
'\t\t\tif(typeof this._data[i]._isDirty != \'undefined\') { ',
'\t\t\t\tif(this._data[i]._isDirty) { ',
'\t\t\t\t\treturn true;',
'\t\t\t\t }',
'\t\t\t}',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_parentListHasActiveRow: function() {\t\tvar pl = this.parentList;',
'\t\tif(typeof pl == \'undefined\') {',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar l = window[this._hostComponentId + \'_DlgObj\'].getControl(pl);',
'\t\tvar s = l.selection[0];',
'\t\tif(typeof s == \'undefined\') return false;',
'\t\treturn true;',
'\t}',
'\t,',
'\tnullOutDetailViewRecord: function() {\t\tvar flagDisable = typeof arguments[0] != \'undefined\' ? arguments[0] : false;',
'\t\tvar val = \'\';',
'\t\tvar flagParentListHasActiveRow = this._parentListHasActiveRow();',
'\t\tif(flagDisable) {',
'\t\t\tif(flagParentListHasActiveRow) flagDisable = false;',
'\t\t}',
'\t\tvar debugMsg = \'CurrentList: \' + this.listVariableName + \' - flagDisable is set to: \' + flagDisable + \' my parentList has active row: \' +  this._parentListHasActiveRow();',
'\t\tvar controlName = \'\';',
'\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setValue(controlName,val,false);',
'\t\t}',
'\t\tthis._deselectAll();',
'\t\tthis._clearServerSideErrors();',
'\t\tif(flagDisable) this.disableDetailView(true);',
'\t\telse this.disableDetailView(false)',
'\t}',
'\t,',
'\tnewDetailViewRecord: function() {\t\tvar flagParentIsDeleted = false;',
'\t\tvar pData = \'\';',
'\t\tif(this.allParentLists.length > 0) { ',
'\t\t\tfor(var i = 0; i < this.allParentLists.length; i++) {',
'\t\t\t\tpObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.allParentLists[i]);',
'\t\t\t\tif(typeof pObj.selection[0] != \'undefined\') {',
'\t\t\t\t\tpData = pObj.getData(pObj.selection[0]);',
'\t\t\t\t\tif(typeof pData._isDeleted != \'undefined\') {',
'\t\t\t\t\t\tif(pData._isDeleted) {',
'\t\t\t\t\t\t\tflagParentIsDeleted = true;',
'\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(this._executeEvent(\'detailView.canNewRecord\',{}) == false) return false;',
'\t\tvar val = \'\';',
'\t\tvar controlName = \'\';',
'\t\tvar defaultJS = \'\';',
'\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\tdefaultJS = this._listFields[i].defaultValue;',
'\t\t\tif(defaultJS != \'\') {',
'\t\t\t\tval = Function(this._listFields[i].defaultValue).call(this);',
'\t\t\t} else { ',
'\t\t\t\tval = \'\';',
'\t\t\t}',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\t_dlgObj.setValue(controlName,val,false);',
'\t\t\tvar controlType = _dlgObj._getControlType(controlName).toLowerCase();',
'\t\t\tif(controlType == \'signaturecapture\') { ',
'\t\t\t\t_dlgObj._functions._toggleCanvas(controlName.toUpperCase(),\'canvas\');',
'\t\t\t\t_dlgObj._functions._clearCanvas(controlName.toUpperCase())',
'\t\t\t}',
'\t\t}',
'\t\tthis._deselectAll();',
'\t\tthis._clearServerSideErrors();',
'\t\tthis._executeEvent(\'detailView.afterNewRecord\',{});',
'\t\tthis._emptyAllChildLists();',
'\t\tif(flagParentIsDeleted) this.disableDetailView(true);',
'\t\telse this.disableDetailView(false);',
'\t\tthis._dvmode = \'enter\';',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.modeChanged\',{mode: \'enter\'});',
'\t\t_dlgObj.refreshClientSideComputations();',
'\t\tthis._selectedRow = -1;',
'\t\tthis._currentDetailViewKey = undefined;',
'\t}',
'\t,',
'\t_emptyAllChildLists: function() { \t\tfor(var i = 0; i < this.childLists.length; i++) {',
'\t\t\tvar lobj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\t\tif(lobj) {',
'\t\t\t\tlobj._emptyList();',
'\t\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setValue(lobj.listVariableName,false);',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\t_emptyChildList: function(row) { \t',
'\t\tvar _d = this.getData(row);',
'\t\tvar lName = \'\';',
'\t\tfor(var name in _d) {',
'\t\t\tif(_d[name] != null) {',
'\t\t\t\tif(_d[name].constructor == Array) {',
'\t\t\t\t\tlName = name.split(\'__LIST__\')[1];',
'\t\t\t\t\tif(typeof lName != \'undefined\') {',
'\t\t\t\t\t\t_d[name] = [];',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\t_getUXDetailViewControlName: function(field) {\t\tif(!this._hasDetailView) {',
'\t\t\treturn \'\';',
'\t\t}',
'\t\tif(this._detailView.method == \'fieldMap\') {',
'\t\t\tfor(var i = 0; i < this._detailView.fieldMap.length; i++) { ',
'\t\t\t\tif(this._detailView.fieldMap[i].field == field) {',
'\t\t\t\t\treturn this._detailView.fieldMap[i].control;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\treturn \'\';',
'\t\t} else { ',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\tvar controlsInContainer = _dlgObj.__controlNesting[this._detailView.container];',
'\t\t\tvar indx = controlsInContainer.indexOf(field);',
'\t\t\tif(indx == -1 ) return \'\'; ',
'\t\t\telse return field;',
'\t\t}',
'\t}',
'\t,',
'\t_showGlobalError: function(txt) {\t\tvar flagShowAlerts = this.flagShowAlerts;',
'\t\tif(typeof flagShowAlerts == \'undefined\') flagShowAlerts = true;',
'\t\tvar gph = this._hostComponentId + \'.V.R1.\' + this._globalErrorPlaceHolder;',
'\t\tvar ele = $(gph);',
'\t\tif(!ele) {',
'\t\t\tif(flagShowAlerts) alert(txt);',
'\t\t\treturn false;',
'\t\t}',
'\t\tvar cssTxt = this._detailViewGlobalErrorStyle;',
'\t\tcssTxt = cssTxt + \'; display: ;\'',
'\t\tele.style.cssText = cssTxt;',
'\t\tele.innerHTML = txt;',
'\t}',
'\t,',
'\t_clearGlobalError: function() {\t\tvar gph = this._hostComponentId + \'.V.R1.\' + this._globalErrorPlaceHolder;',
'\t\tele = $(gph);',
'\t\tif(ele) {',
'\t\t\tele.style.display = \'none\';',
'\t\t\tele.innerHTML = \'\';',
'\t\t}',
'\t}',
'\t,',
'\tupdateTableRow: function(primaryKeyOrRowNumber,dataObj,options) {\t\tif(typeof options == \'undefined\') options = {};',
'\t\tif(typeof options.setFocusToTargetRow == \'undefind\') options.setFocusToTargetRow = false;',
'\t\tvar obj = {};',
'\t\tobj.programmatic = true;',
'\t\tobj.data = {};',
'\t\t$u.o.assign(obj.data,dataObj);',
'\t\tobj.primaryKeyOrRowNumber = primaryKeyOrRowNumber;',
'\t\tobj.setFocusToTargetRow = options.setFocusToTargetRow;',
'\t\twindow[this._hostComponentId + \'_DlgObj\']._updateListDataFromUXControls(this.listVariableName,null,obj);',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\tvar thisData = obj.data;',
'\t\t\tvar flagIsNewRow = false;',
'\t\t\tif(typeof thisData._isNewRow != \'undefined\') flagIsNewRow = thisData._isNewRow;',
'\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\tif(plObj._setDirtyByChild) {',
'\t\t\t\tif (flagIsNewRow == false)  \tplObj._setDirtyByChild(false);',
'\t\t\t\telse plObj._setDirtyByChild(true,thisData,this.listVariableName);',
'\t\t\t}',
'\t\t}\t',
'\t}',
'\t,',
'\taddTableRow: function(dataObj,options) {\t\tvar flagRefresh = false;',
'\t\tif(typeof options == \'undefined\') {',
'\t\t\toptions = {};',
'\t\t}',
'\t\tif(typeof options.setFocusToTargetRow == \'undefind\') options.setFocusToTargetRow = false;',
'\t\tvar obj = {};',
'\t\tobj.programmatic = true;',
'\t\tobj.data = {};',
'\t\t$u.o.assign(obj.data,dataObj);',
'\t\tobj.primaryKeyOrRowNumber = null;',
'\t\tobj.setFocusToTargetRow = options.setFocusToTargetRow;',
'\t\tif(typeof options.insertRow == \'undefined\') options.insertRow = false;\t\t',
'\t\tobj.insertRow = options.insertRow;',
'\t\tobj.insertRowPosition = options.insertPosition;',
'\t\tvar _dlg = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlg._updateListDataFromUXControls(this.listVariableName,null,obj);',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\tvar thisData = obj.data;',
'\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\tif(plObj._setDirtyByChild) {',
'\t\t\t\tplObj._setDirtyByChild(true,thisData,this.listVariableName);',
'\t\t\t}',
'\t\t}',
'\t\t_dlg.refreshClientSideComputations();',
'\t}',
'\t,',
'\t_setChildHasWriteConflictFlag: function() { ',
'\tvar _d = this.getData(this.selection[0]);',
'\tvar flag = this._hasChildWithWriteConflict(); ',
'\t_d._flagWriteConflictErrorInChild = flag;',
'\tif(typeof _d._oldData == \'undefined\') { ',
'\t\tvar flag = this._hasChildWithDirtyData()',
'\t\t_d._isDirty = flag; ',
'\t}',
'\tthis.updateRow(this.selection[0],_d);',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') { ',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\tlObj._setChildHasWriteConflictFlag();',
'\t}',
'\treturn false;',
'}',
',',
'\t_hasChildWithDirtyData: function() {',
'\tvar flag = false;',
'\tvar lObj = \'\';',
'\tvar data = \'\';',
'\tfor (var i = 0; i < this.childLists.length; i++) { ',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\tdata = lObj.getData(lObj.selection[0]);',
'\t\tif(typeof data._isDirty != \'undefined\') {',
'\t\t\tif(data._isDirty) flag = true;',
'\t\t}',
'\t\tif(flag == false) { ',
'\t\t\tvar flag2 = lObj._hasChildWithDirtyData();',
'\t\t\tif(flag2) flag = true;',
'\t\t}',
'\t}',
'\treturn flag;',
'}',
',',
'\t_hasChildWithWriteConflict: function() {',
'\tvar flag = false;',
'\tvar lObj = \'\';',
'\tvar data = \'\';',
'\tfor (var i = 0; i < this.childLists.length; i++) { ',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\tdata = lObj.getData(lObj.selection[0]);',
'\t\tif(typeof data._hasWriteConflictErrors != \'undefined\') {',
'\t\t\tif(data._hasWriteConflictErrors) flag = true;',
'\t\t}',
'\t\tif(typeof data._flagWriteConflictErrorInChild != \'undefined\') {',
'\t\t\tif(data._flagWriteConflictErrorInChild) flag = true;',
'\t\t}',
'\t\tif(flag == false) { ',
'\t\t\tvar flag2 = lObj._hasChildWithWriteConflict();',
'\t\t\tif(flag2) flag = true;',
'\t\t}',
'\t}',
'\treturn flag;',
'}',
',',
'\t_populateMyChildren: function() {',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tthis._populateChildList(lname);',
'\t}',
'}',
',',
'\t_emptyList: function() { ',
'\tthis.populate([]);',
'\tthis._currentDetailViewKey = undefined;',
'\tthis._selectedRow = -1;',
'\tvar e = $(this._hostComponentId + \'.\' + this.listVariableNameTrueCase + \'.RECORDCOUNT\');',
'\tif(e) e.innerHTML = \'0\';',
'\tthis.nullOutDetailViewRecord(true); ',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lobj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tlobj._emptyList();',
'\t}',
'}',
',',
'\t_populateChildList: function(list) {',
'\tvar flagParentIsDeleted = false;',
'\tlChildObj = window[this._hostComponentId + \'_DlgObj\'].getControl(list);',
'\tif(typeof lChildObj._parentIsDeleted != \'undefined\') flagParentIsDeleted = lChildObj._parentIsDeleted;',
'\tvar _d = this.selectionData[0];',
'\tvar flagClearChildLists = false;',
'\tif(typeof _d == \'undefined\') {',
'\t\tflagClearChildLists = true;',
'\t}',
'\tif(typeof _d == \'undefined\') {',
'\t\tflagClearChildLists = true;',
'\t}',
'\tif(flagClearChildLists) { ',
'\t\tthis._emptyAllChildLists()',
'\t\treturn false;',
'\t}',
'\tvar childDataObjectName = this._getChildDataObjectName(list);',
'\tvar _rd = _d[childDataObjectName];',
'\tif(_rd == null) { ',
'\t\t_rd = [];',
'\t}',
'\tif(typeof _rd == \'undefined\' || _rd.length == 0) {',
'\t\t_d[childDataObjectName] = [];',
'\t\t_rd = _d[childDataObjectName]',
'\t}',
'\tvar lobj = window[this._hostComponentId + \'_DlgObj\'].getControl(list);',
'\tif(lobj) {',
'\t\tlobj.populate(_rd);',
'\t\tvar e = $(this._hostComponentId + \'.\' + lobj.listVariableNameTrueCase + \'.RECORDCOUNT\');',
'\t\tif(e) e.innerHTML = _rd.length;',
'\t\tlobj.disableDetailView(false);',
'\t\tif(lobj.allowNullSelection) {',
'\t\t\tif(lobj.nullOutDetailViewRecord) lobj.nullOutDetailViewRecord(true); ',
'\t\t\tfor(var i = 0; i < lobj.childLists.length; i++) { ',
'\t\t\t\tvar lname = lobj.childLists[i];',
'\t\t\t\tlobj._populateChildList(lname);',
'\t\t\t}',
'\t\t}',
'\t}',
'\tthis._currentSelection = this.selection[0];',
'\tif(flagParentIsDeleted) lobj.disableDetailView(true);',
'}',
',',
'\t_setSynchProgress: function(pct) {',
'\tvar x = \'\';',
'\tif(Number(pct) == 0) x = \'none\';',
'\tvar eleO = $(\'SYNCHPROGRESS.\' + this.listVariableName);',
'\tif(eleO) eleO.style.display = \'\';',
'\tvar eleI = $(\'SYNCHPROGRESS.\' + this.listVariableName + \'.SLIDER\');',
'\tif(eleI) {',
'\t\teleI.style.display = x;',
'\t\teleI.style.width = \'\' + pct + \'%\';',
'\t}',
'}',
',',
'\t_hideSynchProgress: function(pct) {',
'\tvar eleO = $(\'SYNCHPROGRESS.\' + this.listVariableName);',
'\tif(eleO) eleO.style.display = \'none\';',
'}',
',',
'\t_cancelBatchSynchronize: function() { ',
'\tvar flag = this._executeEvent(\'detailView.canCancelBatch\',{});',
'\tif(!flag) { ',
'\t\treturn false;',
'\t}',
'\tthis._flagCancelBatchSynchronize = true;',
'}',
',',
'\t_harvestMediaFields_low: function(arr,objListName,objState,data,options) {',
'\tvar _mediaMap = \'\';;',
'\tvar _mediaFields = \'\';',
'\tvar listName = \'\';',
'\tvar lObj = \'\';',
'\tvar flagNested = false;',
'\tvar objDirty = false;',
'\tvar fieldDirty = false;',
'\tvar lName = \'\';',
'\tvar flagCheck = \'\';',
'\tvar flagIsMediaField = false;',
'\tvar mode = options.mode;',
'\tif(typeof mode == \'undefined\') mode = \'\';',
'\tvar flagCapture = false;',
'\tvar flagCapture2 = false;',
'\tvar flagChildTable = false;',
'\tfor(var prop in data) { ',
'\t\tif(prop == \'_dirtyImages\') continue;',
'\t\tif( data[prop] != null && data[prop].constructor == Array) { ',
'\t\t\tif(data[prop].length > 0) { ',
'\t\t\t\tobjListName.push({table: prop, nested: true});',
'\t\t\t\tfor(var i = 0; i < data[prop].length; i++) { ',
'\t\t\t\t\tobjState.push( {table: objListName[  objListName.length -1][\'table\'], row: i}) ;',
'\t\t\t\t\tthis._harvestMediaFields_low(arr,objListName,objState,data[prop][i],options);',
'\t\t\t\t\tobjState.pop();',
'\t\t\t\t}',
'\t\t\t\tobjListName.pop();',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tif(objListName.length == 0) { ',
'\t\t\t\tcontinue;',
'\t\t\t}',
'\t\t\tlistName   = objListName[objListName.length -1][\'table\'];',
'\t\t\tflagNested = objListName[objListName.length -1][\'nested\'];',
'\t\t\tif(listName == \'_top_\') {',
'\t\t\t\tlObj = this;',
'\t\t\t\tflagChildTable = false;',
'\t\t\t} else { ',
'\t\t\t\tlistName = listName.split(\'__LIST__\')[1];',
'\t\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\t\tlObj = _dlgObj.getControl(listName);',
'\t\t\t\tflagChildTable = true;',
'\t\t\t}',
'\t\t\tif(lObj) { ',
'\t\t\t\tflagCheck = true;',
'\t\t\t\t_mediaMap = lObj._mediaFields;  ',
'\t\t\t\tflagIsMediaField = false;',
'\t\t\t\tif(!options.flagDirtyOnly) {',
'\t\t\t\t\tif(_mediaMap.indexOf(prop) > -1) flagIsMediaField = true;',
'\t\t\t\t\tif(flagIsMediaField) { ',
'\t\t\t\t\t\tlName = objListName[objListName.length -1][\'table\'];',
'\t\t\t\t\t\tif(lName == \'_top_\') lName = lObj.listVariableName;',
'\t\t\t\t\t\tflagCapture = false;',
'\t\t\t\t\t\tif(mode == \'\') { ',
'\t\t\t\t\t\t\tif(data[prop] != null && data[prop] != \'\' && data[prop].toLowerCase().indexOf(\'file:\') != 0) flagCapture = true;',
'\t\t\t\t\t\t} else if(mode == \'file\') { ',
'\t\t\t\t\t\t\tif(data[prop] != null && data[prop] != \'\' && data[prop].toLowerCase().indexOf(\'file:\') == 0) flagCapture = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tif(flagCapture) {',
'\t\t\t\t\t\t\tarr.push({',
'\t\t\t\t\t\t\t\tlistFieldName: prop, ',
'\t\t\t\t\t\t\t\tfilename: data[prop], ',
'\t\t\t\t\t\t\t\tlistName: lName, ',
'\t\t\t\t\t\t\t\troute: JSON.stringify(objState),',
'\t\t\t\t\t\t\t\tflagChildTable: flagChildTable',
'\t\t\t\t\t\t\t\t});',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\tif(flagCheck) {',
'\t\t\t\t\t\tfieldDirty = false;',
'\t\t\t\t\t\tif(typeof data._dirtyImages != \'undefined\') {',
'\t\t\t\t\t\t\tobjDirty = data._dirtyImages[prop];',
'\t\t\t\t\t\t\tfieldDirty = false;',
'\t\t\t\t\t\t\tif(typeof objDirty != \'undefined\') fieldDirty = objDirty;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(data._isNewRow) {',
'\t\t\t\t\t\t\t\tfieldDirty = true;',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\tif(typeof data._oldData != \'undefined\') { ',
'\t\t\t\t\t\t\t\t\tif(data[prop] != data._oldData[prop]) fieldDirty = true;',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\t_mediaMap = lObj._mediaFields;',
'\t\t\t\t\t\tif(_mediaMap.indexOf(prop) > -1) flagIsMediaField = true;',
'\t\t\t\t\t\tif(flagIsMediaField) { ',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tflagCapture2 = false;',
'\t\t\t\t\t\tif(options.flagCleanOnly) { ',
'\t\t\t\t\t\t\tif(!fieldDirty) {',
'\t\t\t\t\t\t\t\tif(flagIsMediaField) flagCapture2 = true;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(fieldDirty) { ',
'\t\t\t\t\t\t\t\tif(flagIsMediaField) flagCapture2 = true;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tif( ( ( flagCapture2 )   && data[prop] != null &&  data[prop].toLowerCase().indexOf(\'file:\') == 0 ) ) {',
'\t\t\t\t\t\t\tlName = objListName[objListName.length -1][\'table\'];',
'\t\t\t\t\t\t\tif(lName == \'_top_\') {',
'\t\t\t\t\t\t\t\tlName = lObj.listVariableName;',
'\t\t\t\t\t\t\t\tflagChildTable = false;',
'\t\t\t\t\t\t\t} else  { ',
'\t\t\t\t\t\t\t\tflagChildTable = true;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tarr.push({',
'\t\t\t\t\t\t\t\tlistFieldName: prop, ',
'\t\t\t\t\t\t\t\tfilename: data[prop], ',
'\t\t\t\t\t\t\t\tlistName: lName, ',
'\t\t\t\t\t\t\t\troute: JSON.stringify(objState),',
'\t\t\t\t\t\t\t\tflagChildTable: flagChildTable',
'\t\t\t\t\t\t\t\t});',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'}',
',',
'\t_harvestMediaFields: function() {   ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return [];',
'\tvar ops = arguments[0];',
'\tif(typeof ops == \'undefined\') ops = {};',
'\tif(typeof ops.dirtyOnly == \'undefined\') ops.dirtyOnly = true;',
'\tif(typeof ops.cleanOnly == \'undefined\') ops.cleanOnly = false;',
'\tif(typeof ops.mode == \'undefined\') ops.mode = \'\';',
'\tvar _r = ops.row;',
'\tif(typeof _r == \'undefined\') _r = -1;',
'\tvar arr = [];',
'\tvar objListName = [];',
'\tvar objState = [];',
'\tvar flagRowIsDirty = \'\';',
'\tvar flagDirtyOnly = ops.dirtyOnly;',
'\tvar options = {',
'\t\tflagDirtyOnly: flagDirtyOnly,',
'\t\tmode: ops.mode,',
'\t\tflagCleanOnly: ops.cleanOnly',
'\t};',
'\tvar flagSingleRow = false;',
'\tif(_r == -1) {',
'\t\tvar _d = this._data;',
'\t} else { ',
'\t\tvar _d = [this._data[_r]];',
'\t\tflagSingleRow = true;',
'\t}',
'\tvar _row = \'\';',
'\tobjListName.push({table: \'_top_\', nested: false});\t',
'\tfor(var i = 0; i < _d.length; i++) { ',
'\t\tflagRowIsDirty = false;',
'\t\tif(typeof _d[i]._isDirty != \'undefined\') flagRowIsDirty = _d[i]._isDirty;',
'\t\tif(flagRowIsDirty || !flagDirtyOnly || ops.cleanOnly ) { ',
'\t\t\t_row = i;',
'\t\t\tif(flagSingleRow) _row = _r;',
'\t\t\tobjState.push( {table: objListName[  objListName.length -1][\'table\'], row: _row})  ',
'\t\t\tthis._harvestMediaFields_low(arr,objListName,objState,_d[i],options);',
'\t\t\tobjState.pop();\t\t',
'\t\t}',
'\t}\t',
'\tif (!ops.cleanOnly) this._mediaFieldsArray = arr;',
'\treturn arr;',
'}',
',',
'\t_pushMediaFieldArrayToList: function(arr) { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar flagUnFix = false;',
'\tif(typeof arguments[1] != \'undefined\') flagUnFix = arguments[1];',
'\tvar lObj = this;',
'\tvar _data = lObj._data;',
'\tvar _di = \'\';',
'\tvar r = \'\';',
'\tvar table = \'\';',
'\tfor(var i = 0; i < arr.length; i++) { ',
'\t\tarr[i].routeObj = JSON.parse(arr[i].route);',
'\t\tr = arr[i].routeObj[0].row',
'\t\tfor(var j = 0; j < arr[i].routeObj.length; j ++) { ',
'\t\t\ttable = arr[i].routeObj[j].table;',
'\t\t\tr = arr[i].routeObj[j].row',
'\t\t\tif(table == \'_top_\') { ',
'\t\t\t\t_di = _data[r];',
'\t\t\t} else { ',
'\t\t\t\t_di = _di[table][r];',
'\t\t\t}',
'\t\t}',
'\t\tif(typeof _di == \'undefined\') return false;',
'\t\t_di._flagMediaFileUploadError = false;',
'\t\tif(!flagUnFix) {',
'\t\t\tif(typeof arr[i].modifiedValue != \'undefined\') {',
'\t\t\t\t_di[arr[i].listFieldName] = arr[i].modifiedValue;',
'\t\t\t} else { ',
'\t\t\t\t_di._flagMediaFileUploadError = true;',
'\t\t\t}',
'\t\t} else { ',
'\t\t\t_di[arr[i].listFieldName] = arr[i].filename;',
'\t\t}',
'\t}',
'\tvar _route = lObj._getRoute();',
'\tlObj.refresh();',
'\tthis._setRoute(_route);',
'\tif(flagUnFix) {',
'\t\tthis.populateUXControls();',
'\t}',
'}',
',',
'\t_unFixMediaFields: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar arr = this._mediaFieldsArray;',
'\tif(typeof arr == \'undefined\') return false;',
'\tthis._pushMediaFieldArrayToList(arr,true);',
'\tdelete this._mediaFieldsArray;',
'}',
',',
'\t_syncMediaFiles: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar _list = this._mediaFiles;',
'\tvar listName = this.listVariableName;',
'\tvar componentAlias = this._hostComponentId;',
'\tvar target = this._phoneGap.mediaFiles.target.toLowerCase();',
'\tif(target == \'s3\') {',
'\t\tvar S3ConnectionString = this._phoneGap.mediaFiles.s3.connectionString;',
'\t} else { ',
'\t\ttarget = \'alphaanywhere\';',
'\t}',
'\tvar targetFileNameFunction = this._phoneGap.mediaFiles.targetFilenameFunction;',
'\tvar protectedRead = this._phoneGap.mediaFiles.protectedRead;',
'\tvar fileNameTemplate = this._phoneGap.mediaFiles.template;',
'\tvar instanceId = A5.ts();',
'\tif(typeof device != \'undefined\') {',
'\t\tif(typeof device.uuid != \'undefined\') instanceId = device.uuid;',
'\t}',
'\ttargetFileNameFunction = targetFileNameFunction.replace(\'<DeviceId>\',instanceId);',
'\tvar showProgress = this._phoneGap.mediaFiles.showProgress;',
'\tvar onErrorFunction = this._phoneGap.mediaFiles.onErrorFunction;',
'\tvar pColor = \'\';',
'\tvar pElement = \'\';',
'\tvar pWidth = \'\';',
'\tif(showProgress) { ',
'\t\tpColor = this._phoneGap.mediaFiles.progress.color;',
'\t\tpElement = this._phoneGap.mediaFiles.progress.element;',
'\t\tpWidth = this._phoneGap.mediaFiles.progress.width;',
'\t}',
'\tvar arr = _list;',
'\tvar s3Obj = {};',
'\tvar aaObj = {}',
'\tif(target == \'s3\') {',
'\t\ts3Obj.connectionString = S3ConnectionString;',
'\t\ts3Obj.protectedRead = false;',
'\t} else { ',
'\t}',
'\tvar options = {',
'\t\tspecialMode: \'detailViewMediaUpload\',',
'\t\ttarget: target,',
'\t\tlistName: listName,',
'\t\tcomponentAlias: componentAlias,',
'\t\tAAServerOptions: aaObj,',
'\t\ts3: s3Obj,',
'\t\tshowProgress: showProgress,',
'\t\tonComputeS3Filename: Function(\'e\',targetFileNameFunction),',
'\t\tfileNameTemplate: fileNameTemplate,',
'\t\tonComplete: function(array) { ',
'\t\t\tif(target == \'alphaanywhere\') {',
'\t\t\t} else {',
'\t\t\t\tvar mVal = \'\';',
'\t\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\t\tmVal = this.fileNameTemplate.replace(\'__name__\',array[i].targetName);',
'\t\t\t\t\tarray[i].modifiedValue = mVal;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tvar _dlgObj = window[this.componentAlias + \'_DlgObj\'];',
'\t\t\tvar lObj = _dlgObj.getControl(listName);',
'\t\t\tlObj._pushMediaFieldArrayToList(array);',
'\t\t\tvar _dlgObj = window[options.componentAlias + \'_DlgObj\'];',
'\t\t\t_dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesUploaded\',{array:array});',
'\t\t\tvar countSucceeded = 0;',
'\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\tif(array[i].succeeded) countSucceeded = countSucceeded + 1;',
'\t\t\t}',
'\t\t\tif(countSucceeded < array.length) { ',
'\t\t\t\tvar errorCount = array.length - countSucceeded;',
'\t\t\t\t_dlgObj._list_executeEvent(listName,\'detailView.onMediaFilesUploadErrors\',{array:array, errorCount: errorCount})',
'\t\t\t}',
'\t\t\t_dlgObj.saveListEdits(options.listName,{rows: \'allRows\', checkForMediaFiles: false, fixMediaFileReferences: true, resetMediaFileUploadErrors: false});',
'\t\t},',
'\t\tprogress: {',
'\t\t\tcolor: pColor,',
'\t\t\twidth: pWidth,',
'\t\t\tindividualProgress: false,',
'\t\t\tshowTotalProgress: true,',
'\t\t\tallowCancel: false,',
'\t\t\tprogressElement: pElement',
'\t\t},',
'\t\tonError : onErrorFunction',
'\t}',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar result = _dlgObj._list_executeEvent(listName,\'detailView.beforeMediaFilesUploaded\',{array:arr});',
'\tif(!result) return false;',
'\t_dlgObj.phoneGapFileUpload(arr,options);',
'}',
',',
'\t_fetchMediaFiles: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tif (typeof this._mediaFields == \'undefined\') return false;',
'\tvar _route = arguments[1];',
'\tif(typeof _route == \'undefined\') _route = false;',
'\tvar _r = arguments[0];',
'\tif(typeof  _r == \'undefined\') _r = -1; ',
'\tvar flagFetchMediaFiles = false;',
'\tif(typeof this._phoneGap != \'undefined\') { ',
'\t\tif(typeof this._phoneGap.mediaFiles != \'undefined\') { ',
'\t\t\tif(typeof this._phoneGap.mediaFiles.download != \'undefined\') {',
'\t\t\t\tif(typeof this._phoneGap.mediaFiles.download.autodownloadFilesOnPullSynch != \'undefined\') { ',
'\t\t\t\t\tflagFetchMediaFiles = this._phoneGap.mediaFiles.download.autodownloadFilesOnPullSynch;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(!flagFetchMediaFiles) return false;',
'\tvar folder = this._phoneGap.mediaFiles.download.targetFolder;',
'\tif(folder == \'\') { ',
'\t\talert(\'You have not specified the file download settings in the List builder. Edit the settings for List \'+this.listVariableName+\' and go to \\\'Detail View\\\' pane, \\\'PhoneGap Properties\\\'.\');',
'\t\treturn false;',
'\t}',
'\tthis._flagFetchMediaHasRun = true;',
'\tfolder = folder + \'/\' + this.listVariableName;',
'\tvar listName = this.listVariableName;',
'\tvar showProgress = this._phoneGap.mediaFiles.download.showProgress;',
'\tvar pColor = \'\';',
'\tvar pElement = \'\';',
'\tvar pWidth = \'\';',
'\tif(showProgress) { ',
'\t\tpColor = this._phoneGap.mediaFiles.download.progress.color;',
'\t\tpElement = this._phoneGap.mediaFiles.download.progress.element;',
'\t\tpWidth = this._phoneGap.mediaFiles.download.progress.width;',
'\t}',
'\tvar flagDeleteOrphans = false;',
'\tif(typeof this._phoneGap.mediaFiles.download.deleteOrphansAfterSync != \'undefined\') flagDeleteOrphans =this._phoneGap.mediaFiles.download.deleteOrphansAfterSync;',
'\tvar arr = this._harvestMediaFields({dirtyOnly: false, row: _r});',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar result = _dlgObj._list_executeEvent(listName,\'detailView.beforeMediaFilesDownloaded\',{array:arr});',
'\tif(!result) { ',
'\t\t_dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesDownloaded\',{array:array, aborted: true});',
'\t\treturn false;',
'\t}',
'\tif(arr.length > 0 ) { ',
'\t\tvar lObj = this;',
'\t\tvar _dlgObj = _dlgObj;',
'\t\tvar that = this;',
'\t\tvar options = {',
'\t\t\ttargetFolder: folder,',
'\t\t\tshowProgress: showProgress,',
'\t\t\tonComplete: function(array) { ',
'\t\t\t\tvar arr = [];',
'\t\t\t\tvar _d = lObj._data;',
'\t\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\t\tif(array[i].success) {',
'\t\t\t\t\t\tarray[i].modifiedValue = array[i].localFilename;',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tarray[i].modifiedValue = array[i].filename;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar result = _dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesDownloaded\',{array:array, aborted: false});',
'\t\t\t\tif(!result) return false;',
'\t\t\t\tlObj._pushMediaFieldArrayToList(array);',
'\t\t\t\tif(flagDeleteOrphans) { ',
'\t\t\t\t\tthat._deleteOrphanMediaFiles()',
'\t\t\t\t}',
'\t\t\t\tthat.populateUXControls();',
'\t\t\t\tif(_route) {',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t\tthat.populateUXControls();',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t\tthat._populateAllChildLists();',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t}',
'\t\t\t},',
'\t\t\tprogress: {',
'\t\t\t\tcolor: pColor,',
'\t\t\t\twidth: pWidth,',
'\t\t\t\tallowCancel: false,',
'\t\t\t\tprogressElement: pElement',
'\t\t\t}',
'\t\t}',
'\t\t_dlgObj.phoneGapFileDownload(arr,options);\t',
'\t} else { ',
'\t\t _dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesDownloaded\',{array:arr});',
'\t}',
'}',
',',
'\tresolveFieldConflict: function(route,fieldName,oldValueCurrent,newValueMine) { ',
'\tvar _d = this._getDataFromRoute(route);',
'\tvar _routeCapture = this._getRoute();',
'\tif(!_d) return false;',
'\tif(typeof _d[fieldName] == \'undefined\') return false;',
'\tif(typeof _d[\'_oldData\'] == \'undefined\') return false;',
'\t_d[\'_oldData\'][fieldName] = oldValueCurrent;',
'\tif(typeof newValueMine != \'undefined\') {',
'\t\t_d[fieldName] = newValueMine;',
'\t} else { ',
'\t\t_d[fieldName] = oldValueCurrent;',
'\t}',
'\tif(typeof _d[\'_writeConflictErrors\'] != \'undefined\') { ',
'\t\tvar _wce = _d[\'_writeConflictErrors\'];',
'\t\tfor(var i = 0; i < _wce.length; i++)  { ',
'\t\t\tif(_wce[i].fieldName == fieldName) { ',
'\t\t\t\t_wce.splice(i,1);',
'\t\t\t}',
'\t\t}',
'\t\tif(_wce.length == 0) { ',
'\t\t\t_d[\'_hasWriteConflictErrors\'] = false;',
'\t\t\t_d[\'_writeConflictErrors\'] = false;',
'\t\t}\t',
'\t}',
'\tvar flagClean = true;',
'\tfor(var n in _d[\'_oldData\']) {',
'\t\tif(_d[\'_oldData\'][n] != _d[n]) {',
'\t\t\tflagClean = false;',
'\t\t\tbreak;',
'\t\t}',
'\t}',
'\tif(flagClean) { ',
'\t\tdelete _d[\'_oldData\'];',
'\t\tdelete _d.__displayStyle;',
'\t\t_d._isDirty = false;',
'\t\tvar flagLoop = true;',
'\t\twhile(flagLoop) { ',
'\t\t\troute.pop();',
'\t\t\troute.pop();',
'\t\t\tif(route.length == 0) {',
'\t\t\t\tbreak;',
'\t\t\t};',
'\t\t\tvar _dp = this._getDataFromRoute(route);',
'\t\t\tif(typeof _dp[\'_oldData\'] == \'undefined\') { ',
'\t\t\t\t_dp._isDirty = false;',
'\t\t\t\tdelete _dp.__displayStyle;',
'\t\t\t}',
'\t\t}',
'\t\tthis._refreshListRecursive();',
'\t}',
'}',
',',
'\t_refreshListRecursive: function() { ',
'\tthis.refresh();',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tlObj = _dlgObj.getControl(this.childLists[i]);',
'\t\tif(lObj) lObj._refreshListRecursive();',
'\t}',
'}',
',',
'\t_deleteOrphanMediaFiles: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar folder = this._phoneGap.mediaFiles.download.targetFolder;',
'\tif(folder == \'\') { ',
'\t\talert(\'You have not specified the file download settings in the List builder. Edit the settings for List \'+this.listVariableName+\' and go to \\\'Detail View\\\' pane, \\\'PhoneGap Properties\\\'.\');',
'\t\treturn false;',
'\t}',
'\tif(typeof this._flagFetchMediaHasRun == \'undefined\' || this._flagFetchMediaHasRun == false ) { ',
'\t\talert(\'Sync media files method has not yet been run\');',
'\t\treturn false;',
'\t}',
'\tif(folder.substring(0,1) == \'/\') folder = folder.substring(1);',
'\tif(folder.substr( folder.length -1,1) == \'/\') { ',
'\t\tfolder = folder.substring(0,folder.length -1);',
'\t}',
'\tfolder = folder + \'/\' + this.listVariableName;',
'\tvar that = this;',
'\tvar listName = this.listVariableName;',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar onFSSuccess = function(fs) { ',
'\t\tvar baseDirectory = fs.root.toURL();',
'\t\tbaseDirectory = baseDirectory + folder;',
'\t\tvar arr = that._harvestMediaFields({dirtyOnly: false, mode: \'file\'});',
'\t\tvar fr = []; ',
'\t\tfor( var i = 0; i < arr.length; i++) { ',
'\t\t\tfr.push(\'/\' + folder +  arr[i].filename.replace(baseDirectory,\'\'));',
'\t\t}',
'\t\tfr.sort();',
'\t\tvar _dlgObj = window[that._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj.phoneGapGetDirectoryRecurse(folder,function(array) { ',
'\t\t\tvar ff = [];',
'\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\tif(array[i].isFile) { ',
'\t\t\t\t\tff.push(array[i].fullPath);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tff.sort();',
'\t\t\tvar fd = []; ',
'\t\t\tfor(var i = 0; i < ff.length; i++) { ',
'\t\t\t\tif(fr.indexOf(ff[i]) < 0) { ',
'\t\t\t\t\tfd.push(ff[i]);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t var result = _dlgObj._list_executeEvent(listName,\'detailView.beforeDeleteOrphanMediaFiles\',{array:fd});',
'\t\t\t if(!result) return false;',
'\t\t\tvar countDeleted = 0;',
'\t\t\tvar countToDelete = fd.length;',
'\t\t\tfor(var i = 0 ; i < fd.length; i++) {\t',
'\t\t\t\tvar fn = fd[i];',
'\t\t\t\tif(fn.substring(0,1) == \'/\') fn = fn.substring(1);',
'\t\t\t\t_dlgObj.phoneGapDeleteFile(fn,function() { ',
'\t\t\t\t\tcountDeleted = countDeleted + 1;',
'\t\t\t\t\tif(countDeleted == countToDelete) { ',
'\t\t\t\t\t\t_dlgObj._list_executeEvent(listName,\'detailView.afterDeleteOrphanMediaFiles\',{array:fd});',
'\t\t\t\t\t}',
'\t\t\t\t})',
'\t\t\t}',
'\t\t});',
'\t}',
'\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess);',
'\treturn false;',
'}',
'}',
')',
'//End section - Add methods to List prototype',
'{UXPRERENDEREDALIAS}_DlgObj._listControls = [\'LIST_CONDITIONS\',\'LIST_TRIALS\']',
'{UXPRERENDEREDALIAS}_DlgObj._localStorageSettings = {namespace: \'ALPHA_CWCondition\',friendlyName: \'CenterWatch Condition Search\',description: \'Search for clinical trials by condition\',persistVariableValues: false,__version: 1,persistComponentState: false,workingPreviewTestingFolder: \'Local Storage Testing\',restore: {variables: false,data: false,state: false},compressData: true,minify: true,variablesToNotPersist: \'\',workingPreviewTestingMode: \'Browser\',compressListData: true}',
'{UXPRERENDEREDALIAS}_DlgObj.__r = [\'3rkeltoSdQc=\']',
'{UXPRERENDEREDALIAS}_DlgObj._staticHTMLMode = false',
'{UXPRERENDEREDALIAS}_DlgObj._EDITOR_EDITORSET = {};',
'{UXPRERENDEREDALIAS}_DlgObj.styleName = \'iOS7\';',
'{UXPRERENDEREDALIAS}_DlgObj.styleVersion = 3',
'{UXPRERENDEREDALIAS}_DlgObj.framesInfo = {',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._noPersist = []',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK1\',A5.d.evnts.click,function(e) {',
'CWApp.goBackToMainMenu({UXPRERENDEREDALIAS}_DlgObj);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK1\');',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_REFINE\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.showContainerWindow(this,\'WINDOW_REFINE\');',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_REFINE\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_APPLY\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.hideContainerWindow(\'WINDOW_1\');',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_APPLY\');',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_CANCEL\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.hideContainerWindow(\'WINDOW_1\');',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_CANCEL\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACKTRIALS\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_CONDITION\',true);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACKTRIALS\');',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_MAP\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.showContainerWindow(this,\'WINDOW_MAP\');',
'var mapObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'MAP_TRIALS\');',
'var lObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\');',
'CWApp.addSiteMarkers(mapObj, lObj, \'GROUPSITES\');',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_MAP\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_TRIALLIST\',true);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS\');',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_O_B10C9F8A4D6E4F38BC2F82FB8A3A17CA(1,\'1\',this);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS\');',
'',
'{UXPRERENDEREDALIAS}_DlgObj.prepare();{UXPRERENDEREDALIAS}_DlgObj.populate({UXPRERENDEREDALIAS}_DlgObj.originalValues[0]);',
'{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);',
'',
'',
'if(!A5.flags.isMobile) $e.add(window,\'resize\',{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation);',
'else $e.add(window,\'orientationchange\',{UXPRERENDEREDALIAS}_DlgObj._orientationChangeHandler,{UXPRERENDEREDALIAS}_DlgObj,true);',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation();',
'',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_PANES\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var listObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_CONDITIONS\');',
'if(listObj) listObj._state.recordCount = 843;',
'if(listObj) listObj._state.recordCountFormatted = \'843\';',
'if(listObj) listObj._state.lastBreakValue = \'<None>\';',
'if(listObj) listObj._state.pageCount = 0;',
'if(listObj) listObj._state.pageSize = 20;',
'if(listObj) {var ele = $(\'{UXPRERENDEREDALIAS}.LIST_CONDITIONS.RECORDCOUNT\'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};',
'if(listObj) listObj._state.paginated = false;',
'',
'if(listObj) listObj._state.filter = \'\';',
'if(listObj) listObj._state.having = \'\';',
'if(listObj) listObj._state.order = \'\';',
'if(listObj) listObj._state.filterParameters = \'\';',
'if(listObj) listObj._state.highlight = {  };',
'if(listObj) listObj._state.whereClause = \'\';',
'if(listObj) listObj._state.whereParameters = \'\';',
'\t\t',
'\t\tvar flagPersist = false;',
'\t\tif(typeof listObj._flagPersistDataOK != \'undefined\') { ',
'\t\t\tif(listObj._flagPersistDataOK) { ',
'\t\t\t\tvar data = listObj._data;',
'\t\t\t\tlistObj.persistToStorage({mode:\'populate\', data: data});',
'\t\t\t}',
'\t\t}',
'\t\t',
'\t\t',
';',
'{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_CONDITIONS\',\'afterRenderComplete\',{});',
'',
'if(listObj._refreshStateMessages) listObj._refreshStateMessages();',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var listObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\');',
'if(listObj) listObj._state.recordCount = 0;',
'if(listObj) listObj._state.recordCountFormatted = \'0\';',
'if(listObj) listObj._state.lastBreakValue = \'<None>\';',
'if(listObj) listObj._state.pageCount = 0;',
'if(listObj) listObj._state.pageSize = 20;',
'if(listObj) {var ele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.RECORDCOUNT\'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};',
'if(listObj) listObj._state.paginated = false;',
'',
'if(listObj) listObj._state.filter = \'\';',
'if(listObj) listObj._state.having = \'\';',
'if(listObj) listObj._state.order = \'\';',
'if(listObj) listObj._state.filterParameters = \'\';',
'if(listObj) listObj._state.highlight = {  };',
'if(listObj) listObj._state.whereClause = \'\';',
'if(listObj) listObj._state.whereParameters = \'\';',
'\t\t',
'\t\tvar flagPersist = false;',
'\t\tif(typeof listObj._flagPersistDataOK != \'undefined\') { ',
'\t\t\tif(listObj._flagPersistDataOK) { ',
'\t\t\t\tvar data = listObj._data;',
'\t\t\t\tlistObj.persistToStorage({mode:\'populate\', data: data});',
'\t\t\t}',
'\t\t}',
'\t\t',
'\t\t',
';',
'{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_TRIALS\',\'afterRenderComplete\',{});',
'',
'if(listObj._refreshStateMessages) listObj._refreshStateMessages();',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var obj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\');',
'obj._hasBeenRendered = false;',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'setTimeout(function() { },0);',
'{UXPRERENDEREDALIAS}_DlgObj._listsWithJSFuncDataSource = {};',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onInitializeComplete\');',
'{UXPRERENDEREDALIAS}_DlgObj.initialized = true;',
'',
'',
'',
'',
'',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._onRenderComplete = function() { {UXPRERENDEREDALIAS}_DlgObj._runJSOnLoad(); {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule(); }; ',
'',
'setTimeout(function() { var p = {UXPRERENDEREDALIAS}_DlgObj.panelGet(\'PANELNAVIGATOR\'); if(p._sizing == \'window\') { p._sizeWindow();} else { p.refresh(); } },100);',
'setTimeout(function() {{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onRenderComplete\'); {UXPRERENDEREDALIAS}_DlgObj.flagRenderComplete = true;  {UXPRERENDEREDALIAS}_DlgObj._restoreFromLocalStorage(); },1);',
'',
'var o2 = \'portrait\';',
'if(window.innerHeight < window.innerWidth) o2 = \'landscape\';',
'{UXPRERENDEREDALIAS}_DlgObj._screen = {h: window.innerHeight, w: window.innerWidth, o: o2};',
'',
'{UXPRERENDEREDALIAS}_DlgObj._getOnlineStatus();',
'try {',
'window.addEventListener("offline",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'window.addEventListener("online",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'} catch(err){}',
'',
'',
'setTimeout(function() {$e.execute(\'device.screen\',\'a5resize\')},1);',
'setTimeout(function() { },10);;',
'{UXPRERENDEREDALIAS}_DlgObj._activeLanguage = \'\';',
''].join('\n');
jsout = jsout.replace(/\{UXPRERENDERAJAXURL\}/g,'http://69.7.228.180/centerappv1/FINDBYCONDITION.a5wcmp?__virtualPage=__a5runDialog.a5w&__dialogFilename=FINDBYCONDITION&__alias={UXPRERENDEREDALIAS}&__unsaved=no');
jsout = jsout.replace(/\{UXPRERENDEREDALIAS\}/g,go.alias);
jsout = jsout.replace(/\{UXPRERENDEROUTPUTDIV\}/g,go.dialog2Div);
;return jsout}; 
function PRECOMPUTEDUX_a2109a1c35524da3a447228e5c1907ac_FindByLocation(go) { 
var jsout = [
'A5.u.element.setContent(\'{UXPRERENDEROUTPUTDIV}\',\'<style type="text/css">\\n</style>\\n<style>\\n</style><iframe style="display:none;" id="{UXPRERENDEREDALIAS}.__IFRAME1"></iframe>\\n<input type="hidden" value="" id="{UXPRERENDEREDALIAS}.PARAMETERBUCKET"/>\\n<input type="file" style="position:absolute; top:-1000px;visibility:hidden;" accept="image/*" id="{UXPRERENDEREDALIAS}._GETPHOTO"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" multiple = "" id="{UXPRERENDEREDALIAS}._GETFILEMULTI"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" id="{UXPRERENDEREDALIAS}._GETFILE"/><input type="hidden" id="{UXPRERENDEREDALIAS}.V.R1.LIST_STATES" name="V.R1.LIST_STATES" />\\n<input type="hidden" id="{UXPRERENDEREDALIAS}.V.R1.LIST_INTERNATIONAL" name="V.R1.LIST_INTERNATIONAL" />\\n<input type="hidden" id="{UXPRERENDEREDALIAS}.V.R1.LIST_TRIALS" name="V.R1.LIST_TRIALS" />\\n\');',
'',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {',
'\t{UXPRERENDEREDALIAS}_DlgObj._destroy();',
'\ttry {',
'\t\tdelete {UXPRERENDEREDALIAS}_DlgObj;',
'\t} catch(e) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj = undefined;',
'\t}',
'};',
';if(typeof {UXPRERENDEREDALIAS}_PanelObj != \'undefined\') {',
'\tvar ele = $({UXPRERENDEREDALIAS}_PanelObj.getPanelId());',
'\tif(ele) {',
'\t\tif(ele.parentNode) ele.parentNode.removeChild(ele);',
'\t}',
'\tdelete {UXPRERENDEREDALIAS}_PanelObj;',
'}',
';window[\'{UXPRERENDEREDALIAS}_PanelObj\'] = new A5.PanelNavigator([',
'{',
'\tname: \'PANELCARD_LOCATIONS\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_LOCATION"   \\n\\t\\t\\tclass="A5CWLayout "  style="width: 100%; height: 100%; "  >\\n<div style="width:100%;" class="A5CWLayout iOS7TabT" id="{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONS">\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONS.TABBAND" class="iOS7TabTBand">\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONS.0.TAB" class="" href="#">United States</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONS.1.TAB" class="" href="#">International</a>\\n\\t<br style="clear: both;" />\\n\\t</div>\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONS.PANES" class="iOS7TabTPanes">\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONS.0.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t\\n<div  class="iOS7List"   style="padding:0px; "  >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.LIST_STATES.CONTROL"  class="{UXPRERENDEREDALIAS}_LIST_STATES" style="overflow: auto; width: 100%; "></div>\\n</div>\\n\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONS.1.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t\\n<div  class="iOS7List"   style="padding:0px; "  >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.LIST_INTERNATIONAL.CONTROL"  class="{UXPRERENDEREDALIAS}_LIST_INTERNATIONAL" style="overflow: auto; width: 100%; "></div>\\n</div>\\n\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n</div>\\n</div><br  style="clear:both; " />\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_LOCATION.BREAK"  style="clear:both; " />\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'y\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS_LOCATION"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_LOCATION"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CENTER_LOCATION"    \\t\\t\\tclass="A5CWLayout "  style=""  > <div style="display: table; margin: auto;"> <div class="A5CWLayout" style="width: " > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.STATICTEXT_LOCATIONS" title=""  class="iOS7Heading" style="text-shadow: 2px 2px #ccc; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >Locations</div> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> </div><div style="display:none;"></div>\',',
'\t\tshow: true',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tonSize: function() {;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {var mObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_STATES\'); if(mObj) mObj.refresh();}',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {var mObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_INTERNATIONAL\'); if(mObj) mObj.refresh();}}',
'})',
'},',
'{',
'\tname: \'PANELCARD_TRIALLIST\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div class="A5CWLayout" style="width: 100%" >\\n\\t\\n<div  class="iOS7List"   style="padding:0px; "  >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.LIST_TRIALS.CONTROL"  class="{UXPRERENDEREDALIAS}_LIST_TRIALS" style="overflow: auto; width: 100%; "></div>\\n</div>\\n\\n</div>\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'y\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS_TRIALS"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_USTRIALS"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div class="A5CWLayout" style="width: " > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.STATICTEXT_LISTCLINICALTRIALS.RECORDCOUNT" title=""  class="iOS7Heading" style="text-shadow: 2px 2px #ccc; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >Locations: <span id="{UXPRERENDEREDALIAS}.LISTCLINICALTRIALS.RECORDCOUNT"></div> </div> </div><div style="display:none;"></div>\',',
'\t\tshow: true,',
'\t\tstyle: \'min-height: 40px\'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tonSize: function() {;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {var mObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\'); if(mObj) mObj.refresh();}}',
'})',
'},',
'{',
'\tname: \'PANELCARD_TRIALDETAILS\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_QUALIFY_DETAILS"   \\n\\t\\t\\tclass="A5CWLayout "  style="width: 100%; "  >\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_QUALIFY"    ></button>\\n</div>\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS"    ></button>\\n</div><br  style="clear:both; " />\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_QUALIFY_DETAILS.BREAK"  style="clear:both; " /><div  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_QUALIFY_DETAILS.BREAK"  style="height:10px; font: 0pt;"></div>\\n<div style="width:100%;" class="A5CWLayout iOS7TabT" id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES">\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.TABBAND" class="iOS7TabTBand">\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.0.TAB" class="" href="#">Overview</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.1.TAB" class="" href="#">Eligibility</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.2.TAB" class="" href="#">More Info</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.3.TAB" class="" href="#">Contact</a>\\n\\t<br style="clear: both;" />\\n\\t</div>\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.PANES" class="iOS7TabTPanes">\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.0.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_OVERVIEW" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.1.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_ELIGIBILITY" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.2.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_MOREINFO" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.3.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_CONTACT" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n</div>\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: "  id="{UXPRERENDEREDALIAS}.V.R1.LISTCLINICALTRIALS_GLOBALERRORS" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><br  style="clear:both; " />\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: false',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS_TRIALDETAILS"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CENTER_TRIALS1"    \\t\\t\\tclass="A5CWLayout "  style=""  > <div style="display: table; margin: auto;"> <div class="A5CWLayout" style="width: " > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.TEXT_DETAILS" title=""  class="iOS7Heading" style="text-shadow: 2px 2px #ccc; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >Details</div> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> </div><div style="display:none;"></div>\',',
'\t\tshow: true',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t}',
'})',
'},',
'{',
'\tname: \'PANEL_SCREENER\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div class="A5CWLayout">\\n\\t<td valign="top"><div><a class="iOS7NavigatorLink" id="3ea67298_5306_46b2_b439_c99586fa85ec_CLOSEBUTTON" href="#" onclick="$(\\\'{UXPRERENDEREDALIAS}_DIVCONTAINER_3ea67298_5306_46b2_b439_c99586fa85ec\\\').innerHTML = \\\'\\\'; $(\\\'3ea67298_5306_46b2_b439_c99586fa85ec_CLOSEBUTTON\\\').style.display = \\\'none\\\';" style="display:none;">Close</a></div><div id="{UXPRERENDEREDALIAS}_DIVCONTAINER_3ea67298_5306_46b2_b439_c99586fa85ec"></div></td>\\n</div><br  style="clear:both; " />\\n\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: false',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:none;"></div>\'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t}',
'})',
'}',
'],{',
'\ttype: \'programmatic\',',
'\tflow: \'ltr\',',
'\tloopNavigate: false,',
'\tonPanelActivate: function() {if(this.state.activePanel == \'PANELCARD_TRIALLIST\') {  setTimeout(function() { {UXPRERENDEREDALIAS}_DlgObj._initialListRender(\'LIST_TRIALS\');},5);    }',
'var panelName = this.state.activePanel;',
'if(panelName == \'PANEL_SCREENER\') {',
'\t{UXPRERENDEREDALIAS}_DlgObj._functions.runAction_3ea67298_5306_46b2_b439_c99586fa85ec();;',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.refreshClientSideComputations();},',
'\tonPanelActivateComplete: function() {if(this.state.activePanel == \'PANEL_SCREENER\') { ',
'\tvar pChild = {UXPRERENDEREDALIAS}_DlgObj.getChildObject(\'SCREENER\',\'UX\');',
'\tif(pChild) pChild._executeEvent(\'onPanelActivate\');',
'};},',
'\tonSize: function() {;if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule != \'undefined\') { ',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
'\t}',
'}},',
'\tonCreate: function() {if(this.state.activePanel == \'PANELCARD_TRIALLIST\') {  setTimeout(function() { {UXPRERENDEREDALIAS}_DlgObj._initialListRender(\'LIST_TRIALS\');},5);    }},',
'\ttheme: \'iOS7\',',
'\theader: {',
'\t\tshow: false',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tcontrols: {',
'\t\tprev: {',
'\t\t\thas: false',
'\t\t},',
'\t\tnext: {',
'\t\t\thas: false',
'\t\t},',
'\t\tback: {',
'\t\t\thas: false',
'\t\t},',
'\t\tforward: {',
'\t\t\thas: false',
'\t\t}',
'\t},',
'\tbody: {',
'\t},',
'\tanimation: {',
'\t\ttype: \'fade\',',
'\t\tduration: 400',
'\t}',
'})',
'var ele = window[\'{UXPRERENDEREDALIAS}_PanelObj\'].create(\'{UXPRERENDEREDALIAS}.R1\');',
'\t\tvar panelRootId = \'{UXPRERENDEROUTPUTDIV}\';',
'\t\tvar flagSizeToParent = true;',
'\t\tvar wf_alias = \'{UXPRERENDEREDALIAS}\';',
'\t\tif(panelRootId != \'\') { ',
'\t\t\tif (!$(panelRootId)) panelRootId = \'\';',
'\t\t}',
'\t\tif(panelRootId != \'\') { ',
'\t\t\t$(panelRootId).appendChild(ele);',
'\t\t\tif(flagSizeToParent) { ',
'\t\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'parent\');',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tdocument.body.insertBefore(ele,document.body.firstChild);',
'\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'window\');',
'\t\t}',
'{UXPRERENDEREDALIAS}_PanelObj._panelPath = {',
'\tPANELCARD_LOCATIONS: \'PANELCARD_LOCATIONS\',',
'\tPANELCARD_TRIALLIST: \'PANELCARD_TRIALLIST\',',
'\tPANELCARD_TRIALDETAILS: \'PANELCARD_TRIALDETAILS\',',
'\tPANEL_SCREENER: \'PANEL_SCREENER\'',
'}',
'{UXPRERENDEREDALIAS}_PanelObj._displayNames = {',
'PANELCARD_LOCATIONS : \'PANELCARD_LOCATIONS\',PANELCARD_TRIALLIST : \'PANELCARD_TRIALLIST\',PANELCARD_TRIALDETAILS : \'PANELCARD_TRIALDETAILS\',PANEL_SCREENER : \'PANEL_SCREENER\',PANELNAVIGATOR : \'PANELNAVIGATOR\'',
'};',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {UXPRERENDEREDALIAS}_DlgObj._destroy();',
'window[\'{UXPRERENDEREDALIAS}_DlgObj\'] = new A5.DialogComponentHelper(\'{UXPRERENDEREDALIAS}\',{',
'\tajaxURL: \'{UXPRERENDERAJAXURL}\',',
'\t_embeddedMode: false,',
'\t_livePreviewInBuilder: false,',
'\tcomponentGUID: \'b95edfd7-910c-4cd1-a357-a47cc6629036\',',
'\tcolumnInfo: {\'LIST_STATES\': {info: {controlType: \'List\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'LIST_INTERNATIONAL\': {info: {controlType: \'List\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'LIST_TRIALS\': {info: {controlType: \'List\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'\'  }},',
'\toriginalValues: [{',
'\t\'LIST_STATES\': \'\',',
'\t\'LIST_INTERNATIONAL\': \'\',',
'\t\'LIST_TRIALS\': \'\'',
'}],',
'\tdefaultValues: {',
'\tLIST_STATES: \'\',',
'\tLIST_INTERNATIONAL: \'\',',
'\tLIST_TRIALS: \'\'',
'},',
'\tdatePickerMonthNames: [\'January\',\'February\',\'March\',\'April\',\'May\',\'June\',\'July\',\'August\',\'September\',\'October\',\'November\',\'December\'],',
'\tdatePickerDayNames: [\'Sun\',\'Mon\',\'Tue\',\'Wed\',\'Thu\',\'Fri\',\'Sat\'],',
'\tdatePickerTodayButton: \'Today\',',
'\tdatePickerCloseButton: \'\',',
'\tdatePickerFirstDayOfWeek: 1,',
'\tresetFormMessage: \'Are you sure you want to reset the form?\',',
'\tresetFormTitle: \'Warning\',',
'\tresetFormIcon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\tdirtyFormMessage: \'You must first save your changes or cancel changes by clicking the Reset button.\',',
'\tdirtyFormTitle: \'Notice\',',
'\tdirtyFormIcon: \'cssIcon=iOS7Icon iOS7IconInfo\',',
'\tdeleteRecordDialogTitle: \'Delete Record\',',
'\tdeleteRecordDialogMessage: \'Are you sure you want to delete this record?\',\t',
'\tssDateFormat: \'MM/dd/yyyy\',',
'\tstyleName: \'iOS7\',',
'\t_fieldHelpers_DIALOG2: [],',
'\tparentComponentAlias: \'\'+go._thisGridAlias+\'\',',
'\tsubmitIfHasClientSideErrors: true, ',
'\trowErrors: {',
'\t\t\t\tshowMessageBox: false,',
'\t\t\t\tmessageBoxTitle: \'Error\',',
'\t\t\t\tstyle: \'color: red; width: 6in; height: 2in;\'',
'\t\t},',
'\tfieldErrors: {',
'\t\ttype: \'block\', ',
'\t\tclassName: \'errorText\',',
'\t\tinputClassName: \'iOS7EditError\',',
'\t\tedit: { ',
'\t\t\tcontainer: { className: \'iOS7EditBGError\'}',
'\t\t},',
'\t\ticon: \'cssIcon=iOS7Icon iOS7IconError\',',
'\t\tglobal: {',
'\t\t\tcontId: \'{UXPRERENDEREDALIAS}.GLOBALERRORS\',',
'\t\t\thoverClassName: \'errorTextHighlight\',',
'\t\t\thoverInputClassName: \'errorInputHighlight\'',
'\t\t}',
'\t}',
'\t});',
'{UXPRERENDEREDALIAS}_DlgObj._onOrientationChange =  function(e) { ;',
'{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
';  };',
'A5.__componentObj = {UXPRERENDEREDALIAS}_DlgObj;',
'{UXPRERENDEREDALIAS}_DlgObj._tabObjects = [\'TAB_LOCATIONS\',\'TAB_PANES\'];',
'{UXPRERENDEREDALIAS}_DlgObj._functions.runAction_3ea67298_5306_46b2_b439_c99586fa85ec = function() {',
'\t\tvar go = new Object();',
'\t\tgo.dialog2Name = \'Screener\';',
'\tgo.type = \'dialog2\';',
'\tgo.alias = \'{UXPRERENDEREDALIAS}_SCREENER\';',
'\tgo.workingMessage = \'<img src="loading.gif" />\';',
'\tgo.flagTimer = \'F\';',
'\tgo.flagQueryEcho = \'F\';',
'\tgo.flagDebugMode = \'F\';',
'\tgo.userFilter = \'\';',
'\tgo.baseFilter = \'\';',
'\tgo.userOrder = \'\';',
'\tgo.overrideSettings = \'style_name=`iOS7`\'+\'||\';',
'\tgo.arguments = \'\';',
'\tgo.localArguments = \'whatCountry|Character|RUNTIMEBINDING|Null|Null|\'+{UXPRERENDEREDALIAS}_DlgObj.getValue(\'LIST_INTERNATIONAL\')+\'||whatState|Character|RUNTIMEBINDING|Null|Null|\'+{UXPRERENDEREDALIAS}_DlgObj.getValue(\'LIST_STATES\')+\'\';',
'\tgo.linkDefinition = \'\';',
'\tgo.placeHolderValues = \'\';',
'\tgo.parameterBucket = $gvs(\'{UXPRERENDEREDALIAS}.PARAMETERBUCKET\');',
'\tgo.argumentValueBucket = $gvs(\'{UXPRERENDEREDALIAS}.ARGUMENTVALUES\');',
'\tgo.a5_default_path = \'C_colon_|A5Webroot|livepreview\';',
'\tgo.onLoadCompleteJavascript = \'\';',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.gridId != \'undefined\') go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.gridId;',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.dialogId != \'undefined\') go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.dialogId;',
'\tvar panelCardId = {UXPRERENDEREDALIAS}_DlgObj.panelGetId(\'PANEL_SCREENER\',\'body\');',
'if($(panelCardId + \'.SCROLLWRAPPER\')) panelCardId = panelCardId + \'.SCROLLWRAPPER\';',
'go.dialog2Div = panelCardId;',
'\tA5.component.runGenericComponent(go);',
'}',
'window[\'{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONSObj\'] = new A5.Tab(\'{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONS\',[',
'{ \thtml: \'United States\', \tvalue: \'1\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'International\', \tvalue: \'2\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }',
'],',
'\t{',
'\ttheme: \'iOS7\',',
'\tonChange: function() {',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_LOCATIONS\');},',
'\tpaneHeight: \'100%\'',
'}',
');',
'\twindow[\'{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONSObj\'].select(\'1\');',
'window[\'{UXPRERENDEREDALIAS}.V.R1.TAB_PANESObj\'] = new A5.Tab(\'{UXPRERENDEREDALIAS}.V.R1.TAB_PANES\',[',
'{ \thtml: \'Overview\', \tvalue: \'1\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'Eligibility\', \tvalue: \'2\', \tpaneClassName: \'+tab-pane\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'More Info\', \tvalue: \'3\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'Contact\', \tvalue: \'4\', \tonDynamicLoadDelay: 0, \tshow: true, \tdisabled: false }',
'],',
'\t{',
'\ttheme: \'iOS7\',',
'\tonChange: function() {',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_PANES\');},',
'\tpaneHeight: \'100%\'',
'}',
');',
'\twindow[\'{UXPRERENDEREDALIAS}.V.R1.TAB_PANESObj\'].select(\'1\');',
'{UXPRERENDEREDALIAS}_DlgObj.lookups = {',
'};',
'window[\'{UXPRERENDEREDALIAS}_O_B10C9F8A4D6E4F38BC2F82FB8A3A17CA\'] = function(rowNum,rowId,objEle) {',
'var windowName = \'WINDOW_bfe46e12_0bc0_4bfb_b0e7_770e6d49d275\';',
'var currWindow = {UXPRERENDEREDALIAS}_DlgObj.getWindow(windowName);',
'var go = new Object();',
'go.ajaxFailedMessage = \'\';',
'go.ajaxCallbackTimeout = {UXPRERENDEREDALIAS}_DlgObj.ajaxCallbackTimeout;',
'go.objectId = objEle.id;',
'go.dialog2Name = \'SiteMap\';',
'go.type = \'dialog2\';',
'go.alias = \'SITEMAP\';',
'go.submitCurrentFieldValues = true;',
'go.sourceGridPart = \'O\';',
'go.sourceGridRowNumber = \'1\';',
'go.workingMessage = \'<img src=\\\'loading.gif\\\' />\';',
'go.placeholderValues = \'\';',
'go.argumentBinding = \'\';',
'go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.gridId;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj.gridId != \'undefined\') go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.gridId;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj.dialogId != \'undefined\') {',
'\tgo._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.dialogId;',
'}',
'go._thisGridGUID = {UXPRERENDEREDALIAS}_DlgObj.componentGUID;',
'go._gridCurrentFilter = {UXPRERENDEREDALIAS}_DlgObj._gridFilter;',
'go._gridCurrentOrder = {UXPRERENDEREDALIAS}_DlgObj._gridOrder;',
'go._gridCurrentArguments = {UXPRERENDEREDALIAS}_DlgObj._gridArguments;',
'go._gridCurrentDBType = {UXPRERENDEREDALIAS}_DlgObj._gridDBType;',
'go.overrideSettings = \'Style_name = `iOS7`||Style_name = `iOS7`\'+\'||a5SetSessionVar(`var X`, `function() {return {UXPRERENDEREDALIAS}_DlgObj.getValue();}  ()`)\';',
'go.a5_default_path = \'C_colon_|A5Webroot|livepreview\';',
'go.windowName = windowName;',
'go.showWindowParameters = \'\';',
'var runMethod = \'ajax\';',
'if(runMethod == \'ajax\') {',
'go.ajaxFailedMessage = \'\';',
'go.ajaxCallbackTimeout = {UXPRERENDEREDALIAS}_DlgObj.ajaxCallbackTimeout;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj._onlineStatus != \'undefined\') { ',
'\tif({UXPRERENDEREDALIAS}_DlgObj._onlineStatus == \'offline\') { ',
'\t\t( function() {  }() );',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onAjaxCallbackNotAvailable\', {xbasicFunctionName: \'\', ajaxEvent: \'OpenComponent\'})',
'\t\treturn false;',
'\t}',
'}\t\t',
'};',
'if(!currWindow) {',
'\tcurrWindow = {UXPRERENDEREDALIAS}_DlgObj.createWindow(windowName,\'modeless-resizable\',',
'\t{',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'blank\',',
'\t\t\telementId: \'~\'',
'\t\t}',
'\t},',
'\theight: \'5in\',',
'\twidth: \'8in\',',
'\ttitle: {',
'\t\thtml: \'&nbsp;\',',
'\t\tlocation: \'top\',',
'\t\tdirection: \'ltr\',',
'\t\tshow: true',
'\t},',
'\tdisableMove: false,',
'\ttheme: \'iOS7\',',
'\tpointer: {',
'\t\tshow: true,',
'\t\tlocation: \'auto\'',
'\t},',
'\tonBeforeShow: function() {var cs = AUI.u.getVPSize();',
'cs.width = cs.width - 10;',
'cs.height = cs.height - 10;',
'this.setSize(cs.width+\'px\',cs.height+\'px\');',
'this.setPosition(\'center\');},',
'\tanimation: {',
'\t\tshow: {',
'\t\t\ttype: \'fade\',',
'\t\t\tduration: \'slow\'',
'\t\t},',
'\t\thide: {',
'\t\t\ttype: \'none\',',
'\t\t\tduration: \'fast\'',
'\t\t}',
'\t}',
'}',
'\t);\t\t',
'\tgo.dialog2Div  = currWindow.getWindowId(\'body\')+\'_INNERCONTENT\';',
'\tgo.dialog2Div = currWindow.getWindowId(\'body\')+\'_INNERCONTENT\';',
'\tvar arrHTML = [];',
'\tarrHTML.push(\'\');',
'\tarrHTML.push(\'<table style="width:100%;height:100%;">\');',
'\tarrHTML.push(\'<tr><td  align="center"  valign="middle"  >\');',
'\tarrHTML.push(\'<div id="\'+go.dialog2Div+\'"></div>\');',
'\tarrHTML.push(\'</td>\');',
'\tarrHTML.push(\'</tr>\');',
'\tarrHTML.push(\'</table>\');',
'\t$(currWindow.getWindowId(\'body\')).innerHTML = arrHTML.join(\'\\n\');',
'A5.component.runGenericComponent(go)',
'\tcurrWindow.show();',
'} else {',
'\t\tvar ele = \'SITEMAP.GRID_PART.FORM_CONTAINER_DIV\';',
'\tvar pele = $(ele);',
'\tif(pele) pele.innerHTML = \'<img src=\\\'loading.gif\\\' /> \';',
'\tgo.dialog2Div  = currWindow.getWindowId(\'body\')+\'_INNERCONTENT\';',
'\tgo.parentGridId = \'{UXPRERENDEREDALIAS}\';',
'\tA5.component.runGenericComponent(go)',
'\tcurrWindow.show();',
'};',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({',
'\t__dialogGuid: \'fe45306f-b359-4636-93b2-3e1f06e95444\',',
'\targumentsBoundToCotrols: \'whatCountry|Character={LIST_INTERNATIONAL}\\nwhatState|Character={LIST_STATES}\\n\',',
'\t__sgr: \'\',',
'\t__dtfmt: \'MM/dd/yyyy\',',
'\t__tfmt: \'\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControlsChildren = [];',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ \t__args_C_whatCountry: \'\', \t__args_C_whatState: \'\' });',
'A5.msgBox.theme = \'iOS7\';',
'A5.msgBox.buttonWidth = \'1in\';',
'{UXPRERENDEREDALIAS}_DlgObj._defaultWindowTitleDirection = \'ltr\';',
'{UXPRERENDEREDALIAS}_DlgObj._controlContainers = {\'LIST_STATES\' : [{ tab: \'TAB_LOCATIONS\', pane: 1}],\'LIST_INTERNATIONAL\' : [{ tab: \'TAB_LOCATIONS\', pane: 2}]}',
'{UXPRERENDEREDALIAS}_DlgObj._panelCardControls = {',
'LIST_STATES:\'PANELCARD_LOCATIONS\',',
'LIST_INTERNATIONAL:\'PANELCARD_LOCATIONS\',',
'LIST_TRIALS:\'PANELCARD_TRIALLIST\'',
'}',
'window[\'{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONSObj\'].panes[0].onChange = function() {',
'\tvar lObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_STATES\'); lObj.refresh(); ',
'\t{UXPRERENDEREDALIAS}_DlgObj._initialListRender(\'LIST_STATES\');',
'\tvar lObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_STATES\'); lObj.refresh();lObj.resize();',
'\t{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_LOCATIONS\');',
'};',
'window[\'{UXPRERENDEREDALIAS}.V.R1.TAB_LOCATIONSObj\'].panes[1].onChange = function() {',
'\tvar lObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_INTERNATIONAL\'); lObj.refresh(); ',
'\t{UXPRERENDEREDALIAS}_DlgObj._initialListRender(\'LIST_INTERNATIONAL\');',
'\tvar lObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_INTERNATIONAL\'); lObj.refresh();lObj.resize();',
'\t{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_LOCATIONS\');',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._buttons = {};',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_LOCATION\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_USTRIALS\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_TRIALDETAILS\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_QUALIFY\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'See if I qualify\',',
'\tonClick: function() { /* actionJavascript:ad58af78-0a4f-48bc-95da-7fe98f7066b3 */',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANEL_SCREENER\',true);',
'},',
'\ttheme: \'iOS7\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_DIRECTIONS\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Directions to Site\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:base\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_LOCATION\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_LOCATION\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_USTRIALS\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_USTRIALS\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_TRIALDETAILS\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_QUALIFY\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_QUALIFY\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_DIRECTIONS\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS\');',
'{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_STATES\'] = {',
'\t_dataSourceType: \'Static\',',
'\t_listFields: [',
'\t{',
'\t\tname: \'State\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'State\\\');\'',
'\t},',
'\t{',
'\t\tname: \'Abbrev\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Abbrev\\\');\'',
'\t}',
'],',
'\t_searchPartHas: false,',
'\t_mediaFields: [],',
'\t_mediaTypes: {',
'},',
'\t_phoneGap: {',
'\t\tmediaFiles: {',
'\t\t\tprotectedRead: false,',
'\t\t\ttarget: \'server\',',
'\t\t\ttargetFilenameFunction: \'return \\\'<DeviceId>_\\\' +e.object.listFieldName + \\\'_\\\' + A5.ts() + \\\'_\\\' +e.name\',',
'\t\t\tshowProgress: false,',
'\t\t\tdownload: {',
'\t\t\t\tautodownloadFilesOnPullSynch: false,',
'\t\t\t\tdeleteOrphansAfterSync: false,',
'\t\t\t\ttargetFolder: \'_AAFiles\',',
'\t\t\t\tshowProgress: false',
'\t\t\t},',
'\t\t\tonErrorFunction: function(array,fileNumber,error) { }',
'\t\t}',
'\t},',
'\t_dvmode: \'enter\',',
'\t_hasDetailView: false,',
'\ttheme: \'iOS7\',',
'\tscroll: {',
'\t\taxis: \'both\',',
'\t\tindicator: {',
'\t\t\tshow: true,',
'\t\t\th: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\tleft: \'0px\',',
'\t\t\t\tright: \'0px\'',
'\t\t\t},',
'\t\t\tv: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\ttop: \'0px\',',
'\t\t\t\tbottom: \'0px\'',
'\t\t\t}',
'\t\t},',
'\t\tmomentum: {',
'\t\t\tallow: true',
'\t\t},',
'\t\tpull: {',
'\t\t\ty: \'auto\',',
'\t\t\tx: \'auto\'',
'\t\t}',
'\t},',
'\tlayout: \'Default\',',
'\tcalculateValue: function(data) {  {var _val = \'\' +A5RemoveHTMLWrapper(data.Abbrev); if((_val == \'\' ||  _val == \'undefined\'  )&& typeof data[\'*rowGUID\'] != \'undefined\') _val = \'_temporaryValue_\' + data[\'*rowGUID\']; return _val;}},',
'\tlistVariableName: \'LIST_STATES\',',
'\tlistVariableNameTrueCase: \'LIST_STATES\',',
'\t_hostComponentId: \'{UXPRERENDEREDALIAS}\',',
'\t_includeCRC: false,',
'\tallParentLists: [],',
'\t__flagPersist: false,',
'\tonBeforeUpdateRow: function(index,data){;},',
'\tonUpdateRow: function(index,data){;},',
'\tonBeforeAddRows: function(data,info){;},',
'\tonAddRows: function(data,info){;},',
'\tonBeforeRemoveRows: function(rows){;},',
'\tonRemoveRows: function(rows){;},',
'\tonListDraw: function(data,startIndex) {',
'if(A5.flags.isMobile) $e.add(this.contId+\'.CONTENT\',\'abstractdown\',function(e) {$e.preventDefault(e);});},',
'\tchildLists: [],',
'\tchildListEndpoints: [\'LIST_STATES\'],',
'\t_populateAllChildLists: function() { },',
'\tonSelect: function() {{UXPRERENDEREDALIAS}_DlgObj._listRowSelect(\'LIST_STATES\',this);',
';',
'this._selectedRow = this.selection[0];},',
'\tonClick: function() {',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'populateListState\',\'\',\'\',{deviceOfflineFunction: function() {   }});',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_TRIALLIST\', true);',
'{UXPRERENDEREDALIAS}_DlgObj._listSystemOnClick(\'LIST_STATES\',this.selection[0]);},',
'\tlayouts: {',
'\t\tDefault: {',
'\t\t\ttype: \'column\',',
'\t\t\tshowColumnTitles: true,',
'\t\t\titem: {',
'\t\t\t},',
'\t\t\tcolumns: [',
'\t\t\t\t{',
'\t\t\t\t\theader: {',
'\t\t\t\t\t\thtml: \'State\',',
'\t\t\t\t\t\tstyle: \'color: #646464; font-size: 16px;\'',
'\t\t\t\t\t},',
'\t\t\t\t\tresize: false,',
'\t\t\t\t\tdata: {',
'\t\t\t\t\t\ttemplate: \'<span id="{UXPRERENDEREDALIAS}.LIST_STATES.STATE.I.{*dataRow}">{State}</span>&nbsp;\'',
'\t\t\t\t\t},',
'\t\t\t\t\torder: \'State\',',
'\t\t\t\t\twidth: \'flex(1)\'',
'\t\t\t\t}\t\t\t',
']',
'\t\t}',
'\t},',
'\tcontent: {',
'\t\theader: {',
'\t\t\tshow: false',
'\t\t},',
'\t\tfooter: {',
'\t\t\tshow: false',
'\t\t}',
'\t},',
'\tsystemEvents: {',
'\t\tonTap: function(e) {},',
'\t\tafterAjaxCallback: function(e) {},',
'\t\tafterClientSideFilter: function(e) {},',
'\t\tbeforeServerSideSort: function(e) {},',
'\t\tafterServerSideSort: function(e) {},',
'\t\tonSwipe: function(e) {},',
'\t\tonScroll: function(e) {},',
'\t\tonPullRelease: function(e) {},',
'\t\tonPull: function(e) {},',
'\t\tonPullEnd: function(e) {},',
'\t\tafterSearchComplete: function(e) {},',
'\t\tbeforeSearch: function(e) {},',
'\t\tonSearchResultTooLarge: function(e) {},',
'\t\tonSearchResultTooLargeForLocalStorage: function(e) {},',
'\t\tonBeforePersistToLocalStorage: function(e) {},',
'\t\tonPersistToLocalStorage: function(e) {},',
'\t\tonRestoreFromLocalStorage: function(e) {},',
'\t\tafterRenderComplete: function(e) {},',
'\t\tbeforeFetchMore: function(e) {},',
'\t\tafterFetchMore: function(e) {},',
'\t\tbeforePageNavigate: function(e) {},',
'\t\tafterPageNavigate: function(e) {},',
'\t\tbeforeRefreshRow: function(e) {},',
'\t\tafterRefreshRow: function(e) {},',
'\t\tafterServerSideSummaryCompute: function(summary) {},',
'\t\t_afterAjaxCallback: function() {this._refreshStateMessages();}',
'\t},',
'\t_clientsideSummary: [],',
'\tcomputeClientSideSummaryValues: function(e) {},',
'\t_executeEvent: function(event,obj) { ',
'\treturn {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_STATES\',event,obj);',
'}',
',',
'\t_selectAll: function() {',
'\tvar v = this._values;',
'\tvar v2 = [].concat(v);',
'\tthis.setValue(v2,false);',
'}',
',',
'\tsearchList: function() { ',
'\tif(this._searchPartStyle == \'querybyform\') { ',
'\t\tif(this._dvmode != \'search\') return false;',
'\t}',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse {',
'\t\t\tif(this._dataSourceType.toLowerCase() == \'sql\' || this._dataSourceType.toLowerCase() == \'dbf\') {',
'\t\t\t\tmode = \'serverside\';',
'\t\t\t} else { ',
'\t\t\t\tmode = \'clientside\';',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'search\', searchWhere: mode, listIsDirty: flagDirty});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._searchListServerSide(obj);',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilter();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'search\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_searchListServerSide: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar _d={};',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tif(flagDirty) { ',
'\t\talert(\'Can\\\'t execute server-side search because List has edits that have not yet been synchronized.\');',
'\t\treturn false;',
'\t}',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t_data = _data + \'&\' + A5.ajax.buildURLParam(\'__searchOptions\',JSON.stringify(obj));',
'\tthis.filter = false;',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPart\',\'\',_data);',
'}',
',',
'\tclearSearchList: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse mode = \'serverside\';',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'clear\', searchWhere: mode});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._clearSearchListServerSide();',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilterClear();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'clear\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_clearSearchListServerSide: function() { ',
'\tvar _d={};',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPartClear\',\'\',_data);',
'}',
',',
'\t_str: function(txt) {',
'\ttxt = txt.replace("\'","\\\\\'");',
'\ttxt = \'\\\'\' + txt + \'\\\'\';',
'\treturn txt;',
'}',
',',
'\t_QBF: function(txt) { ',
'\tvar o = {};',
'\to.v2 = \'\';',
'\to.v1 = txt;',
'\to.flag = false;',
'\tif(txt.indexOf(\'>=\') >= 0) {',
'\t\to.op = \'>=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<=\') >= 0 ) { ',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'>\') >= 0 ) {',
'\t\to.op = \'>\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<\') >= 0)  { ',
'\t\to.op = \'<\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') == 0)  {',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if ( txt.indexOf(\'..\', txt.length - \'..\'.length) !== -1 ) { ',
'\t\t//ends with ..',
'\t\to.op = \'>=\';',
'\t\ttxt = txt.split(\'..\')',
'\t\to.v1 = txt[0];',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') > 0 ) {',
'\t\to.op = \'between\'',
'\t\ttxt = txt.split(\'..\');',
'\t\to.v1 = txt[0];',
'\t\to.v2 = txt[1];',
'\t\to.flag = true;',
'\t}',
'\treturn o;',
'}',
',',
'\t_match: function(data,field,val,obj) { ',
'\tvar flagKeyword = false;',
'\tif(typeof obj.flagKeyword != \'undefined\') flagKeyword = obj.flagKeyword;',
'\tif(flagKeyword) { ',
'\t\tvar obj_i = this._searchFieldOptions[field.toUpperCase()];',
'\t\tthis._setSearchOps(obj,obj_i);',
'\t}',
'\tvar _d = \'\';',
'\tvar _v = val;',
'\tvar flagC = false;',
'\tif(obj.type == \'c\') {',
'\t\tflagC = true;',
'\t\tif(!obj.caseSensitive) _v = _v.toLowerCase();',
'\t} else { ',
'\t\t//non mumeric searches are only mode 1 or -1',
'\t\tif(obj.mode > 1) obj.mode = 1;',
'\t\tif(obj.mode < -1) obj.mode = -1;',
'\t}',
'\tvar flag = false;',
'\tobj.usesQBFOperator = false;',
'\tif(obj.qbf) { ',
'\t\t_v = _v.split(\',\');',
'\t} else {',
'\t\t_v = [_v];',
'\t}',
'\tvar o = {}',
'\tvar r = \'\';',
'\tvar _vals = [];',
'\tfor(var i = 0; i < _v.length; i++) { ',
'\t\tif(obj.qbf) {',
'\t\t\to = this._QBF(_v[i]);',
'\t\t} else {',
'\t\t\to.flag = false;',
'\t\t\to.v1 = _v[i];',
'\t\t\to.v2 = \'\';',
'\t\t}',
'\t\tif(typeof data[field] != \'undefined\') {',
'\t\t\tif(data[field] != null) { ',
'\t\t\t\t_d = data[field];',
'\t\t\t\tif(obj.type == \'n\') { ',
'\t\t\t\t\to.v1 = Number(o.v1);',
'\t\t\t\t\to.v2 = Number(o.v2);',
'\t\t\t\t\t_d = Number(_d);',
'\t\t\t\t} else if (obj.type == \'l\') { ',
'\t\t\t\t\to.v1 = $u.s.toBool(o.v1);',
'\t\t\t\t\to.v2 = $u.s.toBool(o.v2);',
'\t\t\t\t\t_d = $u.s.toBool(_d);',
'\t\t\t\t} else if (obj.type == \'d\') { ',
'\t\t\t\t\to.v1 = A5.stringToDate(o.v1,obj.dateFormat);',
'\t\t\t\t\to.v2 = A5.stringToDate(o.v2,obj.dateFormat);',
'\t\t\t\t\tif(typeof _d == \'string\') _d = A5.stringToDate(_d,obj.dateFormat);',
'\t\t\t\t\tif(o.v1 != \'\' && o.v1 != null ) o.v1 = o.v1.getTime();',
'\t\t\t\t\tif(o.v2 != \'\' && o.v2 != null ) o.v2 = o.v2.getTime();',
'\t\t\t\t\tif(_d != \'\' && _d != null ) _d = _d.getTime();',
'\t\t\t\t}',
'\t\t\t\tif(flagC) {if(!obj.caseSensitive && typeof _d == \'string\') _d = _d.toLowerCase();}',
'\t\t\t\tif(o.flag) { ',
'\t\t\t\t\t//has qbf operators',
'\t\t\t\t\tif(o.op == \'between\') {',
'\t\t\t\t\t\tif(flagC) {',
'\t\t\t\t\t\t\tif(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tif(flagC) _d = _d.substr(0,o.v1.length)',
'\t\t\t\t\t\tif(o.op == \'>=\') if( _d >= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<=\') if( _d <= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'>\') if(_d > o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<\') if(_d < o.v1) flag = true;',
'\t\t\t\t\t}',
'\t\t\t\t} else { ',
'\t\t\t\t\tif(obj.mode == 1 || obj.mode == -1 ) {',
'\t\t\t\t\t\tif(obj.mode == 1) if(_d == o.v1) flag = true;; //match',
'\t\t\t\t\t\tif(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match',
'\t\t\t\t\t} else if (obj.mode == 2 || obj.mode == -2) { ',
'\t\t\t\t\t\tif(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains',
'\t\t\t\t\t\tif(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;',
'\t\t\t\t\t} else if (obj.mode == 3 || obj.mode == -3) { ',
'\t\t\t\t\t\tif(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with',
'\t\t\t\t\t\tif(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v1 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v1) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v1);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v2 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v2) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v2);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(flag) { ',
'\t\tif(typeof this._state.highlight == \'undefined\') this._state.highlight = {};',
'\t\tthis._state.highlight[field.toUpperCase()] = _vals;',
'\t} else { ',
'\t\t//this._state.highlight[field.toUpperCase()] = [];',
'\t}',
'\treturn flag;',
'}',
',',
'\t_setSearchOps: function(obj,obj_i) { ',
'\tobj.mode = obj_i.option;',
'\tobj.qbf = obj_i.qbf;',
'\tobj.type = obj_i.type;',
'\t//obj.treatAs = obj_i.treatAs;',
'}',
',',
'\t_searchPartOperator: \'&&\',',
'\t_searchPartSubmit_clientSideFilter: function() { ',
'\tif(!this._searchPartHas) return true;',
'\t//_searchPartStyle: \'individualcontrols\'',
'\tthis._state.highlight = {};',
'\tif(this._searchPartStyle == \'singlekeywordcontrol\') { ',
'\t\tvar searchFor = {UXPRERENDEREDALIAS}_DlgObj.getValue(this._keywordSearchControl);',
'\t\tvar arr = this._keywordSearchFields;',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\t//obj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 1;',
'\t\tobj.flagKeyword = true;',
'\t\tvar objStr = JSON.stringify(obj)',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\texpn_i = \'this._match(data,\' +this._str(arr[i]) + \',\' + this._str(searchFor) + \',\'+objStr+\')\';',
'\t\t\texpn.push(expn_i);',
'\t\t}',
'\t\texpn = expn.join(\'||\');',
'\t\t//alert(expn);',
'\t} else if ( this._searchPartStyle == \'individualcontrols\' || this._searchPartStyle == \'querybyform\'  ) { ',
'\t\tvar map = this._searchPart.fieldMap;',
'\t\tvar val = \'\';',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\tobj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 2;',
'\t\t//var objStr = JSON.stringify(obj)',
'\t\tvar ac = [];',
'\t\tvar aco = {};',
'\t\tvar _highlight = {};',
'\t\tif(this._searchPartStyle == \'individualcontrols\') {',
'\t\t\tfor(var i = 0; i < map.length; i++) { ',
'\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(map[i].control);',
'\t\t\t\tif(val != \'\') {',
'\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(map[i].field) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t} else if (this._searchPartStyle == \'querybyform\' ) { ',
'\t\t\tvar controlName = \'\';',
'\t\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\t\tif(controlName != \'\') {',
'\t\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(controlName);',
'\t\t\t\t\tif(val != \'\') {',
'\t\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(this._listFields[i].name) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t\t\taco.control = controlName;',
'\t\t\t\t\t\taco.value = val;',
'\t\t\t\t\t\tac.push(aco);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis.__queryByFormValues = ac;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\t\t}\t',
'\t\tvar operator = \'&&\';',
'\t\tif(typeof this._searchPartOperator != \'undefined\') operator = this._searchPartOperator;',
'\t\texpn = expn.join(\' \'+operator+\' \');',
'\t} ',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = expn;',
'\t}',
'\t//user did not fill in any search fields',
'\tif(expn == \'\') return true;',
'\tvar fnTxt = \'if(\' + expn + \') {return true;} else { return false;}\'',
'\tvar searchFunction = new Function(\'data\',fnTxt);',
'\tthis.setFilter(searchFunction);',
'\tif(this._rData.length > 0) this.setValue(0);',
'}',
',',
'\t_searchPartSubmit_clientSideFilterClear: function() { ',
'if(!this._searchPartHas) return true;',
'\tthis._state.highlight = {};',
'\tthis.setFilter(false);',
'\tvar map = this._searchPart.fieldMap;',
'\tvar val = \'\';',
'\tvar od = {UXPRERENDEREDALIAS}_DlgObj.originalValues[0];',
'\tfor(var i = 0; i < map.length; i++) {',
'\t\tvar val = od[map[i].control.toUpperCase()];',
'\t\tif(typeof val != \'undefined\') {UXPRERENDEREDALIAS}_DlgObj.setValue(map[i].control,val,false);',
'\t}',
'\tthis.setFilter(false);',
'\tdelete this.__queryByFormValues;',
'\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\tif(this._data.length > 0) this.setValue(0);',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = \'\';',
'\t}',
'}',
',',
'\tdetailViewIsDirty: function() { return false; },',
'\tpopulateUXControls: function() { return true; },',
'\tlistIsDirty: function() { return false; },',
'\tlookupValue: function(key,name,keyValue) {\tvar _d = this._data;',
'\tvar indx = A5FindPropInArray(_d,key,keyValue);',
'\tvar rv = \'\';',
'\tif(indx >=0) {',
'\t\tif(name == \'__rowData__\') return _d[indx];',
'\t\trv =  _d[indx][name];',
'\t} else {',
'\t\t//null out all properties in row',
'\t\tvar _d2 = {};',
'\t\tif(typeof _d[0] == \'undefined\') { return {}} ;',
'\t\tfor(var n in _d[0]) {',
'\t\t\t_d2[n] = \'&nbsp;\';',
'\t\t}',
'\t\trv = _d2;',
'\t}',
'\treturn rv;',
'}',
',',
'\tallowNullSelection: true,',
'\tallowNullDeselection: false,',
'\tloopNavigate: false,',
'\tloopNavigateNullSelection: false,',
'\trefreshChildLists: function() {{UXPRERENDEREDALIAS}_DlgObj._listRefreshCascadingLists(\'LIST_STATES\'); },',
'\trowExpander: function(rowNumber) { ',
'\tvar mode = typeof arguments[2] != \'undefined\' ? arguments[2] : \'toggle\';',
'\tif(typeof rowNumber == \'undefined\' || rowNumber == \'\' ) {',
'\t\trowNumber = this.selection[0];',
'\t\tif(typeof rowNumber == \'undefined\') return false;',
'\t}',
'\tvar animObj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\tvar ele = $(this._hostComponentId + \'.\' + this.listVariableName + \'.ROWEXPANDER.\' + rowNumber);',
'\tif(ele) {',
'\t\tif(mode == \'toggle\') A5.u.element.toggle(ele,animObj);',
'\t\tif(mode == \'show\') A5.u.element.show(ele,animObj);',
'\t\tif(mode == \'hide\') A5.u.element.hide(ele,animObj);',
'\t}',
'}',
',',
'\tafterClientSideSummaryCompute: function(csSummary) { },',
'\tselectCurrentLayout: function(name) { ',
'var pl = this.layouts[name];',
'if(typeof pl == \'undefined\') return false;',
'this.setLayout(name);',
'if(pl.type == \'column\') {',
'\tthis.columnLayout.header.show = this.layouts[name].showColumnTitles; ',
'\tthis.refresh();',
'}',
'},',
'\tonFilter: function() { \tvar e = {}; ',
'\te.rowCount = this._values.length;  ',
'\tvar ele = $(\'{UXPRERENDEREDALIAS}.__listId__.RECORDCOUNT\'); ',
'\tif(ele) {ele.innerHTML = e.rowCount;}; ',
'\tif(this.persistToStorage) { this.persistToStorage({});} ',
'\t(function(e) {   })(e);',
'}',
',',
'\tserverSideSort: function(column) {',
'var e = {};',
'e.column = column;',
'var result = this.systemEvents.beforeServerSideSort(e);',
'if(result == false) return false;',
'var obj = {};',
'obj.cmd = \'sort\';',
'obj.column = column;',
'obj.layoutName = this.layout;',
'obj.listState = this._state;',
'var data = \'_listId=LIST_STATES&\' + A5.ajax.buildURLParam(\'_cmdObj\',$u.o.toJSON(obj));',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:listServerSideSort\',\'\',data);',
'},',
'\tfilterListClientSide: function(searchFor) {',
'//var result = this.systemEvents.beforeClientSideFilter();',
'//if(result == false) return false;',
'if(searchFor != \'\') {',
'\t//fixes bug in Chrome when searching on dates strings that use forward slashes',
'\tsearchFor = searchFor.replace(/\\//g,\'\\\\/\');',
'\tthis.setFilter({\'State\': RegExp(\'\' + searchFor,\'i\'), \'Abbrev\': RegExp(\'\' + searchFor,\'i\')});',
'} else this.setFilter(false);',
'var rowCount = this._values.length;',
'//var e = {};',
'//e.rowCount = rowCount;',
'//this.systemEvents.afterClientSideFilter(e);',
'var ele = $(\'{UXPRERENDEREDALIAS}.LIST_STATES.RECORDCOUNT\');',
'if(ele) ele.innerHTML = rowCount;',
'}',
',',
'\tscrollToClosestValue: function(val) { \t',
'\tif(typeof val != \'string\') val = val.join(\'\');',
'\tvar flagCI = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\tvar pos = typeof arguments[2] != \'undefined\' ? arguments[2] : \'top\';',
'\tvar anim = typeof arguments[3] != \'undefined\' ? arguments[3] : {}',
'\tvar _d = this._rData;',
'\tvar len = val.length;',
'\tvar _d2;',
'\tvar i2 = -1;',
'\tif(flagCI) val = val.toLowerCase();',
'\tfor(var i = 0 ; i < _d.length; i++) {',
'\t\ti2 = i;',
'\t\t_d2 = String(_d[i][\'*value\']);',
'\t\t_d2 = _d2.substr(0,len);',
'\t\t_d2 = $u.s.pad(_d2,len,\' \',\'l\');',
'\t\tif(flagCI) _d2 = _d2.toLowerCase();',
'\t\tif(val <= _d2){',
'\t\t\t break;',
'\t\t}',
'\t}',
'\tif(i2 > -1) { ',
'\t\tthis.scrollToItem(i2,{mode: pos, animation: anim});',
'\t}',
'}',
',',
'\t_refreshStateMessages: function() {',
'\tvar ele = \'\';',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_STATES.PAGENUMBER\');',
'\tif(ele) ele.innerHTML = this._state.page;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_STATES.PAGECOUNT\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_STATES.PAGECOUNT.PAGESELECTOR\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;\t',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_STATES.LISTSTATE\');',
'\tif(ele) {',
'\t\tvar listState = $u.o.toJSON(this._state);',
'\t\tele.innerHTML = listState;',
'\t}',
'\t//navigation buttons\t',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_NEXT.LIST_STATES\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_LAST.LIST_STATES\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_FIRST.LIST_STATES\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_PREV.LIST_STATES\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = $(\'{UXPRERENDEREDALIAS}.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LIST_STATES\');',
'\tif(ele) {',
'\t\tvar data = this._recordNavigatorLinks;',
'\t\tif(data) A5.form.populateSelect(ele,this._state.page,data,true);',
'\t}',
'}',
',',
'\tscroller: {',
'\t\thas: true,',
'\t\tflow: \'ttb\',',
'\t\tlocation: \'after\',',
'\t\toffset: {',
'\t\t\ttop: \'0px\',',
'\t\t\tbottom: \'0px\',',
'\t\t\tleft: \'0px\',',
'\t\t\tright: \'0px\'',
'\t\t},',
'\t\tslider: {',
'\t\t\thandle: {',
'\t\t\t},',
'\t\t\tshadow: {',
'\t\t\t\tshow: true',
'\t\t\t},',
'\t\t\tmessage: {',
'\t\t\t\tshow: \'auto\',',
'\t\t\t\tlowSwitch: 75,',
'\t\t\t\thighSwitch: 75',
'\t\t\t}',
'\t\t},',
'\t\tdial: {',
'\t\t\tshow: \'drag\',',
'\t\t\tinvertDrag: false,',
'\t\t\tmessage: {',
'\t\t\t},',
'\t\t\tpixelStep: 4,',
'\t\t\tsize: 2',
'\t\t},',
'\t\tshow: true',
'\t},',
'\t_getRoute: function() { ',
'\tvar obj  = typeof arguments[1] != \'undefined\' ? arguments[1] : [];',
'\tvar mode = typeof arguments[0] != \'undefined\' ? arguments[0] : \'rowNumber\'; //',
'\tif(typeof this.selection[0] == \'undefined\') return false;',
'\tif(typeof this.getData(this.selection[0]) == \'undefined\') return false;',
'\tif(mode == \'rowNumber\') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])[\'*key\']});',
'\telse obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tif(lObj) lObj._getRoute(mode,obj);',
'\t}',
'\treturn obj;',
'}',
',',
'\t_setRoute: function(route) { ',
'\tif(typeof route == \'undefined\') { ',
'\t\troute = this.__currentRoute;',
'\t\tif(typeof route == \'undefined\') return false;',
'\t}',
'\tvar lObj = \'\';',
'\tvar row = \'\';',
'\tfor(var i = 0; i < route.length; i++) {',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(route[i].list);',
'\t\trow = route[i].row;',
'\t\tvar flag = typeof this._restoringList != \'undefined\' ? !this._restoringList : true;',
'\t\tif(typeof row != \'undefined\') {',
'\t\t\tvar rowFixed = \'\';',
'\t\t\tif(typeof lObj._dataMap == \'undefined\') return false;',
'\t\t\t//var msg = JSON.stringify(lObj._dataMap);',
'\t\t\t//alert(\'route[i].row:\' + route[i].row + \' ------ \' + msg);',
'\t\t\trowFixed = lObj._dataMap.indexOf(route[i].row);',
'\t\t\tlObj.setValue(rowFixed,flag);',
'\t\t\tif(this._clearServerSideErrors) this._clearServerSideErrors();',
'\t\t\tif(this._showServerSideErrors) this._showServerSideErrors();',
'\t\t\tif(this._showWriteConflictErrors) this._showWriteConflictErrors();',
'\t\t}',
'\t}',
'}',
',',
'\t_useServerSideSyncLog: false,',
'\t_searchHighlighting: false',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_INTERNATIONAL\'] = {',
'\t_dataSourceType: \'Static\',',
'\t_listFields: [',
'\t{',
'\t\tname: \'Country\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Country\\\');\'',
'\t},',
'\t{',
'\t\tname: \'Trials\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Trials\\\');\'',
'\t}',
'],',
'\t_searchPartHas: false,',
'\t_mediaFields: [],',
'\t_mediaTypes: {',
'},',
'\t_phoneGap: {',
'\t\tmediaFiles: {',
'\t\t\tprotectedRead: false,',
'\t\t\ttarget: \'server\',',
'\t\t\ttargetFilenameFunction: \'return \\\'<DeviceId>_\\\' +e.object.listFieldName + \\\'_\\\' + A5.ts() + \\\'_\\\' +e.name\',',
'\t\t\tshowProgress: false,',
'\t\t\tdownload: {',
'\t\t\t\tautodownloadFilesOnPullSynch: false,',
'\t\t\t\tdeleteOrphansAfterSync: false,',
'\t\t\t\ttargetFolder: \'_AAFiles\',',
'\t\t\t\tshowProgress: false',
'\t\t\t},',
'\t\t\tonErrorFunction: function(array,fileNumber,error) { }',
'\t\t}',
'\t},',
'\t_dvmode: \'enter\',',
'\t_hasDetailView: false,',
'\ttheme: \'iOS7\',',
'\tscroll: {',
'\t\taxis: \'both\',',
'\t\tindicator: {',
'\t\t\tshow: true,',
'\t\t\th: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\tleft: \'0px\',',
'\t\t\t\tright: \'0px\'',
'\t\t\t},',
'\t\t\tv: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\ttop: \'0px\',',
'\t\t\t\tbottom: \'0px\'',
'\t\t\t}',
'\t\t},',
'\t\tmomentum: {',
'\t\t\tallow: true',
'\t\t},',
'\t\tpull: {',
'\t\t\ty: \'auto\',',
'\t\t\tx: \'auto\'',
'\t\t}',
'\t},',
'\tlayout: \'Default\',',
'\tcalculateValue: function(data) {  {var _val = \'\' +A5RemoveHTMLWrapper(data.Country); if((_val == \'\' ||  _val == \'undefined\'  )&& typeof data[\'*rowGUID\'] != \'undefined\') _val = \'_temporaryValue_\' + data[\'*rowGUID\']; return _val;}},',
'\tlistVariableName: \'LIST_INTERNATIONAL\',',
'\tlistVariableNameTrueCase: \'LIST_INTERNATIONAL\',',
'\t_hostComponentId: \'{UXPRERENDEREDALIAS}\',',
'\t_includeCRC: false,',
'\tallParentLists: [],',
'\t__flagPersist: false,',
'\tonBeforeUpdateRow: function(index,data){;},',
'\tonUpdateRow: function(index,data){;},',
'\tonBeforeAddRows: function(data,info){;},',
'\tonAddRows: function(data,info){;},',
'\tonBeforeRemoveRows: function(rows){;},',
'\tonRemoveRows: function(rows){;},',
'\tonListDraw: function(data,startIndex) {',
'if(A5.flags.isMobile) $e.add(this.contId+\'.CONTENT\',\'abstractdown\',function(e) {$e.preventDefault(e);});},',
'\tchildLists: [],',
'\tchildListEndpoints: [\'LIST_INTERNATIONAL\'],',
'\t_populateAllChildLists: function() { },',
'\tonSelect: function() {{UXPRERENDEREDALIAS}_DlgObj._listRowSelect(\'LIST_INTERNATIONAL\',this);',
';',
'this._selectedRow = this.selection[0];},',
'\tonClick: function() {',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'populateListCountry\',\'\',\'\',{deviceOfflineFunction: function() {   }});',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_TRIALLIST\', true);',
'{UXPRERENDEREDALIAS}_DlgObj._listSystemOnClick(\'LIST_INTERNATIONAL\',this.selection[0]);},',
'\tlayouts: {',
'\t\tDefault: {',
'\t\t\ttype: \'column\',',
'\t\t\tshowColumnTitles: true,',
'\t\t\titem: {',
'\t\t\t},',
'\t\t\tcolumns: [',
'\t\t\t\t{',
'\t\t\t\t\theader: {',
'\t\t\t\t\t\thtml: \'Country\',',
'\t\t\t\t\t\tstyle: \'color: #646464; font-size: 16px;\'',
'\t\t\t\t\t},',
'\t\t\t\t\tresize: false,',
'\t\t\t\t\tdata: {',
'\t\t\t\t\t\ttemplate: \'<span id="{UXPRERENDEREDALIAS}.LIST_INTERNATIONAL.COUNTRY.I.{*dataRow}">{Country}</span>&nbsp;\'',
'\t\t\t\t\t},',
'\t\t\t\t\torder: \'Country\',',
'\t\t\t\t\twidth: \'flex(1)\'',
'\t\t\t\t}\t\t\t',
']',
'\t\t}',
'\t},',
'\tcontent: {',
'\t\theader: {',
'\t\t\tshow: false',
'\t\t},',
'\t\tfooter: {',
'\t\t\tshow: false',
'\t\t}',
'\t},',
'\tsystemEvents: {',
'\t\tonTap: function(e) {},',
'\t\tafterAjaxCallback: function(e) {},',
'\t\tafterClientSideFilter: function(e) {},',
'\t\tbeforeServerSideSort: function(e) {},',
'\t\tafterServerSideSort: function(e) {},',
'\t\tonSwipe: function(e) {},',
'\t\tonScroll: function(e) {},',
'\t\tonPullRelease: function(e) {},',
'\t\tonPull: function(e) {},',
'\t\tonPullEnd: function(e) {},',
'\t\tafterSearchComplete: function(e) {},',
'\t\tbeforeSearch: function(e) {},',
'\t\tonSearchResultTooLarge: function(e) {},',
'\t\tonSearchResultTooLargeForLocalStorage: function(e) {},',
'\t\tonBeforePersistToLocalStorage: function(e) {},',
'\t\tonPersistToLocalStorage: function(e) {},',
'\t\tonRestoreFromLocalStorage: function(e) {},',
'\t\tafterRenderComplete: function(e) {},',
'\t\tbeforeFetchMore: function(e) {},',
'\t\tafterFetchMore: function(e) {},',
'\t\tbeforePageNavigate: function(e) {},',
'\t\tafterPageNavigate: function(e) {},',
'\t\tbeforeRefreshRow: function(e) {},',
'\t\tafterRefreshRow: function(e) {},',
'\t\tafterServerSideSummaryCompute: function(summary) {},',
'\t\t_afterAjaxCallback: function() {this._refreshStateMessages();}',
'\t},',
'\t_clientsideSummary: [],',
'\tcomputeClientSideSummaryValues: function(e) {},',
'\t_executeEvent: function(event,obj) { ',
'\treturn {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_INTERNATIONAL\',event,obj);',
'}',
',',
'\t_selectAll: function() {',
'\tvar v = this._values;',
'\tvar v2 = [].concat(v);',
'\tthis.setValue(v2,false);',
'}',
',',
'\tsearchList: function() { ',
'\tif(this._searchPartStyle == \'querybyform\') { ',
'\t\tif(this._dvmode != \'search\') return false;',
'\t}',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse {',
'\t\t\tif(this._dataSourceType.toLowerCase() == \'sql\' || this._dataSourceType.toLowerCase() == \'dbf\') {',
'\t\t\t\tmode = \'serverside\';',
'\t\t\t} else { ',
'\t\t\t\tmode = \'clientside\';',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'search\', searchWhere: mode, listIsDirty: flagDirty});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._searchListServerSide(obj);',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilter();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'search\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_searchListServerSide: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar _d={};',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tif(flagDirty) { ',
'\t\talert(\'Can\\\'t execute server-side search because List has edits that have not yet been synchronized.\');',
'\t\treturn false;',
'\t}',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t_data = _data + \'&\' + A5.ajax.buildURLParam(\'__searchOptions\',JSON.stringify(obj));',
'\tthis.filter = false;',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPart\',\'\',_data);',
'}',
',',
'\tclearSearchList: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse mode = \'serverside\';',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'clear\', searchWhere: mode});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._clearSearchListServerSide();',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilterClear();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'clear\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_clearSearchListServerSide: function() { ',
'\tvar _d={};',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPartClear\',\'\',_data);',
'}',
',',
'\t_str: function(txt) {',
'\ttxt = txt.replace("\'","\\\\\'");',
'\ttxt = \'\\\'\' + txt + \'\\\'\';',
'\treturn txt;',
'}',
',',
'\t_QBF: function(txt) { ',
'\tvar o = {};',
'\to.v2 = \'\';',
'\to.v1 = txt;',
'\to.flag = false;',
'\tif(txt.indexOf(\'>=\') >= 0) {',
'\t\to.op = \'>=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<=\') >= 0 ) { ',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'>\') >= 0 ) {',
'\t\to.op = \'>\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<\') >= 0)  { ',
'\t\to.op = \'<\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') == 0)  {',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if ( txt.indexOf(\'..\', txt.length - \'..\'.length) !== -1 ) { ',
'\t\t//ends with ..',
'\t\to.op = \'>=\';',
'\t\ttxt = txt.split(\'..\')',
'\t\to.v1 = txt[0];',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') > 0 ) {',
'\t\to.op = \'between\'',
'\t\ttxt = txt.split(\'..\');',
'\t\to.v1 = txt[0];',
'\t\to.v2 = txt[1];',
'\t\to.flag = true;',
'\t}',
'\treturn o;',
'}',
',',
'\t_match: function(data,field,val,obj) { ',
'\tvar flagKeyword = false;',
'\tif(typeof obj.flagKeyword != \'undefined\') flagKeyword = obj.flagKeyword;',
'\tif(flagKeyword) { ',
'\t\tvar obj_i = this._searchFieldOptions[field.toUpperCase()];',
'\t\tthis._setSearchOps(obj,obj_i);',
'\t}',
'\tvar _d = \'\';',
'\tvar _v = val;',
'\tvar flagC = false;',
'\tif(obj.type == \'c\') {',
'\t\tflagC = true;',
'\t\tif(!obj.caseSensitive) _v = _v.toLowerCase();',
'\t} else { ',
'\t\t//non mumeric searches are only mode 1 or -1',
'\t\tif(obj.mode > 1) obj.mode = 1;',
'\t\tif(obj.mode < -1) obj.mode = -1;',
'\t}',
'\tvar flag = false;',
'\tobj.usesQBFOperator = false;',
'\tif(obj.qbf) { ',
'\t\t_v = _v.split(\',\');',
'\t} else {',
'\t\t_v = [_v];',
'\t}',
'\tvar o = {}',
'\tvar r = \'\';',
'\tvar _vals = [];',
'\tfor(var i = 0; i < _v.length; i++) { ',
'\t\tif(obj.qbf) {',
'\t\t\to = this._QBF(_v[i]);',
'\t\t} else {',
'\t\t\to.flag = false;',
'\t\t\to.v1 = _v[i];',
'\t\t\to.v2 = \'\';',
'\t\t}',
'\t\tif(typeof data[field] != \'undefined\') {',
'\t\t\tif(data[field] != null) { ',
'\t\t\t\t_d = data[field];',
'\t\t\t\tif(obj.type == \'n\') { ',
'\t\t\t\t\to.v1 = Number(o.v1);',
'\t\t\t\t\to.v2 = Number(o.v2);',
'\t\t\t\t\t_d = Number(_d);',
'\t\t\t\t} else if (obj.type == \'l\') { ',
'\t\t\t\t\to.v1 = $u.s.toBool(o.v1);',
'\t\t\t\t\to.v2 = $u.s.toBool(o.v2);',
'\t\t\t\t\t_d = $u.s.toBool(_d);',
'\t\t\t\t} else if (obj.type == \'d\') { ',
'\t\t\t\t\to.v1 = A5.stringToDate(o.v1,obj.dateFormat);',
'\t\t\t\t\to.v2 = A5.stringToDate(o.v2,obj.dateFormat);',
'\t\t\t\t\tif(typeof _d == \'string\') _d = A5.stringToDate(_d,obj.dateFormat);',
'\t\t\t\t\tif(o.v1 != \'\' && o.v1 != null ) o.v1 = o.v1.getTime();',
'\t\t\t\t\tif(o.v2 != \'\' && o.v2 != null ) o.v2 = o.v2.getTime();',
'\t\t\t\t\tif(_d != \'\' && _d != null ) _d = _d.getTime();',
'\t\t\t\t}',
'\t\t\t\tif(flagC) {if(!obj.caseSensitive && typeof _d == \'string\') _d = _d.toLowerCase();}',
'\t\t\t\tif(o.flag) { ',
'\t\t\t\t\t//has qbf operators',
'\t\t\t\t\tif(o.op == \'between\') {',
'\t\t\t\t\t\tif(flagC) {',
'\t\t\t\t\t\t\tif(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tif(flagC) _d = _d.substr(0,o.v1.length)',
'\t\t\t\t\t\tif(o.op == \'>=\') if( _d >= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<=\') if( _d <= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'>\') if(_d > o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<\') if(_d < o.v1) flag = true;',
'\t\t\t\t\t}',
'\t\t\t\t} else { ',
'\t\t\t\t\tif(obj.mode == 1 || obj.mode == -1 ) {',
'\t\t\t\t\t\tif(obj.mode == 1) if(_d == o.v1) flag = true;; //match',
'\t\t\t\t\t\tif(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match',
'\t\t\t\t\t} else if (obj.mode == 2 || obj.mode == -2) { ',
'\t\t\t\t\t\tif(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains',
'\t\t\t\t\t\tif(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;',
'\t\t\t\t\t} else if (obj.mode == 3 || obj.mode == -3) { ',
'\t\t\t\t\t\tif(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with',
'\t\t\t\t\t\tif(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v1 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v1) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v1);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v2 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v2) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v2);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(flag) { ',
'\t\tif(typeof this._state.highlight == \'undefined\') this._state.highlight = {};',
'\t\tthis._state.highlight[field.toUpperCase()] = _vals;',
'\t} else { ',
'\t\t//this._state.highlight[field.toUpperCase()] = [];',
'\t}',
'\treturn flag;',
'}',
',',
'\t_setSearchOps: function(obj,obj_i) { ',
'\tobj.mode = obj_i.option;',
'\tobj.qbf = obj_i.qbf;',
'\tobj.type = obj_i.type;',
'\t//obj.treatAs = obj_i.treatAs;',
'}',
',',
'\t_searchPartOperator: \'&&\',',
'\t_searchPartSubmit_clientSideFilter: function() { ',
'\tif(!this._searchPartHas) return true;',
'\t//_searchPartStyle: \'individualcontrols\'',
'\tthis._state.highlight = {};',
'\tif(this._searchPartStyle == \'singlekeywordcontrol\') { ',
'\t\tvar searchFor = {UXPRERENDEREDALIAS}_DlgObj.getValue(this._keywordSearchControl);',
'\t\tvar arr = this._keywordSearchFields;',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\t//obj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 1;',
'\t\tobj.flagKeyword = true;',
'\t\tvar objStr = JSON.stringify(obj)',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\texpn_i = \'this._match(data,\' +this._str(arr[i]) + \',\' + this._str(searchFor) + \',\'+objStr+\')\';',
'\t\t\texpn.push(expn_i);',
'\t\t}',
'\t\texpn = expn.join(\'||\');',
'\t\t//alert(expn);',
'\t} else if ( this._searchPartStyle == \'individualcontrols\' || this._searchPartStyle == \'querybyform\'  ) { ',
'\t\tvar map = this._searchPart.fieldMap;',
'\t\tvar val = \'\';',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\tobj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 2;',
'\t\t//var objStr = JSON.stringify(obj)',
'\t\tvar ac = [];',
'\t\tvar aco = {};',
'\t\tvar _highlight = {};',
'\t\tif(this._searchPartStyle == \'individualcontrols\') {',
'\t\t\tfor(var i = 0; i < map.length; i++) { ',
'\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(map[i].control);',
'\t\t\t\tif(val != \'\') {',
'\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(map[i].field) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t} else if (this._searchPartStyle == \'querybyform\' ) { ',
'\t\t\tvar controlName = \'\';',
'\t\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\t\tif(controlName != \'\') {',
'\t\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(controlName);',
'\t\t\t\t\tif(val != \'\') {',
'\t\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(this._listFields[i].name) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t\t\taco.control = controlName;',
'\t\t\t\t\t\taco.value = val;',
'\t\t\t\t\t\tac.push(aco);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis.__queryByFormValues = ac;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\t\t}\t',
'\t\tvar operator = \'&&\';',
'\t\tif(typeof this._searchPartOperator != \'undefined\') operator = this._searchPartOperator;',
'\t\texpn = expn.join(\' \'+operator+\' \');',
'\t} ',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = expn;',
'\t}',
'\t//user did not fill in any search fields',
'\tif(expn == \'\') return true;',
'\tvar fnTxt = \'if(\' + expn + \') {return true;} else { return false;}\'',
'\tvar searchFunction = new Function(\'data\',fnTxt);',
'\tthis.setFilter(searchFunction);',
'\tif(this._rData.length > 0) this.setValue(0);',
'}',
',',
'\t_searchPartSubmit_clientSideFilterClear: function() { ',
'if(!this._searchPartHas) return true;',
'\tthis._state.highlight = {};',
'\tthis.setFilter(false);',
'\tvar map = this._searchPart.fieldMap;',
'\tvar val = \'\';',
'\tvar od = {UXPRERENDEREDALIAS}_DlgObj.originalValues[0];',
'\tfor(var i = 0; i < map.length; i++) {',
'\t\tvar val = od[map[i].control.toUpperCase()];',
'\t\tif(typeof val != \'undefined\') {UXPRERENDEREDALIAS}_DlgObj.setValue(map[i].control,val,false);',
'\t}',
'\tthis.setFilter(false);',
'\tdelete this.__queryByFormValues;',
'\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\tif(this._data.length > 0) this.setValue(0);',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = \'\';',
'\t}',
'}',
',',
'\tdetailViewIsDirty: function() { return false; },',
'\tpopulateUXControls: function() { return true; },',
'\tlistIsDirty: function() { return false; },',
'\tlookupValue: function(key,name,keyValue) {\tvar _d = this._data;',
'\tvar indx = A5FindPropInArray(_d,key,keyValue);',
'\tvar rv = \'\';',
'\tif(indx >=0) {',
'\t\tif(name == \'__rowData__\') return _d[indx];',
'\t\trv =  _d[indx][name];',
'\t} else {',
'\t\t//null out all properties in row',
'\t\tvar _d2 = {};',
'\t\tif(typeof _d[0] == \'undefined\') { return {}} ;',
'\t\tfor(var n in _d[0]) {',
'\t\t\t_d2[n] = \'&nbsp;\';',
'\t\t}',
'\t\trv = _d2;',
'\t}',
'\treturn rv;',
'}',
',',
'\tallowNullSelection: true,',
'\tallowNullDeselection: false,',
'\tloopNavigate: false,',
'\tloopNavigateNullSelection: false,',
'\trefreshChildLists: function() {{UXPRERENDEREDALIAS}_DlgObj._listRefreshCascadingLists(\'LIST_INTERNATIONAL\'); },',
'\trowExpander: function(rowNumber) { ',
'\tvar mode = typeof arguments[2] != \'undefined\' ? arguments[2] : \'toggle\';',
'\tif(typeof rowNumber == \'undefined\' || rowNumber == \'\' ) {',
'\t\trowNumber = this.selection[0];',
'\t\tif(typeof rowNumber == \'undefined\') return false;',
'\t}',
'\tvar animObj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\tvar ele = $(this._hostComponentId + \'.\' + this.listVariableName + \'.ROWEXPANDER.\' + rowNumber);',
'\tif(ele) {',
'\t\tif(mode == \'toggle\') A5.u.element.toggle(ele,animObj);',
'\t\tif(mode == \'show\') A5.u.element.show(ele,animObj);',
'\t\tif(mode == \'hide\') A5.u.element.hide(ele,animObj);',
'\t}',
'}',
',',
'\tafterClientSideSummaryCompute: function(csSummary) { },',
'\tselectCurrentLayout: function(name) { ',
'var pl = this.layouts[name];',
'if(typeof pl == \'undefined\') return false;',
'this.setLayout(name);',
'if(pl.type == \'column\') {',
'\tthis.columnLayout.header.show = this.layouts[name].showColumnTitles; ',
'\tthis.refresh();',
'}',
'},',
'\tonFilter: function() { \tvar e = {}; ',
'\te.rowCount = this._values.length;  ',
'\tvar ele = $(\'{UXPRERENDEREDALIAS}.__listId__.RECORDCOUNT\'); ',
'\tif(ele) {ele.innerHTML = e.rowCount;}; ',
'\tif(this.persistToStorage) { this.persistToStorage({});} ',
'\t(function(e) {   })(e);',
'}',
',',
'\tserverSideSort: function(column) {',
'var e = {};',
'e.column = column;',
'var result = this.systemEvents.beforeServerSideSort(e);',
'if(result == false) return false;',
'var obj = {};',
'obj.cmd = \'sort\';',
'obj.column = column;',
'obj.layoutName = this.layout;',
'obj.listState = this._state;',
'var data = \'_listId=LIST_INTERNATIONAL&\' + A5.ajax.buildURLParam(\'_cmdObj\',$u.o.toJSON(obj));',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:listServerSideSort\',\'\',data);',
'},',
'\tfilterListClientSide: function(searchFor) {',
'//var result = this.systemEvents.beforeClientSideFilter();',
'//if(result == false) return false;',
'if(searchFor != \'\') {',
'\t//fixes bug in Chrome when searching on dates strings that use forward slashes',
'\tsearchFor = searchFor.replace(/\\//g,\'\\\\/\');',
'\tthis.setFilter({\'Country\': RegExp(\'\' + searchFor,\'i\'), \'Trials\': RegExp(\'\' + searchFor,\'i\')});',
'} else this.setFilter(false);',
'var rowCount = this._values.length;',
'//var e = {};',
'//e.rowCount = rowCount;',
'//this.systemEvents.afterClientSideFilter(e);',
'var ele = $(\'{UXPRERENDEREDALIAS}.LIST_INTERNATIONAL.RECORDCOUNT\');',
'if(ele) ele.innerHTML = rowCount;',
'}',
',',
'\tscrollToClosestValue: function(val) { \t',
'\tif(typeof val != \'string\') val = val.join(\'\');',
'\tvar flagCI = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\tvar pos = typeof arguments[2] != \'undefined\' ? arguments[2] : \'top\';',
'\tvar anim = typeof arguments[3] != \'undefined\' ? arguments[3] : {}',
'\tvar _d = this._rData;',
'\tvar len = val.length;',
'\tvar _d2;',
'\tvar i2 = -1;',
'\tif(flagCI) val = val.toLowerCase();',
'\tfor(var i = 0 ; i < _d.length; i++) {',
'\t\ti2 = i;',
'\t\t_d2 = String(_d[i][\'*value\']);',
'\t\t_d2 = _d2.substr(0,len);',
'\t\t_d2 = $u.s.pad(_d2,len,\' \',\'l\');',
'\t\tif(flagCI) _d2 = _d2.toLowerCase();',
'\t\tif(val <= _d2){',
'\t\t\t break;',
'\t\t}',
'\t}',
'\tif(i2 > -1) { ',
'\t\tthis.scrollToItem(i2,{mode: pos, animation: anim});',
'\t}',
'}',
',',
'\t_refreshStateMessages: function() {',
'\tvar ele = \'\';',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_INTERNATIONAL.PAGENUMBER\');',
'\tif(ele) ele.innerHTML = this._state.page;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_INTERNATIONAL.PAGECOUNT\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_INTERNATIONAL.PAGECOUNT.PAGESELECTOR\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;\t',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_INTERNATIONAL.LISTSTATE\');',
'\tif(ele) {',
'\t\tvar listState = $u.o.toJSON(this._state);',
'\t\tele.innerHTML = listState;',
'\t}',
'\t//navigation buttons\t',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_NEXT.LIST_INTERNATIONAL\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_LAST.LIST_INTERNATIONAL\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_FIRST.LIST_INTERNATIONAL\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_PREV.LIST_INTERNATIONAL\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = $(\'{UXPRERENDEREDALIAS}.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LIST_INTERNATIONAL\');',
'\tif(ele) {',
'\t\tvar data = this._recordNavigatorLinks;',
'\t\tif(data) A5.form.populateSelect(ele,this._state.page,data,true);',
'\t}',
'}',
',',
'\tview: {',
'\t\ttype: \'dynamic\',',
'\t\tsize: 15,',
'\t\tmaxSize: 0,',
'\t\toffset: 5,',
'\t\tnavigation: {',
'\t\t\tpull: {',
'\t\t\t\tallow: true,',
'\t\t\t\tsize: 15',
'\t\t\t},',
'\t\t\tprev: {',
'\t\t\t\thtml: \'Previous\'',
'\t\t\t},',
'\t\t\tnext: {',
'\t\t\t\thtml: \'Next\'',
'\t\t\t}',
'\t\t}',
'\t},',
'\tscroller: {',
'\t\thas: true,',
'\t\tflow: \'ttb\',',
'\t\tlocation: \'after\',',
'\t\toffset: {',
'\t\t\ttop: \'0px\',',
'\t\t\tbottom: \'0px\',',
'\t\t\tleft: \'0px\',',
'\t\t\tright: \'0px\'',
'\t\t},',
'\t\tslider: {',
'\t\t\thandle: {',
'\t\t\t},',
'\t\t\tshadow: {',
'\t\t\t\tshow: true',
'\t\t\t},',
'\t\t\tmessage: {',
'\t\t\t\tshow: \'auto\',',
'\t\t\t\tlowSwitch: 75,',
'\t\t\t\thighSwitch: 75',
'\t\t\t}',
'\t\t},',
'\t\tdial: {',
'\t\t\tshow: \'drag\',',
'\t\t\tinvertDrag: false,',
'\t\t\tmessage: {',
'\t\t\t},',
'\t\t\tpixelStep: 4,',
'\t\t\tsize: 2',
'\t\t},',
'\t\tshow: true',
'\t},',
'\t_getRoute: function() { ',
'\tvar obj  = typeof arguments[1] != \'undefined\' ? arguments[1] : [];',
'\tvar mode = typeof arguments[0] != \'undefined\' ? arguments[0] : \'rowNumber\'; //',
'\tif(typeof this.selection[0] == \'undefined\') return false;',
'\tif(typeof this.getData(this.selection[0]) == \'undefined\') return false;',
'\tif(mode == \'rowNumber\') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])[\'*key\']});',
'\telse obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tif(lObj) lObj._getRoute(mode,obj);',
'\t}',
'\treturn obj;',
'}',
',',
'\t_setRoute: function(route) { ',
'\tif(typeof route == \'undefined\') { ',
'\t\troute = this.__currentRoute;',
'\t\tif(typeof route == \'undefined\') return false;',
'\t}',
'\tvar lObj = \'\';',
'\tvar row = \'\';',
'\tfor(var i = 0; i < route.length; i++) {',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(route[i].list);',
'\t\trow = route[i].row;',
'\t\tvar flag = typeof this._restoringList != \'undefined\' ? !this._restoringList : true;',
'\t\tif(typeof row != \'undefined\') {',
'\t\t\tvar rowFixed = \'\';',
'\t\t\tif(typeof lObj._dataMap == \'undefined\') return false;',
'\t\t\t//var msg = JSON.stringify(lObj._dataMap);',
'\t\t\t//alert(\'route[i].row:\' + route[i].row + \' ------ \' + msg);',
'\t\t\trowFixed = lObj._dataMap.indexOf(route[i].row);',
'\t\t\tlObj.setValue(rowFixed,flag);',
'\t\t\tif(this._clearServerSideErrors) this._clearServerSideErrors();',
'\t\t\tif(this._showServerSideErrors) this._showServerSideErrors();',
'\t\t\tif(this._showWriteConflictErrors) this._showWriteConflictErrors();',
'\t\t}',
'\t}',
'}',
',',
'\t_useServerSideSyncLog: false,',
'\t_searchHighlighting: false',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_TRIALS\'] = {',
'\t_dataSourceType: \'SQL\',',
'\t_listFields: [',
'\t{',
'\t\tname: \'location\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'location\\\');\'',
'\t},',
'\t{',
'\t\tname: \'summary\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'summary\\\');\'',
'\t},',
'\t{',
'\t\tname: \'purpose\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'purpose\\\');\'',
'\t},',
'\t{',
'\t\tname: \'overview\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'overview\\\');\'',
'\t},',
'\t{',
'\t\tname: \'eligibility\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'eligibility\\\');\'',
'\t},',
'\t{',
'\t\tname: \'moreinfo\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'moreinfo\\\');\'',
'\t},',
'\t{',
'\t\tname: \'contact\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'contact\\\');\'',
'\t},',
'\t{',
'\t\tname: \'latitude\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'latitude\\\');\'',
'\t},',
'\t{',
'\t\tname: \'longitude\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'longitude\\\');\'',
'\t},',
'\t{',
'\t\tname: \'Miles\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Miles\\\');\'',
'\t},',
'\t{',
'\t\tname: \'CWID\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'CWID\\\');\'',
'\t}',
'],',
'\t_searchPartHas: false,',
'\t_mediaFields: [],',
'\t_mediaTypes: {',
'},',
'\t_phoneGap: {',
'\t\tmediaFiles: {',
'\t\t\tprotectedRead: false,',
'\t\t\ttarget: \'server\',',
'\t\t\ttargetFilenameFunction: \'return \\\'<DeviceId>_\\\' +e.object.listFieldName + \\\'_\\\' + A5.ts() + \\\'_\\\' +e.name\',',
'\t\t\tshowProgress: false,',
'\t\t\tdownload: {',
'\t\t\t\tautodownloadFilesOnPullSynch: false,',
'\t\t\t\tdeleteOrphansAfterSync: false,',
'\t\t\t\ttargetFolder: \'_AAFiles\',',
'\t\t\t\tshowProgress: false',
'\t\t\t},',
'\t\t\tonErrorFunction: function(array,fileNumber,error) { }',
'\t\t}',
'\t},',
'\t_dvmode: \'enter\',',
'\t_hasDetailView: false,',
'\ttheme: \'iOS7\',',
'\tscroll: {',
'\t\taxis: \'both\',',
'\t\tindicator: {',
'\t\t\tshow: true,',
'\t\t\th: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\tleft: \'0px\',',
'\t\t\t\tright: \'0px\'',
'\t\t\t},',
'\t\t\tv: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\ttop: \'0px\',',
'\t\t\t\tbottom: \'0px\'',
'\t\t\t}',
'\t\t},',
'\t\tmomentum: {',
'\t\t\tallow: true',
'\t\t},',
'\t\tpull: {',
'\t\t\ty: \'auto\',',
'\t\t\tx: \'auto\'',
'\t\t}',
'\t},',
'\tlayout: \'Default\',',
'\tcalculateValue: function(data) {  {var _val = \'\' +data.__primaryKey; if((_val == \'\' ||  _val == \'undefined\'  )&& typeof data[\'*rowGUID\'] != \'undefined\') _val = \'_temporaryValue_\' + data[\'*rowGUID\']; return _val;}},',
'\tlistVariableName: \'LIST_TRIALS\',',
'\tlistVariableNameTrueCase: \'LIST_TRIALS\',',
'\t_hostComponentId: \'{UXPRERENDEREDALIAS}\',',
'\t_includeCRC: true,',
'\tallParentLists: [],',
'\t__flagPersist: false,',
'\tonBeforeUpdateRow: function(index,data){;},',
'\tonUpdateRow: function(index,data){;},',
'\tonBeforeAddRows: function(data,info){;},',
'\tonAddRows: function(data,info){;},',
'\tonBeforeRemoveRows: function(rows){;},',
'\tonRemoveRows: function(rows){;},',
'\tonListDraw: function(data,startIndex) {var id = this.contId +\'.NORECORDSINLIST\';',
'var e = $(this.contId + \'.CONTENT\');',
'if(data.length == 0) {',
'\tvar e = $(this.contId + \'.CONTENT\');',
'\tvar eleHeight = ($(this.contId + \'.CONTENTWRAPPER\').offsetHeight /2 ) -12;',
'\te.innerHTML = \'<div id="\'+id +\'" style="text-align: center;padding-top: \' + eleHeight + \'px;">No trials found.</div>\';',
'} else {\t',
'\tvar ele = $(id);',
'\tif(ele) {',
'\t\te.removeChild(ele);',
'\t}',
'}',
'if(A5.flags.isMobile) $e.add(this.contId+\'.CONTENT\',\'abstractdown\',function(e) {$e.preventDefault(e);});},',
'\tchildLists: [],',
'\tchildListEndpoints: [\'LIST_TRIALS\'],',
'\t_populateAllChildLists: function() { },',
'\tonSelect: function() {{UXPRERENDEREDALIAS}_DlgObj._listRowSelect(\'LIST_TRIALS\',this);',
';',
'this._selectedRow = this.selection[0];},',
'\tonClick: function() {',
'CWApp.populateDetailTabs({UXPRERENDEREDALIAS}_DlgObj);',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_TRIALDETAILS\', true);',
'{UXPRERENDEREDALIAS}_DlgObj._listSystemOnClick(\'LIST_TRIALS\',this.selection[0]);},',
'\tlayouts: {',
'\t\tDefault: {',
'\t\t\ttype: \'template\',',
'\t\t\titem: {',
'\t\t\t},',
'\t\t\ttemplate: [',
'\t\t\t\t\'<b><span id="{UXPRERENDEREDALIAS}.LIST_TRIALS.LOCATION.I.{*dataRow}">{location}</span></b> Distance: <b><span id="{UXPRERENDEREDALIAS}.LIST_TRIALS.MILES.I.{*dataRow}">{Miles}</span> miles</b>  <br>\',',
'\t\t\t\t\'<br>\',',
'\t\t\t\t\'<span style="color: #646464;"> <span id="{UXPRERENDEREDALIAS}.LIST_TRIALS.SUMMARY.I.{*dataRow}">{summary}</span> </span>\',',
'\t\t\t\t\'\'\t\t\t',
']',
'\t\t}',
'\t},',
'\tcontent: {',
'\t\theader: {',
'\t\t\tshow: false',
'\t\t},',
'\t\tfooter: {',
'\t\t\tshow: false',
'\t\t}',
'\t},',
'\tsystemEvents: {',
'\t\tonTap: function(e) {},',
'\t\tafterAjaxCallback: function(e) {},',
'\t\tafterClientSideFilter: function(e) {},',
'\t\tbeforeServerSideSort: function(e) {},',
'\t\tafterServerSideSort: function(e) {},',
'\t\tonSwipe: function(e) {},',
'\t\tonScroll: function(e) {},',
'\t\tonPullRelease: function(e) {},',
'\t\tonPull: function(e) {},',
'\t\tonPullEnd: function(e) {},',
'\t\tafterSearchComplete: function(e) {},',
'\t\tbeforeSearch: function(e) {},',
'\t\tonSearchResultTooLarge: function(e) {},',
'\t\tonSearchResultTooLargeForLocalStorage: function(e) {},',
'\t\tonBeforePersistToLocalStorage: function(e) {},',
'\t\tonPersistToLocalStorage: function(e) {},',
'\t\tonRestoreFromLocalStorage: function(e) {},',
'\t\tafterRenderComplete: function(e) {},',
'\t\tbeforeFetchMore: function(e) {},',
'\t\tafterFetchMore: function(e) {},',
'\t\tbeforePageNavigate: function(e) {},',
'\t\tafterPageNavigate: function(e) {},',
'\t\tbeforeRefreshRow: function(e) {},',
'\t\tafterRefreshRow: function(e) {},',
'\t\tafterServerSideSummaryCompute: function(summary) {},',
'\t\t_afterAjaxCallback: function() {this._refreshStateMessages();}',
'\t},',
'\t_clientsideSummary: [],',
'\tcomputeClientSideSummaryValues: function(e) {},',
'\t_executeEvent: function(event,obj) { ',
'\treturn {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_TRIALS\',event,obj);',
'}',
',',
'\t_selectAll: function() {',
'\tvar v = this._values;',
'\tvar v2 = [].concat(v);',
'\tthis.setValue(v2,false);',
'}',
',',
'\tsearchList: function() { ',
'\tif(this._searchPartStyle == \'querybyform\') { ',
'\t\tif(this._dvmode != \'search\') return false;',
'\t}',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse {',
'\t\t\tif(this._dataSourceType.toLowerCase() == \'sql\' || this._dataSourceType.toLowerCase() == \'dbf\') {',
'\t\t\t\tmode = \'serverside\';',
'\t\t\t} else { ',
'\t\t\t\tmode = \'clientside\';',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'search\', searchWhere: mode, listIsDirty: flagDirty});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._searchListServerSide(obj);',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilter();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'search\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_searchListServerSide: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar _d={};',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tif(flagDirty) { ',
'\t\talert(\'Can\\\'t execute server-side search because List has edits that have not yet been synchronized.\');',
'\t\treturn false;',
'\t}',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t_data = _data + \'&\' + A5.ajax.buildURLParam(\'__searchOptions\',JSON.stringify(obj));',
'\tthis.filter = false;',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPart\',\'\',_data);',
'}',
',',
'\tclearSearchList: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse mode = \'serverside\';',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'clear\', searchWhere: mode});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._clearSearchListServerSide();',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilterClear();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'clear\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_clearSearchListServerSide: function() { ',
'\tvar _d={};',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPartClear\',\'\',_data);',
'}',
',',
'\t_str: function(txt) {',
'\ttxt = txt.replace("\'","\\\\\'");',
'\ttxt = \'\\\'\' + txt + \'\\\'\';',
'\treturn txt;',
'}',
',',
'\t_QBF: function(txt) { ',
'\tvar o = {};',
'\to.v2 = \'\';',
'\to.v1 = txt;',
'\to.flag = false;',
'\tif(txt.indexOf(\'>=\') >= 0) {',
'\t\to.op = \'>=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<=\') >= 0 ) { ',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'>\') >= 0 ) {',
'\t\to.op = \'>\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<\') >= 0)  { ',
'\t\to.op = \'<\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') == 0)  {',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if ( txt.indexOf(\'..\', txt.length - \'..\'.length) !== -1 ) { ',
'\t\t//ends with ..',
'\t\to.op = \'>=\';',
'\t\ttxt = txt.split(\'..\')',
'\t\to.v1 = txt[0];',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') > 0 ) {',
'\t\to.op = \'between\'',
'\t\ttxt = txt.split(\'..\');',
'\t\to.v1 = txt[0];',
'\t\to.v2 = txt[1];',
'\t\to.flag = true;',
'\t}',
'\treturn o;',
'}',
',',
'\t_match: function(data,field,val,obj) { ',
'\tvar flagKeyword = false;',
'\tif(typeof obj.flagKeyword != \'undefined\') flagKeyword = obj.flagKeyword;',
'\tif(flagKeyword) { ',
'\t\tvar obj_i = this._searchFieldOptions[field.toUpperCase()];',
'\t\tthis._setSearchOps(obj,obj_i);',
'\t}',
'\tvar _d = \'\';',
'\tvar _v = val;',
'\tvar flagC = false;',
'\tif(obj.type == \'c\') {',
'\t\tflagC = true;',
'\t\tif(!obj.caseSensitive) _v = _v.toLowerCase();',
'\t} else { ',
'\t\t//non mumeric searches are only mode 1 or -1',
'\t\tif(obj.mode > 1) obj.mode = 1;',
'\t\tif(obj.mode < -1) obj.mode = -1;',
'\t}',
'\tvar flag = false;',
'\tobj.usesQBFOperator = false;',
'\tif(obj.qbf) { ',
'\t\t_v = _v.split(\',\');',
'\t} else {',
'\t\t_v = [_v];',
'\t}',
'\tvar o = {}',
'\tvar r = \'\';',
'\tvar _vals = [];',
'\tfor(var i = 0; i < _v.length; i++) { ',
'\t\tif(obj.qbf) {',
'\t\t\to = this._QBF(_v[i]);',
'\t\t} else {',
'\t\t\to.flag = false;',
'\t\t\to.v1 = _v[i];',
'\t\t\to.v2 = \'\';',
'\t\t}',
'\t\tif(typeof data[field] != \'undefined\') {',
'\t\t\tif(data[field] != null) { ',
'\t\t\t\t_d = data[field];',
'\t\t\t\tif(obj.type == \'n\') { ',
'\t\t\t\t\to.v1 = Number(o.v1);',
'\t\t\t\t\to.v2 = Number(o.v2);',
'\t\t\t\t\t_d = Number(_d);',
'\t\t\t\t} else if (obj.type == \'l\') { ',
'\t\t\t\t\to.v1 = $u.s.toBool(o.v1);',
'\t\t\t\t\to.v2 = $u.s.toBool(o.v2);',
'\t\t\t\t\t_d = $u.s.toBool(_d);',
'\t\t\t\t} else if (obj.type == \'d\') { ',
'\t\t\t\t\to.v1 = A5.stringToDate(o.v1,obj.dateFormat);',
'\t\t\t\t\to.v2 = A5.stringToDate(o.v2,obj.dateFormat);',
'\t\t\t\t\tif(typeof _d == \'string\') _d = A5.stringToDate(_d,obj.dateFormat);',
'\t\t\t\t\tif(o.v1 != \'\' && o.v1 != null ) o.v1 = o.v1.getTime();',
'\t\t\t\t\tif(o.v2 != \'\' && o.v2 != null ) o.v2 = o.v2.getTime();',
'\t\t\t\t\tif(_d != \'\' && _d != null ) _d = _d.getTime();',
'\t\t\t\t}',
'\t\t\t\tif(flagC) {if(!obj.caseSensitive && typeof _d == \'string\') _d = _d.toLowerCase();}',
'\t\t\t\tif(o.flag) { ',
'\t\t\t\t\t//has qbf operators',
'\t\t\t\t\tif(o.op == \'between\') {',
'\t\t\t\t\t\tif(flagC) {',
'\t\t\t\t\t\t\tif(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tif(flagC) _d = _d.substr(0,o.v1.length)',
'\t\t\t\t\t\tif(o.op == \'>=\') if( _d >= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<=\') if( _d <= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'>\') if(_d > o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<\') if(_d < o.v1) flag = true;',
'\t\t\t\t\t}',
'\t\t\t\t} else { ',
'\t\t\t\t\tif(obj.mode == 1 || obj.mode == -1 ) {',
'\t\t\t\t\t\tif(obj.mode == 1) if(_d == o.v1) flag = true;; //match',
'\t\t\t\t\t\tif(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match',
'\t\t\t\t\t} else if (obj.mode == 2 || obj.mode == -2) { ',
'\t\t\t\t\t\tif(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains',
'\t\t\t\t\t\tif(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;',
'\t\t\t\t\t} else if (obj.mode == 3 || obj.mode == -3) { ',
'\t\t\t\t\t\tif(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with',
'\t\t\t\t\t\tif(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v1 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v1) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v1);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v2 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v2) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v2);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(flag) { ',
'\t\tif(typeof this._state.highlight == \'undefined\') this._state.highlight = {};',
'\t\tthis._state.highlight[field.toUpperCase()] = _vals;',
'\t} else { ',
'\t\t//this._state.highlight[field.toUpperCase()] = [];',
'\t}',
'\treturn flag;',
'}',
',',
'\t_setSearchOps: function(obj,obj_i) { ',
'\tobj.mode = obj_i.option;',
'\tobj.qbf = obj_i.qbf;',
'\tobj.type = obj_i.type;',
'\t//obj.treatAs = obj_i.treatAs;',
'}',
',',
'\t_searchPartOperator: \'&&\',',
'\t_searchPartSubmit_clientSideFilter: function() { ',
'\tif(!this._searchPartHas) return true;',
'\t//_searchPartStyle: \'individualcontrols\'',
'\tthis._state.highlight = {};',
'\tif(this._searchPartStyle == \'singlekeywordcontrol\') { ',
'\t\tvar searchFor = {UXPRERENDEREDALIAS}_DlgObj.getValue(this._keywordSearchControl);',
'\t\tvar arr = this._keywordSearchFields;',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\t//obj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 1;',
'\t\tobj.flagKeyword = true;',
'\t\tvar objStr = JSON.stringify(obj)',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\texpn_i = \'this._match(data,\' +this._str(arr[i]) + \',\' + this._str(searchFor) + \',\'+objStr+\')\';',
'\t\t\texpn.push(expn_i);',
'\t\t}',
'\t\texpn = expn.join(\'||\');',
'\t\t//alert(expn);',
'\t} else if ( this._searchPartStyle == \'individualcontrols\' || this._searchPartStyle == \'querybyform\'  ) { ',
'\t\tvar map = this._searchPart.fieldMap;',
'\t\tvar val = \'\';',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\tobj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 2;',
'\t\t//var objStr = JSON.stringify(obj)',
'\t\tvar ac = [];',
'\t\tvar aco = {};',
'\t\tvar _highlight = {};',
'\t\tif(this._searchPartStyle == \'individualcontrols\') {',
'\t\t\tfor(var i = 0; i < map.length; i++) { ',
'\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(map[i].control);',
'\t\t\t\tif(val != \'\') {',
'\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(map[i].field) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t} else if (this._searchPartStyle == \'querybyform\' ) { ',
'\t\t\tvar controlName = \'\';',
'\t\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\t\tif(controlName != \'\') {',
'\t\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(controlName);',
'\t\t\t\t\tif(val != \'\') {',
'\t\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(this._listFields[i].name) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t\t\taco.control = controlName;',
'\t\t\t\t\t\taco.value = val;',
'\t\t\t\t\t\tac.push(aco);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis.__queryByFormValues = ac;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\t\t}\t',
'\t\tvar operator = \'&&\';',
'\t\tif(typeof this._searchPartOperator != \'undefined\') operator = this._searchPartOperator;',
'\t\texpn = expn.join(\' \'+operator+\' \');',
'\t} ',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = expn;',
'\t}',
'\t//user did not fill in any search fields',
'\tif(expn == \'\') return true;',
'\tvar fnTxt = \'if(\' + expn + \') {return true;} else { return false;}\'',
'\tvar searchFunction = new Function(\'data\',fnTxt);',
'\tthis.setFilter(searchFunction);',
'\tif(this._rData.length > 0) this.setValue(0);',
'}',
',',
'\t_searchPartSubmit_clientSideFilterClear: function() { ',
'if(!this._searchPartHas) return true;',
'\tthis._state.highlight = {};',
'\tthis.setFilter(false);',
'\tvar map = this._searchPart.fieldMap;',
'\tvar val = \'\';',
'\tvar od = {UXPRERENDEREDALIAS}_DlgObj.originalValues[0];',
'\tfor(var i = 0; i < map.length; i++) {',
'\t\tvar val = od[map[i].control.toUpperCase()];',
'\t\tif(typeof val != \'undefined\') {UXPRERENDEREDALIAS}_DlgObj.setValue(map[i].control,val,false);',
'\t}',
'\tthis.setFilter(false);',
'\tdelete this.__queryByFormValues;',
'\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\tif(this._data.length > 0) this.setValue(0);',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = \'\';',
'\t}',
'}',
',',
'\tdetailViewIsDirty: function() { return false; },',
'\tpopulateUXControls: function() { return true; },',
'\tlistIsDirty: function() { return false; },',
'\tlookupValue: function(key,name,keyValue) {\tvar _d = this._data;',
'\tvar indx = A5FindPropInArray(_d,key,keyValue);',
'\tvar rv = \'\';',
'\tif(indx >=0) {',
'\t\tif(name == \'__rowData__\') return _d[indx];',
'\t\trv =  _d[indx][name];',
'\t} else {',
'\t\t//null out all properties in row',
'\t\tvar _d2 = {};',
'\t\tif(typeof _d[0] == \'undefined\') { return {}} ;',
'\t\tfor(var n in _d[0]) {',
'\t\t\t_d2[n] = \'&nbsp;\';',
'\t\t}',
'\t\trv = _d2;',
'\t}',
'\treturn rv;',
'}',
',',
'\tallowNullSelection: false,',
'\tallowNullDeselection: false,',
'\tloopNavigate: false,',
'\tloopNavigateNullSelection: false,',
'\trefreshChildLists: function() {{UXPRERENDEREDALIAS}_DlgObj._listRefreshCascadingLists(\'LIST_TRIALS\'); },',
'\trowExpander: function(rowNumber) { ',
'\tvar mode = typeof arguments[2] != \'undefined\' ? arguments[2] : \'toggle\';',
'\tif(typeof rowNumber == \'undefined\' || rowNumber == \'\' ) {',
'\t\trowNumber = this.selection[0];',
'\t\tif(typeof rowNumber == \'undefined\') return false;',
'\t}',
'\tvar animObj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\tvar ele = $(this._hostComponentId + \'.\' + this.listVariableName + \'.ROWEXPANDER.\' + rowNumber);',
'\tif(ele) {',
'\t\tif(mode == \'toggle\') A5.u.element.toggle(ele,animObj);',
'\t\tif(mode == \'show\') A5.u.element.show(ele,animObj);',
'\t\tif(mode == \'hide\') A5.u.element.hide(ele,animObj);',
'\t}',
'}',
',',
'\tafterClientSideSummaryCompute: function(csSummary) { },',
'\tselectCurrentLayout: function(name) { ',
'var pl = this.layouts[name];',
'if(typeof pl == \'undefined\') return false;',
'this.setLayout(name);',
'if(pl.type == \'column\') {',
'\tthis.columnLayout.header.show = this.layouts[name].showColumnTitles; ',
'\tthis.refresh();',
'}',
'},',
'\tonFilter: function() { \tvar e = {}; ',
'\te.rowCount = this._values.length;  ',
'\tvar ele = $(\'{UXPRERENDEREDALIAS}.__listId__.RECORDCOUNT\'); ',
'\tif(ele) {ele.innerHTML = e.rowCount;}; ',
'\tif(this.persistToStorage) { this.persistToStorage({});} ',
'\t(function(e) {   })(e);',
'}',
',',
'\tserverSideSort: function(column) {',
'var e = {};',
'e.column = column;',
'var result = this.systemEvents.beforeServerSideSort(e);',
'if(result == false) return false;',
'var obj = {};',
'obj.cmd = \'sort\';',
'obj.column = column;',
'obj.layoutName = this.layout;',
'obj.listState = this._state;',
'var data = \'_listId=LIST_TRIALS&\' + A5.ajax.buildURLParam(\'_cmdObj\',$u.o.toJSON(obj));',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:listServerSideSort\',\'\',data);',
'},',
'\tfilterListClientSide: function(searchFor) {',
'//var result = this.systemEvents.beforeClientSideFilter();',
'//if(result == false) return false;',
'if(searchFor != \'\') {',
'\t//fixes bug in Chrome when searching on dates strings that use forward slashes',
'\tsearchFor = searchFor.replace(/\\//g,\'\\\\/\');',
'\tthis.setFilter({\'location\': RegExp(\'\' + searchFor,\'i\'), \'summary\': RegExp(\'\' + searchFor,\'i\'), \'purpose\': RegExp(\'\' + searchFor,\'i\'), \'overview\': RegExp(\'\' + searchFor,\'i\'), \'eligibility\': RegExp(\'\' + searchFor,\'i\'), \'moreinfo\': RegExp(\'\' + searchFor,\'i\'), \'contact\': RegExp(\'\' + searchFor,\'i\'), \'latitude\': RegExp(\'\' + searchFor,\'i\'), \'longitude\': RegExp(\'\' + searchFor,\'i\'), \'Miles\': RegExp(\'\' + searchFor,\'i\'), \'CWID\': RegExp(\'\' + searchFor,\'i\')});',
'} else this.setFilter(false);',
'var rowCount = this._values.length;',
'//var e = {};',
'//e.rowCount = rowCount;',
'//this.systemEvents.afterClientSideFilter(e);',
'var ele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.RECORDCOUNT\');',
'if(ele) ele.innerHTML = rowCount;',
'}',
',',
'\tscrollToClosestValue: function(val) { \t',
'\tif(typeof val != \'string\') val = val.join(\'\');',
'\tvar flagCI = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\tvar pos = typeof arguments[2] != \'undefined\' ? arguments[2] : \'top\';',
'\tvar anim = typeof arguments[3] != \'undefined\' ? arguments[3] : {}',
'\tvar _d = this._rData;',
'\tvar len = val.length;',
'\tvar _d2;',
'\tvar i2 = -1;',
'\tif(flagCI) val = val.toLowerCase();',
'\tfor(var i = 0 ; i < _d.length; i++) {',
'\t\ti2 = i;',
'\t\t_d2 = String(_d[i][\'*value\']);',
'\t\t_d2 = _d2.substr(0,len);',
'\t\t_d2 = $u.s.pad(_d2,len,\' \',\'l\');',
'\t\tif(flagCI) _d2 = _d2.toLowerCase();',
'\t\tif(val <= _d2){',
'\t\t\t break;',
'\t\t}',
'\t}',
'\tif(i2 > -1) { ',
'\t\tthis.scrollToItem(i2,{mode: pos, animation: anim});',
'\t}',
'}',
',',
'\t_refreshStateMessages: function() {',
'\tvar ele = \'\';',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.PAGENUMBER\');',
'\tif(ele) ele.innerHTML = this._state.page;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.PAGECOUNT\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.PAGECOUNT.PAGESELECTOR\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;\t',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.LISTSTATE\');',
'\tif(ele) {',
'\t\tvar listState = $u.o.toJSON(this._state);',
'\t\tele.innerHTML = listState;',
'\t}',
'\t//navigation buttons\t',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_NEXT.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_LAST.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_FIRST.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_PREV.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = $(\'{UXPRERENDEREDALIAS}.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LIST_TRIALS\');',
'\tif(ele) {',
'\t\tvar data = this._recordNavigatorLinks;',
'\t\tif(data) A5.form.populateSelect(ele,this._state.page,data,true);',
'\t}',
'}',
',',
'\tview: {',
'\t\ttype: \'dynamic\',',
'\t\tsize: 15,',
'\t\tmaxSize: 0,',
'\t\toffset: 5,',
'\t\tnavigation: {',
'\t\t\tpull: {',
'\t\t\t\tallow: true,',
'\t\t\t\tsize: 15',
'\t\t\t},',
'\t\t\tprev: {',
'\t\t\t\thtml: \'Previous\'',
'\t\t\t},',
'\t\t\tnext: {',
'\t\t\t\thtml: \'Next\'',
'\t\t\t}',
'\t\t}',
'\t},',
'\tscroller: {',
'\t\thas: true,',
'\t\tflow: \'ttb\',',
'\t\tlocation: \'after\',',
'\t\toffset: {',
'\t\t\ttop: \'0px\',',
'\t\t\tbottom: \'0px\',',
'\t\t\tleft: \'0px\',',
'\t\t\tright: \'0px\'',
'\t\t},',
'\t\tslider: {',
'\t\t\thandle: {',
'\t\t\t},',
'\t\t\tshadow: {',
'\t\t\t\tshow: true',
'\t\t\t},',
'\t\t\tmessage: {',
'\t\t\t\tshow: \'auto\',',
'\t\t\t\tlowSwitch: 75,',
'\t\t\t\thighSwitch: 75',
'\t\t\t}',
'\t\t},',
'\t\tdial: {',
'\t\t\tshow: \'drag\',',
'\t\t\tinvertDrag: false,',
'\t\t\tmessage: {',
'\t\t\t},',
'\t\t\tpixelStep: 4,',
'\t\t\tsize: 2',
'\t\t},',
'\t\tshow: true',
'\t},',
'\t_getRoute: function() { ',
'\tvar obj  = typeof arguments[1] != \'undefined\' ? arguments[1] : [];',
'\tvar mode = typeof arguments[0] != \'undefined\' ? arguments[0] : \'rowNumber\'; //',
'\tif(typeof this.selection[0] == \'undefined\') return false;',
'\tif(typeof this.getData(this.selection[0]) == \'undefined\') return false;',
'\tif(mode == \'rowNumber\') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])[\'*key\']});',
'\telse obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tif(lObj) lObj._getRoute(mode,obj);',
'\t}',
'\treturn obj;',
'}',
',',
'\t_setRoute: function(route) { ',
'\tif(typeof route == \'undefined\') { ',
'\t\troute = this.__currentRoute;',
'\t\tif(typeof route == \'undefined\') return false;',
'\t}',
'\tvar lObj = \'\';',
'\tvar row = \'\';',
'\tfor(var i = 0; i < route.length; i++) {',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(route[i].list);',
'\t\trow = route[i].row;',
'\t\tvar flag = typeof this._restoringList != \'undefined\' ? !this._restoringList : true;',
'\t\tif(typeof row != \'undefined\') {',
'\t\t\tvar rowFixed = \'\';',
'\t\t\tif(typeof lObj._dataMap == \'undefined\') return false;',
'\t\t\t//var msg = JSON.stringify(lObj._dataMap);',
'\t\t\t//alert(\'route[i].row:\' + route[i].row + \' ------ \' + msg);',
'\t\t\trowFixed = lObj._dataMap.indexOf(route[i].row);',
'\t\t\tlObj.setValue(rowFixed,flag);',
'\t\t\tif(this._clearServerSideErrors) this._clearServerSideErrors();',
'\t\t\tif(this._showServerSideErrors) this._showServerSideErrors();',
'\t\t\tif(this._showWriteConflictErrors) this._showWriteConflictErrors();',
'\t\t}',
'\t}',
'}',
',',
'\t_useServerSideSyncLog: false,',
'\t_searchHighlighting: false',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_STATES\'] = A5DataArrayToObject([\'State\',\'Abbrev\'],[[\'Alabama\',\'AL\'],[\'Alaska\',\'AK\'],[\'Arizona\',\'AZ\'],[\'Arkansas\',\'AR\'],[\'California\',\'CA\'],[\'Colorado\',\'CO\'],[\'Connecticut\',\'CT\'],[\'Delaware\',\'DE\'],[\'District of Columbia\',\'DC\'],[\'Florida\',\'FL\'],[\'Georgia\',\'GA\'],[\'Hawaii\',\'HI\'],[\'Idaho\',\'ID\'],[\'Illinois\',\'IL\'],[\'Indiana\',\'IN\'],[\'Iowa\',\'IA\'],[\'Kansas\',\'KS\'],[\'Kentucky\',\'KY\'],[\'Louisiana\',\'LA\'],[\'Maine\',\'ME\'],[\'Maryland\',\'MD\'],[\'Massachusetts\',\'MA\'],[\'Michigan\',\'MI\'],[\'Minnesota\',\'MN\'],[\'Mississippi\',\'MS\'],[\'Missouri\',\'MO\'],[\'Montana\',\'MT\'],[\'Nebraska\',\'NE\'],[\'Nevada\',\'NV\'],[\'New Hampshire\',\'NH\'],[\'New Jersey\',\'NJ\'],[\'New Mexico\',\'NM\'],[\'New York\',\'NY\'],[\'North Carolina\',\'NC\'],[\'North Dakota\',\'ND\'],[\'Ohio\',\'OH\'],[\'Oklahoma\',\'OK\'],[\'Oregon\',\'OR\'],[\'Pennsylvania\',\'PA\'],[\'Puerto Rico\',\'PR\'],[\'Rhode Island\',\'RI\'],[\'South Carolina\',\'SC\'],[\'South Dakota\',\'SD\'],[\'Tennessee\',\'TN\'],[\'Texas\',\'TX\'],[\'Utah\',\'UT\'],[\'Vermont\',\'VT\'],[\'Virginia\',\'VA\'],[\'Washington\',\'WA\'],[\'West Virginia\',\'WV\'],[\'Wisconsin\',\'WI\'],[\'Wyoming\',\'WY\']]); ',
'{UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_INTERNATIONAL\'] = A5DataArrayToObject([\'Country\',\'Trials\'],[[\'Algeria\',\'\'],[\'Angola\',\'\'],[\'Argentina\',\'\'],[\'Armenia\',\'\'],[\'Australia\',\'\'],[\'Austria\',\'\'],[\'Bahamas\',\'\'],[\'Bahrain\',\'\'],[\'Bangladesh\',\'\'],[\'Belarus\',\'\'],[\'Belgium\',\'\'],[\'Bosnia\',\'\'],[\'Bosnia and Herzegovina\',\'\'],[\'Botswana\',\'\'],[\'Brazil\',\'\'],[\'Bulgaria\',\'\'],[\'Burkina Faso\',\'\'],[\'Cameroon\',\'\'],[\'Canada\',\'\'],[\'Chile\',\'\'],[\'China\',\'\'],[\'Colombia\',\'\'],[\'Columbia\',\'\'],[\'Congo\',\'\'],[\'Costa Rica\',\'\'],[\'Cte D\\\'Ivoire\',\'\'],[\'Croatia\',\'\'],[\'Cyprus\',\'\'],[\'Czech Republic\',\'\'],[\'Denmark\',\'\'],[\'Dominican Republic\',\'\'],[\'Ecuador\',\'\'],[\'Egypt\',\'\'],[\'El Salvador\',\'\'],[\'Estonia\',\'\'],[\'Finland\',\'\'],[\'France\',\'\'],[\'Georgia\',\'\'],[\'Germany\',\'\'],[\'Ghana\',\'\'],[\'Greece\',\'\'],[\'Guatemala\',\'\'],[\'Honduras\',\'\'],[\'Hong Kong\',\'\'],[\'Hungary\',\'\'],[\'Iceland\',\'\'],[\'India\',\'\'],[\'Indonesia\',\'\'],[\'Iran, Islamic Republic of\',\'\'],[\'Ireland\',\'\'],[\'Israel\',\'\'],[\'Italy\',\'\'],[\'Japan\',\'\'],[\'Jordan\',\'\'],[\'Kazakhstan\',\'\'],[\'Kenya\',\'\'],[\'Korea, Republic of\',\'\'],[\'Kuwait\',\'\'],[\'Latvia\',\'\'],[\'Lebanon\',\'\'],[\'Lithuania\',\'\'],[\'Luxembourg\',\'\'],[\'Macedonia, The Former Yugoslav Republic of\',\'\'],[\'Madagascar\',\'\'],[\'Malaysia\',\'\'],[\'Mauritius\',\'\'],[\'Mexico\',\'\'],[\'Moldova, Republic of\',\'\'],[\'Monaco\',\'\'],[\'Montenegro\',\'\'],[\'Morocco\',\'\'],[\'Netherlands\',\'\'],[\'New Zealand\',\'\'],[\'Nicaragua\',\'\'],[\'Niger\',\'\'],[\'Nigeria\',\'\'],[\'Norway\',\'\'],[\'Oman\',\'\'],[\'Pakistan\',\'\'],[\'Panama\',\'\'],[\'Peru\',\'\'],[\'Philippines\',\'\'],[\'Poland\',\'\'],[\'Portuga\',\'\'],[\'Puerto Rico\',\'\'],[\'Qatar\',\'\'],[\'Romania\',\'\'],[\'Russia\',\'\'],[\'Russian Federation\',\'\'],[\'Saudi Arabia\',\'\'],[\'Serbia\',\'\'],[\'Singapore\',\'\'],[\'Slovakia\',\'\'],[\'Slovenia\',\'\'],[\'South Africa\',\'\'],[\'Spain\',\'\'],[\'Sri Lanka\',\'\'],[\'Sweden\',\'\'],[\'Switzerland\',\'\'],[\'Taiwan\',\'\'],[\'Tanzania\',\'\'],[\'Thailand\',\'\'],[\'Togo\',\'\'],[\'Tonga\',\'\'],[\'Trinidad and Tobago\',\'\'],[\'Tunisia\',\'\'],[\'Turkey\',\'\'],[\'Uganda\',\'\'],[\'Ukraine\',\'\'],[\'United Arab Emirates\',\'\'],[\'United Kingdom\',\'\'],[\'Uruguay\',\'\'],[\'Venezuela\',\'\'],[\'Vietnam\',\'\'],[\'Virgin Islands (U.S.)\',\'\'],[\'Zimbabwe\',\'\']]); ',
'{UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_TRIALS\'] = [];',
';',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ \t__dialogGuid: \'fe45306f-b359-4636-93b2-3e1f06e95444\', \targumentsBoundToCotrols: \'whatCountry|Character={LIST_INTERNATIONAL}\\nwhatState|Character={LIST_STATES}\\n\', \t__dtfmt: \'MM/dd/yyyy\' });',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'LIST_STATES\'] =  { type: \'list\',  data: {UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_STATES\'],  settings: {UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_STATES\'] }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'LIST_INTERNATIONAL\'] =  { type: \'list\',  data: {UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_INTERNATIONAL\'],  settings: {UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_INTERNATIONAL\'] }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'LIST_TRIALS\'] =  { type: \'list\',  data: {UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_TRIALS\'],  settings: {UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_TRIALS\'] }',
'{UXPRERENDEREDALIAS}_DlgObj.setVariables({});',
'{UXPRERENDEREDALIAS}_DlgObj._dataBoundControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._primaryTableAlias = \'\';',
'{UXPRERENDEREDALIAS}_DlgObj._listControlsInfo = {};',
'{UXPRERENDEREDALIAS}_DlgObj._hasPanels = true;',
'{UXPRERENDEREDALIAS}_DlgObj._hasOnSynchronizeEvent = false;',
'A5.__dtfmt = \'MM/dd/yyyy\';A5.__tfmt = \'\';',
'A5.__flagWorkingPreview = false;',
'A5.__flagIIS = false;',
'A5.__flagSimulateIIS = true;',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation = function() { ',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj == \'undefined\') return \'\';',
'\tvar orientation = {UXPRERENDEREDALIAS}_DlgObj.getOrientation();',
'\tif( orientation == \'landscape\') {',
'\t\t\t//landscape',
'\t\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'landscape\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'landscape\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'landscape\'});',
'\t\t\t}',
'\t} else {',
'\t\t//portrait',
'\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'portrait\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'portrait\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'portrait\'});',
'\t\t\t}',
'\t}',
'}',
'\tA5.flags.cordovaLoaded = true;',
'\ttry {',
'\t\tdocument.addEventListener(\'deviceready\', function() { ',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onCordovaReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onPhoneGapReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._cordovaReady = true;',
'\t\t\tnavigator.geolocation.getAccuratePosition = function(geolocationSuccess, geolocationError, options) {',
'\tvar _lastCheckedPosition = null;',
'\tvar _locationEventCount = 0;',
'\toptions = options || {};',
'\toptions.context = this;',
'    function _checkLocation(pos) {',
'        _lastCheckedPosition = pos;',
'        _locationEventCount++;',
'        if ((pos.coords.accuracy <= options.desiredAccuracy) && (_locationEventCount > options.ignoreResultCount)) {',
'            clearTimeout(_timerID);',
'            navigator.geolocation.clearWatch(_watchID);',
'            _foundPosition(pos);',
'        } ',
'    }',
'    function _stopLocationCheck() {',
'    \t var error = {};',
'    \t error.code = 0;',
'    \t error.message = \'Timeout: No results\';',
'        navigator.geolocation.clearWatch(_watchID);',
'        _lastCheckedPosition ? _foundPosition(_lastCheckedPosition) : geolocationError.call(options.context,error);',
'    }',
'    function _onError(error) {',
'        clearTimeout(_timerID);',
'        navigator.geolocation.clearWatch(_watchID);',
'        geolocationError.call(options.context,error);',
'    }',
'    function _foundPosition(pos) {',
'        geolocationSuccess.call(options.context,pos);',
'    }',
'    if (!options.maxWait) {            ',
'    \toptions.maxWait = 10000; ',
'    }\t',
'    if (!options.desiredAccuracy) {',
'    \t  options.desiredAccuracy = 20; ',
'    }',
'    if (!options.timeout) {',
'        options.timeout = options.maxWait;',
'\t }',
'\t if (!options.ignoreResultCount) {',
'\t \t\toptions.ignoreResultCount = 1;',
'\t }',
'    options.maximumAge = 0; ',
'    options.enableHighAccuracy = true; ',
'    var _watchID = navigator.geolocation.watchPosition(_checkLocation, _onError, options);',
'    var _timerID = setTimeout(_stopLocationCheck, options.maxWait); ',
'}',
'\t\t} , false);\t',
'\t}',
'\tcatch(err) {}',
'{UXPRERENDEREDALIAS}_DlgObj._waitGif = \'css/A5System/Images/wait.gif\';',
'{UXPRERENDEREDALIAS}_DlgObj._embeddedUXComponents = {',
'\'SCREENER\' : {arguments: []}',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._layoutMode = \'containerwidth\';',
'{UXPRERENDEREDALIAS}_DlgObj._responsiveRulesMode = \'firsttrue\';',
'{UXPRERENDEREDALIAS}_DlgObj.__controlNesting = {',
'PANELHEADER_LOCATION: [\'container:LEFT_BUTTONS_LOCATION\',\'container:CONTAINER_CENTER_LOCATION\'],',
'LEFT_BUTTONS_LOCATION: [],',
'CONTAINER_CENTER_LOCATION: [],',
'CONTAINER_LOCATION: [\'tabControl:TAB_LOCATIONS\'],',
'TAB_LOCATIONS: [\'tabPane:TAB_LOCATIONS#1\',\'tabPane:TAB_LOCATIONS#2\'],',
'"TAB_LOCATIONS#1": [\'LIST_STATES\'],',
'"TAB_LOCATIONS#2": [\'LIST_INTERNATIONAL\'],',
'PANELHEADER_TRIALS: [\'container:LEFT_BUTTONS_TRIALS\'],',
'LEFT_BUTTONS_TRIALS: [],',
'PANELHEADER_TRIALDETAILS: [\'container:LEFT_BUTTONS_TRIALDETAILS\',\'container:CONTAINER_CENTER_TRIALS1\'],',
'LEFT_BUTTONS_TRIALDETAILS: [],',
'CONTAINER_CENTER_TRIALS1: [],',
'CONTAINER_QUALIFY_DETAILS: [],',
'TAB_PANES: [\'tabPane:TAB_PANES#1\',\'tabPane:TAB_PANES#2\',\'tabPane:TAB_PANES#3\',\'tabPane:TAB_PANES#4\'],',
'"TAB_PANES#1": [],',
'"TAB_PANES#2": [],',
'"TAB_PANES#3": [],',
'"TAB_PANES#4": []',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._listsDV = [];',
'{UXPRERENDEREDALIAS}_DlgObj._listControls = [\'LIST_STATES\',\'LIST_INTERNATIONAL\',\'LIST_TRIALS\']',
'{UXPRERENDEREDALIAS}_DlgObj._localStorageSettings = {namespace: \'ALPHA_CWLocation\',friendlyName: \'CenterWatch Location\',description: \'Find Clinical Trials by Location\',persistVariableValues: false,__version: 1,persistComponentState: false,workingPreviewTestingFolder: \'\',restore: {variables: false,data: false,state: false},compressData: true,minify: true,variablesToNotPersist: \'\',workingPreviewTestingMode: \'Browser\',compressListData: true}',
'{UXPRERENDEREDALIAS}_DlgObj.__r = [\'3rkeltoSdQc=\']',
'{UXPRERENDEREDALIAS}_DlgObj._staticHTMLMode = false',
'{UXPRERENDEREDALIAS}_DlgObj._EDITOR_EDITORSET = {};',
'{UXPRERENDEREDALIAS}_DlgObj.styleName = \'iOS7\';',
'{UXPRERENDEREDALIAS}_DlgObj.styleVersion = 3',
'{UXPRERENDEREDALIAS}_DlgObj.framesInfo = {',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._noPersist = []',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_LOCATION\',A5.d.evnts.click,function(e) {',
'CWApp.goBackToMainMenu({UXPRERENDEREDALIAS}_DlgObj);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_LOCATION\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_USTRIALS\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_LOCATIONS\',true);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_USTRIALS\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_TRIALLIST\',true);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS\');',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_O_B10C9F8A4D6E4F38BC2F82FB8A3A17CA(1,\'1\',this);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS\');',
'',
'{UXPRERENDEREDALIAS}_DlgObj.prepare();{UXPRERENDEREDALIAS}_DlgObj.populate({UXPRERENDEREDALIAS}_DlgObj.originalValues[0]);',
'{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);',
'',
'',
'if(!A5.flags.isMobile) $e.add(window,\'resize\',{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation);',
'else $e.add(window,\'orientationchange\',{UXPRERENDEREDALIAS}_DlgObj._orientationChangeHandler,{UXPRERENDEREDALIAS}_DlgObj,true);',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation();',
'',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_LOCATIONS\');',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_PANES\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var listObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_STATES\');',
'if(listObj) listObj._state.recordCount = 52;',
'if(listObj) listObj._state.recordCountFormatted = \'52\';',
'if(listObj) listObj._state.lastBreakValue = \'<None>\';',
'if(listObj) listObj._state.pageCount = 0;',
'if(listObj) listObj._state.pageSize = 20;',
'if(listObj) {var ele = $(\'{UXPRERENDEREDALIAS}.LIST_STATES.RECORDCOUNT\'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};',
'if(listObj) listObj._state.paginated = false;',
'',
'if(listObj) listObj._state.filter = \'\';',
'if(listObj) listObj._state.having = \'\';',
'if(listObj) listObj._state.order = \'\';',
'if(listObj) listObj._state.filterParameters = \'\';',
'if(listObj) listObj._state.highlight = {  };',
'if(listObj) listObj._state.whereClause = \'\';',
'if(listObj) listObj._state.whereParameters = \'\';',
'\t\t',
'\t\tvar flagPersist = false;',
'\t\tif(typeof listObj._flagPersistDataOK != \'undefined\') { ',
'\t\t\tif(listObj._flagPersistDataOK) { ',
'\t\t\t\tvar data = listObj._data;',
'\t\t\t\tlistObj.persistToStorage({mode:\'populate\', data: data});',
'\t\t\t}',
'\t\t}',
'\t\t',
'\t\t',
';',
'{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_STATES\',\'afterRenderComplete\',{});',
'',
'if(listObj._refreshStateMessages) listObj._refreshStateMessages();',
'',
'var listObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_INTERNATIONAL\');',
'if(listObj) listObj._state.recordCount = 116;',
'if(listObj) listObj._state.recordCountFormatted = \'116\';',
'if(listObj) listObj._state.lastBreakValue = \'<None>\';',
'if(listObj) listObj._state.pageCount = 0;',
'if(listObj) listObj._state.pageSize = 20;',
'if(listObj) {var ele = $(\'{UXPRERENDEREDALIAS}.LIST_INTERNATIONAL.RECORDCOUNT\'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};',
'if(listObj) listObj._state.paginated = false;',
'',
'if(listObj) listObj._state.filter = \'\';',
'if(listObj) listObj._state.having = \'\';',
'if(listObj) listObj._state.order = \'\';',
'if(listObj) listObj._state.filterParameters = \'\';',
'if(listObj) listObj._state.highlight = {  };',
'if(listObj) listObj._state.whereClause = \'\';',
'if(listObj) listObj._state.whereParameters = \'\';',
'\t\t',
'\t\tvar flagPersist = false;',
'\t\tif(typeof listObj._flagPersistDataOK != \'undefined\') { ',
'\t\t\tif(listObj._flagPersistDataOK) { ',
'\t\t\t\tvar data = listObj._data;',
'\t\t\t\tlistObj.persistToStorage({mode:\'populate\', data: data});',
'\t\t\t}',
'\t\t}',
'\t\t',
'\t\t',
';',
'{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_INTERNATIONAL\',\'afterRenderComplete\',{});',
'',
'if(listObj._refreshStateMessages) listObj._refreshStateMessages();',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var listObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\');',
'if(listObj) listObj._state.recordCount = 0;',
'if(listObj) listObj._state.recordCountFormatted = \'0\';',
'if(listObj) listObj._state.lastBreakValue = \'<None>\';',
'if(listObj) listObj._state.pageCount = 0;',
'if(listObj) listObj._state.pageSize = 20;',
'if(listObj) {var ele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.RECORDCOUNT\'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};',
'if(listObj) listObj._state.paginated = false;',
'',
'if(listObj) listObj._state.filter = \'\';',
'if(listObj) listObj._state.having = \'\';',
'if(listObj) listObj._state.order = \'\';',
'if(listObj) listObj._state.filterParameters = \'\';',
'if(listObj) listObj._state.highlight = {  };',
'if(listObj) listObj._state.whereClause = \'\';',
'if(listObj) listObj._state.whereParameters = \'\';',
'\t\t',
'\t\tvar flagPersist = false;',
'\t\tif(typeof listObj._flagPersistDataOK != \'undefined\') { ',
'\t\t\tif(listObj._flagPersistDataOK) { ',
'\t\t\t\tvar data = listObj._data;',
'\t\t\t\tlistObj.persistToStorage({mode:\'populate\', data: data});',
'\t\t\t}',
'\t\t}',
'\t\t',
'\t\t',
';',
'{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_TRIALS\',\'afterRenderComplete\',{});',
'',
'if(listObj._refreshStateMessages) listObj._refreshStateMessages();',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var obj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\');',
'obj._hasBeenRendered = false;',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'setTimeout(function() { },0);',
'{UXPRERENDEREDALIAS}_DlgObj._listsWithJSFuncDataSource = {};',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onInitializeComplete\');',
'{UXPRERENDEREDALIAS}_DlgObj.initialized = true;',
'',
'',
'',
'',
'',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._onRenderComplete = function() { {UXPRERENDEREDALIAS}_DlgObj._runJSOnLoad(); {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule(); }; ',
'',
'setTimeout(function() { var p = {UXPRERENDEREDALIAS}_DlgObj.panelGet(\'PANELNAVIGATOR\'); if(p._sizing == \'window\') { p._sizeWindow();} else { p.refresh(); } },100);',
'setTimeout(function() {{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onRenderComplete\'); {UXPRERENDEREDALIAS}_DlgObj.flagRenderComplete = true;  {UXPRERENDEREDALIAS}_DlgObj._restoreFromLocalStorage(); },1);',
'',
'var o2 = \'portrait\';',
'if(window.innerHeight < window.innerWidth) o2 = \'landscape\';',
'{UXPRERENDEREDALIAS}_DlgObj._screen = {h: window.innerHeight, w: window.innerWidth, o: o2};',
'',
'{UXPRERENDEREDALIAS}_DlgObj._getOnlineStatus();',
'try {',
'window.addEventListener("offline",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'window.addEventListener("online",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'} catch(err){}',
'',
'',
'setTimeout(function() {$e.execute(\'device.screen\',\'a5resize\')},1);',
'setTimeout(function() { },10);;',
'{UXPRERENDEREDALIAS}_DlgObj._activeLanguage = \'\';',
''].join('\n');
jsout = jsout.replace(/\{UXPRERENDERAJAXURL\}/g,'http://69.7.228.180/centerappv1/FINDBYLOCATION.a5wcmp?__virtualPage=__a5runDialog.a5w&__dialogFilename=FINDBYLOCATION&__alias={UXPRERENDEREDALIAS}&__unsaved=no');
jsout = jsout.replace(/\{UXPRERENDEREDALIAS\}/g,go.alias);
jsout = jsout.replace(/\{UXPRERENDEROUTPUTDIV\}/g,go.dialog2Div);
;return jsout}; 
function PRECOMPUTEDUX_5d561f61bb264ac8ae96b2a4773987b0_FindByKeywords(go) { 
var jsout = [
'A5.u.element.setContent(\'{UXPRERENDEROUTPUTDIV}\',\'<style type="text/css">\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRow { position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRow:before { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid orange;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_newRow {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_newRow:before { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid blue;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_hasError {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_hasError:after { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\tbottom: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid red;\\n\\tborder-bottom-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-top-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRow {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRow:before { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid purple;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited { position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid orange;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRowInherited { position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRowInherited:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid purple;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_newRowInherited {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_newRowInherited:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid blue;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorInherited {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorInherited:after { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\tbottom: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid red;\\n\\tborder-bottom-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-top-color: transparent;\\nopacity: .3;\\n}\\n.parentDeleted { \\n\\tposition:relative;\\n}\\n.parentIsDeleted .parentDeleted:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid purple;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n</style>\\n<style>\\n</style><iframe style="display:none;" id="{UXPRERENDEREDALIAS}.__IFRAME1"></iframe>\\n<input type="hidden" value="" id="{UXPRERENDEREDALIAS}.PARAMETERBUCKET"/>\\n<input type="file" style="position:absolute; top:-1000px;visibility:hidden;" accept="image/*" id="{UXPRERENDEREDALIAS}._GETPHOTO"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" multiple = "" id="{UXPRERENDEREDALIAS}._GETFILEMULTI"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" id="{UXPRERENDEREDALIAS}._GETFILE"/><input type="hidden" id="{UXPRERENDEREDALIAS}.V.R1.LIST_TRIALS" name="V.R1.LIST_TRIALS" />\\n\');',
'',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {',
'\t{UXPRERENDEREDALIAS}_DlgObj._destroy();',
'\ttry {',
'\t\tdelete {UXPRERENDEREDALIAS}_DlgObj;',
'\t} catch(e) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj = undefined;',
'\t}',
'};',
';if(typeof {UXPRERENDEREDALIAS}_PanelObj != \'undefined\') {',
'\tvar ele = $({UXPRERENDEREDALIAS}_PanelObj.getPanelId());',
'\tif(ele) {',
'\t\tif(ele.parentNode) ele.parentNode.removeChild(ele);',
'\t}',
'\tdelete {UXPRERENDEREDALIAS}_PanelObj;',
'}',
';window[\'{UXPRERENDEREDALIAS}_PanelObj\'] = new A5.PanelNavigator([',
'{',
'\tname: \'PANELCARD_KEYWORDS\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_SEARCH"   \\n\\t\\t\\tclass="A5CWLayout "  style="width: 100%; "  >\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.LISTCLINICALTRIALS_KEYWORDSEARCH" title=""  autocapitalize="off"  autocorrect="off"     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"  onkeyup="{UXPRERENDEREDALIAS}_DlgObj.getControl(\\\'LIST_TRIALS\\\').searchList({searchMode : \\\'auto\\\'});"   name="V.R1.LISTCLINICALTRIALS_KEYWORDSEARCH"    value=""    />\\n\\n</div>\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_SEARCH.BREAK"  style="clear:both; " />\\n<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_LIST"   \\n\\t\\t\\tclass="A5CWLayout "  style="width: 100%; "  >\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t\\n<div  class="iOS7List"   style="padding:0px; margin:0 px; border: 0px; padding: 0px; "  >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.LIST_TRIALS.CONTROL"  class="{UXPRERENDEREDALIAS}_LIST_TRIALS" style="overflow: auto; width: 100%; height: 100%; "></div>\\n</div>\\n\\n</div>\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_LIST.BREAK"  style="clear:both; " />\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'y\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS_KEYWORDS"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_KEYWORDS"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CENTER"    \\t\\t\\tclass="A5CWLayout "  style=""  > <div style="display: table; margin: auto;"> <div class="A5CWLayout" style="width: " > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.STATICTEXT_TRIALS" title=""  class="iOS7Heading" style="text-shadow: 2px 2px #ccc; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >Trials: <span id="{UXPRERENDEREDALIAS}.LISTCLINICALTRIALS.RECORDCOUNT"></div> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> </div><div style="display:none;"></div>\',',
'\t\tshow: true,',
'\t\tstyle: \'height: 40px; min-height: 40px; \'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tonSize: function() {;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {var mObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\'); if(mObj) mObj.refresh();}}',
'})',
'},',
'{',
'\tname: \'PANELCARD_TRIALDETAILS\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_QUALIFY_DETAILS"   \\n\\t\\t\\tclass="A5CWLayout "  style="width: 100%; "  >\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_QUALIFY"    ></button>\\n</div>\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS"    ></button>\\n</div><br  style="clear:both; " />\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_QUALIFY_DETAILS.BREAK"  style="clear:both; " /><div  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_QUALIFY_DETAILS.BREAK"  style="height:10px; font: 0pt;"></div>\\n<div style="width:100%;" class="A5CWLayout iOS7TabT" id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES">\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.TABBAND" class="iOS7TabTBand">\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.0.TAB" class="" href="#">Overview</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.1.TAB" class="" href="#">Eligibility</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.2.TAB" class="" href="#">More Info</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.3.TAB" class="" href="#">Contact</a>\\n\\t<br style="clear: both;" />\\n\\t</div>\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.PANES" class="iOS7TabTPanes">\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.0.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_OVERVIEW" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.1.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_ELIGIBILITY" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.2.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_MOREINFO" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PANES.3.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%"  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_CONTACT" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n</div>\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: "  id="{UXPRERENDEREDALIAS}.V.R1.LISTCLINICALTRIALS_GLOBALERRORS" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><br  style="clear:both; " />\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: false',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS_TRIALDETAILS"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CENTER_TRIALS1"    \\t\\t\\tclass="A5CWLayout "  style=""  > <div style="display: table; margin: auto;"> <div class="A5CWLayout" style="width: " > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.TEXT_DETAILS" title=""  class="iOS7Heading" style="text-shadow: 2px 2px #ccc; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >Details</div> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> </div><div style="display:none;"></div>\',',
'\t\tshow: true,',
'\t\tstyle: \'height: 40px; min-height: 40px; \'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tonSize: function() {;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {var mObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'VIEWBOX_OVERVIEW\'); if(mObj) mObj.refresh();}}',
'})',
'},',
'{',
'\tname: \'PANEL_SCREENER\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div class="A5CWLayout">\\n\\t<td valign="top"><div><a class="iOS7NavigatorLink" id="f4d801e3-5494-4197-9494-8304891db18e_CLOSEBUTTON" href="#" onclick="$(\\\'{UXPRERENDEREDALIAS}_DIVCONTAINER_f4d801e3_5494_4197_9494_8304891db18e\\\').innerHTML = \\\'\\\'; $(\\\'f4d801e3-5494-4197-9494-8304891db18e_CLOSEBUTTON\\\').style.display = \\\'none\\\';" style="display:none;">Close</a></div><div id="{UXPRERENDEREDALIAS}_DIVCONTAINER_f4d801e3_5494_4197_9494_8304891db18e"></div></td>\\n</div><br  style="clear:both; " />\\n\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: false',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:none;"></div>\'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t}',
'})',
'}',
'],{',
'\ttype: \'programmatic\',',
'\tflow: \'ltr\',',
'\tloopNavigate: false,',
'\tonPanelActivate: function() {var panelName = this.state.activePanel;',
'if(panelName == \'PANEL_SCREENER\') {',
'\tvar runJS = true;',
'\tif(typeof this.state._render != \'undefined\') {',
'\t\tvar rs = this.state._render[panelName];',
'\t\tif(typeof rs !=  \'undefined\') {',
'\t\t\tif(rs == true) {',
'\t\t\t\trunJS = false;',
'\t\t\t}',
'\t\t}',
'\t}\t',
'\tif(runJS) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._functions.runAction_f4d801e3_5494_4197_9494_8304891db18e();;',
'\t\tif(typeof this.state._render == \'undefined\') this.state._render = {};',
'\t\tthis.state._render[panelName] = true;',
'\t}',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.refreshClientSideComputations();},',
'\tonPanelActivateComplete: function() {if(this.state.activePanel == \'PANEL_SCREENER\') { ',
'\tvar pChild = {UXPRERENDEREDALIAS}_DlgObj.getChildObject(\'<DEFAULTALIAS>\',\'UX\');',
'\tif(pChild) pChild._executeEvent(\'onPanelActivate\');',
'};},',
'\tonSize: function() {;if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule != \'undefined\') { ',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
'\t}',
'}},',
'\ttheme: \'iOS7\',',
'\theader: {',
'\t\tshow: false',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tcontrols: {',
'\t\tprev: {',
'\t\t\thas: false',
'\t\t},',
'\t\tnext: {',
'\t\t\thas: false',
'\t\t},',
'\t\tback: {',
'\t\t\thas: false',
'\t\t},',
'\t\tforward: {',
'\t\t\thas: false',
'\t\t}',
'\t},',
'\tbody: {',
'\t},',
'\tanimation: {',
'\t\tduration: 400',
'\t}',
'})',
'var ele = window[\'{UXPRERENDEREDALIAS}_PanelObj\'].create(\'{UXPRERENDEREDALIAS}.R1\');',
'\t\tvar panelRootId = \'{UXPRERENDEROUTPUTDIV}\';',
'\t\tvar flagSizeToParent = true;',
'\t\tvar wf_alias = \'{UXPRERENDEREDALIAS}\';',
'\t\tif(panelRootId != \'\') { ',
'\t\t\tif (!$(panelRootId)) panelRootId = \'\';',
'\t\t}',
'\t\tif(panelRootId != \'\') { ',
'\t\t\t$(panelRootId).appendChild(ele);',
'\t\t\tif(flagSizeToParent) { ',
'\t\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'parent\');',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tdocument.body.insertBefore(ele,document.body.firstChild);',
'\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'window\');',
'\t\t}',
'{UXPRERENDEREDALIAS}_PanelObj._panelPath = {',
'\tPANELCARD_KEYWORDS: \'PANELCARD_KEYWORDS\',',
'\tPANELCARD_TRIALDETAILS: \'PANELCARD_TRIALDETAILS\',',
'\tPANEL_SCREENER: \'PANEL_SCREENER\'',
'}',
'{UXPRERENDEREDALIAS}_PanelObj._displayNames = {',
'PANELCARD_KEYWORDS : \'PANELCARD_KEYWORDS\',PANELCARD_TRIALDETAILS : \'PANELCARD_TRIALDETAILS\',PANEL_SCREENER : \'PANEL_SCREENER\',PANELNAVIGATOR : \'PANELNAVIGATOR\'',
'};',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {UXPRERENDEREDALIAS}_DlgObj._destroy();',
'window[\'{UXPRERENDEREDALIAS}_DlgObj\'] = new A5.DialogComponentHelper(\'{UXPRERENDEREDALIAS}\',{',
'\tajaxURL: \'{UXPRERENDERAJAXURL}\',',
'\t_embeddedMode: false,',
'\t_livePreviewInBuilder: false,',
'\tcomponentGUID: \'6e0e4102-d525-410c-aa2b-b6e2584472af\',',
'\tcolumnInfo: {\'LISTCLINICALTRIALS_KEYWORDSEARCH\': {info: {controlType: \'textbox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'LIST_TRIALS\': {info: {controlType: \'List\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'\'  }},',
'\toriginalValues: [{',
'\t\'LISTCLINICALTRIALS_KEYWORDSEARCH\': \'\',',
'\t\'LIST_TRIALS\': \'\'',
'}],',
'\tdefaultValues: {',
'\tLISTCLINICALTRIALS_KEYWORDSEARCH: \'\',',
'\tLIST_TRIALS: \'\'',
'},',
'\tdatePickerMonthNames: [\'January\',\'February\',\'March\',\'April\',\'May\',\'June\',\'July\',\'August\',\'September\',\'October\',\'November\',\'December\'],',
'\tdatePickerDayNames: [\'Sun\',\'Mon\',\'Tue\',\'Wed\',\'Thu\',\'Fri\',\'Sat\'],',
'\tdatePickerTodayButton: \'Today\',',
'\tdatePickerCloseButton: \'\',',
'\tdatePickerFirstDayOfWeek: 1,',
'\tresetFormMessage: \'Are you sure you want to reset the form?\',',
'\tresetFormTitle: \'Warning\',',
'\tresetFormIcon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\tdirtyFormMessage: \'You must first save your changes or cancel changes by clicking the Reset button.\',',
'\tdirtyFormTitle: \'Notice\',',
'\tdirtyFormIcon: \'cssIcon=iOS7Icon iOS7IconInfo\',',
'\tdeleteRecordDialogTitle: \'Delete Record\',',
'\tdeleteRecordDialogMessage: \'Are you sure you want to delete this record?\',\t',
'\tssDateFormat: \'MM/dd/yyyy\',',
'\tstyleName: \'iOS7\',',
'\t_fieldHelpers_DIALOG2: [],',
'\tparentComponentAlias: \'\'+go._thisGridAlias+\'\',',
'\tsubmitIfHasClientSideErrors: true, ',
'\trowErrors: {',
'\t\t\t\tshowMessageBox: false,',
'\t\t\t\tmessageBoxTitle: \'Error\',',
'\t\t\t\tstyle: \'color: red; width: 6in; height: 2in;\'',
'\t\t},',
'\tfieldErrors: {',
'\t\ttype: \'block\', ',
'\t\tclassName: \'errorText\',',
'\t\tinputClassName: \'iOS7EditError\',',
'\t\tedit: { ',
'\t\t\tcontainer: { className: \'iOS7EditBGError\'}',
'\t\t},',
'\t\ticon: \'cssIcon=iOS7Icon iOS7IconError\',',
'\t\tglobal: {',
'\t\t\tcontId: \'{UXPRERENDEREDALIAS}.GLOBALERRORS\',',
'\t\t\thoverClassName: \'errorTextHighlight\',',
'\t\t\thoverInputClassName: \'errorInputHighlight\'',
'\t\t}',
'\t}',
'\t});',
'{UXPRERENDEREDALIAS}_DlgObj._onOrientationChange =  function(e) { ;',
'{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
';  };',
'A5.__componentObj = {UXPRERENDEREDALIAS}_DlgObj;',
'{UXPRERENDEREDALIAS}_DlgObj._tabObjects = [\'TAB_PANES\'];',
'{UXPRERENDEREDALIAS}_DlgObj._functions.runAction_f4d801e3_5494_4197_9494_8304891db18e = function() {',
'\t\tvar go = new Object();',
'\t\tgo.dialog2Name = \'Screener\';',
'\tgo.type = \'dialog2\';',
'\tgo.alias = \'{UXPRERENDEREDALIAS}_SCREENER_1070SEKH\';',
'\tgo.workingMessage = \'<img src="css/A5System/Images/wait.gif" /> Working...\';',
'\tgo.flagTimer = \'F\';',
'\tgo.flagQueryEcho = \'F\';',
'\tgo.flagDebugMode = \'F\';',
'\tgo.userFilter = \'\';',
'\tgo.baseFilter = \'\';',
'\tgo.userOrder = \'\';',
'\tgo.overrideSettings = \'style_name=`iOS7`\'+\'||\';',
'\tgo.arguments = \'\';',
'\tgo.localArguments = \'ARG_TRIALID|Character|RUNTIMEBINDING|Null|Null|\'+{UXPRERENDEREDALIAS}_DlgObj.getValue(\'LISTCLINICALTRIALS\')+\'\';',
'\tgo.linkDefinition = \'\';',
'\tgo.placeHolderValues = \'\';',
'\tgo.parameterBucket = $gvs(\'{UXPRERENDEREDALIAS}.PARAMETERBUCKET\');',
'\tgo.argumentValueBucket = $gvs(\'{UXPRERENDEREDALIAS}.ARGUMENTVALUES\');',
'\tgo.a5_default_path = \'C_colon_|A5Webroot|livepreview\';',
'\tgo.onLoadCompleteJavascript = \'\';',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.gridId != \'undefined\') go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.gridId;',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.dialogId != \'undefined\') go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.dialogId;',
'\tvar panelCardId = {UXPRERENDEREDALIAS}_DlgObj.panelGetId(\'PANEL_SCREENER\',\'body\');',
'if($(panelCardId + \'.SCROLLWRAPPER\')) panelCardId = panelCardId + \'.SCROLLWRAPPER\';',
'go.dialog2Div = panelCardId;',
'\tA5.component.runGenericComponent(go);',
'}',
'window[\'{UXPRERENDEREDALIAS}.V.R1.TAB_PANESObj\'] = new A5.Tab(\'{UXPRERENDEREDALIAS}.V.R1.TAB_PANES\',[',
'{ \thtml: \'Overview\', \tvalue: \'1\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'Eligibility\', \tvalue: \'2\', \tpaneClassName: \'+tab-pane\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'More Info\', \tvalue: \'3\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tpaneHeight: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'Contact\', \tvalue: \'4\', \tonDynamicLoadDelay: 0, \tshow: true, \tdisabled: false }',
'],',
'\t{',
'\ttheme: \'iOS7\',',
'\tonChange: function() {',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_PANES\');},',
'\tpaneHeight: \'100%\'',
'}',
');',
'\twindow[\'{UXPRERENDEREDALIAS}.V.R1.TAB_PANESObj\'].select(\'1\');',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'LISTCLINICALTRIALS_KEYWORDSEARCH\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Search for a medical condition e.g. Flu\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.lookups = {',
'};',
'window[\'{UXPRERENDEREDALIAS}_O_B10C9F8A4D6E4F38BC2F82FB8A3A17CA\'] = function(rowNum,rowId,objEle) {',
'var windowName = \'WINDOW_bfe46e12_0bc0_4bfb_b0e7_770e6d49d275\';',
'var currWindow = {UXPRERENDEREDALIAS}_DlgObj.getWindow(windowName);',
'var go = new Object();',
'go.ajaxFailedMessage = \'\';',
'go.ajaxCallbackTimeout = {UXPRERENDEREDALIAS}_DlgObj.ajaxCallbackTimeout;',
'go.objectId = objEle.id;',
'go.dialog2Name = \'SiteMap\';',
'go.type = \'dialog2\';',
'go.alias = \'SITEMAP\';',
'go.submitCurrentFieldValues = true;',
'go.sourceGridPart = \'O\';',
'go.sourceGridRowNumber = \'1\';',
'go.workingMessage = \'<img src=\\\'loading.gif\\\' />\';',
'go.placeholderValues = \'\';',
'go.argumentBinding = \'\';',
'go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.gridId;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj.gridId != \'undefined\') go._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.gridId;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj.dialogId != \'undefined\') {',
'\tgo._thisGridAlias = {UXPRERENDEREDALIAS}_DlgObj.dialogId;',
'}',
'go._thisGridGUID = {UXPRERENDEREDALIAS}_DlgObj.componentGUID;',
'go._gridCurrentFilter = {UXPRERENDEREDALIAS}_DlgObj._gridFilter;',
'go._gridCurrentOrder = {UXPRERENDEREDALIAS}_DlgObj._gridOrder;',
'go._gridCurrentArguments = {UXPRERENDEREDALIAS}_DlgObj._gridArguments;',
'go._gridCurrentDBType = {UXPRERENDEREDALIAS}_DlgObj._gridDBType;',
'go.overrideSettings = \'Style_name = `iOS7`||Style_name = `iOS7`\'+\'||a5SetSessionVar(`var X`, `function() {return {UXPRERENDEREDALIAS}_DlgObj.getValue();}  ()`)\';',
'go.a5_default_path = \'C_colon_|A5Webroot|livepreview\';',
'go.windowName = windowName;',
'go.showWindowParameters = \'\';',
'var runMethod = \'ajax\';',
'if(runMethod == \'ajax\') {',
'go.ajaxFailedMessage = \'\';',
'go.ajaxCallbackTimeout = {UXPRERENDEREDALIAS}_DlgObj.ajaxCallbackTimeout;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj._onlineStatus != \'undefined\') { ',
'\tif({UXPRERENDEREDALIAS}_DlgObj._onlineStatus == \'offline\') { ',
'\t\t( function() {  }() );',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onAjaxCallbackNotAvailable\', {xbasicFunctionName: \'\', ajaxEvent: \'OpenComponent\'})',
'\t\treturn false;',
'\t}',
'}\t\t',
'};',
'if(!currWindow) {',
'\tcurrWindow = {UXPRERENDEREDALIAS}_DlgObj.createWindow(windowName,\'modeless-resizable\',',
'\t{',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'blank\',',
'\t\t\telementId: \'~\'',
'\t\t}',
'\t},',
'\theight: \'5in\',',
'\twidth: \'8in\',',
'\ttitle: {',
'\t\thtml: \'&nbsp;\',',
'\t\tlocation: \'top\',',
'\t\tdirection: \'ltr\',',
'\t\tshow: true',
'\t},',
'\tdisableMove: false,',
'\ttheme: \'iOS7\',',
'\tpointer: {',
'\t\tshow: true,',
'\t\tlocation: \'auto\'',
'\t},',
'\tonBeforeShow: function() {var cs = AUI.u.getVPSize();',
'cs.width = cs.width - 10;',
'cs.height = cs.height - 10;',
'this.setSize(cs.width+\'px\',cs.height+\'px\');',
'this.setPosition(\'center\');},',
'\tanimation: {',
'\t\tshow: {',
'\t\t\ttype: \'fade\',',
'\t\t\tduration: \'slow\'',
'\t\t},',
'\t\thide: {',
'\t\t\ttype: \'none\',',
'\t\t\tduration: \'fast\'',
'\t\t}',
'\t}',
'}',
'\t);\t\t',
'\tgo.dialog2Div  = currWindow.getWindowId(\'body\')+\'_INNERCONTENT\';',
'\tgo.dialog2Div = currWindow.getWindowId(\'body\')+\'_INNERCONTENT\';',
'\tvar arrHTML = [];',
'\tarrHTML.push(\'\');',
'\tarrHTML.push(\'<table style="width:100%;height:100%;">\');',
'\tarrHTML.push(\'<tr><td  align="center"  valign="middle"  >\');',
'\tarrHTML.push(\'<div id="\'+go.dialog2Div+\'"></div>\');',
'\tarrHTML.push(\'</td>\');',
'\tarrHTML.push(\'</tr>\');',
'\tarrHTML.push(\'</table>\');',
'\t$(currWindow.getWindowId(\'body\')).innerHTML = arrHTML.join(\'\\n\');',
'A5.component.runGenericComponent(go)',
'\tcurrWindow.show();',
'} else {',
'\t\tvar ele = \'SITEMAP.GRID_PART.FORM_CONTAINER_DIV\';',
'\tvar pele = $(ele);',
'\tif(pele) pele.innerHTML = \'<img src=\\\'loading.gif\\\' /> \';',
'\tgo.dialog2Div  = currWindow.getWindowId(\'body\')+\'_INNERCONTENT\';',
'\tgo.parentGridId = \'{UXPRERENDEREDALIAS}\';',
'\tA5.component.runGenericComponent(go)',
'\tcurrWindow.show();',
'};',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({',
'\t__dialogGuid: \'9e921e33-f3ab-4604-9aa6-b68ecb1341b8\',',
'\targumentsBoundToCotrols: \'\',',
'\t__sgr: \'\',',
'\t__dtfmt: \'MM/dd/yyyy\',',
'\t__tfmt: \'\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControlsChildren = [];',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ });',
'A5.msgBox.theme = \'iOS7\';',
'A5.msgBox.buttonWidth = \'1in\';',
'{UXPRERENDEREDALIAS}_DlgObj._defaultWindowTitleDirection = \'ltr\';',
'{UXPRERENDEREDALIAS}_DlgObj._controlContainers = {}',
'{UXPRERENDEREDALIAS}_DlgObj._panelCardControls = {',
'LISTCLINICALTRIALS_KEYWORDSEARCH:\'PANELCARD_KEYWORDS\',',
'LIST_TRIALS:\'PANELCARD_KEYWORDS\'',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._buttons = {};',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_KEYWORDS\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_TRIALDETAILS\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_QUALIFY\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'See if I qualify\',',
'\tonClick: function() { /* actionJavascript:5b1ce08e-eea1-48ab-98ef-2fc12d9ade3f */',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANEL_SCREENER\',true);',
'},',
'\ttheme: \'iOS7\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_DIRECTIONS\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Directions to Site\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:base\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_KEYWORDS\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_KEYWORDS\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK_TRIALDETAILS\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_QUALIFY\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_QUALIFY\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_DIRECTIONS\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS\');',
'{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_TRIALS\'] = {',
'\t_dataSourceType: \'SQL\',',
'\t_listFields: [',
'\t{',
'\t\tname: \'summary\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'summary\\\');\'',
'\t},',
'\t{',
'\t\tname: \'purpose\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'purpose\\\');\'',
'\t},',
'\t{',
'\t\tname: \'overview\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'overview\\\');\'',
'\t},',
'\t{',
'\t\tname: \'eligibility\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'eligibility\\\');\'',
'\t},',
'\t{',
'\t\tname: \'moreinfo\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'moreinfo\\\');\'',
'\t},',
'\t{',
'\t\tname: \'contact\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'contact\\\');\'',
'\t}',
'],',
'\t_searchPartHas: true,',
'\t_searchPart: {',
'\t\tfieldMap: [',
']',
'\t},',
'\t_searchPartStyle: \'singlekeywordcontrol\',',
'\t_keywordSearchFields: [\'Summary\',\'Purpose\'],',
'\t_keywordSearchControl: \'LISTCLINICALTRIALS_KEYWORDSEARCH\',',
'\t_searchFieldOptions: {',
'"SUMMARY" : {option: 2,qbf: false,type: \'c\'},',
'"PURPOSE" : {option: 2,qbf: false,type: \'c\'},',
'"OVERVIEW" : {option: 2,qbf: false,type: \'c\'},',
'"ELIGIBILITY" : {option: 2,qbf: false,type: \'c\'},',
'"MOREINFO" : {option: 2,qbf: false,type: \'c\'},',
'"CONTACT" : {option: 2,qbf: false,type: \'c\'}',
'},',
'\t_showSearchDebugInfo: false,',
'\t_mediaFields: [],',
'\t_mediaTypes: {',
'},',
'\t_phoneGap: {',
'\t\tmediaFiles: {',
'\t\t\tprotectedRead: false,',
'\t\t\ttarget: \'server\',',
'\t\t\ttargetFilenameFunction: \'return \\\'<DeviceId>_\\\' +e.object.listFieldName + \\\'_\\\' + A5.ts() + \\\'_\\\' +e.name\',',
'\t\t\tshowProgress: false,',
'\t\t\tdownload: {',
'\t\t\t\tautodownloadFilesOnPullSynch: false,',
'\t\t\t\tdeleteOrphansAfterSync: false,',
'\t\t\t\ttargetFolder: \'_AAFiles\',',
'\t\t\t\tshowProgress: false',
'\t\t\t},',
'\t\t\tonErrorFunction: function(array,fileNumber,error) { }',
'\t\t}',
'\t},',
'\t_dvmode: \'enter\',',
'\t_hasDetailView: true,',
'\t_noRecordInListIsSelectedSettingForDetailView: \'none\',',
'\t_captureLocation: false,',
'\t_detailViewHas: true,',
'\t_submitLocationInfo: false,',
'\t_detailView: {',
'\t\tmethod: \'fieldMap\',',
'\t\tfieldMap: [',
']',
'\t},',
'\t_detailViewGlobalErrorStyle: \'font-family: Arial; font-size: 10pt; color: red; border: solid 1px red; width: 100%;\',',
'\t_autoCommitDetailView: false,',
'\t_synchBatchSize: 0,',
'\t_resetMediaFileUploadErrorsFlag: function(data) {',
'var r = A5.u.object.each(data,function(name,value,path,result){',
'\tif(name == \'_flagMediaFileUploadError\') {',
'\t\tresult.push({value: false, path: path})',
'\t}',
'});',
'for(var i = 0; i < r.length; i++) {',
'\tA5.u.object.set(data,r[i].path,r[i].value);',
'}',
'},',
'\ttheme: \'iOS7\',',
'\tscroll: {',
'\t\taxis: \'both\',',
'\t\tindicator: {',
'\t\t\tshow: true,',
'\t\t\th: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\tleft: \'0px\',',
'\t\t\t\tright: \'0px\'',
'\t\t\t},',
'\t\t\tv: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\ttop: \'0px\',',
'\t\t\t\tbottom: \'0px\'',
'\t\t\t}',
'\t\t},',
'\t\tmomentum: {',
'\t\t\tallow: true',
'\t\t},',
'\t\tpull: {',
'\t\t\ty: \'auto\',',
'\t\t\tx: \'auto\'',
'\t\t}',
'\t},',
'\tlayout: \'Default\',',
'\tcalculateValue: function(data) {  {var _val = \'\' +data.__primaryKey; if((_val == \'\' ||  _val == \'undefined\'  )&& typeof data[\'*rowGUID\'] != \'undefined\') _val = \'_temporaryValue_\' + data[\'*rowGUID\']; return _val;}},',
'\tlistVariableName: \'LIST_TRIALS\',',
'\tlistVariableNameTrueCase: \'LIST_TRIALS\',',
'\t_hostComponentId: \'{UXPRERENDEREDALIAS}\',',
'\t_includeCRC: true,',
'\tallParentLists: [],',
'\t__flagPersist: false,',
'\tonBeforeUpdateRow: function(index,data){;},',
'\tonUpdateRow: function(index,data){;},',
'\tonBeforeAddRows: function(data,info){;},',
'\tonAddRows: function(data,info){;},',
'\tonBeforeRemoveRows: function(rows){;},',
'\tonRemoveRows: function(rows){;},',
'\tonListDraw: function(data,startIndex) {',
'if(A5.flags.isMobile) $e.add(this.contId+\'.CONTENT\',\'abstractdown\',function(e) {$e.preventDefault(e);});},',
'\tsynchronizeImmediately: false,',
'\tpushServerEditsToClient: false,',
'\tcustomization: {',
'\t\tdv: {',
'\t\t\tclientSideErrorWarning: \'Cannot save because there are validation errors.\',',
'\t\t\tdirtyDetailViewRecord: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'You must first save or undo the changes you have made to the List\\\'s Detail View.\'',
'\t\t\t},',
'\t\t\tconfirmFormResetWarning: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'Are you sure you want to undo changes made to the List\\\'s Detail View?\'',
'\t\t\t},',
'\t\t\tconfirmRowResetWarning: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'Are you sure you want to undo changes made to this record?\'',
'\t\t\t},',
'\t\t\tconfirmDeleteWarning: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'Are you sure you want to delete this record?\'',
'\t\t\t},',
'\t\t\twriteConflict: {',
'\t\t\t\tuseMineMessage: \'Use mine (\\\'{myvalue}\\\')\',',
'\t\t\t\tuseTheirsMessage: \'Use theirs (\\\'{theirvalue}\\\')\',',
'\t\t\t\tuseMineAll: \'Use mine for all fields\',',
'\t\t\t\tuseTheirsAll: \'Use theirs for all fields\'',
'\t\t\t},',
'\t\t\tdatabaseError: {',
'\t\t\t\tupdate: \'Record was not updated.|More...|Less\',',
'\t\t\t\tinsert: \'Record was not inserted.|More...|Less\',',
'\t\t\t\tdelete: \'Record was not deleted.|More...|Less\'',
'\t\t\t},',
'\t\t\tuseCustomClasses: false,',
'\t\t\tsetClassonEditedRows: true,',
'\t\t\tcss: {',
'\t\t\t}',
'\t\t}',
'\t},',
'\tonItemDraw: function(ele,data,index) {',
'\tvar _dirtyRowClassName = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRow\';',
'\tvar _dirtyRowClassNameInherited = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited\';',
'\tvar _dirtyRowStyle = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowStyle\';',
'\tvar _errorRowClassName = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_hasError\';',
'\tvar _errorRowClassNameInherited = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorInherited _{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited\';',
'\tvar _errorRowClassNameInherited_1 = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorInherited\';',
'\tvar _errorRowClassNameInherited_2 = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_dirtyRowInherited\';',
'\tvar _errorRowStyle = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_hasErrorStyle\';',
'\tvar _newRowClassName = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_newRow\';',
'\tvar _newRowStyle = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_newRowStyle\';',
'\tvar _deletedRowClassName = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRow\';',
'\tvar _deletedRowStyle = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRowStyle\';',
'\tvar _deletedRowClassNameInherited = \'_{UXPRERENDEREDALIAS}_LIST_TRIALS_deletedRowInherited\';',
'\tvar __d = this._rData[index];',
'\t$rcn(ele,_dirtyRowClassName);',
'\t$rcn(ele,_dirtyRowClassNameInherited);',
'\t$rcn(ele,_dirtyRowStyle);',
'\t$rcn(ele,_errorRowClassName);',
'\t$rcn(ele,_errorRowClassNameInherited);',
'\t$rcn(ele,_errorRowClassNameInherited_1);',
'\t$rcn(ele,_errorRowClassNameInherited_2);',
'\t$rcn(ele,_errorRowStyle);',
'\t$rcn(ele,_newRowClassName);',
'\t$rcn(ele,_newRowStyle);',
'\t$rcn(ele,_deletedRowClassName);',
'\t$rcn(ele,_deletedRowStyle);',
'\tif(data._isDirty && typeof data._isDeleted != \'undefined\' && data._isDeleted) { ',
'\t\t$acn(ele,_deletedRowClassName);',
'\t\t$acn(ele,_deletedRowStyle);',
'\t\t__d.__displayStyle = \'deletedRow\';',
'\t} else if (data._isDirty && typeof data._oldData != \'undefined\' && !data._isNewRow ) { ',
'\t\t$acn(ele,_dirtyRowClassName);',
'\t\t$acn(ele,_dirtyRowStyle);',
'\t\t__d.__displayStyle = \'dirtyRow\';',
'\t} ',
'\tif(data._isDirty && typeof data._oldData == \'undefined\' && ! (data._isNewRow || data._isDeleted) ) { ',
'\t\t$acn(ele,_dirtyRowClassNameInherited);',
'\t\t$acn(ele,_dirtyRowStyle);',
'\t\t__d.__displayStyle = \'dirtyRowInherited\';',
'\t} ',
'\tif(data._isDeleted) { ',
'\t\t$acn(ele,_deletedRowClassName);',
'\t\t$acn(ele,_deletedRowStyle);',
'\t\t__d.__displayStyle = \'deletedRow\';',
'\t} ',
'\tif(data._isNewRow) { ',
'\t\t$acn(ele,_newRowClassName);',
'\t\t$acn(ele,_newRowStyle);',
'\t\t__d.__displayStyle = \'newRow\';',
'\t} ',
'\tvar flagHasGlobalErrors = false;',
'\tif(typeof data._globalErrors != \'undefined\') {',
'\t\tif( data._globalErrors != \'\')  flagHasGlobalErrors = true;',
'\t}',
'\tvar flagHasWriteConflictErrors = false;',
'\tif(typeof data._hasWriteConflictErrors) flagHasWriteConflictErrors = data._hasWriteConflictErrors',
'\tif(data._hasServerSideError || flagHasGlobalErrors || flagHasWriteConflictErrors) {',
'\t\t$acn(ele,_errorRowClassName);',
'\t\t$acn(ele,_errorRowStyle);',
'\t\t__d.__displayStyle = \'errorRow\';',
'\t} else { ',
'\t\tif(data._flagServerSideErrorInChild || data._flagWriteConflictErrorInChild || data._flagGlobalErrorInChild ){',
'\t\t\t if(!data._isNewRow) {',
'\t\t\t \t$acn(ele,_errorRowClassNameInherited);',
'\t\t\t\t __d.__displayStyle = \'errorRowInherited\';',
'\t\t\t} else {',
'\t\t\t\t__d.__displayStyle = \'newRow errorRowInherited\'; ',
'\t\t\t\t$acn(ele, _errorRowClassNameInherited_1);',
'\t\t\t}',
'\t\t}',
'\t}},',
'\tchildLists: [],',
'\tchildListEndpoints: [\'LIST_TRIALS\'],',
'\t_populateAllChildLists: function() { },',
'\tonSelect: function() { this.populateUXControls();',
'this._selectedRow = this.selection[0];',
'{UXPRERENDEREDALIAS}_DlgObj._listRowSelect(\'LIST_TRIALS\',this);',
'},',
'\tonBeforeSelect: function() {',
'\tvar c = this.childLists;',
'\tvar lObj = \'\';',
'\tif(typeof c != \'undefined\') { ',
'\t\tfor(var i = 0; i < c.length; i++) {',
'\t\t\tlObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(c[i]);',
'\t\t\tif(lObj) {',
'\t\t\t\tvar flag = lObj.onBeforeSelect();',
'\t\t\t\tif(typeof flag != \'undefined\') { ',
'\t\t\t\t\tif(!flag) return false;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dvmode == \'search\') return true;',
'\tif(!this._autoCommitDetailView) { ',
'\t\treturn this._showDirtyDetailViewWarning(); ',
'\t} else { ',
'\t\tif(this.detailViewIsDirty(true)) { ',
'\t\t\tvar result =  this.updateListFromUXControls();  ',
'\t\t\treturn result;',
'\t\t}',
'\t}},',
'\tonClick: function() {',
'CWApp.populateDetailTabs({UXPRERENDEREDALIAS}_DlgObj);',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_TRIALDETAILS\', true);',
'{UXPRERENDEREDALIAS}_DlgObj._listSystemOnClick(\'LIST_TRIALS\',this.selection[0]);},',
'\tlayouts: {',
'\t\tDefault: {',
'\t\t\ttype: \'column\',',
'\t\t\tshowColumnTitles: false,',
'\t\t\titem: {',
'\t\t\t},',
'\t\t\tcolumns: [',
'\t\t\t\t{',
'\t\t\t\t\theader: {',
'\t\t\t\t\t\thtml: \'Summary\'',
'\t\t\t\t\t},',
'\t\t\t\t\tresize: false,',
'\t\t\t\t\tdata: {',
'\t\t\t\t\t\ttemplate: \'<span id="{UXPRERENDEREDALIAS}.LIST_TRIALS.SUMMARY.I.{*dataRow}">{{UXPRERENDEREDALIAS}_DlgObj._lsh(summary,\\\'LIST_TRIALS\\\',\\\'summary\\\')}</span>&nbsp;\'',
'\t\t\t\t\t},',
'\t\t\t\t\torder: \'summary\',',
'\t\t\t\t\twidth: \'flex(1)\'',
'\t\t\t\t}\t\t\t',
']',
'\t\t}',
'\t},',
'\tcontent: {',
'\t\theader: {',
'\t\t\tshow: false',
'\t\t},',
'\t\tfooter: {',
'\t\t\tshow: false',
'\t\t}',
'\t},',
'\tsystemEvents: {',
'\t\tonTap: function(e) {},',
'\t\tafterAjaxCallback: function(e) {},',
'\t\tafterClientSideFilter: function(e) {},',
'\t\tbeforeServerSideSort: function(e) {},',
'\t\tafterServerSideSort: function(e) {},',
'\t\tonSwipe: function(e) {},',
'\t\tonScroll: function(e) {},',
'\t\tonPullRelease: function(e) {},',
'\t\tonPull: function(e) {},',
'\t\tonPullEnd: function(e) {},',
'\t\tafterSearchComplete: function(e) {},',
'\t\tbeforeSearch: function(e) {},',
'\t\tonSearchResultTooLarge: function(e) {},',
'\t\tonSearchResultTooLargeForLocalStorage: function(e) {},',
'\t\tonBeforePersistToLocalStorage: function(e) {},',
'\t\tonPersistToLocalStorage: function(e) {},',
'\t\tonRestoreFromLocalStorage: function(e) {},',
'\t\tafterRenderComplete: function(e) {},',
'\t\tbeforeFetchMore: function(e) {},',
'\t\tafterFetchMore: function(e) {},',
'\t\tbeforePageNavigate: function(e) {},',
'\t\tafterPageNavigate: function(e) {},',
'\t\tbeforeRefreshRow: function(e) {},',
'\t\tafterRefreshRow: function(e) {},',
'\t\tafterServerSideSummaryCompute: function(summary) {},',
'\t\tdetailView: {',
'\t\t\tcanUpdateList: function(e) {},',
'\t\t\thasClientSideValidationErrors: function(e) {},',
'\t\t\tafterUpdateList: function(e) {},',
'\t\t\tcanSynchronizeList: function(e) {},',
'\t\t\tafterSynchronizeListBatch: function(e) {},',
'\t\t\tcanCancelBatch: function(e) {},',
'\t\t\tafterCancelBatch: function(e) {},',
'\t\t\tafterSynchronizeList: function(e) {},',
'\t\t\tbeforeSynchronizeListBatchStart: function(e) {},',
'\t\t\tafterSynchronizeListBatchEnd: function(e) {},',
'\t\t\tafterRefreshListIncremental: function(e) {},',
'\t\t\tcanResetRow: function(e) {},',
'\t\t\tcanDeleteRow: function(e) {},',
'\t\t\tcanUndoEdits: function(e) {},',
'\t\t\tafterResetRow: function(e) {},',
'\t\t\tafterDeleteRow: function(e) {},',
'\t\t\tafterUndoEdits: function(e) {},',
'\t\t\tcanNewRecord: function(e) {},',
'\t\t\tafterNewRecord: function(e) {},',
'\t\t\tafterDetailViewPopulate: function(e) {},',
'\t\t\tafterListRowSelectCancelled: function(e) {},',
'\t\t\tmodeChanged: function(e) {},',
'\t\t\tbeforeMediaFilesUploaded: function(e) {},',
'\t\t\tafterMediaFilesUploaded: function(e) {},',
'\t\t\tonMediaFilesUploadErrors: function(e) {},',
'\t\t\tbeforeMediaFilesDownloaded: function(e) {},',
'\t\t\tafterMediaFilesDownloaded: function(e) {},',
'\t\t\tbeforeDeleteOrphanMediaFiles: function(e) {},',
'\t\t\tafterDeleteOrphanMediaFiles: function(e) {}',
'\t\t},',
'\t\t_afterAjaxCallback: function() {this._refreshStateMessages();}',
'\t},',
'\t_clientsideSummary: [],',
'\tcomputeClientSideSummaryValues: function(e) {},',
'\t_executeEvent: function(event,obj) { ',
'\treturn {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_TRIALS\',event,obj);',
'}',
',',
'\t_selectAll: function() {',
'\tvar v = this._values;',
'\tvar v2 = [].concat(v);',
'\tthis.setValue(v2,false);',
'}',
',',
'\tsearchList: function() { ',
'\tif(this._searchPartStyle == \'querybyform\') { ',
'\t\tif(this._dvmode != \'search\') return false;',
'\t}',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse {',
'\t\t\tif(this._dataSourceType.toLowerCase() == \'sql\' || this._dataSourceType.toLowerCase() == \'dbf\') {',
'\t\t\t\tmode = \'serverside\';',
'\t\t\t} else { ',
'\t\t\t\tmode = \'clientside\';',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'search\', searchWhere: mode, listIsDirty: flagDirty});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._searchListServerSide(obj);',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilter();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'search\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_searchListServerSide: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar _d={};',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tif(flagDirty) { ',
'\t\talert(\'Can\\\'t execute server-side search because List has edits that have not yet been synchronized.\');',
'\t\treturn false;',
'\t}',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t_data = _data + \'&\' + A5.ajax.buildURLParam(\'__searchOptions\',JSON.stringify(obj));',
'\tthis.filter = false;',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPart\',\'\',_data);',
'}',
',',
'\tclearSearchList: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse mode = \'serverside\';',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'clear\', searchWhere: mode});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._clearSearchListServerSide();',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilterClear();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'clear\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_clearSearchListServerSide: function() { ',
'\tvar _d={};',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPartClear\',\'\',_data);',
'}',
',',
'\t_str: function(txt) {',
'\ttxt = txt.replace("\'","\\\\\'");',
'\ttxt = \'\\\'\' + txt + \'\\\'\';',
'\treturn txt;',
'}',
',',
'\t_QBF: function(txt) { ',
'\tvar o = {};',
'\to.v2 = \'\';',
'\to.v1 = txt;',
'\to.flag = false;',
'\tif(txt.indexOf(\'>=\') >= 0) {',
'\t\to.op = \'>=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<=\') >= 0 ) { ',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'>\') >= 0 ) {',
'\t\to.op = \'>\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<\') >= 0)  { ',
'\t\to.op = \'<\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') == 0)  {',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if ( txt.indexOf(\'..\', txt.length - \'..\'.length) !== -1 ) { ',
'\t\t//ends with ..',
'\t\to.op = \'>=\';',
'\t\ttxt = txt.split(\'..\')',
'\t\to.v1 = txt[0];',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') > 0 ) {',
'\t\to.op = \'between\'',
'\t\ttxt = txt.split(\'..\');',
'\t\to.v1 = txt[0];',
'\t\to.v2 = txt[1];',
'\t\to.flag = true;',
'\t}',
'\treturn o;',
'}',
',',
'\t_match: function(data,field,val,obj) { ',
'\tvar flagKeyword = false;',
'\tif(typeof obj.flagKeyword != \'undefined\') flagKeyword = obj.flagKeyword;',
'\tif(flagKeyword) { ',
'\t\tvar obj_i = this._searchFieldOptions[field.toUpperCase()];',
'\t\tthis._setSearchOps(obj,obj_i);',
'\t}',
'\tvar _d = \'\';',
'\tvar _v = val;',
'\tvar flagC = false;',
'\tif(obj.type == \'c\') {',
'\t\tflagC = true;',
'\t\tif(!obj.caseSensitive) _v = _v.toLowerCase();',
'\t} else { ',
'\t\t//non mumeric searches are only mode 1 or -1',
'\t\tif(obj.mode > 1) obj.mode = 1;',
'\t\tif(obj.mode < -1) obj.mode = -1;',
'\t}',
'\tvar flag = false;',
'\tobj.usesQBFOperator = false;',
'\tif(obj.qbf) { ',
'\t\t_v = _v.split(\',\');',
'\t} else {',
'\t\t_v = [_v];',
'\t}',
'\tvar o = {}',
'\tvar r = \'\';',
'\tvar _vals = [];',
'\tfor(var i = 0; i < _v.length; i++) { ',
'\t\tif(obj.qbf) {',
'\t\t\to = this._QBF(_v[i]);',
'\t\t} else {',
'\t\t\to.flag = false;',
'\t\t\to.v1 = _v[i];',
'\t\t\to.v2 = \'\';',
'\t\t}',
'\t\tif(typeof data[field] != \'undefined\') {',
'\t\t\tif(data[field] != null) { ',
'\t\t\t\t_d = data[field];',
'\t\t\t\tif(obj.type == \'n\') { ',
'\t\t\t\t\to.v1 = Number(o.v1);',
'\t\t\t\t\to.v2 = Number(o.v2);',
'\t\t\t\t\t_d = Number(_d);',
'\t\t\t\t} else if (obj.type == \'l\') { ',
'\t\t\t\t\to.v1 = $u.s.toBool(o.v1);',
'\t\t\t\t\to.v2 = $u.s.toBool(o.v2);',
'\t\t\t\t\t_d = $u.s.toBool(_d);',
'\t\t\t\t} else if (obj.type == \'d\') { ',
'\t\t\t\t\to.v1 = A5.stringToDate(o.v1,obj.dateFormat);',
'\t\t\t\t\to.v2 = A5.stringToDate(o.v2,obj.dateFormat);',
'\t\t\t\t\tif(typeof _d == \'string\') _d = A5.stringToDate(_d,obj.dateFormat);',
'\t\t\t\t\tif(o.v1 != \'\' && o.v1 != null ) o.v1 = o.v1.getTime();',
'\t\t\t\t\tif(o.v2 != \'\' && o.v2 != null ) o.v2 = o.v2.getTime();',
'\t\t\t\t\tif(_d != \'\' && _d != null ) _d = _d.getTime();',
'\t\t\t\t}',
'\t\t\t\tif(flagC) {if(!obj.caseSensitive && typeof _d == \'string\') _d = _d.toLowerCase();}',
'\t\t\t\tif(o.flag) { ',
'\t\t\t\t\t//has qbf operators',
'\t\t\t\t\tif(o.op == \'between\') {',
'\t\t\t\t\t\tif(flagC) {',
'\t\t\t\t\t\t\tif(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tif(flagC) _d = _d.substr(0,o.v1.length)',
'\t\t\t\t\t\tif(o.op == \'>=\') if( _d >= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<=\') if( _d <= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'>\') if(_d > o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<\') if(_d < o.v1) flag = true;',
'\t\t\t\t\t}',
'\t\t\t\t} else { ',
'\t\t\t\t\tif(obj.mode == 1 || obj.mode == -1 ) {',
'\t\t\t\t\t\tif(obj.mode == 1) if(_d == o.v1) flag = true;; //match',
'\t\t\t\t\t\tif(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match',
'\t\t\t\t\t} else if (obj.mode == 2 || obj.mode == -2) { ',
'\t\t\t\t\t\tif(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains',
'\t\t\t\t\t\tif(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;',
'\t\t\t\t\t} else if (obj.mode == 3 || obj.mode == -3) { ',
'\t\t\t\t\t\tif(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with',
'\t\t\t\t\t\tif(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v1 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v1) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v1);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v2 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v2) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v2);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(flag) { ',
'\t\tif(typeof this._state.highlight == \'undefined\') this._state.highlight = {};',
'\t\tthis._state.highlight[field.toUpperCase()] = _vals;',
'\t} else { ',
'\t\t//this._state.highlight[field.toUpperCase()] = [];',
'\t}',
'\treturn flag;',
'}',
',',
'\t_setSearchOps: function(obj,obj_i) { ',
'\tobj.mode = obj_i.option;',
'\tobj.qbf = obj_i.qbf;',
'\tobj.type = obj_i.type;',
'\t//obj.treatAs = obj_i.treatAs;',
'}',
',',
'\t_searchPartOperator: \'&&\',',
'\t_searchPartSubmit_clientSideFilter: function() { ',
'\tif(!this._searchPartHas) return true;',
'\t//_searchPartStyle: \'individualcontrols\'',
'\tthis._state.highlight = {};',
'\tif(this._searchPartStyle == \'singlekeywordcontrol\') { ',
'\t\tvar searchFor = {UXPRERENDEREDALIAS}_DlgObj.getValue(this._keywordSearchControl);',
'\t\tvar arr = this._keywordSearchFields;',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\t//obj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 1;',
'\t\tobj.flagKeyword = true;',
'\t\tvar objStr = JSON.stringify(obj)',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\texpn_i = \'this._match(data,\' +this._str(arr[i]) + \',\' + this._str(searchFor) + \',\'+objStr+\')\';',
'\t\t\texpn.push(expn_i);',
'\t\t}',
'\t\texpn = expn.join(\'||\');',
'\t\t//alert(expn);',
'\t} else if ( this._searchPartStyle == \'individualcontrols\' || this._searchPartStyle == \'querybyform\'  ) { ',
'\t\tvar map = this._searchPart.fieldMap;',
'\t\tvar val = \'\';',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\tobj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 2;',
'\t\t//var objStr = JSON.stringify(obj)',
'\t\tvar ac = [];',
'\t\tvar aco = {};',
'\t\tvar _highlight = {};',
'\t\tif(this._searchPartStyle == \'individualcontrols\') {',
'\t\t\tfor(var i = 0; i < map.length; i++) { ',
'\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(map[i].control);',
'\t\t\t\tif(val != \'\') {',
'\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(map[i].field) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t} else if (this._searchPartStyle == \'querybyform\' ) { ',
'\t\t\tvar controlName = \'\';',
'\t\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\t\tif(controlName != \'\') {',
'\t\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(controlName);',
'\t\t\t\t\tif(val != \'\') {',
'\t\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(this._listFields[i].name) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t\t\taco.control = controlName;',
'\t\t\t\t\t\taco.value = val;',
'\t\t\t\t\t\tac.push(aco);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis.__queryByFormValues = ac;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\t\t}\t',
'\t\tvar operator = \'&&\';',
'\t\tif(typeof this._searchPartOperator != \'undefined\') operator = this._searchPartOperator;',
'\t\texpn = expn.join(\' \'+operator+\' \');',
'\t} ',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = expn;',
'\t}',
'\t//user did not fill in any search fields',
'\tif(expn == \'\') return true;',
'\tvar fnTxt = \'if(\' + expn + \') {return true;} else { return false;}\'',
'\tvar searchFunction = new Function(\'data\',fnTxt);',
'\tthis.setFilter(searchFunction);',
'\tif(this._rData.length > 0) this.setValue(0);',
'}',
',',
'\t_searchPartSubmit_clientSideFilterClear: function() { ',
'if(!this._searchPartHas) return true;',
'\tthis._state.highlight = {};',
'\tthis.setFilter(false);',
'\tvar map = this._searchPart.fieldMap;',
'\tvar val = \'\';',
'\tvar od = {UXPRERENDEREDALIAS}_DlgObj.originalValues[0];',
'\tfor(var i = 0; i < map.length; i++) {',
'\t\tvar val = od[map[i].control.toUpperCase()];',
'\t\tif(typeof val != \'undefined\') {UXPRERENDEREDALIAS}_DlgObj.setValue(map[i].control,val,false);',
'\t}',
'\tthis.setFilter(false);',
'\tdelete this.__queryByFormValues;',
'\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\tif(this._data.length > 0) this.setValue(0);',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = \'\';',
'\t}',
'}',
',',
'\t_debugListData: function() { \t\tvar debugObj = this._data[this.selection[0]];',
'\t\tif(typeof debugObj == \'undefined\') {alert(\'no active row\'); return false;}',
'\t\t\tvar debugTxt = JSON.stringify(debugObj,\'\',\'\\t\'); ',
'\t\tdebugTxt = debugTxt.split(\'\\t\').join(\'    \'); ',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.LISTCLINICALTRIALS_DEBUGINFO\'); ',
'\t\tif(ele) {',
'\t\t\tele.innerHTML = \'<div style="color: blue;width: 100%; height: 100%;white-space: pre;border: solid 1px blue; padding: 2px;"></div>\';',
'\t\t\tele.firstChild.innerText = debugTxt; ',
'\t\t\tif(ele.firstChild.innerHTML == \'\')  { ele.firstChild.innerHTML = debugTxt }      ',
'\t\t}',
'},',
'\t_refreshDebugInfo: function() {},',
'\t_showSQL_CRUD: function(txt) { },',
'\t_globalErrorPlaceHolder: \'LISTCLINICALTRIALS_GLOBALERRORS\',',
'\tflagShowAlerts: true,',
'\tlookupValue: function(key,name,keyValue) {\tvar _d = this._data;',
'\tvar indx = A5FindPropInArray(_d,key,keyValue);',
'\tvar rv = \'\';',
'\tif(indx >=0) {',
'\t\tif(name == \'__rowData__\') return _d[indx];',
'\t\trv =  _d[indx][name];',
'\t} else {',
'\t\t//null out all properties in row',
'\t\tvar _d2 = {};',
'\t\tif(typeof _d[0] == \'undefined\') { return {}} ;',
'\t\tfor(var n in _d[0]) {',
'\t\t\t_d2[n] = \'&nbsp;\';',
'\t\t}',
'\t\trv = _d2;',
'\t}',
'\treturn rv;',
'}',
',',
'\tallowNullSelection: false,',
'\tallowNullDeselection: false,',
'\tloopNavigate: false,',
'\tloopNavigateNullSelection: false,',
'\trefreshChildLists: function() {{UXPRERENDEREDALIAS}_DlgObj._listRefreshCascadingLists(\'LIST_TRIALS\'); },',
'\trowExpander: function(rowNumber) { ',
'\tvar mode = typeof arguments[2] != \'undefined\' ? arguments[2] : \'toggle\';',
'\tif(typeof rowNumber == \'undefined\' || rowNumber == \'\' ) {',
'\t\trowNumber = this.selection[0];',
'\t\tif(typeof rowNumber == \'undefined\') return false;',
'\t}',
'\tvar animObj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\tvar ele = $(this._hostComponentId + \'.\' + this.listVariableName + \'.ROWEXPANDER.\' + rowNumber);',
'\tif(ele) {',
'\t\tif(mode == \'toggle\') A5.u.element.toggle(ele,animObj);',
'\t\tif(mode == \'show\') A5.u.element.show(ele,animObj);',
'\t\tif(mode == \'hide\') A5.u.element.hide(ele,animObj);',
'\t}',
'}',
',',
'\tafterClientSideSummaryCompute: function(csSummary) { },',
'\tselectCurrentLayout: function(name) { ',
'var pl = this.layouts[name];',
'if(typeof pl == \'undefined\') return false;',
'this.setLayout(name);',
'if(pl.type == \'column\') {',
'\tthis.columnLayout.header.show = this.layouts[name].showColumnTitles; ',
'\tthis.refresh();',
'}',
'},',
'\tonFilter: function() { \tvar e = {}; ',
'\te.rowCount = this._values.length;  ',
'\tvar ele = $(\'{UXPRERENDEREDALIAS}.__listId__.RECORDCOUNT\'); ',
'\tif(ele) {ele.innerHTML = e.rowCount;}; ',
'\tif(this.persistToStorage) { this.persistToStorage({});} ',
'\t(function(e) {   })(e);',
'}',
',',
'\tserverSideSort: function(column) {',
'var e = {};',
'e.column = column;',
'var result = this.systemEvents.beforeServerSideSort(e);',
'if(result == false) return false;',
'var obj = {};',
'obj.cmd = \'sort\';',
'obj.column = column;',
'obj.layoutName = this.layout;',
'obj.listState = this._state;',
'var data = \'_listId=LIST_TRIALS&\' + A5.ajax.buildURLParam(\'_cmdObj\',$u.o.toJSON(obj));',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:listServerSideSort\',\'\',data);',
'},',
'\tfilterListClientSide: function(searchFor) {',
'//var result = this.systemEvents.beforeClientSideFilter();',
'//if(result == false) return false;',
'if(searchFor != \'\') {',
'\t//fixes bug in Chrome when searching on dates strings that use forward slashes',
'\tsearchFor = searchFor.replace(/\\//g,\'\\\\/\');',
'\tthis.setFilter({\'summary\': RegExp(\'\' + searchFor,\'i\'), \'purpose\': RegExp(\'\' + searchFor,\'i\'), \'overview\': RegExp(\'\' + searchFor,\'i\'), \'eligibility\': RegExp(\'\' + searchFor,\'i\'), \'moreinfo\': RegExp(\'\' + searchFor,\'i\'), \'contact\': RegExp(\'\' + searchFor,\'i\')});',
'} else this.setFilter(false);',
'var rowCount = this._values.length;',
'//var e = {};',
'//e.rowCount = rowCount;',
'//this.systemEvents.afterClientSideFilter(e);',
'var ele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.RECORDCOUNT\');',
'if(ele) ele.innerHTML = rowCount;',
'}',
',',
'\tscrollToClosestValue: function(val) { \t',
'\tif(typeof val != \'string\') val = val.join(\'\');',
'\tvar flagCI = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\tvar pos = typeof arguments[2] != \'undefined\' ? arguments[2] : \'top\';',
'\tvar anim = typeof arguments[3] != \'undefined\' ? arguments[3] : {}',
'\tvar _d = this._rData;',
'\tvar len = val.length;',
'\tvar _d2;',
'\tvar i2 = -1;',
'\tif(flagCI) val = val.toLowerCase();',
'\tfor(var i = 0 ; i < _d.length; i++) {',
'\t\ti2 = i;',
'\t\t_d2 = String(_d[i][\'*value\']);',
'\t\t_d2 = _d2.substr(0,len);',
'\t\t_d2 = $u.s.pad(_d2,len,\' \',\'l\');',
'\t\tif(flagCI) _d2 = _d2.toLowerCase();',
'\t\tif(val <= _d2){',
'\t\t\t break;',
'\t\t}',
'\t}',
'\tif(i2 > -1) { ',
'\t\tthis.scrollToItem(i2,{mode: pos, animation: anim});',
'\t}',
'}',
',',
'\t_refreshStateMessages: function() {',
'\tvar ele = \'\';',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.PAGENUMBER\');',
'\tif(ele) ele.innerHTML = this._state.page;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.PAGECOUNT\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.PAGECOUNT.PAGESELECTOR\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;\t',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.LISTSTATE\');',
'\tif(ele) {',
'\t\tvar listState = $u.o.toJSON(this._state);',
'\t\tele.innerHTML = listState;',
'\t}',
'\t//navigation buttons\t',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_NEXT.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_LAST.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_FIRST.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_PREV.LIST_TRIALS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = $(\'{UXPRERENDEREDALIAS}.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LIST_TRIALS\');',
'\tif(ele) {',
'\t\tvar data = this._recordNavigatorLinks;',
'\t\tif(data) A5.form.populateSelect(ele,this._state.page,data,true);',
'\t}',
'}',
',',
'\tcolumnLayout: {',
'\t\theader: {',
'\t\t\tshow: false',
'\t\t}',
'\t},',
'\tview: {',
'\t\ttype: \'dynamic\',',
'\t\tsize: 15,',
'\t\tmaxSize: 0,',
'\t\toffset: 5,',
'\t\tnavigation: {',
'\t\t\tpull: {',
'\t\t\t\tallow: true,',
'\t\t\t\tsize: 15',
'\t\t\t},',
'\t\t\tprev: {',
'\t\t\t\thtml: \'Previous\'',
'\t\t\t},',
'\t\t\tnext: {',
'\t\t\t\thtml: \'Next\'',
'\t\t\t}',
'\t\t}',
'\t},',
'\tscroller: {',
'\t\thas: true,',
'\t\tflow: \'ttb\',',
'\t\tlocation: \'after\',',
'\t\toffset: {',
'\t\t\ttop: \'0px\',',
'\t\t\tbottom: \'0px\',',
'\t\t\tleft: \'0px\',',
'\t\t\tright: \'0px\'',
'\t\t},',
'\t\tslider: {',
'\t\t\thandle: {',
'\t\t\t},',
'\t\t\tshadow: {',
'\t\t\t\tshow: true',
'\t\t\t},',
'\t\t\tmessage: {',
'\t\t\t\tshow: \'auto\',',
'\t\t\t\tlowSwitch: 75,',
'\t\t\t\thighSwitch: 75',
'\t\t\t}',
'\t\t},',
'\t\tdial: {',
'\t\t\tshow: \'drag\',',
'\t\t\tinvertDrag: false,',
'\t\t\tmessage: {',
'\t\t\t},',
'\t\t\tpixelStep: 4,',
'\t\t\tsize: 2',
'\t\t},',
'\t\tshow: true',
'\t},',
'\t_getRoute: function() { ',
'\tvar obj  = typeof arguments[1] != \'undefined\' ? arguments[1] : [];',
'\tvar mode = typeof arguments[0] != \'undefined\' ? arguments[0] : \'rowNumber\'; //',
'\tif(typeof this.selection[0] == \'undefined\') return false;',
'\tif(typeof this.getData(this.selection[0]) == \'undefined\') return false;',
'\tif(mode == \'rowNumber\') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])[\'*key\']});',
'\telse obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tif(lObj) lObj._getRoute(mode,obj);',
'\t}',
'\treturn obj;',
'}',
',',
'\t_setRoute: function(route) { ',
'\tif(typeof route == \'undefined\') { ',
'\t\troute = this.__currentRoute;',
'\t\tif(typeof route == \'undefined\') return false;',
'\t}',
'\tvar lObj = \'\';',
'\tvar row = \'\';',
'\tfor(var i = 0; i < route.length; i++) {',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(route[i].list);',
'\t\trow = route[i].row;',
'\t\tvar flag = typeof this._restoringList != \'undefined\' ? !this._restoringList : true;',
'\t\tif(typeof row != \'undefined\') {',
'\t\t\tvar rowFixed = \'\';',
'\t\t\tif(typeof lObj._dataMap == \'undefined\') return false;',
'\t\t\t//var msg = JSON.stringify(lObj._dataMap);',
'\t\t\t//alert(\'route[i].row:\' + route[i].row + \' ------ \' + msg);',
'\t\t\trowFixed = lObj._dataMap.indexOf(route[i].row);',
'\t\t\tlObj.setValue(rowFixed,flag);',
'\t\t\tif(this._clearServerSideErrors) this._clearServerSideErrors();',
'\t\t\tif(this._showServerSideErrors) this._showServerSideErrors();',
'\t\t\tif(this._showWriteConflictErrors) this._showWriteConflictErrors();',
'\t\t}',
'\t}',
'}',
',',
'\t_useServerSideSyncLog: false,',
'\t_searchHighlighting: true,',
'\t_searchHighlightStyle: \'color: red;\'',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_TRIALS\'] = [];',
';',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ \t__dialogGuid: \'9e921e33-f3ab-4604-9aa6-b68ecb1341b8\', \t__dtfmt: \'MM/dd/yyyy\' });',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'LIST_TRIALS\'] =  { type: \'list\',  data: {UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_TRIALS\'],  settings: {UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_TRIALS\'] }',
'{UXPRERENDEREDALIAS}_DlgObj.setVariables({});',
'{UXPRERENDEREDALIAS}_DlgObj._dataBoundControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._primaryTableAlias = \'\';',
'{UXPRERENDEREDALIAS}_DlgObj._listControlsInfo = {};',
'{UXPRERENDEREDALIAS}_DlgObj._functions.__fillContainer_LIST_TRIALS = function() { ',
'\tvar rExp = new RegExp(\'^A5dlg[0-9]*\\.BODY\');',
'\tvar cEle = $(\'{UXPRERENDEREDALIAS}.V.R1.CONTAINER_LIST\');',
'\t//test to see if the container parent node is a window body. if so, then set the container to the window',
'\tif(rExp.test(cEle.parentNode.id)) {',
'\t\tvar pEle = cEle.parentNode;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_TRIALS\'].containerId = pEle.id;',
'\t\tpEle.innerHTML = \'\';',
'\t} else {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_TRIALS\'].containerId = cEle.id;',
'\t\t//blow away any existing content in the container',
'\t\tcEle.innerHTML = \'\';',
'\t}',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._functions.__fillContainer_LIST_TRIALS();',
'{UXPRERENDEREDALIAS}_DlgObj._hasPanels = true;',
'{UXPRERENDEREDALIAS}_DlgObj._hasOnSynchronizeEvent = false;',
'A5.__dtfmt = \'MM/dd/yyyy\';A5.__tfmt = \'\';',
'A5.__flagWorkingPreview = false;',
'A5.__flagIIS = false;',
'A5.__flagSimulateIIS = true;',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation = function() { ',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj == \'undefined\') return \'\';',
'\tvar orientation = {UXPRERENDEREDALIAS}_DlgObj.getOrientation();',
'\tif( orientation == \'landscape\') {',
'\t\t\t//landscape',
'\t\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'landscape\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'landscape\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'landscape\'});',
'\t\t\t}',
'\t} else {',
'\t\t//portrait',
'\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'portrait\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'portrait\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'portrait\'});',
'\t\t\t}',
'\t}',
'}',
'\tA5.flags.cordovaLoaded = true;',
'\ttry {',
'\t\tdocument.addEventListener(\'deviceready\', function() { ',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onCordovaReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onPhoneGapReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._cordovaReady = true;',
'\t\t\tnavigator.geolocation.getAccuratePosition = function(geolocationSuccess, geolocationError, options) {',
'\tvar _lastCheckedPosition = null;',
'\tvar _locationEventCount = 0;',
'\toptions = options || {};',
'\toptions.context = this;',
'    function _checkLocation(pos) {',
'        _lastCheckedPosition = pos;',
'        _locationEventCount++;',
'        if ((pos.coords.accuracy <= options.desiredAccuracy) && (_locationEventCount > options.ignoreResultCount)) {',
'            clearTimeout(_timerID);',
'            navigator.geolocation.clearWatch(_watchID);',
'            _foundPosition(pos);',
'        } ',
'    }',
'    function _stopLocationCheck() {',
'    \t var error = {};',
'    \t error.code = 0;',
'    \t error.message = \'Timeout: No results\';',
'        navigator.geolocation.clearWatch(_watchID);',
'        _lastCheckedPosition ? _foundPosition(_lastCheckedPosition) : geolocationError.call(options.context,error);',
'    }',
'    function _onError(error) {',
'        clearTimeout(_timerID);',
'        navigator.geolocation.clearWatch(_watchID);',
'        geolocationError.call(options.context,error);',
'    }',
'    function _foundPosition(pos) {',
'        geolocationSuccess.call(options.context,pos);',
'    }',
'    if (!options.maxWait) {            ',
'    \toptions.maxWait = 10000; ',
'    }\t',
'    if (!options.desiredAccuracy) {',
'    \t  options.desiredAccuracy = 20; ',
'    }',
'    if (!options.timeout) {',
'        options.timeout = options.maxWait;',
'\t }',
'\t if (!options.ignoreResultCount) {',
'\t \t\toptions.ignoreResultCount = 1;',
'\t }',
'    options.maximumAge = 0; ',
'    options.enableHighAccuracy = true; ',
'    var _watchID = navigator.geolocation.watchPosition(_checkLocation, _onError, options);',
'    var _timerID = setTimeout(_stopLocationCheck, options.maxWait); ',
'}',
'\t\t} , false);\t',
'\t}',
'\tcatch(err) {}',
'{UXPRERENDEREDALIAS}_DlgObj._waitGif = \'css/A5System/Images/wait.gif\';',
'var EXIF=(function(){var debug=false;var ExifTags={0x9000:"ExifVersion",0xA000:"FlashpixVersion",0xA001:"ColorSpace",0xA002:"PixelXDimension",0xA003:"PixelYDimension",0x9101:"ComponentsConfiguration",0x9102:"CompressedBitsPerPixel",0x927C:"MakerNote",0x9286:"UserComment",0xA004:"RelatedSoundFile",0x9003:"DateTimeOriginal",0x9004:"DateTimeDigitized",0x9290:"SubsecTime",0x9291:"SubsecTimeOriginal",0x9292:"SubsecTimeDigitized",0x829A:"ExposureTime",0x829D:"FNumber",0x8822:"ExposureProgram",0x8824:"SpectralSensitivity",0x8827:"ISOSpeedRatings",0x8828:"OECF",0x9201:"ShutterSpeedValue",0x9202:"ApertureValue",0x9203:"BrightnessValue",0x9204:"ExposureBias",0x9205:"MaxApertureValue",0x9206:"SubjectDistance",0x9207:"MeteringMode",0x9208:"LightSource",0x9209:"Flash",0x9214:"SubjectArea",0x920A:"FocalLength",0xA20B:"FlashEnergy",0xA20C:"SpatialFrequencyResponse",0xA20E:"FocalPlaneXResolution",0xA20F:"FocalPlaneYResolution",0xA210:"FocalPlaneResolutionUnit",0xA214:"SubjectLocation",0xA215:"ExposureIndex",0xA217:"SensingMethod",0xA300:"FileSource",0xA301:"SceneType",0xA302:"CFAPattern",0xA401:"CustomRendered",0xA402:"ExposureMode",0xA403:"WhiteBalance",0xA404:"DigitalZoomRation",0xA405:"FocalLengthIn35mmFilm",0xA406:"SceneCaptureType",0xA407:"GainControl",0xA408:"Contrast",0xA409:"Saturation",0xA40A:"Sharpness",0xA40B:"DeviceSettingDescription",0xA40C:"SubjectDistanceRange",0xA005:"InteroperabilityIFDPointer",0xA420:"ImageUniqueID"};var TiffTags={0x0100:"ImageWidth",0x0101:"ImageHeight",0x8769:"ExifIFDPointer",0x8825:"GPSInfoIFDPointer",0xA005:"InteroperabilityIFDPointer",0x0102:"BitsPerSample",0x0103:"Compression",0x0106:"PhotometricInterpretation",0x0112:"Orientation",0x0115:"SamplesPerPixel",0x011C:"PlanarConfiguration",0x0212:"YCbCrSubSampling",0x0213:"YCbCrPositioning",0x011A:"XResolution",0x011B:"YResolution",0x0128:"ResolutionUnit",0x0111:"StripOffsets",0x0116:"RowsPerStrip",0x0117:"StripByteCounts",0x0201:"JPEGInterchangeFormat",0x0202:"JPEGInterchangeFormatLength",0x012D:"TransferFunction",0x013E:"WhitePoint",0x013F:"PrimaryChromaticities",0x0211:"YCbCrCoefficients",0x0214:"ReferenceBlackWhite",0x0132:"DateTime",0x010E:"ImageDescription",0x010F:"Make",0x0110:"Model",0x0131:"Software",0x013B:"Artist",0x8298:"Copyright"};var GPSTags={0x0000:"GPSVersionID",0x0001:"GPSLatitudeRef",0x0002:"GPSLatitude",0x0003:"GPSLongitudeRef",0x0004:"GPSLongitude",0x0005:"GPSAltitudeRef",0x0006:"GPSAltitude",0x0007:"GPSTimeStamp",0x0008:"GPSSatellites",0x0009:"GPSStatus",0x000A:"GPSMeasureMode",0x000B:"GPSDOP",0x000C:"GPSSpeedRef",0x000D:"GPSSpeed",0x000E:"GPSTrackRef",0x000F:"GPSTrack",0x0010:"GPSImgDirectionRef",0x0011:"GPSImgDirection",0x0012:"GPSMapDatum",0x0013:"GPSDestLatitudeRef",0x0014:"GPSDestLatitude",0x0015:"GPSDestLongitudeRef",0x0016:"GPSDestLongitude",0x0017:"GPSDestBearingRef",0x0018:"GPSDestBearing",0x0019:"GPSDestDistanceRef",0x001A:"GPSDestDistance",0x001B:"GPSProcessingMethod",0x001C:"GPSAreaInformation",0x001D:"GPSDateStamp",0x001E:"GPSDifferential"};var StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0x0000:"Flash did not fire",0x0001:"Flash fired",0x0005:"Strobe return light not detected",0x0007:"Strobe return light detected",0x0009:"Flash fired, compulsory flash mode",0x000D:"Flash fired, compulsory flash mode, return light not detected",0x000F:"Flash fired, compulsory flash mode, return light detected",0x0010:"Flash did not fire, compulsory flash mode",0x0018:"Flash did not fire, auto mode",0x0019:"Flash fired, auto mode",0x001D:"Flash fired, auto mode, return light not detected",0x001F:"Flash fired, auto mode, return light detected",0x0020:"No flash function",0x0041:"Flash fired, red-eye reduction mode",0x0045:"Flash fired, red-eye reduction mode, return light not detected",0x0047:"Flash fired, red-eye reduction mode, return light detected",0x0049:"Flash fired, compulsory flash mode, red-eye reduction mode",0x004D:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",0x004F:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",0x0059:"Flash fired, auto mode, red-eye reduction mode",0x005D:"Flash fired, auto mode, return light not detected, red-eye reduction mode",0x005F:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function imageHasData(img){return!!(img.exifdata)}function findEXIFinJPEG(file){if(file.getByteAt(0)!=0xFF||file.getByteAt(1)!=0xD8){return false}var offset=2,length=file.getLength(),marker;while(offset<length){if(file.getByteAt(offset)!=0xFF){if(debug)console.log("Not a valid marker at offset "+offset+", found: "+file.getByteAt(offset));return false}marker=file.getByteAt(offset+1);if(marker==22400){if(debug)console.log("Found 0xFFE1 marker");return readEXIFData(file,offset+4,file.getShortAt(offset+2,true)-2)}else if(marker==225){if(debug)console.log("Found 0xFFE1 marker");return readEXIFData(file,offset+4,file.getShortAt(offset+2,true)-2)}else{offset+=2+file.getShortAt(offset+2,true)}}}function readTags(file,tiffStart,dirStart,strings,bigEnd){var entries=file.getShortAt(dirStart,bigEnd),tags={},entryOffset,tag,i;for(i=0;i<entries;i++){entryOffset=dirStart+i*12+2;tag=strings[file.getShortAt(entryOffset,bigEnd)];if(!tag&&debug)console.log("Unknown tag: "+file.getShortAt(entryOffset,bigEnd));tags[tag]=readTagValue(file,entryOffset,tiffStart,dirStart,bigEnd)}return tags}function readTagValue(file,entryOffset,tiffStart,dirStart,bigEnd){var type=file.getShortAt(entryOffset+2,bigEnd),numValues=file.getLongAt(entryOffset+4,bigEnd),valueOffset=file.getLongAt(entryOffset+8,bigEnd)+tiffStart,offset,vals,val,n,numerator,denominator;switch(type){case 1:case 7:if(numValues==1){return file.getByteAt(entryOffset+8,bigEnd)}else{offset=numValues>4?valueOffset:(entryOffset+8);vals=[];for(n=0;n<numValues;n++){vals[n]=file.getByteAt(offset+n)}return vals}case 2:offset=numValues>4?valueOffset:(entryOffset+8);return file.getStringAt(offset,numValues-1);case 3:if(numValues==1){return file.getShortAt(entryOffset+8,bigEnd)}else{offset=numValues>2?valueOffset:(entryOffset+8);vals=[];for(n=0;n<numValues;n++){vals[n]=file.getShortAt(offset+2*n,bigEnd)}return vals}case 4:if(numValues==1){return file.getLongAt(entryOffset+8,bigEnd)}else{vals=[];for(var n=0;n<numValues;n++){vals[n]=file.getLongAt(valueOffset+4*n,bigEnd)}return vals}case 5:if(numValues==1){numerator=file.getLongAt(valueOffset,bigEnd);denominator=file.getLongAt(valueOffset+4,bigEnd);val=new Number(numerator/denominator);val.numerator=numerator;val.denominator=denominator;return val}else{vals=[];for(n=0;n<numValues;n++){numerator=file.getLongAt(valueOffset+8*n,bigEnd);denominator=file.getLongAt(valueOffset+4+8*n,bigEnd);vals[n]=new Number(numerator/denominator);vals[n].numerator=numerator;vals[n].denominator=denominator}return vals}case 9:if(numValues==1){return file.getSLongAt(entryOffset+8,bigEnd)}else{vals=[];for(n=0;n<numValues;n++){vals[n]=file.getSLongAt(valueOffset+4*n,bigEnd)}return vals}case 10:if(numValues==1){return file.getSLongAt(valueOffset,bigEnd)/file.getSLongAt(valueOffset+4,bigEnd)}else{vals=[];for(n=0;n<numValues;n++){vals[n]=file.getSLongAt(valueOffset+8*n,bigEnd)/file.getSLongAt(valueOffset+4+8*n,bigEnd)}return vals}}}function readEXIFData(file,start){if(file.getStringAt(start,4)!="Exif"){if(debug)console.log("Not valid EXIF data! "+file.getStringAt(start,4));return false}var bigEnd,tags,tag,exifData,gpsData,tiffOffset=start+6;if(file.getShortAt(tiffOffset)==0x4949){bigEnd=false}else if(file.getShortAt(tiffOffset)==0x4D4D){bigEnd=true}else{if(debug)console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)");return false}if(file.getShortAt(tiffOffset+2,bigEnd)!=0x002A){if(debug)console.log("Not valid TIFF data! (no 0x002A)");return false}if(file.getLongAt(tiffOffset+4,bigEnd)!=0x00000008){if(debug)console.log("Not valid TIFF data! (First offset not 8)",file.getShortAt(tiffOffset+4,bigEnd));return false}tags=readTags(file,tiffOffset,tiffOffset+8,TiffTags,bigEnd);if(tags.ExifIFDPointer){exifData=readTags(file,tiffOffset,tiffOffset+tags.ExifIFDPointer,ExifTags,bigEnd);for(tag in exifData){switch(tag){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":exifData[tag]=StringValues[tag][exifData[tag]];break;case"ExifVersion":case"FlashpixVersion":exifData[tag]=String.fromCharCode(exifData[tag][0],exifData[tag][1],exifData[tag][2],exifData[tag][3]);break;case"ComponentsConfiguration":exifData[tag]=StringValues.Components[exifData[tag][0]]+StringValues.Components[exifData[tag][1]]+StringValues.Components[exifData[tag][2]]+StringValues.Components[exifData[tag][3]];break}tags[tag]=exifData[tag]}}if(tags.GPSInfoIFDPointer){gpsData=readTags(file,tiffOffset,tiffOffset+tags.GPSInfoIFDPointer,GPSTags,bigEnd);for(tag in gpsData){switch(tag){case"GPSVersionID":gpsData[tag]=gpsData[tag][0]+"."+gpsData[tag][1]+"."+gpsData[tag][2]+"."+gpsData[tag][3];break}tags[tag]=gpsData[tag]}}return tags}function getData(img,callback){if(!img.complete)return false;if(!imageHasData(img)){getImageData(img,callback)}else{if(callback){callback.call(img)}}return true}function getTag(img,tag){if(!imageHasData(img))return;return img.exifdata[tag]}function getAllTags(img){if(!imageHasData(img))return{};var a,data=img.exifdata,tags={};for(a in data){if(data.hasOwnProperty(a)){tags[a]=data[a]}}return tags}function pretty(img){if(!imageHasData(img))return"";var a,data=img.exifdata,strPretty="";for(a in data){if(data.hasOwnProperty(a)){if(typeof data[a]=="object"){if(data[a]instanceof Number){strPretty+=a+" : "+data[a]+" ["+data[a].numerator+"/"+data[a].denominator+"]\\r\\n"}else{strPretty+=a+" : ["+data[a].length+" values]\\r\\n"}}else{strPretty+=a+" : "+data[a]+"\\r\\n"}}}return strPretty}function readFromBinaryFile(file){return findEXIFinJPEG(file)}function BinaryFile(strData,iDataOffset,iDataLength){var data=strData;var dataOffset=iDataOffset||0;var dataLength=0;this.getRawData=function(){return data};if(typeof strData=="string"){dataLength=iDataLength||data.length;this.getByteAt=function(iOffset){return data.charCodeAt(iOffset+dataOffset)&0xFF};this.getBytesAt=function(iOffset,iLength){var aBytes=[];for(var i=0;i<iLength;i++){aBytes[i]=data.charCodeAt((iOffset+i)+dataOffset)&0xFF}return aBytes}}else if(typeof strData=="unknown"){dataLength=iDataLength||IEBinary_getLength(data);this.getByteAt=function(iOffset){return IEBinary_getByteAt(data,iOffset+dataOffset)};this.getBytesAt=function(iOffset,iLength){return new VBArray(IEBinary_getBytesAt(data,iOffset+dataOffset,iLength)).toArray()}}this.getLength=function(){return dataLength};this.getSByteAt=function(iOffset){var iByte=this.getByteAt(iOffset);if(iByte>127)return iByte-256;else return iByte};this.getShortAt=function(iOffset,bBigEndian){var iShort=bBigEndian?(this.getByteAt(iOffset)<<8)+this.getByteAt(iOffset+1):(this.getByteAt(iOffset+1)<<8)+this.getByteAt(iOffset);if(iShort<0)iShort+=65536;return iShort};this.getSShortAt=function(iOffset,bBigEndian){var iUShort=this.getShortAt(iOffset,bBigEndian);if(iUShort>32767)return iUShort-65536;else return iUShort};this.getLongAt=function(iOffset,bBigEndian){var iByte1=this.getByteAt(iOffset),iByte2=this.getByteAt(iOffset+1),iByte3=this.getByteAt(iOffset+2),iByte4=this.getByteAt(iOffset+3);var iLong=bBigEndian?(((((iByte1<<8)+iByte2)<<8)+iByte3)<<8)+iByte4:(((((iByte4<<8)+iByte3)<<8)+iByte2)<<8)+iByte1;if(iLong<0)iLong+=4294967296;return iLong};this.getSLongAt=function(iOffset,bBigEndian){var iULong=this.getLongAt(iOffset,bBigEndian);if(iULong>2147483647)return iULong-4294967296;else return iULong};this.getStringAt=function(iOffset,iLength){var aStr=[];var aBytes=this.getBytesAt(iOffset,iLength);for(var j=0;j<iLength;j++){aStr[j]=String.fromCharCode(aBytes[j])}return aStr.join("")};this.getCharAt=function(iOffset){return String.fromCharCode(this.getByteAt(iOffset))};this.toBase64=function(){return window.btoa(data)};this.fromBase64=function(strBase64){data=window.atob(strBase64)}}return{findEXIFinJPEG:findEXIFinJPEG,pretty:pretty,getTag:getTag,getAllTags:getAllTags,getData:getData,Tags:ExifTags,TiffTags:TiffTags,GPSTags:GPSTags,StringValues:StringValues,BinaryFile:BinaryFile}})();',
'(function(){function detectSubsampling(img){var iw=img.naturalWidth,ih=img.naturalHeight;if(iw*ih>1024*1024){var canvas=document.createElement(\'canvas\');canvas.width=canvas.height=1;var ctx=canvas.getContext(\'2d\');ctx.drawImage(img,-iw+1,0);return ctx.getImageData(0,0,1,1).data[3]===0}else{return false}}function detectVerticalSquash(img,iw,ih){var canvas=document.createElement(\'canvas\');canvas.width=1;canvas.height=ih;var ctx=canvas.getContext(\'2d\');ctx.drawImage(img,0,0);var data=ctx.getImageData(0,0,1,ih).data;var sy=0;var ey=ih;var py=ih;while(py>sy){var alpha=data[(py-1)*4+3];if(alpha===0){ey=py}else{sy=py}py=(ey+sy)>>1}var ratio=(py/ih);return(ratio===0)?1:ratio}function renderImageToDataURL(img,options){var canvas=document.createElement(\'canvas\');renderImageToCanvas(img,canvas,options);return canvas.toDataURL("image/jpeg",options.quality||0.8)}function renderImageToCanvas(img,canvas,options){var iw=img.naturalWidth,ih=img.naturalHeight;var width=options.width,height=options.height;var ctx=canvas.getContext(\'2d\');ctx.save();transformCoordinate(canvas,width,height,options.orientation);var subsampled=detectSubsampling(img);if(subsampled){iw/=2;ih/=2}var d=1024;var tmpCanvas=document.createElement(\'canvas\');tmpCanvas.width=tmpCanvas.height=d;var tmpCtx=tmpCanvas.getContext(\'2d\');var vertSquashRatio=detectVerticalSquash(img,iw,ih);var dw=Math.ceil(d*width/iw);var dh=Math.ceil(d*height/ih/vertSquashRatio);var sy=0;var dy=0;while(sy<ih){var sx=0;var dx=0;while(sx<iw){tmpCtx.clearRect(0,0,d,d);tmpCtx.drawImage(img,-sx,-sy);ctx.drawImage(tmpCanvas,0,0,d,d,dx,dy,dw,dh);sx+=d;dx+=dw}sy+=d;dy+=dh}ctx.restore();tmpCanvas=tmpCtx=null}function transformCoordinate(canvas,width,height,orientation){switch(orientation){case 5:case 6:case 7:case 8:canvas.width=height;canvas.height=width;break;default:canvas.width=width;canvas.height=height}var ctx=canvas.getContext(\'2d\');switch(orientation){case 2:ctx.translate(width,0);ctx.scale(-1,1);break;case 3:ctx.translate(width,height);ctx.rotate(Math.PI);break;case 4:ctx.translate(0,height);ctx.scale(1,-1);break;case 5:ctx.rotate(0.5*Math.PI);ctx.scale(1,-1);break;case 6:ctx.rotate(0.5*Math.PI);ctx.translate(0,-height);break;case 7:ctx.rotate(0.5*Math.PI);ctx.translate(width,-height);ctx.scale(-1,1);break;case 8:ctx.rotate(-0.5*Math.PI);ctx.translate(-width,0);break;default:break}}function MegaPixImage(srcImage){if(srcImage instanceof Blob){var img=new Image();var URL=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!URL){throw Error("No createObjectURL function found to create blob url");}img.src=URL.createObjectURL(srcImage);srcImage=img}if(!srcImage.naturalWidth&&!srcImage.naturalHeight){var _this=this;srcImage.onload=function(){var listeners=_this.imageLoadListeners;if(listeners){_this.imageLoadListeners=null;for(var i=0,len=listeners.length;i<len;i++){listeners[i]()}}};this.imageLoadListeners=[]}this.srcImage=srcImage}MegaPixImage.prototype.render=function(target,options){if(this.imageLoadListeners){var _this=this;this.imageLoadListeners.push(function(){_this.render(target,options)});return}options=options||{};var imgWidth=this.srcImage.naturalWidth,imgHeight=this.srcImage.naturalHeight,width=options.width,height=options.height,maxWidth=options.maxWidth,maxHeight=options.maxHeight;if(width&&!height){height=(imgHeight*width/imgWidth)<<0}else if(height&&!width){width=(imgWidth*height/imgHeight)<<0}else{width=imgWidth;height=imgHeight}if(maxWidth&&width>maxWidth){width=maxWidth;height=(imgHeight*width/imgWidth)<<0}if(maxHeight&&height>maxHeight){height=maxHeight;width=(imgWidth*height/imgHeight)<<0}var opt={width:width,height:height};for(var k in options)opt[k]=options[k];var tagName=target.tagName.toLowerCase();if(tagName===\'img\'){target.src=renderImageToDataURL(this.srcImage,opt)}else if(tagName===\'canvas\'){renderImageToCanvas(this.srcImage,target,opt)}if(typeof this.onrender===\'function\'){this.onrender(target)}};if(typeof define===\'function\'&&define.amd){define([],function(){return MegaPixImage})}else{this.MegaPixImage=MegaPixImage}})();',
'/*',
'Copyright (c) 2001, 2013 Alpha Software Corporation',
'All Rights Reserved.',
'This Javascript library is licensed exclusively for use with Alpha Anywhere, Alpha Five,',
'Alpha Five Application Server, Alpha Anywhere Application Server,',
'Alpha Five Run Engine, and Alpha Anywhere Run Engine. It is specifically',
'not licensed for use on a server that does not have installed on it a',
'licensed copy of the Alpha Five Application Server or the Alpha Anywhere Application Server.',
'*/',
'\t{UXPRERENDEREDALIAS}_DlgObj.imageCaptureUsingCamera = function(options) {',
'\t\toptions.specialMode = \'callback\';',
'\t\tthis.detailViewImageCapture(options);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewImageCapture = function(options) {',
'\t\tif(typeof options.specialMode == \'undefined\') options.specialMode = \'detailview\';',
'\t\tvar flagPhoneGapLoaded = false;',
'\t\tvar flagUseCordova = false;',
'\t\tif (typeof window[\'cordova\'] != \'undefined\') {',
'\t\t\tflagPhoneGapLoaded = true;',
'\t\t\tif(options.captureMethod == \'phonegappreferred\' || options.captureMethod == \'phonegap\') {',
'\t\t\t\tflagUseCordova = true;',
'\t\t\t}',
'\t\t}',
'\t\tif(options.captureMethod == \'phonegap\' && flagPhoneGapLoaded == false) {',
'\t\t\talert(\'PhoneGap not available\'); return false;',
'\t\t}',
'\t\tif(!flagUseCordova) {',
'\t\t\tthis.detailViewImageCaptureHTML5(options);',
'\t\t} else {',
'\t\t\tthis.detailViewImageCapturePhoneGap(options);',
'\t\t}',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewImageCaptureHTML5 = function(options) {',
'\t\tif(typeof options.specialMode == \'undefined\') options.specialMode = \'detailview\';',
'\t\tif(options.onBeforeCaptureJavascript) {',
'\t\t\tvar result = options.onBeforeCaptureJavascript.call();',
'\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\tif(!result) return false;',
'\t\t\t}',
'\t\t}',
'\t\tif(A5.flags.isAndroid == false) {',
'\t\t\tif(A5.flags.isIPhone || A5.flags.isIPad){',
'\t\t\t\tif (typeof A5.flags.iOSVersion != \'undefined\') {',
'\t\t\t\t\tvar majorNum = A5.flags.iOSVersion.split(\'.\')[0];',
'\t\t\t\t\tif(parseInt(majorNum) < 6) {',
'\t\t\t\t\t\talert(\'HTML5 camera access not supported on this version of iOS\');',
'\t\t\t\t\t\treturn false;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(A5.u.css.supportsTransition == false) {',
'\t\t\talert(\'Browser does not support HTML5 camera access\');',
'\t\t\treturn false;',
'\t\t}',
'\t\tif(typeof options.resizePolicyHTML5 == \'undefined\') options.resizePolicyHTML5 = \'Always\';',
'\t\toptions.resizePolicyHTML5 = options.resizePolicyHTML5.toLowerCase();',
'\t\tif(options.resizePolicyHTML5 != \'always\') {',
'\t\t\tvar maxSize = 99999999999;',
'\t\t\tif(typeof options.maxImageSizeHTML5 != \'undefined\') maxSize = Number(options.maxImageSizeHTML5);',
'\t\t}',
'\t\t//if(typeof options.resizeImageHTML5 == \'undefined\') options.resizeImageHTML5 = true;',
'\t\tvar ops = {};',
'\t\tops.dialogObj = this;',
'\t\tif(options.specialMode == \'callback\' ) {',
'\t\t\toptions.controlName = \'\';',
'\t\t}',
'\t \tops.targetImage = options.controlName;',
'\t \tops.targetImage = ops.targetImage.toUpperCase();',
'\t \tops.html5 = {};',
'\t \tops.html5.resizeFlag = options.resizeImageHTML5;',
'\t \tops.html5.compressionFactor = options.imageCompressionHTML5;',
'\t \tops.html5.maxWidth = options.maxImageWidth;',
'\t \tops.html5.maxHeight = options.maxImageHeight;',
'\t \tops.fieldPrefix = this.dialogId + \'.V.R1\';',
'\t \tops.imageFieldName = (ops.fieldPrefix + \'.\' + ops.targetImage).toUpperCase();',
'\t \tops.hiddenFileName =  (ops.fieldPrefix + \'.\' + ops.targetImage + \'_HIDDENA5FN\').toUpperCase();',
' \t\tops.handleFileSelect = function(evt) {',
'\t\t\t// creates a FileList object',
'\t\t\tvar files = evt.target.files;',
'\t\t\t// Even if multiple files are presented, only the first file will be uploaded.',
'\t\t\tif (!files.length){',
'\t\t\t\t// alerts should be ok here when fired by a timer',
'\t\t\t\tsetTimeout(function(){',
'\t\t\t\t\t//alert(\'<a5:r>No files selected.</a5:r>\');',
'\t\t\t\t},50);',
'\t\t\t\treturn false;',
'\t\t\t} else {',
'\t\t\t\t// we\'re processing only 1 file at this point',
'\t\t\t\tvar f = files[0];',
'\t\t\t\tops.updateImage(f);',
'\t\t\t}',
'\t\t}',
'\t\t$e.removeGroup(\'__detailViewImageCapture\')',
'\t\t$e.add($(this.dialogId + \'._GETPHOTO\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__detailViewImageCapture\');',
'\t\tops.updateImage = function(_thisFile) {',
'\t\t\tvar _sourceFileName = _thisFile.name;',
'\t\t\tvar _thisImageName = ops.imageFieldName;',
'\t\t\tvar _thisImage = $(_thisImageName);',
'\t\t\tvar reader = new FileReader();',
'\t\t\treader.onload = function(e) {',
'\t\t\t\tvar flagResize = false;',
'\t\t\t\tif(options.resizePolicyHTML5 == \'always\') {',
'\t\t\t\t\tflagResize = true;',
'\t\t\t\t} else {',
'\t\t\t\t\tif(e.target.result.length > maxSize) {',
'\t\t\t\t\t\tflagResize = true;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(!flagResize) {',
'\t\t\t\t\t//not resizing',
'\t\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t\t_thisImage.src = e.target.result;',
'\t\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\t\tif(eleH) eleH.src = _thisImage.src;',
'\t\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\t\t$sa(eleH,\'a5imageSourceName\',_sourceFileName);',
'\t\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t\t\tif(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : e.target.result});',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\toptions.onCaptureJavascript.call(this, {data : e.target.result});',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\t//resizing',
'\t\t\t\t\tif(options.displaySpinnerWhileResizingImage) {',
'\t\t\t\t\t\t_thisImage.src = options.spinnerURI.replace(/\\|/gi,\'/\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _orientation = ops.parseExifOrientation(e.target.result);',
'\t\t\t\t\tops.renderImgToCanvas(_thisFile,_orientation,_sourceFileName);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\treader.onerror = function(e) {',
'\t\t\t\tsetTimeout(function(){',
'\t\t\t\talert(\'<a5:r>Error reading file.</a5:r>\');',
'\t\t\t\t},0);',
'\t\t\t}',
'\t\t\treader.readAsDataURL(_thisFile);',
'\t\t}',
'\t\tops.parseExifOrientation = function(dataUrl) {',
'\t\t\ttry {',
'\t\t\t\tvar _byteString = atob(dataUrl.split(\',\')[1]);',
'\t\t\t\tvar _binaryFile = new EXIF.BinaryFile(_byteString, 0, _byteString.length);',
'\t\t\t\tvar _exif = EXIF.findEXIFinJPEG(_binaryFile);',
'\t\t\t\t// Store EXIF orientation (if available) in data property.',
'\t\t\t\tif (_exif && _exif[\'Orientation\']) {',
'\t\t\t\t\treturn _exif[\'Orientation\'];',
'\t\t\t\t} else {',
'\t\t\t\t\treturn null;',
'\t\t\t\t}',
'\t\t\t} catch (e) {',
'\t\t\t\t// Error parsing EXIF data.',
'\t\t\t\tconsole.log(\'Error loading EXIF data\', e);',
'\t\t\t}',
'\t\t}',
'\t\tops.renderImgToCanvas = function(_file,_orientation,_sourceFileName) {',
'\t\t\t// using megapix-image.js here which handles(?) sub-sampling issue with large images and Canvas on iOS6 Safari',
'\t\t\tvar mpImg = new MegaPixImage(_file);',
'\t\t\tmpImg.onrender = function(){',
'\t\t\t\t// this timeout required to ensure _thisCanvas render complete',
'\t\t\t\tsetTimeout(function(){',
'\t\t\t\t\tvar dataURL = _thisCanvas.toDataURL(\'image/jpeg\', ops.html5.compressionFactor);',
'\t\t\t\t\t//alert(\'html5 size after resizing image:\' + dataURL.length);',
'\t\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t\tvar ele = $(ops.imageFieldName);',
'\t\t\t\t\t\t//put the scaled image in the element',
'\t\t\t\t\t\tele.src = dataURL;',
'\t\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\t\tif(eleH) eleH.src = dataURL;',
'\t\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\t\t$sa(eleH,\'a5imageSourceName\',_sourceFileName);',
'\t\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t\t\tif(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : dataURL});',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\toptions.onCaptureJavascript.call(this, {data : dataURL});',
'\t\t\t\t\t}',
'\t\t\t\t},0);',
'\t\t\t}',
'\t\t\tvar _thisCanvas = document.createElement(\'canvas\');',
'\t\t\tvar ctx = _thisCanvas.getContext(\'2d\');',
'\t\t\t// adjust based on extracted _orientation',
'\t\t\tif (_orientation) {',
'\t\t\t\tmpImg.render(_thisCanvas,{maxWidth: ops.html5.maxWidth, maxHeight:ops.html5.maxHeight, orientation:_orientation});',
'\t\t\t} else {',
'\t\t\t\tmpImg.render(_thisCanvas,{maxWidth: ops.html5.maxWidth, maxHeight:ops.html5.maxHeight});',
'\t\t\t}',
'\t\t}',
'\t\t//click the hidden image control',
'\t\tvar ele = $(this.dialogId + \'._GETPHOTO\');',
'\t\tif (ele) {',
'\t\t\tele.value = \'\';',
'\t\t\tele.click();',
'\t\t}',
'\t}',
'\t/////\\\\\\\\\\',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewVideoCapturePhoneGap = function(opsIn) {',
'\t\t//ops.fieldPrefix = this.dialogId + \'.V.R1\';',
'\t\t//ops.videoFieldName = (ops.fieldPrefix + \'.\' + ops.controlName).toUpperCase();',
'\t\topsIn.dialogObj = this;',
'\t\tvar options = opsIn.options;',
'\t\tvar onSuccess = function(mediaFiles) { var e = {filename: mediaFiles[0].fullPath};',
'\t\t\tvar e_filename = e.filename;',
'\t\t\tif(e_filename.indexOf(\'file:\') != 0) {',
'\t\t\t\te_filename = e_filename.replace(\'/private\',\'file:\\/\\/\');',
'\t\t\t}',
'\t\t\tif(e_filename.indexOf(\'file:\') != 0 && e_filename.indexOf(\'.wav\') > 0) {',
'\t\t\t\te_filename = \'file:\\/\\/\' + e_filename;',
'\t\t\t\t//alert(e_filename);',
'\t\t\t}',
'\t\t\topsIn.dialogObj.setValue(opsIn.controlName,e_filename);',
'\t\t\t//var ele = $(ops.imageFieldName);',
'\t\t\t//if(ele) ele.src = thisImageURL;',
'\t\t\t//var eleH = $(ops.hiddenFileName);',
'\t\t\t//if(eleH) eleH.src = thisImageURL;',
'\t\t\t//$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\topsIn.dialogObj.refreshClientSideComputations();',
'\t\t};',
'\t\tvar onFailed = function() {',
'\t\t};',
'\t\tvar flagAudio = false;',
'\t\tif(typeof opsIn.audio != \'undefined\') flagAudio = opsIn.audio;',
'\t\tif(!flagAudio) {',
'\t\t\tnavigator.device.capture.captureVideo(onSuccess,onFailed,options);',
'\t\t} else {',
'\t\t\t//alert(\'audio\');',
'\t\t\t//debugger;',
'\t\t\tvar options = { limit: 1, duration: 10 };',
'\t\t\t//navigator.device.capture.captureAudio(captureSuccess, captureError, options);',
'\t\t\t//navigator.device.capture.captureAudio(onSuccess,onFailed,options);',
'\t\t\tvar _media = {',
'\t\t\t\trecorder: null,',
'\t\t\t\trecFile: \'myaudio/myrecording3.amr\'  //if device.platform is \'Android\' then use .amr, otherwise .wav',
'\t\t\t}',
'\t\t\tfunction captureStatus(e) {',
'\t\t\t\tconsole.log(\'status....\' + JSON.stringify(e));',
'\t\t\t}',
'\t\t\tvar onSuccessAudio = function() {',
'\t\t\t\tconsole.log(\'try to play it now\');',
'\t\t\t\tsetTimeout(function() { _media.recorder.play(); },1000);',
'\t\t\t\t//var e_filename = _media.recFile;',
'\t\t\t\t//opsIn.dialogObj.setValue(opsIn.controlName,e_filename);',
'\t\t\t\t//opsIn.dialogObj.refreshClientSideComputations();',
'\t\t\t};',
'\t\t\t_media.recorder = new Media(_media.recFile,onSuccessAudio,onFailed,captureStatus);',
'\t\t\tconsole.log(\'about to record\');',
'\t\t\t_media.recorder.startRecord();',
'\t\t\tconsole.log(\'start\');',
'\t\t\tsetTimeout(function() { console.log(\'stop\'); _media.recorder.stopRecord();  },5000);',
'\t\t\t//_media.recorder.play();',
'\t\t}',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewImageCapturePhoneGap =  function(options) {',
'\t\tvar flagCustomOnError = false;',
'\t\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents != \'undefined\') flagCustomOnError = {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents;',
'\t\tif(!flagCustomOnError) window.onerror = function(err) { alert(\'Unhandled Javascript Error - phoneGapImageCapture:  \' + JSON.stringify(err));}',
'\t\tif(options.onBeforeCaptureJavascript) {',
'\t\t\tvar result = options.onBeforeCaptureJavascript.call();',
'\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\tif(!result) return false;',
'\t\t\t}',
'\t\t}',
'\t\tif (typeof window[\'cordova\'] == \'undefined\') {',
'\t\t\talert(\'PhoneGap not loaded\');',
'\t\t\treturn false;',
'\t\t}',
'\t\tif(typeof options.imageSelectionCanceledMessage == \'undefined\') options.imageSelectionCanceledMessage = \'Image Selection Canceled\';',
'\t\tif(typeof options.imageSelectionCanceledButton == \'undefined\') options.imageSelectionCanceledButton = \'Done\';',
'\t\tif(typeof options.cameraCanceledMessage == \'undefined\') options.cameraCanceledMessage = \'Camera Action Canceled\';',
'\t\tif(typeof options.cameraCanceledButton == \'undefined\') options.cameraCanceledButton = \'Done\';',
'\t\tvar maxSize = -1;',
'\t\tif(typeof options.maxImageSizePhoneGap != \'undefined\') maxSize = Number(options.maxImageSizePhoneGap);',
'\t\tif(maxSize == -1) maxSize = 9999999999;',
'\t\tif(typeof options.specialMode == \'undefined\') options.specialMode = \'detailview\';',
'\t\tvar ops = {};',
'\t\tops.dialogObj = this;',
'\t\tif(options.specialMode == \'callback\') {',
'\t\t\toptions.controlName = \'\';',
'\t\t}',
'\t\tops.targetImage = options.controlName.toUpperCase();',
'\t\tops.cordova = {};',
'\t\tops.cordova.pictureSourceVal = options.pictureSourceVal;',
'\t\tops.cordova.imageQuality = options.imageQualityPhonegap;',
'\t\tops.cordova.allowEdit = options.allowPictureEditing',
'\t\tops.cordova.targetWidth = options.maxImageWidth;',
'\t\tops.cordova.targetHeight = options.maxImageHeight;',
'\t\tops.cordova.saveToPhotoAlbum = options.saveToPhotoAlbum',
'\t\tops.cordova.iPadEleId = \'\';',
'\t\tops.fieldPrefix = this.dialogId + \'.V.R1\';',
'\t\tops.imageFieldName = (ops.fieldPrefix + \'.\' + ops.targetImage).toUpperCase();',
'\t\tops.hiddenFileName = (ops.fieldPrefix + \'.\' + ops.targetImage + \'_HIDDENA5FN\').toUpperCase();',
'\t\tops.onCameraSuccess = function(imageURI) {',
'\t\t\tif(typeof options.captureDataMode == \'undefined\') options.captureDataMode = \'base64\';',
'\t\t\ttry {',
'\t\t\t    var iOps = JSON.parse(imageURI);',
'\t\t\t    var filename = iOps.filename;',
'\t\t\t    var metadata = iOps.json_metadata;',
'\t\t\t    var iMD = JSON.parse(metadata);',
'\t\t\t    if(typeof iMD.GPS != \'undefined\') {',
'\t\t\t    \t//running on iOS',
'\t\t\t    \tvar gpsObj = {};',
'\t\t\t    \tgpsObj.latitude = iMD.GPS.Latitude;',
'\t\t\t    \tgpsObj.longitude = iMD.GPS.Longitude;',
'\t\t\t    \tif(iMD.GPS.LongitudeRef == \'W\') gpsObj.longitude = Number(gpsObj.longitude) * -1;',
'\t\t\t    \tif(iMD.GPS.LatitudeRef == \'S\') gpsObj.latitude = Number(gpsObj.latitude) * -1;',
'\t\t\t    \tgpsObj.altitude = iMD.GPS.Altitude;',
'\t\t\t    \tgpsObj.dateTime = iMD.GPS.DateStamp + \' \' + iMD.GPS.TimeStamp;',
'\t\t\t    \tgpsObj.ExifJSON = metadata;',
'\t\t\t    } else {',
'\t\t\t    \t//android',
'\t\t\t    \tvar latRaw = iMD.gpsLatitude;   //":"42/1,28/1,50093/1000",',
'\t\t\t    \tvar latRef = iMD.gpsLatitudeRef;  //":"N",',
'\t\t\t    \tvar lngRaw = iMD.gpsLongitude; //":"71/1,12/1,16183/1000",',
'\t\t\t    \tvar lngRef = iMD.gpsLongitudeRef; //":"W",',
'\t\t\t    \tvar altRaw = iMD.gpsAltitude;',
'\t\t\t    \tvar altRef = iMD.gpsAltitudeRef;',
'\t\t\t    \tops.fixGPS = function(raw,ref) {',
'\t\t\t    \t\t//alert( \' raw: \' + raw + \' ref: \' + ref);',
'\t\t\t    \t\tif(raw == null) return null;',
'\t\t\t\t\t\tvar lat_d, lat_m, lat_s, lat;',
'\t\t\t\t\t\tlat_d = eval(raw.split(\',\')[0]);',
'\t\t\t\t\t\tlat_m = eval(raw.split(\',\')[1]) * ( 1/60);',
'\t\t\t\t\t\tlat_s = eval(raw.split(\',\')[2]) * ( 1/60);',
'\t\t\t\t\t\tlat = Number(lat_d) + Number(lat_m) + Number(lat_s);',
'\t\t\t\t\t\tif(ref != null) {',
'\t\t\t\t\t\t\tif(ref.toUpperCase() == \'S\') lat = Number(lat) * -1;',
'\t\t\t\t\t\t\tif(ref.toUpperCase() == \'W\') lat = Number(lat) * -1;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\treturn lat;',
'\t\t\t    \t}',
'\t\t\t    \tvar lat = ops.fixGPS(latRaw,latRef);',
'\t\t\t    \tvar lng = ops.fixGPS(lngRaw,lngRef);',
'\t\t\t    \tvar alt = ops.fixGPS(altRaw,altRef);',
'\t\t\t    \tvar gpsObj = {};',
'\t\t\t\t\tgpsObj.latitude = lat;',
'\t\t\t\t\tgpsObj.longitude = lng;',
'\t\t\t\t\tgpsObj.altitude = alt;',
'\t\t\t\t\tgpsObj.dateTime = iMD.datetime;',
'\t\t\t\t\tgpsObj.ExifJSON = metadata;',
'\t\t\t    }',
'\t\t\t    options.EXIF = gpsObj;',
'\t\t\t    ops._moveFile(filename);',
'\t\t\t  \t//gets called by ops._move()',
'\t\t\t    //window.resolveLocalFileSystemURL(filename,ops.fsOK,ops.fsError);',
'\t\t\t} catch(err) {',
'\t\t\t\t//if you get here then you were not using the AA camera plugin, so EXIF info is not available',
'\t\t\t\tops._moveFile(imageURI);',
'\t\t\t\t//gets called by ops._move()',
'\t\t\t    //window.resolveLocalFileSystemURL(imageURI,ops.fsOK,ops.fsError);',
'\t\t\t}',
'\t\t}',
'\t\tops._moveFile = function(filename) {',
'\t\t\tvar flagMove = false;',
'\t\t\tif(typeof options.phonegapMoveFileToPermanentStorage != \'undefined\') flagMove = options.phonegapMoveFileToPermanentStorage;',
'\t\t\tif(flagMove) {',
'\t\t\t\tvar _dir = {UXPRERENDEREDALIAS}_DlgObj.phoneGapGetLocalDirURL(options.phonegapFileSystemType);',
'\t\t\t\tvar _onFolderEnsured = function() {',
'\t\t\t\t\tvar objFn = A5.parseFilename(filename);',
'\t\t\t\t\tvar extension = objFn.name.split(\'.\');',
'\t\t\t\t\textension = extension[extension.length-1];',
'\t\t\t\t\tvar targetName = A5.UUID() + \'.\' + extension;',
'\t\t\t\t\tvar subfolder = \'\';',
'\t\t\t\t\tif(options.phonegapPermanentStorageFolder != \'\') {',
'\t\t\t\t\t\tsubfolder = options.phonegapPermanentStorageFolder + \'/\';',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _moveOK = function() {',
'\t\t\t\t\t\tvar fn = _dir + subfolder + targetName;',
'\t\t\t\t\t\twindow.resolveLocalFileSystemURL(fn,ops.fsOK,ops.fsError);',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _moveFail = function(e) {',
'\t\t\t\t\t\talert(\'Move error: \'+e.code);',
'\t\t\t\t\t}',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapMoveFileURL(filename,_dir, subfolder + targetName,_moveOK,_moveFail)',
'\t\t\t\t}',
'\t\t\t\tvar _onError = function() {',
'\t\t\t\t\talert(\'could not create folder\');',
'\t\t\t\t}',
'\t\t\t\tif(options.phonegapPermanentStorageFolder != \'\') {',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapEnsureDirPathURL(_dir, options.phonegapPermanentStorageFolder, _onFolderEnsured, _onError)',
'\t\t\t\t} else {',
'\t\t\t\t\t//storing in the root of the requested filesystem --',
'\t\t\t\t\t_onFolderEnsured();',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\t//do not need to move the file',
'\t\t\t\twindow.resolveLocalFileSystemURL(filename,ops.fsOK,ops.fsError);',
'\t\t\t}',
'\t\t}',
'\t\tops.onImageSelectFail = function(msg) {',
'\t\t\tnavigator.notification.alert(msg,null,options.imageSelectionCanceledMessage,options.imageSelectionCanceledButton);',
'\t\t}',
'\t\tops.onCameraCaptureFail = function(msg) {',
'\t\t\tnavigator.notification.alert(msg,null,options.cameraCanceledMessage,options.cameraCanceledButton);',
'\t\t}',
'\t\tops.fsOK = function(fileEntry) {',
'\t\t\t// HTML5 File system available as fileEntry',
'\t\t\t// Using standard HTML5 file handling here',
'\t\t\t// get fileEntry URL for upload',
'\t\t\tvar thisImageURL = fileEntry.toURL();',
'\t\t\tif(options.captureDataMode == \'filename\') {',
'\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t//better be - only mode we are supporting for \'filename\'',
'\t\t\t\t\tvar ele = $(ops.imageFieldName);',
'\t\t\t\t\tif(ele) ele.src = thisImageURL;',
'\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\tif(eleH) eleH.src = thisImageURL;',
'\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\tvar exifData = \'\';',
'\t\t\t\t\tif(typeof options.EXIF != \'undefined\') exifData = JSON.stringify(options.EXIF);',
'\t\t\t\t\t$sa(eleH,\'a5EXIF\',exifData);',
'\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\tfileEntry.file(function(file){',
'\t\t\t\t\tvar reader = new FileReader();',
'\t\t\t\t\treader.onloadend = function(e) {',
'\t\t\t\t\t\t// this is Base64 encoded',
'\t\t\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t\t\tvar ele = $(ops.imageFieldName);',
'\t\t\t\t\t\t\tif(ele) ele.src = e.target.result;',
'\t\t\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\t\t\tif(eleH) eleH.src = e.target.result;',
'\t\t\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t\t\t\tif(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : e.target.result, fileSystemURL: fileEntry.nativeURL, options: options});',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\toptions.onCaptureJavascript.call(this, {data : e.target.result, fileSystemURL: fileEntry.nativeURL, options: options});  //pass in options so that the user defined callback js can reference options (which has the exif data in it)',
'\t\t\t\t\t\t}',
'\t\t\t\t\t};',
'\t\t\t\t\treader.onerror = function(e) {',
'\t\t\t\t\t\tnavigator.notification.alert(\'<a5:r>File reader error</a5:r>\');',
'\t\t\t\t\t};',
'\t\t\t\t\treader.readAsDataURL(file);',
'\t\t\t\t},function(error) {',
'\t\t\t\t\tnavigator.notification.alert(\'<a5:r>Image file read error</a5:r>\');',
'\t\t\t\t});',
'\t\t\t}',
'\t\t}',
'\t\tops.fsError = function() {',
'\t\t\tnavigator.notification.alert(\'<a5:r>Local File system unavailable.</a5:r>\');',
'\t\t}',
'\t\t// Calculate positioning for iPad popup menu if applicable',
'\t\tvar cordovaPopoverOptions = null;',
'\t\t\tif (ops.cordova.iPadEleId.length > 0) {',
'\t\t\tvar ele = $(ops.cordova.iPadEleId);',
'\t\t\tif (ele) {',
'\t\t\t\tvar rect = ele.getBoundingClientRect();',
'\t\t\t\tvar x = rect.left;',
'\t\t\t\tvar y = rect.top;',
'\t\t\t\tvar w = rect.right - rect.left;',
'\t\t\t\tvar h = rect.bottom - rect.top;',
'\t\t\t\tcordovaPopoverOptions = new CameraPopoverOptions(x,y,w,h,15);',
'\t\t\t}',
'\t\t}',
'\t\t// These options define all of the objects functionality',
'\t\tvar cordovaOptions = {',
'\t\t\tquality: Number(ops.cordova.imageQuality),',
'\t\t\tallowEdit: ops.cordova.allowEdit,',
'\t\t\tsourceType: Number(ops.cordova.pictureSourceVal),',
'\t\t\tcorrectOrientation: true,',
'\t\t\tdestinationType: 1,',
'\t\t\ttargetWidth: Number(ops.cordova.targetWidth),',
'\t\t\ttargetHeight: Number(ops.cordova.targetHeight),',
'\t\t\tsaveToPhotoAlbum: ops.cordova.saveToPhotoAlbum,',
'\t\t\tpopoverOptions: cordovaPopoverOptions,',
'\t\t\tencodingType: Camera.EncodingType.JPEG',
'\t\t}',
'\t\tif (cordovaOptions.sourceType != 1) {',
'\t\t\tcordovaOptions.saveToPhotoAlbum = false;',
'\t\t\tnavigator.camera.getPicture(ops.onCameraSuccess, ops.onImageSelectFail,cordovaOptions);',
'\t\t} else {',
'\t\t\tnavigator.camera.getPicture(ops.onCameraSuccess, ops.onCameraCaptureFail,cordovaOptions);',
'\t\t}',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj._abortS3Upload = function(__guid,number,rowId) {',
'\t\tvar arrS3 = {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'arrS3\'];',
'\t\tvar options = {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'options\'];',
'\t\tvar _dlgObj = {UXPRERENDEREDALIAS}_DlgObj;',
'\t\tvar _xhr = arrS3[number].xhr;',
'\t\t_xhr.abort();',
'\t\tarrS3[number].aborted = true;',
'\t\tif(typeof rowId != \'undefined\') {',
'\t\t\tvar ele = $(rowId);',
'\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t}',
'\t\t//uploadCompleteFunction',
'\t\tvar ops = {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'ops\'];',
'\t\t//fire the onComplete events',
'\t\tvar flagAllCompleted = false;',
'\t\tvar c = 0;',
'\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\tif(arrS3[i].completed == true || arrS3[i].aborted == true) c = c+1;',
'\t\t}',
'\t\tif(c == arrS3.length) flagAllCompleted = true;',
'\t\tvar f = arrS3[number];',
'\t\tvar e = {',
'\t\t\tname: f.name,',
'\t\t\ttype: f.type,',
'\t\t\tsize: f.size,',
'\t\t\taborted: f.aborted,',
'\t\t\tnumber: number,',
'\t\t\tfileArray: arrS3,',
'\t\t\ttargetName: arrS3[number].targetName',
'\t\t}',
'\t\toptions.onCompleteFile(e);',
'\t\tif(flagAllCompleted) {',
'\t\t\toptions.onCompleteAllFiles(e);',
'\t\t\tif(options.displayProgress) {',
'\t\t\t\tvar eleP = $(_dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder);',
'\t\t\t\tif(eleP) eleP.style.display = \'none\';',
'\t\t\t}',
'\t\t\tdelete {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid];',
'\t\t}',
'\t\t//end onComplete events',
'\t}',
'\t/////////////////////////////////////////////////////////////////////////',
'\t{UXPRERENDEREDALIAS}_DlgObj.fileUploadAmazonS3 = function(options) {',
'\t\tvar eleB = \'\';',
'\t\tvar _dlgObj = this;',
'\t\tvar _part = options.part;',
'\t\tdelete ops;',
'\t\tvar ops = {};',
'\t\tif(typeof options.onBeforeFileSelect == \'function\') {',
'\t\t\tvar result = options.onBeforeFileSelect();',
'\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\tif(!result) return false;',
'\t\t\t}',
'\t\t}',
'\t\tops.formatNum = function(num) {',
'\t\t\tvar suffix = \'Kb\';',
'\t\t \tif(num >= 1000000) {',
'\t\t \t\tnum = num/1000000;',
'\t\t \t\tsuffix = \'Mb\';',
'\t\t\t} else if(num >= 1000) {',
'\t\t\t \tnum = num / 1000;',
'\t\t\t \tsuffix = \'Kb\';',
'\t\t\t} else {',
'\t\t\t   suffix = \'bytes\'',
'\t\t\t  }',
'\t\t\tnum = Math.round(num * 100) / 100;',
'\t\t\tnum = Number(num);',
'\t\t\treturn (num).toLocaleString() + suffix;',
'\t\t}',
'\t\tops.setProgress = function(percent,message,objS3) {',
'\t\t\t//fire system onProgress events',
'\t\t\tif(options.displayProgress) {',
'\t\t\t\tvar i = objS3.number;',
'\t\t\t\t//id_i = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder + \'.\' + (i+1);',
'\t\t\t\tid_i = options.resolvedProgressPlaceholder + \'.\' + (i+1);',
'\t\t\t\tvar ep = $(id_i);',
'\t\t\t\tif(ep) {',
'\t\t\t\t\tif(options.progressStyle == \'text\') ep.innerHTML = percent + \'%\';',
'\t\t\t\t\telse ep.style.width = percent + \'%\';',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tvar e = {',
'\t\t\t\tpercent: percent,',
'\t\t\t\tmessage: message,',
'\t\t\t\tname: objS3.name,',
'\t\t\t\ttargetName: objS3.targetName,',
'\t\t\t\tnumber: objS3.number,',
'\t\t\t\tsize: objS3.size,',
'\t\t\t\ttype: objS3.type',
'\t\t\t}',
'\t\t\tif(typeof objS3.userProgressFunction == \'function\') objS3.userProgressFunction(e);;',
'\t\t}',
'\t\tops.createCORSRequest = function(method, url) {',
'  \t\t\tvar xhr = new XMLHttpRequest();',
'\t\t\t // "withCredentials" only exists on XHR2 objects',
'  \t\t\tif ("withCredentials" in xhr) {',
'  \t\t\t\ttry {',
'    \t\t\t\txhr.open(method, url, true);',
'    \t\t\t} catch(err) {',
'    \t\t\t\talert(\'XHR error - could not open XHR object. This action is not supported in Working Preview if you are using Internet Explorer. Try using Chrome Working Preview.\');',
'    \t\t\t\treturn false;',
'    \t\t\t}',
'\t\t\t} else if (typeof XDomainRequest != "undefined") {',
'\t\t\t    // XDomainRequest only exists in IE',
'    \t\t\txhr = new XDomainRequest();',
'\t\t\t    xhr.open(method, url);',
'  \t\t\t} else {',
'\t\t\t  \t// CORS not supported by this browser',
'    \t\t\txhr = null;',
'\t\t\t  }',
'\t\t  return xhr;',
'\t\t}',
'\t\tops.uploadToS3 = function(file, url, objS3) {',
'\t\t\tvar targetServer = objS3.targetServer;',
'\t\t\tif(typeof targetServer == \'undefined\') targetServer = \'S3\';',
'\t\t\tif(targetServer.toUpperCase() == \'S3\') {',
'\t\t\t\tvar xhr = ops.createCORSRequest(\'PUT\', url);',
'\t\t\t} else {',
'\t\t\t\t//alpha server',
'\t\t\t\tvar additionalInfo = \'\';',
'\t\t\t\tif(typeof options.additionalInfo == \'function\') {',
'\t\t\t\t\tadditionalInfo = options.additionalInfo.call();',
'\t\t\t\t}',
'\t\t\t\tadditionalInfo = A5.ajax.buildURLParam(\'__additionalInfo\',additionalInfo);',
'\t\t\t\tvar AAURI = encodeURI({UXPRERENDEREDALIAS}_DlgObj.ajaxURL + \'&\' + additionalInfo + \'&__Ajax=true&__FormAction=GenericAjaxCallback&_XbasicFunction=system:multifileupload&_xbasic=\' + options.xbasicFunction);',
'\t\t\t\tvar xhr = new XMLHttpRequest();',
'\t\t\t\txhr.open(\'POST\',AAURI,true);',
'\t\t\t}',
'\t\t\tif (!xhr) {',
'\t\t\t\t//ops.setProgress(0, \'CORS not supported\',objS3);',
'\t\t\t\tif(typeof objS3.onError == \'function\') objS3.onError({errorText: \'CORS not supported\', errorCode: -1, fileObject: objS3});',
'\t\t\t  \telse alert(\'CORS not supported\');',
'\t\t\t} else {',
'\t\t\t//capture the xhr object so you can call cancel',
'\t\t\tobjS3.arrS3[objS3.number].xhr = xhr;',
'\t\t\txhr.onload = function() {',
'\t\t\t  if(xhr.status == 200) {',
'\t\t\t\tops.setProgress(100, \'Upload completed.\',objS3);',
'\t\t\t\t//file number is available in objS3.number',
'\t\t\t\tobjS3.uploadCompleteFunction.call(objS3);',
'\t\t\t  } else {',
'\t\t\t\t//ops.setProgress(0, \'Upload error: \' + xhr.status);',
'\t\t\t\tvar responseText = \'\';',
'\t\t\t\tif(typeof xhr.responseText != \'undefined\') responseText = xhr.responseText;',
'\t\t\t\tif(typeof objS3.onError == \'function\') objS3.onError({errorText: \'Upload error\', errorCode: xhr.status, fileObject: objS3, errorText: responseText});',
'\t\t\t  \telse alert(\'XHR error. Reported error:\' + responseText);',
'\t\t\t  }',
'\t\t\t};',
'\t\t\txhr.onerror = function() {',
'\t\t\t  //ops.setProgress(0, \'XHR error.\');',
'\t\t\t  if(typeof objS3.onError == \'function\') objS3.onError({errorText: \'XHR Error\', errorCode: xhr.status, fileObject: objS3});',
'\t\t\t  else alert(\'XHR error\');',
'\t\t\t};',
'\t\t\txhr.upload.onprogress = function(e) {',
'\t\t\t  if (e.lengthComputable) {',
'\t\t\t\tvar percentLoaded = Math.round((e.loaded / e.total) * 100);',
'\t\t\t\tops.setProgress(percentLoaded, percentLoaded == 100 ? \'Finalizing.\' : \'Uploading.\',objS3);',
'\t\t\t  }',
'\t\t\t};',
'\t\t\tif(!options.target) options.target = \'S3\';',
'\t\t\tif(options.target.toUpperCase() == \'S3\') {',
'\t\t\t\txhr.setRequestHeader(\'Content-Type\', file.type);',
'\t\t\t\tif(!objS3.authenticatedRead) {',
'\t\t\t\t\txhr.setRequestHeader(\'x-amz-acl\', \'public-read\');',
'\t\t\t\t} else {',
'\t\t\t\t\txhr.setRequestHeader(\'x-amz-acl\', \'authenticated-read\');',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\t//don\'t bother with headers. they will get set automatically becuase we will be .send()ing a FormData() object',
'\t\t\t}',
'\t\t\tif(targetServer.toUpperCase() == \'S3\') {',
'\t\t\t\txhr.send(file);',
'\t\t\t} else {',
'\t\t\t\t//uploading to alpha server - by using a FormData() object, the content-type headers get set correctly',
'\t\t\t\tvar formData = new FormData();',
'\t\t\t\tformData.append(\'file\',file)',
'\t\t\t\txhr.send(formData);',
'\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tops.handleFileSelect = function(evt) {',
'\t\t\tdelete arrS3;',
'\t\t\tvar arrS3 = [];',
'\t\t\tops.__guid = Number(new Date());',
'\t\t\tvar __guid = ops.__guid;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads = {};',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid] = {};',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'arrS3\'] = arrS3;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'ops\'] = ops;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'options\'] = options;',
'\t\t\tvar files = evt.target.files;',
'\t\t\tvar f = \'\';',
'\t\t\tvar data = \'\';',
'\t\t\tvar targetName = \'\';',
'\t\t\tvar newTargetName = \'\';',
'\t\t\tarrS3.length = 0;',
'\t\t\tfor(var i = 0; i < files.length; i++) {',
'\t\t\t\tf = files[i];',
'\t\t\t\tif(typeof f.name == \'undefined\') {',
'\t\t\t\t\tvar localFileName = \'blobfile.jpg\';',
'\t\t\t\t\tif(typeof options.localFileName != \'undefined\') localFileName = options.localFileName;',
'\t\t\t\t\tf.name = localFileName;',
'\t\t\t\t}',
'\t\t\t\tdelete obji;',
'\t\t\t\tvar obji = {',
'\t\t\t\t\tnumber: i,',
'\t\t\t\t\tname: f.name,',
'\t\t\t\t\tsize: f.size,',
'\t\t\t\t\ttype: f.type,',
'\t\t\t\t\tfile: f,',
'\t\t\t\t\tcompleted: false,',
'\t\t\t\t\taborted: false',
'\t\t\t\t}',
'\t\t\t\tarrS3.push(obji)',
'\t\t\t}',
'\t\t\tvar __guid = ops.__guid;',
'\t\t\t//validate file selection -------------------------------------',
'\t\t\tvar totalSize = 0;',
'\t\t\tif(typeof options.maxFileSize == \'undefined\') options.maxFileSize = -1;',
'\t\t\tvar maxSize = options.maxFileSize;',
'\t\t\tif(maxSize == -1) maxSize = 999999999999999;',
'\t\t\tif(typeof options.maxFileSizeTotal == \'undefined\') options.maxFileSizeTotal = -1;',
'\t\t\tvar maxSizeTotal = options.maxFileSizeTotal;',
'\t\t\tif(maxSizeTotal == -1) maxSizeTotal = 999999999999999;',
'\t\t\tif(typeof options.allowedFileTypes == \'undefined\') options.allowedFileTypes = \'\';',
'\t\t\tvar fileMsg = options.customization.maxFileSize;',
'\t\t\tvar fileTotalMsg = options.customization.totalFileSize;',
'\t\t\tvar typeMsg = options.customization.fileType;',
'\t\t\tvar flagHasValidationFunction = false;',
'\t\t\tif(typeof options.onValidationError == \'function\') flagHasValidationFunction = true;',
'\t\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\t\ttotalSize = totalSize + arrS3[i].size;',
'\t\t\t\t//check size',
'\t\t\t\tif(arrS3[i].size > maxSize) {',
'\t\t\t\t\tif(flagHasValidationFunction) {',
'\t\t\t\t\t\toptions.onValidationError({violationType: \'size\', name: arrS3[i].name, size: arrS3[i].size, type: arrS3[i].type});',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tif(typeof fileMsg != \'undefined\' && fileMsg != \'\') {',
'\t\t\t\t\t\t\tvar msg = fileMsg;',
'\t\t\t\t\t\t\tvar e = arrS3[i];',
'\t\t\t\t\t\t\tmsg = msg.replace(\'[filename]\',e.name);',
'\t\t\t\t\t\t\tmsg = msg.replace(\'[filesize]\',\'\' + e.size);',
'\t\t\t\t\t\t\tmsg = msg.replace(\'[maxfilesize]\',\'\' + maxSize);',
'\t\t\t\t\t\t\talert(msg);',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\talert(\'File exceeds maximum allowed size of \' + maxSize);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\treturn false;',
'\t\t\t\t}',
'\t\t\t\t//check type',
'\t\t\t\tif(options.allowedFileTypes != \'\') {',
'\t\t\t\t\tvar arrT = options.allowedFileTypes.split(\',\');',
'\t\t\t\t\tfor(var i2 = 0; i2 < arrT.length; i2++ ) {',
'\t\t\t\t\t\tarrT[i2] =   $u.s.aTrim(arrT[i2].toLowerCase());',
'\t\t\t\t\t\tarrT[i2] = arrT[i2].replace(\'.\',\'\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar ext = arrS3[i].name.split(\'.\');',
'\t\t\t\t\text = ext[ext.length -1];',
'\t\t\t\t\text = ext.toLowerCase();',
'\t\t\t\t\tvar ia = $u.a.find(arrT,ext);',
'\t\t\t\t\tif(ia == -1) {',
'\t\t\t\t\t\tif(flagHasValidationFunction) {',
'\t\t\t\t\t\t\toptions.onValidationError({violationType: \'type\', name: arrS3[i].name, size: arrS3[i].size, type: arrS3[i].type});',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\tif(typeof typeMsg != \'undefined\' && typeMsg != \'\') {',
'\t\t\t\t\t\t\t\tvar msg = typeMsg;',
'\t\t\t\t\t\t\t\tvar e = arrS3[i];',
'\t\t\t\t\t\t\t\tmsg = msg.replace(\'[filename]\',e.name);',
'\t\t\t\t\t\t\t\tmsg = msg.replace(\'[filetype]\',ext);',
'\t\t\t\t\t\t\t\talert(msg);',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\talert(\'Invalid file type \' + ext);',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\treturn false;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t//check total size',
'\t\t\tif(totalSize > maxSizeTotal) {',
'\t\t\t\t//Selected files ([filecount] files, total size [totalfilesize]) exceed the maximum allowed total file size of [maxtotalfilesize].',
'\t\t\t\tif(flagHasValidationFunction) {',
'\t\t\t\t\toptions.onValidationError({violationType: \'totalSize\', totalSize: totalSize, maxSizeTotal: maxSizeTotal});',
'\t\t\t\t} else {',
'\t\t\t\t\tif(typeof fileTotalMsg != \'undefined\' && fileTotalMsg != \'\') {',
'\t\t\t\t\t\tvar msg = fileTotalMsg;',
'\t\t\t\t\t\tvar e = arrS3[i];',
'\t\t\t\t\t\tmsg = msg.replace(\'[filecount]\',arrS3.length);',
'\t\t\t\t\t\tmsg = msg.replace(\'[totalfilesize]\',\'\' + totalSize);',
'\t\t\t\t\t\tmsg = msg.replace(\'[maxtotalfilesize]\',\'\' + maxSizeTotal);',
'\t\t\t\t\t\talert(msg);',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\talert(\'Files exceeds maximum allowed size of \' + maxSizeTotal);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\treturn false;',
'\t\t\t}',
'\t\t\t//end validate file selection',
'\t\t\tif(typeof options.onAfterFilesSelect == \'function\') {',
'\t\t\t\tvar result = options.onAfterFilesSelect(arrS3);',
'\t\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\t\tif(!result) return false;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tops.__handleFileSelectLow(files,__guid,arrS3)',
'\t\t}',
'\t\tops._generatePlaceholderId = function() {',
'\t\t\tvar txt = options.progressDisplayPlaceholder;',
'\t\t\tvar flagDV = false;',
'\t\t\tif(typeof options.__dv != \'undefined\') flagDV = options.__dv;',
'\t\t\tvar num = txt.split(\'.\')[1];',
'\t\t\tif(!flagDV) {',
'\t\t\t\tvar eleId = _dlgObj.gridId + \'.V.R\'+options.rowNumber+\'._UNBOUND_STATICTEXT_\' + num;',
'\t\t\t} else {',
'\t\t\t\tvar eleId = _dlgObj.gridId + \'.D.V.R\'+options.rowNumber+\'._UNBOUND_STATICTEXT_\' + num;',
'\t\t\t}',
'\t\t\treturn eleId;',
'\t\t}',
'\t\tops.__handleFileSelectLow = function(files,__guid,arrS3) {',
'\t\t\tif(options.displayProgress) {',
'\t\t\t\tif(options.progressDisplayPlaceholder.indexOf(\'ELEMENT:\') == 0) {',
'\t\t\t\t\toptions.resolvedProgressPlaceholder = options.progressDisplayPlaceholder.split(\':\')[1];',
'\t\t\t\t} else {',
'\t\t\t\t\toptions.resolvedProgressPlaceholder = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder',
'\t\t\t\t}',
'\t\t\t\tvar eleP = $(options.resolvedProgressPlaceholder);',
'\t\t\t\tif(options.part == \'grid\') {',
'\t\t\t\t\toptions.resolvedProgressPlaceholder = this._generatePlaceholderId()',
'\t\t\t\t\tvar eleP = $(options.resolvedProgressPlaceholder);',
'\t\t\t\t}',
'\t\t\t\tif(eleP) {',
'\t\t\t\t\teleP.style.display = \'\';',
'\t\t\t\t\tvar arrH = [];',
'\t\t\t\t\tvar id_i = \'\';',
'\t\t\t\t\tvar id_row_i = \'\';',
'\t\t\t\t\tvar html = \'\';',
'\t\t\t\t\tvar html_i = \'\';',
'\t\t\t\t\tvar spanTxt = \'\';',
'\t\t\t\t\tvar flagAllowCancel = options.allowCancel;',
'\t\t\t\t\tif(typeof flagAllowCancel == \'undefined\') flagAllowCancel = false;',
'\t\t\t\t\tif(typeof options.progressStyle == \'undefined\') options.progressStyle = \'bar\';',
'\t\t\t\t\tif(options.progressStyle == \'text\') {',
'\t\t\t\t\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\t\t\t\t\t//id_i = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_i = options.resolvedProgressPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_row_i = id_i + \'.ROW\';',
'\t\t\t\t\t\t\thtml_i = \'\';',
'\t\t\t\t\t\t\thtml_i += \'<tr id="\'+id_row_i+\'">\';',
'\t\t\t\t\t\t\tif(flagAllowCancel) {',
'\t\t\t\t\t\t\t\thtml_i += \'<td><div style="cursor:pointer;padding: 5px;" title="Cancel upload" onclick="{UXPRERENDEREDALIAS}_DlgObj._abortS3Upload(\\\'\'+__guid+\'\\\',\'+i+\',\\\'\'+id_row_i+\'\\\');">X</div></td>\';',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\thtml_i +=\'<td><div>\' + arrS3[i].name + \' (\' + ops.formatNum(arrS3[i].size) + \') <span id=\'+id_i+\'></span> </div></td>\';',
'\t\t\t\t\t\t\thtml_i +=\'</tr>\'',
'\t\t\t\t\t\t\tarrH.push(html_i)',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\thtml = arrH.join(\'\');',
'\t\t\t\t\t\thtml = \'<table>\' + html + \'</table>\'',
'\t\t\t\t\t} else if (options.progressStyle == \'bar\') {',
'\t\t\t\t\t\tvar flagShowFilename = options.showFileNameInProgressBar;',
'\t\t\t\t\t\tif(typeof flagShowFilename == \'undefined\') flagShowFilename = true;',
'\t\t\t\t\t\tvar flagMobile = false;',
'\t\t\t\t\t\tif(typeof options._flagMobile != \'undefined\') flagMobile = options._flagMobile;',
'\t\t\t\t\t\thtml_i = \'\';',
'\t\t\t\t\t\tif(typeof options.progressBarColor == \'undefined\') options.progressBarColor = \'#9fa1e8\';',
'\t\t\t\t\t\tif(typeof options.progressBarWidth == \'undefined\') options.progressBarWidth = \'1.5in\';',
'\t\t\t\t\t\tvar color = options.progressBarColor',
'\t\t\t\t\t\tvar width = options.progressBarWidth;',
'\t\t\t\t\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\t\t\t\t\t//id_i = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_i = options.resolvedProgressPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_row_i = id_i + \'.ROW\';',
'\t\t\t\t\t\t\thtml_i = \'\';',
'\t\t\t\t\t\t\thtml_i += \'<tr id="\'+id_row_i+\'">\';',
'\t\t\t\t\t\t\tif(flagShowFilename) {',
'\t\t\t\t\t\t\t\thtml_i += \'<td>\' + arrS3[i].name + \' (\' + ops.formatNum(arrS3[i].size) + \')</td>\';',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\thtml_i += \'<td>(\' + ops.formatNum(arrS3[i].size) + \')</td>\';',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\thtml_i += \'<td><div style="border: solid 1px \'+color+\'; width: \'+width+\';">\';',
'\t\t\t\t\t\t\thtml_i += \'<div id="\'+id_i+\'"style="width: 0%; height: .05in;  background-color:\'+color+\';"></div></div></td>\';',
'\t\t\t\t\t\t\tif(flagAllowCancel) {',
'\t\t\t\t\t\t\t\thtml_i += \'<td><div style="cursor:pointer;padding: 5px;" title="Cancel upload" onclick="{UXPRERENDEREDALIAS}_DlgObj._abortS3Upload(\\\'\'+__guid+\'\\\',\'+i+\',\\\'\'+id_row_i+\'\\\');">X</div></td>\';',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\thtml_i += \'</tr>\';',
'\t\t\t\t\t\t\tarrH.push(html_i);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\thtml = arrH.join(\'\');',
'\t\t\t\t\t\t//for some reason in ie, this function is getting called a second time and if we don\'t exit here when .length == 0, it will overwrite the progress bar with a null string',
'\t\t\t\t\t\tif(arrH.length == 0) return true;',
'\t\t\t\t\t\thtml = \'<table>\' + html + \'</table>\'',
'\t\t\t\t\t\tif(flagMobile) {',
'\t\t\t\t\t\t\t//mobile upload limited to 1 file and don\'t wrap in table',
'\t\t\t\t\t\t\t//id_i = options.resolvedProgressPlaceholder + \'.\' + (1);',
'\t\t\t\t\t\t\thtml = \'\';',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\teleP.innerHTML = html;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tfor(var i = 0; i < files.length; i++) {',
'\t\t\t\tvar f = files[i];',
'\t\t\t\tvar dataA = [];',
'\t\t\t\tdataA.push(\'_mimeType=\' + f.type);',
'\t\t\t\ttargetName = f.name;',
'\t\t\t\tif(typeof options.targetName == \'function\') {',
'\t\t\t\t\tnewTargetName = options.targetName( f  );',
'\t\t\t\t\tif(typeof newTargetName != \'undefined\') {',
'\t\t\t\t\t\tif(newTargetName != \'\') targetName = newTargetName;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tarrS3[i].targetName = targetName;',
'\t\t\t\tvar targetServer = options.target;',
'\t\t\t\tif(!options.target) targetServer = \'S3\';',
'\t\t\t\tarrS3[i].targetServer = targetServer;',
'\t\t\t\tdataA.push(\'_name=\' + urlencode(targetName));  //name of object in S3',
'\t\t\t\tdataA.push(\'_number=\' + i);',
'\t\t\t\tif(options.specifyCredentials == \'Explicit\') {',
'\t\t\t\t\tdataA.push(\'_xbasicFunctionNameForPropertyValues=\' + options.xbasicFunctionName);',
'\t\t\t\t\tdataA.push(\'_method=explicit\');',
'\t\t\t\t} else {',
'\t\t\t\t\tdataA.push(\'_namedStorageConnectionString=\' + options.connectionString);',
'\t\t\t\t\tdataA.push(\'_method=connectionString\');',
'\t\t\t\t}',
'\t\t\t\tdataA.push(\'_authenticatedRead=\' + options.authenticatedRead);',
'\t\t\t\tdataA.push(\'_part=\' + options.part);',
'\t\t\t\tdata = dataA.join(\'&\');',
'\t\t\t\tif(typeof options.userProgressFunction == \'undefined\') options.userProgressFunction = function(e) {};',
'\t\t\t\tif(typeof options.onCompleteAllFiles == \'undefined\') options.onCompleteAllFiles = function(e) {};',
'\t\t\t\tif(typeof options.onCompleteFile == \'undefined\') options.onCompleteFile = function(e) { };',
'\t\t\t\tvar obj = {',
'\t\t\t\t\t//ajax callback to sign url onComplete',
'\t\t\t\t\tonComplete: function() {',
'\t\t\t\t\t\tvar signedURL = decodeURIComponent(_dlgObj._fileCodedURL);',
'\t\t\t\t\t\tvar num = _dlgObj._fileCodedURLNum;',
'\t\t\t\t\t\tvar fi = arrS3[num].file;',
'\t\t\t\t\t\tvar targetServer = arrS3[num].targetServer;',
'\t\t\t\t\t\tdelete objS3;',
'\t\t\t\t\t\tvar objS3 = {',
'\t\t\t\t\t\t\tuploadCompleteFunction: function() {',
'\t\t\t\t\t\t\t\tthis.arrS3[this.number].completed = true;',
'\t\t\t\t\t\t\t\tvar flagAllCompleted = false;',
'\t\t\t\t\t\t\t\tvar c = 0;',
'\t\t\t\t\t\t\t\tfor(var i = 0; i < this.arrS3.length; i++) {',
'\t\t\t\t\t\t\t\t\tif(this.arrS3[i].completed == true || this.arrS3[i].aborted == true) c = c+1;',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\tif(c == this.arrS3.length) flagAllCompleted = true;',
'\t\t\t\t\t\t\t\tvar e = {',
'\t\t\t\t\t\t\t\t\tname: this.name,',
'\t\t\t\t\t\t\t\t\ttype: this.type,',
'\t\t\t\t\t\t\t\t\tsize: this.size,',
'\t\t\t\t\t\t\t\t\tnumber: this.number,',
'\t\t\t\t\t\t\t\t\tfileArray: this.arrS3,',
'\t\t\t\t\t\t\t\t\ttargetName: arrS3[this.number].targetName',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\toptions.onCompleteFile(e);',
'\t\t\t\t\t\t\t\tif(flagAllCompleted) {',
'\t\t\t\t\t\t\t\t\toptions.onCompleteAllFiles(e);',
'\t\t\t\t\t\t\t\t\tif(options.displayProgress) {',
'\t\t\t\t\t\t\t\t\t\t//var eleP = $(_dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder);',
'\t\t\t\t\t\t\t\t\t\tvar eleP = $(options.resolvedProgressPlaceholder);',
'\t\t\t\t\t\t\t\t\t\tif(eleP) eleP.style.display = \'none\';',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\tdelete {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid];',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t},',
'\t\t\t\t\t\t\tuserProgressFunction: options.userProgressFunction,',
'\t\t\t\t\t\t\tonError: options.onError,',
'\t\t\t\t\t\t\tname: fi.name,',
'\t\t\t\t\t\t\tsize: fi.size,',
'\t\t\t\t\t\t\ttype: fi.type,',
'\t\t\t\t\t\t\tnumber: num,',
'\t\t\t\t\t\t\tarrS3: arrS3,',
'\t\t\t\t\t\t\ttargetName: arrS3[num].targetName,',
'\t\t\t\t\t\t\t__guid: __guid,',
'\t\t\t\t\t\t\tauthenticatedRead: options.authenticatedRead',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tobjS3.targetServer = targetServer;',
'\t\t\t\t\t\tops.uploadToS3(fi,signedURL,objS3);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tops.obj = obj;',
'\t\t\t\tvar reader = new FileReader();',
'\t\t\t\treader.onload = function(e) {',
'\t\t\t\t\tvar eleId = \'\';',
'\t\t\t\t\tvar ele = \'\';',
'\t\t\t\t\tif(typeof options.imageControl != \'undefined\' && options.part == \'ux\') {',
'\t\t\t\t\t\teleId = options.__alias + \'.V.R1.\' + options.imageControl.toUpperCase();',
'\t\t\t\t\t\tele = $(eleId);',
'\t\t\t\t\t\tif(ele) ele.src = e.target.result;',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tvar flagDV = false;',
'\t\t\t\t\t\tif(typeof options.__dv != \'undefined\') flagDV = options.__dv',
'\t\t\t\t\t\tif(flagDV) {',
'\t\t\t\t\t\t\teleId = options.__alias + \'.D.V.R\'+options.rowNumber+\'.\' + options.imageControl.toUpperCase();',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\teleId = options.__alias + \'.V.R\'+options.rowNumber+\'.\' + options.imageControl.toUpperCase();',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tele = $(eleId);',
'\t\t\t\t\t\tif(ele) {',
'\t\t\t\t\t\t\tvar oldSrc = ele.src;',
'\t\t\t\t\t\t\t_dlgObj.__oldImage = oldSrc;',
'\t\t\t\t\t\t\tele.src = e.target.result;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\treader.onerror = function(e) {',
'\t\t\t\t\talert(\'error123\');',
'\t\t\t\t}',
'\t\t\t\tif(typeof options.imageControl != \'undefined\') reader.readAsDataURL(f);',
'\t\t\t\tvar flagTargetIsServer = false;',
'\t\t\t\tif(typeof options.target != \'undefined\') {',
'\t\t\t\t\tif(options.target.toLowerCase() == \'server\') flagTargetIsServer = true;',
'\t\t\t\t}',
'\t\t\t\tif(!flagTargetIsServer) {',
'\t\t\t\t\t_dlgObj.ajaxCallback(\'\',\'\',\'a5DialogHelper_signAmazonS3FileUploadURL\',\'\',data,obj);',
'\t\t\t\t} else {',
'\t\t\t\t\t//no need to sign the url for target = \'alpha\'',
'\t\t\t\t\t_dlgObj._fileCodedURLNum = i;',
'\t\t\t\t\tobj.onComplete();',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\t//$e.add($(this.dialogId + \'._GETFILEMULTI\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__amazonS3fileupload\');',
'\t\t$e.removeGroup(\'__amazonS3fileupload\')',
'\t\t//bind the change event to the file selector',
'\t\tif(options.allowMultipleFiles) {',
'\t\t\tif(typeof this._getFileMultiListenerLoaded == \'undefined\') {',
'\t\t\t\t//this._getFileMultiListenerLoaded = true;',
'\t\t\t\t//$(this.dialogId + \'._GETFILEMULTI\').addEventListener(\'change\',ops.handleFileSelect,false);',
'\t\t\t\t$e.add($(this.dialogId + \'._GETFILEMULTI\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__amazonS3fileupload\');',
'\t\t\t}',
'\t\t\teleB = $(this.dialogId + \'._GETFILEMULTI\');',
'\t\t} else {',
'\t\t\tif(typeof this._getFileListenerLoaded == \'undefined\') {',
'\t\t\t\t//this._getFileListenerLoaded = true;',
'\t\t\t\t//$(this.dialogId + \'._GETFILE\').addEventListener(\'change\',ops.handleFileSelect,false);',
'\t\t\t\t$e.add($(this.dialogId + \'._GETFILE\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__amazonS3fileupload\');',
'\t\t\t}',
'\t\t\teleB = $(this.dialogId + \'._GETFILE\');',
'\t\t}',
'\t\tvar flagFilePassedIn = false;',
'\t\tif(typeof options.flagFilePassedIn != \'undefined\') {',
'\t\t\tflagFilePassedIn = options.flagFilePassedIn',
'\t\t}',
'\t\tif(!flagFilePassedIn) {',
'\t\t\teleB.value = \'\';',
'\t\t\teleB.click();',
'\t\t\teleB.value = \'\';',
'\t\t} else {',
'\t\t\t//options.filePassedIn',
'\t\t\tvar evt = {};',
'\t\t\tevt.target = {};',
'\t\t\tevt.target.files = [];',
'\t\t\tevt.target.files[0] = options.filePassedIn;',
'\t\t\tops.handleFileSelect(evt);',
'\t\t}',
'\t}',
'\t////==== upload PhoneGap /////////////////////////////////////////////////////',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileUpload = function(arr,options) {',
'\t\tvar _dlgObj = this;',
'\t\t//arr is an array of files to upload. arr must have a .filename property in each item',
'\t\tif(typeof LocalFileSystem == \'undefined\') {',
'\t\t\tif(typeof cordova == \'undefined\') {',
'\t\t\t\talert(\'Method not supported when not running in PhoneGap\');',
'\t\t\t} else {',
'\t\t\t\talert(\'Required PhoneGap plugins not loaded.\');',
'\t\t\t}',
'\t\t\treturn false;',
'\t\t}',
'\t\t//initialize variables',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tarr[i].name = arr[i].filename;',
'\t\t\tarr[i].number = i;',
'\t\t\tarr[i].completed = false;',
'\t\t\tarr[i].aborted = false;',
'\t\t\tarr[i].succeeded = false;',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: generateProgressBarsHTML -------------',
'\t\tvar generateProgressBarsHTML = function (ops,count) {',
'\t\t\tvar eleTarget = ops.progressElement;',
'\t\t\teleTarget = eleTarget.toUpperCase();',
'\t\t\tvar html = \'\';',
'\t\t\tvar html_i = \'\';',
'\t\t\tvar name_i = \'\';',
'\t\t\tvar progress_i = \'\';',
'\t\t\tvar idName = \'\';',
'\t\t\tvar idProgress = \'\';',
'\t\t\tif(ops.individualProgress) {',
'\t\t\t\tfor(var  i = 0; i < count; i++) {',
'\t\t\t\t\tname_i = \'Name: \' + i;',
'\t\t\t\t\tprogress_i = \'Progress...\' + i;',
'\t\t\t\t\tidProgress = eleTarget + \'.PROGRESS.\' + i;',
'\t\t\t\t\tidName = eleTarget + \'.NAME.\' + i;',
'\t\t\t\t\tprogress_i = \'<div style="border: solid 1px \'+ops.color+\'; width: \'+ops.width+\';">\';',
'\t\t\t\t\tprogress_i += \'<div id="\'+idProgress+\'"style="width: 0%; height: .05in;  background-color:\'+ops.color+\';"></div></div></td>\';',
'\t\t\t\t\thtml_i = \'<td id="\'+idName+\'">name \'+name_i+\'</td><td>\'+progress_i+\'</td>\';',
'\t\t\t\t\thtml_i = \'<tr>\' + html_i + \'</tr>\';',
'\t\t\t\t\thtml = html + html_i;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(ops.showTotalProgress) {',
'\t\t\t\tidProgress = eleTarget + \'.PROGRESS.TOTAL\';',
'\t\t\t\tidName = eleTarget + \'.NAME.TOTAL\';',
'\t\t\t\tprogress_i = \'<div style="border: solid 1px \'+ops.color+\'; width: \'+ops.width+\';">\';',
'\t\t\t\tprogress_i += \'<div id="\'+idProgress+\'"style="width: 0%; height: .05in;  background-color:\'+ops.color+\';"></div></div></td>\';',
'\t\t\t\thtml_i = \'<td id="\'+idName+\'"></td><td>\'+progress_i+\'</td>\';',
'\t\t\t\thtml_i = \'<tr>\' + html_i + \'</tr>\';',
'\t\t\t\thtml = html + html_i',
'\t\t\t}',
'\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\thtml = \'<div id="\'+idProgress+\'"><table>\' + html + \'</table><div>\';',
'\t\t\t$(eleTarget).innerHTML = html;',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: phoneGapUploadDoWork -------------',
'\t\tvar phoneGapUploadDoWork = function(arr,options) {',
'\t\t\tif(options.target.toLowerCase() == \'s3\') {',
'\t\t\t\t//s3',
'\t\t\t\tvar xbasicFunction = \'a5dialogHelper_systemSignS3Policy\';',
'\t\t\t\tvar data = A5.ajax.buildURLParam(\'_jsonOptions\',JSON.stringify(options));',
'\t\t\t\tvar ajaxObj = {',
'\t\t\t\t\terrorFunction: function() {',
'\t\t\t\t\t\tif(typeof options.onAjaxFailed == \'function\') options.onAjaxFailed();',
'\t\t\t\t\t},',
'\t\t\t\t\tonComplete: function() {',
'\t\t\t\t\t\tvar startUploadLocal = function() {',
'\t\t\t\t\t\t\tvar totalSize = 0;',
'\t\t\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\t\t\ttotalSize = totalSize + Number(arr[i].size);',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tvar _sysObj = {};',
'\t\t\t\t\t\t\t_sysObj.totalBytesToUpload = totalSize;',
'\t\t\t\t\t\t\tvar flagMobile = false;',
'\t\t\t\t\t\t\tif(typeof options._flagMobile != \'undefined\') flagMobile = options._flagMobile;',
'\t\t\t\t\t\t\toptions._flagMobile = flagMobile;',
'\t\t\t\t\t\t\tif(options.showProgress && !flagMobile) generateProgressBarsHTML(options.progress,arr.length);',
'\t\t\t\t\t\t\t//alert(\'ready to start uploading files: total \' + totalSize);',
'\t\t\t\t\t\t\tstartUploadFilesToS3(_sysObj,options);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tvar _sTop = {};',
'\t\t\t\t\t\tgetFileSizesForAllItemsInArray(startUploadLocal,_sTop);',
'\t\t\t\t\t},',
'\t\t\t\t\tdeviceOfflineFunction: function() {',
'\t\t\t\t\t\tif(typeof options.onDeviceOffline == \'function\') options.onDeviceOffline();',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',xbasicFunction,\'\',data,ajaxObj);',
'\t\t\t} else {',
'\t\t\t\t//alpha server',
'\t\t\t\tvar startUploadLocal = function() {',
'\t\t\t\t\tvar totalSize = 0;',
'\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\ttotalSize = totalSize + Number(arr[i].size);',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _sysObj = {};',
'\t\t\t\t\t_sysObj.totalBytesToUpload = totalSize;',
'\t\t\t\t\tif(options.showProgress) generateProgressBarsHTML(options.progress,arr.length);',
'\t\t\t\t\tstartUploadFilesToS3(_sysObj,options);',
'\t\t\t\t}',
'\t\t\t\tvar _sTop = {};',
'\t\t\t\tgetFileSizesForAllItemsInArray(startUploadLocal,_sTop);',
'\t\t\t}',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: getFileSizesForAllItemsInList',
'\t\tvar getFileSizesForAllItemsInArray = function(allDone_GotAllFileSizes_Callback, _sTop)  {',
'\t\t\tvar _s = {count: 0};',
'\t\t\tvar getFileSizesForAllItemsInArrayLow = function (arr,r,count,callback,_s,_sTop) {',
'\t\t\t\tvar rowNumber = r;',
'\t\t\t\tvar url = arr[r].filename;',
'\t\t\t\tvar resolveLocalFileURL_SUCCESS = function(fileEntry) {',
'\t\t\t\t\tvar file_SUCCESS = function(f) {',
'\t\t\t\t\t\tarr[r].size = f.size;',
'\t\t\t\t\t\t_s.count = _s.count + 1;',
'\t\t\t\t\t\tif(_s.count == count) {',
'\t\t\t\t\t\t\tcallback(_sTop);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tfileEntry.file(file_SUCCESS);',
'\t\t\t\t}',
'\t\t\t\t//on iphone, video capture does not return a file with the file:// prefix',
'\t\t\t\tvar urlToResolve = url;',
'\t\t\t\tif(url.indexOf(\'file:\') != 0) {',
'\t\t\t\t\turlToResolve = urlToResolve.replace(\'/private\',\'file:\\/\\/\');',
'\t\t\t\t}',
'\t\t\t\twindow.resolveLocalFileSystemURL(urlToResolve, resolveLocalFileURL_SUCCESS, function() { } );',
'\t\t\t}',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tgetFileSizesForAllItemsInArrayLow(arr,i,arr.length,allDone_GotAllFileSizes_Callback,_s,_sTop)',
'\t\t\t}',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: startUploadFilesToS3',
'\t\tvar startUploadFilesToS3 = function(_sysObj,options) {',
'\t\t\t//_sysObj.totalBytesToUpload;',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tupLoadFilesToS3Work(arr[i].filename,arr,i,_sysObj,options)',
'\t\t\t}',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: s3SignedPolicy',
'\t\tvar s3SignedPolicy = function() {',
'\t\t\tvar obj = {};',
'\t\t\tobj.hasError = {UXPRERENDEREDALIAS}_DlgObj._pgS3.hasError;',
'\t\t\tobj.policyBase64 = {UXPRERENDEREDALIAS}_DlgObj._pgS3.policyBase64;',
'\t\t\tobj.signature = {UXPRERENDEREDALIAS}_DlgObj._pgS3.signature;',
'\t\t\tobj.userKey = {UXPRERENDEREDALIAS}_DlgObj._pgS3.accessKey;',
'\t\t\tobj.acl = {UXPRERENDEREDALIAS}_DlgObj._pgS3.acl;',
'\t\t\tobj.bucket = {UXPRERENDEREDALIAS}_DlgObj._pgS3.bucket;',
'\t\t\treturn obj;',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: uploadFilesToS3Work',
'\t\tvar upLoadFilesToS3Work = function(filenameURI,arr,fileNumber,_sysObj, actionOptions) {',
'\t\t\t//alert(\'actionOptions.target: \' + actionOptions.target);  s3 or alphaanywhere',
'\t\t\tvar fileName = filenameURI.substr(filenameURI.lastIndexOf(\'/\')+1);',
'\t\t\tvar targetName = fileName;',
'\t\t\tif(typeof actionOptions.onComputeS3Filename == \'function\') {',
'\t\t\t\tvar e = {name: targetName, object: arr[fileNumber]};',
'\t\t\t\tvar newTargetName = actionOptions.onComputeS3Filename(e);',
'\t\t\t\tif(typeof newTargetName == \'undefined\') newTargetName = targetName;',
'\t\t\t\tif(newTargetName == \'\') newTargetName = targetName;',
'\t\t\t\ttargetName = newTargetName;',
'\t\t\t}',
'\t\t\t//on iphone video name is always \'capturedvideo.mov\' (in a unique subfolder)',
'\t\t\tif(targetName.toLowerCase() == \'capturedvideo.mov\') {',
'\t\t\t\ttargetName = A5.UUID() + \'_video.MOV\';',
'\t\t\t}',
'\t\t\tarr[fileNumber].targetName = targetName; //use name that event returned',
'\t\t\tvar ft = new FileTransfer();',
'\t\t\tvar options = new FileUploadOptions();',
'\t\t\toptions.fileKey = "file";',
'\t\t\toptions.fileName = targetName;',
'\t\t\toptions.mimeType = "image/jpeg";',
'\t\t\toptions.chunkedMode = false;',
'\t\t\tif(actionOptions.target == \'alphaanywhere\') {',
'\t\t\t\tvar s3URI = encodeURI( $u.s.aTrim({UXPRERENDEREDALIAS}_DlgObj.ajaxURL));',
'\t\t\t\t//s3URI = \'junk\'; //force a file upload error',
'\t\t\t\t//alert(\'remember to turn this off\');',
'\t\t\t\tvar xbasicAfterUpload = actionOptions.xbasicAfterFileUploaded',
'\t\t\t\tvar specialMode = \'\';',
'\t\t\t\tif(typeof actionOptions.specialMode != \'undefined\') specialMode = actionOptions.specialMode;',
'\t\t\t\toptions.params = {',
'\t\t\t\t\t"_XbasicFunction" : "system:phonegapfileupload",',
'\t\t\t\t\t"__Ajax" : "true",',
'\t\t\t\t\t"__FormAction" : "GenericAjaxCallback",',
'\t\t\t\t\t"__FormID" : "",',
'\t\t\t\t\t"__xbasicAfterUpload" : xbasicAfterUpload,',
'\t\t\t\t\t"__arrayIndex" : fileNumber,',
'\t\t\t\t\t"__actionOptions" : JSON.stringify(actionOptions),',
'\t\t\t\t\t"__specialMode" : specialMode,',
'\t\t\t\t\t"__targetName" : targetName,',
'\t\t\t\t\t"__arrayItem" : JSON.stringify(arr[fileNumber]),',
'\t\t\t\t\t"__ajaxURL" : $u.s.aTrim({UXPRERENDEREDALIAS}_DlgObj.ajaxURL)',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\t//s3',
'\t\t\t\tvar obj = s3SignedPolicy();',
'\t\t\t\tvar s3URI = encodeURI(\'https://\' + obj.bucket + \'.s3.amazonaws.com/\'),',
'\t\t\t\t\tpolicyBase64 = obj.policyBase64,',
'\t\t\t\t\tsignature = obj.signature,',
'\t\t\t\t\tawsKey = obj.userKey,',
'\t\t\t\t\tacl = obj.acl;',
'\t\t\t\toptions.params = {',
'\t\t\t\t\t"key": targetName,',
'\t\t\t\t\t"AWSAccessKeyId": awsKey,',
'\t\t\t\t\t"acl": acl,',
'\t\t\t\t\t"policy": policyBase64,',
'\t\t\t\t\t"signature": signature,',
'\t\t\t\t\t"Content-Type": "image/jpeg"',
'\t\t\t\t};',
'\t\t\t}',
'\t\t\tvar setProgress = function(progressId,fileNumber,pctComplete) {',
'\t\t\t\tvar id = \'\';',
'\t\t\t\tvar countCompleted = 0;',
'\t\t\t\tif(fileNumber == \'total\') {',
'\t\t\t\t\tid = progressId + \'.PROGRESS.TOTAL\';',
'\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\tif(arr[i].completed) countCompleted = countCompleted + 1;',
'\t\t\t\t\t}',
'\t\t\t\t\tvar idN = progressId + \'.NAME.TOTAL\';',
'\t\t\t\t\tvar ele = $(idN);',
'\t\t\t\t\t//if(ele) ele.innerHTML = \'Completed: \' + countCompleted +  \' of \' + arr.length;',
'\t\t\t\t} else {',
'\t\t\t\t\tid = progressId + \'.PROGRESS.\' + fileNumber;',
'\t\t\t\t}',
'\t\t\t\tvar ele = $(id);',
'\t\t\t\tif(ele) ele.style.width = pctComplete + \'%\';',
'\t\t\t\tvar idP = progressId + \'.PROGRESSDISPLAY\';',
'\t\t\t\tele = $(idP);',
'\t\t\t\tif(ele) ele.style.display = \'\';',
'\t\t\t}',
'\t\t\tft.onprogress = function(progressEvent) {',
'\t\t\t\tvar totalBytesToTransfer = _sysObj.totalBytesToUpload',
'\t\t\t\tif(typeof _sysObj.workDone == \'undefined\') {',
'\t\t\t\t\t_sysObj.workDone = [];',
'\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\t_sysObj.workDone[i] = 0;',
'\t\t\t\t\t}',
'\t\t\t\t };',
'\t\t\t\t_sysObj.workDone[fileNumber] = progressEvent.loaded;',
'\t\t\t\tvar gTotal = 0;',
'\t\t\t\tfor(var i = 0; i < _sysObj.workDone.length; i++) {',
'\t\t\t\t\tif(typeof _sysObj.workDone[i] != \'undefined\') {',
'\t\t\t\t\t\tgTotal = gTotal + _sysObj.workDone[i];',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar progressId = actionOptions.progress.progressElement;',
'\t\t\t\tif (progressEvent.lengthComputable) {',
'\t\t\t\t\tvar pctComplete = (progressEvent.loaded / progressEvent.total)*100;',
'\t\t\t\t\tif(pctComplete > 100) pctComplete = 100;',
'\t\t\t\t\tpctComplete = $u.n.round(pctComplete,4);',
'\t\t\t\t\tif(actionOptions.showProgress) setProgress(progressId,fileNumber,pctComplete);',
'\t\t\t\t\tif(typeof actionOptions.onProgressEvent == \'function\') {',
'\t\t\t\t\t\tactionOptions.onProgressEvent(arr, fileNumber, pctComplete, progressEvent.loaded, progressEvent.total);',
'\t\t\t\t\t}',
'\t\t\t\t\tvar pctCompleteTotal = (gTotal / totalBytesToTransfer) * 100;',
'\t\t\t\t\tif(pctCompleteTotal > 100) pctCompleteTotal = 100;',
'\t\t\t\t\tpctCompleteTotal = $u.n.round( pctCompleteTotal,4);',
'\t\t\t\t\tif(actionOptions.showProgress) setProgress(progressId,\'total\',pctCompleteTotal);',
'\t\t\t\t\tif(typeof actionOptions.onProgressEvent == \'function\') {',
'\t\t\t\t\t\tactionOptions.onProgressEvent(arr, \'total\', pctCompleteTotal, gTotal, totalBytesToTransfer);',
'\t\t\t\t\t}',
'\t\t\t\t\tif(actionOptions._flagMobile) {',
'\t\t\t\t\t\tif($(\'MOBILEUPLOADPROGRESS.1\')) $(\'MOBILEUPLOADPROGRESS.1\').style.width = pctCompleteTotal + \'%\';',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\t//progress messages not possible -- should never happen',
'\t\t\t\t}',
'\t\t\t};',
'\t\t\tvar _hasCompleted = function() {',
'\t\t\t\tvar flagAllDone = true;',
'\t\t\t\tfor(var i = 0; i < arr.length; i ++) {',
'\t\t\t\t\tif(arr[i].completed == false) {',
'\t\t\t\t\t\tflagAllDone = false;',
'\t\t\t\t\t\tbreak;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\treturn flagAllDone;',
'\t\t\t}',
'\t\t\tvar fileUploadSuccess = function(r) {',
'\t\t\t\tarr[fileNumber].completed = true;',
'\t\t\t\tarr[fileNumber].succeeded = true;',
'\t\t\t\tarr[fileNumber].remoteName = arr[fileNumber].targetName;',
'\t\t\t\t//for uploads to AlphaAnywhere, the Xbasic function that is called can send a response',
'\t\t\t\tif(r.response != \'undefined\') {',
'\t\t\t\t\tif(r.response != \'\') eval(r.response);',
'\t\t\t\t};',
'\t\t\t\t//if the targer is the Alpha server and the Xbasic handler sent a response that set the \'targetFileName\' property',
'\t\t\t\tvar target = actionOptions.target.toLowerCase();',
'\t\t\t\tif(target == \'s3\') {',
'\t\t\t\t\tif(typeof actionOptions.s3.template != \'undefined\') {',
'\t\t\t\t\t\tarr[fileNumber].remoteName = actionOptions.s3.template.replace(\'__name__\',arr[fileNumber].targetName);',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\tif(typeof arr[fileNumber].targetFileName != \'undefined\') {',
'\t\t\t\t\t\tarr[fileNumber].remoteName = arr[fileNumber].targetFileName;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(typeof actionOptions.onCompleteIndividualFile == \'function\') {',
'\t\t\t\t\tactionOptions.onCompleteIndividualFile(arr,fileNumber);',
'\t\t\t\t}',
'\t\t\t\tvar flagAllDone = _hasCompleted();',
'\t\t\t\tif(flagAllDone) {',
'\t\t\t\t\tvar progressId = actionOptions.progress.progressElement;',
'\t\t\t\t\tvar idP = progressId + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\tvar ele = $(idP);',
'\t\t\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t\t\t\tif(typeof actionOptions.onComplete == \'function\') {',
'\t\t\t\t\t\tactionOptions.onComplete(arr);',
'\t\t\t\t\t};',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tvar _hideProgress = function() {',
'\t\t\t\tvar progressId = actionOptions.progress.progressElement;',
'\t\t\t\tvar idP = progressId + \'.PROGRESSDISPLAY\';',
'\t\t\t\tvar ele = $(idP);',
'\t\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t\t}',
'\t\t\tvar fileUploadFailed = function(error) {',
'\t\t\t\tarr[fileNumber].failed = true;',
'\t\t\t\tarr[fileNumber].completed = true;',
'\t\t\t\tif(typeof actionOptions.onError == \'function\') {',
'\t\t\t\t\tactionOptions.onError(arr,fileNumber,error);',
'\t\t\t\t}',
'\t\t\t\tif(typeof actionOptions.onCompleteIndividualFile == \'function\') {',
'\t\t\t\t\tactionOptions.onCompleteIndividualFile(arr,fileNumber);',
'\t\t\t\t}',
'\t\t\t\tvar flagAllDone = _hasCompleted();',
'\t\t\t\tif(flagAllDone) {',
'\t\t\t\t\t_hideProgress();',
'\t\t\t\t\tif(typeof actionOptions.onComplete == \'function\') {',
'\t\t\t\t\t\tactionOptions.onComplete(arr);',
'\t\t\t\t\t}',
'\t\t\t\t};',
'\t\t\t}',
'\t\t\tvar flagOK = true;',
'\t\t\tif(typeof actionOptions.onValidate == \'function\') {',
'\t\t\t\tvar result = actionOptions.onValidate(arr,fileNumber);',
'\t\t\t\tif(typeof result != \'undefined\') flagOK = result;',
'\t\t\t}',
'\t\t\t//do the upload',
'\t\t\tif(flagOK) {',
'\t\t\t\tvar flagTrustAllHosts = false;',
'\t\t\t\tif(typeof _dlgObj != \'undefined\') {',
'\t\t\t\t\tif(typeof _dlgObj._phoneGapTrustAllHosts != \'undefined\') {',
'\t\t\t\t\t\tflagTrustAllHosts = _dlgObj._phoneGapTrustAllHosts;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tft.upload(filenameURI, s3URI, fileUploadSuccess, fileUploadFailed, options,flagTrustAllHosts);',
'\t\t\t} else {',
'\t\t\t\tarr[fileNumber].aborted = true;',
'\t\t\t\tarr[fileNumber].completed = true;',
'\t\t\t}',
'\t\t}',
'\t\tphoneGapUploadDoWork(arr,options);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectory = function(dirName, onComplete, onError) {',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\t//got the filesystem',
'\t\t\tvar onDirCreateSuccess = function(dirEntry) {',
'\t\t\t\tif(typeof onComplete == \'function\') {',
'\t\t\t\t\tonComplete();',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tfs.root.getDirectory(dirName, {create: true},onDirCreateSuccess, onError);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectoryRecurse = function(dirName, onComplete, onError) {',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\tvar prepareWork = function(dir) {',
'\t\t\tvar arr = dir.split(\'/\');',
'\t\t\tvar arr3 = [];',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tvar arr2 = [];',
'\t\t\t\tfor(var k = 0; k < i + 1; k++) {',
'\t\t\t\t\tarr2.push(arr[k]);',
'\t\t\t\t}',
'\t\t\t\tarr3.push(arr2.join(\'/\'));',
'\t\t\t}',
'\t\t\treturn arr3;',
'\t\t}',
'\t\tvar arr = prepareWork(dirName);',
'\t\tvar count = 0;',
'\t\tvar onCompleteLocal = function() {',
'\t\t\tif(count == arr.length) {',
'\t\t\t\tonComplete();',
'\t\t\t} else {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectory(arr[count],onCompleteLocal,onError);',
'\t\t\t\t++count;',
'\t\t\t}',
'\t\t}',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectory(arr[count],onCompleteLocal,onError);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectory = function(dirName, onComplete, onError) {',
'\t\t//calls onComplete with an array of files in the directory',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\t//got filesystem event handler',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tif(dirName.indexOf(\'/\') == 0) dirName = dirName.substring(1);',
'\t\t\t//got the fileSystem',
'\t\t\t//alert(\'got fs - dirName:  \' + dirName);',
'\t\t\tfs.root.getDirectory(dirName,{},function(e) {',
'\t\t\tvar dirReader = e.createReader();',
'\t\t\tvar listFiles = function(entries) {',
'\t\t\t\tvar fileCount = entries.length;',
'\t\t\t\tvar arr = [];',
'\t\t\t\tvar displayName = \'\';',
'\t\t\t\tfor(var i = 0; i < fileCount ; i++) {',
'\t\t\t\t\tif(entries[i].isFile) displayName = entries[i].fullPath + \' [F]\';',
'\t\t\t\t\telse displayName = entries[i].fullPath + \' [D]\';',
'\t\t\t\t\tarr.push( {fullPath: entries[i].fullPath, isFile: entries[i].isFile, display: displayName } );',
'\t\t\t\t}',
'\t\t\t\tif(typeof onComplete == \'function\') {',
'\t\t\t\t\tonComplete(arr);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tdirReader.readEntries(listFiles,onError);',
'\t\t},onError);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectoryRecurse = function(folder, onDirComplete, onDirError) {',
'\t\t//onDirComplete gets called with files, an array of all files. each array entry has a \'fileName\' property.',
'\t\tvar files = [];',
'\t\tvar pending = 0;',
'\t\tvar onComplete = function(array) {',
'\t\t\tfor(var i = 0; i < array.length; i++) {',
'\t\t\t\tif(array[i].isFile) {',
'\t\t\t\t\tfiles.push({fullPath: array[i].fullPath, isFile: true, display: array[i].fullPath + \' [F]\'})',
'\t\t\t\t} else {',
'\t\t\t\t\t++pending;',
'\t\t\t\t\tfiles.push({fullPath: array[i].fullPath, isFile: false, display: array[i].fullPath + \' [D]\'})',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectory(array[i].fullPath,onComplete,onError)',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t--pending;',
'\t\t\tif(pending == 0) {',
'\t\t\t\tonDirComplete(files);',
'\t\t\t}',
'\t\t}',
'\t\tvar onError = function(err) {',
'\t\t\tif(typeof onDirError == \'function\') {',
'\t\t\t\tonDirError(err);',
'\t\t\t\tonDirComplete = function() { } //prevent the all complete from firing',
'\t\t\t}',
'\t\t\telse alert(\'Error\');',
'\t\t}',
'\t\t++pending;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectory(folder,onComplete,onError);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectory = function(dirName,onSuccess,onError,flagRecursive) {',
'\t\tif(typeof flagRecursive == \'undefined\') flagRecursive = false;',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar gotDirectory = function(dirEntry) {',
'\t\t\t\tif(flagRecursive) {',
'\t\t\t\t\tdirEntry.removeRecursively(function() {',
'\t\t\t\t\t\tif(typeof onSuccess == \'function\') onSuccess();',
'\t\t\t\t\t},onError);',
'\t\t\t\t} else {',
'\t\t\t\t\tdirEntry.remove(function() {',
'\t\t\t\t\t\tif(typeof onSuccess == \'function\') onSuccess();',
'\t\t\t\t\t},onError);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t//if you cant find the dir then it is effectively removed, so call onSuccess',
'\t\t\tfs.root.getDirectory(dirName, {}, gotDirectory, onSuccess);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectoryRecurse = function(dirName,onSuccess,onError) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectory(dirName,onSuccess,onError,true);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFile = function(fileName,onSuccess,onError) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tfs.root.getFile(fileName, {create: false}, function(f) {',
'\t\t\t\tf.remove( function() {',
'\t\t\t\t\tif(typeof onSuccess == \'function\') {',
'\t\t\t\t\t\tonSuccess();',
'\t\t\t\t\t}',
'\t\t\t\t}, onError );',
'\t\t\t}, onError);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileExists = function(fileName,onResult,onFailed) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar gotFile = function(f) {',
'\t\t\t\tif(typeof onResult == \'function\') onResult(true);',
'\t\t\t}',
'\t\t\tvar didNotGetFile = function() {',
'\t\t\t\tif(typeof onResult == \'function\') onResult(false);',
'\t\t\t}',
'\t\t\tfs.root.getFile(fileName, {create: false}, gotFile,didNotGetFile);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onFailed );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapReadFile = function(fileName,onReadFile,onReadFileERROR,startAt,endAt) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar readFile = function(f) {',
'\t\t\t\tf.file( function(e) {',
'\t\t\t\t\treader = new FileReader();',
'\t\t\t\t\treader.onloadend = function(e) {',
'\t\t\t\t\t\tif(typeof onReadFile == \'function\') {',
'\t\t\t\t\t\t\tonReadFile(e.target.result);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tif(typeof startAt == \'undefined\' || typeof endAt == \'undefined\') {',
'\t\t\t\t\t\treader.readAsText(e);',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tvar blob = e.slice(startAt,endAt);',
'\t\t\t\t\t\treader.readAsText(blob);',
'\t\t\t\t\t}',
'\t\t\t\t});',
'\t\t\t}',
'\t\t\tfs.root.getFile(fileName, {create: false}, readFile, onReadFileERROR);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onReadFileERROR );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj._phoneGapCreateFile_low = function(fileName,text,onCreatedFile,onCreateFileERROR) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar writeFileData = function(f) {',
'\t\t\t\tvar doFileWrite = function(writerObject) {',
'\t\t\t\t\twriterObject.onwrite = function() {',
'\t\t\t\t\t\tif(typeof onCreatedFile == \'function\') onCreatedFile();',
'\t\t\t\t\t}',
'\t\t\t\t\twriterObject.seek(writerObject.length);',
'\t\t\t\t\tvar blob = new Blob([text], {type: \'text/plain\'});',
'\t\t\t\t\twriterObject.write(blob);',
'\t\t\t\t}',
'\t\t\t\tf.createWriter(doFileWrite);',
'\t\t\t}',
'\t\t\tfs.root.getFile(fileName, {create:true}, writeFileData, onCreateFileERROR);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onCreateFileERROR );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateFile = function(fileName,text,onCreatedFile,onCreateFileERROR,flagAppend) {',
'\t\tif(fileName == \'\') {if(typeof onCreateFileERROR == \'function\') onCreateFileERROR(); return false;}',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tif(!flagAppend) {',
'\t\t\t\tvar onDelete = function() {',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._phoneGapCreateFile_low(fileName,text,onCreatedFile,onCreateFileERROR);',
'\t\t\t\t}',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFile(fileName,onDelete,onDelete)',
'\t\t\t} else {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._phoneGapCreateFile_low(fileName,text,onCreatedFile,onCreateFileERROR)',
'\t\t\t}',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onCreateFileERROR );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileDownload = function(arr,options) {',
'\t\tvar flagCustomOnError = false;',
'\t\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents != \'undefined\') flagCustomOnError = {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents;',
'\t\tif(!flagCustomOnError) window.onerror = function(err) { alert(\'Unhandled Javascript Error - phoneGapFileDownload:  \' + JSON.stringify(err));}',
'\t\tvar _dlgObj = this;',
'\t\tif(typeof LocalFileSystem == \'undefined\') {',
'\t\t\tif(typeof cordova == \'undefined\') {',
'\t\t\t\talert(\'Method not supported when not running in PhoneGap\');',
'\t\t\t} else {',
'\t\t\t\talert(\'Required PhoneGap plugins not loaded.\');',
'\t\t\t}',
'\t\t\treturn false;',
'\t\t}',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\t//got filesystem event handler',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tarr[i].handled = false;',
'\t\t\tarr[i].downloaded = false;',
'\t\t\tarr[i].sourceType = \'server\';',
'\t\t\tif(arr[i].filename.toLowerCase().indexOf(\'http://\') == 0) arr[i].sourceType = \'url\';',
'\t\t\tif(arr[i].filename.toLowerCase().indexOf(\'https://\') == 0) arr[i].sourceType = \'url\';',
'\t\t\tif(arr[i].sourceType == \'url\') {',
'\t\t\t\tarr[i].sourceFilename = arr[i].filename.split(\'/\').pop().split(\'?\')[0];',
'\t\t\t}',
'\t\t}',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar baseDirectory = fs.root.toURL();',
'\t\t\tvar url = {UXPRERENDEREDALIAS}_DlgObj.ajaxURL;',
'\t\t\turl = url.split(\'?\')[0];',
'\t\t\turl = url.split(\'/\');',
'\t\t\turl.pop();',
'\t\t\turl = url.join(\'/\') + \'/\';',
'\t\t\toptions._serverURL = url;',
'\t\t\toptions._baseDirectory = baseDirectory;',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t//arr[i].localFileName = false;',
'\t\t\t}',
'\t\t\tif(options.showProgress) {',
'\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\tvar idProgress = eleTarget;',
'\t\t\t\tvar ele = $(idProgress);',
'\t\t\t\tif(!ele) options.showProgress = false; //set to false or else you will hang iOS',
'\t\t\t}',
'\t\t\tif(options.showProgress) {',
'\t\t\t\tvar ops = options.progress;',
'\t\t\t\tops.totalFileSize = options.totalFileSize;',
'\t\t\t\tvar eleTarget = ops.progressElement;',
'\t\t\t\teleTarget = eleTarget.toUpperCase();',
'\t\t\t\tvar html = \'\';',
'\t\t\t\tvar html_i = \'\';',
'\t\t\t\tvar name_i = \'\';',
'\t\t\t\tvar progress_i = \'\';',
'\t\t\t\tvar idName = \'\';',
'\t\t\t\tvar idProgress = \'\';',
'\t\t\t\tidProgress = eleTarget + \'.PROGRESS.TOTAL\';',
'\t\t\t\tidName = eleTarget + \'.NAME.TOTAL\';',
'\t\t\t\tprogress_i = \'<div style="border: solid 1px \'+ops.color+\'; width: \'+ops.width+\';">\';',
'\t\t\t\tprogress_i += \'<div id="\'+idProgress+\'"style="width: 0%; height: .05in;  background-color:\'+ops.color+\';"></div></div>\';',
'\t\t\t\thtml_i = \'<div id="\'+idName+\'"></div>\'+progress_i;',
'\t\t\t\thtml = html + html_i',
'\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\thtml = \'<div id="\'+idProgress+\'">\' + html + \'<div>\';',
'\t\t\t\tif ($(eleTarget)) $(eleTarget).innerHTML = html;',
'\t\t\t\tvar showProgress = function(pct) {',
'\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESS.TOTAL\';',
'\t\t\t\t\tvar ele = $(idProgress);',
'\t\t\t\t\tif(ele) ele.style.width = pct + \'%\';',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\tvar showProgress = function(pct) { };',
'\t\t\t}',
'\t\t\tvar phoneGapFileDownload_low = function(arr,i,options) {',
'\t\t\t\tvar targetFolder = options.targetFolder;',
'\t\t\t\tif(targetFolder != \'\') targetFolder = targetFolder + \'/\';',
'\t\t\t\tvar fnLocal = options._baseDirectory + targetFolder + arr[i].filename;',
'\t\t\t\tif(arr[i].sourceType == \'url\') {',
'\t\t\t\t\tfnLocal = options._baseDirectory + targetFolder +arr[i].sourceFilename;',
'\t\t\t\t}',
'\t\t\t\t//if the targetFolder is <SQLite>|localdbname.db user is doing a special download to the SQL database folder',
'\t\t\t\tvar flagSQLite = false;',
'\t\t\t\t/*',
'\t\t\t\tif(targetFolder.indexOf(\'<SQLite>\') == 0) {',
'\t\t\t\t\tvar localDBName = targetFolder.split(\'|\')[1];',
'\t\t\t\t\tlocalDBName = localDBName.split(\'/\')[0];',
'\t\t\t\t\tflagSQLite = true;',
'\t\t\t\t\tvar thisPackageName = \'\';',
'\t\t\t\t\tthisPackageName = _phoneGapSettings().appId ;',
'\t\t\t\t\tvar localDbFileUrl = \t{',
'\t\t\t\t\t\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + localDBName,',
'\t\t\t\t\t\t\tios: \'cdvfile://localhost/persistent/\' + localDBName',
'\t\t\t\t\t\t\t//cdvfile://localhost/persistent/sqlite/\' + localDBName',
'\t\t\t\t\t\t};',
'\t\t\t\t\tif(typeof device == \'undefined\') {',
'\t\t\t\t\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar thisDevice = device.platform;',
'\t\t\t\t\tvar fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\t\t\t\t\tconsole.log(\'database location: \' + fileUrl);',
'\t\t\t\t\tfnLocal = fileUrl;',
'\t\t\t\t}',
'\t\t\t\t*/',
'\t\t\t\t///////////////////// new code /////////////////',
'\t\t\t\tif(targetFolder.indexOf(\'<SQLite>\') == 0) {',
'\t\t\t\t\tvar localDBName = targetFolder.split(\'|\')[1];',
'\t\t\t\t\tlocalDBName = localDBName.split(\'/\')[0];',
'\t\t\t\t\tflagSQLite = true;',
'\t\t\t\t\tvar thisPackageName = \'\';',
'\t\t\t\t\tthisPackageName = _phoneGapSettings().appId ;',
'\t\t\t\t\tvar localDbFileUrl = {',
'\t\t\t\t\t\t// Android note: This entry was tested and works on Android 6.01, 5.5.1, 4.4.2',
'\t\t\t\t\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + localDBName,',
'\t\t\t\t\t\t// iOS Note: dataDirectory will point to ..appid/Library/NoCloud',
'\t\t\t\t\t\t// This is not exposed to iTunes or iCloud',
'\t\t\t\t\t\tios: cordova.file.dataDirectory + localDBName',
'\t\t\t\t\t};',
'\t\t\t\t\tif(typeof device == \'undefined\') {',
'\t\t\t\t\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar thisDevice = device.platform;',
'\t\t\t\t\tvar fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\t\t\t\t\tconsole.log(\'.phoneGapFileDownload reports fileUrl: \' + fileUrl);',
'\t\t\t\t\tfnLocal = fileUrl;',
'\t\t\t\t}',
'\t\t\t\t/////////////////// end new code ////////////////',
'\t\t\t\tvar fileFound = function() {',
'\t\t\t\t\tvar forceDownload = false;',
'\t\t\t\t\tforceDownload = options.forceDownloadIfFileExists;',
'\t\t\t\t\tif(typeof forceDownload == \'undefined\') forceDownload = false;',
'\t\t\t\t\tif(forceDownload) {',
'\t\t\t\t\t\tfileNotFound();',
'\t\t\t\t\t\treturn true;',
'\t\t\t\t\t}',
'\t\t\t\t\tarr[i].handled = true;',
'\t\t\t\t\tarr[i].found = true;',
'\t\t\t\t\tarr[i].localFilename = fnLocal;',
'\t\t\t\t\tarr[i].success = true;',
'\t\t\t\t\tvar allHandled = true;',
'\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\tif(!arr[k].handled) {',
'\t\t\t\t\t\t\tallHandled = false;',
'\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tif(allHandled) {',
'\t\t\t\t\t\tif(typeof options.onComplete == \'function\') options.onComplete(arr);',
'\t\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\t\tvar ele = $(idProgress);',
'\t\t\t\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar fileNotFound = function() {',
'\t\t\t\t\t//file was not in the local filesystem so must download it.',
'\t\t\t\t\tarr[i].found = false;',
'\t\t\t\t\tarr[i].localFilename = fnLocal;',
'\t\t\t\t\tvar url2 = options._serverURL + arr[i].filename;',
'\t\t\t\t\tif(arr[i].sourceType == \'url\') {',
'\t\t\t\t\t\turl2 = arr[i].filename;',
'\t\t\t\t\t}',
'\t\t\t\t\tvar ft = new FileTransfer();',
'\t\t\t\t\tft.onprogress = function(progressEvent) {',
'\t\t\t\t\t\tif (progressEvent.lengthComputable) {',
'\t\t\t\t\t\t\tarr[i].totalBytes = progressEvent.total;',
'\t\t\t\t\t\t\tarr[i].bytesLoaded = progressEvent.loaded;',
'\t\t\t\t\t\t\tvar totalSize = -1;',
'\t\t\t\t\t\t\tif(typeof options != \'undefined\') {',
'\t\t\t\t\t\t\t\ttotalSize = options.totalFileSize;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tif(typeof totalSize == \'undefined\') totalSize = -1;',
'\t\t\t\t\t\t\tif(totalSize == -1) {',
'\t\t\t\t\t\t\t\tvar pctComplete = (progressEvent.loaded / progressEvent.total)*100;',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\tvar pctComplete = (progressEvent.loaded / totalSize)*100;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tif(pctComplete > 100) pctComplete = 100;',
'\t\t\t\t\t\t\tpctComplete = $u.n.round(pctComplete,4);',
'\t\t\t\t\t\t\tarr[i].pctComplete = pctComplete;',
'\t\t\t\t\t\t\tvar totalBytes = 0;',
'\t\t\t\t\t\t\tvar loaded = 0;',
'\t\t\t\t\t\t\tvar pctCompleteTotal = 0;',
'\t\t\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\t\t\tif(typeof arr[k].totalBytes != \'undefined\') {',
'\t\t\t\t\t\t\t\t\ttotalBytes = totalBytes + arr[k].totalBytes;',
'\t\t\t\t\t\t\t\t\tloaded = loaded + arr[k].bytesLoaded;',
'\t\t\t\t\t\t\t\t\tpctCompleteTotal = (loaded/totalBytes) * 100;',
'\t\t\t\t\t\t\t\t\tif(totalSize > 0) {',
'\t\t\t\t\t\t\t\t\t\tpctCompleteTotal = (loaded/totalSize) * 100;',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\t//don\'t start showing progress till you have got the size of every file',
'\t\t\t\t\t\t\t\t\t//or else the progress bar will jump around',
'\t\t\t\t\t\t\t\t\tvar flagStartShowingProgress = true;',
'\t\t\t\t\t\t\t\t\t//we don\'t do the inner loop anymore because we are going to start showing progress immediately',
'\t\t\t\t\t\t\t\t\t/*',
'\t\t\t\t\t\t\t\t\tfor(var j = 0; j < arr.length; j++) {',
'\t\t\t\t\t\t\t\t\t\tif(typeof arr[j].totalBytes == \'undefined\') {',
'\t\t\t\t\t\t\t\t\t\t\t//$(\'msg1\').innerHTML = \'not started: \' + arr[j].filename   + \'<br>\' + $(\'msg1\').innerHTML;',
'\t\t\t\t\t\t\t\t\t\t\tflagStartShowingProgress = false;',
'\t\t\t\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\t*/',
'\t\t\t\t\t\t\t\t\tif(flagStartShowingProgress || true ) showProgress(pctCompleteTotal);',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\talert(\'length NOT computable\');',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar flagTrustAllHosts = false;',
'\t\t\t\t\tif(typeof _dlgObj._phoneGapTrustAllHosts != \'undefined\') {',
'\t\t\t\t\t\tflagTrustAllHosts = _dlgObj._phoneGapTrustAllHosts;',
'\t\t\t\t\t}',
'\t\t\t\t\tft.download(url2, fnLocal,',
'\t\t\t\t\t\t\tfunction(entry) {',
'\t\t\t\t\t\t\t\t//alert(\'Success! \' + fnLocal);',
'\t\t\t\t\t\t\t\t//alert(\'number: \' + i );',
'\t\t\t\t\t\t\t\t//alert(JSON.stringify(entry));',
'\t\t\t\t\t\t\t\tarr[i].success = true;',
'\t\t\t\t\t\t\t\tarr[i].handled = true;',
'\t\t\t\t\t\t\t\tarr[i].downloaded = true;',
'\t\t\t\t\t\t\t\t//fileAllDone();',
'\t\t\t\t\t\t\t\tvar allHandled = true;',
'\t\t\t\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\t\t\t\tif(!arr[k].handled) {',
'\t\t\t\t\t\t\t\t\t\tallHandled = false;',
'\t\t\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\tif(allHandled) {',
'\t\t\t\t\t\t\t\t\tif(typeof options.onComplete == \'function\') options.onComplete(arr);',
'\t\t\t\t\t\t\t\t\tif(options.showProgress) {',
'\t\t\t\t\t\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\t\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\t\t\t\t\t\t$(idProgress).style.display = \'none\';',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t},',
'\t\t\t\t\t\t\tfunction(err) {',
'\t\t\t\t\t\t\t\t//alert(\'Error in file transfer: \' + fnLocal);',
'\t\t\t\t\t\t\t\t//debugger;',
'\t\t\t\t\t\t\t\tarr[i].success = false;',
'\t\t\t\t\t\t\t\tarr[i].errorText = JSON.stringify(err);',
'\t\t\t\t\t\t\t\tarr[i].handled = true;',
'\t\t\t\t\t\t\t\t//fileAllDone();',
'\t\t\t\t\t\t\t\tvar allHandled = true;',
'\t\t\t\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\t\t\t\tif(!arr[k].handled) {',
'\t\t\t\t\t\t\t\t\t\tallHandled = false;',
'\t\t\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\tif(allHandled) {',
'\t\t\t\t\t\t\t\t\tif(typeof options.onComplete == \'function\') options.onComplete(arr);',
'\t\t\t\t\t\t\t\t\tif(options.showProgress) {',
'\t\t\t\t\t\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\t\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\t\t\t\t\t\tif($(idProgress)) $(idProgress).style.display = \'none\';',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t},',
'\t\t\t\t\t\t\tflagTrustAllHosts',
'\t\t\t\t\t);',
'\t\t\t\t\t//end fetch file  ---------------------------------------',
'\t\t\t\t\t//true/false -- trustAllHosts parameter',
'\t\t\t\t}',
'\t\t\t\twindow.resolveLocalFileSystemURL(fnLocal, fileFound, fileNotFound);',
'\t\t\t}',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tphoneGapFileDownload_low(arr,i,options)',
'\t\t\t}',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\tA5.ts = function() {',
'\t\tvar d = new Date()',
'\t\treturn d.getTime().toString(36);',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetFileSystemURIForLegacyPersistentStorage = function(ok,fail) {',
'\tvar _ok = ok;',
'\tvar onFSSuccess = function(fs) {',
'\t\tvar uri = fs.root.filesystem.root.nativeURL;',
'\t\t_ok(uri);',
'\t}',
'\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, fail );',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.base64DataToBlob = function(dataURI) {',
'\t//data:image/jpeg;base64,/',
'\t// convert base64/URLEncoded data component to raw binary data held in a string',
'    var byteString;',
'    if (dataURI.split(\',\')[0].indexOf(\'base64\') >= 0)',
'        byteString = atob(dataURI.split(\',\')[1]);',
'    else',
'        byteString = unescape(dataURI.split(\',\')[1]);',
'    // separate out the mime component',
'    var mimeString = dataURI.split(\',\')[0].split(\':\')[1].split(\';\')[0];',
'    // write the bytes of the string to a typed array',
'    var ia = new Uint8Array(byteString.length);',
'    for (var i = 0; i < byteString.length; i++) {',
'        ia[i] = byteString.charCodeAt(i);',
'    }',
'    return new Blob([ia], {type:mimeString});',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteDownloadDatabase = function(SQLiteDBURL,localDBName,onComplete,onError,optionsIn) {',
'\tif(SQLiteDBURL.indexOf(\'http://\') == 0 || SQLiteDBURL.indexOf(\'https://\') == 0) {',
'\t\t//don\'t need to add the baseURL',
'\t} else {',
'\t\tvar url = {UXPRERENDEREDALIAS}_DlgObj.ajaxURL;',
'\t\turl = url.split(\'?\')[0];',
'\t\turl = url.split(\'/\');',
'\t\turl.pop();',
'\t\turl = url.join(\'/\') + \'/\';',
'\t\tSQLiteDBURL =  url + SQLiteDBURL;',
'\t}',
'\tif(typeof onError != \'function\') {',
'\t\tonError = function(error) {',
'\t\t\talert(\'Database Download Failed. File transfer error: \'+error);',
'\t\t}',
'\t}',
'\tif(typeof _phoneGapSettings == \'undefined\') {',
'\t\talert(\'PhoneGap not loaded\');',
'\t\treturn false;',
'\t}',
'\tvar flagSQL = _phoneGapSettings().plugins[\'cordova-sqlite-ext\'];   //com.brodysoft.sqliteplugin',
'\tflagSQL = true;',
'\tif(typeof flagSQL == \'undefined\') flagSQL = false;',
'\tif(!flagSQL) {',
'\t\talert(\'SQLitePluginExt not loaded\');',
'\t\treturn false;',
'\t}',
'\t////////////////////',
'\tif(typeof optionsIn == \'undefined\') {',
'\t\tvar ops = {',
'\t\t\tshowProgress : false,',
'\t\t\tforceDownloadIfFileExists : true',
'\t\t\t}',
'\t} else {',
'\t\tvar ops = optionsIn',
'\t}',
'\tvar arr = [];',
'\tarr.push({filename: SQLiteDBURL});',
'\tvar options = {};',
'\toptions.targetFolder = \'<SQLite>|\' + localDBName;',
'\toptions.onComplete = function() {',
'\t\tonComplete.call();',
'\t}',
'\toptions.onError = function() { onError.call() };',
'\toptions.showProgress = ops.showProgress;',
'\toptions.forceDownloadIfFileExists = ops.forceDownloadIfFileExists;',
'\tif(options.showProgress) {',
'\t\toptions.progress = ops.progress;',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileDownload(arr,options);',
'\t///////////////////////////////////',
'\t/*',
'\tvar thisPackageName = \'\';',
'\tthisPackageName = _phoneGapSettings().appId ;',
'\t//alert(thisPackageName)',
'\tvar localDbFileUrl = \t{',
'\t\t\t\t\t\t\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + localDBName,',
'\t\t\t\t\t\t\t\tios: \'cdvfile://localhost/persistent/\' + localDBName',
'\t\t\t\t\t\t\t};',
'\tif(typeof device == \'undefined\') {',
'\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t}',
'\tvar thisDevice = device.platform;',
'\tvar fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\tvar fileTransfer = new FileTransfer();',
'\tvar uri = encodeURI(SQLiteDBURL);',
'\tvar options = {};',
'\tfileTransfer.download(uri,fileUrl,onComplete,onError,false,options);',
'\t*/',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteExecuteSQL = function(dbName,sql,argumentsIn,onSuccess,onError, onTransactionSuccess, onTransactionError) {',
'\tvar flagCustomOnError = false;',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents != \'undefined\') flagCustomOnError = {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents;',
'\tif(!flagCustomOnError) window.onerror = function(err) { alert(\'Unhandled Javascript Error - SQliteExecuteSQL:  \' + JSON.stringify(err));}',
'\tvar flagSQL = _phoneGapSettings().plugins[\'cordova-sqlite-ext\'];   //com.brodysoft.sqliteplugin',
'\t\tflagSQL = true;',
'\t\tif(typeof flagSQL == \'undefined\') flagSQL = false;',
'\t\tif(!flagSQL) {',
'\t\t\talert(\'SQLitePluginExt not loaded\');',
'\t\t\treturn false;',
'\t}',
'\tif(typeof onSuccess == \'undefined\') onSuccess = false;',
'\tif(typeof onError == \'undefined\') onError = false;',
'\tif(typeof argumentsIn == \'undefined\' || argumentsIn.constructor != Array) argumentsIn = [];',
'\tif(onSuccess.constructor != Array)  {',
'\t\tif(typeof onSuccess != \'function\') {',
'\t\t\tonSuccess = function(tx,result) {',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(onError.constructor != Array)  {',
'\t\tif(typeof onError != \'function\') {',
'\t\t\t\tonError = function(e) {',
'\t\t\t\t}',
'\t\t}',
'\t}',
'\tif(typeof device == \'undefined\') {',
'\t\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t}',
'\tvar flagArrayOfObjects = false;',
'\tif(sql.constructor == Array) {',
'\t\tif(sql[0].constructor == Object) {',
'\t\t\tflagArrayOfObjects = true;',
'\t\t}',
'\t}',
'\tif(flagArrayOfObjects) {',
'\t\tvar a = sql;',
'\t\tdelete sql;',
'\t\tsql = [];',
'\t\targumentsIn = [];',
'\t\tonSuccess = [];',
'\t\tonError = [];',
'\t\tfor(var i = 0; i < a.length; i++) {',
'\t\t\tsql[i] = a[i].sql;',
'\t\t\tif(typeof a[i].arguments != \'undefined\') {',
'\t\t\t\targumentsIn[i] = a[i].arguments;',
'\t\t\t} else {',
'\t\t\t\targumentsIn[i] = [];',
'\t\t\t}',
'\t\t\tif(typeof a[i].onSuccess != \'undefined\') {',
'\t\t\t\tonSuccess[i] = a[i].onSuccess;',
'\t\t\t} else {',
'\t\t\t\tonSuccess[i] = function() { };',
'\t\t\t}',
'\t\t\tif(typeof a[i].onError != \'undefined\') {',
'\t\t\t\tonError[i] = a[i].onError;',
'\t\t\t} else {',
'\t\t\t\tonError[i] = function() { };',
'\t\t\t}',
'\t\t}',
'\t}',
'\t/*',
'\tvar thisDevice = device.platform;',
'\t//var dbFilename = thisDevice == \'Android\' ? dbName:\'files/\' + dbName;',
'\tvar thisPackageName = \'\';',
'\tthisPackageName = _phoneGapSettings().appId ;',
'\tvar localDbFileUrl = \t{',
'\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + dbName,',
'\t\tios: \'cdvfile://localhost/persistent/\' + dbName',
'\t\t//cdvfile://localhost/persistent/sqlite/\' + localDBName',
'\t};',
'\tvar dbFilename = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\tconsole.log(\'database location: \' + dbFilename);',
'\tdelete db;',
'\tif(typeof window.sqlitePlugin == \'undefined\') {',
'\t\talert(\'Error: PhoneGap SQLite plugin not loaded.\');',
'\t}',
'\tvar db = window.sqlitePlugin.openDatabase({name:dbFilename,location:2});',
'\t*/',
'\t///////////////// new code starts here/////////////',
'\t//start here........',
'\tvar thisDevice = device.platform;',
'\tvar dbFilename = thisDevice == \'Android\' ? dbName:\'NoCloud/\' + dbName;   //NoCloud -- no exposed to iTunes and not backed up to iCloud',
'\tconsole.log(\'.SQLiteExecuteSQL: database location = \' + dbFilename);',
'\tif(typeof window.sqlitePlugin == \'undefined\') {',
'\t\talert(\'Error: PhoneGap SQLite plugin not loaded.\');',
'\t}',
'\tvar location = \'download\';',
'\tif( dbName.indexOf(\'root:\') == 0) {',
'\t\tlocation = \'root\';',
'\t\tdbName = dbName.split(\'root:\')[1];',
'\t}',
'\t//this is for a db that is downloaded from the server',
'\tif(location == \'download\') {',
'\t\tvar db = window.sqlitePlugin.openDatabase({name:dbFilename,location:1});',
'\t} else {',
'\t\t//if the db is in the webroot (pre-populated), then use this code',
'\t\tvar db = window.sqlitePlugin.openDatabase({name: dbName , location: 2, createFromLocation: 1});',
'\t}',
'\t///// end here.....',
'\t///////////////////new code ends here ////////////////',
'\tdb.transaction(',
'\t\tfunction(tx) {',
'\t\t\t//array of sql statements or array of array',
'\t\t\tvar flagArrayOfArrays = false;',
'\t\t\ttry{if(argumentsIn[0].constructor == Array) flagArrayOfArrays = true;} catch(e) {}',
'\t\t\tif(sql.constructor == Array || flagArrayOfArrays) {',
'\t\t\t\tif(sql.constructor == Array) {',
'\t\t\t\t\tvar sql_length = sql.length;',
'\t\t\t\t} else {',
'\t\t\t\t\tvar sql_length = argumentsIn.length;',
'\t\t\t\t}',
'\t\t\t\tvar i = 0;',
'\t\t\t\tfunction _lowSQL(transObj) {',
'\t\t\t\t\tif(sql.constructor == Array) {',
'\t\t\t\t\t\tvar sql_i = sql[i];',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tvar sql_i = sql;',
'\t\t\t\t\t}',
'\t\t\t\t\tvar args_i = argumentsIn[i];',
'\t\t\t\t\tif(typeof args_i != \'undefined\') {',
'\t\t\t\t\t\tfor(var j = 0; j < args_i.length; j++) {',
'\t\t\t\t\t\t\tif(typeof args_i[j] == \'function\') {',
'\t\t\t\t\t\t\t\tvar result = args_i[j].call(this,transObj);',
'\t\t\t\t\t\t\t\targs_i[j] = result;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar success_i = function(tx2,result) {',
'\t\t\t\t\t\tvar resultArray = {UXPRERENDEREDALIAS}_DlgObj.SQLiteResultSetToArray(result);',
'\t\t\t\t\t\tif(onSuccess.constructor == Array) {',
'\t\t\t\t\t\t\tonSuccess[i].call(this,tx2,result,resultArray,transObj);',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\tonSuccess.call(this,tx2,result,resultArray,transObj);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\ti++;',
'\t\t\t\t\t\tif(i < sql_length) {',
'\t\t\t\t\t\t\t_lowSQL(transObj);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar error_i = function(e) {',
'\t\t\t\t\t\tif(onError.constructor == Array) {',
'\t\t\t\t\t\t\tonError[i].call(this,e);',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\tonError.call(this,e);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\ttx.executeSql(sql_i,args_i,success_i,error_i);',
'\t\t\t\t}',
'\t\t\t\t_lowSQL({});',
'\t\t\t} else {',
'\t\t\t\t//single sql statement',
'\t\t\t\ttx.executeSql(sql,argumentsIn,function(tx,result) {',
'\t\t\t\t\tvar resultArray = {UXPRERENDEREDALIAS}_DlgObj.SQLiteResultSetToArray(result);',
'\t\t\t\t\tonSuccess.call(this,tx,result,resultArray);',
'\t\t\t\t}, function(e) {onError.call(this,e); });',
'\t\t\t}',
'\t\t},',
'\t\tfunction(e) { /*transaction failure*/ if(typeof onTransactionError == \'function\') { onTransactionError.call(this);} db.close(); },',
'\t\tfunction() { /*transaction success*/ if(typeof onTransactionSuccess == \'function\') { onTransactionSuccess.call(this);} db.close();  }',
'\t);',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteResultSetToArray = function(result) {',
'\tvar array = [];',
'\tif (result !=null && result.rows != null){',
'\t\tfor (var i = 0; i < result.rows.length; i++) {',
'\t\t\tarray.push(result.rows.item(i));',
'\t\t}',
'\t}',
'\treturn array;',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteDeleteDatabase = function(dbName,successCB,errorCB,location) {',
'\tvar flagSQL = _phoneGapSettings().plugins[\'cordova-sqlite-ext\'];   //com.brodysoft.sqliteplugin',
'\t\tflagSQL = true;',
'\t\tif(typeof flagSQL == \'undefined\') flagSQL = false;',
'\t\tif(!flagSQL) {',
'\t\t\talert(\'SQLitePluginExt not loaded\');',
'\t\t\treturn false;',
'\t}',
'\t/*',
'\tif(typeof location == \'undefined\') location = 2;',
'\t*/',
'\t///// new code /////',
'\tif(typeof location == \'undefined\') location = 1;',
'\t///// end new code /////',
'\twindow.sqlitePlugin.deleteDatabase({name: dbName, location: location}, successCB, errorCB);',
'}',
'////////////////////////////////////////',
'{UXPRERENDEREDALIAS}_DlgObj.submitListDataAndMediaFiles = function(listName,xbCallbackFunction,ajaxObject,mediaFileUploadObject) {',
'\t//first, upload media files, then upload dirty records in a list and then call xbCallbackFunction on the server side. Uploaded data will be in e._listData in the Xbasic function',
'\t/*',
'\tExample syntax:',
'\tvar ajaxObject = {',
'\t\terrorFunction: function() { alert(\'failed ajax\'); },',
'\t\tonComplete: function() { alert(\'ajax done\');},',
'\t\tdeviceOfflineFunction: function() { alert(\'offline \');  }',
'\t}',
'\tvar objUpload = {',
'\t\ttarget: \'alphaanywhere\',',
'\t\tshowProgress: true,',
'\t\tonComplete: function(array) {},',
'\t\tonMediaUploadErrors: function(array) { alert(\'there were media upload errors\');},',
'\t\txbasicAfterFileUploaded: \'xbAfterUpload\',',
'\t\tprogress: {',
'\t\t\tcolor: \'#9fa1e8\',',
'\t\t\twidth: \'300px\',',
'\t\t\tindividualProgress: false,',
'\t\t\tshowTotalProgress: true,',
'\t\t\tallowCancel: false,',
'\t\t\tprogressElement: \'{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_2\'',
'\t\t}',
'\t}',
'\t//to upload to s3',
'\ttarget: \'s3\',',
'\t\ts3: {',
'\t\t\tconnectionString: \'alphamediacapture\',',
'\t\t\tprotectedRead: false,',
'\t\t\ttemplate: \'https://alphamediacapture.s3.amazonaws.com/__name__\'',
'\t},',
'\t///////',
'\t{UXPRERENDEREDALIAS}_DlgObj.submitListDataAndMediaFiles(\'list1\',xbName,ajaxObject,objUpload);',
'\t*/',
'\tvar lObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(listName);',
'\tif(!lObj) return false;',
'\tvar objAjax = {};',
'\tif(typeof arguments[2] == \'object\') objAjax = arguments[2];',
'\tvar objUpload = {};',
'\tif(typeof arguments[3] == \'object\') objUpload = arguments[3]; //this is the object that defines the upload target (s3/alphaanywhere), showProgress, etc',
'\tvar _userOnComplete = objUpload.onComplete;',
'\tobjUpload.onComplete = function(array) {',
'\t\t_userOnComplete.call(this,array)',
'\t\tpushRemoteMediaNamesToArray(array,_data);',
'\t}',
'\tvar xbasicFunction = xbCallbackFunction;',
'\t//define local functions',
'\tvar _ajaxUpload = function(data,xbasicFunction,objAjax) {',
'\t\tvar listData = JSON.stringify(data,\'\',\'\\t\');',
'\t\tlistData = A5.ajax.buildURLParam(\'_listData\',listData);',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',xbasicFunction,\'\',listData, objAjax);',
'\t}',
'\tvar pushRemoteMediaNamesToArray = function(mediaFiles,_data) {',
'\t\tvar _data2 = [];',
'\t\t$u.o.assign(_data2,_data);',
'\t\t//media files have been uploaded and the mediaFiles[] array has these properties of interest',
'\t\t//listFieldName -- name of the field in the data array that had the media field',
'\t\t//route -- an array that looks like [{table: \'_top_\', row: 1}]',
'\t\t//remoteName -- the name of the alpha server or s3',
'\t\t//succeeded',
'\t\tvar r = \'\';',
'\t\tvar table = \'\';',
'\t\tvar _di = \'\';',
'\t\tvar _diTop = \'\';',
'\t\tfor(var i = 0; i < mediaFiles.length; i++) {',
'\t\t\tmediaFiles[i].routeObj = JSON.parse(mediaFiles[i].route);',
'\t\t\tr = mediaFiles[i].routeObj[0].row',
'\t\t\tfor(var j = 0; j < mediaFiles[i].routeObj.length; j ++) {',
'\t\t\t\ttable = mediaFiles[i].routeObj[j].table;',
'\t\t\t\tr = mediaFiles[i].routeObj[j].row',
'\t\t\t\tif(table == \'_top_\') {',
'\t\t\t\t\t_di = _data2[r];',
'\t\t\t\t\t_diTop = _di;',
'\t\t\t\t} else {',
'\t\t\t\t\t_di = _di[table][r];',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(typeof _di != \'undefined\') {',
'\t\t\t\t//need to add a check to see if the success flag is true',
'\t\t\t\tif(mediaFiles[i].succeeded) {',
'\t\t\t\t\t _di[mediaFiles[i].listFieldName] = mediaFiles[i].remoteName;',
'\t\t\t\t} else {',
'\t\t\t\t\t_diTop.__flagHasMediaFileUploadError = true;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\t//harvest rows that are dirty and also do not have media upload errors - these rows will be pushed to the server',
'\t\tvar _data3 = [];',
'\t\tvar _mErr = [];',
'\t\tvar flagPush = false;',
'\t\tvar flagHasMediaUploadError = false;',
'\t\tfor(var i = 0; i < _data2.length; i++) {',
'\t\t\tflagPush = true;',
'\t\t\tif(typeof _data2[i].__flagHasMediaFileUploadError != \'undefined\' && _data2[i].__flagHasMediaFileUploadError) {',
'\t\t\t\tflagPush = false;',
'\t\t\t\tflagHasMediaUploadError = true;',
'\t\t\t\t_mErr.push(_data2[i]);',
'\t\t\t}',
'\t\t\tif(flagPush) {',
'\t\t\t\tif(typeof _data2[i]._isDirty == \'undefined\') {',
'\t\t\t\t\tflagPush = false;',
'\t\t\t\t} else if(_data2[i]._isDirty == false) {',
'\t\t\t\t\tflagPush = false;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(flagPush) {',
'\t\t\t\t_data3.push(_data2[i]);',
'\t\t\t}',
'\t\t}',
'\t\tif(flagHasMediaUploadError) {',
'\t\t\tif(typeof objUpload.onMediaUploadErrors == \'function\') {',
'\t\t\t\tobjUpload.onMediaUploadErrors.call(this,_mErr);',
'\t\t\t}',
'\t\t}',
'\t\t_ajaxUpload(_data3,xbasicFunction,objAjax) //do the ajax callback to upload the fixed data array',
'\t}',
'\t//end local functions',
'\tvar _data = lObj.harvestList();',
'\tif(_data.length == 0) {',
'\t\treturn false;',
'\t}',
'\tvar arr = lObj._harvestMediaFields();',
'\talert(JSON.stringify(arr));',
'\tif(arr.length == 0) {',
'\t\t//no media fields -- just make the ajax callback',
'\t\t_ajaxUpload(_data,xbasicFunction,objAjax);',
'\t\treturn true;',
'\t} else {',
'\t\t//upload the media files -- the onComplete event will make the ajax callback',
'\t\t//objUpload._dataToUpload = _data;',
'\t\t_data = lObj._data;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileUpload(arr,objUpload);',
'\t}',
'}',
'// File manipulation',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()',
'//',
'// Returns true if there is a local file system and PhoneGap is running.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable = function() {',
'   if(typeof LocalFileSystem == \'undefined\') {',
'      if(typeof cordova == \'undefined\') {',
'         return false;',
'      }',
'      return false;',
'   }',
'   return true;',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapGetLocalDirURL(type)',
'//',
'// type: "temp", "private", "saved", "public"',
'// On iOS, saved and public may be backed up to iCloud',
'//',
'// Returns URL of base for the requested part of the file system.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetLocalDirURL = function(type) {',
'   var dir = "";',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) return dir;',
'   if (device.platform == \'iOS\') {',
'      switch (type) {',
'         case "temp":',
'            dir = cordova.file.tempDirectory;',
'            break;',
'         case "private":',
'            dir = cordova.file.dataDirectory;',
'            break;',
'         case "saved":',
'            dir = cordova.file.syncedDataDirectory;',
'            break;',
'         case "public":',
'            dir = cordova.file.documentsDirectory;',
'            break;',
'      }',
'   }',
'   else {',
'      switch (type) {',
'         case "temp":',
'            dir = cordova.file.externalCacheDirectory || cordova.file.cacheDirectory;',
'            break;',
'         case "private":',
'            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;',
'            break;',
'         case "saved":',
'            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;',
'            break;',
'         case "public":',
'            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;',
'            break;',
'      }',
'   }',
'   return dir;',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapReadFileURL(filepath, onReadSuccess, onError, startAt, endAt)',
'//',
'// filepath is the local file URL of the desired file.',
'// If startAt and endAt are present, returns just those positions in the file.',
'//',
'// onReadSuccess(result) returns the contents read.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapReadFileURL = function(filepath, onReadSuccess, onError, startAt, endAt) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               var doReadFunction =',
'                  function(file) {',
'                     var reader = new FileReader();',
'                     reader.onloadend =',
'                        function(e) {',
'                           onReadSuccess(this.result);',
'                        };',
'                     if (typeof startAt==\'undefined\' || typeof endAt==\'undefined\') {',
'                        reader.readAsText(file);',
'                     }',
'                     else {',
'                        var blob = file.slice(startAt, endAt);',
'                        reader.readAsText(blob);',
'                     }',
'                  };',
'               fileEntry.file(doReadFunction);',
'            };',
'         fsEntry.getFile(filename, {}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapWriteFileURL(filepath, text, onWriteSuccess, onError, append)',
'//',
'// filepath is the local file URL of the desired file. The directory must',
'// exist, but the file need not.',
'// If append is true, appends to current contents.',
'// Truncates (if file existed) to end of what is written.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapWriteFileURL = function(filepath, text, onWriteSuccess, onError, append) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               var writerFunction =',
'                  function(fileWriter) {',
'                     fileWriter.onwriteend =',
'                        function(e) {',
'                           onWriteSuccess();',
'                        };',
'                     fileWriter.onerror = onError;',
'                     if (append) {',
'                        fileWriter.seek(fileWriter.length);',
'                     }',
'                     var blob = new Blob([text], {type:\'text/plain\'});',
'                     fileWriter.write(blob);',
'                  };',
'               fileEntry.createWriter(writerFunction, onError);',
'            };',
'         fsEntry.getFile(filename, {create: true}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapFileExistsURLfilepath, onResult, onError)',
'//',
'// filepath is the local file URL of the desired file.',
'// onResult(properties) will be called with false if file does not exist.',
'// If file does exist, properties will be:',
'//',
'//    {',
'//       name:file\'s name,',
'//       lastModifiedDate:lastModifiedDate object,',
'//       size:size in bytes,',
'//       type:MIME type if known(not on iOS now, but yes on Android)',
'//    }',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileExistsURL = function(filepath, onResult, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               fileEntry.file(function(fileObj) {',
'                  onResult({name:fileObj.name, lastModifiedDate:fileObj.lastModifiedDate,',
'                     size:fileObj.size, type:fileObj.type});',
'                  },',
'                  onError);',
'            };',
'         var onDidNotGetFile =',
'            function() {',
'               onResult(false);',
'            };',
'         fsEntry.getFile(filename, {create: false}, onGotFile, onDidNotGetFile);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFileURL(filepath, onDeleteSuccess, onError)',
'//',
'// filepath is the local file URL of the file to be deleted.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFileURL = function(filepath, onDeleteSuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               fileEntry.remove(onDeleteSuccess, onError);',
'            };',
'         fsEntry.getFile(filename, {create: false}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapCopyFileURL(srcpath, destdirpath, destname, onCopySuccess, onError)',
'//',
'// srcpath is the local file URL of the file to be copied.',
'// destdirpath is the URL of the directory into which to copy the file.',
'// destname is the name to be given to the copied file. If null, the source filename will be used.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapCopyFileURL = function(srcpath, destdirpath, destname, onCopySuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = srcpath.lastIndexOf("/");',
'   var dirpath = srcpath.substring(0,pos);',
'   var filename = srcpath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               window.resolveLocalFileSystemURL(destdirpath,',
'                  function(destDirEntry) {',
'                     fileEntry.copyTo(destDirEntry, destname, onCopySuccess, onError);',
'                  },',
'                  onError);',
'            };',
'         fsEntry.getFile(filename, {}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapMoveFileURL(srcpath, destdirpath, destname, onMoveSuccess, onError)',
'//',
'// srcpath is the local file URL of the file to be moved.',
'// destdirpath is the URL of the directory into which to move the file, replacing any existing file with the name.',
'// destname is the name to be given to the copied file. If null, the source filename will be used.',
'// If moved into the same directory, the file will be renamed.',
'// A move of a directory on top of an existing empty directory replaces that directory.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapMoveFileURL = function(srcpath, destdirpath, destname, onMoveSuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = srcpath.lastIndexOf("/");',
'   var dirpath = srcpath.substring(0,pos);',
'   var filename = srcpath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               window.resolveLocalFileSystemURL(destdirpath,',
'                  function(destDirEntry) {',
'                     fileEntry.moveTo(destDirEntry, destname, onMoveSuccess, onError);',
'                  },',
'                  onError);',
'            };',
'         fsEntry.getFile(filename, {}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectoryRecurseURL(dirpath, onRemoveSuccess, onError)',
'//',
'// dirpath is the file URL of the directory to be deleted.',
'// Deletes the specified directory and all of its contents, including other directories and',
'// their contents.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectoryRecurseURL = function(dirpath, onRemoveSuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var onResolvedURL =',
'      function(dirEntry) {',
'         dirEntry.removeRecursively(onRemoveSuccess, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapEnsureDirPathURL(rootpath, subdirpath, onCompletion, onError)',
'//',
'// rootpath is the file URL of the existing directory that will contain the directories that are needed.',
'// subdirpath is a path of directories to ensure exist below rootpath. They will be created',
'// if they don\'t exist.',
'//',
'// For example, if rootpath is "file://root/public/", subdirpath may be "toplevel/subdir1".',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapEnsureDirPathURL = function(rootpath, subdirpath, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var dirs = subdirpath.split(\'/\') || [];',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var ensureDirFunction =',
'            function(dirEntry) { // function to recurse',
'               if (dirs.length>0) {',
'                  if (dirs[0]==\'.\' || dirs[0]==\'\') {',
'                     dirs = dirs.slice(1); // remove null dir',
'                  }',
'               }',
'               if (dirs.length==0) {',
'                  onCompletion();',
'                  return;',
'               }',
'               dirEntry.getDirectory(dirs[0], {create: true},',
'                  function(subdirEntry) {',
'                     dirs = dirs.slice(1); // do next',
'                     ensureDirFunction(subdirEntry);',
'                  },',
'                  onError);',
'               };',
'         ensureDirFunction(fsEntry); // do first',
'      };',
'   window.resolveLocalFileSystemURL(rootpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesRecurseURL(rootpath, onCompletion, onError)',
'//',
'// rootpath is the file URL of the directory whose contents will be listed.',
'// onCompletion(filelist) will contain an array of strings representing each file',
'// and directory down the hierarchy. Directories end in "/".',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesRecurseURL = function(rootpath, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var filelist = [];',
'   var pathprefix = "";',
'   var pending = 0;',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var processDirFunction =',
'            function(subdirpath, listingObj) {',
'               var files = listingObj.files;',
'               var i;',
'               var fpath;',
'               var prefix = subdirpath.slice(pathprefix.length);',
'               for (i=0; i<files.length; i++) {',
'                  fpath = prefix+files[i];',
'                  filelist.push(fpath);',
'               }',
'               var dirs = listingObj.dirs;',
'               if (dirs.length==0) {',
'                  if (pending==0) {',
'                     onCompletion(filelist);',
'                  }',
'                  return;',
'               }',
'               for (i=0; i<dirs.length; i++) {',
'                  fpath = dirs[i].fullPath.slice(pathprefix.length);',
'                  filelist.push(fpath);',
'                  pending++;',
'                  dirs[i].filesystem.root.getDirectory(dirs[i].fullPath, {create: false},',
'                     function(dirEntry) {',
'                        listDirFunction(dirEntry);',
'                     },',
'                     function(e){pending--;onError(e);});',
'               }',
'            };',
'         var listDirFunction =',
'            function(dirEntry) { // function to recurse on subdirs',
'               var dirReader = dirEntry.createReader();',
'               var listingObj = {files:[], dirs:[]};',
'               var readDirEntries = function() {',
'                  dirReader.readEntries( // start an async reading of entries',
'                     function(entries) { // more entries read, or done',
'                        if (!entries || entries.length==0) {',
'                           pending--;',
'                           processDirFunction(dirEntry.fullPath, listingObj);',
'                           return;',
'                        }',
'                        var entry;',
'                        for (var i=0; i<entries.length; i++) {',
'                           entry = entries[i];',
'                           if (entry.isFile) {',
'                              listingObj.files.push(entry.name);',
'                           }',
'                           else {',
'                              listingObj.dirs.push(entry);',
'                           }',
'                        }',
'                        readDirEntries(); // recurse to call dirReader.readEntries again',
'                     },',
'                     onError);',
'                  };',
'               readDirEntries(); // do first reading of entries',
'            };',
'         pending++;',
'         pathprefix = fsEntry.fullPath; // get prefix',
'         listDirFunction(fsEntry); // do first list getting',
'      };',
'   window.resolveLocalFileSystemURL(rootpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesURL(dirpath, matchRegex, onCompletion, onError)',
'//',
'// dirpath is the file URL of the directory whose contents will be listed (only files).',
'// matchRegex, if non-null, will need to match file names found for them to be listed.',
'// onCompletion(filelist) will contain an array of strings representing each file.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesURL = function(dirpath, matchRegex, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var filelist = [];',
'         var dirReader = fsEntry.createReader();',
'         var readEntriesFunction =',
'            function() { // function to recurse to call repeatedly after each completion until no result',
'               dirReader.readEntries( // start an async reading of entries',
'                  function(entries) { // more entries read, or done',
'                     if (!entries || entries.length==0) {',
'                        onCompletion(filelist);',
'                        return;',
'                     }',
'                     var name;',
'                     for (var i=0; i<entries.length; i++) {',
'                        name = entries[i].name;',
'                        if (!matchRegex || name.match(matchRegex)) {',
'                           filelist.push(name);',
'                        }',
'                     }',
'                     readEntriesFunction(); // recurse to call dirReader.readEntries again',
'                  },',
'                  onError);',
'               };',
'         readEntriesFunction(); // do first reading',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFilesNotInListURL(dirpath, matchRegex, keepList, onCompletion, onError)',
'//',
'// dirpath is the file URL of the directory whose contents will be examined (only files).',
'// matchRegex, if non-null, will need to match file names found for them to be considered for deletion.',
'// Any file name which is in the array keepList will not be considered even if it matches.',
'// All remaining files found (those matched and not in keepList) will be deleted.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFilesNotInListURL = function(dirpath, matchRegex, keepList, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var keepnames = {}; // fill object with all the names as attributes',
'   for (var j=0; j<keepList.length; j++) {',
'      keepnames[keepList[j]] = true;',
'   }',
'   var filelist = []; // list of files to delete',
'   var totalDeleted = 0;',
'   var deleteFromFileList = function() { // called repeatedly by itself on successes until all deleted',
'      if (filelist.length==0) { // no more to delete',
'         onCompletion(totalDeleted);',
'         return;',
'      }',
'      var todelete = filelist.pop(); // pop one from list and delete it, leaving list shorter',
'      totalDeleted += 1;',
'      todelete.remove(deleteFromFileList, onError);',
'   };',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var dirReader = fsEntry.createReader();',
'         var readEntriesFunction =',
'            function() { // function to recurse to call repeatedly after each completion until no result',
'               dirReader.readEntries( // start an async reading of entries',
'                  function(entries) { // more entries read, or done',
'                     if (!entries || entries.length==0) {',
'                        deleteFromFileList(); // got all - now start deleting them',
'                        return;',
'                     }',
'                     var name;',
'                     for (var i=0; i<entries.length; i++) {',
'                        name = entries[i].name;',
'                        if (!matchRegex || name.match(matchRegex)) { // must match regex',
'                           if (!keepnames[name]) { // and not be on keep list',
'                              filelist.push(entries[i]); // add one to delete to list',
'                           }',
'                        }',
'                     }',
'                     readEntriesFunction(); // recurse to call dirReader.readEntries again',
'                  },',
'                  onError);',
'               };',
'         readEntriesFunction(); // do first reading',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._embeddedUXComponents = {',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._layoutMode = \'containerwidth\';',
'{UXPRERENDEREDALIAS}_DlgObj._responsiveRulesMode = \'firsttrue\';',
'{UXPRERENDEREDALIAS}_DlgObj.__controlNesting = {',
'PANELHEADER_KEYWORDS: [\'container:LEFT_BUTTONS_KEYWORDS\',\'container:CONTAINER_CENTER\'],',
'LEFT_BUTTONS_KEYWORDS: [],',
'CONTAINER_CENTER: [],',
'CONTAINER_SEARCH: [\'LISTCLINICALTRIALS_KEYWORDSEARCH\'],',
'CONTAINER_LIST: [\'LIST_TRIALS\'],',
'PANELHEADER_TRIALDETAILS: [\'container:LEFT_BUTTONS_TRIALDETAILS\',\'container:CONTAINER_CENTER_TRIALS1\'],',
'LEFT_BUTTONS_TRIALDETAILS: [],',
'CONTAINER_CENTER_TRIALS1: [],',
'CONTAINER_QUALIFY_DETAILS: [],',
'TAB_PANES: [\'tabPane:TAB_PANES#1\',\'tabPane:TAB_PANES#2\',\'tabPane:TAB_PANES#3\',\'tabPane:TAB_PANES#4\'],',
'"TAB_PANES#1": [],',
'"TAB_PANES#2": [],',
'"TAB_PANES#3": [],',
'"TAB_PANES#4": []',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._listsDV = [\'LIST_TRIALS\'];',
'//Add methods to the List prototype for Lists with Detail Views',
'$u.o.assign(A5.ListBox.prototype,',
'{',
'\t_controlDefaultValueForListField:  function(fieldName) { ',
'\tvar controlName = this._getUXDetailViewControlName(fieldName);',
'\tif(controlName == \'\') return \'\';',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
' \treturn _dlgObj.defaultValues[controlName.toUpperCase()];',
'}',
',',
'\tqueryByFormClearControls: function() { ',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar controlName;',
'\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\tif(controlName != \'\') {',
'\t\t\tval = \'\';',
'\t\t\t_dlgObj.setValue(controlName,val,false);',
'\t\t}',
'\t}',
'}',
',',
'\tremoveRowFromListByKey: function(rowKey) {',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar curVal = this.value[0];',
'\tthis.nullOutDetailViewRecord();',
'\t_dlgObj.persistVariablesToLocalStorage();',
'\tif(curVal != rowKey) { ',
'\t\tthis.removeRows([rowKey]);',
'\t\tif(typeof curVal != \'undefined\') {',
'\t\t\tthis.setValue(curVal,false);',
'\t\t\tthis._selectedRow = curVal;',
'\t\t}',
'\t\tthis.__currentRoute = this._getRoute();',
'\t} else { ',
'\t\tvar index = this.indexFromValue(curVal);',
'\t\tvar newIndex = \'\';',
'\t\tif( (index+1) < this._dataMap.length) {',
'\t\t\tnewIndex = index;',
'\t\t} else { ',
'\t\t\tnewIndex = index -1;',
'\t\t}',
'\t\tthis.removeRows([rowKey]);',
'\t\tthis.setValue(newIndex,false);',
'\t\tthis._selectedRow = newIndex;',
'\t\tthis.__currentRoute = this._getRoute();',
'\t}',
'\t_dlgObj.refreshClientSideComputations();',
'\tvar lObj = this;',
'\tif (this._data.length == 0) {',
'\t\tthis.setValue(0,false);',
'\t\tthis._selectedRow = -1;',
'\t\tvar mode = this._noRecordInListIsSelectedSettingForDetailView;',
'\t\tif(mode == \'newrecord\') { ',
'\t\t\tvar lObj = this;',
'\t\t\tsetTimeout(function() {lObj.newDetailViewRecord();},10);',
'\t\t} else if (mode == \'disabledetailview\') { ',
'\t\t\tvar lObj = this;',
'\t\t\tsetTimeout(function() {lObj.disableDetailView();},10);',
'\t\t}',
'\t}',
'\t_dlgObj._listRowSelect(this.listVariableName);',
'}',
',',
'\tsearchModeOff: function() { ',
'\tif(this._dvmode != \'search\') return true;',
'\tvar val = this._searchModeReturnValue;',
'\tif(typeof val != \'undefined\') { ',
'\t\tif(val != \'\') {',
'\t\t\tthis.setValue(this._searchModeReturnValue);',
'\t\t} else {',
'\t\t\tthis.newDetailViewRecord();',
'\t\t}',
'\t} else { ',
'\t\tthis.newDetailViewRecord();',
'\t}',
'}',
',',
'\tsearchModeOn: function() { ',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tif(this.detailViewIsDirty()) { ',
'\t\talert(\'cannot switch to search mode because detail view is dirty\');',
'\t\treturn false;',
'\t}',
'\tthis._dvmode = \'search\';',
'\tthis._searchModeReturnValue = this.value;',
'\tthis._deselectAll();',
'\tthis.queryByFormClearControls();',
'\tif(typeof this.__queryByFormValues != \'undefined\') {',
'\t\tfor(var i = 0; i < this.__queryByFormValues.length; i++) { ',
'\t\t\t_dlgObj.setValue(this.__queryByFormValues[i].control,this.__queryByFormValues[i].value,false);',
'\t\t}',
'\t}',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.modeChanged\',{mode: \'search\'});',
'\t_dlgObj.refreshClientSideComputations();',
'}',
',',
'\tpopulateUXControls: function() { ',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tops.listVariableName = this.listVariableName;',
'\tops.listObj = this;',
'\tif(this._detailView.method == \'fieldMap\') argIn = this._detailView.fieldMap;',
'\telse argIn = this._detailView.container;',
'\tvar _d = this.selectionData[0];',
'\tvar n = \'\';',
'\tvar b64prefix = \'\'',
'\tthis._currentDetailViewKey = undefined;',
'\tif(typeof _d == \'undefined\') {',
'\t\tthis.nullOutDetailViewRecord();',
'\t\treturn false; ',
'\t}',
'\tthis._currentDetailViewKey = _d[\'*key\'];',
'\twindow[this._hostComponentId + \'_DlgObj\']._populateUXControlsWithListData(_d,argIn,ops);',
'\tthis._clearServerSideErrors();',
'\tthis._showServerSideErrors();',
'\tthis._showWriteConflictErrors();',
'\tthis._dvmode = \'edit\';',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.modeChanged\',{mode: \'edit\'});',
'\t_dlgObj.refreshClientSideComputations();',
'\tthis._setParentIsDeletedOnChildren();',
'\tif(!this._restoringList) _dlgObj.persistVariablesToLocalStorage();',
'\tif(typeof _d._flagViewed != \'undefined\') { ',
'\t\tif(_d._flagViewed == false) {',
'\t\t\t_d._flagViewed = true;',
'\t\t\tthis.updateRow(this.selection[0],_d);',
'\t\t}',
'\t}',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.afterDetailViewPopulate\',{});',
'}',
',',
'\t_setParentIsDeletedOnChildren: function() { ',
'\t\tvar _d = this.selectionData[0];',
'\t\tif(typeof _d == \'undefined\') return false;',
'\t\tvar flagDel = false;',
'\t\tif(typeof _d[\'_isDeleted\'] != \'undefined\') flagDel = _d[\'_isDeleted\'];',
'\t\tif(!flagDel) {',
'\t\t\tvar flagParentIsDeleted = false;',
'\t\t\tvar pData = \'\';',
'\t\t\tif(this.allParentLists.length > 0) { ',
'\t\t\t\tfor(var i = 0; i < this.allParentLists.length; i++) {',
'\t\t\t\t\tpObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.allParentLists[i]);',
'\t\t\t\t\tif(typeof pObj.selection[0] != \'undefined\') {',
'\t\t\t\t\t\tpData = pObj.getData(pObj.selection[0]);',
'\t\t\t\t\t\tif(typeof pData._isDeleted != \'undefined\') {',
'\t\t\t\t\t\t\tif(pData._isDeleted) {',
'\t\t\t\t\t\t\t\tflagParentIsDeleted = true;',
'\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(flagParentIsDeleted) flagDel = true;',
'\t\t}',
'\t\tvar flagParentIsDeleted = false;',
'\t\tif(typeof this._parentIsDeleted != \'undefined\') flagParentIsDeleted =  this._parentIsDeleted;',
'\t\tthis.disableDetailView(flagDel || flagParentIsDeleted);',
'\t\tvar lChildObj = \'\';',
'\t\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\t\tlChildObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\t\tif(lChildObj) {',
'\t\t\t\tlChildObj.disableDetailView(flagDel);',
'\t\t\t\tif(flagDel) $acn(lChildObj.contId,\'parentIsDeleted\');',
'\t\t\t\telse $rcn(lChildObj.contId,\'parentIsDeleted\');',
'\t\t\t\tlChildObj._parentIsDeleted = flagDel;',
'\t\t\t\tlChildObj._setParentIsDeletedOnChildren();',
'\t\t\t}',
'\t\t}',
'\t}',
',',
'\tupdateListFromUXControls: function() { \t\t',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar arr = this._getControlsInDv()',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t_dlgObj.clientSideValidateField(arr[i],1,null);',
'\t\t}',
'\t\tvar flagCSE = this._hasClientSideError();',
'\t\tif(flagCSE) {',
'\t\t\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.hasClientSideValidationErrors\',{});',
'\t\t\tvar msg = this.customization.dv.clientSideErrorWarning;',
'\t\t\tif(typeof msg != \'undefined\' && msg != \'\') this._showGlobalError(msg);',
'\t\t\treturn false;',
'\t\t} else { ',
'\t\t\tthis._clearGlobalError();',
'\t\t}',
'\t\tvar _route = this._getRoute();',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar flagGetLocationData = this._captureLocation;',
'\t\tif( _dlgObj._embeddedMode || _dlgObj._livePreviewInBuilder) flagGetLocationData = false;',
'\t\tvar that = this;',
'\t\tif(flagGetLocationData) { ',
'\t\t\tvar _locationHighAccuracy = _dlgObj.locationHighAccuracy;',
'\t\t\tvar _locationTimeout = _dlgObj.locationTimeout;',
'\t\t\tvar _locationMaximumAge = _dlgObj.locationMaximumAge;',
'\t\t\tvar classInst = this;',
'\t\t\tnavigator.geolocation.getCurrentPosition(',
'\t\t\t\tfunction(pos) {',
'\t\t\t\t\tif(typeof _dlgObj._location == \'undefined\') _dlgObj._location = {};',
'\t\t\t\t\t_dlgObj._location.lat = pos.coords.latitude;',
'\t\t\t\t\t_dlgObj._location.lng = pos.coords.longitude;',
'\t\t\t\t\tclassInst._updateListFromUXControlsLow();',
'\t\t\t\t\tdelete classInst;',
'\t\t\t\t\tif(that.synchronizeImmediately) { ',
'\t\t\t\t\t\tvar flagOnLine = _dlgObj._getOnlineStatus();',
'\t\t\t\t\t\tif (flagOnLine) {',
'\t\t\t\t\t\t\t\t_dlgObj.saveListEdits(that.listVariableName)',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar dirtyClass = \'\';',
'\t\t\t\t\tif(typeof that.dirtyControlClassName != \'undefined\') dirtyClass = that.dirtyControlClassName;',
'\t\t\t\t\tif(dirtyClass != \'\') that.populateUXControls();',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t\tif(!that._restoringList)  _dlgObj.persistVariablesToLocalStorage();',
'\t\t\t\t\t_dlgObj.refreshClientSideComputations();',
'\t\t\t\t\treturn true;',
'\t\t\t\t},',
'\t\t\t\tfunction(error) { ',
'\t\t\t\t\tdelete _dlgObj._location;  ',
'\t\t\t\t\tclassInst._updateListFromUXControlsLow();',
'\t\t\t\t\tdelete classInst;',
'\t\t\t\t\treturn true;',
' \t\t\t} ,\t{enableHighAccuracy : _locationHighAccuracy, timeout: _locationTimeout, maximumAge: _locationMaximumAge}) \t',
' \t\t\treturn true;\t',
'\t\t} else { ',
'\t\t\tthis._updateListFromUXControlsLow();',
'\t\t}',
'\t\tthis._setRoute(_route);',
'\t\tif(!this._restoringList)  _dlgObj.persistVariablesToLocalStorage();',
'\t\t_dlgObj.refreshClientSideComputations();',
'\t\tif(this.synchronizeImmediately) { ',
'\t\t\tvar flagOnLine = _dlgObj._getOnlineStatus();',
'\t\t\tif (flagOnLine) {',
'\t\t\t\t\t_dlgObj.saveListEdits(this.listVariableName)',
'\t\t\t}',
'\t\t}',
'\t\tvar dirtyClass = \'\';',
'\t\tif(typeof this.dirtyControlClassName != \'undefined\') dirtyClass = this.dirtyControlClassName;',
'\t\tif(dirtyClass != \'\') this.populateUXControls();',
'\t}',
'\t,',
'\t_updateListFromUXControlsLow: function() { \t',
'\tvar flagCSE = this._hasClientSideError();',
'\tif(flagCSE) {',
'\t\tvar msg = this.customization.dv.clientSideErrorWarning;',
'\t\tif(msg != \'\') this._showGlobalError(msg);',
'\t\treturn false;',
'\t} else { ',
'\t\tthis._clearGlobalError();',
'\t}',
'\tflagAllParentListsHaveActiveRow = true;',
'\tvar pObj = \'\';',
'\tif(this.allParentLists.length > 0) { ',
'\t\tfor(var i = 0; i < this.allParentLists.length; i++) {',
'\t\t\tpObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.allParentLists[i]);',
'\t\t\tif(typeof pObj.selection[0] == \'undefined\') {',
'\t\t\t\tflagAllParentListsHaveActiveRow = false;',
'\t\t\t\talert(\'Can\\\'t save record because there is no active record in the parent List. Parent list id: \\\'\'+this.allParentLists[i]+\'\\\'\');',
'\t\t\t\tbreak;',
'\t\t\t}',
'\t\t}',
'\t}',
'\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar flagSynchronize = this.synchronizeImmediately;',
'\tif(typeof ops.synchronize == \'undefined\') {',
'\t\tops.synchronize = flagSynchronize;',
'\t}',
'\tif(this._detailView.method == \'fieldMap\') {',
'\t\tvar res = window[this._hostComponentId + \'_DlgObj\']._updateListDataFromUXControls(this.listVariableName,this._detailView.fieldMap,ops); this._refreshDebugInfo(); ',
'\t} else {',
'\t\tvar res = window[this._hostComponentId + \'_DlgObj\']._updateListDataFromUXControls(this.listVariableName,this._detailView.container,ops); this._refreshDebugInfo(); ',
'\t}',
'\tvar parentListName = this.parentList;',
'\tif(typeof parentListName != \'undefined\') {',
'\t\tvar thisData = this.getData(this.selection[0]);',
'\t\tvar flagIsNewRow = false;',
'\t\tif(typeof thisData._isNewRow != \'undefined\') flagIsNewRow = thisData._isNewRow;',
'\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\tif(plObj._setDirtyByChild) {',
'\t\t\tif (flagIsNewRow == false)  \tplObj._setDirtyByChild(false);',
'\t\t\telse plObj._setDirtyByChild(true,thisData,this.listVariableName);',
'\t\t}',
'\t}',
'\tthis._populateMyChildren();',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.afterUpdateList\',{});',
'\treturn res;',
'},',
'\t_setDirtyByChild: function(flagNewRow) { \t\t',
'\t\tvar rn = this.selection[0];',
'\t\tif(typeof rn == \'undefined\') rn = 0;',
'\t\tif(flagNewRow) {',
'\t\t\tvar newData = arguments[1];',
'\t\t\tvar listName = arguments[2];',
'\t\t\tthis.setRowDirty(rn,true,newData,listName);',
'\t\t} else {',
'\t\t\tthis.setRowDirty(rn,false);',
'\t\t}',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') { ',
'\t\t\tif(parentListName != \'\') {',
'\t\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentListName);',
'\t\t\t\tif(plObj._setDirtyByChild) \tplObj._setDirtyByChild(false);',
'\t\t\t}',
'\t\t}',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t}',
'\t,',
'\t_getChildData: function(existingData,childListName) {\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar clObj = _dlgObj.getControl(childListName);',
'\t\tif(!clObj) return false;',
'\t\tif(clObj._dataSourceType.toLowerCase() == \'sql\') { ',
'\t\t\treturn existingData[\'__LIST__\' + childListName];',
'\t\t} else { ',
'\t\t\treturn existingData[clObj._objectNameInParentListForData];',
'\t\t}',
'\t}',
'\t,',
'\t_getChildDataObjectName: function(childListName) { \t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar clObj = _dlgObj.getControl(childListName);',
'\t\tif(!clObj) return \'__LIST__\' + childListName.toUpperCase();',
'\t\tif(clObj._dataSourceType.toLowerCase() == \'sql\') { ',
'\t\t\treturn \'__LIST__\' + childListName.toUpperCase();',
'\t\t} else { ',
'\t\t\treturn clObj._objectNameInParentListForData',
'\t\t}',
'\t}',
'\t,',
'\tsetRowDirty: function(rn,flagNewRow) {\t\tvar existingData = this.getData(rn);',
'\t\texistingData._isDirty = true;',
'\t\tif(flagNewRow) { ',
'\t\t\tvar newData = arguments[2];',
'\t\t\tvar listName = arguments[3];',
'\t\t\tvar childData = this._getChildData(existingData,listName);',
'\t\t\tif(typeof childData == \'undefined\') return false;',
'\t\t\tvar childDataObjectName = this._getChildDataObjectName(listName);',
'\t\t\tvar n = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(childData,\'*key\',newData[\'*key\']);',
'\t\t\tif(n == -1) {',
'\t\t\t\tif(existingData[childDataObjectName].constructor == Array) {',
'\t\t\t\t\texistingData[childDataObjectName].push(newData);',
'\t\t\t\t} else { ',
'\t\t\t\t\texistingData[childDataObjectName] =  [];',
'\t\t\t\t\texistingData[childDataObjectName].push(newData);',
'\t\t\t\t}',
'\t\t\t} else { ',
'\t\t\t}',
'\t\t}',
'\t\tthis.updateRow(rn,existingData);',
'\t}',
'\t,',
'\t_showDirtyDetailViewWarning: function() {',
'\t\tif(!this.detailViewIsDirty(true)) return true;',
'\t\telse {',
'\t\t\tvar obj = {};',
'\t\t\tobj.thisListName = this.listVariableName;',
'\t\t\tobj.dirtyListName = this._nameOfListWithDirtyDetailView;',
'\t\t\tobj.handled = false;',
'\t\t\twindow[this._hostComponentId + \'_DlgObj\']._list_executeEvent(this.listVariableName,\'detailView.afterListRowSelectCancelled\',obj);',
'\t\t\tif(obj.handled) return false;',
'\t\t\tvar msg = this.customization.dv.dirtyDetailViewRecord.message;',
'\t\t\tvar image = this.customization.dv.dirtyDetailViewRecord.icon;',
'\t\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\t\tvar flagThisListHasDirtyDv = false;',
'\t\t\tif(this.listVariableName == this._nameOfListWithDirtyDetailView) flagThisListHasDirtyDv = true;;',
'\t\t\tif(!flagThisListHasDirtyDv) {',
'\t\t\t\tmsg = msg + \'<br>(List with dirty Detail View: \\\'\' + this._nameOfListWithDirtyDetailView + \'\\\')\';',
'\t\t\t}',
'\t\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\t\tvar title = this.customization.dv.dirtyDetailViewRecord.title;',
'\t\t\tA5.msgBox.show(title,msg,\'O\',function() {} );',
'\t\t\treturn false;',
'\t\t}',
'\t}',
'\t,',
'\t_getListFieldFromControl: function(ctrl) {\t\tvar indx = \'\';',
'\t\tif(this._detailView.method == \'fieldMap\') {',
'\t\t\tvar map = this._detailView.fieldMap;',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(map,\'control\',ctrl);',
'\t\t\tif(indx > -1) return map[indx].field',
'\t\t} else {',
'\t\t\tctrl = ctrl.toUpperCase();',
'\t\t\tvar la = this._listFields;',
'\t\t\tfor(var i = 0; i < la.length; i++) { ',
'\t\t\t\tif(la[i].name.toUpperCase() == ctrl) return la[i].name;',
'\t\t\t}',
'\t\t\treturn false;',
'\t\t}',
'\t}',
'\t,',
'\tdisableDetailView: function() { \t\tvar flag = typeof arguments[0] != \'undefined\' ? arguments[0] : true;',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].setDisabled(this._getControlsInDv(),flag);',
'\t}',
'\t,',
'\t_getControlsInDv: function() {\t\tif(typeof this._controlsInDV != \'undefined\') {',
'\t\t\treturn this._controlsInDV;',
'\t\t}',
'\t\tvar arr = [];',
'\t\tif(typeof this._detailView == \'undefined\') return \'\';',
'\t\tif(typeof this._detailView.method == \'undefined\') return \'\';',
'\t\tif(this._detailView.method == \'fieldMap\') { ',
'\t\t\tvar ele = \'\';',
'\t\t\tfor (var i = 0; i < this._detailView.fieldMap.length; i++) {',
'\t\t\t\tele = $(this._hostComponentId + \'.V.R1.\' + this._detailView.fieldMap[i].control.toUpperCase());',
'\t\t\t\tif(ele) arr.push(this._detailView.fieldMap[i].control.toUpperCase());',
'\t\t\t}',
'\t\t\tthis._controlsInDV = arr;',
'\t\t\treturn arr;',
'\t\t} else { ',
'\t\t\tvar indx = -1;',
'\t\t\tvar ctrlList = window[this._hostComponentId + \'_DlgObj\'].getControlsInContainer(this._detailView.container);',
'\t\t\tfor(var c = 0; c < ctrlList.length; c++) {',
'\t\t\t\tfor(var i = 0; i < this._listFields.length; i++) {',
'\t\t\t\t\tif(this._listFields[i].name.toLowerCase() == ctrlList[c].toLowerCase()) arr.push(ctrlList[c].toUpperCase());',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis._controlsInDV = arr;',
'\t\t\treturn arr;',
'\t\t}',
'\t}',
'\t,',
'\t_stripCleanBase64Data: function(_d) { \t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar _dc = {}',
'\t\tvar cn = \'\';',
'\t\tvar ct = \'\';',
'\t\tvar flagDirty = \'\';',
'\t\tvar flagCapture = \'\';',
'\t\tvar ix = \'\';',
'\t\tvar flagEmbeddedImage = \'\';',
'\t\tfor(var prop in _d) {',
'\t\t\tflagCapture = true; ',
'\t\t\tcn = this._getUXDetailViewControlName(prop);',
'\t\t\tif(cn != \'\') {',
'\t\t\t\tct = _dlgObj._getControlType(cn).toLowerCase();',
'\t\t\t\tif(ct == \'signaturecapture\' || ct == \'image\') {',
'\t\t\t\t\tflagCapture = false;',
'\t\t\t\t\tvar _dirtyImages = _d[\'_dirtyImages\'];',
'\t\t\t\t\tvar flagImageDirty = false;',
'\t\t\t\t\tif(typeof _dirtyImages != \'undefined\') {',
'\t\t\t\t\t\tflagImageDirty = _dirtyImages[prop];',
'\t\t\t\t\t\tif(typeof flagImageDirty != \'undefined\') flagCapture = true;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(flagCapture) _dc[prop] = _d[prop];',
'\t\t}',
'\t\treturn _dc;',
'\t}\t',
'\t,',
'\t_getData2: function(row) { \t\t',
'\t\tvar _d = this.getData(row);',
'\t\treturn this._stripCleanBase64Data(_d);',
'\t}',
'\t,',
'\tharvestListRow: function() { \t\t',
'\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tvar obj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\t\tvar flagSumbmitAllChildRecords = false;',
'\t\tif(typeof obj.flagSumbmitAllChildRecords != \'undefined\') flagSumbmitAllChildRecords = obj.flagSumbmitAllChildRecords;',
'\t\tif(typeof rn != \'number\') {',
'\t\t\tif(!rn._isNewRow){',
'\t\t\t\tvar existingData = this._stripCleanBase64Data(rn);',
'\t\t\t} else {',
'\t\t\t\tvar existingData = rn;',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tif(rn > -1) {',
'\t\t\t\tvar existingData = this._getData2(rn); ',
'\t\t\t} else {',
'\t\t\t\tif(this.selection[0] != \'undefined\') var existingData = this._getData2(this.selection[0]); ',
'\t\t\t}',
'\t\t}',
'\t\tif(typeof existingData == \'undefined\') return {};',
'\t\tvar flagDirty = false;',
'\t\tvar flagNewRow = false;',
'\t\tif(typeof existingData._isDirty != \'undefined\') flagDirty = existingData._isDirty;',
'\t\tif(typeof existingData._isNewRow != \'undefined\') flagNewRow = existingData._isNewRow;',
'\t\tdelete existingData._previousData;',
'\t\tif(flagDirty || flagNewRow) {',
'\t\t\tif(!flagSumbmitAllChildRecords) {',
'\t\t\t\tvar dirtyDataOnly = this._trimNonDirtyData(existingData);',
'\t\t\t\treturn dirtyDataOnly;',
'\t\t\t} else {',
'\t\t\t\treturn existingData;',
'\t\t\t}',
'\t\t}',
'\t\treturn {};',
'\t}',
'\t,',
'\tfieldIsDirty: function(field) { \t\tvar rSel = this.selection[0];',
'\t\tvar rn = typeof arguments[1] != \'undefined\' ? arguments[1] : rSel;',
'\t\tif(typeof rSel == \'undefined\') return false;',
'\t\tvar _d = this.getData(rn);',
'\t\tvar _dv = _d[field];',
'\t\tvar flagNewRow = _d[\'_isNewRow\'];',
'\t\tif(typeof flagNewRow == \'undefined\') flagNewRow = false;',
'\t\tif(flagNewRow) { ',
'\t\t\tif(_dv == \'\') return false;',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar _od = _d[\'_oldData\'];',
'\t\tif(typeof _od == \'undefined\') return false;',
'\t\tvar _odv = _od[field];',
'\t\tif(typeof _dv == \'undefined\') return false;',
'\t\tif(typeof _odv == \'undefined\') return false;',
'\t\tif(_dv == _odv ) return false;',
'\t\telse return true;',
'\t}',
'\t,',
'\t_trimNonDirtyData: function(data) { \t\tvar data2 = {};',
'\t\tvar tData = [];',
'\t\tfor(var prop in data) {',
'\t\t\tif(data[prop] != null) {\t\t\t',
'\t\t\t\tif(data[prop].constructor == Array) {',
'\t\t\t\t\ttData = [];',
'\t\t\t\t\tfor(var i = 0; i < data[prop].length; i++) {',
'\t\t\t\t\t\tif(data[prop][i]._isNewRow || data[prop][i]._isDirty ) {',
'\t\t\t\t\t\t\ttData.push(this._trimNonDirtyData(data[prop][i]));',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tdata2[prop] = tData;',
'\t\t\t\t} else {',
'\t\t\t\t\tdata2[prop] = data[prop];',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\tdata2[prop] = null;',
'\t\t\t}',
'\t\t}',
'\t\treturn data2;',
'\t}',
'\t,',
'\t_logicalRow2PhysicalRow: function(rn) { \t\tif(typeof rn != \'number\') {',
'\t\t\treturn rn;',
'\t\t}',
'\t\tvar u = this._dataMap;',
'\t\treturn $u.a.find(u,rn);',
'\t}',
'\t,',
'\tharvestListKeys: function() { \t\tvar existingData = {};',
'\t\tvar arr = [];',
'\t\tvar key = \'\';',
'\t\tfor (var i = 0; i < this._data.length; i++) { ',
'\t\t\texistingData = this._data[i];',
'\t\t\tif(typeof existingData.__primaryKey != \'undefined\') {',
'\t\t\t\tkey = existingData.__primaryKey;',
'\t\t\t} else {',
'\t\t\t\tkey = existingData[\'*value\']',
'\t\t\t}',
'\t\t\tif(key != \'\') arr.push(key);',
'\t\t}',
'\t\treturn arr;',
'\t}',
'\t,',
'\t_hasMediaFileUploadErrors: function(data) {\t\t',
'\t\tvar flag = false;',
'\t\tvar r = A5.u.object.each(data,function(name,value,path,result){',
'\t\t\tif(name == \'_flagMediaFileUploadError\'){',
'\t\t\t\tif(value) flag =  true;',
' \t\t   }',
'\t\t});',
'\t\treturn flag;',
'\t}',
',',
'\tharvestList: function() { \t\t',
'\t\tvar flagPKOnly = typeof arguments[0] != \'undefined\' ? arguments[0] : false;',
'\t\tvar obj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\t\tvar startingRow = 1;',
'\t\tvar batchSize = 0;',
'\t\tvar flagSumbmitAllChildRecords = false;',
'\t\tif(typeof obj.batchSize != \'undefined\') batchSize = obj.batchSize;',
'\t\tif(typeof obj.startingRow != \'undefined\') startingRow = obj.startingRow;',
'\t\tif(typeof obj.flagSumbmitAllChildRecords != \'undefined\') flagSumbmitAllChildRecords = obj.flagSumbmitAllChildRecords;',
'\t\tvar flagDirty = false;',
'\t\tvar flagNewRow = false;',
'\t\tvar flagHasMediaFileUploadError = false;',
'\t\tvar existingData = \'\';',
'\t\tvar arr = [];',
'\t\tvar _tempData = \'\';',
'\t\tif(batchSize > 0 && startingRow > 1 && flagPKOnly == false) { ',
'\t\t\tvar arr2 = [];',
'\t\t\tvar count = 0;',
'\t\t\tfor(var i = startingRow -1; i < this.__arrDirtyRows.length; i++) { ',
'\t\t\t\trowToGet = this.__arrDirtyRows[i]; ',
'\t\t\t\texistingData = this._data[rowToGet];',
'\t\t\t\t_tempData = this.harvestListRow(existingData, {flagSumbmitAllChildRecords: flagSumbmitAllChildRecords});',
'\t\t\t\tarr2.push(_tempData);',
'\t\t\t\tcount = count + 1;',
'\t\t\t\tif(count >= batchSize) break;',
'\t\t\t}',
'\t\t\treturn arr2;',
'\t\t}',
'\t\tthis.__arrDirtyRows = [];',
'\t\tfor (var i = 0; i < this._data.length; i++) { ',
'\t\t\texistingData = this._data[i];',
'\t\t\tflagDirty = false; flagNewRow = false;',
'\t\t\tif(typeof existingData._isDirty != \'undefined\') flagDirty = existingData._isDirty;',
'\t\t\tif(typeof existingData._isNewRow != \'undefined\') flagNewRow = existingData._isNewRow;',
'\t\t\tif(flagDirty || flagNewRow) {',
'\t\t\t\tflagHasMediaFileUploadError = this._hasMediaFileUploadErrors(existingData);',
'\t\t\t}',
'\t\t\tif( (flagDirty || flagNewRow) && !flagHasMediaFileUploadError ) {',
'\t\t\t\tif(flagPKOnly == false)\t{',
'\t\t\t\t\t_tempData = this.harvestListRow(existingData, {flagSumbmitAllChildRecords: flagSumbmitAllChildRecords});',
'\t\t\t\t\tarr.push(_tempData);',
'\t\t\t\t} else {',
'\t\t\t\t\tif(typeof existingData.__primaryKey != \'undefined\') {',
'\t\t\t\t\t\tarr.push(existingData.__primaryKey);',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tarr.push(existingData[\'*value\']);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(batchSize > 0 && startingRow == 1 && flagPKOnly == false)  {',
'\t\t\t\t\tif(flagPKOnly == false) {',
'\t\t\t\t\t\tthis.__arrDirtyRows.push(existingData[\'*key\']);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(batchSize > 0 && flagPKOnly == false) {',
'\t\t\tvar arr2 = [];',
'\t\t\tvar count = 0;',
'\t\t\tfor(var i = startingRow -1; i < this.__arrDirtyRows.length; i++) { ',
'\t\t\t\trowToGet = this.__arrDirtyRows[i];',
'\t\t\t\tarr2.push(this._getRowByKey(arr,rowToGet));',
'\t\t\t\tcount = count + 1;',
'\t\t\t\tif(count >= batchSize) break;',
'\t\t\t}',
'\t\t\treturn arr2',
'\t\t}',
'\t\treturn arr;',
'\t}',
'\t,',
'\t_getRowByKey: function(arr,key) {\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif(arr[i][\'*key\'] == key) return arr[i];',
'\t\t}',
'\t\treturn false; ',
'\t}',
',',
'\tlistRowIsDirty: function() {\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tvar flagNewRow = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\t\tif(rn > -1) {',
'\t\t\tvar existingData = this.getData(rn);',
'\t\t} else {',
'\t\t\tvar existingData = this.getData(this.selection[0]);',
'\t\t}',
'\t\tif(typeof existingData == \'undefined\') return false;',
'\t\tif(!flagNewRow) {',
'\t\t\tif(typeof existingData._isDirty != \'undefined\') return existingData._isDirty;',
'\t\t\telse return false;',
'\t\t} else { ',
'\t\t\tif(typeof existingData._isNewRow != \'undefined\') return existingData._isNewRow;',
'\t\t\telse return false;',
'\t\t}',
'\t}',
'\t,',
'\tlistRowIsNew: function() {\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\treturn this.listRowIsDirty(rn,true);',
'\t}',
'\t,',
'\t_getDataFromRoute: function(route) { \t\tvar rn = [].concat(route);',
'\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\tif(typeof topParent == \'undefined\') var lObj = this;',
'\t\telse var lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\tvar _td = lObj._data;',
'\t\tfor(var i = 0; i < rn.length; i++) { ',
'\t\t   _td = _td[ rn[i] ];',
'\t\t}',
'\t\treturn _td;',
'\t}',
'\t,',
'\t_isRowInRouteVisible: function(route) { \t\tvar rn = [].concat(route);',
'\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\tif(typeof topParent == \'undefined\') var lObj = this;',
'\t\telse var lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\tvar index = 0;',
'\t\twhile(rn.length >1) {',
'\t\t\tindex = lObj._logicalRow2PhysicalRow(rn.shift());',
'\t\t\tif(lObj.selection[0] != index) return false;',
'\t\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(rn.shift().replace(\'__LIST__\',\'\'));',
'\t\t}',
'\t\treturn true;\t\t',
'\t}',
'\t,',
'\t_isRouteBranchDirty: function(route) { \t\tvar rn = [].concat(route);',
'\t\tif( typeof  rn[rn.length-1] == \'number\' ) rn.pop();',
'\t\tvar _d = this._getDataFromRoute(rn);',
'\t\tfor(var i = 0; i < _d.length; i++) { ',
'\t\t\tif( _d[i]._isDirty || _d[i]._isNewRow || _d[i]._isDeletedRow) return true;',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_routeBranchHasServerSideError: function(route) { \t\tvar rn = [].concat(route);',
'\t\tif( typeof  rn[rn.length-1] == \'number\' ) rn.pop();',
'\t\tvar _d = this._getDataFromRoute(rn);',
'\t\tfor(var i = 0; i < _d.length; i++) { ',
'\t\t\tif(  _d[i]._hasServerSideError ||  _d[i]._flagServerSideErrorInChild  || _d[i]._hasWriteConflictErrors ||  _d[i]._flagWriteConflictErrorInChild      ) return true;',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_responseStart: function() {\t\tdelete this._rowGUIDS;',
'\t\tthis._rowGUIDS = [];',
'\t}',
',',
'\t_responseEnd: function() {\t\t',
'\t\tvar flagUsingSyncLog = false;',
'\t\tflagUsingSyncLog = this._useServerSideSyncLog;',
'\t\tif(typeof flagUsingSyncLog == \'undefined\') flagUsingSyncLog = false;',
'\t\tif(flagUsingSyncLog) {',
'\t\t\tvar flagClearLog = this._clearServerSideSyncLog;',
'\t\t\tif(typeof flagClearLog == \'undefined\') flagClearLog = true;',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\tif(flagClearLog) {',
'\t\t\t\t_dlgObj.synchronizeComplete(this._rowGUIDS);',
'\t\t\t}',
'\t\t}',
'\t}',
',',
'\t_getTopParentList: function() { \t\t',
'\t\tvar allParentLists = this.allParentLists;',
'\t\tif(typeof allParentLists == \'undefined\') return this.listVariableName;',
'\t\tif(allParentLists.length == 0) return this.listVariableName;',
'\t\treturn allParentLists[allParentLists.length -1];',
'\t}',
',',
'\tsetRowCleanPreserveState: function() {\t\tthis.setRowClean(arguments[0],-1,true);',
'\t}',
',',
'\tsetRowClean: function() {\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tvar mode = typeof arguments[1] != \'undefined\' ? arguments[1] : -1;',
'\t\tvar flagPreserveState = typeof arguments[2] != \'undefined\' ? arguments[2] : false;',
'\t\tvar flagRouteArray = false;',
'\t\tif(rn.constructor == Array) { ',
'\t\t\tflagRouteArray = true;',
'\t\t\tvar existingData = this._getDataFromRoute(rn);',
'\t\t\tvar _row = rn[rn.length -1];',
'\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t} else {',
'\t\t\tvar _row = \'\';',
'\t\t\tvar existingData = this.getData(this.selection[0]);',
'\t\t\tif(rn > -1) {',
'\t\t\t\t_row = rn;',
'\t\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t\t} else _row = existingData[\'*key\'];',
'\t\t\tvar existingData = this.getData(_row);',
'\t\t}',
'\t\tif(mode == 1 ) {',
'\t\t\tif(typeof existingData._oldData != \'undefined\') return false;',
'\t\t}',
'\t\tif(!flagPreserveState) {',
'\t\t\texistingData._isDirty = false;',
'\t\t\texistingData._isNewRow = false;',
'\t\t}',
'\t\texistingData._hasServerSideError = false;',
'\t\texistingData._serverSideErrors = false;',
'\t\texistingData._flagServerSideErrorInChild = false;',
'\t\texistingData._hasWriteConflictErrors = false;',
'\t\texistingData._hasGlobalErrors = false;',
'\t\texistingData._flagWriteConflictErrorInChild = false;',
'\t\texistingData._flagGlobalErrorInChild = false;',
'\t\texistingData._dirtyImages = false;',
'\t\tvar topParentList = this._getTopParentList();',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar lTop = _dlgObj.getControl(topParentList);',
'\t\tif(typeof lTop._rowGUIDS == \'undefined\') lTop._rowGUIDS = [];',
'\t\tlTop._rowGUIDS.push(existingData[\'*rowGUID\']);',
'\t\tdelete existingData[\'*rowGUID\'];',
'\t\texistingData._writeConflictErrors = false;',
'\t\tif(!flagPreserveState) delete existingData._oldData;',
'\t\tdelete existingData._globalErrors;',
'\t\tdelete existingData._globalErrorsRaw;',
'\t\tif(flagRouteArray) {',
'\t\t\tif(this._isRowInRouteVisible(rn)) this.updateRow(_row,existingData);',
'\t\t} else {',
'\t\t\tthis.updateRow(_row,existingData);',
'\t\t}',
'\t\tvar parentList = this.parentList;',
'\t\tif(typeof parentList != \'undefined\') {',
'\t\t\tif(flagRouteArray) var flagListIsDirty =  this._isRouteBranchDirty(rn);  ',
'\t\t\telse var flagListIsDirty = this.listIsDirty();',
'\t\t\tif (flagListIsDirty == false) { ',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\t\t\tif(flagRouteArray) {',
'\t\t\t\t\trn.pop();',
'\t\t\t\t\trn.pop();',
'\t\t\t\t\tlObj.setRowClean(rn,1);',
'\t\t\t\t} else {',
'\t\t\t\t\tlObj.setRowClean(-1,1);',
'\t\t\t\t}',
'\t\t\t} else { ',
'\t\t\t\tif(flagPreserveState) {',
'\t\t\t\t\tthis._setRouteDirty(rn);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\t_setRouteDirty: function(route) { \t\troute.pop();',
'\t\troute.pop();',
'\t\tvar flagLoop = true;',
'\t\tif(route.length == 0) flagLoop = false;',
'\t\twhile(flagLoop) { ',
'\t\t\tvar existingData = this._getDataFromRoute(route);',
'\t\t\texistingData._isDirty = true;',
'\t\t\troute.pop();',
'\t\t\troute.pop();',
'\t\t\tif(route.length == 0) break;',
'\t\t}',
'\t}',
',',
'\t_showError: function(id,moreTxt,lessTxt) { \t\tvar e = $(id);',
'\t\tvar e2 = $(id + \'.LINK\');',
'\t\tif(e.style.display == \'\') { ',
'\t\t\te.style.display = \'none\';',
'\t\t\te2.innerHTML = moreTxt;',
'\t\t} else { ',
'\t\t\te.style.display = \'\';',
'\t\t\te2.innerHTML = lessTxt;',
'\t\t}',
'\t}',
'\t,',
'\t_setGlobalCRUDErrors: function(rowNum,txt,mode) { \t\t',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar ePH =  this._globalErrorPlaceHolder;',
'\t\tif(typeof ePH == \'undefined\') ePH = \'\';',
'\t\tvar flagPH = $(ePH);',
'\t\tif(typeof mode == \'undefined\') mode = \'\';',
'\t\tvar txtRaw = txt;',
'\t\tif(mode != \'\' && ePH != \'\' && flagPH) {',
'\t\t\tvar customMessage = this.customization.dv.databaseError[mode];',
'\t\t\tcustomMessage = customMessage.split(\'|\');',
'\t\t\ttxt = \'<div onclick="window[\\\'\'+this._hostComponentId + \'_DlgObj\\\'].getControl(\\\'\'+this.listVariableName+\'\\\')._showError(\\\'\'+this.listVariableName +\'.GLOBALERROR\\\',\\\'\'+customMessage[1]+\'\\\',\\\'\'+customMessage[2]+\'\\\');">\' + customMessage[0] + \'&nbsp;<a id="\'+this._hostComponentId+\'.\'+this.listVariableName + \'.GLOBALERROR.LINK" class="iOS7Link" style="cursor: pointer;color:red; font-size: 8pt;" href=\\\'#\\\'>\'+customMessage[1]+\'</a>\' + \'<div id="\'+this.listVariableName+\'.GLOBALERROR" style="display: none; font-size: 8pt;">\'+txt+\'</div></div>\';',
'\t\t}',
'\t\tif(rowNum.constructor == Array) { ',
'\t\t\tthis.setServerSideError(true,rowNum,txt,\'ge\',txtRaw);',
'\t\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar _d = this._getRowData(rowNum);',
'\t\t_d._globalErrors = txt;',
'\t\t_d._globalErrorsRaw = txtRaw;',
'\t\t_d._hasServerSideError = false;',
'\t\t_d._serverSideErrors = false;',
'\t\tthis.updateRow(rowNum,_d);',
'\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t}',
'\t,',
'\tgetAllErrors: function() { \t\tvar lObj = this;',
'\t\tvar data = lObj._data;',
'\t\tvar r = A5.u.object.each(data,function(name,value,path,result){',
'\t\t\tpath = path.splice(0,path.length -1);',
'\t\t\tvar _dr = data;',
'\t\t\tfor(var i = 0; i < path.length; i++) { ',
'\t\t\t\tvar _dr = _dr[path[i]];',
'\t\t\t}',
'\t\t\tif(name == \'_hasServerSideError\') { ',
'\t\t\t\tif(value) { ',
'\t\t\t\t\tresult.push({errorType: \'serverSide\', path:path, error: _dr[\'_serverSideErrors\']});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(name == \'_hasWriteConflictErrors\') { ',
'\t\t\t\tif(value) { ',
'\t\t\t\t\tvar _wc = _dr[\'_writeConflictErrors\'];',
'\t\t\t\t\tvar _wc2 = [];',
'\t\t\t\t\t$u.o.assign(_wc2,_wc);',
'\t\t\t\t\tfor(var i = 0; i < _wc2.length; i++) {',
'\t\t\t\t\t\tdelete _wc2[i].errorText;',
'\t\t\t\t\t}',
'\t\t\t\t\tresult.push({errorType: \'writeConflict\', path: path, error: _wc2});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(name == \'_hasGlobalErrors\') { ',
'\t\t\t\tif(value) { ',
'\t\t\t\t\tresult.push({errorType: \'globalError\', path: path, error: _dr[\'_globalErrorsRaw\']});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t})',
'\t\treturn r;',
'\t}',
'\t,',
'\t_setWriteConflictErrors: function(rowNum,eArr) {\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tif(rowNum.constructor == Array) { ',
'\t\t\tthis.setServerSideError(true,rowNum,eArr,\'wc\');',
'\t\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t\t\treturn true;',
'\t\t}',
'\t\trowNum = this._logicalRow2PhysicalRow(rowNum);',
'\t\tvar _d = this._getRowData(rowNum);',
'\t\t_d._writeConflictErrors = eArr;',
'\t\t_d._hasWriteConflictErrors = true;',
'\t\t_d._hasServerSideError = false;',
'\t\t_d._serverSideErrors = false;',
'\t\tthis.updateRow(rowNum,_d);',
'\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t}',
'\t,',
'\t_setGenericByChild: function(rn,mode) { \t',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') { ',
'\t\t\tif(parentListName != \'\') {',
'\t\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentListName);',
'\t\t\t\tvar existingData = plObj._getDataFromRoute(rn);',
'\t\t\t\tif(mode == \'sse\') {',
'\t\t\t\t\texistingData._flagServerSideErrorInChild = true;',
'\t\t\t\t\texistingData._isDirty = true;',
'\t\t\t\t} else if (mode == \'wc\') { ',
'\t\t\t\t\texistingData._flagWriteConflictErrorInChild = true;',
'\t\t\t\t\texistingData._isDirty = true;',
'\t\t\t\t} else if (mode == \'ge\') {',
'\t\t\t\t\texistingData._flagGlobalErrorInChild = true;',
'\t\t\t\t\texistingData._isDirty = true;',
'\t\t\t\t}',
'\t\t\t\tvar _row = rn[rn.length -1];',
'\t\t\t\t_row = plObj._logicalRow2PhysicalRow(_row);',
'\t\t\t\tif(plObj._isRowInRouteVisible(rn)) plObj.updateRow(_row,existingData);',
'\t\t\t\trn.pop();',
'\t\t\t\trn.pop();',
'\t\t\t\tplObj._setGenericByChild(rn,mode)',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\tsetServerSideError: function(flag) { \t\t',
'\t\tvar rn = typeof arguments[1] != \'undefined\' ? arguments[1] : -1;',
'\t\tvar flagRouteArray = false;',
'\t\tif(rn.constructor == Array) { ',
'\t\t\tflagRouteArray = true;',
'\t\t}',
'\t\tvar errObj =  typeof arguments[2] != \'undefined\' ? arguments[2] : {};',
'\t\tif(flag == false) {',
'\t\t\terrObj = false;',
'\t\t}',
'\t\tvar mode = typeof arguments[3] != \'undefined\' ? arguments[3] : \'sse\' ',
'\t\tvar txtRaw = typeof arguments[4] != \'undefined\' ? arguments[4] : \'\';',
'\t\tvar _row = \'\';',
'\t\tif(flagRouteArray) { ',
'\t\t\tvar existingData = this._getDataFromRoute(rn);',
'\t\t\tvar _row = rn[rn.length -1];',
'\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t} else { ',
'\t\t\tvar existingData = this.getData(this.selection[0]);',
'\t\t\tif(rn > -1) {',
'\t\t\t\t_row = rn;',
'\t\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t\t} else _row = existingData[\'*key\'];',
'\t\t\tvar existingData = this.getData(_row);',
'\t\t}',
'\t\tif(mode == \'sse\') {',
'\t\t\texistingData._hasServerSideError = flag;',
'\t\t\texistingData._serverSideErrors = errObj;',
'\t\t\texistingData._globalErrors = false;',
'\t\t\texistingData._globalErrorsRaw = \'\'',
'\t\t\texistingData._hasGlobalErrors = false;',
'\t\t\texistingData._hasWriteConflictErrors = false;',
'\t\t\texistingData._writeConflictErrors = false;',
'\t\t} else if (mode == \'wc\') { ',
'\t\t\texistingData._hasWriteConflictErrors = flag;',
'\t\t\texistingData._writeConflictErrors = errObj;',
'\t\t\texistingData._hasServerSideError = false;',
'\t\t\texistingData._serverSideErrors = false;',
'\t\t} else if (mode == \'ge\') { ',
'\t\t\texistingData._globalErrors = errObj;',
'\t\t\texistingData._globalErrorsRaw = txtRaw;',
'\t\t\texistingData._hasGlobalErrors = flag;',
'\t\t\texistingData._hasServerSideError = false;',
'\t\t\texistingData._serverSideErrors = false;',
'\t\t}',
'\t\tif(flagRouteArray) {',
'\t\t\tif(this._isRowInRouteVisible(rn)) this.updateRow(_row,existingData);',
'\t\t\tif(this._setGenericByChild) {',
'\t\t\t\trn.pop();',
'\t\t\t\trn.pop();',
'\t\t\t\tthis._setGenericByChild(rn,mode);',
'\t\t\t}',
'\t\t} else {',
'\t\t\tthis.updateRow(_row,existingData);',
'\t\t}',
'\t}',
'\t,',
'\t_showWCErrorMore: function(varName,eleIn,infoIn) { \t\tvar info = {};',
'\t\tif(typeof infoIn != \'undefined\') { ',
'\t\t\tinfo = infoIn;',
'\t\t}',
'\t\tif(typeof eleIn == \'undefined\') eleIn = false;',
'\t\tvar row = this.selection[0];',
'\t\tthis._wceVarname = varName;',
'\t\tvar myValue = window[this._hostComponentId + \'_DlgObj\'].getValue(varName);',
'\t\tvar _d = this._getRowData(row)',
'\t\tvar wce = _d._writeConflictErrors;',
'\t\tvar wcCount = wce.length;',
'\t\tvar indx = \'\';',
'\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',varName);',
'\t\tif(indx == -1) return false ',
'\t\twce = wce[indx];',
'\t\tvar mTheirs = this.customization.dv.writeConflict.useTheirsMessage;',
'\t\tvar mMine   = this.customization.dv.writeConflict.useMineMessage;',
'\t\tvar mTheirsAll = this.customization.dv.writeConflict.useTheirsAll;',
'\t\tvar mMineAll   = this.customization.dv.writeConflict.useMineAll;',
'\t\tmTheirs = mTheirs.replace(\'{theirvalue}\',this._stripHTML(wce.oldValueCurrent,30));',
'\t\tmMine = mMine.replace(\'{myvalue}\',this._stripHTML(myValue,30));',
'\t\tvar ctxt = this;\t\t\t\t',
'\t\tvar mD = [];',
'\t\tmD.push({html: mMine, value: \'mine\'});',
'\t\tmD.push({html: mTheirs, value: \'theirs\'});',
'\t\tif(wcCount > 1) {',
'\t\t\tmD.push(\'-\');',
'\t\t\tmD.push({html: mMineAll , value: \'mineAll\'});',
'\t\t\tmD.push({html: mTheirsAll, value: \'theirsAll\' });',
'\t\t}',
'\t\tvar mS = {',
'\t\t\ttheme: \'iOS7\',',
'\t\t\t_hostComponentId : this._hostComponentId,',
'\t\t\tlistVariableName: this.listVariableName,',
'\t\t\ticonColumn: {show: false},',
'\t\t\tpointer: {show: true,location: \'auto\'},',
'\t\t\tanimation: {show: {type: \'css-slide\',duration: \'fast\'}, hide: {type: \'none\',duration: \'fast\'}},',
'\t\t\tonHide: function() {  $(this._eleWCM).style.visibility = \'\';},',
'\t\t\tonClick: function(item) { ',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.listVariableName);',
'\t\t\t\tif(item.value == \'mine\') lObj._useMine(this._varName);',
'\t\t\t\tif(item.value == \'mineAll\') lObj._useMineAll(); ',
'\t\t\t\tif(item.value == \'theirs\') lObj._useTheirs(this._varName);',
'\t\t\t\tif(item.value == \'theirsAll\') lObj._useTheirsAll(); ',
'\t\t\t}',
'\t\t};',
'\t\tvar eleWCM = this._hostComponentId +\'.WCM.\'+this.listVariableName+ \'.\' +  varName.toUpperCase();',
'\t\t$(eleWCM).style.visibility = \'hidden\';',
'\t\tif(typeof this._menu == \'undefined\') {',
'\t\t\tthis._menu = new A5.Menu(mD,mS);',
'\t\t} else {',
'\t\t\tthis._menu.populate(mD);',
'\t\t}',
'\t\tthis._menu._varName = varName;',
'\t\tthis._menu._eleWCM = eleWCM;',
'\t\tvar ele = \'\';',
'\t\tif(eleIn == false) {',
'\t\t\tele = window[this._hostComponentId + \'_DlgObj\'].getPointer(varName);',
'\t\t} else { ',
'\t\t\tele = eleIn;',
'\t\t}',
'\t\tthis._menu.show(\'dropdown\',ele);  ',
'\t}',
'\t,',
'\t_useMine: function(varName) { \t\tthis.resolveConflictUsingMine(varName);',
'\t}',
'\t,',
'\t_useTheirs: function(varName) { \t\tthis.resolveConflictUsingTheirs(varName);',
'\t}',
'\t,',
'\t_useMineAll: function() { \t\tthis.resolveConflictUsingMine();',
'\t}',
'\t,',
'\t_useTheirsAll: function() { \t\tthis.resolveConflictUsingTheirs();',
'\t}',
'\t,',
'\tresolveConflictUsingMine: function() { \t\t',
'\t\tvar control = typeof arguments[0] != \'undefined\' ? arguments[0] : \'__all__\';',
'\t\tvar row = this.selection[0];',
'\t\tvar _d = this._getRowData(row)',
'\t\tvar wce = _d._writeConflictErrors;',
'\t\tif(typeof wce == \'undefined\') return false;',
'\t\tvar arr = [];',
'\t\tif(control == \'__all__\') arr = this._getControlsInDv();',
'\t\telse arr.push(control);',
'\t\tvar myValue = \'\';',
'\t\tvar indx = \'\';',
'\t\tvar fn = \'\';',
'\t\tvar ix2 = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tmyValue = window[this._hostComponentId + \'_DlgObj\'].getValue(arr[i]);',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\tif(indx >0 -1) {',
'\t\t\t\tix2 = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\t\tif(ix2 == -1) return false ',
'\t\t\t\tfn = this._getListFieldFromControl(arr[i]);',
'\t\t\t\t_d._oldData[fn] = wce[ix2].oldValueCurrent;',
'\t\t\t\twce.splice(indx,1);',
'\t\t\t}',
'\t\t}',
'\t\tif(wce.length == 0) {',
'\t\t\t_d._writeConflictErrors = false;',
'\t\t\t_d._hasWriteConflictErrors = false;',
'\t\t\tthis.updateRow(row,_d);',
'\t\t};',
'\t\tif(_d._hasWriteConflictErrors == false) { ',
'\t\t\tvar parentList = this.parentList;',
'\t\t\tif(typeof parentList != \'undefined\') {',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\t\t\tlObj._setChildHasWriteConflictFlag();',
'\t\t\t}',
'\t\t}',
'\t\tthis._clearServerSideErrors();',
'\t\tthis._showWriteConflictErrors();',
'\t}',
'\t,',
'\tresolveConflictUsingTheirs: function() { \t\t',
'\t\tvar control = typeof arguments[0] != \'undefined\' ? arguments[0] : \'__all__\';',
'\t\tvar row = this.selection[0];',
'\t\tvar _d = this._getRowData(row)',
'\t\tvar wce = _d._writeConflictErrors;',
'\t\tif(typeof wce == \'undefined\') return false;',
'\t\tvar arr = [];',
'\t\tif(control == \'__all__\') {',
'\t\t\tarr = this._getControlsInDv();',
'\t\t} else { ',
'\t\t\tif(control.constructor == Array) { ',
'\t\t\t\tarr = control;',
'\t\t\t} else { ',
'\t\t\t\tarr.push(control);',
'\t\t\t}',
'\t\t}',
'\t\tvar myValue = \'\';',
'\t\tvar indx = \'\';',
'\t\tvar fn = \'\';',
'\t\tvar ix2 = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tmyValue = window[this._hostComponentId + \'_DlgObj\'].getValue(arr[i]);',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\tif(indx >0 -1) {',
'\t\t\t\tix2 = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\t\tif(ix2 == -1) return false ',
'\t\t\t\tfn = this._getListFieldFromControl(arr[i]);',
'\t\t\t\t_d[fn] = wce[ix2].oldValueCurrent;',
'\t\t\t\t_d._oldData[fn] = wce[ix2].oldValueCurrent;',
'\t\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setValue(arr[i], wce[ix2].oldValueCurrent,false);',
'\t\t\t\twce.splice(indx,1);',
'\t\t\t}',
'\t\t}',
'\t\tif(wce.length == 0) {',
'\t\t\t_d._writeConflictErrors = false;',
'\t\t\t_d._hasWriteConflictErrors = false;',
'\t\t};',
'\t\tvar allArr = this._getControlsInDv();',
'\t\t_d._isDirty = false;',
'\t\tvar tempData = \'\';',
'\t\tfor(var i = 0; i < allArr.length; i++) {',
'\t\t\tfn = this._getListFieldFromControl(allArr[i]);',
'\t\t\ttempData = _d._oldData[fn];',
'\t\t\tif(tempData == null) tempData = \'\';',
'\t\t\tif( _d[fn] != tempData ) {',
'\t\t\t\t_d._isDirty = true;',
'\t\t\t\tbreak;',
'\t\t\t}',
'\t\t}',
'\t\tthis.updateRow(row,_d);',
'\t\tthis._clearServerSideErrors();',
'\t\tthis._showWriteConflictErrors();\t',
'\t\tif(_d._hasWriteConflictErrors == false) { ',
'\t\t\tvar parentList = this.parentList;',
'\t\t\tif(typeof parentList != \'undefined\') {',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\t\t\tlObj._setChildHasWriteConflictFlag(); ',
'\t\t\t}',
'\t\t}',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t}',
'\t,',
'\t_stripHTML: function(txt,length) { \t\tvar ele = document.createElement(\'div\');',
'\t\tele.innerHTML = txt;',
'\t\tvar txt2 = ele.textContent;',
'\t\tvar txt3 = txt2.substr(0,length);',
'\t\tif(txt3.length < txt2.length) txt3 = txt3 + \'...\';',
'\t\tdelete ele;\t\t',
'\t\treturn txt2;',
'\t}',
'\t,',
'\t_showWriteConflictErrors: function(row) { \t\tvar _d = this._getRowData(row);',
'\t\tif(typeof _d == \'undefined\') return false; ',
'\t\tif(typeof _d._writeConflictErrors == \'undefined\') return false;',
'\t\tif(typeof _d._hasWriteConflictErrors == \'undefined\') return false;',
'\t\tif(_d._hasWriteConflictErrors == false) return false;',
'\t\t_e = _d._writeConflictErrors',
'\t\tvar arr = [];',
'\t\tfor(var i = 0; i < _e.length; i++) {',
'\t\t\tdelete obj;',
'\t\t\tvar obj = {};',
'\t\t\tobj.id =  this._hostComponentId +  \'.V.R1.\' + _e[i].varName.toUpperCase();',
'\t\t\tobj.message = _e[i].errorText;',
'\t\t\tarr.push(obj);',
'\t\t}',
'\t\tvar arrFix = [];',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif($(arr[i].id)) arrFix.push(arr[i]);',
'\t\t}',
'\t\tif(arrFix.length > 0) window[this._hostComponentId + \'_DlgObj\'].setErrors(arr);;',
'\t}',
'\t,',
'\t_showServerSideErrors: function(row) { \t\tvar _d = this._getRowData();',
'\t\tif(typeof _d == \'undefined\') return false; ',
'\t\tif(typeof _d._globalErrors != \'undefined\') {',
'\t\t\tif(_d._globalErrors != \'\') {',
'\t\t\t\tthis._showGlobalError(_d._globalErrors);',
'\t\t\t}',
'\t\t}',
'\t\tif(typeof _d._serverSideErrors == \'undefined\') return false;',
'\t\tif(typeof _d._hasServerSideError == \'undefined\') return false;',
'\t\tif(_d._hasServerSideError == false) return false;',
'\t\t_e = _d._serverSideErrors;',
'\t\tvar arr = [];',
'\t\tfor(var i = 0; i < _e.length; i++) {',
'\t\t\tdelete obj;',
'\t\t\tvar obj = {};',
'\t\t\tif(typeof _e[i].varName != \'undefined\') { ',
'\t\t\t\tobj.id = this._hostComponentId + \'.V.R1.\' + _e[i].varName.toUpperCase();',
'\t\t\t\tobj.message = _e[i].errorText;',
'\t\t\t\tobj.errorType = \'serverside\';',
'\t\t\t\tarr.push(obj);',
'\t\t\t}',
'\t\t}',
'\t\tvar arrFix = [];',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif($(arr[i].id)) arrFix.push(arr[i]);',
'\t\t}',
'\t\tif(arrFix.length > 0) window[this._hostComponentId + \'_DlgObj\'].setErrors(arr);;',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t}',
'\t,',
'\t_clearServerSideErrors: function() {\t\tvar ea = window[this._hostComponentId + \'_DlgObj\']._eh._e;',
'\t\tif(typeof ea == \'undefined\') return false;',
'\t\tvar arr = this._getControlsInDv();',
'\t\tvar fa = [];',
'\t\tvar id = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tid = this._hostComponentId + \'.V.R1.\' + arr[i].toUpperCase()',
'\t\t\tif(window[this._hostComponentId + \'_DlgObj\']._findArrayProp(ea,\'id\',id) >= 0) fa.push(id);',
'\t\t}',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].clearErrors(fa);',
'\t\tthis._clearGlobalError();',
'\t}',
'\t,',
'\t_hasClientSideError: function() { \t\tvar ea = window[this._hostComponentId + \'_DlgObj\']._eh._e;',
'\t\tif(typeof ea == \'undefined\') return false;',
'\t\tvar arr = this._getControlsInDv();',
'\t\tvar indx = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tid = this._hostComponentId + \'.V.R1.\' + arr[i].toUpperCase()',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(ea,\'id\',id);',
'\t\t\tif(indx >= 0) {',
'\t\t\t\tif( ea[indx].clientSide == true) {',
'\t\t\t\t\treturn true;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_getRowData: function() { \t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tif(rn > -1) return this.getData(rn);',
'\t\telse return this.getData(this.selection[0]);',
'\t}',
'\t,',
'\tsetListClean: function() {\t\tfor(var i = 0; i < this._data.length; i++) { ',
'\t\t\tthis.setRowClean(i);',
'\t\t}',
'\t}',
'\t,',
'\tdeleteRow: function() { \t\t',
'\t\tvar _rn = this.selection[0];',
'\t\tif(typeof _rn == \'undefined\') return false;',
'\t\tif(this._executeEvent(\'detailView.canDeleteRow\',{}) == false) return false;',
'\t\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\t\tvar flagPrompt = typeof ops.prompt != \'undefined\' ? ops.prompt : true;',
'\t\tif(!flagPrompt) {',
'\t\t\tthis._deleteRowLow();',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar classInst = this;',
'\t\tif(typeof this.customization == \'undefined\') return false;',
'\t\tvar msg = this.customization.dv.confirmDeleteWarning.message;',
'\t\tvar image = this.customization.dv.confirmDeleteWarning.icon;',
'\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\tvar title = this.customization.dv.confirmDeleteWarning.title;',
'\t\tA5.msgBox.show(title,msg,\'yn\',function(button) {',
'\t\t\tif(button == \'yes\'){',
'\t\t\t\tclassInst._deleteRowLow();    ',
'\t\t    } else if(button == \'no\'){',
'   \t\t\t}',
'   \t\t\tdelete classInst;',
'\t\t} );',
'\t}',
'\t,',
'\tresetRow: function() { \t\tif(this._executeEvent(\'detailView.canResetRow\',{}) == false) return false;',
'\t\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\t\tvar flagPrompt = typeof ops.prompt != \'undefined\' ? ops.prompt : true;',
'\t\tif(!flagPrompt) {',
'\t\t\tthis._resetRowLow();',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar classInst = this;',
'\t\tvar msg = this.customization.dv.confirmRowResetWarning.message;',
'\t\tvar image = this.customization.dv.confirmRowResetWarning.icon;',
'\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\tvar title = this.customization.dv.confirmRowResetWarning.title;',
'\t\tA5.msgBox.show(title,msg,\'yn\',function(button) {',
'\t\t\tif(button == \'yes\'){',
'\t\t\t\tclassInst._resetRowLow();    ',
'\t\t    } else if(button == \'no\'){',
'   \t\t\t}',
'   \t\t\tdelete classInst;',
'\t\t} );',
'\t}',
'\t,',
'\t_resetRowLow: function() { \t\tvar existingData = this.getData(this.selection[0]);',
'\t\tif(typeof existingData == \'undefined\') return false;',
'\t\tif(typeof existingData._oldData == \'undefined\') return false;',
'\t\tvar data = {};',
'\t\t$u.o.assign(data,existingData._oldData);',
'\t\tdata._isDirty = false;',
'\t\tdata._isDeleted = false;',
'\t\tdata._hasServerSideError = false;',
'\t\tdata._serverSideErrors = false;',
'\t\tdata._hasWriteConflictErrors = false;',
'\t\tdata._writeConflictErrors = false;',
'\t\tdata._oldData = false;',
'\t\tdelete data._globalErrors;',
'\t\tdelete data._globalErrorsRaw;',
'\t\tthis.updateRow(this.selection[0],data);',
'\t\tvar existingData = this.getData(this.selection[0]);',
'\t\tdelete existingData._globalErrors;',
'\t\tdelete existingData._globalErrorsRaw;',
'\t\tthis.updateRow(this.selection[0],existingData);',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t\tthis.populateUXControls();',
'\t\tthis._refreshDebugInfo();',
'\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\tif(typeof topParent != \'undefined\') { ',
'\t\t\tvar lObjTP = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\t\tvar _r = lObjTP._getRoute();',
'\t\t\tvar _ra = this.__routeToArray(_r)',
'\t\t\tthis.setRowCleanPreserveState(_ra);',
'\t\t}',
'\t\tthis._executeEvent(\'detailView.afterResetRow\',{});',
'\t}',
'\t,',
'\t__routeToArray: function(_r) { \t\tvar arr = [];',
'\t\tfor(var i = 0; i < _r.length; i++) { ',
'\t\t\tif(i==0) {',
'\t\t\t\tarr.push(_r[i].row);',
'\t\t\t} else { ',
'\t\t\t\tarr.push(\'__LIST__\' +_r[i].list);',
'\t\t\t\tarr.push(_r[i].row);',
'\t\t\t}',
'\t\t}',
'\t\treturn arr; ',
'\t}',
',',
'\t_arrayIsDirty: function(arr) { \t\tvar flag = false;',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif(arr[i]._isDirty) { ',
'\t\t\t\treturn true;',
'\t\t\t}',
'\t\t}',
'\t\treturn false;',
'\t}',
',',
'\t_deleteRowLow: function() { \t\t',
'\t\tvar data = this.getData(this.selection[0]);',
'\t\tif(typeof data == \'undefined\') return false;',
'\t\tvar flagNewRow = \'\';',
'\t\tif(typeof data._isNewRow != \'undefined\') flagNewRow = data._isNewRow;',
'\t\tif(flagNewRow) { ',
'\t\t\tvar _rn = this.selection[0];',
'\t\t\tvar _newRow = _rn;',
'\t\t\tif( (_newRow +1) > (this._dataMap.length-1) ) _newRow = _newRow -1;',
'\t\t\tthis.nullOutDetailViewRecord();',
'\t\t\tthis.removeRows([_rn]);',
'\t\t\tvar flagListIsClean = !this._arrayIsDirty(this._data);',
'\t\t\tdata._isDeleted = true;',
'\t\t\tvar parentListName = this.parentList;',
'\t\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\t\tvar flagIsNewRow = false;',
'\t\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\t\tvar parentData = plObj.getData(plObj.selection[0]);',
'\t\t\t\tvar parentData2 = parentData;',
'\t\t\t\tvar parentDataSublist = parentData[\'__LIST__\' + this.listVariableName];',
'\t\t\t\tvar indx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(parentDataSublist,\'*key\',data[\'*key\']);',
'\t\t\t\tparentDataSublist.splice(indx,1);',
'\t\t\t\tvar flagLoop = true;',
'\t\t\t\tvar parentList = plObj;',
'\t\t\t\twhile(flagLoop && flagListIsClean) { ',
'\t\t\t\t\tif( (typeof parentData[\'_oldData\'] == \'undefined\' || !parentData[\'_oldData\']) && (typeof parentData._isNewRecord != \'undefined\' || !parentData._isRewRecord)    ) {',
'\t\t\t\t\t\tparentData._isDirty = false;',
'\t\t\t\t\t\tparentData._flagGlobalErrorInChild = false;',
'\t\t\t\t\t\tif(typeof parentList.parentList == \'undefined\') break;',
'\t\t\t\t\t\tparentList = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList.parentList);',
'\t\t\t\t\t\tif(parentList) { ',
'\t\t\t\t\t\t\tparentData = parentList.getData(parentList.selection[0]);',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tbreak;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\t\t\tvar lTop = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\t\t\tvar topParentData = lTop.getData(lTop.selection[0]);',
'\t\t\t\tlTop._resetFlags(topParentData);',
'\t\t\t\tlTop._refreshListRecursive();',
'\t\t\t}',
'\t\t\tthis.setValue(_newRow);',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\t_dlgObj.persistVariablesToLocalStorage();',
'\t\t\tthis._executeEvent(\'detailView.afterDeleteRow\',{})',
'\t\t\treturn false;',
'\t\t}',
'\t\tdata._isDirty = true;',
'\t\tdata._hasServerSideError = false;',
'\t\tdata._serverSideErrors = false;',
'\t\tdata._hasWriteConflictErrors = false;',
'\t\tdata._writeConflictErrors = false;',
'\t\tdata._oldData = false;',
'\t\tdata._isDeleted = true;',
'\t\tdata = this._base64Prefix(data,true);',
'\t\tthis.updateRow(this.selection[0],data);',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t\tthis.populateUXControls();',
'\t\tthis._refreshDebugInfo();',
'\t\tthis._executeEvent(\'detailView.afterDeleteRow\',{});',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\tvar flagIsNewRow = false;',
'\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\tif(plObj._setDirtyByChild) {',
'\t\t\t\tplObj._setDirtyByChild(false);',
'\t\t\t}',
'\t\t}',
'\t\tif(this.synchronizeImmediately) { ',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\tvar flagOnLine = _dlgObj._getOnlineStatus();',
'\t\t\tif (flagOnLine) _dlgObj.saveListEdits(this.listVariableName);',
'\t\t}',
'\t}',
'\t,',
'\t_base64Prefix: function(_d,flagRemove) { \t\tvar n = \'\';',
'\t\tvar b64prefix = \'\'',
'\t\tfor(var i = 0; i < this._listFields.length; i++) {',
'\t\t\tif(typeof this._listFields[i].base64Prefix !== \'undefined\') { ',
'\t\t\t\tn = this._listFields[i].name;',
'\t\t\t\tb64prefix = this._listFields[i].base64Prefix;',
'\t\t\t\t_d[n] = _d[n].replace(b64prefix,\'\');',
'\t\t\t\tif(!flagRemove) _d[n] = b64prefix + _d[n];',
'\t\t\t}',
'\t\t}',
'\t\treturn _d;',
'\t}',
'\t,',
'\t_resetFlags: function(_d) { \t',
'\tvar r = A5.u.object.each(_d,function(name,value,path,result) {',
'\t\tif(name == \'_isDirty\'|| name == \'_isNewRow\' ){',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_isDirty\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_isDirty\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(name == \'_hasServerSideError\' || name == \'_flagServerSideErrorInChild\' ) { ',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_flagServerSideErrorInChild\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_flagServerSideErrorInChild\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(name == \'_hasGlobalErrors\' || name == \'_flagGlobalErrorInChild\' ) { ',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_flagGlobalErrorInChild\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_flagGlobalErrorInChild\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(name == \'_hasWriteConflictErrors\' || name == \'_flagWriteConflictErrorInChild\' ) { ',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_flagWriteConflictErrorInChild\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_flagWriteConflictErrorInChild\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t});',
'\tvar _d2 = \'\';',
'\tvar path = \'\';',
'\tvar property = \'\';',
'\tfor(var i = 0; i < r.length; i++) { ',
' \t\t _d2 = _d',
' \t\tpath = JSON.parse(r[i].path)',
' \t\tproperty = r[i].property',
' \t\tfor(var j = 0; j < path.length; j++) { ',
' \t\t\t_d2 = _d2[path[j]];',
' \t\t}',
' \t\t_d2[property] = true;',
'\t}',
'}',
',',
'\tresetForm: function() { \t\tif(this._executeEvent(\'detailView.canUndoEdits\',{}) == false) return false;',
'\t\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\t\tvar flagPrompt = typeof ops.prompt != \'undefined\' ? ops.prompt : true;',
'\t\tif(!flagPrompt) {',
'\t\t\tthis._resetFormLow();',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar classInst = this;',
'\t\tvar msg = this.customization.dv.confirmFormResetWarning.message;',
'\t\tvar image = this.customization.dv.confirmFormResetWarning.icon;',
'\t\tvar title = this.customization.dv.confirmFormResetWarning.title;',
'\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\tA5.msgBox.show(title,msg,\'yn\',function(button) {',
'\t\t\tif(button == \'yes\'){',
'\t\t\t\tclassInst._resetFormLow();    ',
'\t\t    } else if(button == \'no\'){',
'   \t\t\t}',
'   \t\t\tdelete classInst;',
'\t\t} );',
'\t}',
'\t,',
'\t_resetFormLow: function() {\t\tthis.populateUXControls();',
'\t\tvar ctrls = this._getControlsInDv();',
'\t\tvar eleId = \'\';',
'\t\tvar arr = [];',
'\t\tvar indx = -1;',
'\t\tfor(var i = 0; i < ctrls.length; i++) {',
'\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setControlDirty(ctrls[i],false);',
'\t\t\tif( window[this._hostComponentId + \'_DlgObj\']._eh._e.length > 0) {',
'\t\t\t\teleId = this._hostComponentId +  \'.V.R1.\' + ctrls[i].toUpperCase();',
'\t\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(window[this._hostComponentId + \'_DlgObj\']._eh._e,\'id\',eleId);',
'\t\t\t\tif(indx >= 0 ) arr.push(eleId);',
'\t\t\t}',
'\t\t}',
'\t\tif(arr.length > 0) window[this._hostComponentId + \'_DlgObj\'].clearErrors(arr);',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj.refreshClientSideComputations();',
'\t\tthis._executeEvent(\'detailView.afterUndoEdits\',{});',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj.persistVariablesToLocalStorage();',
'\t}',
'\t,',
'\tdetailViewIsDirty: function() {\t\t',
'\t\tvar flagDrillDown = typeof arguments[0] != \'undefined\' ? arguments[0] : false;',
'\t\tvar isDirty = false;',
'\t\tthis._nameOfListWithDirtyDetailView = \'\';',
'\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\tif(window[this._hostComponentId + \'_DlgObj\'].getControlDirty(controlName.toUpperCase())) {',
'\t\t\t\tisDirty =  true;',
'\t\t\t\tthis._nameOfListWithDirtyDetailView = this.listVariableName;',
'\t\t\t\tbreak;',
'\t\t\t}',
'\t\t}',
'\t\tthis._dvIsDirty = isDirty;',
'\t\tif(isDirty == false && flagDrillDown) {',
'\t\t\tvar lObj = \'\';',
'\t\t\tfor(var i = 0; i < this.childLists.length; i++) {',
'\t\t\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\t\t\tif(lObj) {',
'\t\t\t\t\tisDirty = lObj.detailViewIsDirty(flagDrillDown);',
'\t\t\t\t\tif(isDirty) {',
'\t\t\t\t\t\tthis._nameOfListWithDirtyDetailView = lObj._nameOfListWithDirtyDetailView;',
'\t\t\t\t\t\t$(\'msg1\').innerHTML = this._nameOfListWithDirtyDetailView ;',
'\t\t\t\t\t}',
'\t\t\t\t\tif(isDirty) break;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\treturn isDirty;',
'\t}',
'\t,',
'\tlistIsDirty: function() {\t\t',
'\t\tfor(var i = 0; i < this._data.length; i++) { ',
'\t\t\tif(typeof this._data[i]._isDirty != \'undefined\') { ',
'\t\t\t\tif(this._data[i]._isDirty) { ',
'\t\t\t\t\treturn true;',
'\t\t\t\t }',
'\t\t\t}',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_parentListHasActiveRow: function() {\t\tvar pl = this.parentList;',
'\t\tif(typeof pl == \'undefined\') {',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar l = window[this._hostComponentId + \'_DlgObj\'].getControl(pl);',
'\t\tvar s = l.selection[0];',
'\t\tif(typeof s == \'undefined\') return false;',
'\t\treturn true;',
'\t}',
'\t,',
'\tnullOutDetailViewRecord: function() {\t\tvar flagDisable = typeof arguments[0] != \'undefined\' ? arguments[0] : false;',
'\t\tvar val = \'\';',
'\t\tvar flagParentListHasActiveRow = this._parentListHasActiveRow();',
'\t\tif(flagDisable) {',
'\t\t\tif(flagParentListHasActiveRow) flagDisable = false;',
'\t\t}',
'\t\tvar debugMsg = \'CurrentList: \' + this.listVariableName + \' - flagDisable is set to: \' + flagDisable + \' my parentList has active row: \' +  this._parentListHasActiveRow();',
'\t\tvar controlName = \'\';',
'\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setValue(controlName,val,false);',
'\t\t}',
'\t\tthis._deselectAll();',
'\t\tthis._clearServerSideErrors();',
'\t\tif(flagDisable) this.disableDetailView(true);',
'\t\telse this.disableDetailView(false)',
'\t}',
'\t,',
'\tnewDetailViewRecord: function() {\t\tvar flagParentIsDeleted = false;',
'\t\tvar pData = \'\';',
'\t\tif(this.allParentLists.length > 0) { ',
'\t\t\tfor(var i = 0; i < this.allParentLists.length; i++) {',
'\t\t\t\tpObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.allParentLists[i]);',
'\t\t\t\tif(typeof pObj.selection[0] != \'undefined\') {',
'\t\t\t\t\tpData = pObj.getData(pObj.selection[0]);',
'\t\t\t\t\tif(typeof pData._isDeleted != \'undefined\') {',
'\t\t\t\t\t\tif(pData._isDeleted) {',
'\t\t\t\t\t\t\tflagParentIsDeleted = true;',
'\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(this._executeEvent(\'detailView.canNewRecord\',{}) == false) return false;',
'\t\tvar val = \'\';',
'\t\tvar controlName = \'\';',
'\t\tvar defaultJS = \'\';',
'\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\tdefaultJS = this._listFields[i].defaultValue;',
'\t\t\tif(defaultJS != \'\') {',
'\t\t\t\tval = Function(this._listFields[i].defaultValue).call(this);',
'\t\t\t} else { ',
'\t\t\t\tval = \'\';',
'\t\t\t}',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\t_dlgObj.setValue(controlName,val,false);',
'\t\t\tvar controlType = _dlgObj._getControlType(controlName).toLowerCase();',
'\t\t\tif(controlType == \'signaturecapture\') { ',
'\t\t\t\t_dlgObj._functions._toggleCanvas(controlName.toUpperCase(),\'canvas\');',
'\t\t\t\t_dlgObj._functions._clearCanvas(controlName.toUpperCase())',
'\t\t\t}',
'\t\t}',
'\t\tthis._deselectAll();',
'\t\tthis._clearServerSideErrors();',
'\t\tthis._executeEvent(\'detailView.afterNewRecord\',{});',
'\t\tthis._emptyAllChildLists();',
'\t\tif(flagParentIsDeleted) this.disableDetailView(true);',
'\t\telse this.disableDetailView(false);',
'\t\tthis._dvmode = \'enter\';',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.modeChanged\',{mode: \'enter\'});',
'\t\t_dlgObj.refreshClientSideComputations();',
'\t\tthis._selectedRow = -1;',
'\t\tthis._currentDetailViewKey = undefined;',
'\t}',
'\t,',
'\t_emptyAllChildLists: function() { \t\tfor(var i = 0; i < this.childLists.length; i++) {',
'\t\t\tvar lobj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\t\tif(lobj) {',
'\t\t\t\tlobj._emptyList();',
'\t\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setValue(lobj.listVariableName,false);',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\t_emptyChildList: function(row) { \t',
'\t\tvar _d = this.getData(row);',
'\t\tvar lName = \'\';',
'\t\tfor(var name in _d) {',
'\t\t\tif(_d[name] != null) {',
'\t\t\t\tif(_d[name].constructor == Array) {',
'\t\t\t\t\tlName = name.split(\'__LIST__\')[1];',
'\t\t\t\t\tif(typeof lName != \'undefined\') {',
'\t\t\t\t\t\t_d[name] = [];',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\t_getUXDetailViewControlName: function(field) {\t\tif(!this._hasDetailView) {',
'\t\t\treturn \'\';',
'\t\t}',
'\t\tif(this._detailView.method == \'fieldMap\') {',
'\t\t\tfor(var i = 0; i < this._detailView.fieldMap.length; i++) { ',
'\t\t\t\tif(this._detailView.fieldMap[i].field == field) {',
'\t\t\t\t\treturn this._detailView.fieldMap[i].control;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\treturn \'\';',
'\t\t} else { ',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\tvar controlsInContainer = _dlgObj.__controlNesting[this._detailView.container];',
'\t\t\tvar indx = controlsInContainer.indexOf(field);',
'\t\t\tif(indx == -1 ) return \'\'; ',
'\t\t\telse return field;',
'\t\t}',
'\t}',
'\t,',
'\t_showGlobalError: function(txt) {\t\tvar flagShowAlerts = this.flagShowAlerts;',
'\t\tif(typeof flagShowAlerts == \'undefined\') flagShowAlerts = true;',
'\t\tvar gph = this._hostComponentId + \'.V.R1.\' + this._globalErrorPlaceHolder;',
'\t\tvar ele = $(gph);',
'\t\tif(!ele) {',
'\t\t\tif(flagShowAlerts) alert(txt);',
'\t\t\treturn false;',
'\t\t}',
'\t\tvar cssTxt = this._detailViewGlobalErrorStyle;',
'\t\tcssTxt = cssTxt + \'; display: ;\'',
'\t\tele.style.cssText = cssTxt;',
'\t\tele.innerHTML = txt;',
'\t}',
'\t,',
'\t_clearGlobalError: function() {\t\tvar gph = this._hostComponentId + \'.V.R1.\' + this._globalErrorPlaceHolder;',
'\t\tele = $(gph);',
'\t\tif(ele) {',
'\t\t\tele.style.display = \'none\';',
'\t\t\tele.innerHTML = \'\';',
'\t\t}',
'\t}',
'\t,',
'\tupdateTableRow: function(primaryKeyOrRowNumber,dataObj,options) {\t\tif(typeof options == \'undefined\') options = {};',
'\t\tif(typeof options.setFocusToTargetRow == \'undefind\') options.setFocusToTargetRow = false;',
'\t\tvar obj = {};',
'\t\tobj.programmatic = true;',
'\t\tobj.data = {};',
'\t\t$u.o.assign(obj.data,dataObj);',
'\t\tobj.primaryKeyOrRowNumber = primaryKeyOrRowNumber;',
'\t\tobj.setFocusToTargetRow = options.setFocusToTargetRow;',
'\t\twindow[this._hostComponentId + \'_DlgObj\']._updateListDataFromUXControls(this.listVariableName,null,obj);',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\tvar thisData = obj.data;',
'\t\t\tvar flagIsNewRow = false;',
'\t\t\tif(typeof thisData._isNewRow != \'undefined\') flagIsNewRow = thisData._isNewRow;',
'\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\tif(plObj._setDirtyByChild) {',
'\t\t\t\tif (flagIsNewRow == false)  \tplObj._setDirtyByChild(false);',
'\t\t\t\telse plObj._setDirtyByChild(true,thisData,this.listVariableName);',
'\t\t\t}',
'\t\t}\t',
'\t}',
'\t,',
'\taddTableRow: function(dataObj,options) {\t\tvar flagRefresh = false;',
'\t\tif(typeof options == \'undefined\') {',
'\t\t\toptions = {};',
'\t\t}',
'\t\tif(typeof options.setFocusToTargetRow == \'undefind\') options.setFocusToTargetRow = false;',
'\t\tvar obj = {};',
'\t\tobj.programmatic = true;',
'\t\tobj.data = {};',
'\t\t$u.o.assign(obj.data,dataObj);',
'\t\tobj.primaryKeyOrRowNumber = null;',
'\t\tobj.setFocusToTargetRow = options.setFocusToTargetRow;',
'\t\tif(typeof options.insertRow == \'undefined\') options.insertRow = false;\t\t',
'\t\tobj.insertRow = options.insertRow;',
'\t\tobj.insertRowPosition = options.insertPosition;',
'\t\tvar _dlg = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlg._updateListDataFromUXControls(this.listVariableName,null,obj);',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\tvar thisData = obj.data;',
'\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\tif(plObj._setDirtyByChild) {',
'\t\t\t\tplObj._setDirtyByChild(true,thisData,this.listVariableName);',
'\t\t\t}',
'\t\t}',
'\t\t_dlg.refreshClientSideComputations();',
'\t}',
'\t,',
'\t_setChildHasWriteConflictFlag: function() { ',
'\tvar _d = this.getData(this.selection[0]);',
'\tvar flag = this._hasChildWithWriteConflict(); ',
'\t_d._flagWriteConflictErrorInChild = flag;',
'\tif(typeof _d._oldData == \'undefined\') { ',
'\t\tvar flag = this._hasChildWithDirtyData()',
'\t\t_d._isDirty = flag; ',
'\t}',
'\tthis.updateRow(this.selection[0],_d);',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') { ',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\tlObj._setChildHasWriteConflictFlag();',
'\t}',
'\treturn false;',
'}',
',',
'\t_hasChildWithDirtyData: function() {',
'\tvar flag = false;',
'\tvar lObj = \'\';',
'\tvar data = \'\';',
'\tfor (var i = 0; i < this.childLists.length; i++) { ',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\tdata = lObj.getData(lObj.selection[0]);',
'\t\tif(typeof data._isDirty != \'undefined\') {',
'\t\t\tif(data._isDirty) flag = true;',
'\t\t}',
'\t\tif(flag == false) { ',
'\t\t\tvar flag2 = lObj._hasChildWithDirtyData();',
'\t\t\tif(flag2) flag = true;',
'\t\t}',
'\t}',
'\treturn flag;',
'}',
',',
'\t_hasChildWithWriteConflict: function() {',
'\tvar flag = false;',
'\tvar lObj = \'\';',
'\tvar data = \'\';',
'\tfor (var i = 0; i < this.childLists.length; i++) { ',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\tdata = lObj.getData(lObj.selection[0]);',
'\t\tif(typeof data._hasWriteConflictErrors != \'undefined\') {',
'\t\t\tif(data._hasWriteConflictErrors) flag = true;',
'\t\t}',
'\t\tif(typeof data._flagWriteConflictErrorInChild != \'undefined\') {',
'\t\t\tif(data._flagWriteConflictErrorInChild) flag = true;',
'\t\t}',
'\t\tif(flag == false) { ',
'\t\t\tvar flag2 = lObj._hasChildWithWriteConflict();',
'\t\t\tif(flag2) flag = true;',
'\t\t}',
'\t}',
'\treturn flag;',
'}',
',',
'\t_populateMyChildren: function() {',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tthis._populateChildList(lname);',
'\t}',
'}',
',',
'\t_emptyList: function() { ',
'\tthis.populate([]);',
'\tthis._currentDetailViewKey = undefined;',
'\tthis._selectedRow = -1;',
'\tvar e = $(this._hostComponentId + \'.\' + this.listVariableNameTrueCase + \'.RECORDCOUNT\');',
'\tif(e) e.innerHTML = \'0\';',
'\tthis.nullOutDetailViewRecord(true); ',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lobj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tlobj._emptyList();',
'\t}',
'}',
',',
'\t_populateChildList: function(list) {',
'\tvar flagParentIsDeleted = false;',
'\tlChildObj = window[this._hostComponentId + \'_DlgObj\'].getControl(list);',
'\tif(typeof lChildObj._parentIsDeleted != \'undefined\') flagParentIsDeleted = lChildObj._parentIsDeleted;',
'\tvar _d = this.selectionData[0];',
'\tvar flagClearChildLists = false;',
'\tif(typeof _d == \'undefined\') {',
'\t\tflagClearChildLists = true;',
'\t}',
'\tif(typeof _d == \'undefined\') {',
'\t\tflagClearChildLists = true;',
'\t}',
'\tif(flagClearChildLists) { ',
'\t\tthis._emptyAllChildLists()',
'\t\treturn false;',
'\t}',
'\tvar childDataObjectName = this._getChildDataObjectName(list);',
'\tvar _rd = _d[childDataObjectName];',
'\tif(_rd == null) { ',
'\t\t_rd = [];',
'\t}',
'\tif(typeof _rd == \'undefined\' || _rd.length == 0) {',
'\t\t_d[childDataObjectName] = [];',
'\t\t_rd = _d[childDataObjectName]',
'\t}',
'\tvar lobj = window[this._hostComponentId + \'_DlgObj\'].getControl(list);',
'\tif(lobj) {',
'\t\tlobj.populate(_rd);',
'\t\tvar e = $(this._hostComponentId + \'.\' + lobj.listVariableNameTrueCase + \'.RECORDCOUNT\');',
'\t\tif(e) e.innerHTML = _rd.length;',
'\t\tlobj.disableDetailView(false);',
'\t\tif(lobj.allowNullSelection) {',
'\t\t\tif(lobj.nullOutDetailViewRecord) lobj.nullOutDetailViewRecord(true); ',
'\t\t\tfor(var i = 0; i < lobj.childLists.length; i++) { ',
'\t\t\t\tvar lname = lobj.childLists[i];',
'\t\t\t\tlobj._populateChildList(lname);',
'\t\t\t}',
'\t\t}',
'\t}',
'\tthis._currentSelection = this.selection[0];',
'\tif(flagParentIsDeleted) lobj.disableDetailView(true);',
'}',
',',
'\t_setSynchProgress: function(pct) {',
'\tvar x = \'\';',
'\tif(Number(pct) == 0) x = \'none\';',
'\tvar eleO = $(\'SYNCHPROGRESS.\' + this.listVariableName);',
'\tif(eleO) eleO.style.display = \'\';',
'\tvar eleI = $(\'SYNCHPROGRESS.\' + this.listVariableName + \'.SLIDER\');',
'\tif(eleI) {',
'\t\teleI.style.display = x;',
'\t\teleI.style.width = \'\' + pct + \'%\';',
'\t}',
'}',
',',
'\t_hideSynchProgress: function(pct) {',
'\tvar eleO = $(\'SYNCHPROGRESS.\' + this.listVariableName);',
'\tif(eleO) eleO.style.display = \'none\';',
'}',
',',
'\t_cancelBatchSynchronize: function() { ',
'\tvar flag = this._executeEvent(\'detailView.canCancelBatch\',{});',
'\tif(!flag) { ',
'\t\treturn false;',
'\t}',
'\tthis._flagCancelBatchSynchronize = true;',
'}',
',',
'\t_harvestMediaFields_low: function(arr,objListName,objState,data,options) {',
'\tvar _mediaMap = \'\';;',
'\tvar _mediaFields = \'\';',
'\tvar listName = \'\';',
'\tvar lObj = \'\';',
'\tvar flagNested = false;',
'\tvar objDirty = false;',
'\tvar fieldDirty = false;',
'\tvar lName = \'\';',
'\tvar flagCheck = \'\';',
'\tvar flagIsMediaField = false;',
'\tvar mode = options.mode;',
'\tif(typeof mode == \'undefined\') mode = \'\';',
'\tvar flagCapture = false;',
'\tvar flagCapture2 = false;',
'\tvar flagChildTable = false;',
'\tfor(var prop in data) { ',
'\t\tif(prop == \'_dirtyImages\') continue;',
'\t\tif( data[prop] != null && data[prop].constructor == Array) { ',
'\t\t\tif(data[prop].length > 0) { ',
'\t\t\t\tobjListName.push({table: prop, nested: true});',
'\t\t\t\tfor(var i = 0; i < data[prop].length; i++) { ',
'\t\t\t\t\tobjState.push( {table: objListName[  objListName.length -1][\'table\'], row: i}) ;',
'\t\t\t\t\tthis._harvestMediaFields_low(arr,objListName,objState,data[prop][i],options);',
'\t\t\t\t\tobjState.pop();',
'\t\t\t\t}',
'\t\t\t\tobjListName.pop();',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tif(objListName.length == 0) { ',
'\t\t\t\tcontinue;',
'\t\t\t}',
'\t\t\tlistName   = objListName[objListName.length -1][\'table\'];',
'\t\t\tflagNested = objListName[objListName.length -1][\'nested\'];',
'\t\t\tif(listName == \'_top_\') {',
'\t\t\t\tlObj = this;',
'\t\t\t\tflagChildTable = false;',
'\t\t\t} else { ',
'\t\t\t\tlistName = listName.split(\'__LIST__\')[1];',
'\t\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\t\tlObj = _dlgObj.getControl(listName);',
'\t\t\t\tflagChildTable = true;',
'\t\t\t}',
'\t\t\tif(lObj) { ',
'\t\t\t\tflagCheck = true;',
'\t\t\t\t_mediaMap = lObj._mediaFields;  ',
'\t\t\t\tflagIsMediaField = false;',
'\t\t\t\tif(!options.flagDirtyOnly) {',
'\t\t\t\t\tif(_mediaMap.indexOf(prop) > -1) flagIsMediaField = true;',
'\t\t\t\t\tif(flagIsMediaField) { ',
'\t\t\t\t\t\tlName = objListName[objListName.length -1][\'table\'];',
'\t\t\t\t\t\tif(lName == \'_top_\') lName = lObj.listVariableName;',
'\t\t\t\t\t\tflagCapture = false;',
'\t\t\t\t\t\tif(mode == \'\') { ',
'\t\t\t\t\t\t\tif(data[prop] != null && data[prop] != \'\' && data[prop].toLowerCase().indexOf(\'file:\') != 0) flagCapture = true;',
'\t\t\t\t\t\t} else if(mode == \'file\') { ',
'\t\t\t\t\t\t\tif(data[prop] != null && data[prop] != \'\' && data[prop].toLowerCase().indexOf(\'file:\') == 0) flagCapture = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tif(flagCapture) {',
'\t\t\t\t\t\t\tarr.push({',
'\t\t\t\t\t\t\t\tlistFieldName: prop, ',
'\t\t\t\t\t\t\t\tfilename: data[prop], ',
'\t\t\t\t\t\t\t\tlistName: lName, ',
'\t\t\t\t\t\t\t\troute: JSON.stringify(objState),',
'\t\t\t\t\t\t\t\tflagChildTable: flagChildTable',
'\t\t\t\t\t\t\t\t});',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\tif(flagCheck) {',
'\t\t\t\t\t\tfieldDirty = false;',
'\t\t\t\t\t\tif(typeof data._dirtyImages != \'undefined\') {',
'\t\t\t\t\t\t\tobjDirty = data._dirtyImages[prop];',
'\t\t\t\t\t\t\tfieldDirty = false;',
'\t\t\t\t\t\t\tif(typeof objDirty != \'undefined\') fieldDirty = objDirty;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(data._isNewRow) {',
'\t\t\t\t\t\t\t\tfieldDirty = true;',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\tif(typeof data._oldData != \'undefined\') { ',
'\t\t\t\t\t\t\t\t\tif(data[prop] != data._oldData[prop]) fieldDirty = true;',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\t_mediaMap = lObj._mediaFields;',
'\t\t\t\t\t\tif(_mediaMap.indexOf(prop) > -1) flagIsMediaField = true;',
'\t\t\t\t\t\tif(flagIsMediaField) { ',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tflagCapture2 = false;',
'\t\t\t\t\t\tif(options.flagCleanOnly) { ',
'\t\t\t\t\t\t\tif(!fieldDirty) {',
'\t\t\t\t\t\t\t\tif(flagIsMediaField) flagCapture2 = true;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(fieldDirty) { ',
'\t\t\t\t\t\t\t\tif(flagIsMediaField) flagCapture2 = true;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tif( ( ( flagCapture2 )   && data[prop] != null &&  data[prop].toLowerCase().indexOf(\'file:\') == 0 ) ) {',
'\t\t\t\t\t\t\tlName = objListName[objListName.length -1][\'table\'];',
'\t\t\t\t\t\t\tif(lName == \'_top_\') {',
'\t\t\t\t\t\t\t\tlName = lObj.listVariableName;',
'\t\t\t\t\t\t\t\tflagChildTable = false;',
'\t\t\t\t\t\t\t} else  { ',
'\t\t\t\t\t\t\t\tflagChildTable = true;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tarr.push({',
'\t\t\t\t\t\t\t\tlistFieldName: prop, ',
'\t\t\t\t\t\t\t\tfilename: data[prop], ',
'\t\t\t\t\t\t\t\tlistName: lName, ',
'\t\t\t\t\t\t\t\troute: JSON.stringify(objState),',
'\t\t\t\t\t\t\t\tflagChildTable: flagChildTable',
'\t\t\t\t\t\t\t\t});',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'}',
',',
'\t_harvestMediaFields: function() {   ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return [];',
'\tvar ops = arguments[0];',
'\tif(typeof ops == \'undefined\') ops = {};',
'\tif(typeof ops.dirtyOnly == \'undefined\') ops.dirtyOnly = true;',
'\tif(typeof ops.cleanOnly == \'undefined\') ops.cleanOnly = false;',
'\tif(typeof ops.mode == \'undefined\') ops.mode = \'\';',
'\tvar _r = ops.row;',
'\tif(typeof _r == \'undefined\') _r = -1;',
'\tvar arr = [];',
'\tvar objListName = [];',
'\tvar objState = [];',
'\tvar flagRowIsDirty = \'\';',
'\tvar flagDirtyOnly = ops.dirtyOnly;',
'\tvar options = {',
'\t\tflagDirtyOnly: flagDirtyOnly,',
'\t\tmode: ops.mode,',
'\t\tflagCleanOnly: ops.cleanOnly',
'\t};',
'\tvar flagSingleRow = false;',
'\tif(_r == -1) {',
'\t\tvar _d = this._data;',
'\t} else { ',
'\t\tvar _d = [this._data[_r]];',
'\t\tflagSingleRow = true;',
'\t}',
'\tvar _row = \'\';',
'\tobjListName.push({table: \'_top_\', nested: false});\t',
'\tfor(var i = 0; i < _d.length; i++) { ',
'\t\tflagRowIsDirty = false;',
'\t\tif(typeof _d[i]._isDirty != \'undefined\') flagRowIsDirty = _d[i]._isDirty;',
'\t\tif(flagRowIsDirty || !flagDirtyOnly || ops.cleanOnly ) { ',
'\t\t\t_row = i;',
'\t\t\tif(flagSingleRow) _row = _r;',
'\t\t\tobjState.push( {table: objListName[  objListName.length -1][\'table\'], row: _row})  ',
'\t\t\tthis._harvestMediaFields_low(arr,objListName,objState,_d[i],options);',
'\t\t\tobjState.pop();\t\t',
'\t\t}',
'\t}\t',
'\tif (!ops.cleanOnly) this._mediaFieldsArray = arr;',
'\treturn arr;',
'}',
',',
'\t_pushMediaFieldArrayToList: function(arr) { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar flagUnFix = false;',
'\tif(typeof arguments[1] != \'undefined\') flagUnFix = arguments[1];',
'\tvar lObj = this;',
'\tvar _data = lObj._data;',
'\tvar _di = \'\';',
'\tvar r = \'\';',
'\tvar table = \'\';',
'\tfor(var i = 0; i < arr.length; i++) { ',
'\t\tarr[i].routeObj = JSON.parse(arr[i].route);',
'\t\tr = arr[i].routeObj[0].row',
'\t\tfor(var j = 0; j < arr[i].routeObj.length; j ++) { ',
'\t\t\ttable = arr[i].routeObj[j].table;',
'\t\t\tr = arr[i].routeObj[j].row',
'\t\t\tif(table == \'_top_\') { ',
'\t\t\t\t_di = _data[r];',
'\t\t\t} else { ',
'\t\t\t\t_di = _di[table][r];',
'\t\t\t}',
'\t\t}',
'\t\tif(typeof _di == \'undefined\') return false;',
'\t\t_di._flagMediaFileUploadError = false;',
'\t\tif(!flagUnFix) {',
'\t\t\tif(typeof arr[i].modifiedValue != \'undefined\') {',
'\t\t\t\t_di[arr[i].listFieldName] = arr[i].modifiedValue;',
'\t\t\t} else { ',
'\t\t\t\t_di._flagMediaFileUploadError = true;',
'\t\t\t}',
'\t\t} else { ',
'\t\t\t_di[arr[i].listFieldName] = arr[i].filename;',
'\t\t}',
'\t}',
'\tvar _route = lObj._getRoute();',
'\tlObj.refresh();',
'\tthis._setRoute(_route);',
'\tif(flagUnFix) {',
'\t\tthis.populateUXControls();',
'\t}',
'}',
',',
'\t_unFixMediaFields: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar arr = this._mediaFieldsArray;',
'\tif(typeof arr == \'undefined\') return false;',
'\tthis._pushMediaFieldArrayToList(arr,true);',
'\tdelete this._mediaFieldsArray;',
'}',
',',
'\t_syncMediaFiles: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar _list = this._mediaFiles;',
'\tvar listName = this.listVariableName;',
'\tvar componentAlias = this._hostComponentId;',
'\tvar target = this._phoneGap.mediaFiles.target.toLowerCase();',
'\tif(target == \'s3\') {',
'\t\tvar S3ConnectionString = this._phoneGap.mediaFiles.s3.connectionString;',
'\t} else { ',
'\t\ttarget = \'alphaanywhere\';',
'\t}',
'\tvar targetFileNameFunction = this._phoneGap.mediaFiles.targetFilenameFunction;',
'\tvar protectedRead = this._phoneGap.mediaFiles.protectedRead;',
'\tvar fileNameTemplate = this._phoneGap.mediaFiles.template;',
'\tvar instanceId = A5.ts();',
'\tif(typeof device != \'undefined\') {',
'\t\tif(typeof device.uuid != \'undefined\') instanceId = device.uuid;',
'\t}',
'\ttargetFileNameFunction = targetFileNameFunction.replace(\'<DeviceId>\',instanceId);',
'\tvar showProgress = this._phoneGap.mediaFiles.showProgress;',
'\tvar onErrorFunction = this._phoneGap.mediaFiles.onErrorFunction;',
'\tvar pColor = \'\';',
'\tvar pElement = \'\';',
'\tvar pWidth = \'\';',
'\tif(showProgress) { ',
'\t\tpColor = this._phoneGap.mediaFiles.progress.color;',
'\t\tpElement = this._phoneGap.mediaFiles.progress.element;',
'\t\tpWidth = this._phoneGap.mediaFiles.progress.width;',
'\t}',
'\tvar arr = _list;',
'\tvar s3Obj = {};',
'\tvar aaObj = {}',
'\tif(target == \'s3\') {',
'\t\ts3Obj.connectionString = S3ConnectionString;',
'\t\ts3Obj.protectedRead = false;',
'\t} else { ',
'\t}',
'\tvar options = {',
'\t\tspecialMode: \'detailViewMediaUpload\',',
'\t\ttarget: target,',
'\t\tlistName: listName,',
'\t\tcomponentAlias: componentAlias,',
'\t\tAAServerOptions: aaObj,',
'\t\ts3: s3Obj,',
'\t\tshowProgress: showProgress,',
'\t\tonComputeS3Filename: Function(\'e\',targetFileNameFunction),',
'\t\tfileNameTemplate: fileNameTemplate,',
'\t\tonComplete: function(array) { ',
'\t\t\tif(target == \'alphaanywhere\') {',
'\t\t\t} else {',
'\t\t\t\tvar mVal = \'\';',
'\t\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\t\tmVal = this.fileNameTemplate.replace(\'__name__\',array[i].targetName);',
'\t\t\t\t\tarray[i].modifiedValue = mVal;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tvar _dlgObj = window[this.componentAlias + \'_DlgObj\'];',
'\t\t\tvar lObj = _dlgObj.getControl(listName);',
'\t\t\tlObj._pushMediaFieldArrayToList(array);',
'\t\t\tvar _dlgObj = window[options.componentAlias + \'_DlgObj\'];',
'\t\t\t_dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesUploaded\',{array:array});',
'\t\t\tvar countSucceeded = 0;',
'\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\tif(array[i].succeeded) countSucceeded = countSucceeded + 1;',
'\t\t\t}',
'\t\t\tif(countSucceeded < array.length) { ',
'\t\t\t\tvar errorCount = array.length - countSucceeded;',
'\t\t\t\t_dlgObj._list_executeEvent(listName,\'detailView.onMediaFilesUploadErrors\',{array:array, errorCount: errorCount})',
'\t\t\t}',
'\t\t\t_dlgObj.saveListEdits(options.listName,{rows: \'allRows\', checkForMediaFiles: false, fixMediaFileReferences: true, resetMediaFileUploadErrors: false});',
'\t\t},',
'\t\tprogress: {',
'\t\t\tcolor: pColor,',
'\t\t\twidth: pWidth,',
'\t\t\tindividualProgress: false,',
'\t\t\tshowTotalProgress: true,',
'\t\t\tallowCancel: false,',
'\t\t\tprogressElement: pElement',
'\t\t},',
'\t\tonError : onErrorFunction',
'\t}',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar result = _dlgObj._list_executeEvent(listName,\'detailView.beforeMediaFilesUploaded\',{array:arr});',
'\tif(!result) return false;',
'\t_dlgObj.phoneGapFileUpload(arr,options);',
'}',
',',
'\t_fetchMediaFiles: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tif (typeof this._mediaFields == \'undefined\') return false;',
'\tvar _route = arguments[1];',
'\tif(typeof _route == \'undefined\') _route = false;',
'\tvar _r = arguments[0];',
'\tif(typeof  _r == \'undefined\') _r = -1; ',
'\tvar flagFetchMediaFiles = false;',
'\tif(typeof this._phoneGap != \'undefined\') { ',
'\t\tif(typeof this._phoneGap.mediaFiles != \'undefined\') { ',
'\t\t\tif(typeof this._phoneGap.mediaFiles.download != \'undefined\') {',
'\t\t\t\tif(typeof this._phoneGap.mediaFiles.download.autodownloadFilesOnPullSynch != \'undefined\') { ',
'\t\t\t\t\tflagFetchMediaFiles = this._phoneGap.mediaFiles.download.autodownloadFilesOnPullSynch;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(!flagFetchMediaFiles) return false;',
'\tvar folder = this._phoneGap.mediaFiles.download.targetFolder;',
'\tif(folder == \'\') { ',
'\t\talert(\'You have not specified the file download settings in the List builder. Edit the settings for List \'+this.listVariableName+\' and go to \\\'Detail View\\\' pane, \\\'PhoneGap Properties\\\'.\');',
'\t\treturn false;',
'\t}',
'\tthis._flagFetchMediaHasRun = true;',
'\tfolder = folder + \'/\' + this.listVariableName;',
'\tvar listName = this.listVariableName;',
'\tvar showProgress = this._phoneGap.mediaFiles.download.showProgress;',
'\tvar pColor = \'\';',
'\tvar pElement = \'\';',
'\tvar pWidth = \'\';',
'\tif(showProgress) { ',
'\t\tpColor = this._phoneGap.mediaFiles.download.progress.color;',
'\t\tpElement = this._phoneGap.mediaFiles.download.progress.element;',
'\t\tpWidth = this._phoneGap.mediaFiles.download.progress.width;',
'\t}',
'\tvar flagDeleteOrphans = false;',
'\tif(typeof this._phoneGap.mediaFiles.download.deleteOrphansAfterSync != \'undefined\') flagDeleteOrphans =this._phoneGap.mediaFiles.download.deleteOrphansAfterSync;',
'\tvar arr = this._harvestMediaFields({dirtyOnly: false, row: _r});',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar result = _dlgObj._list_executeEvent(listName,\'detailView.beforeMediaFilesDownloaded\',{array:arr});',
'\tif(!result) { ',
'\t\t_dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesDownloaded\',{array:array, aborted: true});',
'\t\treturn false;',
'\t}',
'\tif(arr.length > 0 ) { ',
'\t\tvar lObj = this;',
'\t\tvar _dlgObj = _dlgObj;',
'\t\tvar that = this;',
'\t\tvar options = {',
'\t\t\ttargetFolder: folder,',
'\t\t\tshowProgress: showProgress,',
'\t\t\tonComplete: function(array) { ',
'\t\t\t\tvar arr = [];',
'\t\t\t\tvar _d = lObj._data;',
'\t\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\t\tif(array[i].success) {',
'\t\t\t\t\t\tarray[i].modifiedValue = array[i].localFilename;',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tarray[i].modifiedValue = array[i].filename;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar result = _dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesDownloaded\',{array:array, aborted: false});',
'\t\t\t\tif(!result) return false;',
'\t\t\t\tlObj._pushMediaFieldArrayToList(array);',
'\t\t\t\tif(flagDeleteOrphans) { ',
'\t\t\t\t\tthat._deleteOrphanMediaFiles()',
'\t\t\t\t}',
'\t\t\t\tthat.populateUXControls();',
'\t\t\t\tif(_route) {',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t\tthat.populateUXControls();',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t\tthat._populateAllChildLists();',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t}',
'\t\t\t},',
'\t\t\tprogress: {',
'\t\t\t\tcolor: pColor,',
'\t\t\t\twidth: pWidth,',
'\t\t\t\tallowCancel: false,',
'\t\t\t\tprogressElement: pElement',
'\t\t\t}',
'\t\t}',
'\t\t_dlgObj.phoneGapFileDownload(arr,options);\t',
'\t} else { ',
'\t\t _dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesDownloaded\',{array:arr});',
'\t}',
'}',
',',
'\tresolveFieldConflict: function(route,fieldName,oldValueCurrent,newValueMine) { ',
'\tvar _d = this._getDataFromRoute(route);',
'\tvar _routeCapture = this._getRoute();',
'\tif(!_d) return false;',
'\tif(typeof _d[fieldName] == \'undefined\') return false;',
'\tif(typeof _d[\'_oldData\'] == \'undefined\') return false;',
'\t_d[\'_oldData\'][fieldName] = oldValueCurrent;',
'\tif(typeof newValueMine != \'undefined\') {',
'\t\t_d[fieldName] = newValueMine;',
'\t} else { ',
'\t\t_d[fieldName] = oldValueCurrent;',
'\t}',
'\tif(typeof _d[\'_writeConflictErrors\'] != \'undefined\') { ',
'\t\tvar _wce = _d[\'_writeConflictErrors\'];',
'\t\tfor(var i = 0; i < _wce.length; i++)  { ',
'\t\t\tif(_wce[i].fieldName == fieldName) { ',
'\t\t\t\t_wce.splice(i,1);',
'\t\t\t}',
'\t\t}',
'\t\tif(_wce.length == 0) { ',
'\t\t\t_d[\'_hasWriteConflictErrors\'] = false;',
'\t\t\t_d[\'_writeConflictErrors\'] = false;',
'\t\t}\t',
'\t}',
'\tvar flagClean = true;',
'\tfor(var n in _d[\'_oldData\']) {',
'\t\tif(_d[\'_oldData\'][n] != _d[n]) {',
'\t\t\tflagClean = false;',
'\t\t\tbreak;',
'\t\t}',
'\t}',
'\tif(flagClean) { ',
'\t\tdelete _d[\'_oldData\'];',
'\t\tdelete _d.__displayStyle;',
'\t\t_d._isDirty = false;',
'\t\tvar flagLoop = true;',
'\t\twhile(flagLoop) { ',
'\t\t\troute.pop();',
'\t\t\troute.pop();',
'\t\t\tif(route.length == 0) {',
'\t\t\t\tbreak;',
'\t\t\t};',
'\t\t\tvar _dp = this._getDataFromRoute(route);',
'\t\t\tif(typeof _dp[\'_oldData\'] == \'undefined\') { ',
'\t\t\t\t_dp._isDirty = false;',
'\t\t\t\tdelete _dp.__displayStyle;',
'\t\t\t}',
'\t\t}',
'\t\tthis._refreshListRecursive();',
'\t}',
'}',
',',
'\t_refreshListRecursive: function() { ',
'\tthis.refresh();',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tlObj = _dlgObj.getControl(this.childLists[i]);',
'\t\tif(lObj) lObj._refreshListRecursive();',
'\t}',
'}',
',',
'\t_deleteOrphanMediaFiles: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar folder = this._phoneGap.mediaFiles.download.targetFolder;',
'\tif(folder == \'\') { ',
'\t\talert(\'You have not specified the file download settings in the List builder. Edit the settings for List \'+this.listVariableName+\' and go to \\\'Detail View\\\' pane, \\\'PhoneGap Properties\\\'.\');',
'\t\treturn false;',
'\t}',
'\tif(typeof this._flagFetchMediaHasRun == \'undefined\' || this._flagFetchMediaHasRun == false ) { ',
'\t\talert(\'Sync media files method has not yet been run\');',
'\t\treturn false;',
'\t}',
'\tif(folder.substring(0,1) == \'/\') folder = folder.substring(1);',
'\tif(folder.substr( folder.length -1,1) == \'/\') { ',
'\t\tfolder = folder.substring(0,folder.length -1);',
'\t}',
'\tfolder = folder + \'/\' + this.listVariableName;',
'\tvar that = this;',
'\tvar listName = this.listVariableName;',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar onFSSuccess = function(fs) { ',
'\t\tvar baseDirectory = fs.root.toURL();',
'\t\tbaseDirectory = baseDirectory + folder;',
'\t\tvar arr = that._harvestMediaFields({dirtyOnly: false, mode: \'file\'});',
'\t\tvar fr = []; ',
'\t\tfor( var i = 0; i < arr.length; i++) { ',
'\t\t\tfr.push(\'/\' + folder +  arr[i].filename.replace(baseDirectory,\'\'));',
'\t\t}',
'\t\tfr.sort();',
'\t\tvar _dlgObj = window[that._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj.phoneGapGetDirectoryRecurse(folder,function(array) { ',
'\t\t\tvar ff = [];',
'\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\tif(array[i].isFile) { ',
'\t\t\t\t\tff.push(array[i].fullPath);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tff.sort();',
'\t\t\tvar fd = []; ',
'\t\t\tfor(var i = 0; i < ff.length; i++) { ',
'\t\t\t\tif(fr.indexOf(ff[i]) < 0) { ',
'\t\t\t\t\tfd.push(ff[i]);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t var result = _dlgObj._list_executeEvent(listName,\'detailView.beforeDeleteOrphanMediaFiles\',{array:fd});',
'\t\t\t if(!result) return false;',
'\t\t\tvar countDeleted = 0;',
'\t\t\tvar countToDelete = fd.length;',
'\t\t\tfor(var i = 0 ; i < fd.length; i++) {\t',
'\t\t\t\tvar fn = fd[i];',
'\t\t\t\tif(fn.substring(0,1) == \'/\') fn = fn.substring(1);',
'\t\t\t\t_dlgObj.phoneGapDeleteFile(fn,function() { ',
'\t\t\t\t\tcountDeleted = countDeleted + 1;',
'\t\t\t\t\tif(countDeleted == countToDelete) { ',
'\t\t\t\t\t\t_dlgObj._list_executeEvent(listName,\'detailView.afterDeleteOrphanMediaFiles\',{array:fd});',
'\t\t\t\t\t}',
'\t\t\t\t})',
'\t\t\t}',
'\t\t});',
'\t}',
'\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess);',
'\treturn false;',
'}',
'}',
')',
'//End section - Add methods to List prototype',
'{UXPRERENDEREDALIAS}_DlgObj._listControls = [\'LIST_TRIALS\']',
'{UXPRERENDEREDALIAS}_DlgObj._localStorageSettings = {namespace: \'ALPHA_CWKeywords\',friendlyName: \'CenterWatch Keywords\',description: \'Find Clinical Trials by Keywords\',persistVariableValues: false,__version: 1,persistComponentState: false,workingPreviewTestingFolder: \'\',restore: {variables: false,data: false,state: false},compressData: true,minify: true,variablesToNotPersist: \'\',workingPreviewTestingMode: \'Browser\',compressListData: true}',
'{UXPRERENDEREDALIAS}_DlgObj.__r = [\'3rkeltoSdQc=\']',
'{UXPRERENDEREDALIAS}_DlgObj._staticHTMLMode = false',
'{UXPRERENDEREDALIAS}_DlgObj._EDITOR_EDITORSET = {};',
'{UXPRERENDEREDALIAS}_DlgObj.styleName = \'iOS7\';',
'{UXPRERENDEREDALIAS}_DlgObj.styleVersion = 3',
'{UXPRERENDEREDALIAS}_DlgObj.framesInfo = {',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._noPersist = []',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_KEYWORDS\',A5.d.evnts.click,function(e) {',
'CWApp.goBackToMainMenu({UXPRERENDEREDALIAS}_DlgObj);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_KEYWORDS\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.panelSetActive(\'PANELCARD_KEYWORDS\',true);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK_TRIALDETAILS\');',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_O_B10C9F8A4D6E4F38BC2F82FB8A3A17CA(1,\'1\',this);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_DIRECTIONS\');',
'',
'{UXPRERENDEREDALIAS}_DlgObj.prepare();{UXPRERENDEREDALIAS}_DlgObj.populate({UXPRERENDEREDALIAS}_DlgObj.originalValues[0]);',
'{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);',
'',
'',
'if(!A5.flags.isMobile) $e.add(window,\'resize\',{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation);',
'else $e.add(window,\'orientationchange\',{UXPRERENDEREDALIAS}_DlgObj._orientationChangeHandler,{UXPRERENDEREDALIAS}_DlgObj,true);',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation();',
'',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_PANES\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var listObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\');',
'if(listObj) listObj._state.recordCount = 0;',
'if(listObj) listObj._state.recordCountFormatted = \'0\';',
'if(listObj) listObj._state.lastBreakValue = \'<None>\';',
'if(listObj) listObj._state.pageCount = 0;',
'if(listObj) listObj._state.pageSize = 20;',
'if(listObj) {var ele = $(\'{UXPRERENDEREDALIAS}.LIST_TRIALS.RECORDCOUNT\'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};',
'if(listObj) listObj._state.paginated = false;',
'',
'if(listObj) listObj._state.filter = \'\';',
'if(listObj) listObj._state.having = \'\';',
'if(listObj) listObj._state.order = \'\';',
'if(listObj) listObj._state.filterParameters = \'\';',
'if(listObj) listObj._state.highlight = {  };',
'if(listObj) listObj._state.whereClause = \'\';',
'if(listObj) listObj._state.whereParameters = \'\';',
'\t\t',
'\t\tvar flagPersist = false;',
'\t\tif(typeof listObj._flagPersistDataOK != \'undefined\') { ',
'\t\t\tif(listObj._flagPersistDataOK) { ',
'\t\t\t\tvar data = listObj._data;',
'\t\t\t\tlistObj.persistToStorage({mode:\'populate\', data: data});',
'\t\t\t}',
'\t\t}',
'\t\t',
'\t\t',
';',
'{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_TRIALS\',\'afterRenderComplete\',{});',
'',
'if(listObj._refreshStateMessages) listObj._refreshStateMessages();',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var obj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_TRIALS\');',
'obj._hasBeenRendered = false;',
'',
'',
'',
'',
'',
'',
'setTimeout(function() { },0);',
'{UXPRERENDEREDALIAS}_DlgObj._listsWithJSFuncDataSource = {};',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onInitializeComplete\');',
'{UXPRERENDEREDALIAS}_DlgObj.initialized = true;',
'',
'',
'',
'',
'',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._onRenderComplete = function() { {UXPRERENDEREDALIAS}_DlgObj._runJSOnLoad(); {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule(); }; ',
'',
'setTimeout(function() { var p = {UXPRERENDEREDALIAS}_DlgObj.panelGet(\'PANELNAVIGATOR\'); if(p._sizing == \'window\') { p._sizeWindow();} else { p.refresh(); } },100);',
'setTimeout(function() {{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onRenderComplete\'); {UXPRERENDEREDALIAS}_DlgObj.flagRenderComplete = true;  {UXPRERENDEREDALIAS}_DlgObj._restoreFromLocalStorage(); },1);',
'',
'var o2 = \'portrait\';',
'if(window.innerHeight < window.innerWidth) o2 = \'landscape\';',
'{UXPRERENDEREDALIAS}_DlgObj._screen = {h: window.innerHeight, w: window.innerWidth, o: o2};',
'',
'{UXPRERENDEREDALIAS}_DlgObj._getOnlineStatus();',
'try {',
'window.addEventListener("offline",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'window.addEventListener("online",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'} catch(err){}',
'',
'',
'setTimeout(function() {$e.execute(\'device.screen\',\'a5resize\')},1);',
'setTimeout(function() { },10);;',
'{UXPRERENDEREDALIAS}_DlgObj._activeLanguage = \'\';',
''].join('\n');
jsout = jsout.replace(/\{UXPRERENDERAJAXURL\}/g,'http://69.7.228.180/centerappv1/FINDBYKEYWORDS.a5wcmp?__virtualPage=__a5runDialog.a5w&__dialogFilename=FINDBYKEYWORDS&__alias={UXPRERENDEREDALIAS}&__unsaved=no');
jsout = jsout.replace(/\{UXPRERENDEREDALIAS\}/g,go.alias);
jsout = jsout.replace(/\{UXPRERENDEROUTPUTDIV\}/g,go.dialog2Div);
;return jsout}; 
function PRECOMPUTEDUX_969cfcb9218044d1881c51534ca633fd_Communities(go) { 
var jsout = [
'A5.u.element.setContent(\'{UXPRERENDEROUTPUTDIV}\',\'<style>\\n</style><iframe style="display:none;" id="{UXPRERENDEREDALIAS}.__IFRAME1"></iframe>\\n<input type="hidden" value="" id="{UXPRERENDEREDALIAS}.PARAMETERBUCKET"/>\\n<input type="file" style="position:absolute; top:-1000px;visibility:hidden;" accept="image/*" id="{UXPRERENDEREDALIAS}._GETPHOTO"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" multiple = "" id="{UXPRERENDEREDALIAS}._GETFILEMULTI"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" id="{UXPRERENDEREDALIAS}._GETFILE"/>\');',
'',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {',
'\t{UXPRERENDEREDALIAS}_DlgObj._destroy();',
'\ttry {',
'\t\tdelete {UXPRERENDEREDALIAS}_DlgObj;',
'\t} catch(e) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj = undefined;',
'\t}',
'};',
';if(typeof {UXPRERENDEREDALIAS}_PanelObj != \'undefined\') {',
'\tvar ele = $({UXPRERENDEREDALIAS}_PanelObj.getPanelId());',
'\tif(ele) {',
'\t\tif(ele.parentNode) ele.parentNode.removeChild(ele);',
'\t}',
'\tdelete {UXPRERENDEREDALIAS}_PanelObj;',
'}',
';window[\'{UXPRERENDEREDALIAS}_PanelObj\'] = new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'url\',',
'\t\t\tsrc: \'http://www.centerwatch.com/health-resources/general/\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'both\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:none;"></div>\'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tonSize: function() {;if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule != \'undefined\') { ',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
'\t}',
'}}',
'})',
'var ele = window[\'{UXPRERENDEREDALIAS}_PanelObj\'].create(\'{UXPRERENDEREDALIAS}.R1\');',
'\t\tvar panelRootId = \'{UXPRERENDEROUTPUTDIV}\';',
'\t\tvar flagSizeToParent = true;',
'\t\tvar wf_alias = \'{UXPRERENDEREDALIAS}\';',
'\t\tif(panelRootId != \'\') { ',
'\t\t\tif (!$(panelRootId)) panelRootId = \'\';',
'\t\t}',
'\t\tif(panelRootId != \'\') { ',
'\t\t\t$(panelRootId).appendChild(ele);',
'\t\t\tif(flagSizeToParent) { ',
'\t\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'parent\');',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tdocument.body.insertBefore(ele,document.body.firstChild);',
'\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'window\');',
'\t\t}',
'{UXPRERENDEREDALIAS}_PanelObj._panelPath = {',
'}',
'{UXPRERENDEREDALIAS}_PanelObj._displayNames = {',
'PANELCARD_COMMUNITIES : \'PANELCARD_COMMUNITIES\'',
'};',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {UXPRERENDEREDALIAS}_DlgObj._destroy();',
'window[\'{UXPRERENDEREDALIAS}_DlgObj\'] = new A5.DialogComponentHelper(\'{UXPRERENDEREDALIAS}\',{',
'\tajaxURL: \'{UXPRERENDERAJAXURL}\',',
'\t_embeddedMode: false,',
'\t_livePreviewInBuilder: false,',
'\tcomponentGUID: \'53bda28a-44a4-4c83-be37-82a7d93b7860\',',
'\tcolumnInfo: {},',
'\toriginalValues: [{',
'}],',
'\tdefaultValues: {',
'},',
'\tdatePickerMonthNames: [\'January\',\'February\',\'March\',\'April\',\'May\',\'June\',\'July\',\'August\',\'September\',\'October\',\'November\',\'December\'],',
'\tdatePickerDayNames: [\'Sun\',\'Mon\',\'Tue\',\'Wed\',\'Thu\',\'Fri\',\'Sat\'],',
'\tdatePickerTodayButton: \'Today\',',
'\tdatePickerCloseButton: \'\',',
'\tdatePickerFirstDayOfWeek: 1,',
'\tresetFormMessage: \'<div style="padding: .25in;">Are you sure you want to reset the form?<div>\',',
'\tresetFormTitle: \'\',',
'\tresetFormIcon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\tdirtyFormMessage: \'<div style="padding: .25in;">You must first save your changes or cancel changes by clicking the Reset button.<div>\',',
'\tdirtyFormTitle: \'\',',
'\tdirtyFormIcon: \'cssIcon=iOS7Icon iOS7IconInfo\',',
'\tdeleteRecordDialogTitle: \'\',',
'\tdeleteRecordDialogMessage: \'\',\t',
'\tssDateFormat: \'MM/dd/yyyy\',',
'\tstyleName: \'iOS7\',',
'\t_fieldHelpers_DIALOG2: [],',
'\tparentComponentAlias: \'\'+go._thisGridAlias+\'\',',
'\tsubmitIfHasClientSideErrors: true, ',
'\trowErrors: {',
'\t\t\t\tshowMessageBox: false,',
'\t\t\t\tmessageBoxTitle: \'Error\',',
'\t\t\t\tstyle: \'color: red; width: 6in; height: 2in;\'',
'\t\t},',
'\tfieldErrors: {',
'\t\ttype: \'block\', ',
'\t\tclassName: \'errorText\',',
'\t\tinputClassName: \'iOS7EditError\',',
'\t\tedit: { ',
'\t\t\tcontainer: { className: \'iOS7EditBGError\'}',
'\t\t},',
'\t\ticon: \'cssIcon=iOS7Icon iOS7IconError\',',
'\t\tglobal: {',
'\t\t\tcontId: \'{UXPRERENDEREDALIAS}.GLOBALERRORS\',',
'\t\t\thoverClassName: \'errorTextHighlight\',',
'\t\t\thoverInputClassName: \'errorInputHighlight\'',
'\t\t}',
'\t}',
'\t});',
'{UXPRERENDEREDALIAS}_DlgObj._onOrientationChange =  function(e) { ;',
'{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
';  };',
'A5.__componentObj = {UXPRERENDEREDALIAS}_DlgObj;',
'{UXPRERENDEREDALIAS}_DlgObj._tabObjects = [];',
'{UXPRERENDEREDALIAS}_DlgObj.lookups = {',
'};',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({',
'\t__dialogGuid: \'d155fa99-9c5d-4a5e-acd1-7a65a0da2a48\',',
'\targumentsBoundToCotrols: \'\',',
'\t__sgr: \'\',',
'\t__dtfmt: \'MM/dd/yyyy\',',
'\t__tfmt: \'\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControlsChildren = [];',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ });',
'A5.msgBox.theme = \'iOS7\';',
'A5.msgBox.buttonWidth = \'1in\';',
'{UXPRERENDEREDALIAS}_DlgObj._defaultWindowTitleDirection = \'ltr\';',
'{UXPRERENDEREDALIAS}_DlgObj._controlContainers = {}',
'{UXPRERENDEREDALIAS}_DlgObj._panelCardControls = {',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._buttons = {};',
'{UXPRERENDEREDALIAS}_DlgObj.setVariables({});',
'{UXPRERENDEREDALIAS}_DlgObj._dataBoundControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._primaryTableAlias = \'\';',
'{UXPRERENDEREDALIAS}_DlgObj._hasPanels = true;',
'{UXPRERENDEREDALIAS}_DlgObj._hasOnSynchronizeEvent = false;',
'A5.__dtfmt = \'MM/dd/yyyy\';A5.__tfmt = \'\';',
'A5.__flagWorkingPreview = false;',
'A5.__flagIIS = false;',
'A5.__flagSimulateIIS = true;',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation = function() { ',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj == \'undefined\') return \'\';',
'\tvar orientation = {UXPRERENDEREDALIAS}_DlgObj.getOrientation();',
'\tif( orientation == \'landscape\') {',
'\t\t\t//landscape',
'\t\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'landscape\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'landscape\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'landscape\'});',
'\t\t\t}',
'\t} else {',
'\t\t//portrait',
'\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'portrait\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'portrait\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'portrait\'});',
'\t\t\t}',
'\t}',
'}',
'\tA5.flags.cordovaLoaded = true;',
'\ttry {',
'\t\tdocument.addEventListener(\'deviceready\', function() { ',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onCordovaReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onPhoneGapReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._cordovaReady = true;',
'\t\t\tnavigator.geolocation.getAccuratePosition = function(geolocationSuccess, geolocationError, options) {',
'\tvar _lastCheckedPosition = null;',
'\tvar _locationEventCount = 0;',
'\toptions = options || {};',
'\toptions.context = this;',
'    function _checkLocation(pos) {',
'        _lastCheckedPosition = pos;',
'        _locationEventCount++;',
'        if ((pos.coords.accuracy <= options.desiredAccuracy) && (_locationEventCount > options.ignoreResultCount)) {',
'            clearTimeout(_timerID);',
'            navigator.geolocation.clearWatch(_watchID);',
'            _foundPosition(pos);',
'        } ',
'    }',
'    function _stopLocationCheck() {',
'    \t var error = {};',
'    \t error.code = 0;',
'    \t error.message = \'Timeout: No results\';',
'        navigator.geolocation.clearWatch(_watchID);',
'        _lastCheckedPosition ? _foundPosition(_lastCheckedPosition) : geolocationError.call(options.context,error);',
'    }',
'    function _onError(error) {',
'        clearTimeout(_timerID);',
'        navigator.geolocation.clearWatch(_watchID);',
'        geolocationError.call(options.context,error);',
'    }',
'    function _foundPosition(pos) {',
'        geolocationSuccess.call(options.context,pos);',
'    }',
'    if (!options.maxWait) {            ',
'    \toptions.maxWait = 10000; ',
'    }\t',
'    if (!options.desiredAccuracy) {',
'    \t  options.desiredAccuracy = 20; ',
'    }',
'    if (!options.timeout) {',
'        options.timeout = options.maxWait;',
'\t }',
'\t if (!options.ignoreResultCount) {',
'\t \t\toptions.ignoreResultCount = 1;',
'\t }',
'    options.maximumAge = 0; ',
'    options.enableHighAccuracy = true; ',
'    var _watchID = navigator.geolocation.watchPosition(_checkLocation, _onError, options);',
'    var _timerID = setTimeout(_stopLocationCheck, options.maxWait); ',
'}',
'\t\t} , false);\t',
'\t}',
'\tcatch(err) {}',
'{UXPRERENDEREDALIAS}_DlgObj._waitGif = \'css/A5System/Images/wait.gif\';',
'{UXPRERENDEREDALIAS}_DlgObj._layoutMode = \'containerwidth\';',
'{UXPRERENDEREDALIAS}_DlgObj._responsiveRulesMode = \'firsttrue\';',
'{UXPRERENDEREDALIAS}_DlgObj.__controlNesting = {',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._listsDV = [];',
'{UXPRERENDEREDALIAS}_DlgObj._listControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._localStorageSettings = {namespace: \'ALPHA_53bda28a44a44c83be3782a7d93b7860\',friendlyName: \'\',description: \'\',persistVariableValues: false,__version: 1,persistComponentState: false,workingPreviewTestingFolder: \'\',restore: {variables: false,data: false,state: false},compressData: true,minify: true,variablesToNotPersist: \'\',workingPreviewTestingMode: \'Browser\',compressListData: true}',
'{UXPRERENDEREDALIAS}_DlgObj.__r = [\'3rkeltoSdQc=\']',
'{UXPRERENDEREDALIAS}_DlgObj._staticHTMLMode = false',
'{UXPRERENDEREDALIAS}_DlgObj._EDITOR_EDITORSET = {};',
'{UXPRERENDEREDALIAS}_DlgObj.styleName = \'iOS7\';',
'{UXPRERENDEREDALIAS}_DlgObj.styleVersion = 3',
'{UXPRERENDEREDALIAS}_DlgObj.framesInfo = {',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._noPersist = []',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj.prepare();{UXPRERENDEREDALIAS}_DlgObj.populate({UXPRERENDEREDALIAS}_DlgObj.originalValues[0]);',
'{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);',
'',
'',
'if(!A5.flags.isMobile) $e.add(window,\'resize\',{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation);',
'else $e.add(window,\'orientationchange\',{UXPRERENDEREDALIAS}_DlgObj._orientationChangeHandler,{UXPRERENDEREDALIAS}_DlgObj,true);',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation();',
'',
'',
'',
'',
'',
'',
'setTimeout(function() { },0);',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onInitializeComplete\');',
'{UXPRERENDEREDALIAS}_DlgObj.initialized = true;',
'',
'',
'',
'',
'',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._onRenderComplete = function() { {UXPRERENDEREDALIAS}_DlgObj._runJSOnLoad(); {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule(); }; ',
'',
'setTimeout(function() { var p = {UXPRERENDEREDALIAS}_DlgObj.panelGet(\'PANELCARD_COMMUNITIES\'); if(p._sizing == \'window\') { p._sizeWindow();} else { p.refresh(); } },100);',
'setTimeout(function() {{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onRenderComplete\'); {UXPRERENDEREDALIAS}_DlgObj.flagRenderComplete = true;  {UXPRERENDEREDALIAS}_DlgObj._restoreFromLocalStorage(); },1);',
'',
'var o2 = \'portrait\';',
'if(window.innerHeight < window.innerWidth) o2 = \'landscape\';',
'{UXPRERENDEREDALIAS}_DlgObj._screen = {h: window.innerHeight, w: window.innerWidth, o: o2};',
'',
'{UXPRERENDEREDALIAS}_DlgObj._getOnlineStatus();',
'try {',
'window.addEventListener("offline",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'window.addEventListener("online",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'} catch(err){}',
'',
'',
'setTimeout(function() {$e.execute(\'device.screen\',\'a5resize\')},1);',
'setTimeout(function() { },10);;',
'{UXPRERENDEREDALIAS}_DlgObj._activeLanguage = \'\';',
''].join('\n');
jsout = jsout.replace(/\{UXPRERENDERAJAXURL\}/g,'http://69.7.228.180/centerappv1/COMMUNITIES.a5wcmp?__virtualPage=__a5runDialog.a5w&__dialogFilename=COMMUNITIES&__alias={UXPRERENDEREDALIAS}&__unsaved=no');
jsout = jsout.replace(/\{UXPRERENDEREDALIAS\}/g,go.alias);
jsout = jsout.replace(/\{UXPRERENDEROUTPUTDIV\}/g,go.dialog2Div);
;return jsout}; 
function PRECOMPUTEDUX_d77cddaba1c84edd833b78c376355f65_EducationMaterial(go) { 
var jsout = [
'A5.u.element.setContent(\'{UXPRERENDEROUTPUTDIV}\',\'<style>\\n</style><iframe style="display:none;" id="{UXPRERENDEREDALIAS}.__IFRAME1"></iframe>\\n<input type="hidden" value="" id="{UXPRERENDEREDALIAS}.PARAMETERBUCKET"/>\\n<input type="file" style="position:absolute; top:-1000px;visibility:hidden;" accept="image/*" id="{UXPRERENDEREDALIAS}._GETPHOTO"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" multiple = "" id="{UXPRERENDEREDALIAS}._GETFILEMULTI"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" id="{UXPRERENDEREDALIAS}._GETFILE"/><input type="hidden" id="{UXPRERENDEREDALIAS}.V.R1.LIST_FAQS" name="V.R1.LIST_FAQS" />\\n\');',
'',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {',
'\t{UXPRERENDEREDALIAS}_DlgObj._destroy();',
'\ttry {',
'\t\tdelete {UXPRERENDEREDALIAS}_DlgObj;',
'\t} catch(e) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj = undefined;',
'\t}',
'};',
';if(typeof {UXPRERENDEREDALIAS}_PanelObj != \'undefined\') {',
'\tvar ele = $({UXPRERENDEREDALIAS}_PanelObj.getPanelId());',
'\tif(ele) {',
'\t\tif(ele.parentNode) ele.parentNode.removeChild(ele);',
'\t}',
'\tdelete {UXPRERENDEREDALIAS}_PanelObj;',
'}',
';window[\'{UXPRERENDEREDALIAS}_PanelObj\'] = new A5.PanelNavigator([',
'{',
'\tname: \'PANELCARD\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_FAQSEARCH"   \\n\\t\\t\\tclass="A5CWLayout "  style="width: 100%; "  >\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.LIST_FAQS_SEARCH" title=""  autocapitalize="off"  autocorrect="off"     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"  onkeyup="{UXPRERENDEREDALIAS}_DlgObj.getControl(\\\'LIST_FAQS\\\').searchList({searchMode : \\\'auto\\\'});"   name="V.R1.LIST_FAQS_SEARCH"    value=""    />\\n\\n</div>\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_FAQSEARCH.BREAK"  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t\\n<div  class="iOS7List"   style="padding:0px; "  >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.LIST_FAQS.CONTROL"  class="{UXPRERENDEREDALIAS}_LIST_FAQS" style="overflow: auto; width: 100%; "></div>\\n</div>\\n\\n</div>\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'y\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> </div><div style="display:none;"></div>\',',
'\t\tshow: true,',
'\t\tstyle: \'padding-bottom: 35px; height: 6%; \'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tonSize: function() {;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {var mObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_FAQS\'); if(mObj) mObj.refresh();}}',
'})',
'}',
'],{',
'\ttype: \'programmatic\',',
'\tflow: \'ltr\',',
'\tloopNavigate: false,',
'\tonPanelActivate: function() {{UXPRERENDEREDALIAS}_DlgObj.refreshClientSideComputations();},',
'\tonSize: function() {;if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule != \'undefined\') { ',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
'\t}',
'}},',
'\ttheme: \'iOS7\',',
'\theader: {',
'\t\tshow: false',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tcontrols: {',
'\t\tprev: {',
'\t\t\thas: false',
'\t\t},',
'\t\tnext: {',
'\t\t\thas: false',
'\t\t},',
'\t\tback: {',
'\t\t\thas: false',
'\t\t},',
'\t\tforward: {',
'\t\t\thas: false',
'\t\t}',
'\t},',
'\tbody: {',
'\t},',
'\tanimation: {',
'\t\tduration: 400',
'\t}',
'})',
'var ele = window[\'{UXPRERENDEREDALIAS}_PanelObj\'].create(\'{UXPRERENDEREDALIAS}.R1\');',
'\t\tvar panelRootId = \'{UXPRERENDEROUTPUTDIV}\';',
'\t\tvar flagSizeToParent = true;',
'\t\tvar wf_alias = \'{UXPRERENDEREDALIAS}\';',
'\t\tif(panelRootId != \'\') { ',
'\t\t\tif (!$(panelRootId)) panelRootId = \'\';',
'\t\t}',
'\t\tif(panelRootId != \'\') { ',
'\t\t\t$(panelRootId).appendChild(ele);',
'\t\t\tif(flagSizeToParent) { ',
'\t\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'parent\');',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tdocument.body.insertBefore(ele,document.body.firstChild);',
'\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'window\');',
'\t\t}',
'{UXPRERENDEREDALIAS}_PanelObj._panelPath = {',
'\tPANELCARD: \'PANELCARD\'',
'}',
'{UXPRERENDEREDALIAS}_PanelObj._displayNames = {',
'PANELCARD : \'PANELCARD\',PANELNAVIGATOR : \'PANELNAVIGATOR\'',
'};',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {UXPRERENDEREDALIAS}_DlgObj._destroy();',
'window[\'{UXPRERENDEREDALIAS}_DlgObj\'] = new A5.DialogComponentHelper(\'{UXPRERENDEREDALIAS}\',{',
'\tajaxURL: \'{UXPRERENDERAJAXURL}\',',
'\t_embeddedMode: false,',
'\t_livePreviewInBuilder: false,',
'\tcomponentGUID: \'50a83cd2-eb19-4dfb-93b7-cb6c37cbbed4\',',
'\tcolumnInfo: {\'LIST_FAQS_SEARCH\': {info: {controlType: \'textbox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'LIST_FAQS\': {info: {controlType: \'List\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'\'  }},',
'\toriginalValues: [{',
'\t\'LIST_FAQS_SEARCH\': \'\',',
'\t\'LIST_FAQS\': \'\'',
'}],',
'\tdefaultValues: {',
'\tLIST_FAQS_SEARCH: \'\',',
'\tLIST_FAQS: \'\'',
'},',
'\tdatePickerMonthNames: [\'January\',\'February\',\'March\',\'April\',\'May\',\'June\',\'July\',\'August\',\'September\',\'October\',\'November\',\'December\'],',
'\tdatePickerDayNames: [\'Sun\',\'Mon\',\'Tue\',\'Wed\',\'Thu\',\'Fri\',\'Sat\'],',
'\tdatePickerTodayButton: \'Today\',',
'\tdatePickerCloseButton: \'\',',
'\tdatePickerFirstDayOfWeek: 1,',
'\tresetFormMessage: \'<div style="padding: .25in;">Are you sure you want to reset the form?<div>\',',
'\tresetFormTitle: \'\',',
'\tresetFormIcon: \'\',',
'\tdirtyFormMessage: \'<div style="padding: .25in;">You must first save your changes or cancel changes by clicking the Reset button.<div>\',',
'\tdirtyFormTitle: \'\',',
'\tdirtyFormIcon: \'\',',
'\tdeleteRecordDialogTitle: \'\',',
'\tdeleteRecordDialogMessage: \'\',\t',
'\tssDateFormat: \'MM/dd/yyyy\',',
'\tstyleName: \'iOS7\',',
'\t_fieldHelpers_DIALOG2: [],',
'\tparentComponentAlias: \'\'+go._thisGridAlias+\'\',',
'\tsubmitIfHasClientSideErrors: true, ',
'\trowErrors: {',
'\t\t\t\tshowMessageBox: false,',
'\t\t\t\tmessageBoxTitle: \'Error\',',
'\t\t\t\tstyle: \'color: red; width: 6in; height: 2in;\'',
'\t\t},',
'\tfieldErrors: {',
'\t\ttype: \'block\', ',
'\t\tclassName: \'errorText\',',
'\t\tinputClassName: \'iOS7EditError\',',
'\t\tedit: { ',
'\t\t\tcontainer: { className: \'iOS7EditBGError\'}',
'\t\t},',
'\t\ticon: \'cssIcon=iOS7Icon iOS7IconError\',',
'\t\tglobal: {',
'\t\t\tcontId: \'{UXPRERENDEREDALIAS}.GLOBALERRORS\',',
'\t\t\thoverClassName: \'errorTextHighlight\',',
'\t\t\thoverInputClassName: \'errorInputHighlight\'',
'\t\t}',
'\t},',
'\t\t_canAjaxCallback: function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.showWaitMessage(\'page\',{useCSSAnimation: true,cssAnimationSettings: {size: \'32\'}});',
'\t\t},',
'\t\t__afterAjaxCallbackComplete: function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.hideWaitMessage(\'page\');',
'\t\t}',
'\t});',
'{UXPRERENDEREDALIAS}_DlgObj._onOrientationChange =  function(e) { ;',
'{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
';  };',
'A5.__componentObj = {UXPRERENDEREDALIAS}_DlgObj;',
'{UXPRERENDEREDALIAS}_DlgObj._tabObjects = [];',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'LIST_FAQS_SEARCH\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Search for a FAQ e.g. What is a clinical trial\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.lookups = {',
'};',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({',
'\t__dialogGuid: \'838fc0d3-880e-4583-b2ab-e498495a6435\',',
'\targumentsBoundToCotrols: \'\',',
'\t__sgr: \'\',',
'\t__dtfmt: \'MM/dd/yyyy\',',
'\t__tfmt: \'\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControlsChildren = [];',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ });',
'A5.msgBox.theme = \'iOS7\';',
'A5.msgBox.buttonWidth = \'1in\';',
'{UXPRERENDEREDALIAS}_DlgObj._defaultWindowTitleDirection = \'ltr\';',
'{UXPRERENDEREDALIAS}_DlgObj._controlContainers = {}',
'{UXPRERENDEREDALIAS}_DlgObj._panelCardControls = {',
'LIST_FAQS_SEARCH:\'PANELCARD\',',
'LIST_FAQS:\'PANELCARD\'',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._buttons = {};',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK\');',
'{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_FAQS\'] = {',
'\t_dataSourceType: \'SQL\',',
'\t_listFields: [',
'\t{',
'\t\tname: \'question\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'question\\\');\'',
'\t},',
'\t{',
'\t\tname: \'answer\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'answer\\\');\'',
'\t}',
'],',
'\t_searchPartHas: true,',
'\t_searchPart: {',
'\t\tfieldMap: [',
']',
'\t},',
'\t_searchPartStyle: \'singlekeywordcontrol\',',
'\t_keywordSearchFields: [\'Question\',\'Answer\'],',
'\t_keywordSearchControl: \'LIST_FAQS_SEARCH\',',
'\t_searchFieldOptions: {',
'"QUESTION" : {option: 2,qbf: false,type: \'c\'},',
'"ANSWER" : {option: 2,qbf: false,type: \'c\'}',
'},',
'\t_showSearchDebugInfo: false,',
'\t_mediaFields: [],',
'\t_mediaTypes: {',
'},',
'\t_phoneGap: {',
'\t\tmediaFiles: {',
'\t\t\tprotectedRead: false,',
'\t\t\ttarget: \'server\',',
'\t\t\ttargetFilenameFunction: \'return \\\'<DeviceId>_\\\' +e.object.listFieldName + \\\'_\\\' + A5.ts() + \\\'_\\\' +e.name\',',
'\t\t\tshowProgress: false,',
'\t\t\tdownload: {',
'\t\t\t\tautodownloadFilesOnPullSynch: false,',
'\t\t\t\tdeleteOrphansAfterSync: false,',
'\t\t\t\ttargetFolder: \'_AAFiles\',',
'\t\t\t\tshowProgress: false',
'\t\t\t},',
'\t\t\tonErrorFunction: function(array,fileNumber,error) { }',
'\t\t}',
'\t},',
'\t_dvmode: \'enter\',',
'\t_hasDetailView: false,',
'\ttheme: \'iOS7\',',
'\tscroll: {',
'\t\taxis: \'both\',',
'\t\tindicator: {',
'\t\t\tshow: true,',
'\t\t\th: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\tleft: \'0px\',',
'\t\t\t\tright: \'0px\'',
'\t\t\t},',
'\t\t\tv: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\ttop: \'0px\',',
'\t\t\t\tbottom: \'0px\'',
'\t\t\t}',
'\t\t},',
'\t\tmomentum: {',
'\t\t\tallow: true',
'\t\t},',
'\t\tpull: {',
'\t\t\ty: \'auto\',',
'\t\t\tx: \'auto\'',
'\t\t}',
'\t},',
'\tlayout: \'Default\',',
'\tcalculateValue: function(data) {  {var _val = \'\' +data.__primaryKey; if((_val == \'\' ||  _val == \'undefined\'  )&& typeof data[\'*rowGUID\'] != \'undefined\') _val = \'_temporaryValue_\' + data[\'*rowGUID\']; return _val;}},',
'\tlistVariableName: \'LIST_FAQS\',',
'\tlistVariableNameTrueCase: \'LIST_FAQS\',',
'\t_hostComponentId: \'{UXPRERENDEREDALIAS}\',',
'\t_includeCRC: true,',
'\tallParentLists: [],',
'\t__flagPersist: false,',
'\tonBeforeUpdateRow: function(index,data){;},',
'\tonUpdateRow: function(index,data){;},',
'\tonBeforeAddRows: function(data,info){;},',
'\tonAddRows: function(data,info){;},',
'\tonBeforeRemoveRows: function(rows){;},',
'\tonRemoveRows: function(rows){;},',
'\tonListDraw: function(data,startIndex) {var id = this.contId +\'.NORECORDSINLIST\';',
'var e = $(this.contId + \'.CONTENT\');',
'if(data.length == 0) {',
'\tvar e = $(this.contId + \'.CONTENT\');',
'\tvar eleHeight = ($(this.contId + \'.CONTENTWRAPPER\').offsetHeight /2 ) -12;',
'\te.innerHTML = \'<div id="\'+id +\'" style="text-align: center;padding-top: \' + eleHeight + \'px;">Please search for a FAQ.</div>\';',
'} else {\t',
'\tvar ele = $(id);',
'\tif(ele) {',
'\t\te.removeChild(ele);',
'\t}',
'}',
'if(A5.flags.isMobile) $e.add(this.contId+\'.CONTENT\',\'abstractdown\',function(e) {$e.preventDefault(e);});},',
'\tchildLists: [],',
'\tchildListEndpoints: [\'LIST_FAQS\'],',
'\t_populateAllChildLists: function() { },',
'\tonSelect: function() {{UXPRERENDEREDALIAS}_DlgObj._listRowSelect(\'LIST_FAQS\',this);',
';',
'this._selectedRow = this.selection[0];},',
'\tonClick: function() {',
'{UXPRERENDEREDALIAS}_DlgObj._listSystemOnClick(\'LIST_FAQS\',this.selection[0]);},',
'\tlayouts: {',
'\t\tDefault: {',
'\t\t\ttype: \'column\',',
'\t\t\tshowColumnTitles: true,',
'\t\t\titem: {',
'\t\t\t},',
'\t\t\tcolumns: [',
'\t\t\t\t{',
'\t\t\t\t\theader: {',
'\t\t\t\t\t\thtml: \'Question\',',
'\t\t\t\t\t\tstyle: \'height: 20px;\'',
'\t\t\t\t\t},',
'\t\t\t\t\tresize: true,',
'\t\t\t\t\tdata: {',
'\t\t\t\t\t\ttemplate: \'<span class="" style="white-space:normal;"><span id="{UXPRERENDEREDALIAS}.LIST_FAQS.QUESTION.I.{*dataRow}">{{UXPRERENDEREDALIAS}_DlgObj._lsh(question,\\\'LIST_FAQS\\\',\\\'question\\\')}</span></span>&nbsp;\'',
'\t\t\t\t\t},',
'\t\t\t\t\torder: \'question\',',
'\t\t\t\t\twidth: \'flex(1)\'',
'\t\t\t\t},',
'\t\t\t\t{',
'\t\t\t\t\theader: {',
'\t\t\t\t\t\thtml: \'Answer\',',
'\t\t\t\t\t\tstyle: \'height: 20px;\'',
'\t\t\t\t\t},',
'\t\t\t\t\tresize: true,',
'\t\t\t\t\tdata: {',
'\t\t\t\t\t\ttemplate: \'<span class="" style="white-space:normal;"><span id="{UXPRERENDEREDALIAS}.LIST_FAQS.ANSWER.I.{*dataRow}">{{UXPRERENDEREDALIAS}_DlgObj._lsh(answer,\\\'LIST_FAQS\\\',\\\'answer\\\')}</span></span>&nbsp;\'',
'\t\t\t\t\t},',
'\t\t\t\t\torder: \'answer\',',
'\t\t\t\t\twidth: \'flex(3)\'',
'\t\t\t\t}\t\t\t',
']',
'\t\t}',
'\t},',
'\tcontent: {',
'\t\theader: {',
'\t\t\tshow: false',
'\t\t},',
'\t\tfooter: {',
'\t\t\tshow: false',
'\t\t}',
'\t},',
'\tsystemEvents: {',
'\t\tonTap: function(e) {},',
'\t\tafterAjaxCallback: function(e) {},',
'\t\tafterClientSideFilter: function(e) {},',
'\t\tbeforeServerSideSort: function(e) {},',
'\t\tafterServerSideSort: function(e) {},',
'\t\tonSwipe: function(e) {},',
'\t\tonScroll: function(e) {},',
'\t\tonPullRelease: function(e) {},',
'\t\tonPull: function(e) {},',
'\t\tonPullEnd: function(e) {},',
'\t\tafterSearchComplete: function(e) {},',
'\t\tbeforeSearch: function(e) {},',
'\t\tonSearchResultTooLarge: function(e) {},',
'\t\tonSearchResultTooLargeForLocalStorage: function(e) {},',
'\t\tonBeforePersistToLocalStorage: function(e) {},',
'\t\tonPersistToLocalStorage: function(e) {},',
'\t\tonRestoreFromLocalStorage: function(e) {},',
'\t\tafterRenderComplete: function(e) {},',
'\t\tbeforeFetchMore: function(e) {},',
'\t\tafterFetchMore: function(e) {},',
'\t\tbeforePageNavigate: function(e) {},',
'\t\tafterPageNavigate: function(e) {},',
'\t\tbeforeRefreshRow: function(e) {},',
'\t\tafterRefreshRow: function(e) {},',
'\t\tafterServerSideSummaryCompute: function(summary) {},',
'\t\t_afterAjaxCallback: function() {this._refreshStateMessages();}',
'\t},',
'\t_clientsideSummary: [],',
'\tcomputeClientSideSummaryValues: function(e) {},',
'\t_executeEvent: function(event,obj) { ',
'\treturn {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_FAQS\',event,obj);',
'}',
',',
'\t_selectAll: function() {',
'\tvar v = this._values;',
'\tvar v2 = [].concat(v);',
'\tthis.setValue(v2,false);',
'}',
',',
'\tsearchList: function() { ',
'\tif(this._searchPartStyle == \'querybyform\') { ',
'\t\tif(this._dvmode != \'search\') return false;',
'\t}',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse {',
'\t\t\tif(this._dataSourceType.toLowerCase() == \'sql\' || this._dataSourceType.toLowerCase() == \'dbf\') {',
'\t\t\t\tmode = \'serverside\';',
'\t\t\t} else { ',
'\t\t\t\tmode = \'clientside\';',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'search\', searchWhere: mode, listIsDirty: flagDirty});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._searchListServerSide(obj);',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilter();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'search\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_searchListServerSide: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar _d={};',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tif(flagDirty) { ',
'\t\talert(\'Can\\\'t execute server-side search because List has edits that have not yet been synchronized.\');',
'\t\treturn false;',
'\t}',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t_data = _data + \'&\' + A5.ajax.buildURLParam(\'__searchOptions\',JSON.stringify(obj));',
'\tthis.filter = false;',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPart\',\'\',_data);',
'}',
',',
'\tclearSearchList: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse mode = \'serverside\';',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'clear\', searchWhere: mode});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._clearSearchListServerSide();',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilterClear();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'clear\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_clearSearchListServerSide: function() { ',
'\tvar _d={};',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPartClear\',\'\',_data);',
'}',
',',
'\t_str: function(txt) {',
'\ttxt = txt.replace("\'","\\\\\'");',
'\ttxt = \'\\\'\' + txt + \'\\\'\';',
'\treturn txt;',
'}',
',',
'\t_QBF: function(txt) { ',
'\tvar o = {};',
'\to.v2 = \'\';',
'\to.v1 = txt;',
'\to.flag = false;',
'\tif(txt.indexOf(\'>=\') >= 0) {',
'\t\to.op = \'>=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<=\') >= 0 ) { ',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'>\') >= 0 ) {',
'\t\to.op = \'>\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<\') >= 0)  { ',
'\t\to.op = \'<\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') == 0)  {',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if ( txt.indexOf(\'..\', txt.length - \'..\'.length) !== -1 ) { ',
'\t\t//ends with ..',
'\t\to.op = \'>=\';',
'\t\ttxt = txt.split(\'..\')',
'\t\to.v1 = txt[0];',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') > 0 ) {',
'\t\to.op = \'between\'',
'\t\ttxt = txt.split(\'..\');',
'\t\to.v1 = txt[0];',
'\t\to.v2 = txt[1];',
'\t\to.flag = true;',
'\t}',
'\treturn o;',
'}',
',',
'\t_match: function(data,field,val,obj) { ',
'\tvar flagKeyword = false;',
'\tif(typeof obj.flagKeyword != \'undefined\') flagKeyword = obj.flagKeyword;',
'\tif(flagKeyword) { ',
'\t\tvar obj_i = this._searchFieldOptions[field.toUpperCase()];',
'\t\tthis._setSearchOps(obj,obj_i);',
'\t}',
'\tvar _d = \'\';',
'\tvar _v = val;',
'\tvar flagC = false;',
'\tif(obj.type == \'c\') {',
'\t\tflagC = true;',
'\t\tif(!obj.caseSensitive) _v = _v.toLowerCase();',
'\t} else { ',
'\t\t//non mumeric searches are only mode 1 or -1',
'\t\tif(obj.mode > 1) obj.mode = 1;',
'\t\tif(obj.mode < -1) obj.mode = -1;',
'\t}',
'\tvar flag = false;',
'\tobj.usesQBFOperator = false;',
'\tif(obj.qbf) { ',
'\t\t_v = _v.split(\',\');',
'\t} else {',
'\t\t_v = [_v];',
'\t}',
'\tvar o = {}',
'\tvar r = \'\';',
'\tvar _vals = [];',
'\tfor(var i = 0; i < _v.length; i++) { ',
'\t\tif(obj.qbf) {',
'\t\t\to = this._QBF(_v[i]);',
'\t\t} else {',
'\t\t\to.flag = false;',
'\t\t\to.v1 = _v[i];',
'\t\t\to.v2 = \'\';',
'\t\t}',
'\t\tif(typeof data[field] != \'undefined\') {',
'\t\t\tif(data[field] != null) { ',
'\t\t\t\t_d = data[field];',
'\t\t\t\tif(obj.type == \'n\') { ',
'\t\t\t\t\to.v1 = Number(o.v1);',
'\t\t\t\t\to.v2 = Number(o.v2);',
'\t\t\t\t\t_d = Number(_d);',
'\t\t\t\t} else if (obj.type == \'l\') { ',
'\t\t\t\t\to.v1 = $u.s.toBool(o.v1);',
'\t\t\t\t\to.v2 = $u.s.toBool(o.v2);',
'\t\t\t\t\t_d = $u.s.toBool(_d);',
'\t\t\t\t} else if (obj.type == \'d\') { ',
'\t\t\t\t\to.v1 = A5.stringToDate(o.v1,obj.dateFormat);',
'\t\t\t\t\to.v2 = A5.stringToDate(o.v2,obj.dateFormat);',
'\t\t\t\t\tif(typeof _d == \'string\') _d = A5.stringToDate(_d,obj.dateFormat);',
'\t\t\t\t\tif(o.v1 != \'\' && o.v1 != null ) o.v1 = o.v1.getTime();',
'\t\t\t\t\tif(o.v2 != \'\' && o.v2 != null ) o.v2 = o.v2.getTime();',
'\t\t\t\t\tif(_d != \'\' && _d != null ) _d = _d.getTime();',
'\t\t\t\t}',
'\t\t\t\tif(flagC) {if(!obj.caseSensitive && typeof _d == \'string\') _d = _d.toLowerCase();}',
'\t\t\t\tif(o.flag) { ',
'\t\t\t\t\t//has qbf operators',
'\t\t\t\t\tif(o.op == \'between\') {',
'\t\t\t\t\t\tif(flagC) {',
'\t\t\t\t\t\t\tif(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tif(flagC) _d = _d.substr(0,o.v1.length)',
'\t\t\t\t\t\tif(o.op == \'>=\') if( _d >= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<=\') if( _d <= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'>\') if(_d > o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<\') if(_d < o.v1) flag = true;',
'\t\t\t\t\t}',
'\t\t\t\t} else { ',
'\t\t\t\t\tif(obj.mode == 1 || obj.mode == -1 ) {',
'\t\t\t\t\t\tif(obj.mode == 1) if(_d == o.v1) flag = true;; //match',
'\t\t\t\t\t\tif(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match',
'\t\t\t\t\t} else if (obj.mode == 2 || obj.mode == -2) { ',
'\t\t\t\t\t\tif(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains',
'\t\t\t\t\t\tif(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;',
'\t\t\t\t\t} else if (obj.mode == 3 || obj.mode == -3) { ',
'\t\t\t\t\t\tif(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with',
'\t\t\t\t\t\tif(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v1 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v1) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v1);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v2 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v2) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v2);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(flag) { ',
'\t\tif(typeof this._state.highlight == \'undefined\') this._state.highlight = {};',
'\t\tthis._state.highlight[field.toUpperCase()] = _vals;',
'\t} else { ',
'\t\t//this._state.highlight[field.toUpperCase()] = [];',
'\t}',
'\treturn flag;',
'}',
',',
'\t_setSearchOps: function(obj,obj_i) { ',
'\tobj.mode = obj_i.option;',
'\tobj.qbf = obj_i.qbf;',
'\tobj.type = obj_i.type;',
'\t//obj.treatAs = obj_i.treatAs;',
'}',
',',
'\t_searchPartOperator: \'&&\',',
'\t_searchPartSubmit_clientSideFilter: function() { ',
'\tif(!this._searchPartHas) return true;',
'\t//_searchPartStyle: \'individualcontrols\'',
'\tthis._state.highlight = {};',
'\tif(this._searchPartStyle == \'singlekeywordcontrol\') { ',
'\t\tvar searchFor = {UXPRERENDEREDALIAS}_DlgObj.getValue(this._keywordSearchControl);',
'\t\tvar arr = this._keywordSearchFields;',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\t//obj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 1;',
'\t\tobj.flagKeyword = true;',
'\t\tvar objStr = JSON.stringify(obj)',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\texpn_i = \'this._match(data,\' +this._str(arr[i]) + \',\' + this._str(searchFor) + \',\'+objStr+\')\';',
'\t\t\texpn.push(expn_i);',
'\t\t}',
'\t\texpn = expn.join(\'||\');',
'\t\t//alert(expn);',
'\t} else if ( this._searchPartStyle == \'individualcontrols\' || this._searchPartStyle == \'querybyform\'  ) { ',
'\t\tvar map = this._searchPart.fieldMap;',
'\t\tvar val = \'\';',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\tobj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 2;',
'\t\t//var objStr = JSON.stringify(obj)',
'\t\tvar ac = [];',
'\t\tvar aco = {};',
'\t\tvar _highlight = {};',
'\t\tif(this._searchPartStyle == \'individualcontrols\') {',
'\t\t\tfor(var i = 0; i < map.length; i++) { ',
'\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(map[i].control);',
'\t\t\t\tif(val != \'\') {',
'\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(map[i].field) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t} else if (this._searchPartStyle == \'querybyform\' ) { ',
'\t\t\tvar controlName = \'\';',
'\t\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\t\tif(controlName != \'\') {',
'\t\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(controlName);',
'\t\t\t\t\tif(val != \'\') {',
'\t\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(this._listFields[i].name) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t\t\taco.control = controlName;',
'\t\t\t\t\t\taco.value = val;',
'\t\t\t\t\t\tac.push(aco);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis.__queryByFormValues = ac;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\t\t}\t',
'\t\tvar operator = \'&&\';',
'\t\tif(typeof this._searchPartOperator != \'undefined\') operator = this._searchPartOperator;',
'\t\texpn = expn.join(\' \'+operator+\' \');',
'\t} ',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = expn;',
'\t}',
'\t//user did not fill in any search fields',
'\tif(expn == \'\') return true;',
'\tvar fnTxt = \'if(\' + expn + \') {return true;} else { return false;}\'',
'\tvar searchFunction = new Function(\'data\',fnTxt);',
'\tthis.setFilter(searchFunction);',
'\tif(this._rData.length > 0) this.setValue(0);',
'}',
',',
'\t_searchPartSubmit_clientSideFilterClear: function() { ',
'if(!this._searchPartHas) return true;',
'\tthis._state.highlight = {};',
'\tthis.setFilter(false);',
'\tvar map = this._searchPart.fieldMap;',
'\tvar val = \'\';',
'\tvar od = {UXPRERENDEREDALIAS}_DlgObj.originalValues[0];',
'\tfor(var i = 0; i < map.length; i++) {',
'\t\tvar val = od[map[i].control.toUpperCase()];',
'\t\tif(typeof val != \'undefined\') {UXPRERENDEREDALIAS}_DlgObj.setValue(map[i].control,val,false);',
'\t}',
'\tthis.setFilter(false);',
'\tdelete this.__queryByFormValues;',
'\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\tif(this._data.length > 0) this.setValue(0);',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = \'\';',
'\t}',
'}',
',',
'\tdetailViewIsDirty: function() { return false; },',
'\tpopulateUXControls: function() { return true; },',
'\tlistIsDirty: function() { return false; },',
'\tlookupValue: function(key,name,keyValue) {\tvar _d = this._data;',
'\tvar indx = A5FindPropInArray(_d,key,keyValue);',
'\tvar rv = \'\';',
'\tif(indx >=0) {',
'\t\tif(name == \'__rowData__\') return _d[indx];',
'\t\trv =  _d[indx][name];',
'\t} else {',
'\t\t//null out all properties in row',
'\t\tvar _d2 = {};',
'\t\tif(typeof _d[0] == \'undefined\') { return {}} ;',
'\t\tfor(var n in _d[0]) {',
'\t\t\t_d2[n] = \'&nbsp;\';',
'\t\t}',
'\t\trv = _d2;',
'\t}',
'\treturn rv;',
'}',
',',
'\tallowNullSelection: false,',
'\tallowNullDeselection: false,',
'\tloopNavigate: false,',
'\tloopNavigateNullSelection: false,',
'\trefreshChildLists: function() {{UXPRERENDEREDALIAS}_DlgObj._listRefreshCascadingLists(\'LIST_FAQS\'); },',
'\trowExpander: function(rowNumber) { ',
'\tvar mode = typeof arguments[2] != \'undefined\' ? arguments[2] : \'toggle\';',
'\tif(typeof rowNumber == \'undefined\' || rowNumber == \'\' ) {',
'\t\trowNumber = this.selection[0];',
'\t\tif(typeof rowNumber == \'undefined\') return false;',
'\t}',
'\tvar animObj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\tvar ele = $(this._hostComponentId + \'.\' + this.listVariableName + \'.ROWEXPANDER.\' + rowNumber);',
'\tif(ele) {',
'\t\tif(mode == \'toggle\') A5.u.element.toggle(ele,animObj);',
'\t\tif(mode == \'show\') A5.u.element.show(ele,animObj);',
'\t\tif(mode == \'hide\') A5.u.element.hide(ele,animObj);',
'\t}',
'}',
',',
'\tafterClientSideSummaryCompute: function(csSummary) { },',
'\tselectCurrentLayout: function(name) { ',
'var pl = this.layouts[name];',
'if(typeof pl == \'undefined\') return false;',
'this.setLayout(name);',
'if(pl.type == \'column\') {',
'\tthis.columnLayout.header.show = this.layouts[name].showColumnTitles; ',
'\tthis.refresh();',
'}',
'},',
'\tonFilter: function() { \tvar e = {}; ',
'\te.rowCount = this._values.length;  ',
'\tvar ele = $(\'{UXPRERENDEREDALIAS}.__listId__.RECORDCOUNT\'); ',
'\tif(ele) {ele.innerHTML = e.rowCount;}; ',
'\tif(this.persistToStorage) { this.persistToStorage({});} ',
'\t(function(e) {   })(e);',
'}',
',',
'\tserverSideSort: function(column) {',
'var e = {};',
'e.column = column;',
'var result = this.systemEvents.beforeServerSideSort(e);',
'if(result == false) return false;',
'var obj = {};',
'obj.cmd = \'sort\';',
'obj.column = column;',
'obj.layoutName = this.layout;',
'obj.listState = this._state;',
'var data = \'_listId=LIST_FAQS&\' + A5.ajax.buildURLParam(\'_cmdObj\',$u.o.toJSON(obj));',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:listServerSideSort\',\'\',data);',
'},',
'\tfilterListClientSide: function(searchFor) {',
'//var result = this.systemEvents.beforeClientSideFilter();',
'//if(result == false) return false;',
'if(searchFor != \'\') {',
'\t//fixes bug in Chrome when searching on dates strings that use forward slashes',
'\tsearchFor = searchFor.replace(/\\//g,\'\\\\/\');',
'\tthis.setFilter({\'question\': RegExp(\'\' + searchFor,\'i\'), \'answer\': RegExp(\'\' + searchFor,\'i\')});',
'} else this.setFilter(false);',
'var rowCount = this._values.length;',
'//var e = {};',
'//e.rowCount = rowCount;',
'//this.systemEvents.afterClientSideFilter(e);',
'var ele = $(\'{UXPRERENDEREDALIAS}.LIST_FAQS.RECORDCOUNT\');',
'if(ele) ele.innerHTML = rowCount;',
'}',
',',
'\tscrollToClosestValue: function(val) { \t',
'\tif(typeof val != \'string\') val = val.join(\'\');',
'\tvar flagCI = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\tvar pos = typeof arguments[2] != \'undefined\' ? arguments[2] : \'top\';',
'\tvar anim = typeof arguments[3] != \'undefined\' ? arguments[3] : {}',
'\tvar _d = this._rData;',
'\tvar len = val.length;',
'\tvar _d2;',
'\tvar i2 = -1;',
'\tif(flagCI) val = val.toLowerCase();',
'\tfor(var i = 0 ; i < _d.length; i++) {',
'\t\ti2 = i;',
'\t\t_d2 = String(_d[i][\'*value\']);',
'\t\t_d2 = _d2.substr(0,len);',
'\t\t_d2 = $u.s.pad(_d2,len,\' \',\'l\');',
'\t\tif(flagCI) _d2 = _d2.toLowerCase();',
'\t\tif(val <= _d2){',
'\t\t\t break;',
'\t\t}',
'\t}',
'\tif(i2 > -1) { ',
'\t\tthis.scrollToItem(i2,{mode: pos, animation: anim});',
'\t}',
'}',
',',
'\t_refreshStateMessages: function() {',
'\tvar ele = \'\';',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_FAQS.PAGENUMBER\');',
'\tif(ele) ele.innerHTML = this._state.page;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_FAQS.PAGECOUNT\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_FAQS.PAGECOUNT.PAGESELECTOR\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;\t',
'\tele = $(\'{UXPRERENDEREDALIAS}.LIST_FAQS.LISTSTATE\');',
'\tif(ele) {',
'\t\tvar listState = $u.o.toJSON(this._state);',
'\t\tele.innerHTML = listState;',
'\t}',
'\t//navigation buttons\t',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_NEXT.LIST_FAQS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_LAST.LIST_FAQS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_FIRST.LIST_FAQS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_PREV.LIST_FAQS\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = $(\'{UXPRERENDEREDALIAS}.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LIST_FAQS\');',
'\tif(ele) {',
'\t\tvar data = this._recordNavigatorLinks;',
'\t\tif(data) A5.form.populateSelect(ele,this._state.page,data,true);',
'\t}',
'}',
',',
'\tview: {',
'\t\ttype: \'dynamic\',',
'\t\tsize: 15,',
'\t\tmaxSize: 0,',
'\t\toffset: 5,',
'\t\tnavigation: {',
'\t\t\tpull: {',
'\t\t\t\tallow: true,',
'\t\t\t\tsize: 15',
'\t\t\t},',
'\t\t\tprev: {',
'\t\t\t\thtml: \'Previous\'',
'\t\t\t},',
'\t\t\tnext: {',
'\t\t\t\thtml: \'Next\'',
'\t\t\t}',
'\t\t}',
'\t},',
'\tscroller: {',
'\t\thas: true,',
'\t\tflow: \'ttb\',',
'\t\tlocation: \'after\',',
'\t\toffset: {',
'\t\t\ttop: \'0px\',',
'\t\t\tbottom: \'0px\',',
'\t\t\tleft: \'0px\',',
'\t\t\tright: \'0px\'',
'\t\t},',
'\t\tslider: {',
'\t\t\thandle: {',
'\t\t\t},',
'\t\t\tshadow: {',
'\t\t\t\tshow: true',
'\t\t\t},',
'\t\t\tmessage: {',
'\t\t\t\tshow: \'auto\',',
'\t\t\t\tlowSwitch: 75,',
'\t\t\t\thighSwitch: 75',
'\t\t\t}',
'\t\t},',
'\t\tdial: {',
'\t\t\tshow: \'drag\',',
'\t\t\tinvertDrag: false,',
'\t\t\tmessage: {',
'\t\t\t},',
'\t\t\tpixelStep: 4,',
'\t\t\tsize: 2',
'\t\t},',
'\t\tshow: true',
'\t},',
'\t_getRoute: function() { ',
'\tvar obj  = typeof arguments[1] != \'undefined\' ? arguments[1] : [];',
'\tvar mode = typeof arguments[0] != \'undefined\' ? arguments[0] : \'rowNumber\'; //',
'\tif(typeof this.selection[0] == \'undefined\') return false;',
'\tif(typeof this.getData(this.selection[0]) == \'undefined\') return false;',
'\tif(mode == \'rowNumber\') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])[\'*key\']});',
'\telse obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tif(lObj) lObj._getRoute(mode,obj);',
'\t}',
'\treturn obj;',
'}',
',',
'\t_setRoute: function(route) { ',
'\tif(typeof route == \'undefined\') { ',
'\t\troute = this.__currentRoute;',
'\t\tif(typeof route == \'undefined\') return false;',
'\t}',
'\tvar lObj = \'\';',
'\tvar row = \'\';',
'\tfor(var i = 0; i < route.length; i++) {',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(route[i].list);',
'\t\trow = route[i].row;',
'\t\tvar flag = typeof this._restoringList != \'undefined\' ? !this._restoringList : true;',
'\t\tif(typeof row != \'undefined\') {',
'\t\t\tvar rowFixed = \'\';',
'\t\t\tif(typeof lObj._dataMap == \'undefined\') return false;',
'\t\t\t//var msg = JSON.stringify(lObj._dataMap);',
'\t\t\t//alert(\'route[i].row:\' + route[i].row + \' ------ \' + msg);',
'\t\t\trowFixed = lObj._dataMap.indexOf(route[i].row);',
'\t\t\tlObj.setValue(rowFixed,flag);',
'\t\t\tif(this._clearServerSideErrors) this._clearServerSideErrors();',
'\t\t\tif(this._showServerSideErrors) this._showServerSideErrors();',
'\t\t\tif(this._showWriteConflictErrors) this._showWriteConflictErrors();',
'\t\t}',
'\t}',
'}',
',',
'\t_useServerSideSyncLog: false,',
'\t_searchHighlighting: true,',
'\t_searchHighlightStyle: \'color: red;\'',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_FAQS\'] = [];',
';',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ \t__dialogGuid: \'838fc0d3-880e-4583-b2ab-e498495a6435\', \t__dtfmt: \'MM/dd/yyyy\' });',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'LIST_FAQS\'] =  { type: \'list\',  data: {UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LIST_FAQS\'],  settings: {UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LIST_FAQS\'] }',
'{UXPRERENDEREDALIAS}_DlgObj.setVariables({});',
'{UXPRERENDEREDALIAS}_DlgObj._dataBoundControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._primaryTableAlias = \'\';',
'{UXPRERENDEREDALIAS}_DlgObj._listControlsInfo = {};',
'{UXPRERENDEREDALIAS}_DlgObj._hasPanels = true;',
'{UXPRERENDEREDALIAS}_DlgObj._hasOnSynchronizeEvent = false;',
'A5.__dtfmt = \'MM/dd/yyyy\';A5.__tfmt = \'\';',
'A5.__flagWorkingPreview = false;',
'A5.__flagIIS = false;',
'A5.__flagSimulateIIS = true;',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation = function() { ',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj == \'undefined\') return \'\';',
'\tvar orientation = {UXPRERENDEREDALIAS}_DlgObj.getOrientation();',
'\tif( orientation == \'landscape\') {',
'\t\t\t//landscape',
'\t\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'landscape\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'landscape\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'landscape\'});',
'\t\t\t}',
'\t} else {',
'\t\t//portrait',
'\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'portrait\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'portrait\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'portrait\'});',
'\t\t\t}',
'\t}',
'}',
'\tA5.flags.cordovaLoaded = true;',
'\ttry {',
'\t\tdocument.addEventListener(\'deviceready\', function() { ',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onCordovaReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onPhoneGapReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._cordovaReady = true;',
'\t\t\tnavigator.geolocation.getAccuratePosition = function(geolocationSuccess, geolocationError, options) {',
'\tvar _lastCheckedPosition = null;',
'\tvar _locationEventCount = 0;',
'\toptions = options || {};',
'\toptions.context = this;',
'    function _checkLocation(pos) {',
'        _lastCheckedPosition = pos;',
'        _locationEventCount++;',
'        if ((pos.coords.accuracy <= options.desiredAccuracy) && (_locationEventCount > options.ignoreResultCount)) {',
'            clearTimeout(_timerID);',
'            navigator.geolocation.clearWatch(_watchID);',
'            _foundPosition(pos);',
'        } ',
'    }',
'    function _stopLocationCheck() {',
'    \t var error = {};',
'    \t error.code = 0;',
'    \t error.message = \'Timeout: No results\';',
'        navigator.geolocation.clearWatch(_watchID);',
'        _lastCheckedPosition ? _foundPosition(_lastCheckedPosition) : geolocationError.call(options.context,error);',
'    }',
'    function _onError(error) {',
'        clearTimeout(_timerID);',
'        navigator.geolocation.clearWatch(_watchID);',
'        geolocationError.call(options.context,error);',
'    }',
'    function _foundPosition(pos) {',
'        geolocationSuccess.call(options.context,pos);',
'    }',
'    if (!options.maxWait) {            ',
'    \toptions.maxWait = 10000; ',
'    }\t',
'    if (!options.desiredAccuracy) {',
'    \t  options.desiredAccuracy = 20; ',
'    }',
'    if (!options.timeout) {',
'        options.timeout = options.maxWait;',
'\t }',
'\t if (!options.ignoreResultCount) {',
'\t \t\toptions.ignoreResultCount = 1;',
'\t }',
'    options.maximumAge = 0; ',
'    options.enableHighAccuracy = true; ',
'    var _watchID = navigator.geolocation.watchPosition(_checkLocation, _onError, options);',
'    var _timerID = setTimeout(_stopLocationCheck, options.maxWait); ',
'}',
'\t\t} , false);\t',
'\t}',
'\tcatch(err) {}',
'{UXPRERENDEREDALIAS}_DlgObj._waitGif = \'css/A5System/Images/wait.gif\';',
'{UXPRERENDEREDALIAS}_DlgObj._layoutMode = \'containerwidth\';',
'{UXPRERENDEREDALIAS}_DlgObj._responsiveRulesMode = \'firsttrue\';',
'{UXPRERENDEREDALIAS}_DlgObj.__controlNesting = {',
'PANELHEADER: [\'container:LEFT_BUTTONS\'],',
'LEFT_BUTTONS: [],',
'CONTAINER_FAQSEARCH: [\'LIST_FAQS_SEARCH\']',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._listsDV = [];',
'{UXPRERENDEREDALIAS}_DlgObj._listControls = [\'LIST_FAQS\']',
'{UXPRERENDEREDALIAS}_DlgObj._localStorageSettings = {namespace: \'ALPHA_CWEducation\',friendlyName: \'Educational Material\',description: \'Patient Educational Materials\',persistVariableValues: false,__version: 1,persistComponentState: false,workingPreviewTestingFolder: \'LocalStorageTesting\',restore: {variables: false,data: false,state: false},compressData: true,minify: true,variablesToNotPersist: \'\',workingPreviewTestingMode: \'Browser\',compressListData: true}',
'{UXPRERENDEREDALIAS}_DlgObj.__r = [\'3rkeltoSdQc=\']',
'{UXPRERENDEREDALIAS}_DlgObj._staticHTMLMode = false',
'{UXPRERENDEREDALIAS}_DlgObj._EDITOR_EDITORSET = {};',
'{UXPRERENDEREDALIAS}_DlgObj.styleName = \'iOS7\';',
'{UXPRERENDEREDALIAS}_DlgObj.styleVersion = 3',
'{UXPRERENDEREDALIAS}_DlgObj.framesInfo = {',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._noPersist = []',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK\',A5.d.evnts.click,function(e) {',
'CWApp.goBackToMainMenu({UXPRERENDEREDALIAS}_DlgObj);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK\');',
'',
'{UXPRERENDEREDALIAS}_DlgObj.prepare();{UXPRERENDEREDALIAS}_DlgObj.populate({UXPRERENDEREDALIAS}_DlgObj.originalValues[0]);',
'{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);',
'',
'',
'if(!A5.flags.isMobile) $e.add(window,\'resize\',{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation);',
'else $e.add(window,\'orientationchange\',{UXPRERENDEREDALIAS}_DlgObj._orientationChangeHandler,{UXPRERENDEREDALIAS}_DlgObj,true);',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation();',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var listObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LIST_FAQS\');',
'if(listObj) listObj._state.recordCount = 0;',
'if(listObj) listObj._state.recordCountFormatted = \'0\';',
'if(listObj) listObj._state.lastBreakValue = \'<None>\';',
'if(listObj) listObj._state.pageCount = -0;',
'if(listObj) listObj._state.pageSize = 20;',
'if(listObj) {var ele = $(\'{UXPRERENDEREDALIAS}.LIST_FAQS.RECORDCOUNT\'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};',
'if(listObj) listObj._state.paginated = false;',
'if(listObj) listObj._state._optimizedJSON = true;',
'if(listObj) listObj._state.filter = \'1=2\';',
'if(listObj) listObj._state.having = \'\';',
'if(listObj) listObj._state.order = \'Id\';',
'if(listObj) listObj._state.filterParameters = \'\';',
'if(listObj) listObj._state.highlight = {  };',
'if(listObj) listObj._state.whereClause = \'1 = 2\';',
'if(listObj) listObj._state.whereParameters = \'\';',
'\t\t',
'\t\tvar flagPersist = false;',
'\t\tif(typeof listObj._flagPersistDataOK != \'undefined\') { ',
'\t\t\tif(listObj._flagPersistDataOK) { ',
'\t\t\t\tvar data = listObj._data;',
'\t\t\t\tlistObj.persistToStorage({mode:\'populate\', data: data});',
'\t\t\t}',
'\t\t}',
'\t\t',
'\t\t',
';',
'if(listObj) listObj._state.pageCount = -0;',
'{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LIST_FAQS\',\'afterRenderComplete\',{});',
'',
'if(listObj._refreshStateMessages) listObj._refreshStateMessages();',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'setTimeout(function() { },0);',
'{UXPRERENDEREDALIAS}_DlgObj._listsWithJSFuncDataSource = {};',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onInitializeComplete\');',
'{UXPRERENDEREDALIAS}_DlgObj.initialized = true;',
'',
'',
'',
'',
'',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._onRenderComplete = function() { {UXPRERENDEREDALIAS}_DlgObj._runJSOnLoad(); {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule(); }; ',
'',
'setTimeout(function() { var p = {UXPRERENDEREDALIAS}_DlgObj.panelGet(\'PANELNAVIGATOR\'); if(p._sizing == \'window\') { p._sizeWindow();} else { p.refresh(); } },100);',
'setTimeout(function() {{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onRenderComplete\'); {UXPRERENDEREDALIAS}_DlgObj.flagRenderComplete = true;  {UXPRERENDEREDALIAS}_DlgObj._restoreFromLocalStorage(); },1);',
'',
'var o2 = \'portrait\';',
'if(window.innerHeight < window.innerWidth) o2 = \'landscape\';',
'{UXPRERENDEREDALIAS}_DlgObj._screen = {h: window.innerHeight, w: window.innerWidth, o: o2};',
'',
'{UXPRERENDEREDALIAS}_DlgObj._getOnlineStatus();',
'try {',
'window.addEventListener("offline",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'window.addEventListener("online",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'} catch(err){}',
'',
'',
'setTimeout(function() {$e.execute(\'device.screen\',\'a5resize\')},1);',
'setTimeout(function() { },10);;',
'{UXPRERENDEREDALIAS}_DlgObj._activeLanguage = \'\';',
''].join('\n');
jsout = jsout.replace(/\{UXPRERENDERAJAXURL\}/g,'http://69.7.228.180/centerappv1/EDUCATIONMATERIAL.a5wcmp?__virtualPage=__a5runDialog.a5w&__dialogFilename=EDUCATIONMATERIAL&__alias={UXPRERENDEREDALIAS}&__unsaved=no');
jsout = jsout.replace(/\{UXPRERENDEREDALIAS\}/g,go.alias);
jsout = jsout.replace(/\{UXPRERENDEROUTPUTDIV\}/g,go.dialog2Div);
;return jsout}; 
function PRECOMPUTEDUX_7faa32070e7240bf859e0602aa63d5a3_MyProfile(go) { 
var jsout = [
'A5.u.element.setContent(\'{UXPRERENDEROUTPUTDIV}\',\'<style type="text/css">\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_dirtyRow { position:relative; }\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_dirtyRow:before { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid orange;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_newRow {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_newRow:before { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid blue;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_hasError {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_hasError:after { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\tbottom: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid red;\\n\\tborder-bottom-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-top-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_deletedRow {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_deletedRow:before { \\n\\t\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\topacity: 1;\\n\\tborder: 10px solid purple;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\n}\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_dirtyRowInherited { position:relative; }\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_dirtyRowInherited:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid orange;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_deletedRowInherited { position:relative; }\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_deletedRowInherited:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid purple;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_newRowInherited {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_newRowInherited:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid blue;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_hasErrorInherited {  position:relative; }\\n._{UXPRERENDEREDALIAS}_LISTHIDDEN_hasErrorInherited:after { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\tbottom: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid red;\\n\\tborder-bottom-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-top-color: transparent;\\nopacity: .3;\\n}\\n.parentDeleted { \\n\\tposition:relative;\\n}\\n.parentIsDeleted .parentDeleted:before { \\n\\tcontent: "";\\n\\tposition: absolute;\\n\\ttop: 0px;\\n\\tright: 0px;\\n\\tborder: 10px solid purple;\\n\\tborder-top-width: 0px;\\n\\tborder-left-width: 0px;\\n\\tborder-bottom-color: transparent;\\nopacity: .3;\\n}\\n</style>\\n<style>\\n</style><iframe style="display:none;" id="{UXPRERENDEREDALIAS}.__IFRAME1"></iframe>\\n<input type="hidden" value="" id="{UXPRERENDEREDALIAS}.PARAMETERBUCKET"/>\\n<input type="file" style="position:absolute; top:-1000px;visibility:hidden;" accept="image/*" id="{UXPRERENDEREDALIAS}._GETPHOTO"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" multiple = "" id="{UXPRERENDEREDALIAS}._GETFILEMULTI"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" id="{UXPRERENDEREDALIAS}._GETFILE"/><input id="{UXPRERENDEREDALIAS}.V.R1.TRIALALERT" name="V.R1.TRIALALERT" type="hidden"/>\\n<input id="{UXPRERENDEREDALIAS}.V.R1.MAXIMUMTRAVEL" name="V.R1.MAXIMUMTRAVEL" type="hidden"/>\\n<input id="{UXPRERENDEREDALIAS}.V.R1.GENDER" name="V.R1.GENDER" type="hidden"/>\\n<input type="hidden" id="{UXPRERENDEREDALIAS}.V.R1.LISTHIDDEN" name="V.R1.LISTHIDDEN" />\\n\');',
'',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {',
'\t{UXPRERENDEREDALIAS}_DlgObj._destroy();',
'\ttry {',
'\t\tdelete {UXPRERENDEREDALIAS}_DlgObj;',
'\t} catch(e) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj = undefined;',
'\t}',
'};',
';if(typeof {UXPRERENDEREDALIAS}_PanelObj != \'undefined\') {',
'\tvar ele = $({UXPRERENDEREDALIAS}_PanelObj.getPanelId());',
'\tif(ele) {',
'\t\tif(ele.parentNode) ele.parentNode.removeChild(ele);',
'\t}',
'\tdelete {UXPRERENDEREDALIAS}_PanelObj;',
'}',
';window[\'{UXPRERENDEREDALIAS}_PanelObj\'] = new A5.PanelNavigator([',
'{',
'\tname: \'PANELCARD_PROFILE\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_PROFILE"   \\n\\t\\t\\tclass="A5CWLayout "  style="width: 100%; "  >\\n<div style="width:100%;" class="A5CWLayout iOS7TabT" id="{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILE">\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILE.TABBAND" class="iOS7TabTBand">\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILE.0.TAB" class="" href="#">Profile</a>\\n\\t\\t<a id="{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILE.1.TAB" class="" href="#">Demographics</a>\\n\\t<br style="clear: both;" />\\n\\t</div>\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILE.PANES" class="iOS7TabTPanes">\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILE.0.PANE">\\n\\n<div class="A5CWLayout" style="width: 50%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.TRIALALERT" for="{UXPRERENDEREDALIAS}.V.R1.TRIALALERT" title="" class="iOS7DialogLabel" style="display:block;">Alert me about trials that meet my criteria?</label>\\n\\n\\t\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TRIALALERT.CONTROL"  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; "></div>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.FIRSTNAME" title=""  autocapitalize="off"  autocorrect="off"     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.FIRSTNAME"    value=""    />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.LASTNAME" title=""  autocapitalize="off"  autocorrect="off"     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.LASTNAME"    value=""    />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.POSTALCODE" title=""  autocapitalize="off"  autocorrect="off"     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.POSTALCODE"    value=""    />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.MAXIMUMTRAVEL" for="{UXPRERENDEREDALIAS}.V.R1.MAXIMUMTRAVEL" title="" class="iOS7DialogLabel" style="display:block;">Maximum Travel (Miles)</label>\\n\\n\\t\\n<div id="{UXPRERENDEREDALIAS}.V.R1.MAXIMUMTRAVEL.CONTROL"  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ; white-space:nowrap;"></div>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.PRIMARYCONDITION" for="{UXPRERENDEREDALIAS}.V.R1.PRIMARYCONDITION" title="" class="iOS7DialogLabel" style="display:block;">Primary Condition of Interest</label>\\n\\n\\t<select \\t\\n\\t\\tsize="2" \\n\\t\\tclass="iOS7Edit"  \\n\\t\\tname="V.R1.PRIMARYCONDITION" \\n\\t\\ttitle=""\\n\\t\\tstyle="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\\n\\t\\tid="{UXPRERENDEREDALIAS}.V.R1.PRIMARYCONDITION"  \\n\\t\\t   >\\n<option value=""></option> <option value="Abdominal Cancer">Abdominal Cancer</option> <option value="Abdominal Surgery">Abdominal Surgery</option> <option value="Acne">Acne</option> <option value="Acquired Immune Deficiency Syndrome (AIDS &#45; Pediatric)">Acquired Immune Deficiency Syndrome (AIDS &#45; Pediatric)</option> <option value="Acromegaly">Acromegaly</option> <option value="Acute Myelogenous Leukemia (AML)">Acute Myelogenous Leukemia (AML)</option> <option value="Acute Myeloid Leukemia">Acute Myeloid Leukemia</option> <option value="Acute Pain">Acute Pain</option> <option value="Acute Respiratory Distress Syndrome (ARDS)">Acute Respiratory Distress Syndrome (ARDS)</option> <option value="Acute Rhinitis">Acute Rhinitis</option> <option value="Addictions">Addictions</option> <option value="Adenocarcinoma">Adenocarcinoma</option> <option value="Adrenal Cancer">Adrenal Cancer</option> <option value="Affective Disorders">Affective Disorders</option> <option value="Age Spots (Solar Lentigines)">Age Spots (Solar Lentigines)</option> <option value="Aging">Aging</option> <option value="AIDS and AIDS related infections">AIDS and AIDS related infections</option> <option value="Alcohol Dependence">Alcohol Dependence</option> <option value="Alcohol Use Disorder">Alcohol Use Disorder</option> <option value="Allergies &amp; Asthma">Allergies &amp; Asthma</option> <option value="Allergy">Allergy</option> <option value="Allergy (Pediatric)">Allergy (Pediatric)</option> <option value="Alopecia">Alopecia</option> <option value="Alpha 1 Antitrypsin Deficiency">Alpha 1 Antitrypsin Deficiency</option> <option value="Alzheimer&#039;s Disease">Alzheimer&#039;s Disease</option> <option value="Amenorrhea">Amenorrhea</option> <option value="Amyloidosis">Amyloidosis</option> <option value="Amyotrophic Lateral Sclerosis (ALS)">Amyotrophic Lateral Sclerosis (ALS)</option> <option value="Anemia">Anemia</option> <option value="Anesthesia">Anesthesia</option> <option value="Aneurysm">Aneurysm</option> <option value="Angina">Angina</option> <option value="Ankylosing Spondylitis">Ankylosing Spondylitis</option> <option value="Anorexia">Anorexia</option> <option value="Anterior Uveitis">Anterior Uveitis</option> <option value="Antiphospholipid Syndrome">Antiphospholipid Syndrome</option> <option value="Anxiety Disorders">Anxiety Disorders</option> <option value="Anxiety Disorders (Pediatric)">Anxiety Disorders (Pediatric)</option> <option value="Aplastic Anemia">Aplastic Anemia</option> <option value="Arrhythmia">Arrhythmia</option> <option value="Arthritis and Arthritic Pain">Arthritis and Arthritic Pain</option> <option value="Asperger&#039;s Disorder">Asperger&#039;s Disorder</option> <option value="Aspergillosis">Aspergillosis</option> <option value="Asthma">Asthma</option> <option value="Asthma (Pediatric)">Asthma (Pediatric)</option> <option value="Astigmatism">Astigmatism</option> <option value="Atherosclerosis">Atherosclerosis</option> <option value="Athlete&#039;s Foot (Tinea Pedis)">Athlete&#039;s Foot (Tinea Pedis)</option> <option value="Athletic Injuries">Athletic Injuries</option> <option value="Atopic Dermatitis">Atopic Dermatitis</option> <option value="Atrial Fibrillation">Atrial Fibrillation</option> <option value="Atrial Flutter">Atrial Flutter</option> <option value="Attention Deficit/Hyperactivity Disorder (ADHD &#45; Adults)">Attention Deficit/Hyperactivity Disorder (ADHD &#45; Adults)</option> <option value="Attention Deficit/Hyperactivity Disorder (ADHD &#45; Pediatric)">Attention Deficit/Hyperactivity Disorder (ADHD &#45; Pediatric)</option> <option value="Autism">Autism</option> <option value="Autonomic Nervous System">Autonomic Nervous System</option> <option value="Bacterial Infections">Bacterial Infections</option> <option value="Barrett&#039;s Esophagus">Barrett&#039;s Esophagus</option> <option value="Benign Prostatic Hyperplasia (Enlarged Prostate)">Benign Prostatic Hyperplasia (Enlarged Prostate)</option> <option value="Biliary Tract Cancer">Biliary Tract Cancer</option> <option value="Binge Eating Disorder">Binge Eating Disorder</option> <option value="Bipolar Disorder">Bipolar Disorder</option> <option value="Bipolar Disorders (Pediatric)">Bipolar Disorders (Pediatric)</option> <option value="Birth Control">Birth Control</option> <option value="Birth Defects">Birth Defects</option> <option value="Bladder Cancer">Bladder Cancer</option> <option value="Bladder Disorders">Bladder Disorders</option> <option value="Blood Cancer">Blood Cancer</option> <option value="Blood Clots">Blood Clots</option> <option value="Body Composition">Body Composition</option> <option value="Bone Density">Bone Density</option> <option value="Bone Diseases">Bone Diseases</option> <option value="Bone Marrow Transplant">Bone Marrow Transplant</option> <option value="Bone Metastases">Bone Metastases</option> <option value="Bowel Dysfunction">Bowel Dysfunction</option> <option value="Brain Cancer">Brain Cancer</option> <option value="Brain Injury">Brain Injury</option> <option value="Brain Metastases">Brain Metastases</option> <option value="Brain Tumor">Brain Tumor</option> <option value="Breast Cancer">Breast Cancer</option> <option value="Breast Cancer &#45; HER2 Positive">Breast Cancer &#45; HER2 Positive</option> <option value="Breast Feeding">Breast Feeding</option> <option value="Breast Fibroadenoma">Breast Fibroadenoma</option> <option value="Breast Implants">Breast Implants</option> <option value="Breast Reconstruction">Breast Reconstruction</option> <option value="Bronchiectasis">Bronchiectasis</option> <option value="Bronchitis">Bronchitis</option> <option value="Bronchoscopy">Bronchoscopy</option> <option value="Bulimia">Bulimia</option> <option value="Cancer (Pediatric)">Cancer (Pediatric)</option> <option value="Cancer Pain">Cancer Pain</option> <option value="Cancer Prevention">Cancer Prevention</option> <option value="Cancer Treatment">Cancer Treatment</option> <option value="Cancer/Tumors">Cancer/Tumors</option> <option value="Cardiac Ischemia">Cardiac Ischemia</option> <option value="Cardiac Surgery">Cardiac Surgery</option> <option value="Cardiomyopathy">Cardiomyopathy</option> <option value="Cardiovascular Abnormalities">Cardiovascular Abnormalities</option> <option value="Carotid Artery Disease">Carotid Artery Disease</option> <option value="Carpal Tunnel Syndrome">Carpal Tunnel Syndrome</option> <option value="Cartilage Injuries">Cartilage Injuries</option> <option value="Cataracts">Cataracts</option> <option value="Celiac Disease">Celiac Disease</option> <option value="Cerebral Arteriovenous Malformations">Cerebral Arteriovenous Malformations</option> <option value="Cerebral Palsy">Cerebral Palsy</option> <option value="Cerebral Palsy (Pediatric)">Cerebral Palsy (Pediatric)</option> <option value="Cervical Cancer">Cervical Cancer</option> <option value="Cervical Dysplasia">Cervical Dysplasia</option> <option value="Cervical Intraepithelial Neoplasia">Cervical Intraepithelial Neoplasia</option> <option value="Chemotherapy">Chemotherapy</option> <option value="Chest Pain">Chest Pain</option> <option value="Chordoma">Chordoma</option> <option value="Chronic Back Pain">Chronic Back Pain</option> <option value="Chronic Bronchitis">Chronic Bronchitis</option> <option value="Chronic Cough">Chronic Cough</option> <option value="Chronic Diarrhea">Chronic Diarrhea</option> <option value="Chronic Fatigue Syndrome">Chronic Fatigue Syndrome</option> <option value="Chronic Inflammatory Demyelinating Polyneuropathy (CIDP)">Chronic Inflammatory Demyelinating Polyneuropathy (CIDP)</option> <option value="Chronic Leg Pain">Chronic Leg Pain</option> <option value="Chronic Lymphocytic Leukemia">Chronic Lymphocytic Leukemia</option> <option value="Chronic Myeloid Leukemia">Chronic Myeloid Leukemia</option> <option value="Chronic Obstructive Lung Disease">Chronic Obstructive Lung Disease</option> <option value="Chronic Pain">Chronic Pain</option> <option value="Chronic Renal Anemia">Chronic Renal Anemia</option> <option value="Claudication">Claudication</option> <option value="Clostridium Difficile&#45;Associated Diarrhea">Clostridium Difficile&#45;Associated Diarrhea</option> <option value="Cold Sores (Herpes Labialis Infections)">Cold Sores (Herpes Labialis Infections)</option> <option value="Colic">Colic</option> <option value="Colon Cancer">Colon Cancer</option> <option value="Colon Cancer Screening">Colon Cancer Screening</option> <option value="Colon Polyps">Colon Polyps</option> <option value="Colorectal Cancer">Colorectal Cancer</option> <option value="Common Cold">Common Cold</option> <option value="Communication Disorders">Communication Disorders</option> <option value="Complex Regional Pain Syndrome&#45; type 1 (CRPS&#45;I)">Complex Regional Pain Syndrome&#45; type 1 (CRPS&#45;I)</option> <option value="Congenital Afibrinogenemia">Congenital Afibrinogenemia</option> <option value="Congenital Heart Disease">Congenital Heart Disease</option> <option value="Congestive Heart Failure">Congestive Heart Failure</option> <option value="Conjunctivitis, Bacterial">Conjunctivitis, Bacterial</option> <option value="Connective Tissue Diseases">Connective Tissue Diseases</option> <option value="Constipation">Constipation</option> <option value="Contact Dermatitis">Contact Dermatitis</option> <option value="Contraception">Contraception</option> <option value="COPD (Chronic Obstructive Pulmonary Disease)">COPD (Chronic Obstructive Pulmonary Disease)</option> <option value="Coronary Artery Disease">Coronary Artery Disease</option> <option value="Crohn&#039;s Disease">Crohn&#039;s Disease</option> <option value="Cushing&#039;s Disease">Cushing&#039;s Disease</option> <option value="Cutaneous Lupus Erythematosus">Cutaneous Lupus Erythematosus</option> <option value="Cutaneous T&#45;Cell Lymphoma">Cutaneous T&#45;Cell Lymphoma</option> <option value="Cystic Fibrosis">Cystic Fibrosis</option> <option value="Cystoid Macular Edema">Cystoid Macular Edema</option> <option value="Cytomegalovirus Infections">Cytomegalovirus Infections</option> <option value="Deafness">Deafness</option> <option value="Deep Vein Thrombosis">Deep Vein Thrombosis</option> <option value="Defibrillator (AICD)">Defibrillator (AICD)</option> <option value="Dementia">Dementia</option> <option value="Depression">Depression</option> <option value="Depression (Adolescent)">Depression (Adolescent)</option> <option value="Depression (Adult and Geriatric)">Depression (Adult and Geriatric)</option> <option value="Depression (Major/Severe)">Depression (Major/Severe)</option> <option value="Depression (Pediatric)">Depression (Pediatric)</option> <option value="Depression (Treatment&#45;Resistant)">Depression (Treatment&#45;Resistant)</option> <option value="Dermatitis, Atopic">Dermatitis, Atopic</option> <option value="Dermatomyositis (Connective Tissue Disease)">Dermatomyositis (Connective Tissue Disease)</option> <option value="Diabetes (Pediatric)">Diabetes (Pediatric)</option> <option value="Diabetes and Hypertension">Diabetes and Hypertension</option> <option value="Diabetes Mellitus Types I and II">Diabetes Mellitus Types I and II</option> <option value="Diabetes Mellitus, Type 1">Diabetes Mellitus, Type 1</option> <option value="Diabetes Mellitus, Type 2">Diabetes Mellitus, Type 2</option> <option value="Diabetes Prevention">Diabetes Prevention</option> <option value="Diabetic Foot Ulcers">Diabetic Foot Ulcers</option> <option value="Diabetic Gastroparesis">Diabetic Gastroparesis</option> <option value="Diabetic Kidney Disease">Diabetic Kidney Disease</option> <option value="Diabetic Macular Edema">Diabetic Macular Edema</option> <option value="Diabetic Neuropathy">Diabetic Neuropathy</option> <option value="Diabetic Retinopathy">Diabetic Retinopathy</option> <option value="Diet and Nutrition">Diet and Nutrition</option> <option value="Digestive System Neoplasms">Digestive System Neoplasms</option> <option value="Discoid Lupus Erythematosus (DLE)">Discoid Lupus Erythematosus (DLE)</option> <option value="Down&#039;s Syndrome">Down&#039;s Syndrome</option> <option value="Dry Eye Disease">Dry Eye Disease</option> <option value="Ductal Carcinoma In Situ (DCIS)">Ductal Carcinoma In Situ (DCIS)</option> <option value="Dysfunctional Uterine Bleeding">Dysfunctional Uterine Bleeding</option> <option value="Dyskinesias">Dyskinesias</option> <option value="Dyslipidemia">Dyslipidemia</option> <option value="Dysmenorrhea (Painful Periods)">Dysmenorrhea (Painful Periods)</option> <option value="Dysrhythmia">Dysrhythmia</option> <option value="Dystonias">Dystonias</option> <option value="Ear Infections">Ear Infections</option> <option value="Ear Infections (Pediatric)">Ear Infections (Pediatric)</option> <option value="Eczema (Atopic Dermatitis &#45; Pediatric)">Eczema (Atopic Dermatitis &#45; Pediatric)</option> <option value="Eczema (Atopic Dermatitis)">Eczema (Atopic Dermatitis)</option> <option value="Effects of Chemotherapy">Effects of Chemotherapy</option> <option value="Elevated Triglycerides (Hypertriglyceridemia)">Elevated Triglycerides (Hypertriglyceridemia)</option> <option value="Emphysema">Emphysema</option> <option value="Endometrial Cancer">Endometrial Cancer</option> <option value="Endometrial Hyperplasia">Endometrial Hyperplasia</option> <option value="Endometriosis">Endometriosis</option> <option value="Epidermolysis Bullosa">Epidermolysis Bullosa</option> <option value="Epilepsy">Epilepsy</option> <option value="Epilepsy (Pediatric)">Epilepsy (Pediatric)</option> <option value="Erectile Dysfunction">Erectile Dysfunction</option> <option value="Esophageal Cancer">Esophageal Cancer</option> <option value="Esophageal Disorders">Esophageal Disorders</option> <option value="Essential Tremor">Essential Tremor</option> <option value="Ewing&#039;s Family Tumors">Ewing&#039;s Family Tumors</option> <option value="Excessive Sweating">Excessive Sweating</option> <option value="Eye Disorders/Infections">Eye Disorders/Infections</option> <option value="Eye Disorders/Infections (Pediatric)">Eye Disorders/Infections (Pediatric)</option> <option value="Fabry Disease">Fabry Disease</option> <option value="Fallopian Tube Cancer">Fallopian Tube Cancer</option> <option value="Familial Chylomicronemia Syndrome">Familial Chylomicronemia Syndrome</option> <option value="Familial Hypercholesterolemia">Familial Hypercholesterolemia</option> <option value="Fast Heart Rate (Tachycardia)">Fast Heart Rate (Tachycardia)</option> <option value="Fecal Incontinence">Fecal Incontinence</option> <option value="Female Hormonal Deficiencies/Abnormalities">Female Hormonal Deficiencies/Abnormalities</option> <option value="Fever">Fever</option> <option value="Fibromyalgia">Fibromyalgia</option> <option value="Follicular Lymphoma">Follicular Lymphoma</option> <option value="Frequent Nighttime Urination (Nocturia)">Frequent Nighttime Urination (Nocturia)</option> <option value="Friedreich&#039;s Ataxia">Friedreich&#039;s Ataxia</option> <option value="Functional Dyspepsia">Functional Dyspepsia</option> <option value="Fungal Infections">Fungal Infections</option> <option value="Gastric Cancer">Gastric Cancer</option> <option value="Gastroenteritis">Gastroenteritis</option> <option value="Gastroesophageal Reflux Disease (GERD)">Gastroesophageal Reflux Disease (GERD)</option> <option value="Gastrointestinal Diseases and Disorders">Gastrointestinal Diseases and Disorders</option> <option value="Gastroparesis">Gastroparesis</option> <option value="Gaucher Disease">Gaucher Disease</option> <option value="Generalized Anxiety Disorder (GAD)">Generalized Anxiety Disorder (GAD)</option> <option value="Genital Warts">Genital Warts</option> <option value="Genitourinary Cancer">Genitourinary Cancer</option> <option value="Genitourinary Prolapse">Genitourinary Prolapse</option> <option value="Germ Cell Tumors">Germ Cell Tumors</option> <option value="Gestational Trophoblastic Neoplasia">Gestational Trophoblastic Neoplasia</option> <option value="Glaucoma">Glaucoma</option> <option value="Glioblastoma multiforme">Glioblastoma multiforme</option> <option value="Gliomas">Gliomas</option> <option value="Glomerulonephritis">Glomerulonephritis</option> <option value="Gout (Hyperuricemia)">Gout (Hyperuricemia)</option> <option value="Graft&#45;Versus&#45;Host Disease (GVHD)">Graft&#45;Versus&#45;Host Disease (GVHD)</option> <option value="Growth Hormone Deficiencies/Abnormalities">Growth Hormone Deficiencies/Abnormalities</option> <option value="Gynecological Infections">Gynecological Infections</option> <option value="Hair Loss">Hair Loss</option> <option value="Hair Removal">Hair Removal</option> <option value="Head and Neck Cancer">Head and Neck Cancer</option> <option value="Headaches">Headaches</option> <option value="Hearing Impairment">Hearing Impairment</option> <option value="Hearing Loss">Hearing Loss</option> <option value="Heart Attack (Myocardial Infarction)">Heart Attack (Myocardial Infarction)</option> <option value="Heart Disease">Heart Disease</option> <option value="Heart Failure">Heart Failure</option> <option value="Heart Transplantation">Heart Transplantation</option> <option value="Heart Valve Disease">Heart Valve Disease</option> <option value="Heartburn">Heartburn</option> <option value="Helicobacter Pylori">Helicobacter Pylori</option> <option value="Hemangioma">Hemangioma</option> <option value="Hematologic Cancer">Hematologic Cancer</option> <option value="Hematologic Neoplasms">Hematologic Neoplasms</option> <option value="Hematological Disorders">Hematological Disorders</option> <option value="Hemodialysis">Hemodialysis</option> <option value="Hemoglobinuria, Paroxysmal">Hemoglobinuria, Paroxysmal</option> <option value="Hemophilia">Hemophilia</option> <option value="Hemorrhage">Hemorrhage</option> <option value="Hemorrhoids">Hemorrhoids</option> <option value="Hepatic Encephalopathy">Hepatic Encephalopathy</option> <option value="Hepatitis">Hepatitis</option> <option value="Hepatitis B">Hepatitis B</option> <option value="Hepatitis C; Chronic">Hepatitis C; Chronic</option> <option value="Hereditary Angioedema">Hereditary Angioedema</option> <option value="Hernia">Hernia</option> <option value="Herpes Simplex Infections">Herpes Simplex Infections</option> <option value="Herpes Zoster Infections">Herpes Zoster Infections</option> <option value="High Blood Pressure (Hypertension &#45; Pediatric)">High Blood Pressure (Hypertension &#45; Pediatric)</option> <option value="High Blood Pressure (Hypertension)">High Blood Pressure (Hypertension)</option> <option value="High Cholesterol (Hyperlipidemia)">High Cholesterol (Hyperlipidemia)</option> <option value="Hip Replacement">Hip Replacement</option> <option value="Histiocytoma">Histiocytoma</option> <option value="HIV">HIV</option> <option value="HIV (Pediatric)">HIV (Pediatric)</option> <option value="HIV Infections">HIV Infections</option> <option value="HIV/AIDS">HIV/AIDS</option> <option value="Hives (Urticaria)">Hives (Urticaria)</option> <option value="Hodgkin&#039;s Disease">Hodgkin&#039;s Disease</option> <option value="Hormone Deficiencies">Hormone Deficiencies</option> <option value="Hormone Replacement Therapy">Hormone Replacement Therapy</option> <option value="Hot Flash">Hot Flash</option> <option value="Human Growth Hormone (HGH)">Human Growth Hormone (HGH)</option> <option value="Human Papilloma Virus (HPV)">Human Papilloma Virus (HPV)</option> <option value="Huntington&#039;s Disease">Huntington&#039;s Disease</option> <option value="Hyperparathyroidism">Hyperparathyroidism</option> <option value="Hypertriglyceridemia">Hypertriglyceridemia</option> <option value="Hypogammaglobulinemia">Hypogammaglobulinemia</option> <option value="Hypogonadism">Hypogonadism</option> <option value="Hyponatremia">Hyponatremia</option> <option value="Idiopathic Inflammatory Myopathies">Idiopathic Inflammatory Myopathies</option> <option value="Idiopathic Membranous Nephropathy">Idiopathic Membranous Nephropathy</option> <option value="Idiopathic Pulmonary Fibrosis">Idiopathic Pulmonary Fibrosis</option> <option value="Idiopathic Short Stature">Idiopathic Short Stature</option> <option value="Ileus">Ileus</option> <option value="Impotence">Impotence</option> <option value="In Vitro Fertilization">In Vitro Fertilization</option> <option value="Infantile Fibrosarcoma">Infantile Fibrosarcoma</option> <option value="Infantile Spasms">Infantile Spasms</option> <option value="Infertility">Infertility</option> <option value="Inflammation">Inflammation</option> <option value="Inflammatory Bowel Disease">Inflammatory Bowel Disease</option> <option value="Influenza">Influenza</option> <option value="Insomnia">Insomnia</option> <option value="Intermittent Claudication">Intermittent Claudication</option> <option value="Intermittent Explosive Disorder">Intermittent Explosive Disorder</option> <option value="Interstitial Cystitis">Interstitial Cystitis</option> <option value="Intra&#45;Abdominal Infections">Intra&#45;Abdominal Infections</option> <option value="Intrauterine Device">Intrauterine Device</option> <option value="Iritis">Iritis</option> <option value="Irritable Bowel Syndrome (IBS)">Irritable Bowel Syndrome (IBS)</option> <option value="Joint Injuries">Joint Injuries</option> <option value="Kaposi&#039;s Sarcoma">Kaposi&#039;s Sarcoma</option> <option value="Kawasaki Disease">Kawasaki Disease</option> <option value="Keratoses">Keratoses</option> <option value="Kidney Cancer">Kidney Cancer</option> <option value="Kidney Disease">Kidney Disease</option> <option value="Kidney Disease (Pediatric)">Kidney Disease (Pediatric)</option> <option value="Kidney Failure">Kidney Failure</option> <option value="Kidney Stones">Kidney Stones</option> <option value="Kidney Transplantation">Kidney Transplantation</option> <option value="Knee Injuries">Knee Injuries</option> <option value="Knee Replacement">Knee Replacement</option> <option value="Knee Surgery">Knee Surgery</option> <option value="Labor/Delivery">Labor/Delivery</option> <option value="Lactose Intolerance">Lactose Intolerance</option> <option value="Leukemia">Leukemia</option> <option value="Leukemia (Pediatric)">Leukemia (Pediatric)</option> <option value="Limb Spasticity">Limb Spasticity</option> <option value="Liposuction">Liposuction</option> <option value="Liver Cancer">Liver Cancer</option> <option value="Liver Disease">Liver Disease</option> <option value="Liver Failure">Liver Failure</option> <option value="Liver Metastases">Liver Metastases</option> <option value="Liver Transplantation">Liver Transplantation</option> <option value="Low Testosterone">Low Testosterone</option> <option value="Lower Back Pain">Lower Back Pain</option> <option value="Lung Cancer">Lung Cancer</option> <option value="Lung Disease">Lung Disease</option> <option value="Lung Injury">Lung Injury</option> <option value="Lupus">Lupus</option> <option value="Lupus Nephritis">Lupus Nephritis</option> <option value="Lymphedema">Lymphedema</option> <option value="Lymphocytic Leukemia, Acute">Lymphocytic Leukemia, Acute</option> <option value="Lymphocytic Leukemia, Chronic">Lymphocytic Leukemia, Chronic</option> <option value="Lymphoma">Lymphoma</option> <option value="Lymphoma, B&#45;Cell">Lymphoma, B&#45;Cell</option> <option value="Lymphoproliferative disorders">Lymphoproliferative disorders</option> <option value="Lysosomal Acid Lipase Deficiency (LAL)">Lysosomal Acid Lipase Deficiency (LAL)</option> <option value="Macular Degeneration">Macular Degeneration</option> <option value="Macular Edema">Macular Edema</option> <option value="Male Pattern Baldness">Male Pattern Baldness</option> <option value="Malignant Melanoma">Malignant Melanoma</option> <option value="Mantle Cell Lymphoma">Mantle Cell Lymphoma</option> <option value="Marginal Zone Lymphoma">Marginal Zone Lymphoma</option> <option value="Mastectomy">Mastectomy</option> <option value="Melanoma">Melanoma</option> <option value="Memory Loss">Memory Loss</option> <option value="Memory Problems">Memory Problems</option> <option value="Meningitis">Meningitis</option> <option value="Menopause">Menopause</option> <option value="Men&#039;s Health">Men&#039;s Health</option> <option value="Menstrual Disorders">Menstrual Disorders</option> <option value="Menstruation">Menstruation</option> <option value="Mesothelioma">Mesothelioma</option> <option value="Metabolic Disorders">Metabolic Disorders</option> <option value="Metabolic Syndrome">Metabolic Syndrome</option> <option value="Metastatic Cancer">Metastatic Cancer</option> <option value="Metastatic Melanoma">Metastatic Melanoma</option> <option value="Migraine (Pediatric)">Migraine (Pediatric)</option> <option value="Migraine and Cluster Headaches">Migraine and Cluster Headaches</option> <option value="Miscarriage">Miscarriage</option> <option value="Mitral Valve Regurgitation">Mitral Valve Regurgitation</option> <option value="Mood Disorders">Mood Disorders</option> <option value="Mucositis">Mucositis</option> <option value="Multiple Myeloma">Multiple Myeloma</option> <option value="Multiple Sclerosis">Multiple Sclerosis</option> <option value="Multiple System Atrophy (MSA)">Multiple System Atrophy (MSA)</option> <option value="Muscle Pain">Muscle Pain</option> <option value="Musculoskeletal Diseases">Musculoskeletal Diseases</option> <option value="Myasthenia Gravis (Chronic Weakness)">Myasthenia Gravis (Chronic Weakness)</option> <option value="Mycosis Fungoides">Mycosis Fungoides</option> <option value="Myelodysplastic Syndromes (MDS)">Myelodysplastic Syndromes (MDS)</option> <option value="Myelofibrosis">Myelofibrosis</option> <option value="Myocardial Ischemia">Myocardial Ischemia</option> <option value="Myopia">Myopia</option> <option value="Myositis">Myositis</option> <option value="Narcolepsy">Narcolepsy</option> <option value="Nasal Obstruction">Nasal Obstruction</option> <option value="Nasopharyngeal Cancer">Nasopharyngeal Cancer</option> <option value="Neck Pain">Neck Pain</option> <option value="Neoplasm Metastasis">Neoplasm Metastasis</option> <option value="Neoplasms">Neoplasms</option> <option value="Nephritis">Nephritis</option> <option value="Nephropathy">Nephropathy</option> <option value="Nerve Injury">Nerve Injury</option> <option value="Neuroblastoma">Neuroblastoma</option> <option value="Neuroendocrine Carcinoma">Neuroendocrine Carcinoma</option> <option value="Neurofibromatosis">Neurofibromatosis</option> <option value="Neurologic Disorders">Neurologic Disorders</option> <option value="Neuropathy">Neuropathy</option> <option value="Neutropenia">Neutropenia</option> <option value="Nocturia">Nocturia</option> <option value="Non&#45;Hodgkin&#039;s Lymphoma">Non&#45;Hodgkin&#039;s Lymphoma</option> <option value="Non&#45;Small Cell Lung Cancer">Non&#45;Small Cell Lung Cancer</option> <option value="Obesity">Obesity</option> <option value="Obsessive&#45;Compulsive Disorder">Obsessive&#45;Compulsive Disorder</option> <option value="Ocular Hypertension">Ocular Hypertension</option> <option value="Opioid Use Disorder">Opioid Use Disorder</option> <option value="Oral Cancer">Oral Cancer</option> <option value="Oral Cavity Cancer">Oral Cavity Cancer</option> <option value="Orthopedic Surgery">Orthopedic Surgery</option> <option value="Orthopedics">Orthopedics</option> <option value="Orthostatic Hypotension">Orthostatic Hypotension</option> <option value="Osteoarthritis">Osteoarthritis</option> <option value="Osteomyelitis">Osteomyelitis</option> <option value="Osteopenia">Osteopenia</option> <option value="Osteoporosis">Osteoporosis</option> <option value="Osteosarcoma">Osteosarcoma</option> <option value="Otitis Externa (Swimmer&#039;s Ear)">Otitis Externa (Swimmer&#039;s Ear)</option> <option value="Otitis Media">Otitis Media</option> <option value="Ovarian Cancer">Ovarian Cancer</option> <option value="Ovulation">Ovulation</option> <option value="Pacemaker (ICD)">Pacemaker (ICD)</option> <option value="Pain">Pain</option> <option value="Pain (Pediatric)">Pain (Pediatric)</option> <option value="Pancreatic Cancer">Pancreatic Cancer</option> <option value="Pancreatic Disorders">Pancreatic Disorders</option> <option value="Pancreatitis">Pancreatitis</option> <option value="Parkinson&#039;s Disease">Parkinson&#039;s Disease</option> <option value="Pediatric Health">Pediatric Health</option> <option value="Pelvic Adhesions">Pelvic Adhesions</option> <option value="Pemphigus Vulgaris (PV)">Pemphigus Vulgaris (PV)</option> <option value="Perimenopause">Perimenopause</option> <option value="Periodontitis">Periodontitis</option> <option value="Peripheral Arterial Disease (PAD)">Peripheral Arterial Disease (PAD)</option> <option value="Peripheral Arterial Occlusive Disease">Peripheral Arterial Occlusive Disease</option> <option value="Peripheral Neuropathy">Peripheral Neuropathy</option> <option value="Peripheral Vascular Disease">Peripheral Vascular Disease</option> <option value="Peritoneal Cancer">Peritoneal Cancer</option> <option value="Peyronie&#039;s Disease">Peyronie&#039;s Disease</option> <option value="Pharyngitis">Pharyngitis</option> <option value="Phenylketonuria">Phenylketonuria</option> <option value="Pleural Diseases">Pleural Diseases</option> <option value="Pleural Effusion">Pleural Effusion</option> <option value="Pneumonia">Pneumonia</option> <option value="Polymyositis (Inflammatory Muscle Disease)">Polymyositis (Inflammatory Muscle Disease)</option> <option value="Polyps">Polyps</option> <option value="Pompe Disease">Pompe Disease</option> <option value="Post Menopause">Post Menopause</option> <option value="Posterior Uveitis">Posterior Uveitis</option> <option value="Postherpetic Neuralgia">Postherpetic Neuralgia</option> <option value="Post&#45;Menopausal Osteopenia">Post&#45;Menopausal Osteopenia</option> <option value="Post&#45;Menopausal Osteoporosis">Post&#45;Menopausal Osteoporosis</option> <option value="Post&#45;Operative Nausea and Vomiting">Post&#45;Operative Nausea and Vomiting</option> <option value="Post&#45;Partum Depression">Post&#45;Partum Depression</option> <option value="Post&#45;Surgical Pain">Post&#45;Surgical Pain</option> <option value="Post&#45;Traumatic Stress Disorders">Post&#45;Traumatic Stress Disorders</option> <option value="Precocious Puberty">Precocious Puberty</option> <option value="Preeclampsia">Preeclampsia</option> <option value="Pregnancy">Pregnancy</option> <option value="Pregnancy Complications">Pregnancy Complications</option> <option value="Premature Ejaculation">Premature Ejaculation</option> <option value="Premenstrual Syndrome">Premenstrual Syndrome</option> <option value="Pressure Ulcer">Pressure Ulcer</option> <option value="Pressure Ulcers">Pressure Ulcers</option> <option value="Prostate Cancer">Prostate Cancer</option> <option value="Prostate Disorders">Prostate Disorders</option> <option value="Proteinuria">Proteinuria</option> <option value="Pseudobulbar Affect">Pseudobulbar Affect</option> <option value="Psoriasis and Psoriatic Disorders">Psoriasis and Psoriatic Disorders</option> <option value="Psoriatic Arthritis">Psoriatic Arthritis</option> <option value="Psychosis">Psychosis</option> <option value="Pulmonary Arterial Hypertension">Pulmonary Arterial Hypertension</option> <option value="Pulmonary Embolism">Pulmonary Embolism</option> <option value="Pulmonary Fibrosis">Pulmonary Fibrosis</option> <option value="Raynaud&#039;s Disease">Raynaud&#039;s Disease</option> <option value="Rectal Cancer">Rectal Cancer</option> <option value="Recurrent Diarrhea">Recurrent Diarrhea</option> <option value="Recurrent Ovarian Cancer">Recurrent Ovarian Cancer</option> <option value="Recurrent Pregnancy Loss">Recurrent Pregnancy Loss</option> <option value="Recurrent Respiratory Papillomatosis">Recurrent Respiratory Papillomatosis</option> <option value="Red Cell Disorders">Red Cell Disorders</option> <option value="Reflex Sympathetic Dystrophy Syndrome (RSDS)">Reflex Sympathetic Dystrophy Syndrome (RSDS)</option> <option value="Renal Anemia">Renal Anemia</option> <option value="Renal Artery Disease">Renal Artery Disease</option> <option value="Renal Cancer">Renal Cancer</option> <option value="Renal Cell Cancer">Renal Cell Cancer</option> <option value="Renal Cell Carcinoma">Renal Cell Carcinoma</option> <option value="Renal Failure">Renal Failure</option> <option value="Respiratory Failure">Respiratory Failure</option> <option value="Respiratory Syncytial Virus (RSV) Infection">Respiratory Syncytial Virus (RSV) Infection</option> <option value="Restless Leg Syndrome">Restless Leg Syndrome</option> <option value="Retinitis Pigmentosa">Retinitis Pigmentosa</option> <option value="Retinoblastoma">Retinoblastoma</option> <option value="Rhabdomyosarcoma">Rhabdomyosarcoma</option> <option value="Rheumatic Fever">Rheumatic Fever</option> <option value="Rheumatoid Arthritis">Rheumatoid Arthritis</option> <option value="Rheumatoid Arthritis (Pediatric)">Rheumatoid Arthritis (Pediatric)</option> <option value="Rhinitis, Allergic, Perennial">Rhinitis, Allergic, Perennial</option> <option value="Rosacea">Rosacea</option> <option value="Rotavirus">Rotavirus</option> <option value="Saliva and Salivary Gland Dysfunction">Saliva and Salivary Gland Dysfunction</option> <option value="Sarcoidosis">Sarcoidosis</option> <option value="Sarcoma">Sarcoma</option> <option value="Sarcoma (Pediatric)">Sarcoma (Pediatric)</option> <option value="Schizophrenia and Schizoaffective Disorders">Schizophrenia and Schizoaffective Disorders</option> <option value="Schizophrenia and Schizoaffective Disorders (Pediatric)">Schizophrenia and Schizoaffective Disorders (Pediatric)</option> <option value="Sciatica">Sciatica</option> <option value="Scleroderma">Scleroderma</option> <option value="Seborrhea">Seborrhea</option> <option value="Seborrheic Dermatitis">Seborrheic Dermatitis</option> <option value="Seizure Disorders">Seizure Disorders</option> <option value="Seizure Disorders (Pediatric)">Seizure Disorders (Pediatric)</option> <option value="Sexual Dysfunction">Sexual Dysfunction</option> <option value="Sexually Transmitted Diseases (STDs)">Sexually Transmitted Diseases (STDs)</option> <option value="Sezary Syndrome">Sezary Syndrome</option> <option value="Shingles">Shingles</option> <option value="Sickle Cell Disease">Sickle Cell Disease</option> <option value="Sinus Infections">Sinus Infections</option> <option value="Sjogren&#039;s Syndrome">Sjogren&#039;s Syndrome</option> <option value="Skin Aging">Skin Aging</option> <option value="Skin Cancer">Skin Cancer</option> <option value="Skin Cell Studies">Skin Cell Studies</option> <option value="Skin Infections/Disorders">Skin Infections/Disorders</option> <option value="Sleep Apnea Syndromes">Sleep Apnea Syndromes</option> <option value="Sleep Disorders">Sleep Disorders</option> <option value="Sleep Disorders (Pediatric)">Sleep Disorders (Pediatric)</option> <option value="Small Cell Lung Cancer">Small Cell Lung Cancer</option> <option value="Smallpox">Smallpox</option> <option value="Smoking Cessation">Smoking Cessation</option> <option value="Social Anxiety Disorder (SAD)">Social Anxiety Disorder (SAD)</option> <option value="Social Phobia">Social Phobia</option> <option value="Soft Tissue Infections">Soft Tissue Infections</option> <option value="Soft Tissue Sarcoma">Soft Tissue Sarcoma</option> <option value="Solid Tumors">Solid Tumors</option> <option value="Spinal Cord Injuries">Spinal Cord Injuries</option> <option value="Spinal Muscular Atrophy">Spinal Muscular Atrophy</option> <option value="Spinal Surgery">Spinal Surgery</option> <option value="Spinocerebellar Disorders">Spinocerebellar Disorders</option> <option value="Sprains">Sprains</option> <option value="Squamous Cell Carcinoma">Squamous Cell Carcinoma</option> <option value="Staphylococcal Infections">Staphylococcal Infections</option> <option value="Staphylococcal Skin Infections">Staphylococcal Skin Infections</option> <option value="Stem Cell Transplant">Stem Cell Transplant</option> <option value="Stent">Stent</option> <option value="Stomach Cancer">Stomach Cancer</option> <option value="Stomach Discomfort">Stomach Discomfort</option> <option value="Strep Throat">Strep Throat</option> <option value="Stress">Stress</option> <option value="Stroke">Stroke</option> <option value="Substance Abuse">Substance Abuse</option> <option value="Sunspot Fungus (Tinea Versicolor)">Sunspot Fungus (Tinea Versicolor)</option> <option value="Surgery">Surgery</option> <option value="Systemic Lupus Erythematosus">Systemic Lupus Erythematosus</option> <option value="Tardive Dyskinesia">Tardive Dyskinesia</option> <option value="T&#45;Cell Lymphoma">T&#45;Cell Lymphoma</option> <option value="Tendon Injuries">Tendon Injuries</option> <option value="Tennis Elbow">Tennis Elbow</option> <option value="Tension Headaches">Tension Headaches</option> <option value="Testicular Cancer">Testicular Cancer</option> <option value="Thalassemia">Thalassemia</option> <option value="Thoracotomy">Thoracotomy</option> <option value="Throat and Tonsil Infections">Throat and Tonsil Infections</option> <option value="Thromboembolism">Thromboembolism</option> <option value="Thrombosis">Thrombosis</option> <option value="Thyroid Cancer">Thyroid Cancer</option> <option value="Tic Disorders">Tic Disorders</option> <option value="Tinnitus">Tinnitus</option> <option value="Toenail Fungus (Onychomycosis)">Toenail Fungus (Onychomycosis)</option> <option value="Tourette&#039;s Syndrome">Tourette&#039;s Syndrome</option> <option value="Transplant Rejection">Transplant Rejection</option> <option value="Traumatic Brain Injury">Traumatic Brain Injury</option> <option value="Trigeminal Neuralgia">Trigeminal Neuralgia</option> <option value="Turner Syndrome">Turner Syndrome</option> <option value="Ulcerative Colitis">Ulcerative Colitis</option> <option value="Ulcers">Ulcers</option> <option value="Urinary Incontinence">Urinary Incontinence</option> <option value="Urinary Tract Infections">Urinary Tract Infections</option> <option value="Urothelial Tract Cancer">Urothelial Tract Cancer</option> <option value="Urticaria">Urticaria</option> <option value="Uterine Cancer">Uterine Cancer</option> <option value="Uterine Fibroids">Uterine Fibroids</option> <option value="Uveitis">Uveitis</option> <option value="Vaccines">Vaccines</option> <option value="Vaginal Atrophy">Vaginal Atrophy</option> <option value="Vaginal Cancer">Vaginal Cancer</option> <option value="Vaginal Infection">Vaginal Infection</option> <option value="Vaginitis">Vaginitis</option> <option value="Varicose Veins">Varicose Veins</option> <option value="Vascular Diseases">Vascular Diseases</option> <option value="Vasomotor Rhinitis">Vasomotor Rhinitis</option> <option value="Venous Leg Ulcers">Venous Leg Ulcers</option> <option value="Venous Thromboembolism">Venous Thromboembolism</option> <option value="Venous Thrombosis">Venous Thrombosis</option> <option value="Vestibular Hypofunction">Vestibular Hypofunction</option> <option value="Viral Infections">Viral Infections</option> <option value="Vitiligo">Vitiligo</option> <option value="Vomiting">Vomiting</option> <option value="Von Willebrand Disease">Von Willebrand Disease</option> <option value="Warts">Warts</option> <option value="Weight Loss">Weight Loss</option> <option value="Wilms&#039; Tumor">Wilms&#039; Tumor</option> <option value="Wilson&#039;s Disease">Wilson&#039;s Disease</option> <option value="Wolman Disease">Wolman Disease</option> <option value="Women&#039;s Health">Women&#039;s Health</option> <option value="Wounds">Wounds</option> <option value="Yeast Infections">Yeast Infections</option> \\n</select>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.SECONDARYCONDITION" for="{UXPRERENDEREDALIAS}.V.R1.SECONDARYCONDITION" title="" class="iOS7DialogLabel" style="display:block;">Secondary Condition of Interest</label>\\n\\n\\t<select \\t\\n\\t\\tsize="2" \\n\\t\\tclass="iOS7Edit"  \\n\\t\\tname="V.R1.SECONDARYCONDITION" \\n\\t\\ttitle=""\\n\\t\\tstyle="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\\n\\t\\tid="{UXPRERENDEREDALIAS}.V.R1.SECONDARYCONDITION"  \\n\\t\\t   >\\n<option value=""></option> <option value="Abdominal Cancer">Abdominal Cancer</option> <option value="Abdominal Surgery">Abdominal Surgery</option> <option value="Acne">Acne</option> <option value="Acquired Immune Deficiency Syndrome (AIDS &#45; Pediatric)">Acquired Immune Deficiency Syndrome (AIDS &#45; Pediatric)</option> <option value="Acromegaly">Acromegaly</option> <option value="Acute Myelogenous Leukemia (AML)">Acute Myelogenous Leukemia (AML)</option> <option value="Acute Myeloid Leukemia">Acute Myeloid Leukemia</option> <option value="Acute Pain">Acute Pain</option> <option value="Acute Respiratory Distress Syndrome (ARDS)">Acute Respiratory Distress Syndrome (ARDS)</option> <option value="Acute Rhinitis">Acute Rhinitis</option> <option value="Addictions">Addictions</option> <option value="Adenocarcinoma">Adenocarcinoma</option> <option value="Adrenal Cancer">Adrenal Cancer</option> <option value="Affective Disorders">Affective Disorders</option> <option value="Age Spots (Solar Lentigines)">Age Spots (Solar Lentigines)</option> <option value="Aging">Aging</option> <option value="AIDS and AIDS related infections">AIDS and AIDS related infections</option> <option value="Alcohol Dependence">Alcohol Dependence</option> <option value="Alcohol Use Disorder">Alcohol Use Disorder</option> <option value="Allergies &amp; Asthma">Allergies &amp; Asthma</option> <option value="Allergy">Allergy</option> <option value="Allergy (Pediatric)">Allergy (Pediatric)</option> <option value="Alopecia">Alopecia</option> <option value="Alpha 1 Antitrypsin Deficiency">Alpha 1 Antitrypsin Deficiency</option> <option value="Alzheimer&#039;s Disease">Alzheimer&#039;s Disease</option> <option value="Amenorrhea">Amenorrhea</option> <option value="Amyloidosis">Amyloidosis</option> <option value="Amyotrophic Lateral Sclerosis (ALS)">Amyotrophic Lateral Sclerosis (ALS)</option> <option value="Anemia">Anemia</option> <option value="Anesthesia">Anesthesia</option> <option value="Aneurysm">Aneurysm</option> <option value="Angina">Angina</option> <option value="Ankylosing Spondylitis">Ankylosing Spondylitis</option> <option value="Anorexia">Anorexia</option> <option value="Anterior Uveitis">Anterior Uveitis</option> <option value="Antiphospholipid Syndrome">Antiphospholipid Syndrome</option> <option value="Anxiety Disorders">Anxiety Disorders</option> <option value="Anxiety Disorders (Pediatric)">Anxiety Disorders (Pediatric)</option> <option value="Aplastic Anemia">Aplastic Anemia</option> <option value="Arrhythmia">Arrhythmia</option> <option value="Arthritis and Arthritic Pain">Arthritis and Arthritic Pain</option> <option value="Asperger&#039;s Disorder">Asperger&#039;s Disorder</option> <option value="Aspergillosis">Aspergillosis</option> <option value="Asthma">Asthma</option> <option value="Asthma (Pediatric)">Asthma (Pediatric)</option> <option value="Astigmatism">Astigmatism</option> <option value="Atherosclerosis">Atherosclerosis</option> <option value="Athlete&#039;s Foot (Tinea Pedis)">Athlete&#039;s Foot (Tinea Pedis)</option> <option value="Athletic Injuries">Athletic Injuries</option> <option value="Atopic Dermatitis">Atopic Dermatitis</option> <option value="Atrial Fibrillation">Atrial Fibrillation</option> <option value="Atrial Flutter">Atrial Flutter</option> <option value="Attention Deficit/Hyperactivity Disorder (ADHD &#45; Adults)">Attention Deficit/Hyperactivity Disorder (ADHD &#45; Adults)</option> <option value="Attention Deficit/Hyperactivity Disorder (ADHD &#45; Pediatric)">Attention Deficit/Hyperactivity Disorder (ADHD &#45; Pediatric)</option> <option value="Autism">Autism</option> <option value="Autonomic Nervous System">Autonomic Nervous System</option> <option value="Bacterial Infections">Bacterial Infections</option> <option value="Barrett&#039;s Esophagus">Barrett&#039;s Esophagus</option> <option value="Benign Prostatic Hyperplasia (Enlarged Prostate)">Benign Prostatic Hyperplasia (Enlarged Prostate)</option> <option value="Biliary Tract Cancer">Biliary Tract Cancer</option> <option value="Binge Eating Disorder">Binge Eating Disorder</option> <option value="Bipolar Disorder">Bipolar Disorder</option> <option value="Bipolar Disorders (Pediatric)">Bipolar Disorders (Pediatric)</option> <option value="Birth Control">Birth Control</option> <option value="Birth Defects">Birth Defects</option> <option value="Bladder Cancer">Bladder Cancer</option> <option value="Bladder Disorders">Bladder Disorders</option> <option value="Blood Cancer">Blood Cancer</option> <option value="Blood Clots">Blood Clots</option> <option value="Body Composition">Body Composition</option> <option value="Bone Density">Bone Density</option> <option value="Bone Diseases">Bone Diseases</option> <option value="Bone Marrow Transplant">Bone Marrow Transplant</option> <option value="Bone Metastases">Bone Metastases</option> <option value="Bowel Dysfunction">Bowel Dysfunction</option> <option value="Brain Cancer">Brain Cancer</option> <option value="Brain Injury">Brain Injury</option> <option value="Brain Metastases">Brain Metastases</option> <option value="Brain Tumor">Brain Tumor</option> <option value="Breast Cancer">Breast Cancer</option> <option value="Breast Cancer &#45; HER2 Positive">Breast Cancer &#45; HER2 Positive</option> <option value="Breast Feeding">Breast Feeding</option> <option value="Breast Fibroadenoma">Breast Fibroadenoma</option> <option value="Breast Implants">Breast Implants</option> <option value="Breast Reconstruction">Breast Reconstruction</option> <option value="Bronchiectasis">Bronchiectasis</option> <option value="Bronchitis">Bronchitis</option> <option value="Bronchoscopy">Bronchoscopy</option> <option value="Bulimia">Bulimia</option> <option value="Cancer (Pediatric)">Cancer (Pediatric)</option> <option value="Cancer Pain">Cancer Pain</option> <option value="Cancer Prevention">Cancer Prevention</option> <option value="Cancer Treatment">Cancer Treatment</option> <option value="Cancer/Tumors">Cancer/Tumors</option> <option value="Cardiac Ischemia">Cardiac Ischemia</option> <option value="Cardiac Surgery">Cardiac Surgery</option> <option value="Cardiomyopathy">Cardiomyopathy</option> <option value="Cardiovascular Abnormalities">Cardiovascular Abnormalities</option> <option value="Carotid Artery Disease">Carotid Artery Disease</option> <option value="Carpal Tunnel Syndrome">Carpal Tunnel Syndrome</option> <option value="Cartilage Injuries">Cartilage Injuries</option> <option value="Cataracts">Cataracts</option> <option value="Celiac Disease">Celiac Disease</option> <option value="Cerebral Arteriovenous Malformations">Cerebral Arteriovenous Malformations</option> <option value="Cerebral Palsy">Cerebral Palsy</option> <option value="Cerebral Palsy (Pediatric)">Cerebral Palsy (Pediatric)</option> <option value="Cervical Cancer">Cervical Cancer</option> <option value="Cervical Dysplasia">Cervical Dysplasia</option> <option value="Cervical Intraepithelial Neoplasia">Cervical Intraepithelial Neoplasia</option> <option value="Chemotherapy">Chemotherapy</option> <option value="Chest Pain">Chest Pain</option> <option value="Chordoma">Chordoma</option> <option value="Chronic Back Pain">Chronic Back Pain</option> <option value="Chronic Bronchitis">Chronic Bronchitis</option> <option value="Chronic Cough">Chronic Cough</option> <option value="Chronic Diarrhea">Chronic Diarrhea</option> <option value="Chronic Fatigue Syndrome">Chronic Fatigue Syndrome</option> <option value="Chronic Inflammatory Demyelinating Polyneuropathy (CIDP)">Chronic Inflammatory Demyelinating Polyneuropathy (CIDP)</option> <option value="Chronic Leg Pain">Chronic Leg Pain</option> <option value="Chronic Lymphocytic Leukemia">Chronic Lymphocytic Leukemia</option> <option value="Chronic Myeloid Leukemia">Chronic Myeloid Leukemia</option> <option value="Chronic Obstructive Lung Disease">Chronic Obstructive Lung Disease</option> <option value="Chronic Pain">Chronic Pain</option> <option value="Chronic Renal Anemia">Chronic Renal Anemia</option> <option value="Claudication">Claudication</option> <option value="Clostridium Difficile&#45;Associated Diarrhea">Clostridium Difficile&#45;Associated Diarrhea</option> <option value="Cold Sores (Herpes Labialis Infections)">Cold Sores (Herpes Labialis Infections)</option> <option value="Colic">Colic</option> <option value="Colon Cancer">Colon Cancer</option> <option value="Colon Cancer Screening">Colon Cancer Screening</option> <option value="Colon Polyps">Colon Polyps</option> <option value="Colorectal Cancer">Colorectal Cancer</option> <option value="Common Cold">Common Cold</option> <option value="Communication Disorders">Communication Disorders</option> <option value="Complex Regional Pain Syndrome&#45; type 1 (CRPS&#45;I)">Complex Regional Pain Syndrome&#45; type 1 (CRPS&#45;I)</option> <option value="Congenital Afibrinogenemia">Congenital Afibrinogenemia</option> <option value="Congenital Heart Disease">Congenital Heart Disease</option> <option value="Congestive Heart Failure">Congestive Heart Failure</option> <option value="Conjunctivitis, Bacterial">Conjunctivitis, Bacterial</option> <option value="Connective Tissue Diseases">Connective Tissue Diseases</option> <option value="Constipation">Constipation</option> <option value="Contact Dermatitis">Contact Dermatitis</option> <option value="Contraception">Contraception</option> <option value="COPD (Chronic Obstructive Pulmonary Disease)">COPD (Chronic Obstructive Pulmonary Disease)</option> <option value="Coronary Artery Disease">Coronary Artery Disease</option> <option value="Crohn&#039;s Disease">Crohn&#039;s Disease</option> <option value="Cushing&#039;s Disease">Cushing&#039;s Disease</option> <option value="Cutaneous Lupus Erythematosus">Cutaneous Lupus Erythematosus</option> <option value="Cutaneous T&#45;Cell Lymphoma">Cutaneous T&#45;Cell Lymphoma</option> <option value="Cystic Fibrosis">Cystic Fibrosis</option> <option value="Cystoid Macular Edema">Cystoid Macular Edema</option> <option value="Cytomegalovirus Infections">Cytomegalovirus Infections</option> <option value="Deafness">Deafness</option> <option value="Deep Vein Thrombosis">Deep Vein Thrombosis</option> <option value="Defibrillator (AICD)">Defibrillator (AICD)</option> <option value="Dementia">Dementia</option> <option value="Depression">Depression</option> <option value="Depression (Adolescent)">Depression (Adolescent)</option> <option value="Depression (Adult and Geriatric)">Depression (Adult and Geriatric)</option> <option value="Depression (Major/Severe)">Depression (Major/Severe)</option> <option value="Depression (Pediatric)">Depression (Pediatric)</option> <option value="Depression (Treatment&#45;Resistant)">Depression (Treatment&#45;Resistant)</option> <option value="Dermatitis, Atopic">Dermatitis, Atopic</option> <option value="Dermatomyositis (Connective Tissue Disease)">Dermatomyositis (Connective Tissue Disease)</option> <option value="Diabetes (Pediatric)">Diabetes (Pediatric)</option> <option value="Diabetes and Hypertension">Diabetes and Hypertension</option> <option value="Diabetes Mellitus Types I and II">Diabetes Mellitus Types I and II</option> <option value="Diabetes Mellitus, Type 1">Diabetes Mellitus, Type 1</option> <option value="Diabetes Mellitus, Type 2">Diabetes Mellitus, Type 2</option> <option value="Diabetes Prevention">Diabetes Prevention</option> <option value="Diabetic Foot Ulcers">Diabetic Foot Ulcers</option> <option value="Diabetic Gastroparesis">Diabetic Gastroparesis</option> <option value="Diabetic Kidney Disease">Diabetic Kidney Disease</option> <option value="Diabetic Macular Edema">Diabetic Macular Edema</option> <option value="Diabetic Neuropathy">Diabetic Neuropathy</option> <option value="Diabetic Retinopathy">Diabetic Retinopathy</option> <option value="Diet and Nutrition">Diet and Nutrition</option> <option value="Digestive System Neoplasms">Digestive System Neoplasms</option> <option value="Discoid Lupus Erythematosus (DLE)">Discoid Lupus Erythematosus (DLE)</option> <option value="Down&#039;s Syndrome">Down&#039;s Syndrome</option> <option value="Dry Eye Disease">Dry Eye Disease</option> <option value="Ductal Carcinoma In Situ (DCIS)">Ductal Carcinoma In Situ (DCIS)</option> <option value="Dysfunctional Uterine Bleeding">Dysfunctional Uterine Bleeding</option> <option value="Dyskinesias">Dyskinesias</option> <option value="Dyslipidemia">Dyslipidemia</option> <option value="Dysmenorrhea (Painful Periods)">Dysmenorrhea (Painful Periods)</option> <option value="Dysrhythmia">Dysrhythmia</option> <option value="Dystonias">Dystonias</option> <option value="Ear Infections">Ear Infections</option> <option value="Ear Infections (Pediatric)">Ear Infections (Pediatric)</option> <option value="Eczema (Atopic Dermatitis &#45; Pediatric)">Eczema (Atopic Dermatitis &#45; Pediatric)</option> <option value="Eczema (Atopic Dermatitis)">Eczema (Atopic Dermatitis)</option> <option value="Effects of Chemotherapy">Effects of Chemotherapy</option> <option value="Elevated Triglycerides (Hypertriglyceridemia)">Elevated Triglycerides (Hypertriglyceridemia)</option> <option value="Emphysema">Emphysema</option> <option value="Endometrial Cancer">Endometrial Cancer</option> <option value="Endometrial Hyperplasia">Endometrial Hyperplasia</option> <option value="Endometriosis">Endometriosis</option> <option value="Epidermolysis Bullosa">Epidermolysis Bullosa</option> <option value="Epilepsy">Epilepsy</option> <option value="Epilepsy (Pediatric)">Epilepsy (Pediatric)</option> <option value="Erectile Dysfunction">Erectile Dysfunction</option> <option value="Esophageal Cancer">Esophageal Cancer</option> <option value="Esophageal Disorders">Esophageal Disorders</option> <option value="Essential Tremor">Essential Tremor</option> <option value="Ewing&#039;s Family Tumors">Ewing&#039;s Family Tumors</option> <option value="Excessive Sweating">Excessive Sweating</option> <option value="Eye Disorders/Infections">Eye Disorders/Infections</option> <option value="Eye Disorders/Infections (Pediatric)">Eye Disorders/Infections (Pediatric)</option> <option value="Fabry Disease">Fabry Disease</option> <option value="Fallopian Tube Cancer">Fallopian Tube Cancer</option> <option value="Familial Chylomicronemia Syndrome">Familial Chylomicronemia Syndrome</option> <option value="Familial Hypercholesterolemia">Familial Hypercholesterolemia</option> <option value="Fast Heart Rate (Tachycardia)">Fast Heart Rate (Tachycardia)</option> <option value="Fecal Incontinence">Fecal Incontinence</option> <option value="Female Hormonal Deficiencies/Abnormalities">Female Hormonal Deficiencies/Abnormalities</option> <option value="Fever">Fever</option> <option value="Fibromyalgia">Fibromyalgia</option> <option value="Follicular Lymphoma">Follicular Lymphoma</option> <option value="Frequent Nighttime Urination (Nocturia)">Frequent Nighttime Urination (Nocturia)</option> <option value="Friedreich&#039;s Ataxia">Friedreich&#039;s Ataxia</option> <option value="Functional Dyspepsia">Functional Dyspepsia</option> <option value="Fungal Infections">Fungal Infections</option> <option value="Gastric Cancer">Gastric Cancer</option> <option value="Gastroenteritis">Gastroenteritis</option> <option value="Gastroesophageal Reflux Disease (GERD)">Gastroesophageal Reflux Disease (GERD)</option> <option value="Gastrointestinal Diseases and Disorders">Gastrointestinal Diseases and Disorders</option> <option value="Gastroparesis">Gastroparesis</option> <option value="Gaucher Disease">Gaucher Disease</option> <option value="Generalized Anxiety Disorder (GAD)">Generalized Anxiety Disorder (GAD)</option> <option value="Genital Warts">Genital Warts</option> <option value="Genitourinary Cancer">Genitourinary Cancer</option> <option value="Genitourinary Prolapse">Genitourinary Prolapse</option> <option value="Germ Cell Tumors">Germ Cell Tumors</option> <option value="Gestational Trophoblastic Neoplasia">Gestational Trophoblastic Neoplasia</option> <option value="Glaucoma">Glaucoma</option> <option value="Glioblastoma multiforme">Glioblastoma multiforme</option> <option value="Gliomas">Gliomas</option> <option value="Glomerulonephritis">Glomerulonephritis</option> <option value="Gout (Hyperuricemia)">Gout (Hyperuricemia)</option> <option value="Graft&#45;Versus&#45;Host Disease (GVHD)">Graft&#45;Versus&#45;Host Disease (GVHD)</option> <option value="Growth Hormone Deficiencies/Abnormalities">Growth Hormone Deficiencies/Abnormalities</option> <option value="Gynecological Infections">Gynecological Infections</option> <option value="Hair Loss">Hair Loss</option> <option value="Hair Removal">Hair Removal</option> <option value="Head and Neck Cancer">Head and Neck Cancer</option> <option value="Headaches">Headaches</option> <option value="Hearing Impairment">Hearing Impairment</option> <option value="Hearing Loss">Hearing Loss</option> <option value="Heart Attack (Myocardial Infarction)">Heart Attack (Myocardial Infarction)</option> <option value="Heart Disease">Heart Disease</option> <option value="Heart Failure">Heart Failure</option> <option value="Heart Transplantation">Heart Transplantation</option> <option value="Heart Valve Disease">Heart Valve Disease</option> <option value="Heartburn">Heartburn</option> <option value="Helicobacter Pylori">Helicobacter Pylori</option> <option value="Hemangioma">Hemangioma</option> <option value="Hematologic Cancer">Hematologic Cancer</option> <option value="Hematologic Neoplasms">Hematologic Neoplasms</option> <option value="Hematological Disorders">Hematological Disorders</option> <option value="Hemodialysis">Hemodialysis</option> <option value="Hemoglobinuria, Paroxysmal">Hemoglobinuria, Paroxysmal</option> <option value="Hemophilia">Hemophilia</option> <option value="Hemorrhage">Hemorrhage</option> <option value="Hemorrhoids">Hemorrhoids</option> <option value="Hepatic Encephalopathy">Hepatic Encephalopathy</option> <option value="Hepatitis">Hepatitis</option> <option value="Hepatitis B">Hepatitis B</option> <option value="Hepatitis C; Chronic">Hepatitis C; Chronic</option> <option value="Hereditary Angioedema">Hereditary Angioedema</option> <option value="Hernia">Hernia</option> <option value="Herpes Simplex Infections">Herpes Simplex Infections</option> <option value="Herpes Zoster Infections">Herpes Zoster Infections</option> <option value="High Blood Pressure (Hypertension &#45; Pediatric)">High Blood Pressure (Hypertension &#45; Pediatric)</option> <option value="High Blood Pressure (Hypertension)">High Blood Pressure (Hypertension)</option> <option value="High Cholesterol (Hyperlipidemia)">High Cholesterol (Hyperlipidemia)</option> <option value="Hip Replacement">Hip Replacement</option> <option value="Histiocytoma">Histiocytoma</option> <option value="HIV">HIV</option> <option value="HIV (Pediatric)">HIV (Pediatric)</option> <option value="HIV Infections">HIV Infections</option> <option value="HIV/AIDS">HIV/AIDS</option> <option value="Hives (Urticaria)">Hives (Urticaria)</option> <option value="Hodgkin&#039;s Disease">Hodgkin&#039;s Disease</option> <option value="Hormone Deficiencies">Hormone Deficiencies</option> <option value="Hormone Replacement Therapy">Hormone Replacement Therapy</option> <option value="Hot Flash">Hot Flash</option> <option value="Human Growth Hormone (HGH)">Human Growth Hormone (HGH)</option> <option value="Human Papilloma Virus (HPV)">Human Papilloma Virus (HPV)</option> <option value="Huntington&#039;s Disease">Huntington&#039;s Disease</option> <option value="Hyperparathyroidism">Hyperparathyroidism</option> <option value="Hypertriglyceridemia">Hypertriglyceridemia</option> <option value="Hypogammaglobulinemia">Hypogammaglobulinemia</option> <option value="Hypogonadism">Hypogonadism</option> <option value="Hyponatremia">Hyponatremia</option> <option value="Idiopathic Inflammatory Myopathies">Idiopathic Inflammatory Myopathies</option> <option value="Idiopathic Membranous Nephropathy">Idiopathic Membranous Nephropathy</option> <option value="Idiopathic Pulmonary Fibrosis">Idiopathic Pulmonary Fibrosis</option> <option value="Idiopathic Short Stature">Idiopathic Short Stature</option> <option value="Ileus">Ileus</option> <option value="Impotence">Impotence</option> <option value="In Vitro Fertilization">In Vitro Fertilization</option> <option value="Infantile Fibrosarcoma">Infantile Fibrosarcoma</option> <option value="Infantile Spasms">Infantile Spasms</option> <option value="Infertility">Infertility</option> <option value="Inflammation">Inflammation</option> <option value="Inflammatory Bowel Disease">Inflammatory Bowel Disease</option> <option value="Influenza">Influenza</option> <option value="Insomnia">Insomnia</option> <option value="Intermittent Claudication">Intermittent Claudication</option> <option value="Intermittent Explosive Disorder">Intermittent Explosive Disorder</option> <option value="Interstitial Cystitis">Interstitial Cystitis</option> <option value="Intra&#45;Abdominal Infections">Intra&#45;Abdominal Infections</option> <option value="Intrauterine Device">Intrauterine Device</option> <option value="Iritis">Iritis</option> <option value="Irritable Bowel Syndrome (IBS)">Irritable Bowel Syndrome (IBS)</option> <option value="Joint Injuries">Joint Injuries</option> <option value="Kaposi&#039;s Sarcoma">Kaposi&#039;s Sarcoma</option> <option value="Kawasaki Disease">Kawasaki Disease</option> <option value="Keratoses">Keratoses</option> <option value="Kidney Cancer">Kidney Cancer</option> <option value="Kidney Disease">Kidney Disease</option> <option value="Kidney Disease (Pediatric)">Kidney Disease (Pediatric)</option> <option value="Kidney Failure">Kidney Failure</option> <option value="Kidney Stones">Kidney Stones</option> <option value="Kidney Transplantation">Kidney Transplantation</option> <option value="Knee Injuries">Knee Injuries</option> <option value="Knee Replacement">Knee Replacement</option> <option value="Knee Surgery">Knee Surgery</option> <option value="Labor/Delivery">Labor/Delivery</option> <option value="Lactose Intolerance">Lactose Intolerance</option> <option value="Leukemia">Leukemia</option> <option value="Leukemia (Pediatric)">Leukemia (Pediatric)</option> <option value="Limb Spasticity">Limb Spasticity</option> <option value="Liposuction">Liposuction</option> <option value="Liver Cancer">Liver Cancer</option> <option value="Liver Disease">Liver Disease</option> <option value="Liver Failure">Liver Failure</option> <option value="Liver Metastases">Liver Metastases</option> <option value="Liver Transplantation">Liver Transplantation</option> <option value="Low Testosterone">Low Testosterone</option> <option value="Lower Back Pain">Lower Back Pain</option> <option value="Lung Cancer">Lung Cancer</option> <option value="Lung Disease">Lung Disease</option> <option value="Lung Injury">Lung Injury</option> <option value="Lupus">Lupus</option> <option value="Lupus Nephritis">Lupus Nephritis</option> <option value="Lymphedema">Lymphedema</option> <option value="Lymphocytic Leukemia, Acute">Lymphocytic Leukemia, Acute</option> <option value="Lymphocytic Leukemia, Chronic">Lymphocytic Leukemia, Chronic</option> <option value="Lymphoma">Lymphoma</option> <option value="Lymphoma, B&#45;Cell">Lymphoma, B&#45;Cell</option> <option value="Lymphoproliferative disorders">Lymphoproliferative disorders</option> <option value="Lysosomal Acid Lipase Deficiency (LAL)">Lysosomal Acid Lipase Deficiency (LAL)</option> <option value="Macular Degeneration">Macular Degeneration</option> <option value="Macular Edema">Macular Edema</option> <option value="Male Pattern Baldness">Male Pattern Baldness</option> <option value="Malignant Melanoma">Malignant Melanoma</option> <option value="Mantle Cell Lymphoma">Mantle Cell Lymphoma</option> <option value="Marginal Zone Lymphoma">Marginal Zone Lymphoma</option> <option value="Mastectomy">Mastectomy</option> <option value="Melanoma">Melanoma</option> <option value="Memory Loss">Memory Loss</option> <option value="Memory Problems">Memory Problems</option> <option value="Meningitis">Meningitis</option> <option value="Menopause">Menopause</option> <option value="Men&#039;s Health">Men&#039;s Health</option> <option value="Menstrual Disorders">Menstrual Disorders</option> <option value="Menstruation">Menstruation</option> <option value="Mesothelioma">Mesothelioma</option> <option value="Metabolic Disorders">Metabolic Disorders</option> <option value="Metabolic Syndrome">Metabolic Syndrome</option> <option value="Metastatic Cancer">Metastatic Cancer</option> <option value="Metastatic Melanoma">Metastatic Melanoma</option> <option value="Migraine (Pediatric)">Migraine (Pediatric)</option> <option value="Migraine and Cluster Headaches">Migraine and Cluster Headaches</option> <option value="Miscarriage">Miscarriage</option> <option value="Mitral Valve Regurgitation">Mitral Valve Regurgitation</option> <option value="Mood Disorders">Mood Disorders</option> <option value="Mucositis">Mucositis</option> <option value="Multiple Myeloma">Multiple Myeloma</option> <option value="Multiple Sclerosis">Multiple Sclerosis</option> <option value="Multiple System Atrophy (MSA)">Multiple System Atrophy (MSA)</option> <option value="Muscle Pain">Muscle Pain</option> <option value="Musculoskeletal Diseases">Musculoskeletal Diseases</option> <option value="Myasthenia Gravis (Chronic Weakness)">Myasthenia Gravis (Chronic Weakness)</option> <option value="Mycosis Fungoides">Mycosis Fungoides</option> <option value="Myelodysplastic Syndromes (MDS)">Myelodysplastic Syndromes (MDS)</option> <option value="Myelofibrosis">Myelofibrosis</option> <option value="Myocardial Ischemia">Myocardial Ischemia</option> <option value="Myopia">Myopia</option> <option value="Myositis">Myositis</option> <option value="Narcolepsy">Narcolepsy</option> <option value="Nasal Obstruction">Nasal Obstruction</option> <option value="Nasopharyngeal Cancer">Nasopharyngeal Cancer</option> <option value="Neck Pain">Neck Pain</option> <option value="Neoplasm Metastasis">Neoplasm Metastasis</option> <option value="Neoplasms">Neoplasms</option> <option value="Nephritis">Nephritis</option> <option value="Nephropathy">Nephropathy</option> <option value="Nerve Injury">Nerve Injury</option> <option value="Neuroblastoma">Neuroblastoma</option> <option value="Neuroendocrine Carcinoma">Neuroendocrine Carcinoma</option> <option value="Neurofibromatosis">Neurofibromatosis</option> <option value="Neurologic Disorders">Neurologic Disorders</option> <option value="Neuropathy">Neuropathy</option> <option value="Neutropenia">Neutropenia</option> <option value="Nocturia">Nocturia</option> <option value="Non&#45;Hodgkin&#039;s Lymphoma">Non&#45;Hodgkin&#039;s Lymphoma</option> <option value="Non&#45;Small Cell Lung Cancer">Non&#45;Small Cell Lung Cancer</option> <option value="Obesity">Obesity</option> <option value="Obsessive&#45;Compulsive Disorder">Obsessive&#45;Compulsive Disorder</option> <option value="Ocular Hypertension">Ocular Hypertension</option> <option value="Opioid Use Disorder">Opioid Use Disorder</option> <option value="Oral Cancer">Oral Cancer</option> <option value="Oral Cavity Cancer">Oral Cavity Cancer</option> <option value="Orthopedic Surgery">Orthopedic Surgery</option> <option value="Orthopedics">Orthopedics</option> <option value="Orthostatic Hypotension">Orthostatic Hypotension</option> <option value="Osteoarthritis">Osteoarthritis</option> <option value="Osteomyelitis">Osteomyelitis</option> <option value="Osteopenia">Osteopenia</option> <option value="Osteoporosis">Osteoporosis</option> <option value="Osteosarcoma">Osteosarcoma</option> <option value="Otitis Externa (Swimmer&#039;s Ear)">Otitis Externa (Swimmer&#039;s Ear)</option> <option value="Otitis Media">Otitis Media</option> <option value="Ovarian Cancer">Ovarian Cancer</option> <option value="Ovulation">Ovulation</option> <option value="Pacemaker (ICD)">Pacemaker (ICD)</option> <option value="Pain">Pain</option> <option value="Pain (Pediatric)">Pain (Pediatric)</option> <option value="Pancreatic Cancer">Pancreatic Cancer</option> <option value="Pancreatic Disorders">Pancreatic Disorders</option> <option value="Pancreatitis">Pancreatitis</option> <option value="Parkinson&#039;s Disease">Parkinson&#039;s Disease</option> <option value="Pediatric Health">Pediatric Health</option> <option value="Pelvic Adhesions">Pelvic Adhesions</option> <option value="Pemphigus Vulgaris (PV)">Pemphigus Vulgaris (PV)</option> <option value="Perimenopause">Perimenopause</option> <option value="Periodontitis">Periodontitis</option> <option value="Peripheral Arterial Disease (PAD)">Peripheral Arterial Disease (PAD)</option> <option value="Peripheral Arterial Occlusive Disease">Peripheral Arterial Occlusive Disease</option> <option value="Peripheral Neuropathy">Peripheral Neuropathy</option> <option value="Peripheral Vascular Disease">Peripheral Vascular Disease</option> <option value="Peritoneal Cancer">Peritoneal Cancer</option> <option value="Peyronie&#039;s Disease">Peyronie&#039;s Disease</option> <option value="Pharyngitis">Pharyngitis</option> <option value="Phenylketonuria">Phenylketonuria</option> <option value="Pleural Diseases">Pleural Diseases</option> <option value="Pleural Effusion">Pleural Effusion</option> <option value="Pneumonia">Pneumonia</option> <option value="Polymyositis (Inflammatory Muscle Disease)">Polymyositis (Inflammatory Muscle Disease)</option> <option value="Polyps">Polyps</option> <option value="Pompe Disease">Pompe Disease</option> <option value="Post Menopause">Post Menopause</option> <option value="Posterior Uveitis">Posterior Uveitis</option> <option value="Postherpetic Neuralgia">Postherpetic Neuralgia</option> <option value="Post&#45;Menopausal Osteopenia">Post&#45;Menopausal Osteopenia</option> <option value="Post&#45;Menopausal Osteoporosis">Post&#45;Menopausal Osteoporosis</option> <option value="Post&#45;Operative Nausea and Vomiting">Post&#45;Operative Nausea and Vomiting</option> <option value="Post&#45;Partum Depression">Post&#45;Partum Depression</option> <option value="Post&#45;Surgical Pain">Post&#45;Surgical Pain</option> <option value="Post&#45;Traumatic Stress Disorders">Post&#45;Traumatic Stress Disorders</option> <option value="Precocious Puberty">Precocious Puberty</option> <option value="Preeclampsia">Preeclampsia</option> <option value="Pregnancy">Pregnancy</option> <option value="Pregnancy Complications">Pregnancy Complications</option> <option value="Premature Ejaculation">Premature Ejaculation</option> <option value="Premenstrual Syndrome">Premenstrual Syndrome</option> <option value="Pressure Ulcer">Pressure Ulcer</option> <option value="Pressure Ulcers">Pressure Ulcers</option> <option value="Prostate Cancer">Prostate Cancer</option> <option value="Prostate Disorders">Prostate Disorders</option> <option value="Proteinuria">Proteinuria</option> <option value="Pseudobulbar Affect">Pseudobulbar Affect</option> <option value="Psoriasis and Psoriatic Disorders">Psoriasis and Psoriatic Disorders</option> <option value="Psoriatic Arthritis">Psoriatic Arthritis</option> <option value="Psychosis">Psychosis</option> <option value="Pulmonary Arterial Hypertension">Pulmonary Arterial Hypertension</option> <option value="Pulmonary Embolism">Pulmonary Embolism</option> <option value="Pulmonary Fibrosis">Pulmonary Fibrosis</option> <option value="Raynaud&#039;s Disease">Raynaud&#039;s Disease</option> <option value="Rectal Cancer">Rectal Cancer</option> <option value="Recurrent Diarrhea">Recurrent Diarrhea</option> <option value="Recurrent Ovarian Cancer">Recurrent Ovarian Cancer</option> <option value="Recurrent Pregnancy Loss">Recurrent Pregnancy Loss</option> <option value="Recurrent Respiratory Papillomatosis">Recurrent Respiratory Papillomatosis</option> <option value="Red Cell Disorders">Red Cell Disorders</option> <option value="Reflex Sympathetic Dystrophy Syndrome (RSDS)">Reflex Sympathetic Dystrophy Syndrome (RSDS)</option> <option value="Renal Anemia">Renal Anemia</option> <option value="Renal Artery Disease">Renal Artery Disease</option> <option value="Renal Cancer">Renal Cancer</option> <option value="Renal Cell Cancer">Renal Cell Cancer</option> <option value="Renal Cell Carcinoma">Renal Cell Carcinoma</option> <option value="Renal Failure">Renal Failure</option> <option value="Respiratory Failure">Respiratory Failure</option> <option value="Respiratory Syncytial Virus (RSV) Infection">Respiratory Syncytial Virus (RSV) Infection</option> <option value="Restless Leg Syndrome">Restless Leg Syndrome</option> <option value="Retinitis Pigmentosa">Retinitis Pigmentosa</option> <option value="Retinoblastoma">Retinoblastoma</option> <option value="Rhabdomyosarcoma">Rhabdomyosarcoma</option> <option value="Rheumatic Fever">Rheumatic Fever</option> <option value="Rheumatoid Arthritis">Rheumatoid Arthritis</option> <option value="Rheumatoid Arthritis (Pediatric)">Rheumatoid Arthritis (Pediatric)</option> <option value="Rhinitis, Allergic, Perennial">Rhinitis, Allergic, Perennial</option> <option value="Rosacea">Rosacea</option> <option value="Rotavirus">Rotavirus</option> <option value="Saliva and Salivary Gland Dysfunction">Saliva and Salivary Gland Dysfunction</option> <option value="Sarcoidosis">Sarcoidosis</option> <option value="Sarcoma">Sarcoma</option> <option value="Sarcoma (Pediatric)">Sarcoma (Pediatric)</option> <option value="Schizophrenia and Schizoaffective Disorders">Schizophrenia and Schizoaffective Disorders</option> <option value="Schizophrenia and Schizoaffective Disorders (Pediatric)">Schizophrenia and Schizoaffective Disorders (Pediatric)</option> <option value="Sciatica">Sciatica</option> <option value="Scleroderma">Scleroderma</option> <option value="Seborrhea">Seborrhea</option> <option value="Seborrheic Dermatitis">Seborrheic Dermatitis</option> <option value="Seizure Disorders">Seizure Disorders</option> <option value="Seizure Disorders (Pediatric)">Seizure Disorders (Pediatric)</option> <option value="Sexual Dysfunction">Sexual Dysfunction</option> <option value="Sexually Transmitted Diseases (STDs)">Sexually Transmitted Diseases (STDs)</option> <option value="Sezary Syndrome">Sezary Syndrome</option> <option value="Shingles">Shingles</option> <option value="Sickle Cell Disease">Sickle Cell Disease</option> <option value="Sinus Infections">Sinus Infections</option> <option value="Sjogren&#039;s Syndrome">Sjogren&#039;s Syndrome</option> <option value="Skin Aging">Skin Aging</option> <option value="Skin Cancer">Skin Cancer</option> <option value="Skin Cell Studies">Skin Cell Studies</option> <option value="Skin Infections/Disorders">Skin Infections/Disorders</option> <option value="Sleep Apnea Syndromes">Sleep Apnea Syndromes</option> <option value="Sleep Disorders">Sleep Disorders</option> <option value="Sleep Disorders (Pediatric)">Sleep Disorders (Pediatric)</option> <option value="Small Cell Lung Cancer">Small Cell Lung Cancer</option> <option value="Smallpox">Smallpox</option> <option value="Smoking Cessation">Smoking Cessation</option> <option value="Social Anxiety Disorder (SAD)">Social Anxiety Disorder (SAD)</option> <option value="Social Phobia">Social Phobia</option> <option value="Soft Tissue Infections">Soft Tissue Infections</option> <option value="Soft Tissue Sarcoma">Soft Tissue Sarcoma</option> <option value="Solid Tumors">Solid Tumors</option> <option value="Spinal Cord Injuries">Spinal Cord Injuries</option> <option value="Spinal Muscular Atrophy">Spinal Muscular Atrophy</option> <option value="Spinal Surgery">Spinal Surgery</option> <option value="Spinocerebellar Disorders">Spinocerebellar Disorders</option> <option value="Sprains">Sprains</option> <option value="Squamous Cell Carcinoma">Squamous Cell Carcinoma</option> <option value="Staphylococcal Infections">Staphylococcal Infections</option> <option value="Staphylococcal Skin Infections">Staphylococcal Skin Infections</option> <option value="Stem Cell Transplant">Stem Cell Transplant</option> <option value="Stent">Stent</option> <option value="Stomach Cancer">Stomach Cancer</option> <option value="Stomach Discomfort">Stomach Discomfort</option> <option value="Strep Throat">Strep Throat</option> <option value="Stress">Stress</option> <option value="Stroke">Stroke</option> <option value="Substance Abuse">Substance Abuse</option> <option value="Sunspot Fungus (Tinea Versicolor)">Sunspot Fungus (Tinea Versicolor)</option> <option value="Surgery">Surgery</option> <option value="Systemic Lupus Erythematosus">Systemic Lupus Erythematosus</option> <option value="Tardive Dyskinesia">Tardive Dyskinesia</option> <option value="T&#45;Cell Lymphoma">T&#45;Cell Lymphoma</option> <option value="Tendon Injuries">Tendon Injuries</option> <option value="Tennis Elbow">Tennis Elbow</option> <option value="Tension Headaches">Tension Headaches</option> <option value="Testicular Cancer">Testicular Cancer</option> <option value="Thalassemia">Thalassemia</option> <option value="Thoracotomy">Thoracotomy</option> <option value="Throat and Tonsil Infections">Throat and Tonsil Infections</option> <option value="Thromboembolism">Thromboembolism</option> <option value="Thrombosis">Thrombosis</option> <option value="Thyroid Cancer">Thyroid Cancer</option> <option value="Tic Disorders">Tic Disorders</option> <option value="Tinnitus">Tinnitus</option> <option value="Toenail Fungus (Onychomycosis)">Toenail Fungus (Onychomycosis)</option> <option value="Tourette&#039;s Syndrome">Tourette&#039;s Syndrome</option> <option value="Transplant Rejection">Transplant Rejection</option> <option value="Traumatic Brain Injury">Traumatic Brain Injury</option> <option value="Trigeminal Neuralgia">Trigeminal Neuralgia</option> <option value="Turner Syndrome">Turner Syndrome</option> <option value="Ulcerative Colitis">Ulcerative Colitis</option> <option value="Ulcers">Ulcers</option> <option value="Urinary Incontinence">Urinary Incontinence</option> <option value="Urinary Tract Infections">Urinary Tract Infections</option> <option value="Urothelial Tract Cancer">Urothelial Tract Cancer</option> <option value="Urticaria">Urticaria</option> <option value="Uterine Cancer">Uterine Cancer</option> <option value="Uterine Fibroids">Uterine Fibroids</option> <option value="Uveitis">Uveitis</option> <option value="Vaccines">Vaccines</option> <option value="Vaginal Atrophy">Vaginal Atrophy</option> <option value="Vaginal Cancer">Vaginal Cancer</option> <option value="Vaginal Infection">Vaginal Infection</option> <option value="Vaginitis">Vaginitis</option> <option value="Varicose Veins">Varicose Veins</option> <option value="Vascular Diseases">Vascular Diseases</option> <option value="Vasomotor Rhinitis">Vasomotor Rhinitis</option> <option value="Venous Leg Ulcers">Venous Leg Ulcers</option> <option value="Venous Thromboembolism">Venous Thromboembolism</option> <option value="Venous Thrombosis">Venous Thrombosis</option> <option value="Vestibular Hypofunction">Vestibular Hypofunction</option> <option value="Viral Infections">Viral Infections</option> <option value="Vitiligo">Vitiligo</option> <option value="Vomiting">Vomiting</option> <option value="Von Willebrand Disease">Von Willebrand Disease</option> <option value="Warts">Warts</option> <option value="Weight Loss">Weight Loss</option> <option value="Wilms&#039; Tumor">Wilms&#039; Tumor</option> <option value="Wilson&#039;s Disease">Wilson&#039;s Disease</option> <option value="Wolman Disease">Wolman Disease</option> <option value="Women&#039;s Health">Women&#039;s Health</option> <option value="Wounds">Wounds</option> <option value="Yeast Infections">Yeast Infections</option> \\n</select>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<textarea\\tid="{UXPRERENDEREDALIAS}.V.R1.MEDICATIONS" class="iOS7Edit" title="" style="width: 100%; height: 75px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;" rows="2" cols="30"    name="V.R1.MEDICATIONS"  ></textarea>\\n\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n<div id="{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILE.1.PANE">\\n\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="email" id="{UXPRERENDEREDALIAS}.V.R1.EMAIL" title=""  autocapitalize="off"  autocorrect="off"     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.EMAIL"    value=""  Placeholder="Email"  />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="tel" id="{UXPRERENDEREDALIAS}.V.R1.MOBILENUMBER" title=""  autocapitalize="off"  autocorrect="off"     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.MOBILENUMBER"    value=""  Placeholder="Mobile Number"  />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: " >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.GENDER" for="{UXPRERENDEREDALIAS}.V.R1.GENDER" title="" class="iOS7DialogLabel" style="display:block;">Gender</label>\\n\\n\\t\\n<div id="{UXPRERENDEREDALIAS}.V.R1.GENDER.CONTROL"  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ; white-space:nowrap;"></div>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.DATEOFBIRTH" for="{UXPRERENDEREDALIAS}.V.R1.DATEOFBIRTH" title="" class="iOS7DialogLabel" style="display:block;">Date Of Birth</label>\\n\\n\\t<table id="{UXPRERENDEREDALIAS}.V.R1.DATEOFBIRTH.CONTAINER" cellspacing="0" cellpadding="0" class="iOS7EditBG" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;; display: inline-table; *display: inline;">\\n<tr>\\n<td style="width:100%">\\n\\n<input  \\tid="{UXPRERENDEREDALIAS}.V.R1.DATEOFBIRTH" name="V.R1.DATEOFBIRTH"  value=""  autocomplete="off"   size="200" class="iOS7EditBGEdit" style="width: 100%; ; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;" />\\n\\n</td>\\n\\t\\t<td class="iOS7EditBGSeparator" >&nbsp;</td>\\n\\t\\t<td id="{UXPRERENDEREDALIAS}.V.R1.DATEOFBIRTH.BUTTON" class="iOS7EditBGButton" style="width: 0%;"><i class="iOS7Icon iOS7IconDown" ></i></td>\\n\\t</tr>\\n</table>\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.ADDRESS" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.ADDRESS"    value=""    />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 100%" >\\n\\t<input\\ttype="text" id="{UXPRERENDEREDALIAS}.V.R1.CITY" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.CITY"    value=""    />\\n\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: 50%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.COUNTRY" for="{UXPRERENDEREDALIAS}.V.R1.COUNTRY" title="" class="iOS7DialogLabel" style="display:block;">Country</label>\\n\\n\\t<select \\t\\n\\t\\tsize="4" \\n\\t\\tclass="iOS7Edit"  \\n\\t\\tname="V.R1.COUNTRY" \\n\\t\\ttitle=""\\n\\t\\tstyle="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\\n\\t\\tid="{UXPRERENDEREDALIAS}.V.R1.COUNTRY"  \\n\\t\\t   >\\n<option value=""></option> <option value="002">Afghanistan</option> <option value="003">Albania</option> <option value="004">Algeria</option> <option value="005">Andorra</option> <option value="006">Angola</option> <option value="007">Anguilla</option> <option value="008">Antigua &amp; Barbuda</option> <option value="009">Argentina</option> <option value="010">Armenia</option> <option value="011">Aruba</option> <option value="012">Ascension</option> <option value="013">Australia</option> <option value="014">Austria</option> <option value="015">Azerbaijan</option> <option value="016">Bahamas</option> <option value="017">Bahrain</option> <option value="018">Bangladesh</option> <option value="019">Barbados</option> <option value="020">Belarus</option> <option value="021">Belgium</option> <option value="022">Belize</option> <option value="023">Benin</option> <option value="024">Bermuda</option> <option value="025">Bhutan</option> <option value="026">Bolivia</option> <option value="027">Bosnia&#45;Herzegovina</option> <option value="028">Botswana</option> <option value="029">Brazil</option> <option value="030">British Virgin Islands</option> <option value="031">Brunei Darussalam</option> <option value="032">Bulgaria</option> <option value="033">Burkina Faso</option> <option value="034">Burma (Myanmar)</option> <option value="035">Burundi</option> <option value="036">Cambodia</option> <option value="037">Cameroon</option> <option value="038">Canada</option> <option value="039">Cape Verde</option> <option value="040">Cayman Islands</option> <option value="041">Central African Republic</option> <option value="042">Chad</option> <option value="043">Chile</option> <option value="044">China</option> <option value="045">Colombia</option> <option value="046">Comoros</option> <option value="047">Congo, Democratic Republic of the</option> <option value="048">Congo, Republic of the</option> <option value="218">Cook Islands</option> <option value="049">Costa Rica</option> <option value="050">Cote d&#039;Ivoire (Ivory Coast)</option> <option value="051">Croatia</option> <option value="052">Cuba</option> <option value="053">Cyprus</option> <option value="054">Czech Republic</option> <option value="055">Denmark</option> <option value="056">Djibouti</option> <option value="057">Dominica</option> <option value="058">Dominican Republic</option> <option value="059">Ecuador</option> <option value="060">Egypt</option> <option value="061">El Salvador</option> <option value="062">Equatorial Guinea</option> <option value="063">Eritrea</option> <option value="064">Estonia</option> <option value="065">Ethiopia</option> <option value="066">Falkland Islands</option> <option value="067">Faroe Islands</option> <option value="068">Fiji</option> <option value="069">Finland</option> <option value="070">France</option> <option value="071">French Guiana</option> <option value="072">French Polynesia</option> <option value="073">Gabon</option> <option value="074">Gambia</option> <option value="215">Georgia</option> <option value="075">Georgia, Republic of</option> <option value="076">Germany</option> <option value="077">Ghana</option> <option value="078">Gibraltar</option> <option value="079">Great Britain &amp; Northern Ireland</option> <option value="080">Greece</option> <option value="081">Greenland</option> <option value="082">Grenada</option> <option value="083">Guadeloupe</option> <option value="084">Guatemala</option> <option value="085">Guinea</option> <option value="086">Guinea&#45;Bissau</option> <option value="087">Guyana</option> <option value="088">Haiti</option> <option value="089">Honduras</option> <option value="090">Hong Kong</option> <option value="091">Hungary</option> <option value="092">Iceland</option> <option value="093">India</option> <option value="094">Indonesia</option> <option value="095">Iran</option> <option value="096">Iraq</option> <option value="097">Ireland (Eire)</option> <option value="098">Israel</option> <option value="099">Italy</option> <option value="100">Jamaica</option> <option value="101">Japan</option> <option value="102">Jordan</option> <option value="103">Kazakhstan</option> <option value="104">Kenya</option> <option value="105">Kiribati</option> <option value="106">Korea, Democratic People&#039;s Republic</option> <option value="107">Korea, Republic of (South)</option> <option value="108">Kuwait</option> <option value="109">Kyrgyzstan</option> <option value="110">Lao, Peoples Democratic Republic</option> <option value="111">Latvia</option> <option value="112">Lebanon</option> <option value="113">Lesotho</option> <option value="114">Liberia</option> <option value="115">Libya</option> <option value="116">Liechtenstein</option> <option value="117">Lithuania</option> <option value="118">Luxembourg</option> <option value="119">Macao</option> <option value="120">Macedonia, Republic of</option> <option value="121">Madagascar</option> <option value="122">Malawi</option> <option value="123">Malaysia</option> <option value="124">Maldives</option> <option value="125">Mali</option> <option value="126">Malta</option> <option value="127">Martinique</option> <option value="128">Mauritania</option> <option value="129">Mauritius</option> <option value="130">Mexico</option> <option value="131">Moldova</option> <option value="216">Monaco</option> <option value="132">Mongolia</option> <option value="133">Montserrat</option> <option value="134">Morocco</option> <option value="135">Mozambique</option> <option value="136">Namibia</option> <option value="137">Nauru</option> <option value="138">Nepal</option> <option value="139">Netherlands</option> <option value="140">Netherlands Antilles</option> <option value="141">New Caledonia</option> <option value="142">New Zealand</option> <option value="143">Nicaragua</option> <option value="144">Niger</option> <option value="145">Nigeria</option> <option value="146">Norway</option> <option value="147">Oman</option> <option value="148">Pakistan</option> <option value="217">Palau</option> <option value="149">Panama</option> <option value="150">Papua New Guinea</option> <option value="151">Paraguay</option> <option value="152">Peru</option> <option value="153">Philippines</option> <option value="154">Pitcairn Island</option> <option value="155">Poland</option> <option value="156">Portugal</option> <option value="157">Qatar</option> <option value="158">Reunion</option> <option value="159">Romania</option> <option value="160">Russia</option> <option value="161">Rwanda</option> <option value="163">Saint Helena</option> <option value="164">Saint Lucia</option> <option value="165">Saint Pierre &amp; Miquelon</option> <option value="166">Saint Vincent &amp; Grenadines</option> <option value="167">San Marino</option> <option value="168">Sao Tome &amp; Principe</option> <option value="169">Saudi Arabia</option> <option value="170">Senegal</option> <option value="171">Serbia&#45;Montenegro (Yugoslavia)</option> <option value="172">Seychelles</option> <option value="173">Sierra Leone</option> <option value="174">Singapore</option> <option value="175">Slovak Republic (Slovakia)</option> <option value="176">Slovenia</option> <option value="177">Solomon Islands</option> <option value="178">Somalia</option> <option value="179">South Africa</option> <option value="180">Spain</option> <option value="181">Sri Lanka</option> <option value="162">St. Christopher (St. Kitts) &amp; Nevis</option> <option value="182">Sudan</option> <option value="183">Suriname</option> <option value="184">Swaziland</option> <option value="185">Sweden</option> <option value="186">Switzerland</option> <option value="187">Syrian Arab Republic (Syria)</option> <option value="188">Taiwan</option> <option value="189">Tajikistan</option> <option value="190">Tanzania</option> <option value="191">Thailand</option> <option value="192">Togo</option> <option value="193">Tonga</option> <option value="194">Trinidad &amp; Tobago</option> <option value="195">Tristan da Cunha</option> <option value="196">Tunisia</option> <option value="197">Turkey</option> <option value="198">Turkmenistan</option> <option value="199">Turks &amp; Caicos Islands</option> <option value="200">Tuvalu</option> <option value="201">Uganda</option> <option value="202">Ukraine</option> <option value="203">United Arab Emirates</option> <option value="001">United States</option> <option value="204">Uruguay</option> <option value="205">Uzbekistan</option> <option value="206">Vanuatu</option> <option value="207">Vatican City</option> <option value="208">Venezuela</option> <option value="209">Vietnam</option> <option value="210">Wallis &amp; Futuna Islands</option> <option value="211">Western Samoa</option> <option value="212">Yemen</option> <option value="213">Zambia</option> <option value="214">Zimbabwe</option> \\n</select>\\n\\n</div>\\n<div class="A5CWLayout" style="width: 50%" >\\n\\t<label id="{UXPRERENDEREDALIAS}.LBL.R1.STATE" for="{UXPRERENDEREDALIAS}.V.R1.STATE" title="" class="iOS7DialogLabel" style="display:block;">State</label>\\n\\n\\t<select \\t\\n\\t\\tsize="4" \\n\\t\\tclass="iOS7Edit"  \\n\\t\\tname="V.R1.STATE" \\n\\t\\ttitle=""\\n\\t\\tstyle="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\\n\\t\\tid="{UXPRERENDEREDALIAS}.V.R1.STATE"  \\n\\t\\t   >\\n<option value=""></option> <option value="AL">Alabama</option> <option value="AK">Alaska</option> <option value="AZ">Arizona</option> <option value="AR">Arkansas</option> <option value="CA">California</option> <option value="CO">Colorado</option> <option value="CT">Connecticut</option> <option value="DE">Delaware</option> <option value="FL">Florida</option> <option value="GA">Georgia</option> <option value="HI">Hawaii</option> <option value="ID">Idaho</option> <option value="IL">Illinois</option> <option value="IN">Indiana</option> <option value="IA">Iowa</option> <option value="KS">Kansas</option> <option value="KY">Kentucky</option> <option value="LA">Louisiana</option> <option value="ME">Maine</option> <option value="MD">Maryland</option> <option value="MA">Massachusetts</option> <option value="MI">Michigan</option> <option value="MN">Minnesota</option> <option value="MS">Mississippi</option> <option value="MO">Missouri</option> <option value="MT">Montana</option> <option value="NE">Nebraska</option> <option value="NV">Nevada</option> <option value="NH">New Hampshire</option> <option value="NJ">New Jersey</option> <option value="NM">New Mexico</option> <option value="NY">New York</option> <option value="NC">North Carolina</option> <option value="ND">North Dakota</option> <option value="OH">Ohio</option> <option value="OK">Oklahoma</option> <option value="OR">Oregon</option> <option value="PA">Pennsylvania</option> <option value="RI">Rhode Island</option> <option value="SC">South Carolina</option> <option value="SD">South Dakota</option> <option value="TN">Tennessee</option> <option value="TX">Texas</option> <option value="UT">Utah</option> <option value="VT">Vermont</option> <option value="VA">Virginia</option> <option value="WA">Washington</option> <option value="WV">West Virginia</option> <option value="WI">Wisconsin</option> <option value="WY">Wyoming</option> <option value="AS">American Samoa</option> <option value="DC">District of Columbia</option> <option value="FM">Federated States of Micronesia</option> <option value="GU">Guam</option> <option value="MH">Marshall Islands</option> <option value="MP">Northern Mariana Islands</option> <option value="PW">Palau</option> <option value="PR">Puerto Rico</option> <option value="VI">Virgin Islands</option> <option value="AE">Armed Forces Africa</option> <option value="AA">Armed Forces Americas</option> <option value="AE">Armed Forces Canada</option> <option value="AE">Armed Forces Europe</option> <option value="AE">Armed Forces Middle East</option> <option value="AP">Armed Forces Pacific</option> <option value="AB">Alberta</option> <option value="BC">British Columbia</option> <option value="MB">Manitoba</option> <option value="NB">New Brunswick</option> <option value="NL">Newfoundland and Labrador</option> <option value="NT">Northwest Territories</option> <option value="NS">Nova Scotia</option> <option value="NU">Nunavut</option> <option value="ON">Ontario</option> <option value="PE">Prince Edward Island</option> <option value="QC">Quebec</option> <option value="SK">Saskatchewan</option> <option value="YT">Yukon</option> <option value="PQ">Quebec</option> \\n</select>\\n\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\\n</div>\\n</div>\\n</div><br  style="clear:both; " />\\n<div class="A5CWLayout" style="width: "  id="{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_ERRORS" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\\n</div><br  style="clear:both; " />\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_PROFILE.BREAK"  style="clear:both; " /><div  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_PROFILE.BREAK"  style="height:2px; font: 0pt;"></div>\\n<div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_BUTTONS"   \\n\\t\\t\\tclass="A5CWLayout "  style="width: 100%; "  >\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_SAVE"    ></button>\\n</div>\\n<div class="A5CWLayout" style="width: " >\\n\\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_RESET"    ></button>\\n</div>\\n<div style="font: 0pt arial;clear:both;"></div>\\n\\t</div>\\n<br  id="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_BUTTONS.BREAK"  style="clear:both; " />\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: {',
'\t\t\taxis: \'y\',',
'\t\t\tstopPropogation: false,',
'\t\t\tpull: {',
'\t\t\t\ty: \'auto\',',
'\t\t\t\tx: \'auto\'',
'\t\t\t},',
'\t\t\tindicator: {',
'\t\t\t\tshow: true,',
'\t\t\t\th: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\tleft: \'0px\',',
'\t\t\t\t\tright: \'0px\'',
'\t\t\t\t},',
'\t\t\t\tv: {',
'\t\t\t\t\tshow: true,',
'\t\t\t\t\tlocation: \'right\',',
'\t\t\t\t\toffset: \'0px\',',
'\t\t\t\t\ttop: \'0px\',',
'\t\t\t\t\tbottom: \'0px\'',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:table; margin:auto;"><div \\tid="{UXPRERENDEREDALIAS}.V.R1.LEFT_BUTTONS"    \\t\\t\\tclass="A5CWLayout "  style="position: absolute; left: 2px; "  > <div class="A5CWLayout" style="width: " > \\t<button type="button" id="{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK1"    ></button> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> <div \\tid="{UXPRERENDEREDALIAS}.V.R1.CONTAINER_CENTER"    \\t\\t\\tclass="A5CWLayout "  style=""  > <div style="display: table; margin: auto;"> <div class="A5CWLayout" style="width: " > \\t<div id="{UXPRERENDEREDALIAS}.V.R1.STATICTEXT_PROFILE" title=""  class="iOS7Heading" style="text-shadow: 2px 2px #ccc; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >My Profile</div> </div> <div style="font: 0pt arial;clear:both;"></div> \\t</div> \\t</div> </div><div style="display:none;"></div>\',',
'\t\tshow: true',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t}',
'})',
'},',
'{',
'\tname: \'PANELCARD_LISTHIDDEN\',',
'\tsrc: new A5.PanelCard({',
'\ttheme: \'iOS7\',',
'\tbody: {',
'\t\tcontent: {',
'\t\t\ttype: \'html\',',
'\t\t\tsrc: \'<div class="A5CWLayout" style="width: 4in" >\\n\\t\\n<div  class="iOS7List"   style="padding:0px; "  >\\n\\t<div id="{UXPRERENDEREDALIAS}.V.R1.LISTHIDDEN.CONTROL"  class="{UXPRERENDEREDALIAS}_LISTHIDDEN" style="overflow: auto; width: 100%; height: 3in; "></div>\\n</div>\\n\\n</div><br  style="clear:both; " />\\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>\'',
'\t\t},',
'\t\tscroll: false,',
'\t\tstyle: \'display: none;\'',
'\t},',
'\theader: {',
'\t\thtml: \'<div style="display:none;"></div>\'',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tonSize: function() {;',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {var mObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LISTHIDDEN\'); if(mObj) mObj.refresh();}}',
'})',
'}',
'],{',
'\ttype: \'programmatic\',',
'\tflow: \'ltr\',',
'\tloopNavigate: false,',
'\tonPanelActivate: function() {{UXPRERENDEREDALIAS}_DlgObj.refreshClientSideComputations();},',
'\tonSize: function() {;if(typeof {UXPRERENDEREDALIAS}_DlgObj != \'undefined\') {',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule != \'undefined\') { ',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
'\t}',
'}},',
'\ttheme: \'iOS7\',',
'\theader: {',
'\t\tshow: false',
'\t},',
'\tfooter: {',
'\t},',
'\toverlay: {',
'\t},',
'\tcontrols: {',
'\t\tprev: {',
'\t\t\thas: false',
'\t\t},',
'\t\tnext: {',
'\t\t\thas: false',
'\t\t},',
'\t\tback: {',
'\t\t\thas: false',
'\t\t},',
'\t\tforward: {',
'\t\t\thas: false',
'\t\t}',
'\t},',
'\tbody: {',
'\t},',
'\tanimation: {',
'\t\ttype: \'fade\',',
'\t\tduration: 400',
'\t}',
'})',
'var ele = window[\'{UXPRERENDEREDALIAS}_PanelObj\'].create(\'{UXPRERENDEREDALIAS}.R1\');',
'\t\tvar panelRootId = \'{UXPRERENDEROUTPUTDIV}\';',
'\t\tvar flagSizeToParent = true;',
'\t\tvar wf_alias = \'{UXPRERENDEREDALIAS}\';',
'\t\tif(panelRootId != \'\') { ',
'\t\t\tif (!$(panelRootId)) panelRootId = \'\';',
'\t\t}',
'\t\tif(panelRootId != \'\') { ',
'\t\t\t$(panelRootId).appendChild(ele);',
'\t\t\tif(flagSizeToParent) { ',
'\t\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'parent\');',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tdocument.body.insertBefore(ele,document.body.firstChild);',
'\t\t\twindow[wf_alias + \'_PanelObj\'].bindSize(\'window\');',
'\t\t}',
'\tA5.u.drag.add(\'{UXPRERENDEREDALIAS}.V.R1.CONTAINER_BUTTONS\',\'scroll\',{axis: \'y\',theme: \'iOS7\',pull: {y: \'auto\',x: \'auto\'},indicator: {show: true,h: {show: true,location: \'right\',offset: \'0px\',left: \'0px\',right: \'0px\'},v: {show: true,location: \'right\',offset: \'0px\',top: \'0px\',bottom: \'0px\'}},stopPropogation: false});',
'{UXPRERENDEREDALIAS}_PanelObj._panelPath = {',
'\tPANELCARD_PROFILE: \'PANELCARD_PROFILE\',',
'\tPANELCARD_LISTHIDDEN: \'PANELCARD_LISTHIDDEN\'',
'}',
'{UXPRERENDEREDALIAS}_PanelObj._displayNames = {',
'PANELCARD_PROFILE : \'PANELCARD_PROFILE\',PANELCARD_LISTHIDDEN : \'PANELCARD_LISTHIDDEN\',PANELNAVIGATOR : \'PANELNAVIGATOR\'',
'};',
'if(typeof {UXPRERENDEREDALIAS}_DlgObj == \'object\') {UXPRERENDEREDALIAS}_DlgObj._destroy();',
'window[\'{UXPRERENDEREDALIAS}_DlgObj\'] = new A5.DialogComponentHelper(\'{UXPRERENDEREDALIAS}\',{',
'\tajaxURL: \'{UXPRERENDERAJAXURL}\',',
'\t_embeddedMode: false,',
'\t_livePreviewInBuilder: false,',
'\tcomponentGUID: \'5275eec5-1a83-4163-a89d-410ce881c5b6\',',
'\tcolumnInfo: {\'TRIALALERT\': {info: {controlType: \'Switch\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'FIRSTNAME\': {info: {controlType: \'TextBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'LASTNAME\': {info: {controlType: \'TextBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'POSTALCODE\': {info: {controlType: \'TextBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'N\'  },\'MAXIMUMTRAVEL\': {info: {controlType: \'ButtonList\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'N\'  },\'PRIMARYCONDITION\': {info: {controlType: \'DropdownBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'SECONDARYCONDITION\': {info: {controlType: \'DropdownBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'MEDICATIONS\': {info: {controlType: \'Textarea\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'EMAIL\': {info: {controlType: \'TextBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'MOBILENUMBER\': {info: {controlType: \'TextBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\', validate: function(data,colName,rowNum,instNum) {if(RegExp(\'.*[A-z].*\').test(data)) return \'Value cannot contain letters.\'; return true; }  },\'GENDER\': {info: {controlType: \'ButtonList\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'DATEOFBIRTH\': {info: {controlType: \'TextBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'D\'  },\'ADDRESS\': {info: {controlType: \'TextBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'CITY\': {info: {controlType: \'TextBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'COUNTRY\': {info: {controlType: \'DropDownBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'STATE\': {info: {controlType: \'DropDownBox\'}, hiddenVal: false, type: \'input,label\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  },\'LISTHIDDEN\': {info: {controlType: \'List\'}, hiddenVal: false, type: \'control\', isCalc: false, hlp: \'\', isArray: false, dataType: \'C\'  }},',
'\toriginalValues: [{',
'\t\'MAXIMUMTRAVEL\': \'5\',',
'\t\'TRIALALERT\': \'\',',
'\t\'FIRSTNAME\': \'\',',
'\t\'LASTNAME\': \'\',',
'\t\'POSTALCODE\': \'\',',
'\t\'PRIMARYCONDITION\': \'\',',
'\t\'SECONDARYCONDITION\': \'\',',
'\t\'MEDICATIONS\': \'\',',
'\t\'EMAIL\': \'\',',
'\t\'MOBILENUMBER\': \'\',',
'\t\'GENDER\': \'\',',
'\t\'DATEOFBIRTH\': \'\',',
'\t\'ADDRESS\': \'\',',
'\t\'CITY\': \'\',',
'\t\'COUNTRY\': \'\',',
'\t\'STATE\': \'\',',
'\t\'LISTHIDDEN\': \'\'',
'}],',
'\tdefaultValues: {',
'\tMAXIMUMTRAVEL: \'5\',',
'\tTRIALALERT: \'\',',
'\tFIRSTNAME: \'\',',
'\tLASTNAME: \'\',',
'\tPOSTALCODE: \'\',',
'\tPRIMARYCONDITION: \'\',',
'\tSECONDARYCONDITION: \'\',',
'\tMEDICATIONS: \'\',',
'\tEMAIL: \'\',',
'\tMOBILENUMBER: \'\',',
'\tGENDER: \'\',',
'\tDATEOFBIRTH: \'\',',
'\tADDRESS: \'\',',
'\tCITY: \'\',',
'\tCOUNTRY: \'\',',
'\tSTATE: \'\',',
'\tLISTHIDDEN: \'\'',
'},',
'\tdatePickerMonthNames: [\'January\',\'February\',\'March\',\'April\',\'May\',\'June\',\'July\',\'August\',\'September\',\'October\',\'November\',\'December\'],',
'\tdatePickerDayNames: [\'Sun\',\'Mon\',\'Tue\',\'Wed\',\'Thu\',\'Fri\',\'Sat\'],',
'\tdatePickerTodayButton: \'Today\',',
'\tdatePickerCloseButton: \'\',',
'\tdatePickerFirstDayOfWeek: 1,',
'\tresetFormMessage: \'Are you sure you want to reset the form?\',',
'\tresetFormTitle: \'Warning\',',
'\tresetFormIcon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\tdirtyFormMessage: \'You must first save your changes or cancel changes by clicking the Reset button.\',',
'\tdirtyFormTitle: \'Notice\',',
'\tdirtyFormIcon: \'cssIcon=iOS7Icon iOS7IconInfo\',',
'\tdeleteRecordDialogTitle: \'Delete Record\',',
'\tdeleteRecordDialogMessage: \'Are you sure you want to delete this record?\',\t',
'\tssDateFormat: \'MM/dd/yyyy\',',
'\tstyleName: \'iOS7\',',
'\t_fieldHelpers_DIALOG2: [],',
'\tparentComponentAlias: \'\'+go._thisGridAlias+\'\',',
'\tsubmitIfHasClientSideErrors: true, ',
'\trowErrors: {',
'\t\t\t\tshowMessageBox: false,',
'\t\t\t\tmessageBoxTitle: \'Error\',',
'\t\t\t\tstyle: \'color: red; width: 6in; height: 2in;\'',
'\t\t},',
'\tfieldErrors: {',
'\t\ttype: \'block\', ',
'\t\tclassName: \'errorText\',',
'\t\tinputClassName: \'iOS7EditError\',',
'\t\tedit: { ',
'\t\t\tcontainer: { className: \'iOS7EditBGError\'}',
'\t\t},',
'\t\ticon: \'cssIcon=iOS7Icon iOS7IconError\',',
'\t\tglobal: {',
'\t\t\tcontId: \'{UXPRERENDEREDALIAS}.GLOBALERRORS\',',
'\t\t\thoverClassName: \'errorTextHighlight\',',
'\t\t\thoverInputClassName: \'errorInputHighlight\'',
'\t\t}',
'\t},',
'\t\t_canAjaxCallback: function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.showWaitMessage(\'page\',{useCSSAnimation: true,cssAnimationSettings: {size: \'32\'}});',
'\t\t},',
'\t\t__afterAjaxCallbackComplete: function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.hideWaitMessage(\'page\');',
'\t\t}',
'\t});',
'{UXPRERENDEREDALIAS}_DlgObj._onOrientationChange =  function(e) { ;',
'{UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();',
';  };',
'A5.__componentObj = {UXPRERENDEREDALIAS}_DlgObj;',
'{UXPRERENDEREDALIAS}_DlgObj._tabObjects = [\'TAB_PROFILE\'];',
'window[\'{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILEObj\'] = new A5.Tab(\'{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILE\',[',
'{ \thtml: \'Profile\', \tvalue: \'1\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tshow: true, \tdisabled: false }, ',
'{ \thtml: \'Demographics\', \tvalue: \'2\', \tonDynamicLoadDelay: 0, \tpaneWidth: \'100%\', \tshow: true, \tdisabled: false }',
'],',
'\t{',
'\tanimation: {',
'\t\tshow: {',
'\t\t\ttype: \'fade\',',
'\t\t\tduration: \'slow\'',
'\t\t},',
'\t\thide: {',
'\t\t\ttype: \'None\',',
'\t\t\tduration: \'slow\'',
'\t\t}',
'\t},',
'\ttheme: \'iOS7\',',
'\tonChange: function() {',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_PROFILE\');}',
'}',
');',
'\twindow[\'{UXPRERENDEREDALIAS}.V.R1.TAB_PROFILEObj\'].select(\'1\');',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'FIRSTNAME\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'First Name\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'LASTNAME\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Last Name\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'POSTALCODE\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Postal Code\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'MEDICATIONS\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Medications\'',
'\t}',
'});',
'if(!{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'DATEOFBIRTH\']) {  {UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'DATEOFBIRTH\'] = new A5.EditDateTime({',
'\ttheme: \'iOS7\',',
'\tdateTime: {',
'\t\tformat: \'MM/dd/yyyy \',',
'\t\tdatePicker: {',
'\t\t\tdays: {UXPRERENDEREDALIAS}_DlgObj.datePickerDayNames,',
'\t\t\tmonths: {UXPRERENDEREDALIAS}_DlgObj.datePickerMonthNames,',
'\t\t\tstartDay: {UXPRERENDEREDALIAS}_DlgObj.datePickerFirstDayOfWeek-1,',
'\t\t\tcalendar: {',
'\t\t\t\tlockColumnWidth: false,',
'\t\t\t\tdaysOfWeek: {',
'\t\t\t\t\tshow: true',
'\t\t\t\t},',
'\t\t\t\tweeksOfYear: {',
'\t\t\t\t\tshow: false',
'\t\t\t\t}',
'\t\t\t},',
'\t\t\tnavigator: {',
'\t\t\t\theader: {',
'\t\t\t\t\ttodayButton: {',
'\t\t\t\t\t\tshow: true,',
'\t\t\t\t\t\thtml: {UXPRERENDEREDALIAS}_DlgObj.datePickerTodayButton,',
'\t\t\t\t\t\ttip: \'\'',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t},',
'\t\t\tdisabledDates: {',
'\t\t\t\tlow: \'\',',
'\t\t\t\thigh: \'\',',
'\t\t\t\tdays: []',
'\t\t\t}',
'\t\t},',
'\t\tswitchYear: 20',
'\t},',
'\twindow: {',
'\t\tautoGenerateButtons: false,',
'\t\tbuttons: {',
'\t\t\titems: [',
'\t\t\t\t{',
'\t\t\t\t\thtml: \'OK\',',
'\t\t\t\t\taction: \'commit\'',
'\t\t\t\t},',
'\t\t\t\t{',
'\t\t\t\t\thtml: \'Cancel\',',
'\t\t\t\t\taction: \'close\'',
'\t\t\t\t}\t\t\t',
']',
'\t\t}',
'\t},',
'\tonSelect: function() {$e.execute(this,\'change\');} ,',
'\tmultiple: {',
'\t\tallow: false',
'\t},',
'\tselectionRequired: false',
'});}',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'ADDRESS\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'Address\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.fieldHelpers[\'CITY\'] = new A5.Edit({',
'\twatermark: {',
'\t\ttext: \'City\'',
'\t}',
'});',
'{UXPRERENDEREDALIAS}_DlgObj.lookups = {',
'};',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({',
'\t__dialogGuid: \'31b9eb36-53e7-47ea-9eba-f9dd4926e2bc\',',
'\targumentsBoundToCotrols: \'\',',
'\t__sgr: \'\',',
'\t__dtfmt: \'MM/dd/yyyy\',',
'\t__tfmt: \'\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControls = [];',
'{UXPRERENDEREDALIAS}_DlgObj._cascadingControlsChildren = [];',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ });',
'A5.msgBox.theme = \'iOS7\';',
'A5.msgBox.buttonWidth = \'1in\';',
'{UXPRERENDEREDALIAS}_DlgObj._defaultWindowTitleDirection = \'ltr\';',
'{UXPRERENDEREDALIAS}_DlgObj._controlContainers = {\'TRIALALERT\' : [{ tab: \'TAB_PROFILE\', pane: 1}],\'FIRSTNAME\' : [{ tab: \'TAB_PROFILE\', pane: 1}],\'LASTNAME\' : [{ tab: \'TAB_PROFILE\', pane: 1}],\'POSTALCODE\' : [{ tab: \'TAB_PROFILE\', pane: 1}],\'MAXIMUMTRAVEL\' : [{ tab: \'TAB_PROFILE\', pane: 1}],\'PRIMARYCONDITION\' : [{ tab: \'TAB_PROFILE\', pane: 1}],\'SECONDARYCONDITION\' : [{ tab: \'TAB_PROFILE\', pane: 1}],\'MEDICATIONS\' : [{ tab: \'TAB_PROFILE\', pane: 1}],\'EMAIL\' : [{ tab: \'TAB_PROFILE\', pane: 2}],\'MOBILENUMBER\' : [{ tab: \'TAB_PROFILE\', pane: 2}],\'GENDER\' : [{ tab: \'TAB_PROFILE\', pane: 2}],\'DATEOFBIRTH\' : [{ tab: \'TAB_PROFILE\', pane: 2}],\'ADDRESS\' : [{ tab: \'TAB_PROFILE\', pane: 2}],\'CITY\' : [{ tab: \'TAB_PROFILE\', pane: 2}],\'COUNTRY\' : [{ tab: \'TAB_PROFILE\', pane: 2}],\'STATE\' : [{ tab: \'TAB_PROFILE\', pane: 2}]}',
'{UXPRERENDEREDALIAS}_DlgObj._panelCardControls = {',
'TRIALALERT:\'PANELCARD_PROFILE\',',
'FIRSTNAME:\'PANELCARD_PROFILE\',',
'LASTNAME:\'PANELCARD_PROFILE\',',
'POSTALCODE:\'PANELCARD_PROFILE\',',
'MAXIMUMTRAVEL:\'PANELCARD_PROFILE\',',
'PRIMARYCONDITION:\'PANELCARD_PROFILE\',',
'SECONDARYCONDITION:\'PANELCARD_PROFILE\',',
'MEDICATIONS:\'PANELCARD_PROFILE\',',
'EMAIL:\'PANELCARD_PROFILE\',',
'MOBILENUMBER:\'PANELCARD_PROFILE\',',
'GENDER:\'PANELCARD_PROFILE\',',
'DATEOFBIRTH:\'PANELCARD_PROFILE\',',
'ADDRESS:\'PANELCARD_PROFILE\',',
'CITY:\'PANELCARD_PROFILE\',',
'COUNTRY:\'PANELCARD_PROFILE\',',
'STATE:\'PANELCARD_PROFILE\',',
'LISTHIDDEN:\'PANELCARD_LISTHIDDEN\'',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._buttons = {};',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK1\'] = new A5.Button({',
'\tlayout: \'text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\thtml: \'Back\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7:left\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_SAVE\'] = new A5.Button({',
'\tlayout: \'icon text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\ttip: \'Save edits\',',
'\thtml: \'Save\',',
'\ticon: \'cssIcon=iOS7Icon iOS7IconSave\',',
'\tdisabledIcon: \'cssIcon=iOS7Icon iOS7IconDisabled iOS7IconSave\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_RESET\'] = new A5.Button({',
'\tlayout: \'icon text\',',
'\tstyle: \'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\',',
'\ttip: \'Undo edits to profile\',',
'\thtml: \'Reset\',',
'\ticon: \'cssIcon=iOS7Icon iOS7IconUndo\',',
'\tdisabledIcon: \'cssIcon=iOS7Icon iOS7IconDisabled iOS7IconUndo\',',
'\tonClick: function() { ',
'},',
'\ttheme: \'iOS7\'',
'});',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_BACK1\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK1\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_SAVE\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_SAVE\');',
'{UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_RESET\'].bind(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_RESET\');',
'{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LISTHIDDEN\'] = {',
'\t_dataSourceType: \'SQL\',',
'\t_listFields: [',
'\t{',
'\t\tname: \'FirstName\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'FirstName\\\');\'',
'\t},',
'\t{',
'\t\tname: \'LastName\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'LastName\\\');\'',
'\t},',
'\t{',
'\t\tname: \'Email\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Email\\\');\'',
'\t},',
'\t{',
'\t\tname: \'City\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'City\\\');\'',
'\t},',
'\t{',
'\t\tname: \'State\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'State\\\');\'',
'\t},',
'\t{',
'\t\tname: \'Country\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Country\\\');\'',
'\t},',
'\t{',
'\t\tname: \'Gender\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Gender\\\');\'',
'\t},',
'\t{',
'\t\tname: \'PostalCode\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'PostalCode\\\');\'',
'\t},',
'\t{',
'\t\tname: \'Address\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Address\\\');\'',
'\t},',
'\t{',
'\t\tname: \'Medications\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'Medications\\\');\'',
'\t},',
'\t{',
'\t\tname: \'PrimaryCondition\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'PrimaryCondition\\\');\'',
'\t},',
'\t{',
'\t\tname: \'SecondaryCondition\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'SecondaryCondition\\\');\'',
'\t},',
'\t{',
'\t\tname: \'MobileNumber\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'MobileNumber\\\');\'',
'\t},',
'\t{',
'\t\tname: \'MaximumTravel\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'MaximumTravel\\\');\'',
'\t},',
'\t{',
'\t\tname: \'DateOfBirth\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'DateOfBirth\\\');\'',
'\t},',
'\t{',
'\t\tname: \'ID\',',
'\t\tdefaultValue: \'return this._controlDefaultValueForListField(\\\'ID\\\');\'',
'\t}',
'],',
'\t_searchPartHas: false,',
'\t_mediaFields: [],',
'\t_mediaTypes: {',
'},',
'\t_phoneGap: {',
'\t\tmediaFiles: {',
'\t\t\tprotectedRead: false,',
'\t\t\ttarget: \'server\',',
'\t\t\ttargetFilenameFunction: \'return \\\'<DeviceId>_\\\' +e.object.listFieldName + \\\'_\\\' + A5.ts() + \\\'_\\\' +e.name\',',
'\t\t\tshowProgress: false,',
'\t\t\tdownload: {',
'\t\t\t\tautodownloadFilesOnPullSynch: false,',
'\t\t\t\tdeleteOrphansAfterSync: false,',
'\t\t\t\ttargetFolder: \'_AAFiles\',',
'\t\t\t\tshowProgress: false',
'\t\t\t},',
'\t\t\tonErrorFunction: function(array,fileNumber,error) { }',
'\t\t}',
'\t},',
'\t_dvmode: \'enter\',',
'\t_hasDetailView: true,',
'\t_noRecordInListIsSelectedSettingForDetailView: \'newrecord\',',
'\t_captureLocation: false,',
'\t_detailViewHas: true,',
'\t_submitLocationInfo: false,',
'\t_detailView: {',
'\t\tmethod: \'fieldMap\',',
'\t\tfieldMap: [',
'\t{',
'\t\tfield: \'FirstName\',',
'\t\tcontrol: \'FirstName\'',
'\t},',
'\t{',
'\t\tfield: \'LastName\',',
'\t\tcontrol: \'LastName\'',
'\t},',
'\t{',
'\t\tfield: \'Email\',',
'\t\tcontrol: \'Email\'',
'\t},',
'\t{',
'\t\tfield: \'City\',',
'\t\tcontrol: \'City\'',
'\t},',
'\t{',
'\t\tfield: \'State\',',
'\t\tcontrol: \'State\'',
'\t},',
'\t{',
'\t\tfield: \'Country\',',
'\t\tcontrol: \'Country\'',
'\t},',
'\t{',
'\t\tfield: \'Gender\',',
'\t\tcontrol: \'Gender\'',
'\t},',
'\t{',
'\t\tfield: \'PostalCode\',',
'\t\tcontrol: \'PostalCode\'',
'\t},',
'\t{',
'\t\tfield: \'Address\',',
'\t\tcontrol: \'Address\'',
'\t},',
'\t{',
'\t\tfield: \'Medications\',',
'\t\tcontrol: \'Medications\'',
'\t},',
'\t{',
'\t\tfield: \'PrimaryCondition\',',
'\t\tcontrol: \'PrimaryCondition\'',
'\t},',
'\t{',
'\t\tfield: \'SecondaryCondition\',',
'\t\tcontrol: \'SecondaryCondition\'',
'\t},',
'\t{',
'\t\tfield: \'MobileNumber\',',
'\t\tcontrol: \'MobileNumber\'',
'\t},',
'\t{',
'\t\tfield: \'MaximumTravel\',',
'\t\tcontrol: \'MaximumTravel\'',
'\t},',
'\t{',
'\t\tfield: \'DateOfBirth\',',
'\t\tcontrol: \'DateOfBirth\'',
'\t}',
']',
'\t},',
'\t_detailViewGlobalErrorStyle: \'font-family: Arial; font-size: 10pt; color: red; border: solid 1px red; width: 100%;\',',
'\t_autoCommitDetailView: true,',
'\t_synchBatchSize: 0,',
'\t_resetMediaFileUploadErrorsFlag: function(data) {',
'var r = A5.u.object.each(data,function(name,value,path,result){',
'\tif(name == \'_flagMediaFileUploadError\') {',
'\t\tresult.push({value: false, path: path})',
'\t}',
'});',
'for(var i = 0; i < r.length; i++) {',
'\tA5.u.object.set(data,r[i].path,r[i].value);',
'}',
'},',
'\ttheme: \'iOS7\',',
'\tscroll: {',
'\t\taxis: \'both\',',
'\t\tindicator: {',
'\t\t\tshow: true,',
'\t\t\th: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\tleft: \'0px\',',
'\t\t\t\tright: \'0px\'',
'\t\t\t},',
'\t\t\tv: {',
'\t\t\t\tshow: true,',
'\t\t\t\tlocation: \'right\',',
'\t\t\t\toffset: \'0px\',',
'\t\t\t\ttop: \'0px\',',
'\t\t\t\tbottom: \'0px\'',
'\t\t\t}',
'\t\t},',
'\t\tmomentum: {',
'\t\t\tallow: true',
'\t\t},',
'\t\tpull: {',
'\t\t\ty: \'auto\',',
'\t\t\tx: \'auto\'',
'\t\t}',
'\t},',
'\tlayout: \'Default\',',
'\tcalculateValue: function(data) {  {var _val = \'\' +data.__primaryKey; if((_val == \'\' ||  _val == \'undefined\'  )&& typeof data[\'*rowGUID\'] != \'undefined\') _val = \'_temporaryValue_\' + data[\'*rowGUID\']; return _val;}},',
'\tlistVariableName: \'LISTHIDDEN\',',
'\tlistVariableNameTrueCase: \'listHidden\',',
'\t_hostComponentId: \'{UXPRERENDEREDALIAS}\',',
'\t_includeCRC: true,',
'\tallParentLists: [],',
'\t__flagPersist: false,',
'\tonPopulate: function(data) {',
'if(this._data.length == 0 || typeof this.selection[0] == \'undefined\') {var lObj = this; setTimeout(function() {lObj.newDetailViewRecord()},10 ) }},',
'\tonBeforeUpdateRow: function(index,data){;},',
'\tonUpdateRow: function(index,data){;},',
'\tonBeforeAddRows: function(data,info){;},',
'\tonAddRows: function(data,info){;},',
'\tonBeforeRemoveRows: function(rows){;},',
'\tonRemoveRows: function(rows){;},',
'\tonListDraw: function(data,startIndex) {',
'if(A5.flags.isMobile) $e.add(this.contId+\'.CONTENT\',\'abstractdown\',function(e) {$e.preventDefault(e);});},',
'\tsynchronizeImmediately: false,',
'\tpushServerEditsToClient: false,',
'\tcustomization: {',
'\t\tdv: {',
'\t\t\tclientSideErrorWarning: \'Cannot save because there are validation errors.\',',
'\t\t\tdirtyDetailViewRecord: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'You must first save or undo the changes you have made to the List\\\'s Detail View.\'',
'\t\t\t},',
'\t\t\tconfirmFormResetWarning: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'Are you sure you want to undo changes made to the List\\\'s Detail View?\'',
'\t\t\t},',
'\t\t\tconfirmRowResetWarning: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'Are you sure you want to undo changes made to this record?\'',
'\t\t\t},',
'\t\t\tconfirmDeleteWarning: {',
'\t\t\t\ttitle: \'Warning\',',
'\t\t\t\ticon: \'cssIcon=iOS7Icon iOS7IconHelp\',',
'\t\t\t\tmessage: \'Are you sure you want to delete this record?\'',
'\t\t\t},',
'\t\t\twriteConflict: {',
'\t\t\t\tuseMineMessage: \'Use mine (\\\'{myvalue}\\\')\',',
'\t\t\t\tuseTheirsMessage: \'Use theirs (\\\'{theirvalue}\\\')\',',
'\t\t\t\tuseMineAll: \'Use mine for all fields\',',
'\t\t\t\tuseTheirsAll: \'Use theirs for all fields\'',
'\t\t\t},',
'\t\t\tdatabaseError: {',
'\t\t\t\tupdate: \'Record was not updated.|More...|Less\',',
'\t\t\t\tinsert: \'Record was not inserted.|More...|Less\',',
'\t\t\t\tdelete: \'Record was not deleted.|More...|Less\'',
'\t\t\t},',
'\t\t\tuseCustomClasses: false,',
'\t\t\tsetClassonEditedRows: true,',
'\t\t\tcss: {',
'\t\t\t}',
'\t\t}',
'\t},',
'\tonItemDraw: function(ele,data,index) {',
'\tvar _dirtyRowClassName = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_dirtyRow\';',
'\tvar _dirtyRowClassNameInherited = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_dirtyRowInherited\';',
'\tvar _dirtyRowStyle = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_dirtyRowStyle\';',
'\tvar _errorRowClassName = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_hasError\';',
'\tvar _errorRowClassNameInherited = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_hasErrorInherited _{UXPRERENDEREDALIAS}_LISTHIDDEN_dirtyRowInherited\';',
'\tvar _errorRowClassNameInherited_1 = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_hasErrorInherited\';',
'\tvar _errorRowClassNameInherited_2 = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_dirtyRowInherited\';',
'\tvar _errorRowStyle = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_hasErrorStyle\';',
'\tvar _newRowClassName = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_newRow\';',
'\tvar _newRowStyle = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_newRowStyle\';',
'\tvar _deletedRowClassName = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_deletedRow\';',
'\tvar _deletedRowStyle = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_deletedRowStyle\';',
'\tvar _deletedRowClassNameInherited = \'_{UXPRERENDEREDALIAS}_LISTHIDDEN_deletedRowInherited\';',
'\tvar __d = this._rData[index];',
'\t$rcn(ele,_dirtyRowClassName);',
'\t$rcn(ele,_dirtyRowClassNameInherited);',
'\t$rcn(ele,_dirtyRowStyle);',
'\t$rcn(ele,_errorRowClassName);',
'\t$rcn(ele,_errorRowClassNameInherited);',
'\t$rcn(ele,_errorRowClassNameInherited_1);',
'\t$rcn(ele,_errorRowClassNameInherited_2);',
'\t$rcn(ele,_errorRowStyle);',
'\t$rcn(ele,_newRowClassName);',
'\t$rcn(ele,_newRowStyle);',
'\t$rcn(ele,_deletedRowClassName);',
'\t$rcn(ele,_deletedRowStyle);',
'\tif(data._isDirty && typeof data._isDeleted != \'undefined\' && data._isDeleted) { ',
'\t\t$acn(ele,_deletedRowClassName);',
'\t\t$acn(ele,_deletedRowStyle);',
'\t\t__d.__displayStyle = \'deletedRow\';',
'\t} else if (data._isDirty && typeof data._oldData != \'undefined\' && !data._isNewRow ) { ',
'\t\t$acn(ele,_dirtyRowClassName);',
'\t\t$acn(ele,_dirtyRowStyle);',
'\t\t__d.__displayStyle = \'dirtyRow\';',
'\t} ',
'\tif(data._isDirty && typeof data._oldData == \'undefined\' && ! (data._isNewRow || data._isDeleted) ) { ',
'\t\t$acn(ele,_dirtyRowClassNameInherited);',
'\t\t$acn(ele,_dirtyRowStyle);',
'\t\t__d.__displayStyle = \'dirtyRowInherited\';',
'\t} ',
'\tif(data._isDeleted) { ',
'\t\t$acn(ele,_deletedRowClassName);',
'\t\t$acn(ele,_deletedRowStyle);',
'\t\t__d.__displayStyle = \'deletedRow\';',
'\t} ',
'\tif(data._isNewRow) { ',
'\t\t$acn(ele,_newRowClassName);',
'\t\t$acn(ele,_newRowStyle);',
'\t\t__d.__displayStyle = \'newRow\';',
'\t} ',
'\tvar flagHasGlobalErrors = false;',
'\tif(typeof data._globalErrors != \'undefined\') {',
'\t\tif( data._globalErrors != \'\')  flagHasGlobalErrors = true;',
'\t}',
'\tvar flagHasWriteConflictErrors = false;',
'\tif(typeof data._hasWriteConflictErrors) flagHasWriteConflictErrors = data._hasWriteConflictErrors',
'\tif(data._hasServerSideError || flagHasGlobalErrors || flagHasWriteConflictErrors) {',
'\t\t$acn(ele,_errorRowClassName);',
'\t\t$acn(ele,_errorRowStyle);',
'\t\t__d.__displayStyle = \'errorRow\';',
'\t} else { ',
'\t\tif(data._flagServerSideErrorInChild || data._flagWriteConflictErrorInChild || data._flagGlobalErrorInChild ){',
'\t\t\t if(!data._isNewRow) {',
'\t\t\t \t$acn(ele,_errorRowClassNameInherited);',
'\t\t\t\t __d.__displayStyle = \'errorRowInherited\';',
'\t\t\t} else {',
'\t\t\t\t__d.__displayStyle = \'newRow errorRowInherited\'; ',
'\t\t\t\t$acn(ele, _errorRowClassNameInherited_1);',
'\t\t\t}',
'\t\t}',
'\t}},',
'\tchildLists: [],',
'\tchildListEndpoints: [\'LISTHIDDEN\'],',
'\t_populateAllChildLists: function() { },',
'\tonSelect: function() {this.populateUXControls({ajaxCallback: true, listId: \'LISTHIDDEN\'});',
'this._selectedRow = this.selection[0];',
'{UXPRERENDEREDALIAS}_DlgObj._listRowSelect(\'listHidden\',this);',
'},',
'\tonBeforeSelect: function() {',
'\tvar c = this.childLists;',
'\tvar lObj = \'\';',
'\tif(typeof c != \'undefined\') { ',
'\t\tfor(var i = 0; i < c.length; i++) {',
'\t\t\tlObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(c[i]);',
'\t\t\tif(lObj) {',
'\t\t\t\tvar flag = lObj.onBeforeSelect();',
'\t\t\t\tif(typeof flag != \'undefined\') { ',
'\t\t\t\t\tif(!flag) return false;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dvmode == \'search\') return true;',
'\tif(!this._autoCommitDetailView) { ',
'\t\treturn this._showDirtyDetailViewWarning(); ',
'\t} else { ',
'\t\tif(this.detailViewIsDirty(true)) { ',
'\t\t\tvar result =  this.updateListFromUXControls();  ',
'\t\t\treturn result;',
'\t\t}',
'\t}},',
'\tonClick: function() {',
'{UXPRERENDEREDALIAS}_DlgObj._listSystemOnClick(\'LISTHIDDEN\',this.selection[0]);},',
'\tlayouts: {',
'\t\tDefault: {',
'\t\t\ttype: \'column\',',
'\t\t\tshowColumnTitles: true,',
'\t\t\titem: {',
'\t\t\t},',
'\t\t\tcolumns: [',
'\t\t\t\t{',
'\t\t\t\t\theader: {',
'\t\t\t\t\t\thtml: \'Id\',',
'\t\t\t\t\t\tstyle: \'text-align: right;\'',
'\t\t\t\t\t},',
'\t\t\t\t\tresize: false,',
'\t\t\t\t\tdata: {',
'\t\t\t\t\t\ttemplate: \'<span id="{UXPRERENDEREDALIAS}.LISTHIDDEN.ID.I.{*dataRow}">{ID}</span>&nbsp;\',',
'\t\t\t\t\t\tstyle: \'text-align: right;\'',
'\t\t\t\t\t},',
'\t\t\t\t\torder: \'ID\',',
'\t\t\t\t\twidth: \'flex(1)\'',
'\t\t\t\t},',
'\t\t\t\t{',
'\t\t\t\t\theader: {',
'\t\t\t\t\t\thtml: \'Firstname\'',
'\t\t\t\t\t},',
'\t\t\t\t\tresize: false,',
'\t\t\t\t\tdata: {',
'\t\t\t\t\t\ttemplate: \'<span id="{UXPRERENDEREDALIAS}.LISTHIDDEN.FIRSTNAME.I.{*dataRow}">{FirstName}</span>&nbsp;\'',
'\t\t\t\t\t},',
'\t\t\t\t\torder: \'FirstName\',',
'\t\t\t\t\twidth: \'flex(1)\'',
'\t\t\t\t}\t\t\t',
']',
'\t\t}',
'\t},',
'\tcontent: {',
'\t\theader: {',
'\t\t\tshow: false',
'\t\t},',
'\t\tfooter: {',
'\t\t\tshow: false',
'\t\t}',
'\t},',
'\tsystemEvents: {',
'\t\tonTap: function(e) {},',
'\t\tafterAjaxCallback: function(e) {},',
'\t\tafterClientSideFilter: function(e) {},',
'\t\tbeforeServerSideSort: function(e) {},',
'\t\tafterServerSideSort: function(e) {},',
'\t\tonSwipe: function(e) {},',
'\t\tonScroll: function(e) {},',
'\t\tonPullRelease: function(e) {},',
'\t\tonPull: function(e) {},',
'\t\tonPullEnd: function(e) {},',
'\t\tafterSearchComplete: function(e) {},',
'\t\tbeforeSearch: function(e) {},',
'\t\tonSearchResultTooLarge: function(e) {},',
'\t\tonSearchResultTooLargeForLocalStorage: function(e) {},',
'\t\tonBeforePersistToLocalStorage: function(e) {},',
'\t\tonPersistToLocalStorage: function(e) {},',
'\t\tonRestoreFromLocalStorage: function(e) {},',
'\t\tafterRenderComplete: function(e) {},',
'\t\tbeforeFetchMore: function(e) {},',
'\t\tafterFetchMore: function(e) {},',
'\t\tbeforePageNavigate: function(e) {},',
'\t\tafterPageNavigate: function(e) {},',
'\t\tbeforeRefreshRow: function(e) {},',
'\t\tafterRefreshRow: function(e) {},',
'\t\tafterServerSideSummaryCompute: function(summary) {},',
'\t\tdetailView: {',
'\t\t\tcanUpdateList: function(e) {},',
'\t\t\thasClientSideValidationErrors: function(e) {},',
'\t\t\tafterUpdateList: function(e) {},',
'\t\t\tcanSynchronizeList: function(e) {},',
'\t\t\tafterSynchronizeListBatch: function(e) {},',
'\t\t\tcanCancelBatch: function(e) {},',
'\t\t\tafterCancelBatch: function(e) {},',
'\t\t\tafterSynchronizeList: function(e) {},',
'\t\t\tbeforeSynchronizeListBatchStart: function(e) {},',
'\t\t\tafterSynchronizeListBatchEnd: function(e) {},',
'\t\t\tafterRefreshListIncremental: function(e) {},',
'\t\t\tcanResetRow: function(e) {},',
'\t\t\tcanDeleteRow: function(e) {},',
'\t\t\tcanUndoEdits: function(e) {},',
'\t\t\tafterResetRow: function(e) {},',
'\t\t\tafterDeleteRow: function(e) {},',
'\t\t\tafterUndoEdits: function(e) {},',
'\t\t\tcanNewRecord: function(e) {},',
'\t\t\tafterNewRecord: function(e) {},',
'\t\t\tafterDetailViewPopulate: function(e) {},',
'\t\t\tafterListRowSelectCancelled: function(e) {},',
'\t\t\tmodeChanged: function(e) {},',
'\t\t\tbeforeMediaFilesUploaded: function(e) {},',
'\t\t\tafterMediaFilesUploaded: function(e) {},',
'\t\t\tonMediaFilesUploadErrors: function(e) {},',
'\t\t\tbeforeMediaFilesDownloaded: function(e) {},',
'\t\t\tafterMediaFilesDownloaded: function(e) {},',
'\t\t\tbeforeDeleteOrphanMediaFiles: function(e) {},',
'\t\t\tafterDeleteOrphanMediaFiles: function(e) {}',
'\t\t},',
'\t\t_afterAjaxCallback: function() {this._refreshStateMessages();}',
'\t},',
'\t_clientsideSummary: [],',
'\tcomputeClientSideSummaryValues: function(e) {},',
'\t_executeEvent: function(event,obj) { ',
'\treturn {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LISTHIDDEN\',event,obj);',
'}',
',',
'\t_selectAll: function() {',
'\tvar v = this._values;',
'\tvar v2 = [].concat(v);',
'\tthis.setValue(v2,false);',
'}',
',',
'\tsearchList: function() { ',
'\tif(this._searchPartStyle == \'querybyform\') { ',
'\t\tif(this._dvmode != \'search\') return false;',
'\t}',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse {',
'\t\t\tif(this._dataSourceType.toLowerCase() == \'sql\' || this._dataSourceType.toLowerCase() == \'dbf\') {',
'\t\t\t\tmode = \'serverside\';',
'\t\t\t} else { ',
'\t\t\t\tmode = \'clientside\';',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'search\', searchWhere: mode, listIsDirty: flagDirty});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._searchListServerSide(obj);',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilter();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'search\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_searchListServerSide: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar _d={};',
'\tvar flagDirty = false;',
'\tif(this.listIsDirty) flagDirty = this.listIsDirty();',
'\tif(flagDirty) { ',
'\t\talert(\'Can\\\'t execute server-side search because List has edits that have not yet been synchronized.\');',
'\t\treturn false;',
'\t}',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t_data = _data + \'&\' + A5.ajax.buildURLParam(\'__searchOptions\',JSON.stringify(obj));',
'\tthis.filter = false;',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPart\',\'\',_data);',
'}',
',',
'\tclearSearchList: function() { ',
'\tvar obj = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar mode = \'serverSide\';',
'\tif(typeof obj.searchMode != \'undefined\') mode = obj.searchMode;',
'\tmode = mode.toLowerCase();',
'\tif(mode.indexOf(\'auto\') == 0) { ',
'\t\tif(this.listIsDirty()) mode = \'clientside\';',
'\t\telse mode = \'serverside\';',
'\t}',
'\tif(this._dataSourceType.toLowerCase() == \'static\') mode = \'clientside\';',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') {',
'\t\tif(parentList != \'\') mode = \'clientside\';',
'\t}',
'\tvar flagResult = {UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'beforeSearch\',{searchMode: \'clear\', searchWhere: mode});',
'\tif(!flagResult) return false;',
'\tif(mode == \'serverside\') {',
'\t\tthis._clearSearchListServerSide();',
'\t} else if(mode == \'clientside\') { ',
'\t\tthis._searchPartSubmit_clientSideFilterClear();',
'\t\tvar rowCount = this._rData.length;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(this.listVariableName,\'afterSearchComplete\',{searchMode: \'clear\', searchWhere: mode, recordsInQuery: rowCount});',
'\t}',
'}',
',',
'\t_clearSearchListServerSide: function() { ',
'\tvar _d={};',
'\t_d.listId = this.listVariableName',
'\tvar _data = A5.ajax.buildURLParam(\'__searchInfo\',JSON.stringify(_d));',
'\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:ListSearchPartClear\',\'\',_data);',
'}',
',',
'\t_str: function(txt) {',
'\ttxt = txt.replace("\'","\\\\\'");',
'\ttxt = \'\\\'\' + txt + \'\\\'\';',
'\treturn txt;',
'}',
',',
'\t_QBF: function(txt) { ',
'\tvar o = {};',
'\to.v2 = \'\';',
'\to.v1 = txt;',
'\to.flag = false;',
'\tif(txt.indexOf(\'>=\') >= 0) {',
'\t\to.op = \'>=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<=\') >= 0 ) { ',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'>\') >= 0 ) {',
'\t\to.op = \'>\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'<\') >= 0)  { ',
'\t\to.op = \'<\';',
'\t\to.v1 = txt.substr(1);',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') == 0)  {',
'\t\to.op = \'<=\';',
'\t\to.v1 = txt.substr(2);',
'\t\to.flag = true;',
'\t} else if ( txt.indexOf(\'..\', txt.length - \'..\'.length) !== -1 ) { ',
'\t\t//ends with ..',
'\t\to.op = \'>=\';',
'\t\ttxt = txt.split(\'..\')',
'\t\to.v1 = txt[0];',
'\t\to.flag = true;',
'\t} else if (txt.indexOf(\'..\') > 0 ) {',
'\t\to.op = \'between\'',
'\t\ttxt = txt.split(\'..\');',
'\t\to.v1 = txt[0];',
'\t\to.v2 = txt[1];',
'\t\to.flag = true;',
'\t}',
'\treturn o;',
'}',
',',
'\t_match: function(data,field,val,obj) { ',
'\tvar flagKeyword = false;',
'\tif(typeof obj.flagKeyword != \'undefined\') flagKeyword = obj.flagKeyword;',
'\tif(flagKeyword) { ',
'\t\tvar obj_i = this._searchFieldOptions[field.toUpperCase()];',
'\t\tthis._setSearchOps(obj,obj_i);',
'\t}',
'\tvar _d = \'\';',
'\tvar _v = val;',
'\tvar flagC = false;',
'\tif(obj.type == \'c\') {',
'\t\tflagC = true;',
'\t\tif(!obj.caseSensitive) _v = _v.toLowerCase();',
'\t} else { ',
'\t\t//non mumeric searches are only mode 1 or -1',
'\t\tif(obj.mode > 1) obj.mode = 1;',
'\t\tif(obj.mode < -1) obj.mode = -1;',
'\t}',
'\tvar flag = false;',
'\tobj.usesQBFOperator = false;',
'\tif(obj.qbf) { ',
'\t\t_v = _v.split(\',\');',
'\t} else {',
'\t\t_v = [_v];',
'\t}',
'\tvar o = {}',
'\tvar r = \'\';',
'\tvar _vals = [];',
'\tfor(var i = 0; i < _v.length; i++) { ',
'\t\tif(obj.qbf) {',
'\t\t\to = this._QBF(_v[i]);',
'\t\t} else {',
'\t\t\to.flag = false;',
'\t\t\to.v1 = _v[i];',
'\t\t\to.v2 = \'\';',
'\t\t}',
'\t\tif(typeof data[field] != \'undefined\') {',
'\t\t\tif(data[field] != null) { ',
'\t\t\t\t_d = data[field];',
'\t\t\t\tif(obj.type == \'n\') { ',
'\t\t\t\t\to.v1 = Number(o.v1);',
'\t\t\t\t\to.v2 = Number(o.v2);',
'\t\t\t\t\t_d = Number(_d);',
'\t\t\t\t} else if (obj.type == \'l\') { ',
'\t\t\t\t\to.v1 = $u.s.toBool(o.v1);',
'\t\t\t\t\to.v2 = $u.s.toBool(o.v2);',
'\t\t\t\t\t_d = $u.s.toBool(_d);',
'\t\t\t\t} else if (obj.type == \'d\') { ',
'\t\t\t\t\to.v1 = A5.stringToDate(o.v1,obj.dateFormat);',
'\t\t\t\t\to.v2 = A5.stringToDate(o.v2,obj.dateFormat);',
'\t\t\t\t\tif(typeof _d == \'string\') _d = A5.stringToDate(_d,obj.dateFormat);',
'\t\t\t\t\tif(o.v1 != \'\' && o.v1 != null ) o.v1 = o.v1.getTime();',
'\t\t\t\t\tif(o.v2 != \'\' && o.v2 != null ) o.v2 = o.v2.getTime();',
'\t\t\t\t\tif(_d != \'\' && _d != null ) _d = _d.getTime();',
'\t\t\t\t}',
'\t\t\t\tif(flagC) {if(!obj.caseSensitive && typeof _d == \'string\') _d = _d.toLowerCase();}',
'\t\t\t\tif(o.flag) { ',
'\t\t\t\t\t//has qbf operators',
'\t\t\t\t\tif(o.op == \'between\') {',
'\t\t\t\t\t\tif(flagC) {',
'\t\t\t\t\t\t\tif(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tif(flagC) _d = _d.substr(0,o.v1.length)',
'\t\t\t\t\t\tif(o.op == \'>=\') if( _d >= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<=\') if( _d <= o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'>\') if(_d > o.v1) flag = true;',
'\t\t\t\t\t\tif(o.op == \'<\') if(_d < o.v1) flag = true;',
'\t\t\t\t\t}',
'\t\t\t\t} else { ',
'\t\t\t\t\tif(obj.mode == 1 || obj.mode == -1 ) {',
'\t\t\t\t\t\tif(obj.mode == 1) if(_d == o.v1) flag = true;; //match',
'\t\t\t\t\t\tif(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match',
'\t\t\t\t\t} else if (obj.mode == 2 || obj.mode == -2) { ',
'\t\t\t\t\t\tif(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains',
'\t\t\t\t\t\tif(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;',
'\t\t\t\t\t} else if (obj.mode == 3 || obj.mode == -3) { ',
'\t\t\t\t\t\tif(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with',
'\t\t\t\t\t\tif(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v1 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v1) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v1);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(o.v2 != \'\') {',
'\t\t\t\t\tif(_vals.indexOf(o.v2) == -1) { ',
'\t\t\t\t\t\t_vals.push(o.v2);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(flag) { ',
'\t\tif(typeof this._state.highlight == \'undefined\') this._state.highlight = {};',
'\t\tthis._state.highlight[field.toUpperCase()] = _vals;',
'\t} else { ',
'\t\t//this._state.highlight[field.toUpperCase()] = [];',
'\t}',
'\treturn flag;',
'}',
',',
'\t_setSearchOps: function(obj,obj_i) { ',
'\tobj.mode = obj_i.option;',
'\tobj.qbf = obj_i.qbf;',
'\tobj.type = obj_i.type;',
'\t//obj.treatAs = obj_i.treatAs;',
'}',
',',
'\t_searchPartOperator: \'&&\',',
'\t_searchPartSubmit_clientSideFilter: function() { ',
'\tif(!this._searchPartHas) return true;',
'\t//_searchPartStyle: \'individualcontrols\'',
'\tthis._state.highlight = {};',
'\tif(this._searchPartStyle == \'singlekeywordcontrol\') { ',
'\t\tvar searchFor = {UXPRERENDEREDALIAS}_DlgObj.getValue(this._keywordSearchControl);',
'\t\tvar arr = this._keywordSearchFields;',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\t//obj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 1;',
'\t\tobj.flagKeyword = true;',
'\t\tvar objStr = JSON.stringify(obj)',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\texpn_i = \'this._match(data,\' +this._str(arr[i]) + \',\' + this._str(searchFor) + \',\'+objStr+\')\';',
'\t\t\texpn.push(expn_i);',
'\t\t}',
'\t\texpn = expn.join(\'||\');',
'\t\t//alert(expn);',
'\t} else if ( this._searchPartStyle == \'individualcontrols\' || this._searchPartStyle == \'querybyform\'  ) { ',
'\t\tvar map = this._searchPart.fieldMap;',
'\t\tvar val = \'\';',
'\t\tvar expn = [];',
'\t\tvar expn_i = \'\';',
'\t\tvar obj = {};',
'\t\tobj.caseSensitive = false;',
'\t\t//obj.qbf = true;',
'\t\t//obj.mode = 2;',
'\t\t//var objStr = JSON.stringify(obj)',
'\t\tvar ac = [];',
'\t\tvar aco = {};',
'\t\tvar _highlight = {};',
'\t\tif(this._searchPartStyle == \'individualcontrols\') {',
'\t\t\tfor(var i = 0; i < map.length; i++) { ',
'\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(map[i].control);',
'\t\t\t\tif(val != \'\') {',
'\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(map[i].field) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t} else if (this._searchPartStyle == \'querybyform\' ) { ',
'\t\t\tvar controlName = \'\';',
'\t\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\t\tif(controlName != \'\') {',
'\t\t\t\t\tval = {UXPRERENDEREDALIAS}_DlgObj.getValue(controlName);',
'\t\t\t\t\tif(val != \'\') {',
'\t\t\t\t\t\tobj_i = this._searchFieldOptions[map[i].field.toUpperCase()];',
'\t\t\t\t\t\tthis._setSearchOps(obj,obj_i);',
'\t\t\t\t\t\texpn_i = \'this._match(data,\' +this._str(this._listFields[i].name) + \',\' + this._str(val) + \',\'+JSON.stringify(obj)+\')\';',
'\t\t\t\t\t\texpn.push(expn_i);',
'\t\t\t\t\t\taco.control = controlName;',
'\t\t\t\t\t\taco.value = val;',
'\t\t\t\t\t\tac.push(aco);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis.__queryByFormValues = ac;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\t\t}\t',
'\t\tvar operator = \'&&\';',
'\t\tif(typeof this._searchPartOperator != \'undefined\') operator = this._searchPartOperator;',
'\t\texpn = expn.join(\' \'+operator+\' \');',
'\t} ',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = expn;',
'\t}',
'\t//user did not fill in any search fields',
'\tif(expn == \'\') return true;',
'\tvar fnTxt = \'if(\' + expn + \') {return true;} else { return false;}\'',
'\tvar searchFunction = new Function(\'data\',fnTxt);',
'\tthis.setFilter(searchFunction);',
'\tif(this._rData.length > 0) this.setValue(0);',
'}',
',',
'\t_searchPartSubmit_clientSideFilterClear: function() { ',
'if(!this._searchPartHas) return true;',
'\tthis._state.highlight = {};',
'\tthis.setFilter(false);',
'\tvar map = this._searchPart.fieldMap;',
'\tvar val = \'\';',
'\tvar od = {UXPRERENDEREDALIAS}_DlgObj.originalValues[0];',
'\tfor(var i = 0; i < map.length; i++) {',
'\t\tvar val = od[map[i].control.toUpperCase()];',
'\t\tif(typeof val != \'undefined\') {UXPRERENDEREDALIAS}_DlgObj.setValue(map[i].control,val,false);',
'\t}',
'\tthis.setFilter(false);',
'\tdelete this.__queryByFormValues;',
'\t{UXPRERENDEREDALIAS}_DlgObj._setDVClean(this);',
'\tif(this._data.length > 0) this.setValue(0);',
'\tif (this._showSearchDebugInfo) {',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\' + this._searchDebugPH);',
'\t\tif(ele) ele.innerHTML = \'\';',
'\t}',
'}',
',',
'\t_debugListData: function() { \t\tvar debugObj = this._data[this.selection[0]];',
'\t\tif(typeof debugObj == \'undefined\') {alert(\'no active row\'); return false;}',
'\t\t\tvar debugTxt = JSON.stringify(debugObj,\'\',\'\\t\'); ',
'\t\tdebugTxt = debugTxt.split(\'\\t\').join(\'    \'); ',
'\t\tvar ele = $(\'{UXPRERENDEREDALIAS}.V.R1.\'); ',
'\t\tif(ele) {',
'\t\t\tele.innerHTML = \'<div style="color: blue;width: 100%; height: 100%;white-space: pre;border: solid 1px blue; padding: 2px;"></div>\';',
'\t\t\tele.firstChild.innerText = debugTxt; ',
'\t\t\tif(ele.firstChild.innerHTML == \'\')  { ele.firstChild.innerHTML = debugTxt }      ',
'\t\t}',
'},',
'\t_refreshDebugInfo: function() {},',
'\t_showSQL_CRUD: function(txt) { },',
'\t_globalErrorPlaceHolder: \'PLACEHOLDER_ERRORS\',',
'\tflagShowAlerts: true,',
'\tlookupValue: function(key,name,keyValue) {\tvar _d = this._data;',
'\tvar indx = A5FindPropInArray(_d,key,keyValue);',
'\tvar rv = \'\';',
'\tif(indx >=0) {',
'\t\tif(name == \'__rowData__\') return _d[indx];',
'\t\trv =  _d[indx][name];',
'\t} else {',
'\t\t//null out all properties in row',
'\t\tvar _d2 = {};',
'\t\tif(typeof _d[0] == \'undefined\') { return {}} ;',
'\t\tfor(var n in _d[0]) {',
'\t\t\t_d2[n] = \'&nbsp;\';',
'\t\t}',
'\t\trv = _d2;',
'\t}',
'\treturn rv;',
'}',
',',
'\tallowNullSelection: false,',
'\tallowNullDeselection: false,',
'\tloopNavigate: false,',
'\tloopNavigateNullSelection: false,',
'\trefreshChildLists: function() {{UXPRERENDEREDALIAS}_DlgObj._listRefreshCascadingLists(\'LISTHIDDEN\'); },',
'\trowExpander: function(rowNumber) { ',
'\tvar mode = typeof arguments[2] != \'undefined\' ? arguments[2] : \'toggle\';',
'\tif(typeof rowNumber == \'undefined\' || rowNumber == \'\' ) {',
'\t\trowNumber = this.selection[0];',
'\t\tif(typeof rowNumber == \'undefined\') return false;',
'\t}',
'\tvar animObj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\tvar ele = $(this._hostComponentId + \'.\' + this.listVariableName + \'.ROWEXPANDER.\' + rowNumber);',
'\tif(ele) {',
'\t\tif(mode == \'toggle\') A5.u.element.toggle(ele,animObj);',
'\t\tif(mode == \'show\') A5.u.element.show(ele,animObj);',
'\t\tif(mode == \'hide\') A5.u.element.hide(ele,animObj);',
'\t}',
'}',
',',
'\tafterClientSideSummaryCompute: function(csSummary) { },',
'\tselectCurrentLayout: function(name) { ',
'var pl = this.layouts[name];',
'if(typeof pl == \'undefined\') return false;',
'this.setLayout(name);',
'if(pl.type == \'column\') {',
'\tthis.columnLayout.header.show = this.layouts[name].showColumnTitles; ',
'\tthis.refresh();',
'}',
'},',
'\tonFilter: function() { \tvar e = {}; ',
'\te.rowCount = this._values.length;  ',
'\tvar ele = $(\'{UXPRERENDEREDALIAS}.__listId__.RECORDCOUNT\'); ',
'\tif(ele) {ele.innerHTML = e.rowCount;}; ',
'\tif(this.persistToStorage) { this.persistToStorage({});} ',
'\t(function(e) {   })(e);',
'}',
',',
'\tserverSideSort: function(column) {',
'var e = {};',
'e.column = column;',
'var result = this.systemEvents.beforeServerSideSort(e);',
'if(result == false) return false;',
'var obj = {};',
'obj.cmd = \'sort\';',
'obj.column = column;',
'obj.layoutName = this.layout;',
'obj.listState = this._state;',
'var data = \'_listId=LISTHIDDEN&\' + A5.ajax.buildURLParam(\'_cmdObj\',$u.o.toJSON(obj));',
'{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',\'system:listServerSideSort\',\'\',data);',
'},',
'\tfilterListClientSide: function(searchFor) {',
'//var result = this.systemEvents.beforeClientSideFilter();',
'//if(result == false) return false;',
'if(searchFor != \'\') {',
'\t//fixes bug in Chrome when searching on dates strings that use forward slashes',
'\tsearchFor = searchFor.replace(/\\//g,\'\\\\/\');',
'\tthis.setFilter({\'FirstName\': RegExp(\'\' + searchFor,\'i\'), \'LastName\': RegExp(\'\' + searchFor,\'i\'), \'Email\': RegExp(\'\' + searchFor,\'i\'), \'City\': RegExp(\'\' + searchFor,\'i\'), \'State\': RegExp(\'\' + searchFor,\'i\'), \'Country\': RegExp(\'\' + searchFor,\'i\'), \'Gender\': RegExp(\'\' + searchFor,\'i\'), \'PostalCode\': RegExp(\'\' + searchFor,\'i\'), \'Address\': RegExp(\'\' + searchFor,\'i\'), \'Medications\': RegExp(\'\' + searchFor,\'i\'), \'PrimaryCondition\': RegExp(\'\' + searchFor,\'i\'), \'SecondaryCondition\': RegExp(\'\' + searchFor,\'i\'), \'MobileNumber\': RegExp(\'\' + searchFor,\'i\'), \'MaximumTravel\': RegExp(\'\' + searchFor,\'i\'), \'DateOfBirth\': RegExp(\'\' + searchFor,\'i\'), \'ID\': RegExp(\'\' + searchFor,\'i\')});',
'} else this.setFilter(false);',
'var rowCount = this._values.length;',
'//var e = {};',
'//e.rowCount = rowCount;',
'//this.systemEvents.afterClientSideFilter(e);',
'var ele = $(\'{UXPRERENDEREDALIAS}.listHidden.RECORDCOUNT\');',
'if(ele) ele.innerHTML = rowCount;',
'}',
',',
'\tscrollToClosestValue: function(val) { \t',
'\tif(typeof val != \'string\') val = val.join(\'\');',
'\tvar flagCI = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\tvar pos = typeof arguments[2] != \'undefined\' ? arguments[2] : \'top\';',
'\tvar anim = typeof arguments[3] != \'undefined\' ? arguments[3] : {}',
'\tvar _d = this._rData;',
'\tvar len = val.length;',
'\tvar _d2;',
'\tvar i2 = -1;',
'\tif(flagCI) val = val.toLowerCase();',
'\tfor(var i = 0 ; i < _d.length; i++) {',
'\t\ti2 = i;',
'\t\t_d2 = String(_d[i][\'*value\']);',
'\t\t_d2 = _d2.substr(0,len);',
'\t\t_d2 = $u.s.pad(_d2,len,\' \',\'l\');',
'\t\tif(flagCI) _d2 = _d2.toLowerCase();',
'\t\tif(val <= _d2){',
'\t\t\t break;',
'\t\t}',
'\t}',
'\tif(i2 > -1) { ',
'\t\tthis.scrollToItem(i2,{mode: pos, animation: anim});',
'\t}',
'}',
',',
'\t_refreshStateMessages: function() {',
'\tvar ele = \'\';',
'\tele = $(\'{UXPRERENDEREDALIAS}.LISTHIDDEN.PAGENUMBER\');',
'\tif(ele) ele.innerHTML = this._state.page;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LISTHIDDEN.PAGECOUNT\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;',
'\tele = $(\'{UXPRERENDEREDALIAS}.LISTHIDDEN.PAGECOUNT.PAGESELECTOR\');',
'\tif(ele) ele.innerHTML = this._state.pageCount;\t',
'\tele = $(\'{UXPRERENDEREDALIAS}.LISTHIDDEN.LISTSTATE\');',
'\tif(ele) {',
'\t\tvar listState = $u.o.toJSON(this._state);',
'\t\tele.innerHTML = listState;',
'\t}',
'\t//navigation buttons\t',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_NEXT.LISTHIDDEN\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_LAST.LISTHIDDEN\'];',
'\tif(ele) {',
'\t\tif(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_FIRST.LISTHIDDEN\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = {UXPRERENDEREDALIAS}_DlgObj._buttons[\'BUTTON_LISTNAV_PREV.LISTHIDDEN\'];',
'\tif(ele) {',
'\t\tif(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);',
'\t\telse ele.setDisabled(false);',
'\t}',
'\tele = $(\'{UXPRERENDEREDALIAS}.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LISTHIDDEN\');',
'\tif(ele) {',
'\t\tvar data = this._recordNavigatorLinks;',
'\t\tif(data) A5.form.populateSelect(ele,this._state.page,data,true);',
'\t}',
'}',
',',
'\t_getRoute: function() { ',
'\tvar obj  = typeof arguments[1] != \'undefined\' ? arguments[1] : [];',
'\tvar mode = typeof arguments[0] != \'undefined\' ? arguments[0] : \'rowNumber\'; //',
'\tif(typeof this.selection[0] == \'undefined\') return false;',
'\tif(typeof this.getData(this.selection[0]) == \'undefined\') return false;',
'\tif(mode == \'rowNumber\') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])[\'*key\']});',
'\telse obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tif(lObj) lObj._getRoute(mode,obj);',
'\t}',
'\treturn obj;',
'}',
',',
'\t_setRoute: function(route) { ',
'\tif(typeof route == \'undefined\') { ',
'\t\troute = this.__currentRoute;',
'\t\tif(typeof route == \'undefined\') return false;',
'\t}',
'\tvar lObj = \'\';',
'\tvar row = \'\';',
'\tfor(var i = 0; i < route.length; i++) {',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(route[i].list);',
'\t\trow = route[i].row;',
'\t\tvar flag = typeof this._restoringList != \'undefined\' ? !this._restoringList : true;',
'\t\tif(typeof row != \'undefined\') {',
'\t\t\tvar rowFixed = \'\';',
'\t\t\tif(typeof lObj._dataMap == \'undefined\') return false;',
'\t\t\t//var msg = JSON.stringify(lObj._dataMap);',
'\t\t\t//alert(\'route[i].row:\' + route[i].row + \' ------ \' + msg);',
'\t\t\trowFixed = lObj._dataMap.indexOf(route[i].row);',
'\t\t\tlObj.setValue(rowFixed,flag);',
'\t\t\tif(this._clearServerSideErrors) this._clearServerSideErrors();',
'\t\t\tif(this._showServerSideErrors) this._showServerSideErrors();',
'\t\t\tif(this._showWriteConflictErrors) this._showWriteConflictErrors();',
'\t\t}',
'\t}',
'}',
',',
'\t_useServerSideSyncLog: false,',
'\t_searchHighlighting: false',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LISTHIDDEN\'] = [];',
';',
'{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ \t__dialogGuid: \'31b9eb36-53e7-47ea-9eba-f9dd4926e2bc\', \t__dtfmt: \'MM/dd/yyyy\' });',
'{UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'MAXIMUMTRAVEL\'] = [{html: \'5\',value: \'5\',tip: \'\'},{html: \'10\',value: \'10\',tip: \'\'},{html: \'20\',value: \'20\',tip: \'\'},{html: \'30\',value: \'30\',tip: \'\'},{html: \'50\',value: \'50\',tip: \'\'},{html: \'100\',value: \'100\',tip: \'\'},{html: \'ANY\',value: \'ANY\',tip: \'\'}];',
'{UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'GENDER\'] = [{html: \'Male\',value: \'Male\',tip: \'\'},{html: \'Female\',value: \'Female\',tip: \'\'}];',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'LISTHIDDEN\'] =  { type: \'list\',  data: {UXPRERENDEREDALIAS}_DlgObj._listViewData[\'LISTHIDDEN\'],  settings: {UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LISTHIDDEN\'] }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'TRIALALERT\'] = { type: \'switch\',  settings:  {theme: \'iOS7\',flow: \'ltr\',text: {on: \'Yes\',off: \'No\'},values: {on: \'on\',off: \'off\'}} }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'MAXIMUMTRAVEL\'] = { type: \'buttonList\', data: {UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'MAXIMUMTRAVEL\'],  settings:  {theme: \'iOS7\',button: {layout: \'text\',pressedClassName: \'iOS7ButtonDDPressed\',keepPressed: true},allowNullSelection: \'auto\'} }',
'{UXPRERENDEREDALIAS}_DlgObj._controls[\'GENDER\'] = { type: \'buttonList\', data: {UXPRERENDEREDALIAS}_DlgObj._buttonListData[\'GENDER\'],  settings:  {theme: \'iOS7\',button: {layout: \'text\',keepPressed: true},allowNullSelection: \'auto\'} }',
'{UXPRERENDEREDALIAS}_DlgObj.setVariables({});',
'{UXPRERENDEREDALIAS}_DlgObj._dataBoundControls = [\'FIRSTNAME\',\'LASTNAME\',\'POSTALCODE\',\'MAXIMUMTRAVEL\',\'PRIMARYCONDITION\',\'SECONDARYCONDITION\',\'MEDICATIONS\',\'EMAIL\',\'MOBILENUMBER\',\'GENDER\',\'DATEOFBIRTH\',\'ADDRESS\',\'CITY\',\'COUNTRY\',\'STATE\'];',
'{UXPRERENDEREDALIAS}_DlgObj._primaryTableAlias = \'PEOPLE\';',
'{UXPRERENDEREDALIAS}_DlgObj._listControlsInfo = {};',
'{UXPRERENDEREDALIAS}_DlgObj._functions.__fillContainer_LISTHIDDEN = function() { ',
'\tvar path = {UXPRERENDEREDALIAS}_PanelObj._panelPath[\'PANELCARD_LISTHIDDEN\'];',
'\tif(typeof path != \'undefined\') {',
'\t\tvar panel = {UXPRERENDEREDALIAS}_PanelObj.getPanel(path);',
'\t\tvar id = panel.src.getPanelId(\'body\');',
'\t} else {',
'\t\tvar id = {UXPRERENDEREDALIAS}_PanelObj.getPanelId(\'body\');',
'\t}',
'\t//removing scrolling from the PanelBody since we will be obliterating the Panel with a control that fills the body',
'\tif($(id + \'.SCROLLWRAPPER\')) { ',
'\t\tA5.u.drag.remove(id,\'scroll\');',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj._listViewSettings[\'LISTHIDDEN\'].containerId = id;',
'\t//blow away any existing content in the panel',
'\t$(id).innerHTML = \'\';',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._functions.__fillContainer_LISTHIDDEN();',
'{UXPRERENDEREDALIAS}_DlgObj._hasPanels = true;',
'{UXPRERENDEREDALIAS}_DlgObj._hasOnSynchronizeEvent = false;',
'A5.__dtfmt = \'MM/dd/yyyy\';A5.__tfmt = \'\';',
'A5.__flagWorkingPreview = false;',
'A5.__flagIIS = false;',
'A5.__flagSimulateIIS = true;',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation = function() { ',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj == \'undefined\') return \'\';',
'\tvar orientation = {UXPRERENDEREDALIAS}_DlgObj.getOrientation();',
'\tif( orientation == \'landscape\') {',
'\t\t\t//landscape',
'\t\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'landscape\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'landscape\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'landscape\'});',
'\t\t\t}',
'\t} else {',
'\t\t//portrait',
'\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != \'portrait\') {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\t',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = \'portrait\';',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onOrientationChange\',{orientation: \'portrait\'});',
'\t\t\t}',
'\t}',
'}',
'\tA5.flags.cordovaLoaded = true;',
'\ttry {',
'\t\tdocument.addEventListener(\'deviceready\', function() { ',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onCordovaReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onPhoneGapReady\',{});',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj._cordovaReady = true;',
'\t\t\tnavigator.geolocation.getAccuratePosition = function(geolocationSuccess, geolocationError, options) {',
'\tvar _lastCheckedPosition = null;',
'\tvar _locationEventCount = 0;',
'\toptions = options || {};',
'\toptions.context = this;',
'    function _checkLocation(pos) {',
'        _lastCheckedPosition = pos;',
'        _locationEventCount++;',
'        if ((pos.coords.accuracy <= options.desiredAccuracy) && (_locationEventCount > options.ignoreResultCount)) {',
'            clearTimeout(_timerID);',
'            navigator.geolocation.clearWatch(_watchID);',
'            _foundPosition(pos);',
'        } ',
'    }',
'    function _stopLocationCheck() {',
'    \t var error = {};',
'    \t error.code = 0;',
'    \t error.message = \'Timeout: No results\';',
'        navigator.geolocation.clearWatch(_watchID);',
'        _lastCheckedPosition ? _foundPosition(_lastCheckedPosition) : geolocationError.call(options.context,error);',
'    }',
'    function _onError(error) {',
'        clearTimeout(_timerID);',
'        navigator.geolocation.clearWatch(_watchID);',
'        geolocationError.call(options.context,error);',
'    }',
'    function _foundPosition(pos) {',
'        geolocationSuccess.call(options.context,pos);',
'    }',
'    if (!options.maxWait) {            ',
'    \toptions.maxWait = 10000; ',
'    }\t',
'    if (!options.desiredAccuracy) {',
'    \t  options.desiredAccuracy = 20; ',
'    }',
'    if (!options.timeout) {',
'        options.timeout = options.maxWait;',
'\t }',
'\t if (!options.ignoreResultCount) {',
'\t \t\toptions.ignoreResultCount = 1;',
'\t }',
'    options.maximumAge = 0; ',
'    options.enableHighAccuracy = true; ',
'    var _watchID = navigator.geolocation.watchPosition(_checkLocation, _onError, options);',
'    var _timerID = setTimeout(_stopLocationCheck, options.maxWait); ',
'}',
'\t\t} , false);\t',
'\t}',
'\tcatch(err) {}',
'{UXPRERENDEREDALIAS}_DlgObj._waitGif = \'css/A5System/Images/wait.gif\';',
'var EXIF=(function(){var debug=false;var ExifTags={0x9000:"ExifVersion",0xA000:"FlashpixVersion",0xA001:"ColorSpace",0xA002:"PixelXDimension",0xA003:"PixelYDimension",0x9101:"ComponentsConfiguration",0x9102:"CompressedBitsPerPixel",0x927C:"MakerNote",0x9286:"UserComment",0xA004:"RelatedSoundFile",0x9003:"DateTimeOriginal",0x9004:"DateTimeDigitized",0x9290:"SubsecTime",0x9291:"SubsecTimeOriginal",0x9292:"SubsecTimeDigitized",0x829A:"ExposureTime",0x829D:"FNumber",0x8822:"ExposureProgram",0x8824:"SpectralSensitivity",0x8827:"ISOSpeedRatings",0x8828:"OECF",0x9201:"ShutterSpeedValue",0x9202:"ApertureValue",0x9203:"BrightnessValue",0x9204:"ExposureBias",0x9205:"MaxApertureValue",0x9206:"SubjectDistance",0x9207:"MeteringMode",0x9208:"LightSource",0x9209:"Flash",0x9214:"SubjectArea",0x920A:"FocalLength",0xA20B:"FlashEnergy",0xA20C:"SpatialFrequencyResponse",0xA20E:"FocalPlaneXResolution",0xA20F:"FocalPlaneYResolution",0xA210:"FocalPlaneResolutionUnit",0xA214:"SubjectLocation",0xA215:"ExposureIndex",0xA217:"SensingMethod",0xA300:"FileSource",0xA301:"SceneType",0xA302:"CFAPattern",0xA401:"CustomRendered",0xA402:"ExposureMode",0xA403:"WhiteBalance",0xA404:"DigitalZoomRation",0xA405:"FocalLengthIn35mmFilm",0xA406:"SceneCaptureType",0xA407:"GainControl",0xA408:"Contrast",0xA409:"Saturation",0xA40A:"Sharpness",0xA40B:"DeviceSettingDescription",0xA40C:"SubjectDistanceRange",0xA005:"InteroperabilityIFDPointer",0xA420:"ImageUniqueID"};var TiffTags={0x0100:"ImageWidth",0x0101:"ImageHeight",0x8769:"ExifIFDPointer",0x8825:"GPSInfoIFDPointer",0xA005:"InteroperabilityIFDPointer",0x0102:"BitsPerSample",0x0103:"Compression",0x0106:"PhotometricInterpretation",0x0112:"Orientation",0x0115:"SamplesPerPixel",0x011C:"PlanarConfiguration",0x0212:"YCbCrSubSampling",0x0213:"YCbCrPositioning",0x011A:"XResolution",0x011B:"YResolution",0x0128:"ResolutionUnit",0x0111:"StripOffsets",0x0116:"RowsPerStrip",0x0117:"StripByteCounts",0x0201:"JPEGInterchangeFormat",0x0202:"JPEGInterchangeFormatLength",0x012D:"TransferFunction",0x013E:"WhitePoint",0x013F:"PrimaryChromaticities",0x0211:"YCbCrCoefficients",0x0214:"ReferenceBlackWhite",0x0132:"DateTime",0x010E:"ImageDescription",0x010F:"Make",0x0110:"Model",0x0131:"Software",0x013B:"Artist",0x8298:"Copyright"};var GPSTags={0x0000:"GPSVersionID",0x0001:"GPSLatitudeRef",0x0002:"GPSLatitude",0x0003:"GPSLongitudeRef",0x0004:"GPSLongitude",0x0005:"GPSAltitudeRef",0x0006:"GPSAltitude",0x0007:"GPSTimeStamp",0x0008:"GPSSatellites",0x0009:"GPSStatus",0x000A:"GPSMeasureMode",0x000B:"GPSDOP",0x000C:"GPSSpeedRef",0x000D:"GPSSpeed",0x000E:"GPSTrackRef",0x000F:"GPSTrack",0x0010:"GPSImgDirectionRef",0x0011:"GPSImgDirection",0x0012:"GPSMapDatum",0x0013:"GPSDestLatitudeRef",0x0014:"GPSDestLatitude",0x0015:"GPSDestLongitudeRef",0x0016:"GPSDestLongitude",0x0017:"GPSDestBearingRef",0x0018:"GPSDestBearing",0x0019:"GPSDestDistanceRef",0x001A:"GPSDestDistance",0x001B:"GPSProcessingMethod",0x001C:"GPSAreaInformation",0x001D:"GPSDateStamp",0x001E:"GPSDifferential"};var StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0x0000:"Flash did not fire",0x0001:"Flash fired",0x0005:"Strobe return light not detected",0x0007:"Strobe return light detected",0x0009:"Flash fired, compulsory flash mode",0x000D:"Flash fired, compulsory flash mode, return light not detected",0x000F:"Flash fired, compulsory flash mode, return light detected",0x0010:"Flash did not fire, compulsory flash mode",0x0018:"Flash did not fire, auto mode",0x0019:"Flash fired, auto mode",0x001D:"Flash fired, auto mode, return light not detected",0x001F:"Flash fired, auto mode, return light detected",0x0020:"No flash function",0x0041:"Flash fired, red-eye reduction mode",0x0045:"Flash fired, red-eye reduction mode, return light not detected",0x0047:"Flash fired, red-eye reduction mode, return light detected",0x0049:"Flash fired, compulsory flash mode, red-eye reduction mode",0x004D:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",0x004F:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",0x0059:"Flash fired, auto mode, red-eye reduction mode",0x005D:"Flash fired, auto mode, return light not detected, red-eye reduction mode",0x005F:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function imageHasData(img){return!!(img.exifdata)}function findEXIFinJPEG(file){if(file.getByteAt(0)!=0xFF||file.getByteAt(1)!=0xD8){return false}var offset=2,length=file.getLength(),marker;while(offset<length){if(file.getByteAt(offset)!=0xFF){if(debug)console.log("Not a valid marker at offset "+offset+", found: "+file.getByteAt(offset));return false}marker=file.getByteAt(offset+1);if(marker==22400){if(debug)console.log("Found 0xFFE1 marker");return readEXIFData(file,offset+4,file.getShortAt(offset+2,true)-2)}else if(marker==225){if(debug)console.log("Found 0xFFE1 marker");return readEXIFData(file,offset+4,file.getShortAt(offset+2,true)-2)}else{offset+=2+file.getShortAt(offset+2,true)}}}function readTags(file,tiffStart,dirStart,strings,bigEnd){var entries=file.getShortAt(dirStart,bigEnd),tags={},entryOffset,tag,i;for(i=0;i<entries;i++){entryOffset=dirStart+i*12+2;tag=strings[file.getShortAt(entryOffset,bigEnd)];if(!tag&&debug)console.log("Unknown tag: "+file.getShortAt(entryOffset,bigEnd));tags[tag]=readTagValue(file,entryOffset,tiffStart,dirStart,bigEnd)}return tags}function readTagValue(file,entryOffset,tiffStart,dirStart,bigEnd){var type=file.getShortAt(entryOffset+2,bigEnd),numValues=file.getLongAt(entryOffset+4,bigEnd),valueOffset=file.getLongAt(entryOffset+8,bigEnd)+tiffStart,offset,vals,val,n,numerator,denominator;switch(type){case 1:case 7:if(numValues==1){return file.getByteAt(entryOffset+8,bigEnd)}else{offset=numValues>4?valueOffset:(entryOffset+8);vals=[];for(n=0;n<numValues;n++){vals[n]=file.getByteAt(offset+n)}return vals}case 2:offset=numValues>4?valueOffset:(entryOffset+8);return file.getStringAt(offset,numValues-1);case 3:if(numValues==1){return file.getShortAt(entryOffset+8,bigEnd)}else{offset=numValues>2?valueOffset:(entryOffset+8);vals=[];for(n=0;n<numValues;n++){vals[n]=file.getShortAt(offset+2*n,bigEnd)}return vals}case 4:if(numValues==1){return file.getLongAt(entryOffset+8,bigEnd)}else{vals=[];for(var n=0;n<numValues;n++){vals[n]=file.getLongAt(valueOffset+4*n,bigEnd)}return vals}case 5:if(numValues==1){numerator=file.getLongAt(valueOffset,bigEnd);denominator=file.getLongAt(valueOffset+4,bigEnd);val=new Number(numerator/denominator);val.numerator=numerator;val.denominator=denominator;return val}else{vals=[];for(n=0;n<numValues;n++){numerator=file.getLongAt(valueOffset+8*n,bigEnd);denominator=file.getLongAt(valueOffset+4+8*n,bigEnd);vals[n]=new Number(numerator/denominator);vals[n].numerator=numerator;vals[n].denominator=denominator}return vals}case 9:if(numValues==1){return file.getSLongAt(entryOffset+8,bigEnd)}else{vals=[];for(n=0;n<numValues;n++){vals[n]=file.getSLongAt(valueOffset+4*n,bigEnd)}return vals}case 10:if(numValues==1){return file.getSLongAt(valueOffset,bigEnd)/file.getSLongAt(valueOffset+4,bigEnd)}else{vals=[];for(n=0;n<numValues;n++){vals[n]=file.getSLongAt(valueOffset+8*n,bigEnd)/file.getSLongAt(valueOffset+4+8*n,bigEnd)}return vals}}}function readEXIFData(file,start){if(file.getStringAt(start,4)!="Exif"){if(debug)console.log("Not valid EXIF data! "+file.getStringAt(start,4));return false}var bigEnd,tags,tag,exifData,gpsData,tiffOffset=start+6;if(file.getShortAt(tiffOffset)==0x4949){bigEnd=false}else if(file.getShortAt(tiffOffset)==0x4D4D){bigEnd=true}else{if(debug)console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)");return false}if(file.getShortAt(tiffOffset+2,bigEnd)!=0x002A){if(debug)console.log("Not valid TIFF data! (no 0x002A)");return false}if(file.getLongAt(tiffOffset+4,bigEnd)!=0x00000008){if(debug)console.log("Not valid TIFF data! (First offset not 8)",file.getShortAt(tiffOffset+4,bigEnd));return false}tags=readTags(file,tiffOffset,tiffOffset+8,TiffTags,bigEnd);if(tags.ExifIFDPointer){exifData=readTags(file,tiffOffset,tiffOffset+tags.ExifIFDPointer,ExifTags,bigEnd);for(tag in exifData){switch(tag){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":exifData[tag]=StringValues[tag][exifData[tag]];break;case"ExifVersion":case"FlashpixVersion":exifData[tag]=String.fromCharCode(exifData[tag][0],exifData[tag][1],exifData[tag][2],exifData[tag][3]);break;case"ComponentsConfiguration":exifData[tag]=StringValues.Components[exifData[tag][0]]+StringValues.Components[exifData[tag][1]]+StringValues.Components[exifData[tag][2]]+StringValues.Components[exifData[tag][3]];break}tags[tag]=exifData[tag]}}if(tags.GPSInfoIFDPointer){gpsData=readTags(file,tiffOffset,tiffOffset+tags.GPSInfoIFDPointer,GPSTags,bigEnd);for(tag in gpsData){switch(tag){case"GPSVersionID":gpsData[tag]=gpsData[tag][0]+"."+gpsData[tag][1]+"."+gpsData[tag][2]+"."+gpsData[tag][3];break}tags[tag]=gpsData[tag]}}return tags}function getData(img,callback){if(!img.complete)return false;if(!imageHasData(img)){getImageData(img,callback)}else{if(callback){callback.call(img)}}return true}function getTag(img,tag){if(!imageHasData(img))return;return img.exifdata[tag]}function getAllTags(img){if(!imageHasData(img))return{};var a,data=img.exifdata,tags={};for(a in data){if(data.hasOwnProperty(a)){tags[a]=data[a]}}return tags}function pretty(img){if(!imageHasData(img))return"";var a,data=img.exifdata,strPretty="";for(a in data){if(data.hasOwnProperty(a)){if(typeof data[a]=="object"){if(data[a]instanceof Number){strPretty+=a+" : "+data[a]+" ["+data[a].numerator+"/"+data[a].denominator+"]\\r\\n"}else{strPretty+=a+" : ["+data[a].length+" values]\\r\\n"}}else{strPretty+=a+" : "+data[a]+"\\r\\n"}}}return strPretty}function readFromBinaryFile(file){return findEXIFinJPEG(file)}function BinaryFile(strData,iDataOffset,iDataLength){var data=strData;var dataOffset=iDataOffset||0;var dataLength=0;this.getRawData=function(){return data};if(typeof strData=="string"){dataLength=iDataLength||data.length;this.getByteAt=function(iOffset){return data.charCodeAt(iOffset+dataOffset)&0xFF};this.getBytesAt=function(iOffset,iLength){var aBytes=[];for(var i=0;i<iLength;i++){aBytes[i]=data.charCodeAt((iOffset+i)+dataOffset)&0xFF}return aBytes}}else if(typeof strData=="unknown"){dataLength=iDataLength||IEBinary_getLength(data);this.getByteAt=function(iOffset){return IEBinary_getByteAt(data,iOffset+dataOffset)};this.getBytesAt=function(iOffset,iLength){return new VBArray(IEBinary_getBytesAt(data,iOffset+dataOffset,iLength)).toArray()}}this.getLength=function(){return dataLength};this.getSByteAt=function(iOffset){var iByte=this.getByteAt(iOffset);if(iByte>127)return iByte-256;else return iByte};this.getShortAt=function(iOffset,bBigEndian){var iShort=bBigEndian?(this.getByteAt(iOffset)<<8)+this.getByteAt(iOffset+1):(this.getByteAt(iOffset+1)<<8)+this.getByteAt(iOffset);if(iShort<0)iShort+=65536;return iShort};this.getSShortAt=function(iOffset,bBigEndian){var iUShort=this.getShortAt(iOffset,bBigEndian);if(iUShort>32767)return iUShort-65536;else return iUShort};this.getLongAt=function(iOffset,bBigEndian){var iByte1=this.getByteAt(iOffset),iByte2=this.getByteAt(iOffset+1),iByte3=this.getByteAt(iOffset+2),iByte4=this.getByteAt(iOffset+3);var iLong=bBigEndian?(((((iByte1<<8)+iByte2)<<8)+iByte3)<<8)+iByte4:(((((iByte4<<8)+iByte3)<<8)+iByte2)<<8)+iByte1;if(iLong<0)iLong+=4294967296;return iLong};this.getSLongAt=function(iOffset,bBigEndian){var iULong=this.getLongAt(iOffset,bBigEndian);if(iULong>2147483647)return iULong-4294967296;else return iULong};this.getStringAt=function(iOffset,iLength){var aStr=[];var aBytes=this.getBytesAt(iOffset,iLength);for(var j=0;j<iLength;j++){aStr[j]=String.fromCharCode(aBytes[j])}return aStr.join("")};this.getCharAt=function(iOffset){return String.fromCharCode(this.getByteAt(iOffset))};this.toBase64=function(){return window.btoa(data)};this.fromBase64=function(strBase64){data=window.atob(strBase64)}}return{findEXIFinJPEG:findEXIFinJPEG,pretty:pretty,getTag:getTag,getAllTags:getAllTags,getData:getData,Tags:ExifTags,TiffTags:TiffTags,GPSTags:GPSTags,StringValues:StringValues,BinaryFile:BinaryFile}})();',
'(function(){function detectSubsampling(img){var iw=img.naturalWidth,ih=img.naturalHeight;if(iw*ih>1024*1024){var canvas=document.createElement(\'canvas\');canvas.width=canvas.height=1;var ctx=canvas.getContext(\'2d\');ctx.drawImage(img,-iw+1,0);return ctx.getImageData(0,0,1,1).data[3]===0}else{return false}}function detectVerticalSquash(img,iw,ih){var canvas=document.createElement(\'canvas\');canvas.width=1;canvas.height=ih;var ctx=canvas.getContext(\'2d\');ctx.drawImage(img,0,0);var data=ctx.getImageData(0,0,1,ih).data;var sy=0;var ey=ih;var py=ih;while(py>sy){var alpha=data[(py-1)*4+3];if(alpha===0){ey=py}else{sy=py}py=(ey+sy)>>1}var ratio=(py/ih);return(ratio===0)?1:ratio}function renderImageToDataURL(img,options){var canvas=document.createElement(\'canvas\');renderImageToCanvas(img,canvas,options);return canvas.toDataURL("image/jpeg",options.quality||0.8)}function renderImageToCanvas(img,canvas,options){var iw=img.naturalWidth,ih=img.naturalHeight;var width=options.width,height=options.height;var ctx=canvas.getContext(\'2d\');ctx.save();transformCoordinate(canvas,width,height,options.orientation);var subsampled=detectSubsampling(img);if(subsampled){iw/=2;ih/=2}var d=1024;var tmpCanvas=document.createElement(\'canvas\');tmpCanvas.width=tmpCanvas.height=d;var tmpCtx=tmpCanvas.getContext(\'2d\');var vertSquashRatio=detectVerticalSquash(img,iw,ih);var dw=Math.ceil(d*width/iw);var dh=Math.ceil(d*height/ih/vertSquashRatio);var sy=0;var dy=0;while(sy<ih){var sx=0;var dx=0;while(sx<iw){tmpCtx.clearRect(0,0,d,d);tmpCtx.drawImage(img,-sx,-sy);ctx.drawImage(tmpCanvas,0,0,d,d,dx,dy,dw,dh);sx+=d;dx+=dw}sy+=d;dy+=dh}ctx.restore();tmpCanvas=tmpCtx=null}function transformCoordinate(canvas,width,height,orientation){switch(orientation){case 5:case 6:case 7:case 8:canvas.width=height;canvas.height=width;break;default:canvas.width=width;canvas.height=height}var ctx=canvas.getContext(\'2d\');switch(orientation){case 2:ctx.translate(width,0);ctx.scale(-1,1);break;case 3:ctx.translate(width,height);ctx.rotate(Math.PI);break;case 4:ctx.translate(0,height);ctx.scale(1,-1);break;case 5:ctx.rotate(0.5*Math.PI);ctx.scale(1,-1);break;case 6:ctx.rotate(0.5*Math.PI);ctx.translate(0,-height);break;case 7:ctx.rotate(0.5*Math.PI);ctx.translate(width,-height);ctx.scale(-1,1);break;case 8:ctx.rotate(-0.5*Math.PI);ctx.translate(-width,0);break;default:break}}function MegaPixImage(srcImage){if(srcImage instanceof Blob){var img=new Image();var URL=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!URL){throw Error("No createObjectURL function found to create blob url");}img.src=URL.createObjectURL(srcImage);srcImage=img}if(!srcImage.naturalWidth&&!srcImage.naturalHeight){var _this=this;srcImage.onload=function(){var listeners=_this.imageLoadListeners;if(listeners){_this.imageLoadListeners=null;for(var i=0,len=listeners.length;i<len;i++){listeners[i]()}}};this.imageLoadListeners=[]}this.srcImage=srcImage}MegaPixImage.prototype.render=function(target,options){if(this.imageLoadListeners){var _this=this;this.imageLoadListeners.push(function(){_this.render(target,options)});return}options=options||{};var imgWidth=this.srcImage.naturalWidth,imgHeight=this.srcImage.naturalHeight,width=options.width,height=options.height,maxWidth=options.maxWidth,maxHeight=options.maxHeight;if(width&&!height){height=(imgHeight*width/imgWidth)<<0}else if(height&&!width){width=(imgWidth*height/imgHeight)<<0}else{width=imgWidth;height=imgHeight}if(maxWidth&&width>maxWidth){width=maxWidth;height=(imgHeight*width/imgWidth)<<0}if(maxHeight&&height>maxHeight){height=maxHeight;width=(imgWidth*height/imgHeight)<<0}var opt={width:width,height:height};for(var k in options)opt[k]=options[k];var tagName=target.tagName.toLowerCase();if(tagName===\'img\'){target.src=renderImageToDataURL(this.srcImage,opt)}else if(tagName===\'canvas\'){renderImageToCanvas(this.srcImage,target,opt)}if(typeof this.onrender===\'function\'){this.onrender(target)}};if(typeof define===\'function\'&&define.amd){define([],function(){return MegaPixImage})}else{this.MegaPixImage=MegaPixImage}})();',
'/*',
'Copyright (c) 2001, 2013 Alpha Software Corporation',
'All Rights Reserved.',
'This Javascript library is licensed exclusively for use with Alpha Anywhere, Alpha Five,',
'Alpha Five Application Server, Alpha Anywhere Application Server,',
'Alpha Five Run Engine, and Alpha Anywhere Run Engine. It is specifically',
'not licensed for use on a server that does not have installed on it a',
'licensed copy of the Alpha Five Application Server or the Alpha Anywhere Application Server.',
'*/',
'\t{UXPRERENDEREDALIAS}_DlgObj.imageCaptureUsingCamera = function(options) {',
'\t\toptions.specialMode = \'callback\';',
'\t\tthis.detailViewImageCapture(options);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewImageCapture = function(options) {',
'\t\tif(typeof options.specialMode == \'undefined\') options.specialMode = \'detailview\';',
'\t\tvar flagPhoneGapLoaded = false;',
'\t\tvar flagUseCordova = false;',
'\t\tif (typeof window[\'cordova\'] != \'undefined\') {',
'\t\t\tflagPhoneGapLoaded = true;',
'\t\t\tif(options.captureMethod == \'phonegappreferred\' || options.captureMethod == \'phonegap\') {',
'\t\t\t\tflagUseCordova = true;',
'\t\t\t}',
'\t\t}',
'\t\tif(options.captureMethod == \'phonegap\' && flagPhoneGapLoaded == false) {',
'\t\t\talert(\'PhoneGap not available\'); return false;',
'\t\t}',
'\t\tif(!flagUseCordova) {',
'\t\t\tthis.detailViewImageCaptureHTML5(options);',
'\t\t} else {',
'\t\t\tthis.detailViewImageCapturePhoneGap(options);',
'\t\t}',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewImageCaptureHTML5 = function(options) {',
'\t\tif(typeof options.specialMode == \'undefined\') options.specialMode = \'detailview\';',
'\t\tif(options.onBeforeCaptureJavascript) {',
'\t\t\tvar result = options.onBeforeCaptureJavascript.call();',
'\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\tif(!result) return false;',
'\t\t\t}',
'\t\t}',
'\t\tif(A5.flags.isAndroid == false) {',
'\t\t\tif(A5.flags.isIPhone || A5.flags.isIPad){',
'\t\t\t\tif (typeof A5.flags.iOSVersion != \'undefined\') {',
'\t\t\t\t\tvar majorNum = A5.flags.iOSVersion.split(\'.\')[0];',
'\t\t\t\t\tif(parseInt(majorNum) < 6) {',
'\t\t\t\t\t\talert(\'HTML5 camera access not supported on this version of iOS\');',
'\t\t\t\t\t\treturn false;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(A5.u.css.supportsTransition == false) {',
'\t\t\talert(\'Browser does not support HTML5 camera access\');',
'\t\t\treturn false;',
'\t\t}',
'\t\tif(typeof options.resizePolicyHTML5 == \'undefined\') options.resizePolicyHTML5 = \'Always\';',
'\t\toptions.resizePolicyHTML5 = options.resizePolicyHTML5.toLowerCase();',
'\t\tif(options.resizePolicyHTML5 != \'always\') {',
'\t\t\tvar maxSize = 99999999999;',
'\t\t\tif(typeof options.maxImageSizeHTML5 != \'undefined\') maxSize = Number(options.maxImageSizeHTML5);',
'\t\t}',
'\t\t//if(typeof options.resizeImageHTML5 == \'undefined\') options.resizeImageHTML5 = true;',
'\t\tvar ops = {};',
'\t\tops.dialogObj = this;',
'\t\tif(options.specialMode == \'callback\' ) {',
'\t\t\toptions.controlName = \'\';',
'\t\t}',
'\t \tops.targetImage = options.controlName;',
'\t \tops.targetImage = ops.targetImage.toUpperCase();',
'\t \tops.html5 = {};',
'\t \tops.html5.resizeFlag = options.resizeImageHTML5;',
'\t \tops.html5.compressionFactor = options.imageCompressionHTML5;',
'\t \tops.html5.maxWidth = options.maxImageWidth;',
'\t \tops.html5.maxHeight = options.maxImageHeight;',
'\t \tops.fieldPrefix = this.dialogId + \'.V.R1\';',
'\t \tops.imageFieldName = (ops.fieldPrefix + \'.\' + ops.targetImage).toUpperCase();',
'\t \tops.hiddenFileName =  (ops.fieldPrefix + \'.\' + ops.targetImage + \'_HIDDENA5FN\').toUpperCase();',
' \t\tops.handleFileSelect = function(evt) {',
'\t\t\t// creates a FileList object',
'\t\t\tvar files = evt.target.files;',
'\t\t\t// Even if multiple files are presented, only the first file will be uploaded.',
'\t\t\tif (!files.length){',
'\t\t\t\t// alerts should be ok here when fired by a timer',
'\t\t\t\tsetTimeout(function(){',
'\t\t\t\t\t//alert(\'<a5:r>No files selected.</a5:r>\');',
'\t\t\t\t},50);',
'\t\t\t\treturn false;',
'\t\t\t} else {',
'\t\t\t\t// we\'re processing only 1 file at this point',
'\t\t\t\tvar f = files[0];',
'\t\t\t\tops.updateImage(f);',
'\t\t\t}',
'\t\t}',
'\t\t$e.removeGroup(\'__detailViewImageCapture\')',
'\t\t$e.add($(this.dialogId + \'._GETPHOTO\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__detailViewImageCapture\');',
'\t\tops.updateImage = function(_thisFile) {',
'\t\t\tvar _sourceFileName = _thisFile.name;',
'\t\t\tvar _thisImageName = ops.imageFieldName;',
'\t\t\tvar _thisImage = $(_thisImageName);',
'\t\t\tvar reader = new FileReader();',
'\t\t\treader.onload = function(e) {',
'\t\t\t\tvar flagResize = false;',
'\t\t\t\tif(options.resizePolicyHTML5 == \'always\') {',
'\t\t\t\t\tflagResize = true;',
'\t\t\t\t} else {',
'\t\t\t\t\tif(e.target.result.length > maxSize) {',
'\t\t\t\t\t\tflagResize = true;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(!flagResize) {',
'\t\t\t\t\t//not resizing',
'\t\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t\t_thisImage.src = e.target.result;',
'\t\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\t\tif(eleH) eleH.src = _thisImage.src;',
'\t\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\t\t$sa(eleH,\'a5imageSourceName\',_sourceFileName);',
'\t\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t\t\tif(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : e.target.result});',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\toptions.onCaptureJavascript.call(this, {data : e.target.result});',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\t//resizing',
'\t\t\t\t\tif(options.displaySpinnerWhileResizingImage) {',
'\t\t\t\t\t\t_thisImage.src = options.spinnerURI.replace(/\\|/gi,\'/\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _orientation = ops.parseExifOrientation(e.target.result);',
'\t\t\t\t\tops.renderImgToCanvas(_thisFile,_orientation,_sourceFileName);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\treader.onerror = function(e) {',
'\t\t\t\tsetTimeout(function(){',
'\t\t\t\talert(\'<a5:r>Error reading file.</a5:r>\');',
'\t\t\t\t},0);',
'\t\t\t}',
'\t\t\treader.readAsDataURL(_thisFile);',
'\t\t}',
'\t\tops.parseExifOrientation = function(dataUrl) {',
'\t\t\ttry {',
'\t\t\t\tvar _byteString = atob(dataUrl.split(\',\')[1]);',
'\t\t\t\tvar _binaryFile = new EXIF.BinaryFile(_byteString, 0, _byteString.length);',
'\t\t\t\tvar _exif = EXIF.findEXIFinJPEG(_binaryFile);',
'\t\t\t\t// Store EXIF orientation (if available) in data property.',
'\t\t\t\tif (_exif && _exif[\'Orientation\']) {',
'\t\t\t\t\treturn _exif[\'Orientation\'];',
'\t\t\t\t} else {',
'\t\t\t\t\treturn null;',
'\t\t\t\t}',
'\t\t\t} catch (e) {',
'\t\t\t\t// Error parsing EXIF data.',
'\t\t\t\tconsole.log(\'Error loading EXIF data\', e);',
'\t\t\t}',
'\t\t}',
'\t\tops.renderImgToCanvas = function(_file,_orientation,_sourceFileName) {',
'\t\t\t// using megapix-image.js here which handles(?) sub-sampling issue with large images and Canvas on iOS6 Safari',
'\t\t\tvar mpImg = new MegaPixImage(_file);',
'\t\t\tmpImg.onrender = function(){',
'\t\t\t\t// this timeout required to ensure _thisCanvas render complete',
'\t\t\t\tsetTimeout(function(){',
'\t\t\t\t\tvar dataURL = _thisCanvas.toDataURL(\'image/jpeg\', ops.html5.compressionFactor);',
'\t\t\t\t\t//alert(\'html5 size after resizing image:\' + dataURL.length);',
'\t\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t\tvar ele = $(ops.imageFieldName);',
'\t\t\t\t\t\t//put the scaled image in the element',
'\t\t\t\t\t\tele.src = dataURL;',
'\t\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\t\tif(eleH) eleH.src = dataURL;',
'\t\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\t\t$sa(eleH,\'a5imageSourceName\',_sourceFileName);',
'\t\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t\t\tif(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : dataURL});',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\toptions.onCaptureJavascript.call(this, {data : dataURL});',
'\t\t\t\t\t}',
'\t\t\t\t},0);',
'\t\t\t}',
'\t\t\tvar _thisCanvas = document.createElement(\'canvas\');',
'\t\t\tvar ctx = _thisCanvas.getContext(\'2d\');',
'\t\t\t// adjust based on extracted _orientation',
'\t\t\tif (_orientation) {',
'\t\t\t\tmpImg.render(_thisCanvas,{maxWidth: ops.html5.maxWidth, maxHeight:ops.html5.maxHeight, orientation:_orientation});',
'\t\t\t} else {',
'\t\t\t\tmpImg.render(_thisCanvas,{maxWidth: ops.html5.maxWidth, maxHeight:ops.html5.maxHeight});',
'\t\t\t}',
'\t\t}',
'\t\t//click the hidden image control',
'\t\tvar ele = $(this.dialogId + \'._GETPHOTO\');',
'\t\tif (ele) {',
'\t\t\tele.value = \'\';',
'\t\t\tele.click();',
'\t\t}',
'\t}',
'\t/////\\\\\\\\\\',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewVideoCapturePhoneGap = function(opsIn) {',
'\t\t//ops.fieldPrefix = this.dialogId + \'.V.R1\';',
'\t\t//ops.videoFieldName = (ops.fieldPrefix + \'.\' + ops.controlName).toUpperCase();',
'\t\topsIn.dialogObj = this;',
'\t\tvar options = opsIn.options;',
'\t\tvar onSuccess = function(mediaFiles) { var e = {filename: mediaFiles[0].fullPath};',
'\t\t\tvar e_filename = e.filename;',
'\t\t\tif(e_filename.indexOf(\'file:\') != 0) {',
'\t\t\t\te_filename = e_filename.replace(\'/private\',\'file:\\/\\/\');',
'\t\t\t}',
'\t\t\tif(e_filename.indexOf(\'file:\') != 0 && e_filename.indexOf(\'.wav\') > 0) {',
'\t\t\t\te_filename = \'file:\\/\\/\' + e_filename;',
'\t\t\t\t//alert(e_filename);',
'\t\t\t}',
'\t\t\topsIn.dialogObj.setValue(opsIn.controlName,e_filename);',
'\t\t\t//var ele = $(ops.imageFieldName);',
'\t\t\t//if(ele) ele.src = thisImageURL;',
'\t\t\t//var eleH = $(ops.hiddenFileName);',
'\t\t\t//if(eleH) eleH.src = thisImageURL;',
'\t\t\t//$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\topsIn.dialogObj.refreshClientSideComputations();',
'\t\t};',
'\t\tvar onFailed = function() {',
'\t\t};',
'\t\tvar flagAudio = false;',
'\t\tif(typeof opsIn.audio != \'undefined\') flagAudio = opsIn.audio;',
'\t\tif(!flagAudio) {',
'\t\t\tnavigator.device.capture.captureVideo(onSuccess,onFailed,options);',
'\t\t} else {',
'\t\t\t//alert(\'audio\');',
'\t\t\t//debugger;',
'\t\t\tvar options = { limit: 1, duration: 10 };',
'\t\t\t//navigator.device.capture.captureAudio(captureSuccess, captureError, options);',
'\t\t\t//navigator.device.capture.captureAudio(onSuccess,onFailed,options);',
'\t\t\tvar _media = {',
'\t\t\t\trecorder: null,',
'\t\t\t\trecFile: \'myaudio/myrecording3.amr\'  //if device.platform is \'Android\' then use .amr, otherwise .wav',
'\t\t\t}',
'\t\t\tfunction captureStatus(e) {',
'\t\t\t\tconsole.log(\'status....\' + JSON.stringify(e));',
'\t\t\t}',
'\t\t\tvar onSuccessAudio = function() {',
'\t\t\t\tconsole.log(\'try to play it now\');',
'\t\t\t\tsetTimeout(function() { _media.recorder.play(); },1000);',
'\t\t\t\t//var e_filename = _media.recFile;',
'\t\t\t\t//opsIn.dialogObj.setValue(opsIn.controlName,e_filename);',
'\t\t\t\t//opsIn.dialogObj.refreshClientSideComputations();',
'\t\t\t};',
'\t\t\t_media.recorder = new Media(_media.recFile,onSuccessAudio,onFailed,captureStatus);',
'\t\t\tconsole.log(\'about to record\');',
'\t\t\t_media.recorder.startRecord();',
'\t\t\tconsole.log(\'start\');',
'\t\t\tsetTimeout(function() { console.log(\'stop\'); _media.recorder.stopRecord();  },5000);',
'\t\t\t//_media.recorder.play();',
'\t\t}',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.detailViewImageCapturePhoneGap =  function(options) {',
'\t\tvar flagCustomOnError = false;',
'\t\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents != \'undefined\') flagCustomOnError = {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents;',
'\t\tif(!flagCustomOnError) window.onerror = function(err) { alert(\'Unhandled Javascript Error - phoneGapImageCapture:  \' + JSON.stringify(err));}',
'\t\tif(options.onBeforeCaptureJavascript) {',
'\t\t\tvar result = options.onBeforeCaptureJavascript.call();',
'\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\tif(!result) return false;',
'\t\t\t}',
'\t\t}',
'\t\tif (typeof window[\'cordova\'] == \'undefined\') {',
'\t\t\talert(\'PhoneGap not loaded\');',
'\t\t\treturn false;',
'\t\t}',
'\t\tif(typeof options.imageSelectionCanceledMessage == \'undefined\') options.imageSelectionCanceledMessage = \'Image Selection Canceled\';',
'\t\tif(typeof options.imageSelectionCanceledButton == \'undefined\') options.imageSelectionCanceledButton = \'Done\';',
'\t\tif(typeof options.cameraCanceledMessage == \'undefined\') options.cameraCanceledMessage = \'Camera Action Canceled\';',
'\t\tif(typeof options.cameraCanceledButton == \'undefined\') options.cameraCanceledButton = \'Done\';',
'\t\tvar maxSize = -1;',
'\t\tif(typeof options.maxImageSizePhoneGap != \'undefined\') maxSize = Number(options.maxImageSizePhoneGap);',
'\t\tif(maxSize == -1) maxSize = 9999999999;',
'\t\tif(typeof options.specialMode == \'undefined\') options.specialMode = \'detailview\';',
'\t\tvar ops = {};',
'\t\tops.dialogObj = this;',
'\t\tif(options.specialMode == \'callback\') {',
'\t\t\toptions.controlName = \'\';',
'\t\t}',
'\t\tops.targetImage = options.controlName.toUpperCase();',
'\t\tops.cordova = {};',
'\t\tops.cordova.pictureSourceVal = options.pictureSourceVal;',
'\t\tops.cordova.imageQuality = options.imageQualityPhonegap;',
'\t\tops.cordova.allowEdit = options.allowPictureEditing',
'\t\tops.cordova.targetWidth = options.maxImageWidth;',
'\t\tops.cordova.targetHeight = options.maxImageHeight;',
'\t\tops.cordova.saveToPhotoAlbum = options.saveToPhotoAlbum',
'\t\tops.cordova.iPadEleId = \'\';',
'\t\tops.fieldPrefix = this.dialogId + \'.V.R1\';',
'\t\tops.imageFieldName = (ops.fieldPrefix + \'.\' + ops.targetImage).toUpperCase();',
'\t\tops.hiddenFileName = (ops.fieldPrefix + \'.\' + ops.targetImage + \'_HIDDENA5FN\').toUpperCase();',
'\t\tops.onCameraSuccess = function(imageURI) {',
'\t\t\tif(typeof options.captureDataMode == \'undefined\') options.captureDataMode = \'base64\';',
'\t\t\ttry {',
'\t\t\t    var iOps = JSON.parse(imageURI);',
'\t\t\t    var filename = iOps.filename;',
'\t\t\t    var metadata = iOps.json_metadata;',
'\t\t\t    var iMD = JSON.parse(metadata);',
'\t\t\t    if(typeof iMD.GPS != \'undefined\') {',
'\t\t\t    \t//running on iOS',
'\t\t\t    \tvar gpsObj = {};',
'\t\t\t    \tgpsObj.latitude = iMD.GPS.Latitude;',
'\t\t\t    \tgpsObj.longitude = iMD.GPS.Longitude;',
'\t\t\t    \tif(iMD.GPS.LongitudeRef == \'W\') gpsObj.longitude = Number(gpsObj.longitude) * -1;',
'\t\t\t    \tif(iMD.GPS.LatitudeRef == \'S\') gpsObj.latitude = Number(gpsObj.latitude) * -1;',
'\t\t\t    \tgpsObj.altitude = iMD.GPS.Altitude;',
'\t\t\t    \tgpsObj.dateTime = iMD.GPS.DateStamp + \' \' + iMD.GPS.TimeStamp;',
'\t\t\t    \tgpsObj.ExifJSON = metadata;',
'\t\t\t    } else {',
'\t\t\t    \t//android',
'\t\t\t    \tvar latRaw = iMD.gpsLatitude;   //":"42/1,28/1,50093/1000",',
'\t\t\t    \tvar latRef = iMD.gpsLatitudeRef;  //":"N",',
'\t\t\t    \tvar lngRaw = iMD.gpsLongitude; //":"71/1,12/1,16183/1000",',
'\t\t\t    \tvar lngRef = iMD.gpsLongitudeRef; //":"W",',
'\t\t\t    \tvar altRaw = iMD.gpsAltitude;',
'\t\t\t    \tvar altRef = iMD.gpsAltitudeRef;',
'\t\t\t    \tops.fixGPS = function(raw,ref) {',
'\t\t\t    \t\t//alert( \' raw: \' + raw + \' ref: \' + ref);',
'\t\t\t    \t\tif(raw == null) return null;',
'\t\t\t\t\t\tvar lat_d, lat_m, lat_s, lat;',
'\t\t\t\t\t\tlat_d = eval(raw.split(\',\')[0]);',
'\t\t\t\t\t\tlat_m = eval(raw.split(\',\')[1]) * ( 1/60);',
'\t\t\t\t\t\tlat_s = eval(raw.split(\',\')[2]) * ( 1/60);',
'\t\t\t\t\t\tlat = Number(lat_d) + Number(lat_m) + Number(lat_s);',
'\t\t\t\t\t\tif(ref != null) {',
'\t\t\t\t\t\t\tif(ref.toUpperCase() == \'S\') lat = Number(lat) * -1;',
'\t\t\t\t\t\t\tif(ref.toUpperCase() == \'W\') lat = Number(lat) * -1;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\treturn lat;',
'\t\t\t    \t}',
'\t\t\t    \tvar lat = ops.fixGPS(latRaw,latRef);',
'\t\t\t    \tvar lng = ops.fixGPS(lngRaw,lngRef);',
'\t\t\t    \tvar alt = ops.fixGPS(altRaw,altRef);',
'\t\t\t    \tvar gpsObj = {};',
'\t\t\t\t\tgpsObj.latitude = lat;',
'\t\t\t\t\tgpsObj.longitude = lng;',
'\t\t\t\t\tgpsObj.altitude = alt;',
'\t\t\t\t\tgpsObj.dateTime = iMD.datetime;',
'\t\t\t\t\tgpsObj.ExifJSON = metadata;',
'\t\t\t    }',
'\t\t\t    options.EXIF = gpsObj;',
'\t\t\t    ops._moveFile(filename);',
'\t\t\t  \t//gets called by ops._move()',
'\t\t\t    //window.resolveLocalFileSystemURL(filename,ops.fsOK,ops.fsError);',
'\t\t\t} catch(err) {',
'\t\t\t\t//if you get here then you were not using the AA camera plugin, so EXIF info is not available',
'\t\t\t\tops._moveFile(imageURI);',
'\t\t\t\t//gets called by ops._move()',
'\t\t\t    //window.resolveLocalFileSystemURL(imageURI,ops.fsOK,ops.fsError);',
'\t\t\t}',
'\t\t}',
'\t\tops._moveFile = function(filename) {',
'\t\t\tvar flagMove = false;',
'\t\t\tif(typeof options.phonegapMoveFileToPermanentStorage != \'undefined\') flagMove = options.phonegapMoveFileToPermanentStorage;',
'\t\t\tif(flagMove) {',
'\t\t\t\tvar _dir = {UXPRERENDEREDALIAS}_DlgObj.phoneGapGetLocalDirURL(options.phonegapFileSystemType);',
'\t\t\t\tvar _onFolderEnsured = function() {',
'\t\t\t\t\tvar objFn = A5.parseFilename(filename);',
'\t\t\t\t\tvar extension = objFn.name.split(\'.\');',
'\t\t\t\t\textension = extension[extension.length-1];',
'\t\t\t\t\tvar targetName = A5.UUID() + \'.\' + extension;',
'\t\t\t\t\tvar subfolder = \'\';',
'\t\t\t\t\tif(options.phonegapPermanentStorageFolder != \'\') {',
'\t\t\t\t\t\tsubfolder = options.phonegapPermanentStorageFolder + \'/\';',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _moveOK = function() {',
'\t\t\t\t\t\tvar fn = _dir + subfolder + targetName;',
'\t\t\t\t\t\twindow.resolveLocalFileSystemURL(fn,ops.fsOK,ops.fsError);',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _moveFail = function(e) {',
'\t\t\t\t\t\talert(\'Move error: \'+e.code);',
'\t\t\t\t\t}',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapMoveFileURL(filename,_dir, subfolder + targetName,_moveOK,_moveFail)',
'\t\t\t\t}',
'\t\t\t\tvar _onError = function() {',
'\t\t\t\t\talert(\'could not create folder\');',
'\t\t\t\t}',
'\t\t\t\tif(options.phonegapPermanentStorageFolder != \'\') {',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapEnsureDirPathURL(_dir, options.phonegapPermanentStorageFolder, _onFolderEnsured, _onError)',
'\t\t\t\t} else {',
'\t\t\t\t\t//storing in the root of the requested filesystem --',
'\t\t\t\t\t_onFolderEnsured();',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\t//do not need to move the file',
'\t\t\t\twindow.resolveLocalFileSystemURL(filename,ops.fsOK,ops.fsError);',
'\t\t\t}',
'\t\t}',
'\t\tops.onImageSelectFail = function(msg) {',
'\t\t\tnavigator.notification.alert(msg,null,options.imageSelectionCanceledMessage,options.imageSelectionCanceledButton);',
'\t\t}',
'\t\tops.onCameraCaptureFail = function(msg) {',
'\t\t\tnavigator.notification.alert(msg,null,options.cameraCanceledMessage,options.cameraCanceledButton);',
'\t\t}',
'\t\tops.fsOK = function(fileEntry) {',
'\t\t\t// HTML5 File system available as fileEntry',
'\t\t\t// Using standard HTML5 file handling here',
'\t\t\t// get fileEntry URL for upload',
'\t\t\tvar thisImageURL = fileEntry.toURL();',
'\t\t\tif(options.captureDataMode == \'filename\') {',
'\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t//better be - only mode we are supporting for \'filename\'',
'\t\t\t\t\tvar ele = $(ops.imageFieldName);',
'\t\t\t\t\tif(ele) ele.src = thisImageURL;',
'\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\tif(eleH) eleH.src = thisImageURL;',
'\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\tvar exifData = \'\';',
'\t\t\t\t\tif(typeof options.EXIF != \'undefined\') exifData = JSON.stringify(options.EXIF);',
'\t\t\t\t\t$sa(eleH,\'a5EXIF\',exifData);',
'\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\tfileEntry.file(function(file){',
'\t\t\t\t\tvar reader = new FileReader();',
'\t\t\t\t\treader.onloadend = function(e) {',
'\t\t\t\t\t\t// this is Base64 encoded',
'\t\t\t\t\t\tif(options.specialMode == \'detailview\') {',
'\t\t\t\t\t\t\tvar ele = $(ops.imageFieldName);',
'\t\t\t\t\t\t\tif(ele) ele.src = e.target.result;',
'\t\t\t\t\t\t\tvar eleH = $(ops.hiddenFileName);',
'\t\t\t\t\t\t\tif(eleH) eleH.src = e.target.result;',
'\t\t\t\t\t\t\t$sa(eleH,\'a5isdirty\',\'true\');',
'\t\t\t\t\t\t\tops.dialogObj.refreshClientSideComputations();',
'\t\t\t\t\t\t\tif(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : e.target.result, fileSystemURL: fileEntry.nativeURL, options: options});',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\toptions.onCaptureJavascript.call(this, {data : e.target.result, fileSystemURL: fileEntry.nativeURL, options: options});  //pass in options so that the user defined callback js can reference options (which has the exif data in it)',
'\t\t\t\t\t\t}',
'\t\t\t\t\t};',
'\t\t\t\t\treader.onerror = function(e) {',
'\t\t\t\t\t\tnavigator.notification.alert(\'<a5:r>File reader error</a5:r>\');',
'\t\t\t\t\t};',
'\t\t\t\t\treader.readAsDataURL(file);',
'\t\t\t\t},function(error) {',
'\t\t\t\t\tnavigator.notification.alert(\'<a5:r>Image file read error</a5:r>\');',
'\t\t\t\t});',
'\t\t\t}',
'\t\t}',
'\t\tops.fsError = function() {',
'\t\t\tnavigator.notification.alert(\'<a5:r>Local File system unavailable.</a5:r>\');',
'\t\t}',
'\t\t// Calculate positioning for iPad popup menu if applicable',
'\t\tvar cordovaPopoverOptions = null;',
'\t\t\tif (ops.cordova.iPadEleId.length > 0) {',
'\t\t\tvar ele = $(ops.cordova.iPadEleId);',
'\t\t\tif (ele) {',
'\t\t\t\tvar rect = ele.getBoundingClientRect();',
'\t\t\t\tvar x = rect.left;',
'\t\t\t\tvar y = rect.top;',
'\t\t\t\tvar w = rect.right - rect.left;',
'\t\t\t\tvar h = rect.bottom - rect.top;',
'\t\t\t\tcordovaPopoverOptions = new CameraPopoverOptions(x,y,w,h,15);',
'\t\t\t}',
'\t\t}',
'\t\t// These options define all of the objects functionality',
'\t\tvar cordovaOptions = {',
'\t\t\tquality: Number(ops.cordova.imageQuality),',
'\t\t\tallowEdit: ops.cordova.allowEdit,',
'\t\t\tsourceType: Number(ops.cordova.pictureSourceVal),',
'\t\t\tcorrectOrientation: true,',
'\t\t\tdestinationType: 1,',
'\t\t\ttargetWidth: Number(ops.cordova.targetWidth),',
'\t\t\ttargetHeight: Number(ops.cordova.targetHeight),',
'\t\t\tsaveToPhotoAlbum: ops.cordova.saveToPhotoAlbum,',
'\t\t\tpopoverOptions: cordovaPopoverOptions,',
'\t\t\tencodingType: Camera.EncodingType.JPEG',
'\t\t}',
'\t\tif (cordovaOptions.sourceType != 1) {',
'\t\t\tcordovaOptions.saveToPhotoAlbum = false;',
'\t\t\tnavigator.camera.getPicture(ops.onCameraSuccess, ops.onImageSelectFail,cordovaOptions);',
'\t\t} else {',
'\t\t\tnavigator.camera.getPicture(ops.onCameraSuccess, ops.onCameraCaptureFail,cordovaOptions);',
'\t\t}',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj._abortS3Upload = function(__guid,number,rowId) {',
'\t\tvar arrS3 = {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'arrS3\'];',
'\t\tvar options = {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'options\'];',
'\t\tvar _dlgObj = {UXPRERENDEREDALIAS}_DlgObj;',
'\t\tvar _xhr = arrS3[number].xhr;',
'\t\t_xhr.abort();',
'\t\tarrS3[number].aborted = true;',
'\t\tif(typeof rowId != \'undefined\') {',
'\t\t\tvar ele = $(rowId);',
'\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t}',
'\t\t//uploadCompleteFunction',
'\t\tvar ops = {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'ops\'];',
'\t\t//fire the onComplete events',
'\t\tvar flagAllCompleted = false;',
'\t\tvar c = 0;',
'\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\tif(arrS3[i].completed == true || arrS3[i].aborted == true) c = c+1;',
'\t\t}',
'\t\tif(c == arrS3.length) flagAllCompleted = true;',
'\t\tvar f = arrS3[number];',
'\t\tvar e = {',
'\t\t\tname: f.name,',
'\t\t\ttype: f.type,',
'\t\t\tsize: f.size,',
'\t\t\taborted: f.aborted,',
'\t\t\tnumber: number,',
'\t\t\tfileArray: arrS3,',
'\t\t\ttargetName: arrS3[number].targetName',
'\t\t}',
'\t\toptions.onCompleteFile(e);',
'\t\tif(flagAllCompleted) {',
'\t\t\toptions.onCompleteAllFiles(e);',
'\t\t\tif(options.displayProgress) {',
'\t\t\t\tvar eleP = $(_dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder);',
'\t\t\t\tif(eleP) eleP.style.display = \'none\';',
'\t\t\t}',
'\t\t\tdelete {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid];',
'\t\t}',
'\t\t//end onComplete events',
'\t}',
'\t/////////////////////////////////////////////////////////////////////////',
'\t{UXPRERENDEREDALIAS}_DlgObj.fileUploadAmazonS3 = function(options) {',
'\t\tvar eleB = \'\';',
'\t\tvar _dlgObj = this;',
'\t\tvar _part = options.part;',
'\t\tdelete ops;',
'\t\tvar ops = {};',
'\t\tif(typeof options.onBeforeFileSelect == \'function\') {',
'\t\t\tvar result = options.onBeforeFileSelect();',
'\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\tif(!result) return false;',
'\t\t\t}',
'\t\t}',
'\t\tops.formatNum = function(num) {',
'\t\t\tvar suffix = \'Kb\';',
'\t\t \tif(num >= 1000000) {',
'\t\t \t\tnum = num/1000000;',
'\t\t \t\tsuffix = \'Mb\';',
'\t\t\t} else if(num >= 1000) {',
'\t\t\t \tnum = num / 1000;',
'\t\t\t \tsuffix = \'Kb\';',
'\t\t\t} else {',
'\t\t\t   suffix = \'bytes\'',
'\t\t\t  }',
'\t\t\tnum = Math.round(num * 100) / 100;',
'\t\t\tnum = Number(num);',
'\t\t\treturn (num).toLocaleString() + suffix;',
'\t\t}',
'\t\tops.setProgress = function(percent,message,objS3) {',
'\t\t\t//fire system onProgress events',
'\t\t\tif(options.displayProgress) {',
'\t\t\t\tvar i = objS3.number;',
'\t\t\t\t//id_i = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder + \'.\' + (i+1);',
'\t\t\t\tid_i = options.resolvedProgressPlaceholder + \'.\' + (i+1);',
'\t\t\t\tvar ep = $(id_i);',
'\t\t\t\tif(ep) {',
'\t\t\t\t\tif(options.progressStyle == \'text\') ep.innerHTML = percent + \'%\';',
'\t\t\t\t\telse ep.style.width = percent + \'%\';',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tvar e = {',
'\t\t\t\tpercent: percent,',
'\t\t\t\tmessage: message,',
'\t\t\t\tname: objS3.name,',
'\t\t\t\ttargetName: objS3.targetName,',
'\t\t\t\tnumber: objS3.number,',
'\t\t\t\tsize: objS3.size,',
'\t\t\t\ttype: objS3.type',
'\t\t\t}',
'\t\t\tif(typeof objS3.userProgressFunction == \'function\') objS3.userProgressFunction(e);;',
'\t\t}',
'\t\tops.createCORSRequest = function(method, url) {',
'  \t\t\tvar xhr = new XMLHttpRequest();',
'\t\t\t // "withCredentials" only exists on XHR2 objects',
'  \t\t\tif ("withCredentials" in xhr) {',
'  \t\t\t\ttry {',
'    \t\t\t\txhr.open(method, url, true);',
'    \t\t\t} catch(err) {',
'    \t\t\t\talert(\'XHR error - could not open XHR object. This action is not supported in Working Preview if you are using Internet Explorer. Try using Chrome Working Preview.\');',
'    \t\t\t\treturn false;',
'    \t\t\t}',
'\t\t\t} else if (typeof XDomainRequest != "undefined") {',
'\t\t\t    // XDomainRequest only exists in IE',
'    \t\t\txhr = new XDomainRequest();',
'\t\t\t    xhr.open(method, url);',
'  \t\t\t} else {',
'\t\t\t  \t// CORS not supported by this browser',
'    \t\t\txhr = null;',
'\t\t\t  }',
'\t\t  return xhr;',
'\t\t}',
'\t\tops.uploadToS3 = function(file, url, objS3) {',
'\t\t\tvar targetServer = objS3.targetServer;',
'\t\t\tif(typeof targetServer == \'undefined\') targetServer = \'S3\';',
'\t\t\tif(targetServer.toUpperCase() == \'S3\') {',
'\t\t\t\tvar xhr = ops.createCORSRequest(\'PUT\', url);',
'\t\t\t} else {',
'\t\t\t\t//alpha server',
'\t\t\t\tvar additionalInfo = \'\';',
'\t\t\t\tif(typeof options.additionalInfo == \'function\') {',
'\t\t\t\t\tadditionalInfo = options.additionalInfo.call();',
'\t\t\t\t}',
'\t\t\t\tadditionalInfo = A5.ajax.buildURLParam(\'__additionalInfo\',additionalInfo);',
'\t\t\t\tvar AAURI = encodeURI({UXPRERENDEREDALIAS}_DlgObj.ajaxURL + \'&\' + additionalInfo + \'&__Ajax=true&__FormAction=GenericAjaxCallback&_XbasicFunction=system:multifileupload&_xbasic=\' + options.xbasicFunction);',
'\t\t\t\tvar xhr = new XMLHttpRequest();',
'\t\t\t\txhr.open(\'POST\',AAURI,true);',
'\t\t\t}',
'\t\t\tif (!xhr) {',
'\t\t\t\t//ops.setProgress(0, \'CORS not supported\',objS3);',
'\t\t\t\tif(typeof objS3.onError == \'function\') objS3.onError({errorText: \'CORS not supported\', errorCode: -1, fileObject: objS3});',
'\t\t\t  \telse alert(\'CORS not supported\');',
'\t\t\t} else {',
'\t\t\t//capture the xhr object so you can call cancel',
'\t\t\tobjS3.arrS3[objS3.number].xhr = xhr;',
'\t\t\txhr.onload = function() {',
'\t\t\t  if(xhr.status == 200) {',
'\t\t\t\tops.setProgress(100, \'Upload completed.\',objS3);',
'\t\t\t\t//file number is available in objS3.number',
'\t\t\t\tobjS3.uploadCompleteFunction.call(objS3);',
'\t\t\t  } else {',
'\t\t\t\t//ops.setProgress(0, \'Upload error: \' + xhr.status);',
'\t\t\t\tvar responseText = \'\';',
'\t\t\t\tif(typeof xhr.responseText != \'undefined\') responseText = xhr.responseText;',
'\t\t\t\tif(typeof objS3.onError == \'function\') objS3.onError({errorText: \'Upload error\', errorCode: xhr.status, fileObject: objS3, errorText: responseText});',
'\t\t\t  \telse alert(\'XHR error. Reported error:\' + responseText);',
'\t\t\t  }',
'\t\t\t};',
'\t\t\txhr.onerror = function() {',
'\t\t\t  //ops.setProgress(0, \'XHR error.\');',
'\t\t\t  if(typeof objS3.onError == \'function\') objS3.onError({errorText: \'XHR Error\', errorCode: xhr.status, fileObject: objS3});',
'\t\t\t  else alert(\'XHR error\');',
'\t\t\t};',
'\t\t\txhr.upload.onprogress = function(e) {',
'\t\t\t  if (e.lengthComputable) {',
'\t\t\t\tvar percentLoaded = Math.round((e.loaded / e.total) * 100);',
'\t\t\t\tops.setProgress(percentLoaded, percentLoaded == 100 ? \'Finalizing.\' : \'Uploading.\',objS3);',
'\t\t\t  }',
'\t\t\t};',
'\t\t\tif(!options.target) options.target = \'S3\';',
'\t\t\tif(options.target.toUpperCase() == \'S3\') {',
'\t\t\t\txhr.setRequestHeader(\'Content-Type\', file.type);',
'\t\t\t\tif(!objS3.authenticatedRead) {',
'\t\t\t\t\txhr.setRequestHeader(\'x-amz-acl\', \'public-read\');',
'\t\t\t\t} else {',
'\t\t\t\t\txhr.setRequestHeader(\'x-amz-acl\', \'authenticated-read\');',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\t//don\'t bother with headers. they will get set automatically becuase we will be .send()ing a FormData() object',
'\t\t\t}',
'\t\t\tif(targetServer.toUpperCase() == \'S3\') {',
'\t\t\t\txhr.send(file);',
'\t\t\t} else {',
'\t\t\t\t//uploading to alpha server - by using a FormData() object, the content-type headers get set correctly',
'\t\t\t\tvar formData = new FormData();',
'\t\t\t\tformData.append(\'file\',file)',
'\t\t\t\txhr.send(formData);',
'\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tops.handleFileSelect = function(evt) {',
'\t\t\tdelete arrS3;',
'\t\t\tvar arrS3 = [];',
'\t\t\tops.__guid = Number(new Date());',
'\t\t\tvar __guid = ops.__guid;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads = {};',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid] = {};',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'arrS3\'] = arrS3;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'ops\'] = ops;',
'\t\t\t{UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid][\'options\'] = options;',
'\t\t\tvar files = evt.target.files;',
'\t\t\tvar f = \'\';',
'\t\t\tvar data = \'\';',
'\t\t\tvar targetName = \'\';',
'\t\t\tvar newTargetName = \'\';',
'\t\t\tarrS3.length = 0;',
'\t\t\tfor(var i = 0; i < files.length; i++) {',
'\t\t\t\tf = files[i];',
'\t\t\t\tif(typeof f.name == \'undefined\') {',
'\t\t\t\t\tvar localFileName = \'blobfile.jpg\';',
'\t\t\t\t\tif(typeof options.localFileName != \'undefined\') localFileName = options.localFileName;',
'\t\t\t\t\tf.name = localFileName;',
'\t\t\t\t}',
'\t\t\t\tdelete obji;',
'\t\t\t\tvar obji = {',
'\t\t\t\t\tnumber: i,',
'\t\t\t\t\tname: f.name,',
'\t\t\t\t\tsize: f.size,',
'\t\t\t\t\ttype: f.type,',
'\t\t\t\t\tfile: f,',
'\t\t\t\t\tcompleted: false,',
'\t\t\t\t\taborted: false',
'\t\t\t\t}',
'\t\t\t\tarrS3.push(obji)',
'\t\t\t}',
'\t\t\tvar __guid = ops.__guid;',
'\t\t\t//validate file selection -------------------------------------',
'\t\t\tvar totalSize = 0;',
'\t\t\tif(typeof options.maxFileSize == \'undefined\') options.maxFileSize = -1;',
'\t\t\tvar maxSize = options.maxFileSize;',
'\t\t\tif(maxSize == -1) maxSize = 999999999999999;',
'\t\t\tif(typeof options.maxFileSizeTotal == \'undefined\') options.maxFileSizeTotal = -1;',
'\t\t\tvar maxSizeTotal = options.maxFileSizeTotal;',
'\t\t\tif(maxSizeTotal == -1) maxSizeTotal = 999999999999999;',
'\t\t\tif(typeof options.allowedFileTypes == \'undefined\') options.allowedFileTypes = \'\';',
'\t\t\tvar fileMsg = options.customization.maxFileSize;',
'\t\t\tvar fileTotalMsg = options.customization.totalFileSize;',
'\t\t\tvar typeMsg = options.customization.fileType;',
'\t\t\tvar flagHasValidationFunction = false;',
'\t\t\tif(typeof options.onValidationError == \'function\') flagHasValidationFunction = true;',
'\t\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\t\ttotalSize = totalSize + arrS3[i].size;',
'\t\t\t\t//check size',
'\t\t\t\tif(arrS3[i].size > maxSize) {',
'\t\t\t\t\tif(flagHasValidationFunction) {',
'\t\t\t\t\t\toptions.onValidationError({violationType: \'size\', name: arrS3[i].name, size: arrS3[i].size, type: arrS3[i].type});',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tif(typeof fileMsg != \'undefined\' && fileMsg != \'\') {',
'\t\t\t\t\t\t\tvar msg = fileMsg;',
'\t\t\t\t\t\t\tvar e = arrS3[i];',
'\t\t\t\t\t\t\tmsg = msg.replace(\'[filename]\',e.name);',
'\t\t\t\t\t\t\tmsg = msg.replace(\'[filesize]\',\'\' + e.size);',
'\t\t\t\t\t\t\tmsg = msg.replace(\'[maxfilesize]\',\'\' + maxSize);',
'\t\t\t\t\t\t\talert(msg);',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\talert(\'File exceeds maximum allowed size of \' + maxSize);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\treturn false;',
'\t\t\t\t}',
'\t\t\t\t//check type',
'\t\t\t\tif(options.allowedFileTypes != \'\') {',
'\t\t\t\t\tvar arrT = options.allowedFileTypes.split(\',\');',
'\t\t\t\t\tfor(var i2 = 0; i2 < arrT.length; i2++ ) {',
'\t\t\t\t\t\tarrT[i2] =   $u.s.aTrim(arrT[i2].toLowerCase());',
'\t\t\t\t\t\tarrT[i2] = arrT[i2].replace(\'.\',\'\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar ext = arrS3[i].name.split(\'.\');',
'\t\t\t\t\text = ext[ext.length -1];',
'\t\t\t\t\text = ext.toLowerCase();',
'\t\t\t\t\tvar ia = $u.a.find(arrT,ext);',
'\t\t\t\t\tif(ia == -1) {',
'\t\t\t\t\t\tif(flagHasValidationFunction) {',
'\t\t\t\t\t\t\toptions.onValidationError({violationType: \'type\', name: arrS3[i].name, size: arrS3[i].size, type: arrS3[i].type});',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\tif(typeof typeMsg != \'undefined\' && typeMsg != \'\') {',
'\t\t\t\t\t\t\t\tvar msg = typeMsg;',
'\t\t\t\t\t\t\t\tvar e = arrS3[i];',
'\t\t\t\t\t\t\t\tmsg = msg.replace(\'[filename]\',e.name);',
'\t\t\t\t\t\t\t\tmsg = msg.replace(\'[filetype]\',ext);',
'\t\t\t\t\t\t\t\talert(msg);',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\talert(\'Invalid file type \' + ext);',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\treturn false;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t//check total size',
'\t\t\tif(totalSize > maxSizeTotal) {',
'\t\t\t\t//Selected files ([filecount] files, total size [totalfilesize]) exceed the maximum allowed total file size of [maxtotalfilesize].',
'\t\t\t\tif(flagHasValidationFunction) {',
'\t\t\t\t\toptions.onValidationError({violationType: \'totalSize\', totalSize: totalSize, maxSizeTotal: maxSizeTotal});',
'\t\t\t\t} else {',
'\t\t\t\t\tif(typeof fileTotalMsg != \'undefined\' && fileTotalMsg != \'\') {',
'\t\t\t\t\t\tvar msg = fileTotalMsg;',
'\t\t\t\t\t\tvar e = arrS3[i];',
'\t\t\t\t\t\tmsg = msg.replace(\'[filecount]\',arrS3.length);',
'\t\t\t\t\t\tmsg = msg.replace(\'[totalfilesize]\',\'\' + totalSize);',
'\t\t\t\t\t\tmsg = msg.replace(\'[maxtotalfilesize]\',\'\' + maxSizeTotal);',
'\t\t\t\t\t\talert(msg);',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\talert(\'Files exceeds maximum allowed size of \' + maxSizeTotal);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\treturn false;',
'\t\t\t}',
'\t\t\t//end validate file selection',
'\t\t\tif(typeof options.onAfterFilesSelect == \'function\') {',
'\t\t\t\tvar result = options.onAfterFilesSelect(arrS3);',
'\t\t\t\tif(typeof result != \'undefined\') {',
'\t\t\t\t\tif(!result) return false;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tops.__handleFileSelectLow(files,__guid,arrS3)',
'\t\t}',
'\t\tops._generatePlaceholderId = function() {',
'\t\t\tvar txt = options.progressDisplayPlaceholder;',
'\t\t\tvar flagDV = false;',
'\t\t\tif(typeof options.__dv != \'undefined\') flagDV = options.__dv;',
'\t\t\tvar num = txt.split(\'.\')[1];',
'\t\t\tif(!flagDV) {',
'\t\t\t\tvar eleId = _dlgObj.gridId + \'.V.R\'+options.rowNumber+\'._UNBOUND_STATICTEXT_\' + num;',
'\t\t\t} else {',
'\t\t\t\tvar eleId = _dlgObj.gridId + \'.D.V.R\'+options.rowNumber+\'._UNBOUND_STATICTEXT_\' + num;',
'\t\t\t}',
'\t\t\treturn eleId;',
'\t\t}',
'\t\tops.__handleFileSelectLow = function(files,__guid,arrS3) {',
'\t\t\tif(options.displayProgress) {',
'\t\t\t\tif(options.progressDisplayPlaceholder.indexOf(\'ELEMENT:\') == 0) {',
'\t\t\t\t\toptions.resolvedProgressPlaceholder = options.progressDisplayPlaceholder.split(\':\')[1];',
'\t\t\t\t} else {',
'\t\t\t\t\toptions.resolvedProgressPlaceholder = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder',
'\t\t\t\t}',
'\t\t\t\tvar eleP = $(options.resolvedProgressPlaceholder);',
'\t\t\t\tif(options.part == \'grid\') {',
'\t\t\t\t\toptions.resolvedProgressPlaceholder = this._generatePlaceholderId()',
'\t\t\t\t\tvar eleP = $(options.resolvedProgressPlaceholder);',
'\t\t\t\t}',
'\t\t\t\tif(eleP) {',
'\t\t\t\t\teleP.style.display = \'\';',
'\t\t\t\t\tvar arrH = [];',
'\t\t\t\t\tvar id_i = \'\';',
'\t\t\t\t\tvar id_row_i = \'\';',
'\t\t\t\t\tvar html = \'\';',
'\t\t\t\t\tvar html_i = \'\';',
'\t\t\t\t\tvar spanTxt = \'\';',
'\t\t\t\t\tvar flagAllowCancel = options.allowCancel;',
'\t\t\t\t\tif(typeof flagAllowCancel == \'undefined\') flagAllowCancel = false;',
'\t\t\t\t\tif(typeof options.progressStyle == \'undefined\') options.progressStyle = \'bar\';',
'\t\t\t\t\tif(options.progressStyle == \'text\') {',
'\t\t\t\t\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\t\t\t\t\t//id_i = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_i = options.resolvedProgressPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_row_i = id_i + \'.ROW\';',
'\t\t\t\t\t\t\thtml_i = \'\';',
'\t\t\t\t\t\t\thtml_i += \'<tr id="\'+id_row_i+\'">\';',
'\t\t\t\t\t\t\tif(flagAllowCancel) {',
'\t\t\t\t\t\t\t\thtml_i += \'<td><div style="cursor:pointer;padding: 5px;" title="Cancel upload" onclick="{UXPRERENDEREDALIAS}_DlgObj._abortS3Upload(\\\'\'+__guid+\'\\\',\'+i+\',\\\'\'+id_row_i+\'\\\');">X</div></td>\';',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\thtml_i +=\'<td><div>\' + arrS3[i].name + \' (\' + ops.formatNum(arrS3[i].size) + \') <span id=\'+id_i+\'></span> </div></td>\';',
'\t\t\t\t\t\t\thtml_i +=\'</tr>\'',
'\t\t\t\t\t\t\tarrH.push(html_i)',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\thtml = arrH.join(\'\');',
'\t\t\t\t\t\thtml = \'<table>\' + html + \'</table>\'',
'\t\t\t\t\t} else if (options.progressStyle == \'bar\') {',
'\t\t\t\t\t\tvar flagShowFilename = options.showFileNameInProgressBar;',
'\t\t\t\t\t\tif(typeof flagShowFilename == \'undefined\') flagShowFilename = true;',
'\t\t\t\t\t\tvar flagMobile = false;',
'\t\t\t\t\t\tif(typeof options._flagMobile != \'undefined\') flagMobile = options._flagMobile;',
'\t\t\t\t\t\thtml_i = \'\';',
'\t\t\t\t\t\tif(typeof options.progressBarColor == \'undefined\') options.progressBarColor = \'#9fa1e8\';',
'\t\t\t\t\t\tif(typeof options.progressBarWidth == \'undefined\') options.progressBarWidth = \'1.5in\';',
'\t\t\t\t\t\tvar color = options.progressBarColor',
'\t\t\t\t\t\tvar width = options.progressBarWidth;',
'\t\t\t\t\t\tfor(var i = 0; i < arrS3.length; i++) {',
'\t\t\t\t\t\t\t//id_i = _dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_i = options.resolvedProgressPlaceholder + \'.\' + (i+1);',
'\t\t\t\t\t\t\tid_row_i = id_i + \'.ROW\';',
'\t\t\t\t\t\t\thtml_i = \'\';',
'\t\t\t\t\t\t\thtml_i += \'<tr id="\'+id_row_i+\'">\';',
'\t\t\t\t\t\t\tif(flagShowFilename) {',
'\t\t\t\t\t\t\t\thtml_i += \'<td>\' + arrS3[i].name + \' (\' + ops.formatNum(arrS3[i].size) + \')</td>\';',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\thtml_i += \'<td>(\' + ops.formatNum(arrS3[i].size) + \')</td>\';',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\thtml_i += \'<td><div style="border: solid 1px \'+color+\'; width: \'+width+\';">\';',
'\t\t\t\t\t\t\thtml_i += \'<div id="\'+id_i+\'"style="width: 0%; height: .05in;  background-color:\'+color+\';"></div></div></td>\';',
'\t\t\t\t\t\t\tif(flagAllowCancel) {',
'\t\t\t\t\t\t\t\thtml_i += \'<td><div style="cursor:pointer;padding: 5px;" title="Cancel upload" onclick="{UXPRERENDEREDALIAS}_DlgObj._abortS3Upload(\\\'\'+__guid+\'\\\',\'+i+\',\\\'\'+id_row_i+\'\\\');">X</div></td>\';',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\thtml_i += \'</tr>\';',
'\t\t\t\t\t\t\tarrH.push(html_i);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\thtml = arrH.join(\'\');',
'\t\t\t\t\t\t//for some reason in ie, this function is getting called a second time and if we don\'t exit here when .length == 0, it will overwrite the progress bar with a null string',
'\t\t\t\t\t\tif(arrH.length == 0) return true;',
'\t\t\t\t\t\thtml = \'<table>\' + html + \'</table>\'',
'\t\t\t\t\t\tif(flagMobile) {',
'\t\t\t\t\t\t\t//mobile upload limited to 1 file and don\'t wrap in table',
'\t\t\t\t\t\t\t//id_i = options.resolvedProgressPlaceholder + \'.\' + (1);',
'\t\t\t\t\t\t\thtml = \'\';',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\teleP.innerHTML = html;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tfor(var i = 0; i < files.length; i++) {',
'\t\t\t\tvar f = files[i];',
'\t\t\t\tvar dataA = [];',
'\t\t\t\tdataA.push(\'_mimeType=\' + f.type);',
'\t\t\t\ttargetName = f.name;',
'\t\t\t\tif(typeof options.targetName == \'function\') {',
'\t\t\t\t\tnewTargetName = options.targetName( f  );',
'\t\t\t\t\tif(typeof newTargetName != \'undefined\') {',
'\t\t\t\t\t\tif(newTargetName != \'\') targetName = newTargetName;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tarrS3[i].targetName = targetName;',
'\t\t\t\tvar targetServer = options.target;',
'\t\t\t\tif(!options.target) targetServer = \'S3\';',
'\t\t\t\tarrS3[i].targetServer = targetServer;',
'\t\t\t\tdataA.push(\'_name=\' + urlencode(targetName));  //name of object in S3',
'\t\t\t\tdataA.push(\'_number=\' + i);',
'\t\t\t\tif(options.specifyCredentials == \'Explicit\') {',
'\t\t\t\t\tdataA.push(\'_xbasicFunctionNameForPropertyValues=\' + options.xbasicFunctionName);',
'\t\t\t\t\tdataA.push(\'_method=explicit\');',
'\t\t\t\t} else {',
'\t\t\t\t\tdataA.push(\'_namedStorageConnectionString=\' + options.connectionString);',
'\t\t\t\t\tdataA.push(\'_method=connectionString\');',
'\t\t\t\t}',
'\t\t\t\tdataA.push(\'_authenticatedRead=\' + options.authenticatedRead);',
'\t\t\t\tdataA.push(\'_part=\' + options.part);',
'\t\t\t\tdata = dataA.join(\'&\');',
'\t\t\t\tif(typeof options.userProgressFunction == \'undefined\') options.userProgressFunction = function(e) {};',
'\t\t\t\tif(typeof options.onCompleteAllFiles == \'undefined\') options.onCompleteAllFiles = function(e) {};',
'\t\t\t\tif(typeof options.onCompleteFile == \'undefined\') options.onCompleteFile = function(e) { };',
'\t\t\t\tvar obj = {',
'\t\t\t\t\t//ajax callback to sign url onComplete',
'\t\t\t\t\tonComplete: function() {',
'\t\t\t\t\t\tvar signedURL = decodeURIComponent(_dlgObj._fileCodedURL);',
'\t\t\t\t\t\tvar num = _dlgObj._fileCodedURLNum;',
'\t\t\t\t\t\tvar fi = arrS3[num].file;',
'\t\t\t\t\t\tvar targetServer = arrS3[num].targetServer;',
'\t\t\t\t\t\tdelete objS3;',
'\t\t\t\t\t\tvar objS3 = {',
'\t\t\t\t\t\t\tuploadCompleteFunction: function() {',
'\t\t\t\t\t\t\t\tthis.arrS3[this.number].completed = true;',
'\t\t\t\t\t\t\t\tvar flagAllCompleted = false;',
'\t\t\t\t\t\t\t\tvar c = 0;',
'\t\t\t\t\t\t\t\tfor(var i = 0; i < this.arrS3.length; i++) {',
'\t\t\t\t\t\t\t\t\tif(this.arrS3[i].completed == true || this.arrS3[i].aborted == true) c = c+1;',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\tif(c == this.arrS3.length) flagAllCompleted = true;',
'\t\t\t\t\t\t\t\tvar e = {',
'\t\t\t\t\t\t\t\t\tname: this.name,',
'\t\t\t\t\t\t\t\t\ttype: this.type,',
'\t\t\t\t\t\t\t\t\tsize: this.size,',
'\t\t\t\t\t\t\t\t\tnumber: this.number,',
'\t\t\t\t\t\t\t\t\tfileArray: this.arrS3,',
'\t\t\t\t\t\t\t\t\ttargetName: arrS3[this.number].targetName',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\toptions.onCompleteFile(e);',
'\t\t\t\t\t\t\t\tif(flagAllCompleted) {',
'\t\t\t\t\t\t\t\t\toptions.onCompleteAllFiles(e);',
'\t\t\t\t\t\t\t\t\tif(options.displayProgress) {',
'\t\t\t\t\t\t\t\t\t\t//var eleP = $(_dlgObj.dialogId + \'.V.R1.\' + options.progressDisplayPlaceholder);',
'\t\t\t\t\t\t\t\t\t\tvar eleP = $(options.resolvedProgressPlaceholder);',
'\t\t\t\t\t\t\t\t\t\tif(eleP) eleP.style.display = \'none\';',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\tdelete {UXPRERENDEREDALIAS}_DlgObj.__CORSUploads[__guid];',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t},',
'\t\t\t\t\t\t\tuserProgressFunction: options.userProgressFunction,',
'\t\t\t\t\t\t\tonError: options.onError,',
'\t\t\t\t\t\t\tname: fi.name,',
'\t\t\t\t\t\t\tsize: fi.size,',
'\t\t\t\t\t\t\ttype: fi.type,',
'\t\t\t\t\t\t\tnumber: num,',
'\t\t\t\t\t\t\tarrS3: arrS3,',
'\t\t\t\t\t\t\ttargetName: arrS3[num].targetName,',
'\t\t\t\t\t\t\t__guid: __guid,',
'\t\t\t\t\t\t\tauthenticatedRead: options.authenticatedRead',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tobjS3.targetServer = targetServer;',
'\t\t\t\t\t\tops.uploadToS3(fi,signedURL,objS3);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tops.obj = obj;',
'\t\t\t\tvar reader = new FileReader();',
'\t\t\t\treader.onload = function(e) {',
'\t\t\t\t\tvar eleId = \'\';',
'\t\t\t\t\tvar ele = \'\';',
'\t\t\t\t\tif(typeof options.imageControl != \'undefined\' && options.part == \'ux\') {',
'\t\t\t\t\t\teleId = options.__alias + \'.V.R1.\' + options.imageControl.toUpperCase();',
'\t\t\t\t\t\tele = $(eleId);',
'\t\t\t\t\t\tif(ele) ele.src = e.target.result;',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tvar flagDV = false;',
'\t\t\t\t\t\tif(typeof options.__dv != \'undefined\') flagDV = options.__dv',
'\t\t\t\t\t\tif(flagDV) {',
'\t\t\t\t\t\t\teleId = options.__alias + \'.D.V.R\'+options.rowNumber+\'.\' + options.imageControl.toUpperCase();',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\teleId = options.__alias + \'.V.R\'+options.rowNumber+\'.\' + options.imageControl.toUpperCase();',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tele = $(eleId);',
'\t\t\t\t\t\tif(ele) {',
'\t\t\t\t\t\t\tvar oldSrc = ele.src;',
'\t\t\t\t\t\t\t_dlgObj.__oldImage = oldSrc;',
'\t\t\t\t\t\t\tele.src = e.target.result;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\treader.onerror = function(e) {',
'\t\t\t\t\talert(\'error123\');',
'\t\t\t\t}',
'\t\t\t\tif(typeof options.imageControl != \'undefined\') reader.readAsDataURL(f);',
'\t\t\t\tvar flagTargetIsServer = false;',
'\t\t\t\tif(typeof options.target != \'undefined\') {',
'\t\t\t\t\tif(options.target.toLowerCase() == \'server\') flagTargetIsServer = true;',
'\t\t\t\t}',
'\t\t\t\tif(!flagTargetIsServer) {',
'\t\t\t\t\t_dlgObj.ajaxCallback(\'\',\'\',\'a5DialogHelper_signAmazonS3FileUploadURL\',\'\',data,obj);',
'\t\t\t\t} else {',
'\t\t\t\t\t//no need to sign the url for target = \'alpha\'',
'\t\t\t\t\t_dlgObj._fileCodedURLNum = i;',
'\t\t\t\t\tobj.onComplete();',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\t//$e.add($(this.dialogId + \'._GETFILEMULTI\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__amazonS3fileupload\');',
'\t\t$e.removeGroup(\'__amazonS3fileupload\')',
'\t\t//bind the change event to the file selector',
'\t\tif(options.allowMultipleFiles) {',
'\t\t\tif(typeof this._getFileMultiListenerLoaded == \'undefined\') {',
'\t\t\t\t//this._getFileMultiListenerLoaded = true;',
'\t\t\t\t//$(this.dialogId + \'._GETFILEMULTI\').addEventListener(\'change\',ops.handleFileSelect,false);',
'\t\t\t\t$e.add($(this.dialogId + \'._GETFILEMULTI\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__amazonS3fileupload\');',
'\t\t\t}',
'\t\t\teleB = $(this.dialogId + \'._GETFILEMULTI\');',
'\t\t} else {',
'\t\t\tif(typeof this._getFileListenerLoaded == \'undefined\') {',
'\t\t\t\t//this._getFileListenerLoaded = true;',
'\t\t\t\t//$(this.dialogId + \'._GETFILE\').addEventListener(\'change\',ops.handleFileSelect,false);',
'\t\t\t\t$e.add($(this.dialogId + \'._GETFILE\'),\'change\',ops.handleFileSelect,\'\',\'\',\'__amazonS3fileupload\');',
'\t\t\t}',
'\t\t\teleB = $(this.dialogId + \'._GETFILE\');',
'\t\t}',
'\t\tvar flagFilePassedIn = false;',
'\t\tif(typeof options.flagFilePassedIn != \'undefined\') {',
'\t\t\tflagFilePassedIn = options.flagFilePassedIn',
'\t\t}',
'\t\tif(!flagFilePassedIn) {',
'\t\t\teleB.value = \'\';',
'\t\t\teleB.click();',
'\t\t\teleB.value = \'\';',
'\t\t} else {',
'\t\t\t//options.filePassedIn',
'\t\t\tvar evt = {};',
'\t\t\tevt.target = {};',
'\t\t\tevt.target.files = [];',
'\t\t\tevt.target.files[0] = options.filePassedIn;',
'\t\t\tops.handleFileSelect(evt);',
'\t\t}',
'\t}',
'\t////==== upload PhoneGap /////////////////////////////////////////////////////',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileUpload = function(arr,options) {',
'\t\tvar _dlgObj = this;',
'\t\t//arr is an array of files to upload. arr must have a .filename property in each item',
'\t\tif(typeof LocalFileSystem == \'undefined\') {',
'\t\t\tif(typeof cordova == \'undefined\') {',
'\t\t\t\talert(\'Method not supported when not running in PhoneGap\');',
'\t\t\t} else {',
'\t\t\t\talert(\'Required PhoneGap plugins not loaded.\');',
'\t\t\t}',
'\t\t\treturn false;',
'\t\t}',
'\t\t//initialize variables',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tarr[i].name = arr[i].filename;',
'\t\t\tarr[i].number = i;',
'\t\t\tarr[i].completed = false;',
'\t\t\tarr[i].aborted = false;',
'\t\t\tarr[i].succeeded = false;',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: generateProgressBarsHTML -------------',
'\t\tvar generateProgressBarsHTML = function (ops,count) {',
'\t\t\tvar eleTarget = ops.progressElement;',
'\t\t\teleTarget = eleTarget.toUpperCase();',
'\t\t\tvar html = \'\';',
'\t\t\tvar html_i = \'\';',
'\t\t\tvar name_i = \'\';',
'\t\t\tvar progress_i = \'\';',
'\t\t\tvar idName = \'\';',
'\t\t\tvar idProgress = \'\';',
'\t\t\tif(ops.individualProgress) {',
'\t\t\t\tfor(var  i = 0; i < count; i++) {',
'\t\t\t\t\tname_i = \'Name: \' + i;',
'\t\t\t\t\tprogress_i = \'Progress...\' + i;',
'\t\t\t\t\tidProgress = eleTarget + \'.PROGRESS.\' + i;',
'\t\t\t\t\tidName = eleTarget + \'.NAME.\' + i;',
'\t\t\t\t\tprogress_i = \'<div style="border: solid 1px \'+ops.color+\'; width: \'+ops.width+\';">\';',
'\t\t\t\t\tprogress_i += \'<div id="\'+idProgress+\'"style="width: 0%; height: .05in;  background-color:\'+ops.color+\';"></div></div></td>\';',
'\t\t\t\t\thtml_i = \'<td id="\'+idName+\'">name \'+name_i+\'</td><td>\'+progress_i+\'</td>\';',
'\t\t\t\t\thtml_i = \'<tr>\' + html_i + \'</tr>\';',
'\t\t\t\t\thtml = html + html_i;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(ops.showTotalProgress) {',
'\t\t\t\tidProgress = eleTarget + \'.PROGRESS.TOTAL\';',
'\t\t\t\tidName = eleTarget + \'.NAME.TOTAL\';',
'\t\t\t\tprogress_i = \'<div style="border: solid 1px \'+ops.color+\'; width: \'+ops.width+\';">\';',
'\t\t\t\tprogress_i += \'<div id="\'+idProgress+\'"style="width: 0%; height: .05in;  background-color:\'+ops.color+\';"></div></div></td>\';',
'\t\t\t\thtml_i = \'<td id="\'+idName+\'"></td><td>\'+progress_i+\'</td>\';',
'\t\t\t\thtml_i = \'<tr>\' + html_i + \'</tr>\';',
'\t\t\t\thtml = html + html_i',
'\t\t\t}',
'\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\thtml = \'<div id="\'+idProgress+\'"><table>\' + html + \'</table><div>\';',
'\t\t\t$(eleTarget).innerHTML = html;',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: phoneGapUploadDoWork -------------',
'\t\tvar phoneGapUploadDoWork = function(arr,options) {',
'\t\t\tif(options.target.toLowerCase() == \'s3\') {',
'\t\t\t\t//s3',
'\t\t\t\tvar xbasicFunction = \'a5dialogHelper_systemSignS3Policy\';',
'\t\t\t\tvar data = A5.ajax.buildURLParam(\'_jsonOptions\',JSON.stringify(options));',
'\t\t\t\tvar ajaxObj = {',
'\t\t\t\t\terrorFunction: function() {',
'\t\t\t\t\t\tif(typeof options.onAjaxFailed == \'function\') options.onAjaxFailed();',
'\t\t\t\t\t},',
'\t\t\t\t\tonComplete: function() {',
'\t\t\t\t\t\tvar startUploadLocal = function() {',
'\t\t\t\t\t\t\tvar totalSize = 0;',
'\t\t\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\t\t\ttotalSize = totalSize + Number(arr[i].size);',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tvar _sysObj = {};',
'\t\t\t\t\t\t\t_sysObj.totalBytesToUpload = totalSize;',
'\t\t\t\t\t\t\tvar flagMobile = false;',
'\t\t\t\t\t\t\tif(typeof options._flagMobile != \'undefined\') flagMobile = options._flagMobile;',
'\t\t\t\t\t\t\toptions._flagMobile = flagMobile;',
'\t\t\t\t\t\t\tif(options.showProgress && !flagMobile) generateProgressBarsHTML(options.progress,arr.length);',
'\t\t\t\t\t\t\t//alert(\'ready to start uploading files: total \' + totalSize);',
'\t\t\t\t\t\t\tstartUploadFilesToS3(_sysObj,options);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tvar _sTop = {};',
'\t\t\t\t\t\tgetFileSizesForAllItemsInArray(startUploadLocal,_sTop);',
'\t\t\t\t\t},',
'\t\t\t\t\tdeviceOfflineFunction: function() {',
'\t\t\t\t\t\tif(typeof options.onDeviceOffline == \'function\') options.onDeviceOffline();',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',xbasicFunction,\'\',data,ajaxObj);',
'\t\t\t} else {',
'\t\t\t\t//alpha server',
'\t\t\t\tvar startUploadLocal = function() {',
'\t\t\t\t\tvar totalSize = 0;',
'\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\ttotalSize = totalSize + Number(arr[i].size);',
'\t\t\t\t\t}',
'\t\t\t\t\tvar _sysObj = {};',
'\t\t\t\t\t_sysObj.totalBytesToUpload = totalSize;',
'\t\t\t\t\tif(options.showProgress) generateProgressBarsHTML(options.progress,arr.length);',
'\t\t\t\t\tstartUploadFilesToS3(_sysObj,options);',
'\t\t\t\t}',
'\t\t\t\tvar _sTop = {};',
'\t\t\t\tgetFileSizesForAllItemsInArray(startUploadLocal,_sTop);',
'\t\t\t}',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: getFileSizesForAllItemsInList',
'\t\tvar getFileSizesForAllItemsInArray = function(allDone_GotAllFileSizes_Callback, _sTop)  {',
'\t\t\tvar _s = {count: 0};',
'\t\t\tvar getFileSizesForAllItemsInArrayLow = function (arr,r,count,callback,_s,_sTop) {',
'\t\t\t\tvar rowNumber = r;',
'\t\t\t\tvar url = arr[r].filename;',
'\t\t\t\tvar resolveLocalFileURL_SUCCESS = function(fileEntry) {',
'\t\t\t\t\tvar file_SUCCESS = function(f) {',
'\t\t\t\t\t\tarr[r].size = f.size;',
'\t\t\t\t\t\t_s.count = _s.count + 1;',
'\t\t\t\t\t\tif(_s.count == count) {',
'\t\t\t\t\t\t\tcallback(_sTop);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tfileEntry.file(file_SUCCESS);',
'\t\t\t\t}',
'\t\t\t\t//on iphone, video capture does not return a file with the file:// prefix',
'\t\t\t\tvar urlToResolve = url;',
'\t\t\t\tif(url.indexOf(\'file:\') != 0) {',
'\t\t\t\t\turlToResolve = urlToResolve.replace(\'/private\',\'file:\\/\\/\');',
'\t\t\t\t}',
'\t\t\t\twindow.resolveLocalFileSystemURL(urlToResolve, resolveLocalFileURL_SUCCESS, function() { } );',
'\t\t\t}',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tgetFileSizesForAllItemsInArrayLow(arr,i,arr.length,allDone_GotAllFileSizes_Callback,_s,_sTop)',
'\t\t\t}',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: startUploadFilesToS3',
'\t\tvar startUploadFilesToS3 = function(_sysObj,options) {',
'\t\t\t//_sysObj.totalBytesToUpload;',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tupLoadFilesToS3Work(arr[i].filename,arr,i,_sysObj,options)',
'\t\t\t}',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: s3SignedPolicy',
'\t\tvar s3SignedPolicy = function() {',
'\t\t\tvar obj = {};',
'\t\t\tobj.hasError = {UXPRERENDEREDALIAS}_DlgObj._pgS3.hasError;',
'\t\t\tobj.policyBase64 = {UXPRERENDEREDALIAS}_DlgObj._pgS3.policyBase64;',
'\t\t\tobj.signature = {UXPRERENDEREDALIAS}_DlgObj._pgS3.signature;',
'\t\t\tobj.userKey = {UXPRERENDEREDALIAS}_DlgObj._pgS3.accessKey;',
'\t\t\tobj.acl = {UXPRERENDEREDALIAS}_DlgObj._pgS3.acl;',
'\t\t\tobj.bucket = {UXPRERENDEREDALIAS}_DlgObj._pgS3.bucket;',
'\t\t\treturn obj;',
'\t\t}',
'\t\t///define local function for phoneGapFileUpload: uploadFilesToS3Work',
'\t\tvar upLoadFilesToS3Work = function(filenameURI,arr,fileNumber,_sysObj, actionOptions) {',
'\t\t\t//alert(\'actionOptions.target: \' + actionOptions.target);  s3 or alphaanywhere',
'\t\t\tvar fileName = filenameURI.substr(filenameURI.lastIndexOf(\'/\')+1);',
'\t\t\tvar targetName = fileName;',
'\t\t\tif(typeof actionOptions.onComputeS3Filename == \'function\') {',
'\t\t\t\tvar e = {name: targetName, object: arr[fileNumber]};',
'\t\t\t\tvar newTargetName = actionOptions.onComputeS3Filename(e);',
'\t\t\t\tif(typeof newTargetName == \'undefined\') newTargetName = targetName;',
'\t\t\t\tif(newTargetName == \'\') newTargetName = targetName;',
'\t\t\t\ttargetName = newTargetName;',
'\t\t\t}',
'\t\t\t//on iphone video name is always \'capturedvideo.mov\' (in a unique subfolder)',
'\t\t\tif(targetName.toLowerCase() == \'capturedvideo.mov\') {',
'\t\t\t\ttargetName = A5.UUID() + \'_video.MOV\';',
'\t\t\t}',
'\t\t\tarr[fileNumber].targetName = targetName; //use name that event returned',
'\t\t\tvar ft = new FileTransfer();',
'\t\t\tvar options = new FileUploadOptions();',
'\t\t\toptions.fileKey = "file";',
'\t\t\toptions.fileName = targetName;',
'\t\t\toptions.mimeType = "image/jpeg";',
'\t\t\toptions.chunkedMode = false;',
'\t\t\tif(actionOptions.target == \'alphaanywhere\') {',
'\t\t\t\tvar s3URI = encodeURI( $u.s.aTrim({UXPRERENDEREDALIAS}_DlgObj.ajaxURL));',
'\t\t\t\t//s3URI = \'junk\'; //force a file upload error',
'\t\t\t\t//alert(\'remember to turn this off\');',
'\t\t\t\tvar xbasicAfterUpload = actionOptions.xbasicAfterFileUploaded',
'\t\t\t\tvar specialMode = \'\';',
'\t\t\t\tif(typeof actionOptions.specialMode != \'undefined\') specialMode = actionOptions.specialMode;',
'\t\t\t\toptions.params = {',
'\t\t\t\t\t"_XbasicFunction" : "system:phonegapfileupload",',
'\t\t\t\t\t"__Ajax" : "true",',
'\t\t\t\t\t"__FormAction" : "GenericAjaxCallback",',
'\t\t\t\t\t"__FormID" : "",',
'\t\t\t\t\t"__xbasicAfterUpload" : xbasicAfterUpload,',
'\t\t\t\t\t"__arrayIndex" : fileNumber,',
'\t\t\t\t\t"__actionOptions" : JSON.stringify(actionOptions),',
'\t\t\t\t\t"__specialMode" : specialMode,',
'\t\t\t\t\t"__targetName" : targetName,',
'\t\t\t\t\t"__arrayItem" : JSON.stringify(arr[fileNumber]),',
'\t\t\t\t\t"__ajaxURL" : $u.s.aTrim({UXPRERENDEREDALIAS}_DlgObj.ajaxURL)',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\t//s3',
'\t\t\t\tvar obj = s3SignedPolicy();',
'\t\t\t\tvar s3URI = encodeURI(\'https://\' + obj.bucket + \'.s3.amazonaws.com/\'),',
'\t\t\t\t\tpolicyBase64 = obj.policyBase64,',
'\t\t\t\t\tsignature = obj.signature,',
'\t\t\t\t\tawsKey = obj.userKey,',
'\t\t\t\t\tacl = obj.acl;',
'\t\t\t\toptions.params = {',
'\t\t\t\t\t"key": targetName,',
'\t\t\t\t\t"AWSAccessKeyId": awsKey,',
'\t\t\t\t\t"acl": acl,',
'\t\t\t\t\t"policy": policyBase64,',
'\t\t\t\t\t"signature": signature,',
'\t\t\t\t\t"Content-Type": "image/jpeg"',
'\t\t\t\t};',
'\t\t\t}',
'\t\t\tvar setProgress = function(progressId,fileNumber,pctComplete) {',
'\t\t\t\tvar id = \'\';',
'\t\t\t\tvar countCompleted = 0;',
'\t\t\t\tif(fileNumber == \'total\') {',
'\t\t\t\t\tid = progressId + \'.PROGRESS.TOTAL\';',
'\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\tif(arr[i].completed) countCompleted = countCompleted + 1;',
'\t\t\t\t\t}',
'\t\t\t\t\tvar idN = progressId + \'.NAME.TOTAL\';',
'\t\t\t\t\tvar ele = $(idN);',
'\t\t\t\t\t//if(ele) ele.innerHTML = \'Completed: \' + countCompleted +  \' of \' + arr.length;',
'\t\t\t\t} else {',
'\t\t\t\t\tid = progressId + \'.PROGRESS.\' + fileNumber;',
'\t\t\t\t}',
'\t\t\t\tvar ele = $(id);',
'\t\t\t\tif(ele) ele.style.width = pctComplete + \'%\';',
'\t\t\t\tvar idP = progressId + \'.PROGRESSDISPLAY\';',
'\t\t\t\tele = $(idP);',
'\t\t\t\tif(ele) ele.style.display = \'\';',
'\t\t\t}',
'\t\t\tft.onprogress = function(progressEvent) {',
'\t\t\t\tvar totalBytesToTransfer = _sysObj.totalBytesToUpload',
'\t\t\t\tif(typeof _sysObj.workDone == \'undefined\') {',
'\t\t\t\t\t_sysObj.workDone = [];',
'\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t\t\t_sysObj.workDone[i] = 0;',
'\t\t\t\t\t}',
'\t\t\t\t };',
'\t\t\t\t_sysObj.workDone[fileNumber] = progressEvent.loaded;',
'\t\t\t\tvar gTotal = 0;',
'\t\t\t\tfor(var i = 0; i < _sysObj.workDone.length; i++) {',
'\t\t\t\t\tif(typeof _sysObj.workDone[i] != \'undefined\') {',
'\t\t\t\t\t\tgTotal = gTotal + _sysObj.workDone[i];',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar progressId = actionOptions.progress.progressElement;',
'\t\t\t\tif (progressEvent.lengthComputable) {',
'\t\t\t\t\tvar pctComplete = (progressEvent.loaded / progressEvent.total)*100;',
'\t\t\t\t\tif(pctComplete > 100) pctComplete = 100;',
'\t\t\t\t\tpctComplete = $u.n.round(pctComplete,4);',
'\t\t\t\t\tif(actionOptions.showProgress) setProgress(progressId,fileNumber,pctComplete);',
'\t\t\t\t\tif(typeof actionOptions.onProgressEvent == \'function\') {',
'\t\t\t\t\t\tactionOptions.onProgressEvent(arr, fileNumber, pctComplete, progressEvent.loaded, progressEvent.total);',
'\t\t\t\t\t}',
'\t\t\t\t\tvar pctCompleteTotal = (gTotal / totalBytesToTransfer) * 100;',
'\t\t\t\t\tif(pctCompleteTotal > 100) pctCompleteTotal = 100;',
'\t\t\t\t\tpctCompleteTotal = $u.n.round( pctCompleteTotal,4);',
'\t\t\t\t\tif(actionOptions.showProgress) setProgress(progressId,\'total\',pctCompleteTotal);',
'\t\t\t\t\tif(typeof actionOptions.onProgressEvent == \'function\') {',
'\t\t\t\t\t\tactionOptions.onProgressEvent(arr, \'total\', pctCompleteTotal, gTotal, totalBytesToTransfer);',
'\t\t\t\t\t}',
'\t\t\t\t\tif(actionOptions._flagMobile) {',
'\t\t\t\t\t\tif($(\'MOBILEUPLOADPROGRESS.1\')) $(\'MOBILEUPLOADPROGRESS.1\').style.width = pctCompleteTotal + \'%\';',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\t//progress messages not possible -- should never happen',
'\t\t\t\t}',
'\t\t\t};',
'\t\t\tvar _hasCompleted = function() {',
'\t\t\t\tvar flagAllDone = true;',
'\t\t\t\tfor(var i = 0; i < arr.length; i ++) {',
'\t\t\t\t\tif(arr[i].completed == false) {',
'\t\t\t\t\t\tflagAllDone = false;',
'\t\t\t\t\t\tbreak;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\treturn flagAllDone;',
'\t\t\t}',
'\t\t\tvar fileUploadSuccess = function(r) {',
'\t\t\t\tarr[fileNumber].completed = true;',
'\t\t\t\tarr[fileNumber].succeeded = true;',
'\t\t\t\tarr[fileNumber].remoteName = arr[fileNumber].targetName;',
'\t\t\t\t//for uploads to AlphaAnywhere, the Xbasic function that is called can send a response',
'\t\t\t\tif(r.response != \'undefined\') {',
'\t\t\t\t\tif(r.response != \'\') eval(r.response);',
'\t\t\t\t};',
'\t\t\t\t//if the targer is the Alpha server and the Xbasic handler sent a response that set the \'targetFileName\' property',
'\t\t\t\tvar target = actionOptions.target.toLowerCase();',
'\t\t\t\tif(target == \'s3\') {',
'\t\t\t\t\tif(typeof actionOptions.s3.template != \'undefined\') {',
'\t\t\t\t\t\tarr[fileNumber].remoteName = actionOptions.s3.template.replace(\'__name__\',arr[fileNumber].targetName);',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\tif(typeof arr[fileNumber].targetFileName != \'undefined\') {',
'\t\t\t\t\t\tarr[fileNumber].remoteName = arr[fileNumber].targetFileName;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(typeof actionOptions.onCompleteIndividualFile == \'function\') {',
'\t\t\t\t\tactionOptions.onCompleteIndividualFile(arr,fileNumber);',
'\t\t\t\t}',
'\t\t\t\tvar flagAllDone = _hasCompleted();',
'\t\t\t\tif(flagAllDone) {',
'\t\t\t\t\tvar progressId = actionOptions.progress.progressElement;',
'\t\t\t\t\tvar idP = progressId + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\tvar ele = $(idP);',
'\t\t\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t\t\t\tif(typeof actionOptions.onComplete == \'function\') {',
'\t\t\t\t\t\tactionOptions.onComplete(arr);',
'\t\t\t\t\t};',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tvar _hideProgress = function() {',
'\t\t\t\tvar progressId = actionOptions.progress.progressElement;',
'\t\t\t\tvar idP = progressId + \'.PROGRESSDISPLAY\';',
'\t\t\t\tvar ele = $(idP);',
'\t\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t\t}',
'\t\t\tvar fileUploadFailed = function(error) {',
'\t\t\t\tarr[fileNumber].failed = true;',
'\t\t\t\tarr[fileNumber].completed = true;',
'\t\t\t\tif(typeof actionOptions.onError == \'function\') {',
'\t\t\t\t\tactionOptions.onError(arr,fileNumber,error);',
'\t\t\t\t}',
'\t\t\t\tif(typeof actionOptions.onCompleteIndividualFile == \'function\') {',
'\t\t\t\t\tactionOptions.onCompleteIndividualFile(arr,fileNumber);',
'\t\t\t\t}',
'\t\t\t\tvar flagAllDone = _hasCompleted();',
'\t\t\t\tif(flagAllDone) {',
'\t\t\t\t\t_hideProgress();',
'\t\t\t\t\tif(typeof actionOptions.onComplete == \'function\') {',
'\t\t\t\t\t\tactionOptions.onComplete(arr);',
'\t\t\t\t\t}',
'\t\t\t\t};',
'\t\t\t}',
'\t\t\tvar flagOK = true;',
'\t\t\tif(typeof actionOptions.onValidate == \'function\') {',
'\t\t\t\tvar result = actionOptions.onValidate(arr,fileNumber);',
'\t\t\t\tif(typeof result != \'undefined\') flagOK = result;',
'\t\t\t}',
'\t\t\t//do the upload',
'\t\t\tif(flagOK) {',
'\t\t\t\tvar flagTrustAllHosts = false;',
'\t\t\t\tif(typeof _dlgObj != \'undefined\') {',
'\t\t\t\t\tif(typeof _dlgObj._phoneGapTrustAllHosts != \'undefined\') {',
'\t\t\t\t\t\tflagTrustAllHosts = _dlgObj._phoneGapTrustAllHosts;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tft.upload(filenameURI, s3URI, fileUploadSuccess, fileUploadFailed, options,flagTrustAllHosts);',
'\t\t\t} else {',
'\t\t\t\tarr[fileNumber].aborted = true;',
'\t\t\t\tarr[fileNumber].completed = true;',
'\t\t\t}',
'\t\t}',
'\t\tphoneGapUploadDoWork(arr,options);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectory = function(dirName, onComplete, onError) {',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\t//got the filesystem',
'\t\t\tvar onDirCreateSuccess = function(dirEntry) {',
'\t\t\t\tif(typeof onComplete == \'function\') {',
'\t\t\t\t\tonComplete();',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tfs.root.getDirectory(dirName, {create: true},onDirCreateSuccess, onError);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectoryRecurse = function(dirName, onComplete, onError) {',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\tvar prepareWork = function(dir) {',
'\t\t\tvar arr = dir.split(\'/\');',
'\t\t\tvar arr3 = [];',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tvar arr2 = [];',
'\t\t\t\tfor(var k = 0; k < i + 1; k++) {',
'\t\t\t\t\tarr2.push(arr[k]);',
'\t\t\t\t}',
'\t\t\t\tarr3.push(arr2.join(\'/\'));',
'\t\t\t}',
'\t\t\treturn arr3;',
'\t\t}',
'\t\tvar arr = prepareWork(dirName);',
'\t\tvar count = 0;',
'\t\tvar onCompleteLocal = function() {',
'\t\t\tif(count == arr.length) {',
'\t\t\t\tonComplete();',
'\t\t\t} else {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectory(arr[count],onCompleteLocal,onError);',
'\t\t\t\t++count;',
'\t\t\t}',
'\t\t}',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateDirectory(arr[count],onCompleteLocal,onError);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectory = function(dirName, onComplete, onError) {',
'\t\t//calls onComplete with an array of files in the directory',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\t//got filesystem event handler',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tif(dirName.indexOf(\'/\') == 0) dirName = dirName.substring(1);',
'\t\t\t//got the fileSystem',
'\t\t\t//alert(\'got fs - dirName:  \' + dirName);',
'\t\t\tfs.root.getDirectory(dirName,{},function(e) {',
'\t\t\tvar dirReader = e.createReader();',
'\t\t\tvar listFiles = function(entries) {',
'\t\t\t\tvar fileCount = entries.length;',
'\t\t\t\tvar arr = [];',
'\t\t\t\tvar displayName = \'\';',
'\t\t\t\tfor(var i = 0; i < fileCount ; i++) {',
'\t\t\t\t\tif(entries[i].isFile) displayName = entries[i].fullPath + \' [F]\';',
'\t\t\t\t\telse displayName = entries[i].fullPath + \' [D]\';',
'\t\t\t\t\tarr.push( {fullPath: entries[i].fullPath, isFile: entries[i].isFile, display: displayName } );',
'\t\t\t\t}',
'\t\t\t\tif(typeof onComplete == \'function\') {',
'\t\t\t\t\tonComplete(arr);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tdirReader.readEntries(listFiles,onError);',
'\t\t},onError);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectoryRecurse = function(folder, onDirComplete, onDirError) {',
'\t\t//onDirComplete gets called with files, an array of all files. each array entry has a \'fileName\' property.',
'\t\tvar files = [];',
'\t\tvar pending = 0;',
'\t\tvar onComplete = function(array) {',
'\t\t\tfor(var i = 0; i < array.length; i++) {',
'\t\t\t\tif(array[i].isFile) {',
'\t\t\t\t\tfiles.push({fullPath: array[i].fullPath, isFile: true, display: array[i].fullPath + \' [F]\'})',
'\t\t\t\t} else {',
'\t\t\t\t\t++pending;',
'\t\t\t\t\tfiles.push({fullPath: array[i].fullPath, isFile: false, display: array[i].fullPath + \' [D]\'})',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectory(array[i].fullPath,onComplete,onError)',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t--pending;',
'\t\t\tif(pending == 0) {',
'\t\t\t\tonDirComplete(files);',
'\t\t\t}',
'\t\t}',
'\t\tvar onError = function(err) {',
'\t\t\tif(typeof onDirError == \'function\') {',
'\t\t\t\tonDirError(err);',
'\t\t\t\tonDirComplete = function() { } //prevent the all complete from firing',
'\t\t\t}',
'\t\t\telse alert(\'Error\');',
'\t\t}',
'\t\t++pending;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetDirectory(folder,onComplete,onError);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectory = function(dirName,onSuccess,onError,flagRecursive) {',
'\t\tif(typeof flagRecursive == \'undefined\') flagRecursive = false;',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar gotDirectory = function(dirEntry) {',
'\t\t\t\tif(flagRecursive) {',
'\t\t\t\t\tdirEntry.removeRecursively(function() {',
'\t\t\t\t\t\tif(typeof onSuccess == \'function\') onSuccess();',
'\t\t\t\t\t},onError);',
'\t\t\t\t} else {',
'\t\t\t\t\tdirEntry.remove(function() {',
'\t\t\t\t\t\tif(typeof onSuccess == \'function\') onSuccess();',
'\t\t\t\t\t},onError);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t//if you cant find the dir then it is effectively removed, so call onSuccess',
'\t\t\tfs.root.getDirectory(dirName, {}, gotDirectory, onSuccess);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectoryRecurse = function(dirName,onSuccess,onError) {',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectory(dirName,onSuccess,onError,true);',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFile = function(fileName,onSuccess,onError) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tfs.root.getFile(fileName, {create: false}, function(f) {',
'\t\t\t\tf.remove( function() {',
'\t\t\t\t\tif(typeof onSuccess == \'function\') {',
'\t\t\t\t\t\tonSuccess();',
'\t\t\t\t\t}',
'\t\t\t\t}, onError );',
'\t\t\t}, onError);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileExists = function(fileName,onResult,onFailed) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar gotFile = function(f) {',
'\t\t\t\tif(typeof onResult == \'function\') onResult(true);',
'\t\t\t}',
'\t\t\tvar didNotGetFile = function() {',
'\t\t\t\tif(typeof onResult == \'function\') onResult(false);',
'\t\t\t}',
'\t\t\tfs.root.getFile(fileName, {create: false}, gotFile,didNotGetFile);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onFailed );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapReadFile = function(fileName,onReadFile,onReadFileERROR,startAt,endAt) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar readFile = function(f) {',
'\t\t\t\tf.file( function(e) {',
'\t\t\t\t\treader = new FileReader();',
'\t\t\t\t\treader.onloadend = function(e) {',
'\t\t\t\t\t\tif(typeof onReadFile == \'function\') {',
'\t\t\t\t\t\t\tonReadFile(e.target.result);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tif(typeof startAt == \'undefined\' || typeof endAt == \'undefined\') {',
'\t\t\t\t\t\treader.readAsText(e);',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tvar blob = e.slice(startAt,endAt);',
'\t\t\t\t\t\treader.readAsText(blob);',
'\t\t\t\t\t}',
'\t\t\t\t});',
'\t\t\t}',
'\t\t\tfs.root.getFile(fileName, {create: false}, readFile, onReadFileERROR);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onReadFileERROR );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj._phoneGapCreateFile_low = function(fileName,text,onCreatedFile,onCreateFileERROR) {',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar writeFileData = function(f) {',
'\t\t\t\tvar doFileWrite = function(writerObject) {',
'\t\t\t\t\twriterObject.onwrite = function() {',
'\t\t\t\t\t\tif(typeof onCreatedFile == \'function\') onCreatedFile();',
'\t\t\t\t\t}',
'\t\t\t\t\twriterObject.seek(writerObject.length);',
'\t\t\t\t\tvar blob = new Blob([text], {type: \'text/plain\'});',
'\t\t\t\t\twriterObject.write(blob);',
'\t\t\t\t}',
'\t\t\t\tf.createWriter(doFileWrite);',
'\t\t\t}',
'\t\t\tfs.root.getFile(fileName, {create:true}, writeFileData, onCreateFileERROR);',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onCreateFileERROR );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapCreateFile = function(fileName,text,onCreatedFile,onCreateFileERROR,flagAppend) {',
'\t\tif(fileName == \'\') {if(typeof onCreateFileERROR == \'function\') onCreateFileERROR(); return false;}',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tif(!flagAppend) {',
'\t\t\t\tvar onDelete = function() {',
'\t\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._phoneGapCreateFile_low(fileName,text,onCreatedFile,onCreateFileERROR);',
'\t\t\t\t}',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFile(fileName,onDelete,onDelete)',
'\t\t\t} else {',
'\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._phoneGapCreateFile_low(fileName,text,onCreatedFile,onCreateFileERROR)',
'\t\t\t}',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onCreateFileERROR );',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileDownload = function(arr,options) {',
'\t\tvar flagCustomOnError = false;',
'\t\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents != \'undefined\') flagCustomOnError = {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents;',
'\t\tif(!flagCustomOnError) window.onerror = function(err) { alert(\'Unhandled Javascript Error - phoneGapFileDownload:  \' + JSON.stringify(err));}',
'\t\tvar _dlgObj = this;',
'\t\tif(typeof LocalFileSystem == \'undefined\') {',
'\t\t\tif(typeof cordova == \'undefined\') {',
'\t\t\t\talert(\'Method not supported when not running in PhoneGap\');',
'\t\t\t} else {',
'\t\t\t\talert(\'Required PhoneGap plugins not loaded.\');',
'\t\t\t}',
'\t\t\treturn false;',
'\t\t}',
'\t\tif(typeof onError == \'undefined\') onError = function(err) { };',
'\t\t//got filesystem event handler',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tarr[i].handled = false;',
'\t\t\tarr[i].downloaded = false;',
'\t\t\tarr[i].sourceType = \'server\';',
'\t\t\tif(arr[i].filename.toLowerCase().indexOf(\'http://\') == 0) arr[i].sourceType = \'url\';',
'\t\t\tif(arr[i].filename.toLowerCase().indexOf(\'https://\') == 0) arr[i].sourceType = \'url\';',
'\t\t\tif(arr[i].sourceType == \'url\') {',
'\t\t\t\tarr[i].sourceFilename = arr[i].filename.split(\'/\').pop().split(\'?\')[0];',
'\t\t\t}',
'\t\t}',
'\t\tvar onFSSuccess = function(fs) {',
'\t\t\tvar baseDirectory = fs.root.toURL();',
'\t\t\tvar url = {UXPRERENDEREDALIAS}_DlgObj.ajaxURL;',
'\t\t\turl = url.split(\'?\')[0];',
'\t\t\turl = url.split(\'/\');',
'\t\t\turl.pop();',
'\t\t\turl = url.join(\'/\') + \'/\';',
'\t\t\toptions._serverURL = url;',
'\t\t\toptions._baseDirectory = baseDirectory;',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\t//arr[i].localFileName = false;',
'\t\t\t}',
'\t\t\tif(options.showProgress) {',
'\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\tvar idProgress = eleTarget;',
'\t\t\t\tvar ele = $(idProgress);',
'\t\t\t\tif(!ele) options.showProgress = false; //set to false or else you will hang iOS',
'\t\t\t}',
'\t\t\tif(options.showProgress) {',
'\t\t\t\tvar ops = options.progress;',
'\t\t\t\tops.totalFileSize = options.totalFileSize;',
'\t\t\t\tvar eleTarget = ops.progressElement;',
'\t\t\t\teleTarget = eleTarget.toUpperCase();',
'\t\t\t\tvar html = \'\';',
'\t\t\t\tvar html_i = \'\';',
'\t\t\t\tvar name_i = \'\';',
'\t\t\t\tvar progress_i = \'\';',
'\t\t\t\tvar idName = \'\';',
'\t\t\t\tvar idProgress = \'\';',
'\t\t\t\tidProgress = eleTarget + \'.PROGRESS.TOTAL\';',
'\t\t\t\tidName = eleTarget + \'.NAME.TOTAL\';',
'\t\t\t\tprogress_i = \'<div style="border: solid 1px \'+ops.color+\'; width: \'+ops.width+\';">\';',
'\t\t\t\tprogress_i += \'<div id="\'+idProgress+\'"style="width: 0%; height: .05in;  background-color:\'+ops.color+\';"></div></div>\';',
'\t\t\t\thtml_i = \'<div id="\'+idName+\'"></div>\'+progress_i;',
'\t\t\t\thtml = html + html_i',
'\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\thtml = \'<div id="\'+idProgress+\'">\' + html + \'<div>\';',
'\t\t\t\tif ($(eleTarget)) $(eleTarget).innerHTML = html;',
'\t\t\t\tvar showProgress = function(pct) {',
'\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESS.TOTAL\';',
'\t\t\t\t\tvar ele = $(idProgress);',
'\t\t\t\t\tif(ele) ele.style.width = pct + \'%\';',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\tvar showProgress = function(pct) { };',
'\t\t\t}',
'\t\t\tvar phoneGapFileDownload_low = function(arr,i,options) {',
'\t\t\t\tvar targetFolder = options.targetFolder;',
'\t\t\t\tif(targetFolder != \'\') targetFolder = targetFolder + \'/\';',
'\t\t\t\tvar fnLocal = options._baseDirectory + targetFolder + arr[i].filename;',
'\t\t\t\tif(arr[i].sourceType == \'url\') {',
'\t\t\t\t\tfnLocal = options._baseDirectory + targetFolder +arr[i].sourceFilename;',
'\t\t\t\t}',
'\t\t\t\t//if the targetFolder is <SQLite>|localdbname.db user is doing a special download to the SQL database folder',
'\t\t\t\tvar flagSQLite = false;',
'\t\t\t\t/*',
'\t\t\t\tif(targetFolder.indexOf(\'<SQLite>\') == 0) {',
'\t\t\t\t\tvar localDBName = targetFolder.split(\'|\')[1];',
'\t\t\t\t\tlocalDBName = localDBName.split(\'/\')[0];',
'\t\t\t\t\tflagSQLite = true;',
'\t\t\t\t\tvar thisPackageName = \'\';',
'\t\t\t\t\tthisPackageName = _phoneGapSettings().appId ;',
'\t\t\t\t\tvar localDbFileUrl = \t{',
'\t\t\t\t\t\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + localDBName,',
'\t\t\t\t\t\t\tios: \'cdvfile://localhost/persistent/\' + localDBName',
'\t\t\t\t\t\t\t//cdvfile://localhost/persistent/sqlite/\' + localDBName',
'\t\t\t\t\t\t};',
'\t\t\t\t\tif(typeof device == \'undefined\') {',
'\t\t\t\t\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar thisDevice = device.platform;',
'\t\t\t\t\tvar fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\t\t\t\t\tconsole.log(\'database location: \' + fileUrl);',
'\t\t\t\t\tfnLocal = fileUrl;',
'\t\t\t\t}',
'\t\t\t\t*/',
'\t\t\t\t///////////////////// new code /////////////////',
'\t\t\t\tif(targetFolder.indexOf(\'<SQLite>\') == 0) {',
'\t\t\t\t\tvar localDBName = targetFolder.split(\'|\')[1];',
'\t\t\t\t\tlocalDBName = localDBName.split(\'/\')[0];',
'\t\t\t\t\tflagSQLite = true;',
'\t\t\t\t\tvar thisPackageName = \'\';',
'\t\t\t\t\tthisPackageName = _phoneGapSettings().appId ;',
'\t\t\t\t\tvar localDbFileUrl = {',
'\t\t\t\t\t\t// Android note: This entry was tested and works on Android 6.01, 5.5.1, 4.4.2',
'\t\t\t\t\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + localDBName,',
'\t\t\t\t\t\t// iOS Note: dataDirectory will point to ..appid/Library/NoCloud',
'\t\t\t\t\t\t// This is not exposed to iTunes or iCloud',
'\t\t\t\t\t\tios: cordova.file.dataDirectory + localDBName',
'\t\t\t\t\t};',
'\t\t\t\t\tif(typeof device == \'undefined\') {',
'\t\t\t\t\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t\t\t\t\t}',
'\t\t\t\t\tvar thisDevice = device.platform;',
'\t\t\t\t\tvar fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\t\t\t\t\tconsole.log(\'.phoneGapFileDownload reports fileUrl: \' + fileUrl);',
'\t\t\t\t\tfnLocal = fileUrl;',
'\t\t\t\t}',
'\t\t\t\t/////////////////// end new code ////////////////',
'\t\t\t\tvar fileFound = function() {',
'\t\t\t\t\tvar forceDownload = false;',
'\t\t\t\t\tforceDownload = options.forceDownloadIfFileExists;',
'\t\t\t\t\tif(typeof forceDownload == \'undefined\') forceDownload = false;',
'\t\t\t\t\tif(forceDownload) {',
'\t\t\t\t\t\tfileNotFound();',
'\t\t\t\t\t\treturn true;',
'\t\t\t\t\t}',
'\t\t\t\t\tarr[i].handled = true;',
'\t\t\t\t\tarr[i].found = true;',
'\t\t\t\t\tarr[i].localFilename = fnLocal;',
'\t\t\t\t\tarr[i].success = true;',
'\t\t\t\t\tvar allHandled = true;',
'\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\tif(!arr[k].handled) {',
'\t\t\t\t\t\t\tallHandled = false;',
'\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tif(allHandled) {',
'\t\t\t\t\t\tif(typeof options.onComplete == \'function\') options.onComplete(arr);',
'\t\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\t\tvar ele = $(idProgress);',
'\t\t\t\t\t\tif(ele) ele.style.display = \'none\';',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar fileNotFound = function() {',
'\t\t\t\t\t//file was not in the local filesystem so must download it.',
'\t\t\t\t\tarr[i].found = false;',
'\t\t\t\t\tarr[i].localFilename = fnLocal;',
'\t\t\t\t\tvar url2 = options._serverURL + arr[i].filename;',
'\t\t\t\t\tif(arr[i].sourceType == \'url\') {',
'\t\t\t\t\t\turl2 = arr[i].filename;',
'\t\t\t\t\t}',
'\t\t\t\t\tvar ft = new FileTransfer();',
'\t\t\t\t\tft.onprogress = function(progressEvent) {',
'\t\t\t\t\t\tif (progressEvent.lengthComputable) {',
'\t\t\t\t\t\t\tarr[i].totalBytes = progressEvent.total;',
'\t\t\t\t\t\t\tarr[i].bytesLoaded = progressEvent.loaded;',
'\t\t\t\t\t\t\tvar totalSize = -1;',
'\t\t\t\t\t\t\tif(typeof options != \'undefined\') {',
'\t\t\t\t\t\t\t\ttotalSize = options.totalFileSize;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tif(typeof totalSize == \'undefined\') totalSize = -1;',
'\t\t\t\t\t\t\tif(totalSize == -1) {',
'\t\t\t\t\t\t\t\tvar pctComplete = (progressEvent.loaded / progressEvent.total)*100;',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\tvar pctComplete = (progressEvent.loaded / totalSize)*100;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tif(pctComplete > 100) pctComplete = 100;',
'\t\t\t\t\t\t\tpctComplete = $u.n.round(pctComplete,4);',
'\t\t\t\t\t\t\tarr[i].pctComplete = pctComplete;',
'\t\t\t\t\t\t\tvar totalBytes = 0;',
'\t\t\t\t\t\t\tvar loaded = 0;',
'\t\t\t\t\t\t\tvar pctCompleteTotal = 0;',
'\t\t\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\t\t\tif(typeof arr[k].totalBytes != \'undefined\') {',
'\t\t\t\t\t\t\t\t\ttotalBytes = totalBytes + arr[k].totalBytes;',
'\t\t\t\t\t\t\t\t\tloaded = loaded + arr[k].bytesLoaded;',
'\t\t\t\t\t\t\t\t\tpctCompleteTotal = (loaded/totalBytes) * 100;',
'\t\t\t\t\t\t\t\t\tif(totalSize > 0) {',
'\t\t\t\t\t\t\t\t\t\tpctCompleteTotal = (loaded/totalSize) * 100;',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\t//don\'t start showing progress till you have got the size of every file',
'\t\t\t\t\t\t\t\t\t//or else the progress bar will jump around',
'\t\t\t\t\t\t\t\t\tvar flagStartShowingProgress = true;',
'\t\t\t\t\t\t\t\t\t//we don\'t do the inner loop anymore because we are going to start showing progress immediately',
'\t\t\t\t\t\t\t\t\t/*',
'\t\t\t\t\t\t\t\t\tfor(var j = 0; j < arr.length; j++) {',
'\t\t\t\t\t\t\t\t\t\tif(typeof arr[j].totalBytes == \'undefined\') {',
'\t\t\t\t\t\t\t\t\t\t\t//$(\'msg1\').innerHTML = \'not started: \' + arr[j].filename   + \'<br>\' + $(\'msg1\').innerHTML;',
'\t\t\t\t\t\t\t\t\t\t\tflagStartShowingProgress = false;',
'\t\t\t\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t\t*/',
'\t\t\t\t\t\t\t\t\tif(flagStartShowingProgress || true ) showProgress(pctCompleteTotal);',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\talert(\'length NOT computable\');',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar flagTrustAllHosts = false;',
'\t\t\t\t\tif(typeof _dlgObj._phoneGapTrustAllHosts != \'undefined\') {',
'\t\t\t\t\t\tflagTrustAllHosts = _dlgObj._phoneGapTrustAllHosts;',
'\t\t\t\t\t}',
'\t\t\t\t\tft.download(url2, fnLocal,',
'\t\t\t\t\t\t\tfunction(entry) {',
'\t\t\t\t\t\t\t\t//alert(\'Success! \' + fnLocal);',
'\t\t\t\t\t\t\t\t//alert(\'number: \' + i );',
'\t\t\t\t\t\t\t\t//alert(JSON.stringify(entry));',
'\t\t\t\t\t\t\t\tarr[i].success = true;',
'\t\t\t\t\t\t\t\tarr[i].handled = true;',
'\t\t\t\t\t\t\t\tarr[i].downloaded = true;',
'\t\t\t\t\t\t\t\t//fileAllDone();',
'\t\t\t\t\t\t\t\tvar allHandled = true;',
'\t\t\t\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\t\t\t\tif(!arr[k].handled) {',
'\t\t\t\t\t\t\t\t\t\tallHandled = false;',
'\t\t\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\tif(allHandled) {',
'\t\t\t\t\t\t\t\t\tif(typeof options.onComplete == \'function\') options.onComplete(arr);',
'\t\t\t\t\t\t\t\t\tif(options.showProgress) {',
'\t\t\t\t\t\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\t\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\t\t\t\t\t\t$(idProgress).style.display = \'none\';',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t},',
'\t\t\t\t\t\t\tfunction(err) {',
'\t\t\t\t\t\t\t\t//alert(\'Error in file transfer: \' + fnLocal);',
'\t\t\t\t\t\t\t\t//debugger;',
'\t\t\t\t\t\t\t\tarr[i].success = false;',
'\t\t\t\t\t\t\t\tarr[i].errorText = JSON.stringify(err);',
'\t\t\t\t\t\t\t\tarr[i].handled = true;',
'\t\t\t\t\t\t\t\t//fileAllDone();',
'\t\t\t\t\t\t\t\tvar allHandled = true;',
'\t\t\t\t\t\t\t\tfor(var k = 0; k < arr.length; k++) {',
'\t\t\t\t\t\t\t\t\tif(!arr[k].handled) {',
'\t\t\t\t\t\t\t\t\t\tallHandled = false;',
'\t\t\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\tif(allHandled) {',
'\t\t\t\t\t\t\t\t\tif(typeof options.onComplete == \'function\') options.onComplete(arr);',
'\t\t\t\t\t\t\t\t\tif(options.showProgress) {',
'\t\t\t\t\t\t\t\t\t\tvar eleTarget = options.progress.progressElement.toUpperCase();',
'\t\t\t\t\t\t\t\t\t\tvar idProgress = eleTarget + \'.PROGRESSDISPLAY\';',
'\t\t\t\t\t\t\t\t\t\tif($(idProgress)) $(idProgress).style.display = \'none\';',
'\t\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t},',
'\t\t\t\t\t\t\tflagTrustAllHosts',
'\t\t\t\t\t);',
'\t\t\t\t\t//end fetch file  ---------------------------------------',
'\t\t\t\t\t//true/false -- trustAllHosts parameter',
'\t\t\t\t}',
'\t\t\t\twindow.resolveLocalFileSystemURL(fnLocal, fileFound, fileNotFound);',
'\t\t\t}',
'\t\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t\tphoneGapFileDownload_low(arr,i,options)',
'\t\t\t}',
'\t\t}',
'\t\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );',
'\t}',
'\tA5.ts = function() {',
'\t\tvar d = new Date()',
'\t\treturn d.getTime().toString(36);',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetFileSystemURIForLegacyPersistentStorage = function(ok,fail) {',
'\tvar _ok = ok;',
'\tvar onFSSuccess = function(fs) {',
'\t\tvar uri = fs.root.filesystem.root.nativeURL;',
'\t\t_ok(uri);',
'\t}',
'\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, fail );',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.base64DataToBlob = function(dataURI) {',
'\t//data:image/jpeg;base64,/',
'\t// convert base64/URLEncoded data component to raw binary data held in a string',
'    var byteString;',
'    if (dataURI.split(\',\')[0].indexOf(\'base64\') >= 0)',
'        byteString = atob(dataURI.split(\',\')[1]);',
'    else',
'        byteString = unescape(dataURI.split(\',\')[1]);',
'    // separate out the mime component',
'    var mimeString = dataURI.split(\',\')[0].split(\':\')[1].split(\';\')[0];',
'    // write the bytes of the string to a typed array',
'    var ia = new Uint8Array(byteString.length);',
'    for (var i = 0; i < byteString.length; i++) {',
'        ia[i] = byteString.charCodeAt(i);',
'    }',
'    return new Blob([ia], {type:mimeString});',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteDownloadDatabase = function(SQLiteDBURL,localDBName,onComplete,onError,optionsIn) {',
'\tif(SQLiteDBURL.indexOf(\'http://\') == 0 || SQLiteDBURL.indexOf(\'https://\') == 0) {',
'\t\t//don\'t need to add the baseURL',
'\t} else {',
'\t\tvar url = {UXPRERENDEREDALIAS}_DlgObj.ajaxURL;',
'\t\turl = url.split(\'?\')[0];',
'\t\turl = url.split(\'/\');',
'\t\turl.pop();',
'\t\turl = url.join(\'/\') + \'/\';',
'\t\tSQLiteDBURL =  url + SQLiteDBURL;',
'\t}',
'\tif(typeof onError != \'function\') {',
'\t\tonError = function(error) {',
'\t\t\talert(\'Database Download Failed. File transfer error: \'+error);',
'\t\t}',
'\t}',
'\tif(typeof _phoneGapSettings == \'undefined\') {',
'\t\talert(\'PhoneGap not loaded\');',
'\t\treturn false;',
'\t}',
'\tvar flagSQL = _phoneGapSettings().plugins[\'cordova-sqlite-ext\'];   //com.brodysoft.sqliteplugin',
'\tflagSQL = true;',
'\tif(typeof flagSQL == \'undefined\') flagSQL = false;',
'\tif(!flagSQL) {',
'\t\talert(\'SQLitePluginExt not loaded\');',
'\t\treturn false;',
'\t}',
'\t////////////////////',
'\tif(typeof optionsIn == \'undefined\') {',
'\t\tvar ops = {',
'\t\t\tshowProgress : false,',
'\t\t\tforceDownloadIfFileExists : true',
'\t\t\t}',
'\t} else {',
'\t\tvar ops = optionsIn',
'\t}',
'\tvar arr = [];',
'\tarr.push({filename: SQLiteDBURL});',
'\tvar options = {};',
'\toptions.targetFolder = \'<SQLite>|\' + localDBName;',
'\toptions.onComplete = function() {',
'\t\tonComplete.call();',
'\t}',
'\toptions.onError = function() { onError.call() };',
'\toptions.showProgress = ops.showProgress;',
'\toptions.forceDownloadIfFileExists = ops.forceDownloadIfFileExists;',
'\tif(options.showProgress) {',
'\t\toptions.progress = ops.progress;',
'\t}',
'\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileDownload(arr,options);',
'\t///////////////////////////////////',
'\t/*',
'\tvar thisPackageName = \'\';',
'\tthisPackageName = _phoneGapSettings().appId ;',
'\t//alert(thisPackageName)',
'\tvar localDbFileUrl = \t{',
'\t\t\t\t\t\t\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + localDBName,',
'\t\t\t\t\t\t\t\tios: \'cdvfile://localhost/persistent/\' + localDBName',
'\t\t\t\t\t\t\t};',
'\tif(typeof device == \'undefined\') {',
'\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t}',
'\tvar thisDevice = device.platform;',
'\tvar fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\tvar fileTransfer = new FileTransfer();',
'\tvar uri = encodeURI(SQLiteDBURL);',
'\tvar options = {};',
'\tfileTransfer.download(uri,fileUrl,onComplete,onError,false,options);',
'\t*/',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteExecuteSQL = function(dbName,sql,argumentsIn,onSuccess,onError, onTransactionSuccess, onTransactionError) {',
'\tvar flagCustomOnError = false;',
'\tif(typeof {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents != \'undefined\') flagCustomOnError = {UXPRERENDEREDALIAS}_DlgObj.customWindowErrorEvents;',
'\tif(!flagCustomOnError) window.onerror = function(err) { alert(\'Unhandled Javascript Error - SQliteExecuteSQL:  \' + JSON.stringify(err));}',
'\tvar flagSQL = _phoneGapSettings().plugins[\'cordova-sqlite-ext\'];   //com.brodysoft.sqliteplugin',
'\t\tflagSQL = true;',
'\t\tif(typeof flagSQL == \'undefined\') flagSQL = false;',
'\t\tif(!flagSQL) {',
'\t\t\talert(\'SQLitePluginExt not loaded\');',
'\t\t\treturn false;',
'\t}',
'\tif(typeof onSuccess == \'undefined\') onSuccess = false;',
'\tif(typeof onError == \'undefined\') onError = false;',
'\tif(typeof argumentsIn == \'undefined\' || argumentsIn.constructor != Array) argumentsIn = [];',
'\tif(onSuccess.constructor != Array)  {',
'\t\tif(typeof onSuccess != \'function\') {',
'\t\t\tonSuccess = function(tx,result) {',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(onError.constructor != Array)  {',
'\t\tif(typeof onError != \'function\') {',
'\t\t\t\tonError = function(e) {',
'\t\t\t\t}',
'\t\t}',
'\t}',
'\tif(typeof device == \'undefined\') {',
'\t\t\talert(\'PhoneGap required plugin not loaded: device\');',
'\t}',
'\tvar flagArrayOfObjects = false;',
'\tif(sql.constructor == Array) {',
'\t\tif(sql[0].constructor == Object) {',
'\t\t\tflagArrayOfObjects = true;',
'\t\t}',
'\t}',
'\tif(flagArrayOfObjects) {',
'\t\tvar a = sql;',
'\t\tdelete sql;',
'\t\tsql = [];',
'\t\targumentsIn = [];',
'\t\tonSuccess = [];',
'\t\tonError = [];',
'\t\tfor(var i = 0; i < a.length; i++) {',
'\t\t\tsql[i] = a[i].sql;',
'\t\t\tif(typeof a[i].arguments != \'undefined\') {',
'\t\t\t\targumentsIn[i] = a[i].arguments;',
'\t\t\t} else {',
'\t\t\t\targumentsIn[i] = [];',
'\t\t\t}',
'\t\t\tif(typeof a[i].onSuccess != \'undefined\') {',
'\t\t\t\tonSuccess[i] = a[i].onSuccess;',
'\t\t\t} else {',
'\t\t\t\tonSuccess[i] = function() { };',
'\t\t\t}',
'\t\t\tif(typeof a[i].onError != \'undefined\') {',
'\t\t\t\tonError[i] = a[i].onError;',
'\t\t\t} else {',
'\t\t\t\tonError[i] = function() { };',
'\t\t\t}',
'\t\t}',
'\t}',
'\t/*',
'\tvar thisDevice = device.platform;',
'\t//var dbFilename = thisDevice == \'Android\' ? dbName:\'files/\' + dbName;',
'\tvar thisPackageName = \'\';',
'\tthisPackageName = _phoneGapSettings().appId ;',
'\tvar localDbFileUrl = \t{',
'\t\tandroid: \'/data/data/\' + thisPackageName + \'/databases/\' + dbName,',
'\t\tios: \'cdvfile://localhost/persistent/\' + dbName',
'\t\t//cdvfile://localhost/persistent/sqlite/\' + localDBName',
'\t};',
'\tvar dbFilename = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;',
'\tconsole.log(\'database location: \' + dbFilename);',
'\tdelete db;',
'\tif(typeof window.sqlitePlugin == \'undefined\') {',
'\t\talert(\'Error: PhoneGap SQLite plugin not loaded.\');',
'\t}',
'\tvar db = window.sqlitePlugin.openDatabase({name:dbFilename,location:2});',
'\t*/',
'\t///////////////// new code starts here/////////////',
'\t//start here........',
'\tvar thisDevice = device.platform;',
'\tvar dbFilename = thisDevice == \'Android\' ? dbName:\'NoCloud/\' + dbName;   //NoCloud -- no exposed to iTunes and not backed up to iCloud',
'\tconsole.log(\'.SQLiteExecuteSQL: database location = \' + dbFilename);',
'\tif(typeof window.sqlitePlugin == \'undefined\') {',
'\t\talert(\'Error: PhoneGap SQLite plugin not loaded.\');',
'\t}',
'\tvar location = \'download\';',
'\tif( dbName.indexOf(\'root:\') == 0) {',
'\t\tlocation = \'root\';',
'\t\tdbName = dbName.split(\'root:\')[1];',
'\t}',
'\t//this is for a db that is downloaded from the server',
'\tif(location == \'download\') {',
'\t\tvar db = window.sqlitePlugin.openDatabase({name:dbFilename,location:1});',
'\t} else {',
'\t\t//if the db is in the webroot (pre-populated), then use this code',
'\t\tvar db = window.sqlitePlugin.openDatabase({name: dbName , location: 2, createFromLocation: 1});',
'\t}',
'\t///// end here.....',
'\t///////////////////new code ends here ////////////////',
'\tdb.transaction(',
'\t\tfunction(tx) {',
'\t\t\t//array of sql statements or array of array',
'\t\t\tvar flagArrayOfArrays = false;',
'\t\t\ttry{if(argumentsIn[0].constructor == Array) flagArrayOfArrays = true;} catch(e) {}',
'\t\t\tif(sql.constructor == Array || flagArrayOfArrays) {',
'\t\t\t\tif(sql.constructor == Array) {',
'\t\t\t\t\tvar sql_length = sql.length;',
'\t\t\t\t} else {',
'\t\t\t\t\tvar sql_length = argumentsIn.length;',
'\t\t\t\t}',
'\t\t\t\tvar i = 0;',
'\t\t\t\tfunction _lowSQL(transObj) {',
'\t\t\t\t\tif(sql.constructor == Array) {',
'\t\t\t\t\t\tvar sql_i = sql[i];',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tvar sql_i = sql;',
'\t\t\t\t\t}',
'\t\t\t\t\tvar args_i = argumentsIn[i];',
'\t\t\t\t\tif(typeof args_i != \'undefined\') {',
'\t\t\t\t\t\tfor(var j = 0; j < args_i.length; j++) {',
'\t\t\t\t\t\t\tif(typeof args_i[j] == \'function\') {',
'\t\t\t\t\t\t\t\tvar result = args_i[j].call(this,transObj);',
'\t\t\t\t\t\t\t\targs_i[j] = result;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar success_i = function(tx2,result) {',
'\t\t\t\t\t\tvar resultArray = {UXPRERENDEREDALIAS}_DlgObj.SQLiteResultSetToArray(result);',
'\t\t\t\t\t\tif(onSuccess.constructor == Array) {',
'\t\t\t\t\t\t\tonSuccess[i].call(this,tx2,result,resultArray,transObj);',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\tonSuccess.call(this,tx2,result,resultArray,transObj);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\ti++;',
'\t\t\t\t\t\tif(i < sql_length) {',
'\t\t\t\t\t\t\t_lowSQL(transObj);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar error_i = function(e) {',
'\t\t\t\t\t\tif(onError.constructor == Array) {',
'\t\t\t\t\t\t\tonError[i].call(this,e);',
'\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\tonError.call(this,e);',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\ttx.executeSql(sql_i,args_i,success_i,error_i);',
'\t\t\t\t}',
'\t\t\t\t_lowSQL({});',
'\t\t\t} else {',
'\t\t\t\t//single sql statement',
'\t\t\t\ttx.executeSql(sql,argumentsIn,function(tx,result) {',
'\t\t\t\t\tvar resultArray = {UXPRERENDEREDALIAS}_DlgObj.SQLiteResultSetToArray(result);',
'\t\t\t\t\tonSuccess.call(this,tx,result,resultArray);',
'\t\t\t\t}, function(e) {onError.call(this,e); });',
'\t\t\t}',
'\t\t},',
'\t\tfunction(e) { /*transaction failure*/ if(typeof onTransactionError == \'function\') { onTransactionError.call(this);} db.close(); },',
'\t\tfunction() { /*transaction success*/ if(typeof onTransactionSuccess == \'function\') { onTransactionSuccess.call(this);} db.close();  }',
'\t);',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteResultSetToArray = function(result) {',
'\tvar array = [];',
'\tif (result !=null && result.rows != null){',
'\t\tfor (var i = 0; i < result.rows.length; i++) {',
'\t\t\tarray.push(result.rows.item(i));',
'\t\t}',
'\t}',
'\treturn array;',
'}',
'{UXPRERENDEREDALIAS}_DlgObj.SQLiteDeleteDatabase = function(dbName,successCB,errorCB,location) {',
'\tvar flagSQL = _phoneGapSettings().plugins[\'cordova-sqlite-ext\'];   //com.brodysoft.sqliteplugin',
'\t\tflagSQL = true;',
'\t\tif(typeof flagSQL == \'undefined\') flagSQL = false;',
'\t\tif(!flagSQL) {',
'\t\t\talert(\'SQLitePluginExt not loaded\');',
'\t\t\treturn false;',
'\t}',
'\t/*',
'\tif(typeof location == \'undefined\') location = 2;',
'\t*/',
'\t///// new code /////',
'\tif(typeof location == \'undefined\') location = 1;',
'\t///// end new code /////',
'\twindow.sqlitePlugin.deleteDatabase({name: dbName, location: location}, successCB, errorCB);',
'}',
'////////////////////////////////////////',
'{UXPRERENDEREDALIAS}_DlgObj.submitListDataAndMediaFiles = function(listName,xbCallbackFunction,ajaxObject,mediaFileUploadObject) {',
'\t//first, upload media files, then upload dirty records in a list and then call xbCallbackFunction on the server side. Uploaded data will be in e._listData in the Xbasic function',
'\t/*',
'\tExample syntax:',
'\tvar ajaxObject = {',
'\t\terrorFunction: function() { alert(\'failed ajax\'); },',
'\t\tonComplete: function() { alert(\'ajax done\');},',
'\t\tdeviceOfflineFunction: function() { alert(\'offline \');  }',
'\t}',
'\tvar objUpload = {',
'\t\ttarget: \'alphaanywhere\',',
'\t\tshowProgress: true,',
'\t\tonComplete: function(array) {},',
'\t\tonMediaUploadErrors: function(array) { alert(\'there were media upload errors\');},',
'\t\txbasicAfterFileUploaded: \'xbAfterUpload\',',
'\t\tprogress: {',
'\t\t\tcolor: \'#9fa1e8\',',
'\t\t\twidth: \'300px\',',
'\t\t\tindividualProgress: false,',
'\t\t\tshowTotalProgress: true,',
'\t\t\tallowCancel: false,',
'\t\t\tprogressElement: \'{UXPRERENDEREDALIAS}.V.R1.PLACEHOLDER_2\'',
'\t\t}',
'\t}',
'\t//to upload to s3',
'\ttarget: \'s3\',',
'\t\ts3: {',
'\t\t\tconnectionString: \'alphamediacapture\',',
'\t\t\tprotectedRead: false,',
'\t\t\ttemplate: \'https://alphamediacapture.s3.amazonaws.com/__name__\'',
'\t},',
'\t///////',
'\t{UXPRERENDEREDALIAS}_DlgObj.submitListDataAndMediaFiles(\'list1\',xbName,ajaxObject,objUpload);',
'\t*/',
'\tvar lObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(listName);',
'\tif(!lObj) return false;',
'\tvar objAjax = {};',
'\tif(typeof arguments[2] == \'object\') objAjax = arguments[2];',
'\tvar objUpload = {};',
'\tif(typeof arguments[3] == \'object\') objUpload = arguments[3]; //this is the object that defines the upload target (s3/alphaanywhere), showProgress, etc',
'\tvar _userOnComplete = objUpload.onComplete;',
'\tobjUpload.onComplete = function(array) {',
'\t\t_userOnComplete.call(this,array)',
'\t\tpushRemoteMediaNamesToArray(array,_data);',
'\t}',
'\tvar xbasicFunction = xbCallbackFunction;',
'\t//define local functions',
'\tvar _ajaxUpload = function(data,xbasicFunction,objAjax) {',
'\t\tvar listData = JSON.stringify(data,\'\',\'\\t\');',
'\t\tlistData = A5.ajax.buildURLParam(\'_listData\',listData);',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback(\'\',\'\',xbasicFunction,\'\',listData, objAjax);',
'\t}',
'\tvar pushRemoteMediaNamesToArray = function(mediaFiles,_data) {',
'\t\tvar _data2 = [];',
'\t\t$u.o.assign(_data2,_data);',
'\t\t//media files have been uploaded and the mediaFiles[] array has these properties of interest',
'\t\t//listFieldName -- name of the field in the data array that had the media field',
'\t\t//route -- an array that looks like [{table: \'_top_\', row: 1}]',
'\t\t//remoteName -- the name of the alpha server or s3',
'\t\t//succeeded',
'\t\tvar r = \'\';',
'\t\tvar table = \'\';',
'\t\tvar _di = \'\';',
'\t\tvar _diTop = \'\';',
'\t\tfor(var i = 0; i < mediaFiles.length; i++) {',
'\t\t\tmediaFiles[i].routeObj = JSON.parse(mediaFiles[i].route);',
'\t\t\tr = mediaFiles[i].routeObj[0].row',
'\t\t\tfor(var j = 0; j < mediaFiles[i].routeObj.length; j ++) {',
'\t\t\t\ttable = mediaFiles[i].routeObj[j].table;',
'\t\t\t\tr = mediaFiles[i].routeObj[j].row',
'\t\t\t\tif(table == \'_top_\') {',
'\t\t\t\t\t_di = _data2[r];',
'\t\t\t\t\t_diTop = _di;',
'\t\t\t\t} else {',
'\t\t\t\t\t_di = _di[table][r];',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(typeof _di != \'undefined\') {',
'\t\t\t\t//need to add a check to see if the success flag is true',
'\t\t\t\tif(mediaFiles[i].succeeded) {',
'\t\t\t\t\t _di[mediaFiles[i].listFieldName] = mediaFiles[i].remoteName;',
'\t\t\t\t} else {',
'\t\t\t\t\t_diTop.__flagHasMediaFileUploadError = true;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\t//harvest rows that are dirty and also do not have media upload errors - these rows will be pushed to the server',
'\t\tvar _data3 = [];',
'\t\tvar _mErr = [];',
'\t\tvar flagPush = false;',
'\t\tvar flagHasMediaUploadError = false;',
'\t\tfor(var i = 0; i < _data2.length; i++) {',
'\t\t\tflagPush = true;',
'\t\t\tif(typeof _data2[i].__flagHasMediaFileUploadError != \'undefined\' && _data2[i].__flagHasMediaFileUploadError) {',
'\t\t\t\tflagPush = false;',
'\t\t\t\tflagHasMediaUploadError = true;',
'\t\t\t\t_mErr.push(_data2[i]);',
'\t\t\t}',
'\t\t\tif(flagPush) {',
'\t\t\t\tif(typeof _data2[i]._isDirty == \'undefined\') {',
'\t\t\t\t\tflagPush = false;',
'\t\t\t\t} else if(_data2[i]._isDirty == false) {',
'\t\t\t\t\tflagPush = false;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(flagPush) {',
'\t\t\t\t_data3.push(_data2[i]);',
'\t\t\t}',
'\t\t}',
'\t\tif(flagHasMediaUploadError) {',
'\t\t\tif(typeof objUpload.onMediaUploadErrors == \'function\') {',
'\t\t\t\tobjUpload.onMediaUploadErrors.call(this,_mErr);',
'\t\t\t}',
'\t\t}',
'\t\t_ajaxUpload(_data3,xbasicFunction,objAjax) //do the ajax callback to upload the fixed data array',
'\t}',
'\t//end local functions',
'\tvar _data = lObj.harvestList();',
'\tif(_data.length == 0) {',
'\t\treturn false;',
'\t}',
'\tvar arr = lObj._harvestMediaFields();',
'\talert(JSON.stringify(arr));',
'\tif(arr.length == 0) {',
'\t\t//no media fields -- just make the ajax callback',
'\t\t_ajaxUpload(_data,xbasicFunction,objAjax);',
'\t\treturn true;',
'\t} else {',
'\t\t//upload the media files -- the onComplete event will make the ajax callback',
'\t\t//objUpload._dataToUpload = _data;',
'\t\t_data = lObj._data;',
'\t\t{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileUpload(arr,objUpload);',
'\t}',
'}',
'// File manipulation',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()',
'//',
'// Returns true if there is a local file system and PhoneGap is running.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable = function() {',
'   if(typeof LocalFileSystem == \'undefined\') {',
'      if(typeof cordova == \'undefined\') {',
'         return false;',
'      }',
'      return false;',
'   }',
'   return true;',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapGetLocalDirURL(type)',
'//',
'// type: "temp", "private", "saved", "public"',
'// On iOS, saved and public may be backed up to iCloud',
'//',
'// Returns URL of base for the requested part of the file system.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapGetLocalDirURL = function(type) {',
'   var dir = "";',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) return dir;',
'   if (device.platform == \'iOS\') {',
'      switch (type) {',
'         case "temp":',
'            dir = cordova.file.tempDirectory;',
'            break;',
'         case "private":',
'            dir = cordova.file.dataDirectory;',
'            break;',
'         case "saved":',
'            dir = cordova.file.syncedDataDirectory;',
'            break;',
'         case "public":',
'            dir = cordova.file.documentsDirectory;',
'            break;',
'      }',
'   }',
'   else {',
'      switch (type) {',
'         case "temp":',
'            dir = cordova.file.externalCacheDirectory || cordova.file.cacheDirectory;',
'            break;',
'         case "private":',
'            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;',
'            break;',
'         case "saved":',
'            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;',
'            break;',
'         case "public":',
'            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;',
'            break;',
'      }',
'   }',
'   return dir;',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapReadFileURL(filepath, onReadSuccess, onError, startAt, endAt)',
'//',
'// filepath is the local file URL of the desired file.',
'// If startAt and endAt are present, returns just those positions in the file.',
'//',
'// onReadSuccess(result) returns the contents read.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapReadFileURL = function(filepath, onReadSuccess, onError, startAt, endAt) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               var doReadFunction =',
'                  function(file) {',
'                     var reader = new FileReader();',
'                     reader.onloadend =',
'                        function(e) {',
'                           onReadSuccess(this.result);',
'                        };',
'                     if (typeof startAt==\'undefined\' || typeof endAt==\'undefined\') {',
'                        reader.readAsText(file);',
'                     }',
'                     else {',
'                        var blob = file.slice(startAt, endAt);',
'                        reader.readAsText(blob);',
'                     }',
'                  };',
'               fileEntry.file(doReadFunction);',
'            };',
'         fsEntry.getFile(filename, {}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapWriteFileURL(filepath, text, onWriteSuccess, onError, append)',
'//',
'// filepath is the local file URL of the desired file. The directory must',
'// exist, but the file need not.',
'// If append is true, appends to current contents.',
'// Truncates (if file existed) to end of what is written.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapWriteFileURL = function(filepath, text, onWriteSuccess, onError, append) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               var writerFunction =',
'                  function(fileWriter) {',
'                     fileWriter.onwriteend =',
'                        function(e) {',
'                           onWriteSuccess();',
'                        };',
'                     fileWriter.onerror = onError;',
'                     if (append) {',
'                        fileWriter.seek(fileWriter.length);',
'                     }',
'                     var blob = new Blob([text], {type:\'text/plain\'});',
'                     fileWriter.write(blob);',
'                  };',
'               fileEntry.createWriter(writerFunction, onError);',
'            };',
'         fsEntry.getFile(filename, {create: true}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapFileExistsURLfilepath, onResult, onError)',
'//',
'// filepath is the local file URL of the desired file.',
'// onResult(properties) will be called with false if file does not exist.',
'// If file does exist, properties will be:',
'//',
'//    {',
'//       name:file\'s name,',
'//       lastModifiedDate:lastModifiedDate object,',
'//       size:size in bytes,',
'//       type:MIME type if known(not on iOS now, but yes on Android)',
'//    }',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapFileExistsURL = function(filepath, onResult, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               fileEntry.file(function(fileObj) {',
'                  onResult({name:fileObj.name, lastModifiedDate:fileObj.lastModifiedDate,',
'                     size:fileObj.size, type:fileObj.type});',
'                  },',
'                  onError);',
'            };',
'         var onDidNotGetFile =',
'            function() {',
'               onResult(false);',
'            };',
'         fsEntry.getFile(filename, {create: false}, onGotFile, onDidNotGetFile);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFileURL(filepath, onDeleteSuccess, onError)',
'//',
'// filepath is the local file URL of the file to be deleted.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFileURL = function(filepath, onDeleteSuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = filepath.lastIndexOf("/");',
'   var dirpath = filepath.substring(0,pos);',
'   var filename = filepath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               fileEntry.remove(onDeleteSuccess, onError);',
'            };',
'         fsEntry.getFile(filename, {create: false}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapCopyFileURL(srcpath, destdirpath, destname, onCopySuccess, onError)',
'//',
'// srcpath is the local file URL of the file to be copied.',
'// destdirpath is the URL of the directory into which to copy the file.',
'// destname is the name to be given to the copied file. If null, the source filename will be used.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapCopyFileURL = function(srcpath, destdirpath, destname, onCopySuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = srcpath.lastIndexOf("/");',
'   var dirpath = srcpath.substring(0,pos);',
'   var filename = srcpath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               window.resolveLocalFileSystemURL(destdirpath,',
'                  function(destDirEntry) {',
'                     fileEntry.copyTo(destDirEntry, destname, onCopySuccess, onError);',
'                  },',
'                  onError);',
'            };',
'         fsEntry.getFile(filename, {}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapMoveFileURL(srcpath, destdirpath, destname, onMoveSuccess, onError)',
'//',
'// srcpath is the local file URL of the file to be moved.',
'// destdirpath is the URL of the directory into which to move the file, replacing any existing file with the name.',
'// destname is the name to be given to the copied file. If null, the source filename will be used.',
'// If moved into the same directory, the file will be renamed.',
'// A move of a directory on top of an existing empty directory replaces that directory.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapMoveFileURL = function(srcpath, destdirpath, destname, onMoveSuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var pos = srcpath.lastIndexOf("/");',
'   var dirpath = srcpath.substring(0,pos);',
'   var filename = srcpath.slice(pos+1);',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var onGotFile =',
'            function(fileEntry) {',
'               window.resolveLocalFileSystemURL(destdirpath,',
'                  function(destDirEntry) {',
'                     fileEntry.moveTo(destDirEntry, destname, onMoveSuccess, onError);',
'                  },',
'                  onError);',
'            };',
'         fsEntry.getFile(filename, {}, onGotFile, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectoryRecurseURL(dirpath, onRemoveSuccess, onError)',
'//',
'// dirpath is the file URL of the directory to be deleted.',
'// Deletes the specified directory and all of its contents, including other directories and',
'// their contents.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapRemoveDirectoryRecurseURL = function(dirpath, onRemoveSuccess, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var onResolvedURL =',
'      function(dirEntry) {',
'         dirEntry.removeRecursively(onRemoveSuccess, onError);',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapEnsureDirPathURL(rootpath, subdirpath, onCompletion, onError)',
'//',
'// rootpath is the file URL of the existing directory that will contain the directories that are needed.',
'// subdirpath is a path of directories to ensure exist below rootpath. They will be created',
'// if they don\'t exist.',
'//',
'// For example, if rootpath is "file://root/public/", subdirpath may be "toplevel/subdir1".',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapEnsureDirPathURL = function(rootpath, subdirpath, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var dirs = subdirpath.split(\'/\') || [];',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var ensureDirFunction =',
'            function(dirEntry) { // function to recurse',
'               if (dirs.length>0) {',
'                  if (dirs[0]==\'.\' || dirs[0]==\'\') {',
'                     dirs = dirs.slice(1); // remove null dir',
'                  }',
'               }',
'               if (dirs.length==0) {',
'                  onCompletion();',
'                  return;',
'               }',
'               dirEntry.getDirectory(dirs[0], {create: true},',
'                  function(subdirEntry) {',
'                     dirs = dirs.slice(1); // do next',
'                     ensureDirFunction(subdirEntry);',
'                  },',
'                  onError);',
'               };',
'         ensureDirFunction(fsEntry); // do first',
'      };',
'   window.resolveLocalFileSystemURL(rootpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesRecurseURL(rootpath, onCompletion, onError)',
'//',
'// rootpath is the file URL of the directory whose contents will be listed.',
'// onCompletion(filelist) will contain an array of strings representing each file',
'// and directory down the hierarchy. Directories end in "/".',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesRecurseURL = function(rootpath, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var filelist = [];',
'   var pathprefix = "";',
'   var pending = 0;',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var processDirFunction =',
'            function(subdirpath, listingObj) {',
'               var files = listingObj.files;',
'               var i;',
'               var fpath;',
'               var prefix = subdirpath.slice(pathprefix.length);',
'               for (i=0; i<files.length; i++) {',
'                  fpath = prefix+files[i];',
'                  filelist.push(fpath);',
'               }',
'               var dirs = listingObj.dirs;',
'               if (dirs.length==0) {',
'                  if (pending==0) {',
'                     onCompletion(filelist);',
'                  }',
'                  return;',
'               }',
'               for (i=0; i<dirs.length; i++) {',
'                  fpath = dirs[i].fullPath.slice(pathprefix.length);',
'                  filelist.push(fpath);',
'                  pending++;',
'                  dirs[i].filesystem.root.getDirectory(dirs[i].fullPath, {create: false},',
'                     function(dirEntry) {',
'                        listDirFunction(dirEntry);',
'                     },',
'                     function(e){pending--;onError(e);});',
'               }',
'            };',
'         var listDirFunction =',
'            function(dirEntry) { // function to recurse on subdirs',
'               var dirReader = dirEntry.createReader();',
'               var listingObj = {files:[], dirs:[]};',
'               var readDirEntries = function() {',
'                  dirReader.readEntries( // start an async reading of entries',
'                     function(entries) { // more entries read, or done',
'                        if (!entries || entries.length==0) {',
'                           pending--;',
'                           processDirFunction(dirEntry.fullPath, listingObj);',
'                           return;',
'                        }',
'                        var entry;',
'                        for (var i=0; i<entries.length; i++) {',
'                           entry = entries[i];',
'                           if (entry.isFile) {',
'                              listingObj.files.push(entry.name);',
'                           }',
'                           else {',
'                              listingObj.dirs.push(entry);',
'                           }',
'                        }',
'                        readDirEntries(); // recurse to call dirReader.readEntries again',
'                     },',
'                     onError);',
'                  };',
'               readDirEntries(); // do first reading of entries',
'            };',
'         pending++;',
'         pathprefix = fsEntry.fullPath; // get prefix',
'         listDirFunction(fsEntry); // do first list getting',
'      };',
'   window.resolveLocalFileSystemURL(rootpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesURL(dirpath, matchRegex, onCompletion, onError)',
'//',
'// dirpath is the file URL of the directory whose contents will be listed (only files).',
'// matchRegex, if non-null, will need to match file names found for them to be listed.',
'// onCompletion(filelist) will contain an array of strings representing each file.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapListFilesURL = function(dirpath, matchRegex, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var filelist = [];',
'         var dirReader = fsEntry.createReader();',
'         var readEntriesFunction =',
'            function() { // function to recurse to call repeatedly after each completion until no result',
'               dirReader.readEntries( // start an async reading of entries',
'                  function(entries) { // more entries read, or done',
'                     if (!entries || entries.length==0) {',
'                        onCompletion(filelist);',
'                        return;',
'                     }',
'                     var name;',
'                     for (var i=0; i<entries.length; i++) {',
'                        name = entries[i].name;',
'                        if (!matchRegex || name.match(matchRegex)) {',
'                           filelist.push(name);',
'                        }',
'                     }',
'                     readEntriesFunction(); // recurse to call dirReader.readEntries again',
'                  },',
'                  onError);',
'               };',
'         readEntriesFunction(); // do first reading',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'//',
'// {UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFilesNotInListURL(dirpath, matchRegex, keepList, onCompletion, onError)',
'//',
'// dirpath is the file URL of the directory whose contents will be examined (only files).',
'// matchRegex, if non-null, will need to match file names found for them to be considered for deletion.',
'// Any file name which is in the array keepList will not be considered even if it matches.',
'// All remaining files found (those matched and not in keepList) will be deleted.',
'//',
'{UXPRERENDEREDALIAS}_DlgObj.phoneGapDeleteFilesNotInListURL = function(dirpath, matchRegex, keepList, onCompletion, onError) {',
'   if (!{UXPRERENDEREDALIAS}_DlgObj.phoneGapFilesAvailable()) {',
'      onError();',
'      return;',
'   }',
'   var keepnames = {}; // fill object with all the names as attributes',
'   for (var j=0; j<keepList.length; j++) {',
'      keepnames[keepList[j]] = true;',
'   }',
'   var filelist = []; // list of files to delete',
'   var totalDeleted = 0;',
'   var deleteFromFileList = function() { // called repeatedly by itself on successes until all deleted',
'      if (filelist.length==0) { // no more to delete',
'         onCompletion(totalDeleted);',
'         return;',
'      }',
'      var todelete = filelist.pop(); // pop one from list and delete it, leaving list shorter',
'      totalDeleted += 1;',
'      todelete.remove(deleteFromFileList, onError);',
'   };',
'   var onResolvedURL =',
'      function(fsEntry) {',
'         var dirReader = fsEntry.createReader();',
'         var readEntriesFunction =',
'            function() { // function to recurse to call repeatedly after each completion until no result',
'               dirReader.readEntries( // start an async reading of entries',
'                  function(entries) { // more entries read, or done',
'                     if (!entries || entries.length==0) {',
'                        deleteFromFileList(); // got all - now start deleting them',
'                        return;',
'                     }',
'                     var name;',
'                     for (var i=0; i<entries.length; i++) {',
'                        name = entries[i].name;',
'                        if (!matchRegex || name.match(matchRegex)) { // must match regex',
'                           if (!keepnames[name]) { // and not be on keep list',
'                              filelist.push(entries[i]); // add one to delete to list',
'                           }',
'                        }',
'                     }',
'                     readEntriesFunction(); // recurse to call dirReader.readEntries again',
'                  },',
'                  onError);',
'               };',
'         readEntriesFunction(); // do first reading',
'      };',
'   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._layoutMode = \'containerwidth\';',
'{UXPRERENDEREDALIAS}_DlgObj._responsiveRulesMode = \'firsttrue\';',
'{UXPRERENDEREDALIAS}_DlgObj.__controlNesting = {',
'PANELHEADER: [\'container:LEFT_BUTTONS\',\'container:CONTAINER_CENTER\'],',
'LEFT_BUTTONS: [],',
'CONTAINER_CENTER: [],',
'CONTAINER_PROFILE: [\'tabControl:TAB_PROFILE\'],',
'TAB_PROFILE: [\'tabPane:TAB_PROFILE#1\',\'tabPane:TAB_PROFILE#2\'],',
'"TAB_PROFILE#1": [\'TrialAlert\',\'FirstName\',\'LastName\',\'PostalCode\',\'MaximumTravel\',\'PrimaryCondition\',\'SecondaryCondition\',\'Medications\'],',
'"TAB_PROFILE#2": [\'Email\',\'MobileNumber\',\'Gender\',\'DateOfBirth\',\'Address\',\'City\',\'Country\',\'State\'],',
'CONTAINER_BUTTONS: []',
'}',
'{UXPRERENDEREDALIAS}_DlgObj._listsDV = [\'LISTHIDDEN\'];',
'//Add methods to the List prototype for Lists with Detail Views',
'$u.o.assign(A5.ListBox.prototype,',
'{',
'\t_controlDefaultValueForListField:  function(fieldName) { ',
'\tvar controlName = this._getUXDetailViewControlName(fieldName);',
'\tif(controlName == \'\') return \'\';',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
' \treturn _dlgObj.defaultValues[controlName.toUpperCase()];',
'}',
',',
'\tqueryByFormClearControls: function() { ',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar controlName;',
'\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\tif(controlName != \'\') {',
'\t\t\tval = \'\';',
'\t\t\t_dlgObj.setValue(controlName,val,false);',
'\t\t}',
'\t}',
'}',
',',
'\tremoveRowFromListByKey: function(rowKey) {',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar curVal = this.value[0];',
'\tthis.nullOutDetailViewRecord();',
'\t_dlgObj.persistVariablesToLocalStorage();',
'\tif(curVal != rowKey) { ',
'\t\tthis.removeRows([rowKey]);',
'\t\tif(typeof curVal != \'undefined\') {',
'\t\t\tthis.setValue(curVal,false);',
'\t\t\tthis._selectedRow = curVal;',
'\t\t}',
'\t\tthis.__currentRoute = this._getRoute();',
'\t} else { ',
'\t\tvar index = this.indexFromValue(curVal);',
'\t\tvar newIndex = \'\';',
'\t\tif( (index+1) < this._dataMap.length) {',
'\t\t\tnewIndex = index;',
'\t\t} else { ',
'\t\t\tnewIndex = index -1;',
'\t\t}',
'\t\tthis.removeRows([rowKey]);',
'\t\tthis.setValue(newIndex,false);',
'\t\tthis._selectedRow = newIndex;',
'\t\tthis.__currentRoute = this._getRoute();',
'\t}',
'\t_dlgObj.refreshClientSideComputations();',
'\tvar lObj = this;',
'\tif (this._data.length == 0) {',
'\t\tthis.setValue(0,false);',
'\t\tthis._selectedRow = -1;',
'\t\tvar mode = this._noRecordInListIsSelectedSettingForDetailView;',
'\t\tif(mode == \'newrecord\') { ',
'\t\t\tvar lObj = this;',
'\t\t\tsetTimeout(function() {lObj.newDetailViewRecord();},10);',
'\t\t} else if (mode == \'disabledetailview\') { ',
'\t\t\tvar lObj = this;',
'\t\t\tsetTimeout(function() {lObj.disableDetailView();},10);',
'\t\t}',
'\t}',
'\t_dlgObj._listRowSelect(this.listVariableName);',
'}',
',',
'\tsearchModeOff: function() { ',
'\tif(this._dvmode != \'search\') return true;',
'\tvar val = this._searchModeReturnValue;',
'\tif(typeof val != \'undefined\') { ',
'\t\tif(val != \'\') {',
'\t\t\tthis.setValue(this._searchModeReturnValue);',
'\t\t} else {',
'\t\t\tthis.newDetailViewRecord();',
'\t\t}',
'\t} else { ',
'\t\tthis.newDetailViewRecord();',
'\t}',
'}',
',',
'\tsearchModeOn: function() { ',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tif(this.detailViewIsDirty()) { ',
'\t\talert(\'cannot switch to search mode because detail view is dirty\');',
'\t\treturn false;',
'\t}',
'\tthis._dvmode = \'search\';',
'\tthis._searchModeReturnValue = this.value;',
'\tthis._deselectAll();',
'\tthis.queryByFormClearControls();',
'\tif(typeof this.__queryByFormValues != \'undefined\') {',
'\t\tfor(var i = 0; i < this.__queryByFormValues.length; i++) { ',
'\t\t\t_dlgObj.setValue(this.__queryByFormValues[i].control,this.__queryByFormValues[i].value,false);',
'\t\t}',
'\t}',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.modeChanged\',{mode: \'search\'});',
'\t_dlgObj.refreshClientSideComputations();',
'}',
',',
'\tpopulateUXControls: function() { ',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tops.listVariableName = this.listVariableName;',
'\tops.listObj = this;',
'\tif(this._detailView.method == \'fieldMap\') argIn = this._detailView.fieldMap;',
'\telse argIn = this._detailView.container;',
'\tvar _d = this.selectionData[0];',
'\tvar n = \'\';',
'\tvar b64prefix = \'\'',
'\tthis._currentDetailViewKey = undefined;',
'\tif(typeof _d == \'undefined\') {',
'\t\tthis.nullOutDetailViewRecord();',
'\t\treturn false; ',
'\t}',
'\tthis._currentDetailViewKey = _d[\'*key\'];',
'\twindow[this._hostComponentId + \'_DlgObj\']._populateUXControlsWithListData(_d,argIn,ops);',
'\tthis._clearServerSideErrors();',
'\tthis._showServerSideErrors();',
'\tthis._showWriteConflictErrors();',
'\tthis._dvmode = \'edit\';',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.modeChanged\',{mode: \'edit\'});',
'\t_dlgObj.refreshClientSideComputations();',
'\tthis._setParentIsDeletedOnChildren();',
'\tif(!this._restoringList) _dlgObj.persistVariablesToLocalStorage();',
'\tif(typeof _d._flagViewed != \'undefined\') { ',
'\t\tif(_d._flagViewed == false) {',
'\t\t\t_d._flagViewed = true;',
'\t\t\tthis.updateRow(this.selection[0],_d);',
'\t\t}',
'\t}',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.afterDetailViewPopulate\',{});',
'}',
',',
'\t_setParentIsDeletedOnChildren: function() { ',
'\t\tvar _d = this.selectionData[0];',
'\t\tif(typeof _d == \'undefined\') return false;',
'\t\tvar flagDel = false;',
'\t\tif(typeof _d[\'_isDeleted\'] != \'undefined\') flagDel = _d[\'_isDeleted\'];',
'\t\tif(!flagDel) {',
'\t\t\tvar flagParentIsDeleted = false;',
'\t\t\tvar pData = \'\';',
'\t\t\tif(this.allParentLists.length > 0) { ',
'\t\t\t\tfor(var i = 0; i < this.allParentLists.length; i++) {',
'\t\t\t\t\tpObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.allParentLists[i]);',
'\t\t\t\t\tif(typeof pObj.selection[0] != \'undefined\') {',
'\t\t\t\t\t\tpData = pObj.getData(pObj.selection[0]);',
'\t\t\t\t\t\tif(typeof pData._isDeleted != \'undefined\') {',
'\t\t\t\t\t\t\tif(pData._isDeleted) {',
'\t\t\t\t\t\t\t\tflagParentIsDeleted = true;',
'\t\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(flagParentIsDeleted) flagDel = true;',
'\t\t}',
'\t\tvar flagParentIsDeleted = false;',
'\t\tif(typeof this._parentIsDeleted != \'undefined\') flagParentIsDeleted =  this._parentIsDeleted;',
'\t\tthis.disableDetailView(flagDel || flagParentIsDeleted);',
'\t\tvar lChildObj = \'\';',
'\t\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\t\tlChildObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\t\tif(lChildObj) {',
'\t\t\t\tlChildObj.disableDetailView(flagDel);',
'\t\t\t\tif(flagDel) $acn(lChildObj.contId,\'parentIsDeleted\');',
'\t\t\t\telse $rcn(lChildObj.contId,\'parentIsDeleted\');',
'\t\t\t\tlChildObj._parentIsDeleted = flagDel;',
'\t\t\t\tlChildObj._setParentIsDeletedOnChildren();',
'\t\t\t}',
'\t\t}',
'\t}',
',',
'\tupdateListFromUXControls: function() { \t\t',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar arr = this._getControlsInDv()',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\t_dlgObj.clientSideValidateField(arr[i],1,null);',
'\t\t}',
'\t\tvar flagCSE = this._hasClientSideError();',
'\t\tif(flagCSE) {',
'\t\t\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.hasClientSideValidationErrors\',{});',
'\t\t\tvar msg = this.customization.dv.clientSideErrorWarning;',
'\t\t\tif(typeof msg != \'undefined\' && msg != \'\') this._showGlobalError(msg);',
'\t\t\treturn false;',
'\t\t} else { ',
'\t\t\tthis._clearGlobalError();',
'\t\t}',
'\t\tvar _route = this._getRoute();',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar flagGetLocationData = this._captureLocation;',
'\t\tif( _dlgObj._embeddedMode || _dlgObj._livePreviewInBuilder) flagGetLocationData = false;',
'\t\tvar that = this;',
'\t\tif(flagGetLocationData) { ',
'\t\t\tvar _locationHighAccuracy = _dlgObj.locationHighAccuracy;',
'\t\t\tvar _locationTimeout = _dlgObj.locationTimeout;',
'\t\t\tvar _locationMaximumAge = _dlgObj.locationMaximumAge;',
'\t\t\tvar classInst = this;',
'\t\t\tnavigator.geolocation.getCurrentPosition(',
'\t\t\t\tfunction(pos) {',
'\t\t\t\t\tif(typeof _dlgObj._location == \'undefined\') _dlgObj._location = {};',
'\t\t\t\t\t_dlgObj._location.lat = pos.coords.latitude;',
'\t\t\t\t\t_dlgObj._location.lng = pos.coords.longitude;',
'\t\t\t\t\tclassInst._updateListFromUXControlsLow();',
'\t\t\t\t\tdelete classInst;',
'\t\t\t\t\tif(that.synchronizeImmediately) { ',
'\t\t\t\t\t\tvar flagOnLine = _dlgObj._getOnlineStatus();',
'\t\t\t\t\t\tif (flagOnLine) {',
'\t\t\t\t\t\t\t\t_dlgObj.saveListEdits(that.listVariableName)',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tvar dirtyClass = \'\';',
'\t\t\t\t\tif(typeof that.dirtyControlClassName != \'undefined\') dirtyClass = that.dirtyControlClassName;',
'\t\t\t\t\tif(dirtyClass != \'\') that.populateUXControls();',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t\tif(!that._restoringList)  _dlgObj.persistVariablesToLocalStorage();',
'\t\t\t\t\t_dlgObj.refreshClientSideComputations();',
'\t\t\t\t\treturn true;',
'\t\t\t\t},',
'\t\t\t\tfunction(error) { ',
'\t\t\t\t\tdelete _dlgObj._location;  ',
'\t\t\t\t\tclassInst._updateListFromUXControlsLow();',
'\t\t\t\t\tdelete classInst;',
'\t\t\t\t\treturn true;',
' \t\t\t} ,\t{enableHighAccuracy : _locationHighAccuracy, timeout: _locationTimeout, maximumAge: _locationMaximumAge}) \t',
' \t\t\treturn true;\t',
'\t\t} else { ',
'\t\t\tthis._updateListFromUXControlsLow();',
'\t\t}',
'\t\tthis._setRoute(_route);',
'\t\tif(!this._restoringList)  _dlgObj.persistVariablesToLocalStorage();',
'\t\t_dlgObj.refreshClientSideComputations();',
'\t\tif(this.synchronizeImmediately) { ',
'\t\t\tvar flagOnLine = _dlgObj._getOnlineStatus();',
'\t\t\tif (flagOnLine) {',
'\t\t\t\t\t_dlgObj.saveListEdits(this.listVariableName)',
'\t\t\t}',
'\t\t}',
'\t\tvar dirtyClass = \'\';',
'\t\tif(typeof this.dirtyControlClassName != \'undefined\') dirtyClass = this.dirtyControlClassName;',
'\t\tif(dirtyClass != \'\') this.populateUXControls();',
'\t}',
'\t,',
'\t_updateListFromUXControlsLow: function() { \t',
'\tvar flagCSE = this._hasClientSideError();',
'\tif(flagCSE) {',
'\t\tvar msg = this.customization.dv.clientSideErrorWarning;',
'\t\tif(msg != \'\') this._showGlobalError(msg);',
'\t\treturn false;',
'\t} else { ',
'\t\tthis._clearGlobalError();',
'\t}',
'\tflagAllParentListsHaveActiveRow = true;',
'\tvar pObj = \'\';',
'\tif(this.allParentLists.length > 0) { ',
'\t\tfor(var i = 0; i < this.allParentLists.length; i++) {',
'\t\t\tpObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.allParentLists[i]);',
'\t\t\tif(typeof pObj.selection[0] == \'undefined\') {',
'\t\t\t\tflagAllParentListsHaveActiveRow = false;',
'\t\t\t\talert(\'Can\\\'t save record because there is no active record in the parent List. Parent list id: \\\'\'+this.allParentLists[i]+\'\\\'\');',
'\t\t\t\tbreak;',
'\t\t\t}',
'\t\t}',
'\t}',
'\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\tvar flagSynchronize = this.synchronizeImmediately;',
'\tif(typeof ops.synchronize == \'undefined\') {',
'\t\tops.synchronize = flagSynchronize;',
'\t}',
'\tif(this._detailView.method == \'fieldMap\') {',
'\t\tvar res = window[this._hostComponentId + \'_DlgObj\']._updateListDataFromUXControls(this.listVariableName,this._detailView.fieldMap,ops); this._refreshDebugInfo(); ',
'\t} else {',
'\t\tvar res = window[this._hostComponentId + \'_DlgObj\']._updateListDataFromUXControls(this.listVariableName,this._detailView.container,ops); this._refreshDebugInfo(); ',
'\t}',
'\tvar parentListName = this.parentList;',
'\tif(typeof parentListName != \'undefined\') {',
'\t\tvar thisData = this.getData(this.selection[0]);',
'\t\tvar flagIsNewRow = false;',
'\t\tif(typeof thisData._isNewRow != \'undefined\') flagIsNewRow = thisData._isNewRow;',
'\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\tif(plObj._setDirtyByChild) {',
'\t\t\tif (flagIsNewRow == false)  \tplObj._setDirtyByChild(false);',
'\t\t\telse plObj._setDirtyByChild(true,thisData,this.listVariableName);',
'\t\t}',
'\t}',
'\tthis._populateMyChildren();',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.afterUpdateList\',{});',
'\treturn res;',
'},',
'\t_setDirtyByChild: function(flagNewRow) { \t\t',
'\t\tvar rn = this.selection[0];',
'\t\tif(typeof rn == \'undefined\') rn = 0;',
'\t\tif(flagNewRow) {',
'\t\t\tvar newData = arguments[1];',
'\t\t\tvar listName = arguments[2];',
'\t\t\tthis.setRowDirty(rn,true,newData,listName);',
'\t\t} else {',
'\t\t\tthis.setRowDirty(rn,false);',
'\t\t}',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') { ',
'\t\t\tif(parentListName != \'\') {',
'\t\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentListName);',
'\t\t\t\tif(plObj._setDirtyByChild) \tplObj._setDirtyByChild(false);',
'\t\t\t}',
'\t\t}',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t}',
'\t,',
'\t_getChildData: function(existingData,childListName) {\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar clObj = _dlgObj.getControl(childListName);',
'\t\tif(!clObj) return false;',
'\t\tif(clObj._dataSourceType.toLowerCase() == \'sql\') { ',
'\t\t\treturn existingData[\'__LIST__\' + childListName];',
'\t\t} else { ',
'\t\t\treturn existingData[clObj._objectNameInParentListForData];',
'\t\t}',
'\t}',
'\t,',
'\t_getChildDataObjectName: function(childListName) { \t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar clObj = _dlgObj.getControl(childListName);',
'\t\tif(!clObj) return \'__LIST__\' + childListName.toUpperCase();',
'\t\tif(clObj._dataSourceType.toLowerCase() == \'sql\') { ',
'\t\t\treturn \'__LIST__\' + childListName.toUpperCase();',
'\t\t} else { ',
'\t\t\treturn clObj._objectNameInParentListForData',
'\t\t}',
'\t}',
'\t,',
'\tsetRowDirty: function(rn,flagNewRow) {\t\tvar existingData = this.getData(rn);',
'\t\texistingData._isDirty = true;',
'\t\tif(flagNewRow) { ',
'\t\t\tvar newData = arguments[2];',
'\t\t\tvar listName = arguments[3];',
'\t\t\tvar childData = this._getChildData(existingData,listName);',
'\t\t\tif(typeof childData == \'undefined\') return false;',
'\t\t\tvar childDataObjectName = this._getChildDataObjectName(listName);',
'\t\t\tvar n = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(childData,\'*key\',newData[\'*key\']);',
'\t\t\tif(n == -1) {',
'\t\t\t\tif(existingData[childDataObjectName].constructor == Array) {',
'\t\t\t\t\texistingData[childDataObjectName].push(newData);',
'\t\t\t\t} else { ',
'\t\t\t\t\texistingData[childDataObjectName] =  [];',
'\t\t\t\t\texistingData[childDataObjectName].push(newData);',
'\t\t\t\t}',
'\t\t\t} else { ',
'\t\t\t}',
'\t\t}',
'\t\tthis.updateRow(rn,existingData);',
'\t}',
'\t,',
'\t_showDirtyDetailViewWarning: function() {',
'\t\tif(!this.detailViewIsDirty(true)) return true;',
'\t\telse {',
'\t\t\tvar obj = {};',
'\t\t\tobj.thisListName = this.listVariableName;',
'\t\t\tobj.dirtyListName = this._nameOfListWithDirtyDetailView;',
'\t\t\tobj.handled = false;',
'\t\t\twindow[this._hostComponentId + \'_DlgObj\']._list_executeEvent(this.listVariableName,\'detailView.afterListRowSelectCancelled\',obj);',
'\t\t\tif(obj.handled) return false;',
'\t\t\tvar msg = this.customization.dv.dirtyDetailViewRecord.message;',
'\t\t\tvar image = this.customization.dv.dirtyDetailViewRecord.icon;',
'\t\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\t\tvar flagThisListHasDirtyDv = false;',
'\t\t\tif(this.listVariableName == this._nameOfListWithDirtyDetailView) flagThisListHasDirtyDv = true;;',
'\t\t\tif(!flagThisListHasDirtyDv) {',
'\t\t\t\tmsg = msg + \'<br>(List with dirty Detail View: \\\'\' + this._nameOfListWithDirtyDetailView + \'\\\')\';',
'\t\t\t}',
'\t\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\t\tvar title = this.customization.dv.dirtyDetailViewRecord.title;',
'\t\t\tA5.msgBox.show(title,msg,\'O\',function() {} );',
'\t\t\treturn false;',
'\t\t}',
'\t}',
'\t,',
'\t_getListFieldFromControl: function(ctrl) {\t\tvar indx = \'\';',
'\t\tif(this._detailView.method == \'fieldMap\') {',
'\t\t\tvar map = this._detailView.fieldMap;',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(map,\'control\',ctrl);',
'\t\t\tif(indx > -1) return map[indx].field',
'\t\t} else {',
'\t\t\tctrl = ctrl.toUpperCase();',
'\t\t\tvar la = this._listFields;',
'\t\t\tfor(var i = 0; i < la.length; i++) { ',
'\t\t\t\tif(la[i].name.toUpperCase() == ctrl) return la[i].name;',
'\t\t\t}',
'\t\t\treturn false;',
'\t\t}',
'\t}',
'\t,',
'\tdisableDetailView: function() { \t\tvar flag = typeof arguments[0] != \'undefined\' ? arguments[0] : true;',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].setDisabled(this._getControlsInDv(),flag);',
'\t}',
'\t,',
'\t_getControlsInDv: function() {\t\tif(typeof this._controlsInDV != \'undefined\') {',
'\t\t\treturn this._controlsInDV;',
'\t\t}',
'\t\tvar arr = [];',
'\t\tif(typeof this._detailView == \'undefined\') return \'\';',
'\t\tif(typeof this._detailView.method == \'undefined\') return \'\';',
'\t\tif(this._detailView.method == \'fieldMap\') { ',
'\t\t\tvar ele = \'\';',
'\t\t\tfor (var i = 0; i < this._detailView.fieldMap.length; i++) {',
'\t\t\t\tele = $(this._hostComponentId + \'.V.R1.\' + this._detailView.fieldMap[i].control.toUpperCase());',
'\t\t\t\tif(ele) arr.push(this._detailView.fieldMap[i].control.toUpperCase());',
'\t\t\t}',
'\t\t\tthis._controlsInDV = arr;',
'\t\t\treturn arr;',
'\t\t} else { ',
'\t\t\tvar indx = -1;',
'\t\t\tvar ctrlList = window[this._hostComponentId + \'_DlgObj\'].getControlsInContainer(this._detailView.container);',
'\t\t\tfor(var c = 0; c < ctrlList.length; c++) {',
'\t\t\t\tfor(var i = 0; i < this._listFields.length; i++) {',
'\t\t\t\t\tif(this._listFields[i].name.toLowerCase() == ctrlList[c].toLowerCase()) arr.push(ctrlList[c].toUpperCase());',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tthis._controlsInDV = arr;',
'\t\t\treturn arr;',
'\t\t}',
'\t}',
'\t,',
'\t_stripCleanBase64Data: function(_d) { \t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar _dc = {}',
'\t\tvar cn = \'\';',
'\t\tvar ct = \'\';',
'\t\tvar flagDirty = \'\';',
'\t\tvar flagCapture = \'\';',
'\t\tvar ix = \'\';',
'\t\tvar flagEmbeddedImage = \'\';',
'\t\tfor(var prop in _d) {',
'\t\t\tflagCapture = true; ',
'\t\t\tcn = this._getUXDetailViewControlName(prop);',
'\t\t\tif(cn != \'\') {',
'\t\t\t\tct = _dlgObj._getControlType(cn).toLowerCase();',
'\t\t\t\tif(ct == \'signaturecapture\' || ct == \'image\') {',
'\t\t\t\t\tflagCapture = false;',
'\t\t\t\t\tvar _dirtyImages = _d[\'_dirtyImages\'];',
'\t\t\t\t\tvar flagImageDirty = false;',
'\t\t\t\t\tif(typeof _dirtyImages != \'undefined\') {',
'\t\t\t\t\t\tflagImageDirty = _dirtyImages[prop];',
'\t\t\t\t\t\tif(typeof flagImageDirty != \'undefined\') flagCapture = true;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(flagCapture) _dc[prop] = _d[prop];',
'\t\t}',
'\t\treturn _dc;',
'\t}\t',
'\t,',
'\t_getData2: function(row) { \t\t',
'\t\tvar _d = this.getData(row);',
'\t\treturn this._stripCleanBase64Data(_d);',
'\t}',
'\t,',
'\tharvestListRow: function() { \t\t',
'\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tvar obj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\t\tvar flagSumbmitAllChildRecords = false;',
'\t\tif(typeof obj.flagSumbmitAllChildRecords != \'undefined\') flagSumbmitAllChildRecords = obj.flagSumbmitAllChildRecords;',
'\t\tif(typeof rn != \'number\') {',
'\t\t\tif(!rn._isNewRow){',
'\t\t\t\tvar existingData = this._stripCleanBase64Data(rn);',
'\t\t\t} else {',
'\t\t\t\tvar existingData = rn;',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tif(rn > -1) {',
'\t\t\t\tvar existingData = this._getData2(rn); ',
'\t\t\t} else {',
'\t\t\t\tif(this.selection[0] != \'undefined\') var existingData = this._getData2(this.selection[0]); ',
'\t\t\t}',
'\t\t}',
'\t\tif(typeof existingData == \'undefined\') return {};',
'\t\tvar flagDirty = false;',
'\t\tvar flagNewRow = false;',
'\t\tif(typeof existingData._isDirty != \'undefined\') flagDirty = existingData._isDirty;',
'\t\tif(typeof existingData._isNewRow != \'undefined\') flagNewRow = existingData._isNewRow;',
'\t\tdelete existingData._previousData;',
'\t\tif(flagDirty || flagNewRow) {',
'\t\t\tif(!flagSumbmitAllChildRecords) {',
'\t\t\t\tvar dirtyDataOnly = this._trimNonDirtyData(existingData);',
'\t\t\t\treturn dirtyDataOnly;',
'\t\t\t} else {',
'\t\t\t\treturn existingData;',
'\t\t\t}',
'\t\t}',
'\t\treturn {};',
'\t}',
'\t,',
'\tfieldIsDirty: function(field) { \t\tvar rSel = this.selection[0];',
'\t\tvar rn = typeof arguments[1] != \'undefined\' ? arguments[1] : rSel;',
'\t\tif(typeof rSel == \'undefined\') return false;',
'\t\tvar _d = this.getData(rn);',
'\t\tvar _dv = _d[field];',
'\t\tvar flagNewRow = _d[\'_isNewRow\'];',
'\t\tif(typeof flagNewRow == \'undefined\') flagNewRow = false;',
'\t\tif(flagNewRow) { ',
'\t\t\tif(_dv == \'\') return false;',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar _od = _d[\'_oldData\'];',
'\t\tif(typeof _od == \'undefined\') return false;',
'\t\tvar _odv = _od[field];',
'\t\tif(typeof _dv == \'undefined\') return false;',
'\t\tif(typeof _odv == \'undefined\') return false;',
'\t\tif(_dv == _odv ) return false;',
'\t\telse return true;',
'\t}',
'\t,',
'\t_trimNonDirtyData: function(data) { \t\tvar data2 = {};',
'\t\tvar tData = [];',
'\t\tfor(var prop in data) {',
'\t\t\tif(data[prop] != null) {\t\t\t',
'\t\t\t\tif(data[prop].constructor == Array) {',
'\t\t\t\t\ttData = [];',
'\t\t\t\t\tfor(var i = 0; i < data[prop].length; i++) {',
'\t\t\t\t\t\tif(data[prop][i]._isNewRow || data[prop][i]._isDirty ) {',
'\t\t\t\t\t\t\ttData.push(this._trimNonDirtyData(data[prop][i]));',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t\tdata2[prop] = tData;',
'\t\t\t\t} else {',
'\t\t\t\t\tdata2[prop] = data[prop];',
'\t\t\t\t}',
'\t\t\t} else {',
'\t\t\t\tdata2[prop] = null;',
'\t\t\t}',
'\t\t}',
'\t\treturn data2;',
'\t}',
'\t,',
'\t_logicalRow2PhysicalRow: function(rn) { \t\tif(typeof rn != \'number\') {',
'\t\t\treturn rn;',
'\t\t}',
'\t\tvar u = this._dataMap;',
'\t\treturn $u.a.find(u,rn);',
'\t}',
'\t,',
'\tharvestListKeys: function() { \t\tvar existingData = {};',
'\t\tvar arr = [];',
'\t\tvar key = \'\';',
'\t\tfor (var i = 0; i < this._data.length; i++) { ',
'\t\t\texistingData = this._data[i];',
'\t\t\tif(typeof existingData.__primaryKey != \'undefined\') {',
'\t\t\t\tkey = existingData.__primaryKey;',
'\t\t\t} else {',
'\t\t\t\tkey = existingData[\'*value\']',
'\t\t\t}',
'\t\t\tif(key != \'\') arr.push(key);',
'\t\t}',
'\t\treturn arr;',
'\t}',
'\t,',
'\t_hasMediaFileUploadErrors: function(data) {\t\t',
'\t\tvar flag = false;',
'\t\tvar r = A5.u.object.each(data,function(name,value,path,result){',
'\t\t\tif(name == \'_flagMediaFileUploadError\'){',
'\t\t\t\tif(value) flag =  true;',
' \t\t   }',
'\t\t});',
'\t\treturn flag;',
'\t}',
',',
'\tharvestList: function() { \t\t',
'\t\tvar flagPKOnly = typeof arguments[0] != \'undefined\' ? arguments[0] : false;',
'\t\tvar obj = typeof arguments[1] != \'undefined\' ? arguments[1] : {};',
'\t\tvar startingRow = 1;',
'\t\tvar batchSize = 0;',
'\t\tvar flagSumbmitAllChildRecords = false;',
'\t\tif(typeof obj.batchSize != \'undefined\') batchSize = obj.batchSize;',
'\t\tif(typeof obj.startingRow != \'undefined\') startingRow = obj.startingRow;',
'\t\tif(typeof obj.flagSumbmitAllChildRecords != \'undefined\') flagSumbmitAllChildRecords = obj.flagSumbmitAllChildRecords;',
'\t\tvar flagDirty = false;',
'\t\tvar flagNewRow = false;',
'\t\tvar flagHasMediaFileUploadError = false;',
'\t\tvar existingData = \'\';',
'\t\tvar arr = [];',
'\t\tvar _tempData = \'\';',
'\t\tif(batchSize > 0 && startingRow > 1 && flagPKOnly == false) { ',
'\t\t\tvar arr2 = [];',
'\t\t\tvar count = 0;',
'\t\t\tfor(var i = startingRow -1; i < this.__arrDirtyRows.length; i++) { ',
'\t\t\t\trowToGet = this.__arrDirtyRows[i]; ',
'\t\t\t\texistingData = this._data[rowToGet];',
'\t\t\t\t_tempData = this.harvestListRow(existingData, {flagSumbmitAllChildRecords: flagSumbmitAllChildRecords});',
'\t\t\t\tarr2.push(_tempData);',
'\t\t\t\tcount = count + 1;',
'\t\t\t\tif(count >= batchSize) break;',
'\t\t\t}',
'\t\t\treturn arr2;',
'\t\t}',
'\t\tthis.__arrDirtyRows = [];',
'\t\tfor (var i = 0; i < this._data.length; i++) { ',
'\t\t\texistingData = this._data[i];',
'\t\t\tflagDirty = false; flagNewRow = false;',
'\t\t\tif(typeof existingData._isDirty != \'undefined\') flagDirty = existingData._isDirty;',
'\t\t\tif(typeof existingData._isNewRow != \'undefined\') flagNewRow = existingData._isNewRow;',
'\t\t\tif(flagDirty || flagNewRow) {',
'\t\t\t\tflagHasMediaFileUploadError = this._hasMediaFileUploadErrors(existingData);',
'\t\t\t}',
'\t\t\tif( (flagDirty || flagNewRow) && !flagHasMediaFileUploadError ) {',
'\t\t\t\tif(flagPKOnly == false)\t{',
'\t\t\t\t\t_tempData = this.harvestListRow(existingData, {flagSumbmitAllChildRecords: flagSumbmitAllChildRecords});',
'\t\t\t\t\tarr.push(_tempData);',
'\t\t\t\t} else {',
'\t\t\t\t\tif(typeof existingData.__primaryKey != \'undefined\') {',
'\t\t\t\t\t\tarr.push(existingData.__primaryKey);',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tarr.push(existingData[\'*value\']);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tif(batchSize > 0 && startingRow == 1 && flagPKOnly == false)  {',
'\t\t\t\t\tif(flagPKOnly == false) {',
'\t\t\t\t\t\tthis.__arrDirtyRows.push(existingData[\'*key\']);',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(batchSize > 0 && flagPKOnly == false) {',
'\t\t\tvar arr2 = [];',
'\t\t\tvar count = 0;',
'\t\t\tfor(var i = startingRow -1; i < this.__arrDirtyRows.length; i++) { ',
'\t\t\t\trowToGet = this.__arrDirtyRows[i];',
'\t\t\t\tarr2.push(this._getRowByKey(arr,rowToGet));',
'\t\t\t\tcount = count + 1;',
'\t\t\t\tif(count >= batchSize) break;',
'\t\t\t}',
'\t\t\treturn arr2',
'\t\t}',
'\t\treturn arr;',
'\t}',
'\t,',
'\t_getRowByKey: function(arr,key) {\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif(arr[i][\'*key\'] == key) return arr[i];',
'\t\t}',
'\t\treturn false; ',
'\t}',
',',
'\tlistRowIsDirty: function() {\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tvar flagNewRow = typeof arguments[1] != \'undefined\' ? arguments[1] : false;',
'\t\tif(rn > -1) {',
'\t\t\tvar existingData = this.getData(rn);',
'\t\t} else {',
'\t\t\tvar existingData = this.getData(this.selection[0]);',
'\t\t}',
'\t\tif(typeof existingData == \'undefined\') return false;',
'\t\tif(!flagNewRow) {',
'\t\t\tif(typeof existingData._isDirty != \'undefined\') return existingData._isDirty;',
'\t\t\telse return false;',
'\t\t} else { ',
'\t\t\tif(typeof existingData._isNewRow != \'undefined\') return existingData._isNewRow;',
'\t\t\telse return false;',
'\t\t}',
'\t}',
'\t,',
'\tlistRowIsNew: function() {\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\treturn this.listRowIsDirty(rn,true);',
'\t}',
'\t,',
'\t_getDataFromRoute: function(route) { \t\tvar rn = [].concat(route);',
'\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\tif(typeof topParent == \'undefined\') var lObj = this;',
'\t\telse var lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\tvar _td = lObj._data;',
'\t\tfor(var i = 0; i < rn.length; i++) { ',
'\t\t   _td = _td[ rn[i] ];',
'\t\t}',
'\t\treturn _td;',
'\t}',
'\t,',
'\t_isRowInRouteVisible: function(route) { \t\tvar rn = [].concat(route);',
'\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\tif(typeof topParent == \'undefined\') var lObj = this;',
'\t\telse var lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\tvar index = 0;',
'\t\twhile(rn.length >1) {',
'\t\t\tindex = lObj._logicalRow2PhysicalRow(rn.shift());',
'\t\t\tif(lObj.selection[0] != index) return false;',
'\t\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(rn.shift().replace(\'__LIST__\',\'\'));',
'\t\t}',
'\t\treturn true;\t\t',
'\t}',
'\t,',
'\t_isRouteBranchDirty: function(route) { \t\tvar rn = [].concat(route);',
'\t\tif( typeof  rn[rn.length-1] == \'number\' ) rn.pop();',
'\t\tvar _d = this._getDataFromRoute(rn);',
'\t\tfor(var i = 0; i < _d.length; i++) { ',
'\t\t\tif( _d[i]._isDirty || _d[i]._isNewRow || _d[i]._isDeletedRow) return true;',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_routeBranchHasServerSideError: function(route) { \t\tvar rn = [].concat(route);',
'\t\tif( typeof  rn[rn.length-1] == \'number\' ) rn.pop();',
'\t\tvar _d = this._getDataFromRoute(rn);',
'\t\tfor(var i = 0; i < _d.length; i++) { ',
'\t\t\tif(  _d[i]._hasServerSideError ||  _d[i]._flagServerSideErrorInChild  || _d[i]._hasWriteConflictErrors ||  _d[i]._flagWriteConflictErrorInChild      ) return true;',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_responseStart: function() {\t\tdelete this._rowGUIDS;',
'\t\tthis._rowGUIDS = [];',
'\t}',
',',
'\t_responseEnd: function() {\t\t',
'\t\tvar flagUsingSyncLog = false;',
'\t\tflagUsingSyncLog = this._useServerSideSyncLog;',
'\t\tif(typeof flagUsingSyncLog == \'undefined\') flagUsingSyncLog = false;',
'\t\tif(flagUsingSyncLog) {',
'\t\t\tvar flagClearLog = this._clearServerSideSyncLog;',
'\t\t\tif(typeof flagClearLog == \'undefined\') flagClearLog = true;',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\tif(flagClearLog) {',
'\t\t\t\t_dlgObj.synchronizeComplete(this._rowGUIDS);',
'\t\t\t}',
'\t\t}',
'\t}',
',',
'\t_getTopParentList: function() { \t\t',
'\t\tvar allParentLists = this.allParentLists;',
'\t\tif(typeof allParentLists == \'undefined\') return this.listVariableName;',
'\t\tif(allParentLists.length == 0) return this.listVariableName;',
'\t\treturn allParentLists[allParentLists.length -1];',
'\t}',
',',
'\tsetRowCleanPreserveState: function() {\t\tthis.setRowClean(arguments[0],-1,true);',
'\t}',
',',
'\tsetRowClean: function() {\t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tvar mode = typeof arguments[1] != \'undefined\' ? arguments[1] : -1;',
'\t\tvar flagPreserveState = typeof arguments[2] != \'undefined\' ? arguments[2] : false;',
'\t\tvar flagRouteArray = false;',
'\t\tif(rn.constructor == Array) { ',
'\t\t\tflagRouteArray = true;',
'\t\t\tvar existingData = this._getDataFromRoute(rn);',
'\t\t\tvar _row = rn[rn.length -1];',
'\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t} else {',
'\t\t\tvar _row = \'\';',
'\t\t\tvar existingData = this.getData(this.selection[0]);',
'\t\t\tif(rn > -1) {',
'\t\t\t\t_row = rn;',
'\t\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t\t} else _row = existingData[\'*key\'];',
'\t\t\tvar existingData = this.getData(_row);',
'\t\t}',
'\t\tif(mode == 1 ) {',
'\t\t\tif(typeof existingData._oldData != \'undefined\') return false;',
'\t\t}',
'\t\tif(!flagPreserveState) {',
'\t\t\texistingData._isDirty = false;',
'\t\t\texistingData._isNewRow = false;',
'\t\t}',
'\t\texistingData._hasServerSideError = false;',
'\t\texistingData._serverSideErrors = false;',
'\t\texistingData._flagServerSideErrorInChild = false;',
'\t\texistingData._hasWriteConflictErrors = false;',
'\t\texistingData._hasGlobalErrors = false;',
'\t\texistingData._flagWriteConflictErrorInChild = false;',
'\t\texistingData._flagGlobalErrorInChild = false;',
'\t\texistingData._dirtyImages = false;',
'\t\tvar topParentList = this._getTopParentList();',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar lTop = _dlgObj.getControl(topParentList);',
'\t\tif(typeof lTop._rowGUIDS == \'undefined\') lTop._rowGUIDS = [];',
'\t\tlTop._rowGUIDS.push(existingData[\'*rowGUID\']);',
'\t\tdelete existingData[\'*rowGUID\'];',
'\t\texistingData._writeConflictErrors = false;',
'\t\tif(!flagPreserveState) delete existingData._oldData;',
'\t\tdelete existingData._globalErrors;',
'\t\tdelete existingData._globalErrorsRaw;',
'\t\tif(flagRouteArray) {',
'\t\t\tif(this._isRowInRouteVisible(rn)) this.updateRow(_row,existingData);',
'\t\t} else {',
'\t\t\tthis.updateRow(_row,existingData);',
'\t\t}',
'\t\tvar parentList = this.parentList;',
'\t\tif(typeof parentList != \'undefined\') {',
'\t\t\tif(flagRouteArray) var flagListIsDirty =  this._isRouteBranchDirty(rn);  ',
'\t\t\telse var flagListIsDirty = this.listIsDirty();',
'\t\t\tif (flagListIsDirty == false) { ',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\t\t\tif(flagRouteArray) {',
'\t\t\t\t\trn.pop();',
'\t\t\t\t\trn.pop();',
'\t\t\t\t\tlObj.setRowClean(rn,1);',
'\t\t\t\t} else {',
'\t\t\t\t\tlObj.setRowClean(-1,1);',
'\t\t\t\t}',
'\t\t\t} else { ',
'\t\t\t\tif(flagPreserveState) {',
'\t\t\t\t\tthis._setRouteDirty(rn);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\t_setRouteDirty: function(route) { \t\troute.pop();',
'\t\troute.pop();',
'\t\tvar flagLoop = true;',
'\t\tif(route.length == 0) flagLoop = false;',
'\t\twhile(flagLoop) { ',
'\t\t\tvar existingData = this._getDataFromRoute(route);',
'\t\t\texistingData._isDirty = true;',
'\t\t\troute.pop();',
'\t\t\troute.pop();',
'\t\t\tif(route.length == 0) break;',
'\t\t}',
'\t}',
',',
'\t_showError: function(id,moreTxt,lessTxt) { \t\tvar e = $(id);',
'\t\tvar e2 = $(id + \'.LINK\');',
'\t\tif(e.style.display == \'\') { ',
'\t\t\te.style.display = \'none\';',
'\t\t\te2.innerHTML = moreTxt;',
'\t\t} else { ',
'\t\t\te.style.display = \'\';',
'\t\t\te2.innerHTML = lessTxt;',
'\t\t}',
'\t}',
'\t,',
'\t_setGlobalCRUDErrors: function(rowNum,txt,mode) { \t\t',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tvar ePH =  this._globalErrorPlaceHolder;',
'\t\tif(typeof ePH == \'undefined\') ePH = \'\';',
'\t\tvar flagPH = $(ePH);',
'\t\tif(typeof mode == \'undefined\') mode = \'\';',
'\t\tvar txtRaw = txt;',
'\t\tif(mode != \'\' && ePH != \'\' && flagPH) {',
'\t\t\tvar customMessage = this.customization.dv.databaseError[mode];',
'\t\t\tcustomMessage = customMessage.split(\'|\');',
'\t\t\ttxt = \'<div onclick="window[\\\'\'+this._hostComponentId + \'_DlgObj\\\'].getControl(\\\'\'+this.listVariableName+\'\\\')._showError(\\\'\'+this.listVariableName +\'.GLOBALERROR\\\',\\\'\'+customMessage[1]+\'\\\',\\\'\'+customMessage[2]+\'\\\');">\' + customMessage[0] + \'&nbsp;<a id="\'+this._hostComponentId+\'.\'+this.listVariableName + \'.GLOBALERROR.LINK" class="iOS7Link" style="cursor: pointer;color:red; font-size: 8pt;" href=\\\'#\\\'>\'+customMessage[1]+\'</a>\' + \'<div id="\'+this.listVariableName+\'.GLOBALERROR" style="display: none; font-size: 8pt;">\'+txt+\'</div></div>\';',
'\t\t}',
'\t\tif(rowNum.constructor == Array) { ',
'\t\t\tthis.setServerSideError(true,rowNum,txt,\'ge\',txtRaw);',
'\t\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar _d = this._getRowData(rowNum);',
'\t\t_d._globalErrors = txt;',
'\t\t_d._globalErrorsRaw = txtRaw;',
'\t\t_d._hasServerSideError = false;',
'\t\t_d._serverSideErrors = false;',
'\t\tthis.updateRow(rowNum,_d);',
'\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t}',
'\t,',
'\tgetAllErrors: function() { \t\tvar lObj = this;',
'\t\tvar data = lObj._data;',
'\t\tvar r = A5.u.object.each(data,function(name,value,path,result){',
'\t\t\tpath = path.splice(0,path.length -1);',
'\t\t\tvar _dr = data;',
'\t\t\tfor(var i = 0; i < path.length; i++) { ',
'\t\t\t\tvar _dr = _dr[path[i]];',
'\t\t\t}',
'\t\t\tif(name == \'_hasServerSideError\') { ',
'\t\t\t\tif(value) { ',
'\t\t\t\t\tresult.push({errorType: \'serverSide\', path:path, error: _dr[\'_serverSideErrors\']});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(name == \'_hasWriteConflictErrors\') { ',
'\t\t\t\tif(value) { ',
'\t\t\t\t\tvar _wc = _dr[\'_writeConflictErrors\'];',
'\t\t\t\t\tvar _wc2 = [];',
'\t\t\t\t\t$u.o.assign(_wc2,_wc);',
'\t\t\t\t\tfor(var i = 0; i < _wc2.length; i++) {',
'\t\t\t\t\t\tdelete _wc2[i].errorText;',
'\t\t\t\t\t}',
'\t\t\t\t\tresult.push({errorType: \'writeConflict\', path: path, error: _wc2});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tif(name == \'_hasGlobalErrors\') { ',
'\t\t\t\tif(value) { ',
'\t\t\t\t\tresult.push({errorType: \'globalError\', path: path, error: _dr[\'_globalErrorsRaw\']});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t})',
'\t\treturn r;',
'\t}',
'\t,',
'\t_setWriteConflictErrors: function(rowNum,eArr) {\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\tif(rowNum.constructor == Array) { ',
'\t\t\tthis.setServerSideError(true,rowNum,eArr,\'wc\');',
'\t\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t\t\treturn true;',
'\t\t}',
'\t\trowNum = this._logicalRow2PhysicalRow(rowNum);',
'\t\tvar _d = this._getRowData(rowNum);',
'\t\t_d._writeConflictErrors = eArr;',
'\t\t_d._hasWriteConflictErrors = true;',
'\t\t_d._hasServerSideError = false;',
'\t\t_d._serverSideErrors = false;',
'\t\tthis.updateRow(rowNum,_d);',
'\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t}',
'\t,',
'\t_setGenericByChild: function(rn,mode) { \t',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') { ',
'\t\t\tif(parentListName != \'\') {',
'\t\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentListName);',
'\t\t\t\tvar existingData = plObj._getDataFromRoute(rn);',
'\t\t\t\tif(mode == \'sse\') {',
'\t\t\t\t\texistingData._flagServerSideErrorInChild = true;',
'\t\t\t\t\texistingData._isDirty = true;',
'\t\t\t\t} else if (mode == \'wc\') { ',
'\t\t\t\t\texistingData._flagWriteConflictErrorInChild = true;',
'\t\t\t\t\texistingData._isDirty = true;',
'\t\t\t\t} else if (mode == \'ge\') {',
'\t\t\t\t\texistingData._flagGlobalErrorInChild = true;',
'\t\t\t\t\texistingData._isDirty = true;',
'\t\t\t\t}',
'\t\t\t\tvar _row = rn[rn.length -1];',
'\t\t\t\t_row = plObj._logicalRow2PhysicalRow(_row);',
'\t\t\t\tif(plObj._isRowInRouteVisible(rn)) plObj.updateRow(_row,existingData);',
'\t\t\t\trn.pop();',
'\t\t\t\trn.pop();',
'\t\t\t\tplObj._setGenericByChild(rn,mode)',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\tsetServerSideError: function(flag) { \t\t',
'\t\tvar rn = typeof arguments[1] != \'undefined\' ? arguments[1] : -1;',
'\t\tvar flagRouteArray = false;',
'\t\tif(rn.constructor == Array) { ',
'\t\t\tflagRouteArray = true;',
'\t\t}',
'\t\tvar errObj =  typeof arguments[2] != \'undefined\' ? arguments[2] : {};',
'\t\tif(flag == false) {',
'\t\t\terrObj = false;',
'\t\t}',
'\t\tvar mode = typeof arguments[3] != \'undefined\' ? arguments[3] : \'sse\' ',
'\t\tvar txtRaw = typeof arguments[4] != \'undefined\' ? arguments[4] : \'\';',
'\t\tvar _row = \'\';',
'\t\tif(flagRouteArray) { ',
'\t\t\tvar existingData = this._getDataFromRoute(rn);',
'\t\t\tvar _row = rn[rn.length -1];',
'\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t} else { ',
'\t\t\tvar existingData = this.getData(this.selection[0]);',
'\t\t\tif(rn > -1) {',
'\t\t\t\t_row = rn;',
'\t\t\t\t_row = this._logicalRow2PhysicalRow(_row);',
'\t\t\t} else _row = existingData[\'*key\'];',
'\t\t\tvar existingData = this.getData(_row);',
'\t\t}',
'\t\tif(mode == \'sse\') {',
'\t\t\texistingData._hasServerSideError = flag;',
'\t\t\texistingData._serverSideErrors = errObj;',
'\t\t\texistingData._globalErrors = false;',
'\t\t\texistingData._globalErrorsRaw = \'\'',
'\t\t\texistingData._hasGlobalErrors = false;',
'\t\t\texistingData._hasWriteConflictErrors = false;',
'\t\t\texistingData._writeConflictErrors = false;',
'\t\t} else if (mode == \'wc\') { ',
'\t\t\texistingData._hasWriteConflictErrors = flag;',
'\t\t\texistingData._writeConflictErrors = errObj;',
'\t\t\texistingData._hasServerSideError = false;',
'\t\t\texistingData._serverSideErrors = false;',
'\t\t} else if (mode == \'ge\') { ',
'\t\t\texistingData._globalErrors = errObj;',
'\t\t\texistingData._globalErrorsRaw = txtRaw;',
'\t\t\texistingData._hasGlobalErrors = flag;',
'\t\t\texistingData._hasServerSideError = false;',
'\t\t\texistingData._serverSideErrors = false;',
'\t\t}',
'\t\tif(flagRouteArray) {',
'\t\t\tif(this._isRowInRouteVisible(rn)) this.updateRow(_row,existingData);',
'\t\t\tif(this._setGenericByChild) {',
'\t\t\t\trn.pop();',
'\t\t\t\trn.pop();',
'\t\t\t\tthis._setGenericByChild(rn,mode);',
'\t\t\t}',
'\t\t} else {',
'\t\t\tthis.updateRow(_row,existingData);',
'\t\t}',
'\t}',
'\t,',
'\t_showWCErrorMore: function(varName,eleIn,infoIn) { \t\tvar info = {};',
'\t\tif(typeof infoIn != \'undefined\') { ',
'\t\t\tinfo = infoIn;',
'\t\t}',
'\t\tif(typeof eleIn == \'undefined\') eleIn = false;',
'\t\tvar row = this.selection[0];',
'\t\tthis._wceVarname = varName;',
'\t\tvar myValue = window[this._hostComponentId + \'_DlgObj\'].getValue(varName);',
'\t\tvar _d = this._getRowData(row)',
'\t\tvar wce = _d._writeConflictErrors;',
'\t\tvar wcCount = wce.length;',
'\t\tvar indx = \'\';',
'\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',varName);',
'\t\tif(indx == -1) return false ',
'\t\twce = wce[indx];',
'\t\tvar mTheirs = this.customization.dv.writeConflict.useTheirsMessage;',
'\t\tvar mMine   = this.customization.dv.writeConflict.useMineMessage;',
'\t\tvar mTheirsAll = this.customization.dv.writeConflict.useTheirsAll;',
'\t\tvar mMineAll   = this.customization.dv.writeConflict.useMineAll;',
'\t\tmTheirs = mTheirs.replace(\'{theirvalue}\',this._stripHTML(wce.oldValueCurrent,30));',
'\t\tmMine = mMine.replace(\'{myvalue}\',this._stripHTML(myValue,30));',
'\t\tvar ctxt = this;\t\t\t\t',
'\t\tvar mD = [];',
'\t\tmD.push({html: mMine, value: \'mine\'});',
'\t\tmD.push({html: mTheirs, value: \'theirs\'});',
'\t\tif(wcCount > 1) {',
'\t\t\tmD.push(\'-\');',
'\t\t\tmD.push({html: mMineAll , value: \'mineAll\'});',
'\t\t\tmD.push({html: mTheirsAll, value: \'theirsAll\' });',
'\t\t}',
'\t\tvar mS = {',
'\t\t\ttheme: \'iOS7\',',
'\t\t\t_hostComponentId : this._hostComponentId,',
'\t\t\tlistVariableName: this.listVariableName,',
'\t\t\ticonColumn: {show: false},',
'\t\t\tpointer: {show: true,location: \'auto\'},',
'\t\t\tanimation: {show: {type: \'css-slide\',duration: \'fast\'}, hide: {type: \'none\',duration: \'fast\'}},',
'\t\t\tonHide: function() {  $(this._eleWCM).style.visibility = \'\';},',
'\t\t\tonClick: function(item) { ',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.listVariableName);',
'\t\t\t\tif(item.value == \'mine\') lObj._useMine(this._varName);',
'\t\t\t\tif(item.value == \'mineAll\') lObj._useMineAll(); ',
'\t\t\t\tif(item.value == \'theirs\') lObj._useTheirs(this._varName);',
'\t\t\t\tif(item.value == \'theirsAll\') lObj._useTheirsAll(); ',
'\t\t\t}',
'\t\t};',
'\t\tvar eleWCM = this._hostComponentId +\'.WCM.\'+this.listVariableName+ \'.\' +  varName.toUpperCase();',
'\t\t$(eleWCM).style.visibility = \'hidden\';',
'\t\tif(typeof this._menu == \'undefined\') {',
'\t\t\tthis._menu = new A5.Menu(mD,mS);',
'\t\t} else {',
'\t\t\tthis._menu.populate(mD);',
'\t\t}',
'\t\tthis._menu._varName = varName;',
'\t\tthis._menu._eleWCM = eleWCM;',
'\t\tvar ele = \'\';',
'\t\tif(eleIn == false) {',
'\t\t\tele = window[this._hostComponentId + \'_DlgObj\'].getPointer(varName);',
'\t\t} else { ',
'\t\t\tele = eleIn;',
'\t\t}',
'\t\tthis._menu.show(\'dropdown\',ele);  ',
'\t}',
'\t,',
'\t_useMine: function(varName) { \t\tthis.resolveConflictUsingMine(varName);',
'\t}',
'\t,',
'\t_useTheirs: function(varName) { \t\tthis.resolveConflictUsingTheirs(varName);',
'\t}',
'\t,',
'\t_useMineAll: function() { \t\tthis.resolveConflictUsingMine();',
'\t}',
'\t,',
'\t_useTheirsAll: function() { \t\tthis.resolveConflictUsingTheirs();',
'\t}',
'\t,',
'\tresolveConflictUsingMine: function() { \t\t',
'\t\tvar control = typeof arguments[0] != \'undefined\' ? arguments[0] : \'__all__\';',
'\t\tvar row = this.selection[0];',
'\t\tvar _d = this._getRowData(row)',
'\t\tvar wce = _d._writeConflictErrors;',
'\t\tif(typeof wce == \'undefined\') return false;',
'\t\tvar arr = [];',
'\t\tif(control == \'__all__\') arr = this._getControlsInDv();',
'\t\telse arr.push(control);',
'\t\tvar myValue = \'\';',
'\t\tvar indx = \'\';',
'\t\tvar fn = \'\';',
'\t\tvar ix2 = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tmyValue = window[this._hostComponentId + \'_DlgObj\'].getValue(arr[i]);',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\tif(indx >0 -1) {',
'\t\t\t\tix2 = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\t\tif(ix2 == -1) return false ',
'\t\t\t\tfn = this._getListFieldFromControl(arr[i]);',
'\t\t\t\t_d._oldData[fn] = wce[ix2].oldValueCurrent;',
'\t\t\t\twce.splice(indx,1);',
'\t\t\t}',
'\t\t}',
'\t\tif(wce.length == 0) {',
'\t\t\t_d._writeConflictErrors = false;',
'\t\t\t_d._hasWriteConflictErrors = false;',
'\t\t\tthis.updateRow(row,_d);',
'\t\t};',
'\t\tif(_d._hasWriteConflictErrors == false) { ',
'\t\t\tvar parentList = this.parentList;',
'\t\t\tif(typeof parentList != \'undefined\') {',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\t\t\tlObj._setChildHasWriteConflictFlag();',
'\t\t\t}',
'\t\t}',
'\t\tthis._clearServerSideErrors();',
'\t\tthis._showWriteConflictErrors();',
'\t}',
'\t,',
'\tresolveConflictUsingTheirs: function() { \t\t',
'\t\tvar control = typeof arguments[0] != \'undefined\' ? arguments[0] : \'__all__\';',
'\t\tvar row = this.selection[0];',
'\t\tvar _d = this._getRowData(row)',
'\t\tvar wce = _d._writeConflictErrors;',
'\t\tif(typeof wce == \'undefined\') return false;',
'\t\tvar arr = [];',
'\t\tif(control == \'__all__\') {',
'\t\t\tarr = this._getControlsInDv();',
'\t\t} else { ',
'\t\t\tif(control.constructor == Array) { ',
'\t\t\t\tarr = control;',
'\t\t\t} else { ',
'\t\t\t\tarr.push(control);',
'\t\t\t}',
'\t\t}',
'\t\tvar myValue = \'\';',
'\t\tvar indx = \'\';',
'\t\tvar fn = \'\';',
'\t\tvar ix2 = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tmyValue = window[this._hostComponentId + \'_DlgObj\'].getValue(arr[i]);',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\tif(indx >0 -1) {',
'\t\t\t\tix2 = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(wce,\'varName\',arr[i]);',
'\t\t\t\tif(ix2 == -1) return false ',
'\t\t\t\tfn = this._getListFieldFromControl(arr[i]);',
'\t\t\t\t_d[fn] = wce[ix2].oldValueCurrent;',
'\t\t\t\t_d._oldData[fn] = wce[ix2].oldValueCurrent;',
'\t\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setValue(arr[i], wce[ix2].oldValueCurrent,false);',
'\t\t\t\twce.splice(indx,1);',
'\t\t\t}',
'\t\t}',
'\t\tif(wce.length == 0) {',
'\t\t\t_d._writeConflictErrors = false;',
'\t\t\t_d._hasWriteConflictErrors = false;',
'\t\t};',
'\t\tvar allArr = this._getControlsInDv();',
'\t\t_d._isDirty = false;',
'\t\tvar tempData = \'\';',
'\t\tfor(var i = 0; i < allArr.length; i++) {',
'\t\t\tfn = this._getListFieldFromControl(allArr[i]);',
'\t\t\ttempData = _d._oldData[fn];',
'\t\t\tif(tempData == null) tempData = \'\';',
'\t\t\tif( _d[fn] != tempData ) {',
'\t\t\t\t_d._isDirty = true;',
'\t\t\t\tbreak;',
'\t\t\t}',
'\t\t}',
'\t\tthis.updateRow(row,_d);',
'\t\tthis._clearServerSideErrors();',
'\t\tthis._showWriteConflictErrors();\t',
'\t\tif(_d._hasWriteConflictErrors == false) { ',
'\t\t\tvar parentList = this.parentList;',
'\t\t\tif(typeof parentList != \'undefined\') {',
'\t\t\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\t\t\tlObj._setChildHasWriteConflictFlag(); ',
'\t\t\t}',
'\t\t}',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t}',
'\t,',
'\t_stripHTML: function(txt,length) { \t\tvar ele = document.createElement(\'div\');',
'\t\tele.innerHTML = txt;',
'\t\tvar txt2 = ele.textContent;',
'\t\tvar txt3 = txt2.substr(0,length);',
'\t\tif(txt3.length < txt2.length) txt3 = txt3 + \'...\';',
'\t\tdelete ele;\t\t',
'\t\treturn txt2;',
'\t}',
'\t,',
'\t_showWriteConflictErrors: function(row) { \t\tvar _d = this._getRowData(row);',
'\t\tif(typeof _d == \'undefined\') return false; ',
'\t\tif(typeof _d._writeConflictErrors == \'undefined\') return false;',
'\t\tif(typeof _d._hasWriteConflictErrors == \'undefined\') return false;',
'\t\tif(_d._hasWriteConflictErrors == false) return false;',
'\t\t_e = _d._writeConflictErrors',
'\t\tvar arr = [];',
'\t\tfor(var i = 0; i < _e.length; i++) {',
'\t\t\tdelete obj;',
'\t\t\tvar obj = {};',
'\t\t\tobj.id =  this._hostComponentId +  \'.V.R1.\' + _e[i].varName.toUpperCase();',
'\t\t\tobj.message = _e[i].errorText;',
'\t\t\tarr.push(obj);',
'\t\t}',
'\t\tvar arrFix = [];',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif($(arr[i].id)) arrFix.push(arr[i]);',
'\t\t}',
'\t\tif(arrFix.length > 0) window[this._hostComponentId + \'_DlgObj\'].setErrors(arr);;',
'\t}',
'\t,',
'\t_showServerSideErrors: function(row) { \t\tvar _d = this._getRowData();',
'\t\tif(typeof _d == \'undefined\') return false; ',
'\t\tif(typeof _d._globalErrors != \'undefined\') {',
'\t\t\tif(_d._globalErrors != \'\') {',
'\t\t\t\tthis._showGlobalError(_d._globalErrors);',
'\t\t\t}',
'\t\t}',
'\t\tif(typeof _d._serverSideErrors == \'undefined\') return false;',
'\t\tif(typeof _d._hasServerSideError == \'undefined\') return false;',
'\t\tif(_d._hasServerSideError == false) return false;',
'\t\t_e = _d._serverSideErrors;',
'\t\tvar arr = [];',
'\t\tfor(var i = 0; i < _e.length; i++) {',
'\t\t\tdelete obj;',
'\t\t\tvar obj = {};',
'\t\t\tif(typeof _e[i].varName != \'undefined\') { ',
'\t\t\t\tobj.id = this._hostComponentId + \'.V.R1.\' + _e[i].varName.toUpperCase();',
'\t\t\t\tobj.message = _e[i].errorText;',
'\t\t\t\tobj.errorType = \'serverside\';',
'\t\t\t\tarr.push(obj);',
'\t\t\t}',
'\t\t}',
'\t\tvar arrFix = [];',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif($(arr[i].id)) arrFix.push(arr[i]);',
'\t\t}',
'\t\tif(arrFix.length > 0) window[this._hostComponentId + \'_DlgObj\'].setErrors(arr);;',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj._listRowSelect(this.listVariableName);',
'\t}',
'\t,',
'\t_clearServerSideErrors: function() {\t\tvar ea = window[this._hostComponentId + \'_DlgObj\']._eh._e;',
'\t\tif(typeof ea == \'undefined\') return false;',
'\t\tvar arr = this._getControlsInDv();',
'\t\tvar fa = [];',
'\t\tvar id = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tid = this._hostComponentId + \'.V.R1.\' + arr[i].toUpperCase()',
'\t\t\tif(window[this._hostComponentId + \'_DlgObj\']._findArrayProp(ea,\'id\',id) >= 0) fa.push(id);',
'\t\t}',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].clearErrors(fa);',
'\t\tthis._clearGlobalError();',
'\t}',
'\t,',
'\t_hasClientSideError: function() { \t\tvar ea = window[this._hostComponentId + \'_DlgObj\']._eh._e;',
'\t\tif(typeof ea == \'undefined\') return false;',
'\t\tvar arr = this._getControlsInDv();',
'\t\tvar indx = \'\';',
'\t\tfor(var i = 0; i < arr.length; i++) {',
'\t\t\tid = this._hostComponentId + \'.V.R1.\' + arr[i].toUpperCase()',
'\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(ea,\'id\',id);',
'\t\t\tif(indx >= 0) {',
'\t\t\t\tif( ea[indx].clientSide == true) {',
'\t\t\t\t\treturn true;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_getRowData: function() { \t\tvar rn = typeof arguments[0] != \'undefined\' ? arguments[0] : -1;',
'\t\tif(rn > -1) return this.getData(rn);',
'\t\telse return this.getData(this.selection[0]);',
'\t}',
'\t,',
'\tsetListClean: function() {\t\tfor(var i = 0; i < this._data.length; i++) { ',
'\t\t\tthis.setRowClean(i);',
'\t\t}',
'\t}',
'\t,',
'\tdeleteRow: function() { \t\t',
'\t\tvar _rn = this.selection[0];',
'\t\tif(typeof _rn == \'undefined\') return false;',
'\t\tif(this._executeEvent(\'detailView.canDeleteRow\',{}) == false) return false;',
'\t\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\t\tvar flagPrompt = typeof ops.prompt != \'undefined\' ? ops.prompt : true;',
'\t\tif(!flagPrompt) {',
'\t\t\tthis._deleteRowLow();',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar classInst = this;',
'\t\tif(typeof this.customization == \'undefined\') return false;',
'\t\tvar msg = this.customization.dv.confirmDeleteWarning.message;',
'\t\tvar image = this.customization.dv.confirmDeleteWarning.icon;',
'\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\tvar title = this.customization.dv.confirmDeleteWarning.title;',
'\t\tA5.msgBox.show(title,msg,\'yn\',function(button) {',
'\t\t\tif(button == \'yes\'){',
'\t\t\t\tclassInst._deleteRowLow();    ',
'\t\t    } else if(button == \'no\'){',
'   \t\t\t}',
'   \t\t\tdelete classInst;',
'\t\t} );',
'\t}',
'\t,',
'\tresetRow: function() { \t\tif(this._executeEvent(\'detailView.canResetRow\',{}) == false) return false;',
'\t\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\t\tvar flagPrompt = typeof ops.prompt != \'undefined\' ? ops.prompt : true;',
'\t\tif(!flagPrompt) {',
'\t\t\tthis._resetRowLow();',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar classInst = this;',
'\t\tvar msg = this.customization.dv.confirmRowResetWarning.message;',
'\t\tvar image = this.customization.dv.confirmRowResetWarning.icon;',
'\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\tvar title = this.customization.dv.confirmRowResetWarning.title;',
'\t\tA5.msgBox.show(title,msg,\'yn\',function(button) {',
'\t\t\tif(button == \'yes\'){',
'\t\t\t\tclassInst._resetRowLow();    ',
'\t\t    } else if(button == \'no\'){',
'   \t\t\t}',
'   \t\t\tdelete classInst;',
'\t\t} );',
'\t}',
'\t,',
'\t_resetRowLow: function() { \t\tvar existingData = this.getData(this.selection[0]);',
'\t\tif(typeof existingData == \'undefined\') return false;',
'\t\tif(typeof existingData._oldData == \'undefined\') return false;',
'\t\tvar data = {};',
'\t\t$u.o.assign(data,existingData._oldData);',
'\t\tdata._isDirty = false;',
'\t\tdata._isDeleted = false;',
'\t\tdata._hasServerSideError = false;',
'\t\tdata._serverSideErrors = false;',
'\t\tdata._hasWriteConflictErrors = false;',
'\t\tdata._writeConflictErrors = false;',
'\t\tdata._oldData = false;',
'\t\tdelete data._globalErrors;',
'\t\tdelete data._globalErrorsRaw;',
'\t\tthis.updateRow(this.selection[0],data);',
'\t\tvar existingData = this.getData(this.selection[0]);',
'\t\tdelete existingData._globalErrors;',
'\t\tdelete existingData._globalErrorsRaw;',
'\t\tthis.updateRow(this.selection[0],existingData);',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t\tthis.populateUXControls();',
'\t\tthis._refreshDebugInfo();',
'\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\tif(typeof topParent != \'undefined\') { ',
'\t\t\tvar lObjTP = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\t\tvar _r = lObjTP._getRoute();',
'\t\t\tvar _ra = this.__routeToArray(_r)',
'\t\t\tthis.setRowCleanPreserveState(_ra);',
'\t\t}',
'\t\tthis._executeEvent(\'detailView.afterResetRow\',{});',
'\t}',
'\t,',
'\t__routeToArray: function(_r) { \t\tvar arr = [];',
'\t\tfor(var i = 0; i < _r.length; i++) { ',
'\t\t\tif(i==0) {',
'\t\t\t\tarr.push(_r[i].row);',
'\t\t\t} else { ',
'\t\t\t\tarr.push(\'__LIST__\' +_r[i].list);',
'\t\t\t\tarr.push(_r[i].row);',
'\t\t\t}',
'\t\t}',
'\t\treturn arr; ',
'\t}',
',',
'\t_arrayIsDirty: function(arr) { \t\tvar flag = false;',
'\t\tfor(var i = 0; i < arr.length; i++) { ',
'\t\t\tif(arr[i]._isDirty) { ',
'\t\t\t\treturn true;',
'\t\t\t}',
'\t\t}',
'\t\treturn false;',
'\t}',
',',
'\t_deleteRowLow: function() { \t\t',
'\t\tvar data = this.getData(this.selection[0]);',
'\t\tif(typeof data == \'undefined\') return false;',
'\t\tvar flagNewRow = \'\';',
'\t\tif(typeof data._isNewRow != \'undefined\') flagNewRow = data._isNewRow;',
'\t\tif(flagNewRow) { ',
'\t\t\tvar _rn = this.selection[0];',
'\t\t\tvar _newRow = _rn;',
'\t\t\tif( (_newRow +1) > (this._dataMap.length-1) ) _newRow = _newRow -1;',
'\t\t\tthis.nullOutDetailViewRecord();',
'\t\t\tthis.removeRows([_rn]);',
'\t\t\tvar flagListIsClean = !this._arrayIsDirty(this._data);',
'\t\t\tdata._isDeleted = true;',
'\t\t\tvar parentListName = this.parentList;',
'\t\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\t\tvar flagIsNewRow = false;',
'\t\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\t\tvar parentData = plObj.getData(plObj.selection[0]);',
'\t\t\t\tvar parentData2 = parentData;',
'\t\t\t\tvar parentDataSublist = parentData[\'__LIST__\' + this.listVariableName];',
'\t\t\t\tvar indx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(parentDataSublist,\'*key\',data[\'*key\']);',
'\t\t\t\tparentDataSublist.splice(indx,1);',
'\t\t\t\tvar flagLoop = true;',
'\t\t\t\tvar parentList = plObj;',
'\t\t\t\twhile(flagLoop && flagListIsClean) { ',
'\t\t\t\t\tif( (typeof parentData[\'_oldData\'] == \'undefined\' || !parentData[\'_oldData\']) && (typeof parentData._isNewRecord != \'undefined\' || !parentData._isRewRecord)    ) {',
'\t\t\t\t\t\tparentData._isDirty = false;',
'\t\t\t\t\t\tparentData._flagGlobalErrorInChild = false;',
'\t\t\t\t\t\tif(typeof parentList.parentList == \'undefined\') break;',
'\t\t\t\t\t\tparentList = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList.parentList);',
'\t\t\t\t\t\tif(parentList) { ',
'\t\t\t\t\t\t\tparentData = parentList.getData(parentList.selection[0]);',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t} else {',
'\t\t\t\t\t\tbreak;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar topParent = this.allParentLists[this.allParentLists.length -1];',
'\t\t\t\tvar lTop = window[this._hostComponentId + \'_DlgObj\'].getControl(topParent);',
'\t\t\t\tvar topParentData = lTop.getData(lTop.selection[0]);',
'\t\t\t\tlTop._resetFlags(topParentData);',
'\t\t\t\tlTop._refreshListRecursive();',
'\t\t\t}',
'\t\t\tthis.setValue(_newRow);',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\t_dlgObj.persistVariablesToLocalStorage();',
'\t\t\tthis._executeEvent(\'detailView.afterDeleteRow\',{})',
'\t\t\treturn false;',
'\t\t}',
'\t\tdata._isDirty = true;',
'\t\tdata._hasServerSideError = false;',
'\t\tdata._serverSideErrors = false;',
'\t\tdata._hasWriteConflictErrors = false;',
'\t\tdata._writeConflictErrors = false;',
'\t\tdata._oldData = false;',
'\t\tdata._isDeleted = true;',
'\t\tdata = this._base64Prefix(data,true);',
'\t\tthis.updateRow(this.selection[0],data);',
'\t\twindow[this._hostComponentId + \'_DlgObj\'].refreshClientSideComputations();',
'\t\tthis.populateUXControls();',
'\t\tthis._refreshDebugInfo();',
'\t\tthis._executeEvent(\'detailView.afterDeleteRow\',{});',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\tvar flagIsNewRow = false;',
'\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\tif(plObj._setDirtyByChild) {',
'\t\t\t\tplObj._setDirtyByChild(false);',
'\t\t\t}',
'\t\t}',
'\t\tif(this.synchronizeImmediately) { ',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\tvar flagOnLine = _dlgObj._getOnlineStatus();',
'\t\t\tif (flagOnLine) _dlgObj.saveListEdits(this.listVariableName);',
'\t\t}',
'\t}',
'\t,',
'\t_base64Prefix: function(_d,flagRemove) { \t\tvar n = \'\';',
'\t\tvar b64prefix = \'\'',
'\t\tfor(var i = 0; i < this._listFields.length; i++) {',
'\t\t\tif(typeof this._listFields[i].base64Prefix !== \'undefined\') { ',
'\t\t\t\tn = this._listFields[i].name;',
'\t\t\t\tb64prefix = this._listFields[i].base64Prefix;',
'\t\t\t\t_d[n] = _d[n].replace(b64prefix,\'\');',
'\t\t\t\tif(!flagRemove) _d[n] = b64prefix + _d[n];',
'\t\t\t}',
'\t\t}',
'\t\treturn _d;',
'\t}',
'\t,',
'\t_resetFlags: function(_d) { \t',
'\tvar r = A5.u.object.each(_d,function(name,value,path,result) {',
'\t\tif(name == \'_isDirty\'|| name == \'_isNewRow\' ){',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_isDirty\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_isDirty\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(name == \'_hasServerSideError\' || name == \'_flagServerSideErrorInChild\' ) { ',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_flagServerSideErrorInChild\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_flagServerSideErrorInChild\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(name == \'_hasGlobalErrors\' || name == \'_flagGlobalErrorInChild\' ) { ',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_flagGlobalErrorInChild\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_flagGlobalErrorInChild\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(name == \'_hasWriteConflictErrors\' || name == \'_flagWriteConflictErrorInChild\' ) { ',
'\t\t\tif(value) { ',
'\t\t\t\tpath = path.splice(0,path.length -3);  ',
'\t\t\t\tresult.push({\'property\' : \'_flagWriteConflictErrorInChild\', path: JSON.stringify(path)} );',
'\t\t\t\twhile(path.length > 0) { ',
'\t\t\t\t\tpath = path.splice(0,path.length -2)',
'\t\t\t\t\tresult.push({\'property\' : \'_flagWriteConflictErrorInChild\', \'path\': JSON.stringify(path)});',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t});',
'\tvar _d2 = \'\';',
'\tvar path = \'\';',
'\tvar property = \'\';',
'\tfor(var i = 0; i < r.length; i++) { ',
' \t\t _d2 = _d',
' \t\tpath = JSON.parse(r[i].path)',
' \t\tproperty = r[i].property',
' \t\tfor(var j = 0; j < path.length; j++) { ',
' \t\t\t_d2 = _d2[path[j]];',
' \t\t}',
' \t\t_d2[property] = true;',
'\t}',
'}',
',',
'\tresetForm: function() { \t\tif(this._executeEvent(\'detailView.canUndoEdits\',{}) == false) return false;',
'\t\tvar ops = typeof arguments[0] != \'undefined\' ? arguments[0] : {};',
'\t\tvar flagPrompt = typeof ops.prompt != \'undefined\' ? ops.prompt : true;',
'\t\tif(!flagPrompt) {',
'\t\t\tthis._resetFormLow();',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar classInst = this;',
'\t\tvar msg = this.customization.dv.confirmFormResetWarning.message;',
'\t\tvar image = this.customization.dv.confirmFormResetWarning.icon;',
'\t\tvar title = this.customization.dv.confirmFormResetWarning.title;',
'\t\tvar flagCSSIcon = window[this._hostComponentId + \'_DlgObj\']._isCSSIcon(image);',
'\t\tvar imageHTML = window[this._hostComponentId + \'_DlgObj\']._getImageHTML(image,flagCSSIcon);',
'\t\tmsg = \'<div style="padding: 10px;" >\' + imageHTML + msg + \'<br style="clear: both;" /></div>\';',
'\t\tA5.msgBox.show(title,msg,\'yn\',function(button) {',
'\t\t\tif(button == \'yes\'){',
'\t\t\t\tclassInst._resetFormLow();    ',
'\t\t    } else if(button == \'no\'){',
'   \t\t\t}',
'   \t\t\tdelete classInst;',
'\t\t} );',
'\t}',
'\t,',
'\t_resetFormLow: function() {\t\tthis.populateUXControls();',
'\t\tvar ctrls = this._getControlsInDv();',
'\t\tvar eleId = \'\';',
'\t\tvar arr = [];',
'\t\tvar indx = -1;',
'\t\tfor(var i = 0; i < ctrls.length; i++) {',
'\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setControlDirty(ctrls[i],false);',
'\t\t\tif( window[this._hostComponentId + \'_DlgObj\']._eh._e.length > 0) {',
'\t\t\t\teleId = this._hostComponentId +  \'.V.R1.\' + ctrls[i].toUpperCase();',
'\t\t\t\tindx = window[this._hostComponentId + \'_DlgObj\']._findArrayProp(window[this._hostComponentId + \'_DlgObj\']._eh._e,\'id\',eleId);',
'\t\t\t\tif(indx >= 0 ) arr.push(eleId);',
'\t\t\t}',
'\t\t}',
'\t\tif(arr.length > 0) window[this._hostComponentId + \'_DlgObj\'].clearErrors(arr);',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj.refreshClientSideComputations();',
'\t\tthis._executeEvent(\'detailView.afterUndoEdits\',{});',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj.persistVariablesToLocalStorage();',
'\t}',
'\t,',
'\tdetailViewIsDirty: function() {\t\t',
'\t\tvar flagDrillDown = typeof arguments[0] != \'undefined\' ? arguments[0] : false;',
'\t\tvar isDirty = false;',
'\t\tthis._nameOfListWithDirtyDetailView = \'\';',
'\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\tif(window[this._hostComponentId + \'_DlgObj\'].getControlDirty(controlName.toUpperCase())) {',
'\t\t\t\tisDirty =  true;',
'\t\t\t\tthis._nameOfListWithDirtyDetailView = this.listVariableName;',
'\t\t\t\tbreak;',
'\t\t\t}',
'\t\t}',
'\t\tthis._dvIsDirty = isDirty;',
'\t\tif(isDirty == false && flagDrillDown) {',
'\t\t\tvar lObj = \'\';',
'\t\t\tfor(var i = 0; i < this.childLists.length; i++) {',
'\t\t\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\t\t\tif(lObj) {',
'\t\t\t\t\tisDirty = lObj.detailViewIsDirty(flagDrillDown);',
'\t\t\t\t\tif(isDirty) {',
'\t\t\t\t\t\tthis._nameOfListWithDirtyDetailView = lObj._nameOfListWithDirtyDetailView;',
'\t\t\t\t\t\t$(\'msg1\').innerHTML = this._nameOfListWithDirtyDetailView ;',
'\t\t\t\t\t}',
'\t\t\t\t\tif(isDirty) break;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\treturn isDirty;',
'\t}',
'\t,',
'\tlistIsDirty: function() {\t\t',
'\t\tfor(var i = 0; i < this._data.length; i++) { ',
'\t\t\tif(typeof this._data[i]._isDirty != \'undefined\') { ',
'\t\t\t\tif(this._data[i]._isDirty) { ',
'\t\t\t\t\treturn true;',
'\t\t\t\t }',
'\t\t\t}',
'\t\t}',
'\t\treturn false;',
'\t}',
'\t,',
'\t_parentListHasActiveRow: function() {\t\tvar pl = this.parentList;',
'\t\tif(typeof pl == \'undefined\') {',
'\t\t\treturn true;',
'\t\t}',
'\t\tvar l = window[this._hostComponentId + \'_DlgObj\'].getControl(pl);',
'\t\tvar s = l.selection[0];',
'\t\tif(typeof s == \'undefined\') return false;',
'\t\treturn true;',
'\t}',
'\t,',
'\tnullOutDetailViewRecord: function() {\t\tvar flagDisable = typeof arguments[0] != \'undefined\' ? arguments[0] : false;',
'\t\tvar val = \'\';',
'\t\tvar flagParentListHasActiveRow = this._parentListHasActiveRow();',
'\t\tif(flagDisable) {',
'\t\t\tif(flagParentListHasActiveRow) flagDisable = false;',
'\t\t}',
'\t\tvar debugMsg = \'CurrentList: \' + this.listVariableName + \' - flagDisable is set to: \' + flagDisable + \' my parentList has active row: \' +  this._parentListHasActiveRow();',
'\t\tvar controlName = \'\';',
'\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setValue(controlName,val,false);',
'\t\t}',
'\t\tthis._deselectAll();',
'\t\tthis._clearServerSideErrors();',
'\t\tif(flagDisable) this.disableDetailView(true);',
'\t\telse this.disableDetailView(false)',
'\t}',
'\t,',
'\tnewDetailViewRecord: function() {\t\tvar flagParentIsDeleted = false;',
'\t\tvar pData = \'\';',
'\t\tif(this.allParentLists.length > 0) { ',
'\t\t\tfor(var i = 0; i < this.allParentLists.length; i++) {',
'\t\t\t\tpObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.allParentLists[i]);',
'\t\t\t\tif(typeof pObj.selection[0] != \'undefined\') {',
'\t\t\t\t\tpData = pObj.getData(pObj.selection[0]);',
'\t\t\t\t\tif(typeof pData._isDeleted != \'undefined\') {',
'\t\t\t\t\t\tif(pData._isDeleted) {',
'\t\t\t\t\t\t\tflagParentIsDeleted = true;',
'\t\t\t\t\t\t\tbreak;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t\tif(this._executeEvent(\'detailView.canNewRecord\',{}) == false) return false;',
'\t\tvar val = \'\';',
'\t\tvar controlName = \'\';',
'\t\tvar defaultJS = \'\';',
'\t\tfor(var i = 0; i < this._listFields.length; i++) { ',
'\t\t\tcontrolName = this._getUXDetailViewControlName(this._listFields[i].name);',
'\t\t\tdefaultJS = this._listFields[i].defaultValue;',
'\t\t\tif(defaultJS != \'\') {',
'\t\t\t\tval = Function(this._listFields[i].defaultValue).call(this);',
'\t\t\t} else { ',
'\t\t\t\tval = \'\';',
'\t\t\t}',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\t_dlgObj.setValue(controlName,val,false);',
'\t\t\tvar controlType = _dlgObj._getControlType(controlName).toLowerCase();',
'\t\t\tif(controlType == \'signaturecapture\') { ',
'\t\t\t\t_dlgObj._functions._toggleCanvas(controlName.toUpperCase(),\'canvas\');',
'\t\t\t\t_dlgObj._functions._clearCanvas(controlName.toUpperCase())',
'\t\t\t}',
'\t\t}',
'\t\tthis._deselectAll();',
'\t\tthis._clearServerSideErrors();',
'\t\tthis._executeEvent(\'detailView.afterNewRecord\',{});',
'\t\tthis._emptyAllChildLists();',
'\t\tif(flagParentIsDeleted) this.disableDetailView(true);',
'\t\telse this.disableDetailView(false);',
'\t\tthis._dvmode = \'enter\';',
'\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj._list_executeEvent(this.listVariableName,\'detailView.modeChanged\',{mode: \'enter\'});',
'\t\t_dlgObj.refreshClientSideComputations();',
'\t\tthis._selectedRow = -1;',
'\t\tthis._currentDetailViewKey = undefined;',
'\t}',
'\t,',
'\t_emptyAllChildLists: function() { \t\tfor(var i = 0; i < this.childLists.length; i++) {',
'\t\t\tvar lobj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\t\tif(lobj) {',
'\t\t\t\tlobj._emptyList();',
'\t\t\t\twindow[this._hostComponentId + \'_DlgObj\'].setValue(lobj.listVariableName,false);',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\t_emptyChildList: function(row) { \t',
'\t\tvar _d = this.getData(row);',
'\t\tvar lName = \'\';',
'\t\tfor(var name in _d) {',
'\t\t\tif(_d[name] != null) {',
'\t\t\t\tif(_d[name].constructor == Array) {',
'\t\t\t\t\tlName = name.split(\'__LIST__\')[1];',
'\t\t\t\t\tif(typeof lName != \'undefined\') {',
'\t\t\t\t\t\t_d[name] = [];',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\t,',
'\t_getUXDetailViewControlName: function(field) {\t\tif(!this._hasDetailView) {',
'\t\t\treturn \'\';',
'\t\t}',
'\t\tif(this._detailView.method == \'fieldMap\') {',
'\t\t\tfor(var i = 0; i < this._detailView.fieldMap.length; i++) { ',
'\t\t\t\tif(this._detailView.fieldMap[i].field == field) {',
'\t\t\t\t\treturn this._detailView.fieldMap[i].control;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\treturn \'\';',
'\t\t} else { ',
'\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\tvar controlsInContainer = _dlgObj.__controlNesting[this._detailView.container];',
'\t\t\tvar indx = controlsInContainer.indexOf(field);',
'\t\t\tif(indx == -1 ) return \'\'; ',
'\t\t\telse return field;',
'\t\t}',
'\t}',
'\t,',
'\t_showGlobalError: function(txt) {\t\tvar flagShowAlerts = this.flagShowAlerts;',
'\t\tif(typeof flagShowAlerts == \'undefined\') flagShowAlerts = true;',
'\t\tvar gph = this._hostComponentId + \'.V.R1.\' + this._globalErrorPlaceHolder;',
'\t\tvar ele = $(gph);',
'\t\tif(!ele) {',
'\t\t\tif(flagShowAlerts) alert(txt);',
'\t\t\treturn false;',
'\t\t}',
'\t\tvar cssTxt = this._detailViewGlobalErrorStyle;',
'\t\tcssTxt = cssTxt + \'; display: ;\'',
'\t\tele.style.cssText = cssTxt;',
'\t\tele.innerHTML = txt;',
'\t}',
'\t,',
'\t_clearGlobalError: function() {\t\tvar gph = this._hostComponentId + \'.V.R1.\' + this._globalErrorPlaceHolder;',
'\t\tele = $(gph);',
'\t\tif(ele) {',
'\t\t\tele.style.display = \'none\';',
'\t\t\tele.innerHTML = \'\';',
'\t\t}',
'\t}',
'\t,',
'\tupdateTableRow: function(primaryKeyOrRowNumber,dataObj,options) {\t\tif(typeof options == \'undefined\') options = {};',
'\t\tif(typeof options.setFocusToTargetRow == \'undefind\') options.setFocusToTargetRow = false;',
'\t\tvar obj = {};',
'\t\tobj.programmatic = true;',
'\t\tobj.data = {};',
'\t\t$u.o.assign(obj.data,dataObj);',
'\t\tobj.primaryKeyOrRowNumber = primaryKeyOrRowNumber;',
'\t\tobj.setFocusToTargetRow = options.setFocusToTargetRow;',
'\t\twindow[this._hostComponentId + \'_DlgObj\']._updateListDataFromUXControls(this.listVariableName,null,obj);',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\tvar thisData = obj.data;',
'\t\t\tvar flagIsNewRow = false;',
'\t\t\tif(typeof thisData._isNewRow != \'undefined\') flagIsNewRow = thisData._isNewRow;',
'\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\tif(plObj._setDirtyByChild) {',
'\t\t\t\tif (flagIsNewRow == false)  \tplObj._setDirtyByChild(false);',
'\t\t\t\telse plObj._setDirtyByChild(true,thisData,this.listVariableName);',
'\t\t\t}',
'\t\t}\t',
'\t}',
'\t,',
'\taddTableRow: function(dataObj,options) {\t\tvar flagRefresh = false;',
'\t\tif(typeof options == \'undefined\') {',
'\t\t\toptions = {};',
'\t\t}',
'\t\tif(typeof options.setFocusToTargetRow == \'undefind\') options.setFocusToTargetRow = false;',
'\t\tvar obj = {};',
'\t\tobj.programmatic = true;',
'\t\tobj.data = {};',
'\t\t$u.o.assign(obj.data,dataObj);',
'\t\tobj.primaryKeyOrRowNumber = null;',
'\t\tobj.setFocusToTargetRow = options.setFocusToTargetRow;',
'\t\tif(typeof options.insertRow == \'undefined\') options.insertRow = false;\t\t',
'\t\tobj.insertRow = options.insertRow;',
'\t\tobj.insertRowPosition = options.insertPosition;',
'\t\tvar _dlg = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t_dlg._updateListDataFromUXControls(this.listVariableName,null,obj);',
'\t\tvar parentListName = this.parentList;',
'\t\tif(typeof parentListName != \'undefined\') {',
'\t\t\tvar thisData = obj.data;',
'\t\t\tvar plObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.parentList);',
'\t\t\tif(plObj._setDirtyByChild) {',
'\t\t\t\tplObj._setDirtyByChild(true,thisData,this.listVariableName);',
'\t\t\t}',
'\t\t}',
'\t\t_dlg.refreshClientSideComputations();',
'\t}',
'\t,',
'\t_setChildHasWriteConflictFlag: function() { ',
'\tvar _d = this.getData(this.selection[0]);',
'\tvar flag = this._hasChildWithWriteConflict(); ',
'\t_d._flagWriteConflictErrorInChild = flag;',
'\tif(typeof _d._oldData == \'undefined\') { ',
'\t\tvar flag = this._hasChildWithDirtyData()',
'\t\t_d._isDirty = flag; ',
'\t}',
'\tthis.updateRow(this.selection[0],_d);',
'\tvar parentList = this.parentList;',
'\tif(typeof parentList != \'undefined\') { ',
'\t\tvar lObj = window[this._hostComponentId + \'_DlgObj\'].getControl(parentList);',
'\t\tlObj._setChildHasWriteConflictFlag();',
'\t}',
'\treturn false;',
'}',
',',
'\t_hasChildWithDirtyData: function() {',
'\tvar flag = false;',
'\tvar lObj = \'\';',
'\tvar data = \'\';',
'\tfor (var i = 0; i < this.childLists.length; i++) { ',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\tdata = lObj.getData(lObj.selection[0]);',
'\t\tif(typeof data._isDirty != \'undefined\') {',
'\t\t\tif(data._isDirty) flag = true;',
'\t\t}',
'\t\tif(flag == false) { ',
'\t\t\tvar flag2 = lObj._hasChildWithDirtyData();',
'\t\t\tif(flag2) flag = true;',
'\t\t}',
'\t}',
'\treturn flag;',
'}',
',',
'\t_hasChildWithWriteConflict: function() {',
'\tvar flag = false;',
'\tvar lObj = \'\';',
'\tvar data = \'\';',
'\tfor (var i = 0; i < this.childLists.length; i++) { ',
'\t\tlObj = window[this._hostComponentId + \'_DlgObj\'].getControl(this.childLists[i]);',
'\t\tdata = lObj.getData(lObj.selection[0]);',
'\t\tif(typeof data._hasWriteConflictErrors != \'undefined\') {',
'\t\t\tif(data._hasWriteConflictErrors) flag = true;',
'\t\t}',
'\t\tif(typeof data._flagWriteConflictErrorInChild != \'undefined\') {',
'\t\t\tif(data._flagWriteConflictErrorInChild) flag = true;',
'\t\t}',
'\t\tif(flag == false) { ',
'\t\t\tvar flag2 = lObj._hasChildWithWriteConflict();',
'\t\t\tif(flag2) flag = true;',
'\t\t}',
'\t}',
'\treturn flag;',
'}',
',',
'\t_populateMyChildren: function() {',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tthis._populateChildList(lname);',
'\t}',
'}',
',',
'\t_emptyList: function() { ',
'\tthis.populate([]);',
'\tthis._currentDetailViewKey = undefined;',
'\tthis._selectedRow = -1;',
'\tvar e = $(this._hostComponentId + \'.\' + this.listVariableNameTrueCase + \'.RECORDCOUNT\');',
'\tif(e) e.innerHTML = \'0\';',
'\tthis.nullOutDetailViewRecord(true); ',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tvar lname = this.childLists[i];',
'\t\tvar lobj = window[this._hostComponentId + \'_DlgObj\'].getControl(lname);',
'\t\tlobj._emptyList();',
'\t}',
'}',
',',
'\t_populateChildList: function(list) {',
'\tvar flagParentIsDeleted = false;',
'\tlChildObj = window[this._hostComponentId + \'_DlgObj\'].getControl(list);',
'\tif(typeof lChildObj._parentIsDeleted != \'undefined\') flagParentIsDeleted = lChildObj._parentIsDeleted;',
'\tvar _d = this.selectionData[0];',
'\tvar flagClearChildLists = false;',
'\tif(typeof _d == \'undefined\') {',
'\t\tflagClearChildLists = true;',
'\t}',
'\tif(typeof _d == \'undefined\') {',
'\t\tflagClearChildLists = true;',
'\t}',
'\tif(flagClearChildLists) { ',
'\t\tthis._emptyAllChildLists()',
'\t\treturn false;',
'\t}',
'\tvar childDataObjectName = this._getChildDataObjectName(list);',
'\tvar _rd = _d[childDataObjectName];',
'\tif(_rd == null) { ',
'\t\t_rd = [];',
'\t}',
'\tif(typeof _rd == \'undefined\' || _rd.length == 0) {',
'\t\t_d[childDataObjectName] = [];',
'\t\t_rd = _d[childDataObjectName]',
'\t}',
'\tvar lobj = window[this._hostComponentId + \'_DlgObj\'].getControl(list);',
'\tif(lobj) {',
'\t\tlobj.populate(_rd);',
'\t\tvar e = $(this._hostComponentId + \'.\' + lobj.listVariableNameTrueCase + \'.RECORDCOUNT\');',
'\t\tif(e) e.innerHTML = _rd.length;',
'\t\tlobj.disableDetailView(false);',
'\t\tif(lobj.allowNullSelection) {',
'\t\t\tif(lobj.nullOutDetailViewRecord) lobj.nullOutDetailViewRecord(true); ',
'\t\t\tfor(var i = 0; i < lobj.childLists.length; i++) { ',
'\t\t\t\tvar lname = lobj.childLists[i];',
'\t\t\t\tlobj._populateChildList(lname);',
'\t\t\t}',
'\t\t}',
'\t}',
'\tthis._currentSelection = this.selection[0];',
'\tif(flagParentIsDeleted) lobj.disableDetailView(true);',
'}',
',',
'\t_setSynchProgress: function(pct) {',
'\tvar x = \'\';',
'\tif(Number(pct) == 0) x = \'none\';',
'\tvar eleO = $(\'SYNCHPROGRESS.\' + this.listVariableName);',
'\tif(eleO) eleO.style.display = \'\';',
'\tvar eleI = $(\'SYNCHPROGRESS.\' + this.listVariableName + \'.SLIDER\');',
'\tif(eleI) {',
'\t\teleI.style.display = x;',
'\t\teleI.style.width = \'\' + pct + \'%\';',
'\t}',
'}',
',',
'\t_hideSynchProgress: function(pct) {',
'\tvar eleO = $(\'SYNCHPROGRESS.\' + this.listVariableName);',
'\tif(eleO) eleO.style.display = \'none\';',
'}',
',',
'\t_cancelBatchSynchronize: function() { ',
'\tvar flag = this._executeEvent(\'detailView.canCancelBatch\',{});',
'\tif(!flag) { ',
'\t\treturn false;',
'\t}',
'\tthis._flagCancelBatchSynchronize = true;',
'}',
',',
'\t_harvestMediaFields_low: function(arr,objListName,objState,data,options) {',
'\tvar _mediaMap = \'\';;',
'\tvar _mediaFields = \'\';',
'\tvar listName = \'\';',
'\tvar lObj = \'\';',
'\tvar flagNested = false;',
'\tvar objDirty = false;',
'\tvar fieldDirty = false;',
'\tvar lName = \'\';',
'\tvar flagCheck = \'\';',
'\tvar flagIsMediaField = false;',
'\tvar mode = options.mode;',
'\tif(typeof mode == \'undefined\') mode = \'\';',
'\tvar flagCapture = false;',
'\tvar flagCapture2 = false;',
'\tvar flagChildTable = false;',
'\tfor(var prop in data) { ',
'\t\tif(prop == \'_dirtyImages\') continue;',
'\t\tif( data[prop] != null && data[prop].constructor == Array) { ',
'\t\t\tif(data[prop].length > 0) { ',
'\t\t\t\tobjListName.push({table: prop, nested: true});',
'\t\t\t\tfor(var i = 0; i < data[prop].length; i++) { ',
'\t\t\t\t\tobjState.push( {table: objListName[  objListName.length -1][\'table\'], row: i}) ;',
'\t\t\t\t\tthis._harvestMediaFields_low(arr,objListName,objState,data[prop][i],options);',
'\t\t\t\t\tobjState.pop();',
'\t\t\t\t}',
'\t\t\t\tobjListName.pop();',
'\t\t\t}',
'\t\t} else { ',
'\t\t\tif(objListName.length == 0) { ',
'\t\t\t\tcontinue;',
'\t\t\t}',
'\t\t\tlistName   = objListName[objListName.length -1][\'table\'];',
'\t\t\tflagNested = objListName[objListName.length -1][\'nested\'];',
'\t\t\tif(listName == \'_top_\') {',
'\t\t\t\tlObj = this;',
'\t\t\t\tflagChildTable = false;',
'\t\t\t} else { ',
'\t\t\t\tlistName = listName.split(\'__LIST__\')[1];',
'\t\t\t\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\t\t\t\tlObj = _dlgObj.getControl(listName);',
'\t\t\t\tflagChildTable = true;',
'\t\t\t}',
'\t\t\tif(lObj) { ',
'\t\t\t\tflagCheck = true;',
'\t\t\t\t_mediaMap = lObj._mediaFields;  ',
'\t\t\t\tflagIsMediaField = false;',
'\t\t\t\tif(!options.flagDirtyOnly) {',
'\t\t\t\t\tif(_mediaMap.indexOf(prop) > -1) flagIsMediaField = true;',
'\t\t\t\t\tif(flagIsMediaField) { ',
'\t\t\t\t\t\tlName = objListName[objListName.length -1][\'table\'];',
'\t\t\t\t\t\tif(lName == \'_top_\') lName = lObj.listVariableName;',
'\t\t\t\t\t\tflagCapture = false;',
'\t\t\t\t\t\tif(mode == \'\') { ',
'\t\t\t\t\t\t\tif(data[prop] != null && data[prop] != \'\' && data[prop].toLowerCase().indexOf(\'file:\') != 0) flagCapture = true;',
'\t\t\t\t\t\t} else if(mode == \'file\') { ',
'\t\t\t\t\t\t\tif(data[prop] != null && data[prop] != \'\' && data[prop].toLowerCase().indexOf(\'file:\') == 0) flagCapture = true;',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tif(flagCapture) {',
'\t\t\t\t\t\t\tarr.push({',
'\t\t\t\t\t\t\t\tlistFieldName: prop, ',
'\t\t\t\t\t\t\t\tfilename: data[prop], ',
'\t\t\t\t\t\t\t\tlistName: lName, ',
'\t\t\t\t\t\t\t\troute: JSON.stringify(objState),',
'\t\t\t\t\t\t\t\tflagChildTable: flagChildTable',
'\t\t\t\t\t\t\t\t});',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t} else {',
'\t\t\t\t\tif(flagCheck) {',
'\t\t\t\t\t\tfieldDirty = false;',
'\t\t\t\t\t\tif(typeof data._dirtyImages != \'undefined\') {',
'\t\t\t\t\t\t\tobjDirty = data._dirtyImages[prop];',
'\t\t\t\t\t\t\tfieldDirty = false;',
'\t\t\t\t\t\t\tif(typeof objDirty != \'undefined\') fieldDirty = objDirty;',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(data._isNewRow) {',
'\t\t\t\t\t\t\t\tfieldDirty = true;',
'\t\t\t\t\t\t\t} else {',
'\t\t\t\t\t\t\t\tif(typeof data._oldData != \'undefined\') { ',
'\t\t\t\t\t\t\t\t\tif(data[prop] != data._oldData[prop]) fieldDirty = true;',
'\t\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\t_mediaMap = lObj._mediaFields;',
'\t\t\t\t\t\tif(_mediaMap.indexOf(prop) > -1) flagIsMediaField = true;',
'\t\t\t\t\t\tif(flagIsMediaField) { ',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tflagCapture2 = false;',
'\t\t\t\t\t\tif(options.flagCleanOnly) { ',
'\t\t\t\t\t\t\tif(!fieldDirty) {',
'\t\t\t\t\t\t\t\tif(flagIsMediaField) flagCapture2 = true;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t} else { ',
'\t\t\t\t\t\t\tif(fieldDirty) { ',
'\t\t\t\t\t\t\t\tif(flagIsMediaField) flagCapture2 = true;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t}',
'\t\t\t\t\t\tif( ( ( flagCapture2 )   && data[prop] != null &&  data[prop].toLowerCase().indexOf(\'file:\') == 0 ) ) {',
'\t\t\t\t\t\t\tlName = objListName[objListName.length -1][\'table\'];',
'\t\t\t\t\t\t\tif(lName == \'_top_\') {',
'\t\t\t\t\t\t\t\tlName = lObj.listVariableName;',
'\t\t\t\t\t\t\t\tflagChildTable = false;',
'\t\t\t\t\t\t\t} else  { ',
'\t\t\t\t\t\t\t\tflagChildTable = true;',
'\t\t\t\t\t\t\t}',
'\t\t\t\t\t\t\tarr.push({',
'\t\t\t\t\t\t\t\tlistFieldName: prop, ',
'\t\t\t\t\t\t\t\tfilename: data[prop], ',
'\t\t\t\t\t\t\t\tlistName: lName, ',
'\t\t\t\t\t\t\t\troute: JSON.stringify(objState),',
'\t\t\t\t\t\t\t\tflagChildTable: flagChildTable',
'\t\t\t\t\t\t\t\t});',
'\t\t\t\t\t\t}',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'}',
',',
'\t_harvestMediaFields: function() {   ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return [];',
'\tvar ops = arguments[0];',
'\tif(typeof ops == \'undefined\') ops = {};',
'\tif(typeof ops.dirtyOnly == \'undefined\') ops.dirtyOnly = true;',
'\tif(typeof ops.cleanOnly == \'undefined\') ops.cleanOnly = false;',
'\tif(typeof ops.mode == \'undefined\') ops.mode = \'\';',
'\tvar _r = ops.row;',
'\tif(typeof _r == \'undefined\') _r = -1;',
'\tvar arr = [];',
'\tvar objListName = [];',
'\tvar objState = [];',
'\tvar flagRowIsDirty = \'\';',
'\tvar flagDirtyOnly = ops.dirtyOnly;',
'\tvar options = {',
'\t\tflagDirtyOnly: flagDirtyOnly,',
'\t\tmode: ops.mode,',
'\t\tflagCleanOnly: ops.cleanOnly',
'\t};',
'\tvar flagSingleRow = false;',
'\tif(_r == -1) {',
'\t\tvar _d = this._data;',
'\t} else { ',
'\t\tvar _d = [this._data[_r]];',
'\t\tflagSingleRow = true;',
'\t}',
'\tvar _row = \'\';',
'\tobjListName.push({table: \'_top_\', nested: false});\t',
'\tfor(var i = 0; i < _d.length; i++) { ',
'\t\tflagRowIsDirty = false;',
'\t\tif(typeof _d[i]._isDirty != \'undefined\') flagRowIsDirty = _d[i]._isDirty;',
'\t\tif(flagRowIsDirty || !flagDirtyOnly || ops.cleanOnly ) { ',
'\t\t\t_row = i;',
'\t\t\tif(flagSingleRow) _row = _r;',
'\t\t\tobjState.push( {table: objListName[  objListName.length -1][\'table\'], row: _row})  ',
'\t\t\tthis._harvestMediaFields_low(arr,objListName,objState,_d[i],options);',
'\t\t\tobjState.pop();\t\t',
'\t\t}',
'\t}\t',
'\tif (!ops.cleanOnly) this._mediaFieldsArray = arr;',
'\treturn arr;',
'}',
',',
'\t_pushMediaFieldArrayToList: function(arr) { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar flagUnFix = false;',
'\tif(typeof arguments[1] != \'undefined\') flagUnFix = arguments[1];',
'\tvar lObj = this;',
'\tvar _data = lObj._data;',
'\tvar _di = \'\';',
'\tvar r = \'\';',
'\tvar table = \'\';',
'\tfor(var i = 0; i < arr.length; i++) { ',
'\t\tarr[i].routeObj = JSON.parse(arr[i].route);',
'\t\tr = arr[i].routeObj[0].row',
'\t\tfor(var j = 0; j < arr[i].routeObj.length; j ++) { ',
'\t\t\ttable = arr[i].routeObj[j].table;',
'\t\t\tr = arr[i].routeObj[j].row',
'\t\t\tif(table == \'_top_\') { ',
'\t\t\t\t_di = _data[r];',
'\t\t\t} else { ',
'\t\t\t\t_di = _di[table][r];',
'\t\t\t}',
'\t\t}',
'\t\tif(typeof _di == \'undefined\') return false;',
'\t\t_di._flagMediaFileUploadError = false;',
'\t\tif(!flagUnFix) {',
'\t\t\tif(typeof arr[i].modifiedValue != \'undefined\') {',
'\t\t\t\t_di[arr[i].listFieldName] = arr[i].modifiedValue;',
'\t\t\t} else { ',
'\t\t\t\t_di._flagMediaFileUploadError = true;',
'\t\t\t}',
'\t\t} else { ',
'\t\t\t_di[arr[i].listFieldName] = arr[i].filename;',
'\t\t}',
'\t}',
'\tvar _route = lObj._getRoute();',
'\tlObj.refresh();',
'\tthis._setRoute(_route);',
'\tif(flagUnFix) {',
'\t\tthis.populateUXControls();',
'\t}',
'}',
',',
'\t_unFixMediaFields: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar arr = this._mediaFieldsArray;',
'\tif(typeof arr == \'undefined\') return false;',
'\tthis._pushMediaFieldArrayToList(arr,true);',
'\tdelete this._mediaFieldsArray;',
'}',
',',
'\t_syncMediaFiles: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar _list = this._mediaFiles;',
'\tvar listName = this.listVariableName;',
'\tvar componentAlias = this._hostComponentId;',
'\tvar target = this._phoneGap.mediaFiles.target.toLowerCase();',
'\tif(target == \'s3\') {',
'\t\tvar S3ConnectionString = this._phoneGap.mediaFiles.s3.connectionString;',
'\t} else { ',
'\t\ttarget = \'alphaanywhere\';',
'\t}',
'\tvar targetFileNameFunction = this._phoneGap.mediaFiles.targetFilenameFunction;',
'\tvar protectedRead = this._phoneGap.mediaFiles.protectedRead;',
'\tvar fileNameTemplate = this._phoneGap.mediaFiles.template;',
'\tvar instanceId = A5.ts();',
'\tif(typeof device != \'undefined\') {',
'\t\tif(typeof device.uuid != \'undefined\') instanceId = device.uuid;',
'\t}',
'\ttargetFileNameFunction = targetFileNameFunction.replace(\'<DeviceId>\',instanceId);',
'\tvar showProgress = this._phoneGap.mediaFiles.showProgress;',
'\tvar onErrorFunction = this._phoneGap.mediaFiles.onErrorFunction;',
'\tvar pColor = \'\';',
'\tvar pElement = \'\';',
'\tvar pWidth = \'\';',
'\tif(showProgress) { ',
'\t\tpColor = this._phoneGap.mediaFiles.progress.color;',
'\t\tpElement = this._phoneGap.mediaFiles.progress.element;',
'\t\tpWidth = this._phoneGap.mediaFiles.progress.width;',
'\t}',
'\tvar arr = _list;',
'\tvar s3Obj = {};',
'\tvar aaObj = {}',
'\tif(target == \'s3\') {',
'\t\ts3Obj.connectionString = S3ConnectionString;',
'\t\ts3Obj.protectedRead = false;',
'\t} else { ',
'\t}',
'\tvar options = {',
'\t\tspecialMode: \'detailViewMediaUpload\',',
'\t\ttarget: target,',
'\t\tlistName: listName,',
'\t\tcomponentAlias: componentAlias,',
'\t\tAAServerOptions: aaObj,',
'\t\ts3: s3Obj,',
'\t\tshowProgress: showProgress,',
'\t\tonComputeS3Filename: Function(\'e\',targetFileNameFunction),',
'\t\tfileNameTemplate: fileNameTemplate,',
'\t\tonComplete: function(array) { ',
'\t\t\tif(target == \'alphaanywhere\') {',
'\t\t\t} else {',
'\t\t\t\tvar mVal = \'\';',
'\t\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\t\tmVal = this.fileNameTemplate.replace(\'__name__\',array[i].targetName);',
'\t\t\t\t\tarray[i].modifiedValue = mVal;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tvar _dlgObj = window[this.componentAlias + \'_DlgObj\'];',
'\t\t\tvar lObj = _dlgObj.getControl(listName);',
'\t\t\tlObj._pushMediaFieldArrayToList(array);',
'\t\t\tvar _dlgObj = window[options.componentAlias + \'_DlgObj\'];',
'\t\t\t_dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesUploaded\',{array:array});',
'\t\t\tvar countSucceeded = 0;',
'\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\tif(array[i].succeeded) countSucceeded = countSucceeded + 1;',
'\t\t\t}',
'\t\t\tif(countSucceeded < array.length) { ',
'\t\t\t\tvar errorCount = array.length - countSucceeded;',
'\t\t\t\t_dlgObj._list_executeEvent(listName,\'detailView.onMediaFilesUploadErrors\',{array:array, errorCount: errorCount})',
'\t\t\t}',
'\t\t\t_dlgObj.saveListEdits(options.listName,{rows: \'allRows\', checkForMediaFiles: false, fixMediaFileReferences: true, resetMediaFileUploadErrors: false});',
'\t\t},',
'\t\tprogress: {',
'\t\t\tcolor: pColor,',
'\t\t\twidth: pWidth,',
'\t\t\tindividualProgress: false,',
'\t\t\tshowTotalProgress: true,',
'\t\t\tallowCancel: false,',
'\t\t\tprogressElement: pElement',
'\t\t},',
'\t\tonError : onErrorFunction',
'\t}',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar result = _dlgObj._list_executeEvent(listName,\'detailView.beforeMediaFilesUploaded\',{array:arr});',
'\tif(!result) return false;',
'\t_dlgObj.phoneGapFileUpload(arr,options);',
'}',
',',
'\t_fetchMediaFiles: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tif (typeof this._mediaFields == \'undefined\') return false;',
'\tvar _route = arguments[1];',
'\tif(typeof _route == \'undefined\') _route = false;',
'\tvar _r = arguments[0];',
'\tif(typeof  _r == \'undefined\') _r = -1; ',
'\tvar flagFetchMediaFiles = false;',
'\tif(typeof this._phoneGap != \'undefined\') { ',
'\t\tif(typeof this._phoneGap.mediaFiles != \'undefined\') { ',
'\t\t\tif(typeof this._phoneGap.mediaFiles.download != \'undefined\') {',
'\t\t\t\tif(typeof this._phoneGap.mediaFiles.download.autodownloadFilesOnPullSynch != \'undefined\') { ',
'\t\t\t\t\tflagFetchMediaFiles = this._phoneGap.mediaFiles.download.autodownloadFilesOnPullSynch;',
'\t\t\t\t}',
'\t\t\t}',
'\t\t}',
'\t}',
'\tif(!flagFetchMediaFiles) return false;',
'\tvar folder = this._phoneGap.mediaFiles.download.targetFolder;',
'\tif(folder == \'\') { ',
'\t\talert(\'You have not specified the file download settings in the List builder. Edit the settings for List \'+this.listVariableName+\' and go to \\\'Detail View\\\' pane, \\\'PhoneGap Properties\\\'.\');',
'\t\treturn false;',
'\t}',
'\tthis._flagFetchMediaHasRun = true;',
'\tfolder = folder + \'/\' + this.listVariableName;',
'\tvar listName = this.listVariableName;',
'\tvar showProgress = this._phoneGap.mediaFiles.download.showProgress;',
'\tvar pColor = \'\';',
'\tvar pElement = \'\';',
'\tvar pWidth = \'\';',
'\tif(showProgress) { ',
'\t\tpColor = this._phoneGap.mediaFiles.download.progress.color;',
'\t\tpElement = this._phoneGap.mediaFiles.download.progress.element;',
'\t\tpWidth = this._phoneGap.mediaFiles.download.progress.width;',
'\t}',
'\tvar flagDeleteOrphans = false;',
'\tif(typeof this._phoneGap.mediaFiles.download.deleteOrphansAfterSync != \'undefined\') flagDeleteOrphans =this._phoneGap.mediaFiles.download.deleteOrphansAfterSync;',
'\tvar arr = this._harvestMediaFields({dirtyOnly: false, row: _r});',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar result = _dlgObj._list_executeEvent(listName,\'detailView.beforeMediaFilesDownloaded\',{array:arr});',
'\tif(!result) { ',
'\t\t_dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesDownloaded\',{array:array, aborted: true});',
'\t\treturn false;',
'\t}',
'\tif(arr.length > 0 ) { ',
'\t\tvar lObj = this;',
'\t\tvar _dlgObj = _dlgObj;',
'\t\tvar that = this;',
'\t\tvar options = {',
'\t\t\ttargetFolder: folder,',
'\t\t\tshowProgress: showProgress,',
'\t\t\tonComplete: function(array) { ',
'\t\t\t\tvar arr = [];',
'\t\t\t\tvar _d = lObj._data;',
'\t\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\t\tif(array[i].success) {',
'\t\t\t\t\t\tarray[i].modifiedValue = array[i].localFilename;',
'\t\t\t\t\t} else { ',
'\t\t\t\t\t\tarray[i].modifiedValue = array[i].filename;',
'\t\t\t\t\t}',
'\t\t\t\t}',
'\t\t\t\tvar result = _dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesDownloaded\',{array:array, aborted: false});',
'\t\t\t\tif(!result) return false;',
'\t\t\t\tlObj._pushMediaFieldArrayToList(array);',
'\t\t\t\tif(flagDeleteOrphans) { ',
'\t\t\t\t\tthat._deleteOrphanMediaFiles()',
'\t\t\t\t}',
'\t\t\t\tthat.populateUXControls();',
'\t\t\t\tif(_route) {',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t\tthat.populateUXControls();',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t\tthat._populateAllChildLists();',
'\t\t\t\t\tthat._setRoute(_route);',
'\t\t\t\t}',
'\t\t\t},',
'\t\t\tprogress: {',
'\t\t\t\tcolor: pColor,',
'\t\t\t\twidth: pWidth,',
'\t\t\t\tallowCancel: false,',
'\t\t\t\tprogressElement: pElement',
'\t\t\t}',
'\t\t}',
'\t\t_dlgObj.phoneGapFileDownload(arr,options);\t',
'\t} else { ',
'\t\t _dlgObj._list_executeEvent(listName,\'detailView.afterMediaFilesDownloaded\',{array:arr});',
'\t}',
'}',
',',
'\tresolveFieldConflict: function(route,fieldName,oldValueCurrent,newValueMine) { ',
'\tvar _d = this._getDataFromRoute(route);',
'\tvar _routeCapture = this._getRoute();',
'\tif(!_d) return false;',
'\tif(typeof _d[fieldName] == \'undefined\') return false;',
'\tif(typeof _d[\'_oldData\'] == \'undefined\') return false;',
'\t_d[\'_oldData\'][fieldName] = oldValueCurrent;',
'\tif(typeof newValueMine != \'undefined\') {',
'\t\t_d[fieldName] = newValueMine;',
'\t} else { ',
'\t\t_d[fieldName] = oldValueCurrent;',
'\t}',
'\tif(typeof _d[\'_writeConflictErrors\'] != \'undefined\') { ',
'\t\tvar _wce = _d[\'_writeConflictErrors\'];',
'\t\tfor(var i = 0; i < _wce.length; i++)  { ',
'\t\t\tif(_wce[i].fieldName == fieldName) { ',
'\t\t\t\t_wce.splice(i,1);',
'\t\t\t}',
'\t\t}',
'\t\tif(_wce.length == 0) { ',
'\t\t\t_d[\'_hasWriteConflictErrors\'] = false;',
'\t\t\t_d[\'_writeConflictErrors\'] = false;',
'\t\t}\t',
'\t}',
'\tvar flagClean = true;',
'\tfor(var n in _d[\'_oldData\']) {',
'\t\tif(_d[\'_oldData\'][n] != _d[n]) {',
'\t\t\tflagClean = false;',
'\t\t\tbreak;',
'\t\t}',
'\t}',
'\tif(flagClean) { ',
'\t\tdelete _d[\'_oldData\'];',
'\t\tdelete _d.__displayStyle;',
'\t\t_d._isDirty = false;',
'\t\tvar flagLoop = true;',
'\t\twhile(flagLoop) { ',
'\t\t\troute.pop();',
'\t\t\troute.pop();',
'\t\t\tif(route.length == 0) {',
'\t\t\t\tbreak;',
'\t\t\t};',
'\t\t\tvar _dp = this._getDataFromRoute(route);',
'\t\t\tif(typeof _dp[\'_oldData\'] == \'undefined\') { ',
'\t\t\t\t_dp._isDirty = false;',
'\t\t\t\tdelete _dp.__displayStyle;',
'\t\t\t}',
'\t\t}',
'\t\tthis._refreshListRecursive();',
'\t}',
'}',
',',
'\t_refreshListRecursive: function() { ',
'\tthis.refresh();',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tfor(var i = 0; i < this.childLists.length; i++) { ',
'\t\tlObj = _dlgObj.getControl(this.childLists[i]);',
'\t\tif(lObj) lObj._refreshListRecursive();',
'\t}',
'}',
',',
'\t_deleteOrphanMediaFiles: function() { ',
'\tif (typeof window[\'cordova\'] == \'undefined\') return false;',
'\tvar folder = this._phoneGap.mediaFiles.download.targetFolder;',
'\tif(folder == \'\') { ',
'\t\talert(\'You have not specified the file download settings in the List builder. Edit the settings for List \'+this.listVariableName+\' and go to \\\'Detail View\\\' pane, \\\'PhoneGap Properties\\\'.\');',
'\t\treturn false;',
'\t}',
'\tif(typeof this._flagFetchMediaHasRun == \'undefined\' || this._flagFetchMediaHasRun == false ) { ',
'\t\talert(\'Sync media files method has not yet been run\');',
'\t\treturn false;',
'\t}',
'\tif(folder.substring(0,1) == \'/\') folder = folder.substring(1);',
'\tif(folder.substr( folder.length -1,1) == \'/\') { ',
'\t\tfolder = folder.substring(0,folder.length -1);',
'\t}',
'\tfolder = folder + \'/\' + this.listVariableName;',
'\tvar that = this;',
'\tvar listName = this.listVariableName;',
'\tvar _dlgObj = window[this._hostComponentId + \'_DlgObj\'];',
'\tvar onFSSuccess = function(fs) { ',
'\t\tvar baseDirectory = fs.root.toURL();',
'\t\tbaseDirectory = baseDirectory + folder;',
'\t\tvar arr = that._harvestMediaFields({dirtyOnly: false, mode: \'file\'});',
'\t\tvar fr = []; ',
'\t\tfor( var i = 0; i < arr.length; i++) { ',
'\t\t\tfr.push(\'/\' + folder +  arr[i].filename.replace(baseDirectory,\'\'));',
'\t\t}',
'\t\tfr.sort();',
'\t\tvar _dlgObj = window[that._hostComponentId + \'_DlgObj\'];',
'\t\t_dlgObj.phoneGapGetDirectoryRecurse(folder,function(array) { ',
'\t\t\tvar ff = [];',
'\t\t\tfor(var i = 0; i < array.length; i++) { ',
'\t\t\t\tif(array[i].isFile) { ',
'\t\t\t\t\tff.push(array[i].fullPath);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\tff.sort();',
'\t\t\tvar fd = []; ',
'\t\t\tfor(var i = 0; i < ff.length; i++) { ',
'\t\t\t\tif(fr.indexOf(ff[i]) < 0) { ',
'\t\t\t\t\tfd.push(ff[i]);',
'\t\t\t\t}',
'\t\t\t}',
'\t\t\t var result = _dlgObj._list_executeEvent(listName,\'detailView.beforeDeleteOrphanMediaFiles\',{array:fd});',
'\t\t\t if(!result) return false;',
'\t\t\tvar countDeleted = 0;',
'\t\t\tvar countToDelete = fd.length;',
'\t\t\tfor(var i = 0 ; i < fd.length; i++) {\t',
'\t\t\t\tvar fn = fd[i];',
'\t\t\t\tif(fn.substring(0,1) == \'/\') fn = fn.substring(1);',
'\t\t\t\t_dlgObj.phoneGapDeleteFile(fn,function() { ',
'\t\t\t\t\tcountDeleted = countDeleted + 1;',
'\t\t\t\t\tif(countDeleted == countToDelete) { ',
'\t\t\t\t\t\t_dlgObj._list_executeEvent(listName,\'detailView.afterDeleteOrphanMediaFiles\',{array:fd});',
'\t\t\t\t\t}',
'\t\t\t\t})',
'\t\t\t}',
'\t\t});',
'\t}',
'\twindow.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess);',
'\treturn false;',
'}',
'}',
')',
'//End section - Add methods to List prototype',
'{UXPRERENDEREDALIAS}_DlgObj._listControls = [\'listHidden\']',
'{UXPRERENDEREDALIAS}_DlgObj._localStorageSettings = {namespace: \'ALPHA_CWMyProfile\',friendlyName: \'CenterWatch profile\',description: \'Profile\',persistVariableValues: false,__version: 1,persistComponentState: false,workingPreviewTestingFolder: \'\',restore: {variables: false,data: false,state: false},compressData: true,minify: true,variablesToNotPersist: \'\',workingPreviewTestingMode: \'Browser\',compressListData: true}',
'{UXPRERENDEREDALIAS}_DlgObj.__r = [\'3rkeltoSdQc=\']',
'{UXPRERENDEREDALIAS}_DlgObj._staticHTMLMode = false',
'{UXPRERENDEREDALIAS}_DlgObj._EDITOR_EDITORSET = {};',
'{UXPRERENDEREDALIAS}_DlgObj.styleName = \'iOS7\';',
'{UXPRERENDEREDALIAS}_DlgObj.styleVersion = 3',
'{UXPRERENDEREDALIAS}_DlgObj.framesInfo = {',
'};',
'{UXPRERENDEREDALIAS}_DlgObj._noPersist = []',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK1\',A5.d.evnts.click,function(e) {',
'CWApp.goBackToMainMenu({UXPRERENDEREDALIAS}_DlgObj);',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_BACK1\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_SAVE\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.submit();',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_SAVE\');',
'',
'$e.add(\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_RESET\',A5.d.evnts.click,function(e) {',
'{UXPRERENDEREDALIAS}_DlgObj.resetForm();',
'},this,false,\'{UXPRERENDEREDALIAS}.V.R1.BUTTON_RESET\');',
'',
'{UXPRERENDEREDALIAS}_DlgObj.prepare();{UXPRERENDEREDALIAS}_DlgObj.populate({UXPRERENDEREDALIAS}_DlgObj.originalValues[0]);',
'{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);',
'',
'',
'if(!A5.flags.isMobile) $e.add(window,\'resize\',{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation);',
'else $e.add(window,\'orientationchange\',{UXPRERENDEREDALIAS}_DlgObj._orientationChangeHandler,{UXPRERENDEREDALIAS}_DlgObj,true);',
'{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation();',
'',
'{UXPRERENDEREDALIAS}_DlgObj._tabPaneChange(\'TAB_PROFILE\');',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'var listObj = {UXPRERENDEREDALIAS}_DlgObj.getControl(\'LISTHIDDEN\');',
'if(listObj) listObj._state.recordCount = 0;',
'if(listObj) listObj._state.recordCountFormatted = \'0\';',
'if(listObj) listObj._state.lastBreakValue = \'<None>\';',
'if(listObj) listObj._state.pageCount = -0;',
'if(listObj) listObj._state.pageSize = 20;',
'if(listObj) {var ele = $(\'{UXPRERENDEREDALIAS}.listHidden.RECORDCOUNT\'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};',
'if(listObj) listObj._state.paginated = false;',
'if(listObj) listObj._state._optimizedJSON = true;',
'if(listObj) listObj._state.filter = \'1=2\';',
'if(listObj) listObj._state.having = \'\';',
'if(listObj) listObj._state.order = \'\';',
'if(listObj) listObj._state.filterParameters = \'\';',
'if(listObj) listObj._state.highlight = {  };',
'if(listObj) listObj._state.whereClause = \'ID = 1  AND  1 = 2\';',
'if(listObj) listObj._state.whereParameters = \'\';',
'\t\t',
'\t\tvar flagPersist = false;',
'\t\tif(typeof listObj._flagPersistDataOK != \'undefined\') { ',
'\t\t\tif(listObj._flagPersistDataOK) { ',
'\t\t\t\tvar data = listObj._data;',
'\t\t\t\tlistObj.persistToStorage({mode:\'populate\', data: data});',
'\t\t\t}',
'\t\t}',
'\t\t',
'\t\t',
';',
'if(listObj) listObj._state.pageCount = -0;',
'{UXPRERENDEREDALIAS}_DlgObj._list_executeEvent(\'LISTHIDDEN\',\'afterRenderComplete\',{});',
'',
'if(listObj._refreshStateMessages) listObj._refreshStateMessages();',
'',
'',
'',
'',
'',
'',
'',
'',
'',
'setTimeout(function() { },0);',
'{UXPRERENDEREDALIAS}_DlgObj._listsWithJSFuncDataSource = {};',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onInitializeComplete\');',
'{UXPRERENDEREDALIAS}_DlgObj.initialized = true;',
'',
'',
'',
'',
'',
'',
'',
'{UXPRERENDEREDALIAS}_DlgObj._onRenderComplete = function() { {UXPRERENDEREDALIAS}_DlgObj._runJSOnLoad(); {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule(); }; ',
'',
'setTimeout(function() { var p = {UXPRERENDEREDALIAS}_DlgObj.panelGet(\'PANELNAVIGATOR\'); if(p._sizing == \'window\') { p._sizeWindow();} else { p.refresh(); } },100);',
'setTimeout(function() {{UXPRERENDEREDALIAS}_DlgObj._executeEvent(\'onRenderComplete\'); {UXPRERENDEREDALIAS}_DlgObj.flagRenderComplete = true;  {UXPRERENDEREDALIAS}_DlgObj._restoreFromLocalStorage(); },1);',
'',
'var o2 = \'portrait\';',
'if(window.innerHeight < window.innerWidth) o2 = \'landscape\';',
'{UXPRERENDEREDALIAS}_DlgObj._screen = {h: window.innerHeight, w: window.innerWidth, o: o2};',
'',
'{UXPRERENDEREDALIAS}_DlgObj._getOnlineStatus();',
'try {',
'window.addEventListener("offline",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'window.addEventListener("online",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });',
'} catch(err){}',
'',
'',
'setTimeout(function() {$e.execute(\'device.screen\',\'a5resize\')},1);',
'setTimeout(function() { },10);;',
'{UXPRERENDEREDALIAS}_DlgObj._activeLanguage = \'\';',
''].join('\n');
jsout = jsout.replace(/\{UXPRERENDERAJAXURL\}/g,'http://69.7.228.180/centerappv1/MYPROFILE.a5wcmp?__virtualPage=__a5runDialog.a5w&__dialogFilename=MYPROFILE&__alias={UXPRERENDEREDALIAS}&__unsaved=no');
jsout = jsout.replace(/\{UXPRERENDEREDALIAS\}/g,go.alias);
jsout = jsout.replace(/\{UXPRERENDEROUTPUTDIV\}/g,go.dialog2Div);
;return jsout}; 
